try{window.performance.mark("@atlaskit-media-client.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-media-client"],{"./node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("./node_modules/rxjs/operators/tap.js"),r=n("./node_modules/rxjs/operators/concatMap.js"),o=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js"),u=n("./node_modules/rxjs-async-map/out/index.js");function l(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var d=function(e){return function(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(l)},p=n("./node_modules/tslib/tslib.es6.js"),f=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");var h=function(e,t,n){return Object(o.fromPromise)(function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return"string"!=typeof e?[3,2]:[4,fetch(e).then((function(e){return e.blob()}))];case 1:return[2,t.sent()];case 2:return[2,e]}}))}))}(e)).pipe(Object(r.concatMap)((function(e){var o=t.chunkSize,a=n.onProgress,l=Math.ceil(e.size/o),h=function(e,t){var n=t.batchSize,i=t.prober;return e.pipe(Object(f.bufferCount)(n),Object(r.concatMap)((function(e){return i(e).then((function(t){return e.map((function(e,n){return Object(p.__assign)(Object(p.__assign)({},e),{exists:t[n]})}))}))})),Object(r.concatMap)((function(e){return Object(m.from)(e)})))}(function(e,t){var n=t.hasher,i=t.concurrency;return Object(u.asyncMap)(function(e){return function(t){return e(t).then((function(e){return{blob:t,hash:e+"-"+t.size}}))}}(n||d),i)(e)}(function(e,t){var n=t.size,i=Math.ceil(e.size/n);return Object(s.range)(0,i).pipe(Object(c.map)((function(t){return e.slice(t*n,(t+1)*n)})))}(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction}),b=0,v=function(e,t){return e.pipe(Object(u.asyncMap)((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(h,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(v=v.pipe(Object(i.tap)((function(){a((b+=1)/l)})))),function(e,t){return e.pipe(Object(f.bufferCount)(t.batchSize)).pipe(Object(r.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(v,{batchSize:t.processingBatchSize,processor:t.processingFunction})})))},b=function(e,t,n){return function(e){var t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:function(){n.unsubscribe(),t.error("canceled")}}}(h(e,t,n))}},"./node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),s={},c=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new r.ReplaySubject(1),a=Object(i.a)({id:e},t),s=Object(o.h)({data:a});return n.next(s),n},e.prototype.populateCache=function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);Object(a.b)().set(e.id,n)}))},e.prototype.removeFromCache=function(e,t){var n=s[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(Object(a.b)().remove(e),s[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;s[e]||(s[e]=function(){return{items:[],subject:new r.ReplaySubject(1),isLoadingNextPage:!1}}());var o=s[e],a=o.subject;return this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{details:"full"})).then((function(e){var t=e.data,i=t.contents,r=t.nextInclusiveStartKey;n.populateCache(i),o.items=e.data.contents,o.nextInclusiveStartKey=r,a.next(o.items)})).catch((function(e){return a.error(e)})),a},e.prototype.removeFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return i.sent(),this.removeFromCache(e,t),(r=s[t]).subject.next(r.items),[2]}}))}))},e.prototype.loadNextPage=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,c,u,l,d,p,f,m,h;return Object(i.d)(this,(function(b){switch(b.label){case 0:return n=s[e],r=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!r?(n.isLoadingNextPage=!0,o=s[e],a=o.nextInclusiveStartKey,c=o.items,u=o.subject,[4,this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return l=b.sent(),d=l.data,p=d.contents,f=d.nextInclusiveStartKey,this.populateCache(p),m=l.data.contents,h=Object(i.g)(c,m),u.next(h),s[e]={items:h,nextInclusiveStartKey:f,subject:u,isLoadingNextPage:!1},[2]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/dataloader/index.js"),s=n.n(a),c=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),u=n("./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js"),l=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),d=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),p=n("./node_modules/@atlaskit/media-client/dist/esm/uploader.js"),f=n("./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),m=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),h=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),b=n("./node_modules/uuid-validate/index.js"),v=n.n(b),y=n("./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),g=function(e,t){return Object(l.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},j=n("./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),_=function(e){return new Promise((function(t,n){var i=URL.createObjectURL(e),r=new Image;r.src=i,r.onload=function(){var e={width:r.width,height:r.height};URL.revokeObjectURL(i),t(e)},r.onerror=n}))},x=n("./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),w=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),O=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),k=function(e,t,n){return("doc"===e||!Object(w.d)(t)||!n)&&Object(O.d)(t)},S=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js"),I={poll_intervalMs:Object(S.a)("poll_intervalMs"),poll_maxAttempts:Object(S.a)("poll_maxAttempts"),poll_backoffFactor:Object(S.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(S.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(S.a)("poll_maxGlobalFailures")},T=function(){function e(e){this.poll_intervalMs=0,this.attempt=1,this.shouldIterate=!0,this.timeoutId=0,this.options=Object(i.a)(Object(i.a)({},I),e),this.poll_intervalMs=this.options.poll_intervalMs}return e.prototype.execute=function(t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(n=this.options,r=n.poll_maxAttempts,o=n.poll_maxGlobalFailures,e.failures>=o)return[2,this.fail(new Error("Maximum failures exceeded"))];if(0===r)return[2,this.fail(new Error("Maximum attempts exceeded"))];i.label=1;case 1:return i.trys.push([1,3,,4]),this.shouldIterate=!1,[4,t()];case 2:return i.sent(),this.shouldIterate&&(this.attempt++,this.attempt<=r?(this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt-1),this.timeoutId=window.setTimeout((function(){return s.execute(t)}),this.poll_intervalMs)):this.fail(new Error("Maximum attempts exceeded"))),[3,4];case 3:return a=i.sent(),this.fail(a),[3,4];case 4:return[2]}}))}))},e.prototype.fail=function(t){var n=this.onError;e.failures+=1,this.cancel(),n&&n(t)},e.prototype.getIntervalMsForIteration=function(e){var t=this.options.poll_intervalMs;if(1===e)return t;for(var n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)},e.prototype.next=function(){this.shouldIterate=!0},e.prototype.cancel=function(){window.clearTimeout(this.timeoutId),this.timeoutId=0},e.failures=0,e}(),F=function(e,t){return t?e+"-"+t:e},A=function(e){return e.error instanceof Error},P=function(e,t){var n=t.reduce((function(e,t){var n=t.id,i=t.collection;return e[F(n,i)]=A(t)?t:t.details,e}),{});return e.map((function(e){var t=e.id,i=e.collection,r=F(t,i);return n[r]}))},E=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r=this;return Object(i.d)(this,(function(o){switch(o.label){case 0:return"__media-single-file-collection__",t=e.reduce((function(e,t){var n=t.collection||"__media-single-file-collection__",i=e[n]||[];return i.push(t.id),e[n]=i,e}),{}),n=[],[4,Promise.all(Object.keys(t).map((function(e){return Object(i.b)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.d)(this,(function(c){switch(c.label){case 0:r=t[e],o="__media-single-file-collection__"===e?void 0:e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.mediaStore.getItems(r,o)];case 2:return a=c.sent(),n.push.apply(n,Object(i.g)(a.data.items)),[3,4];case 3:return s=c.sent(),r.forEach((function(e){n.push({id:e,error:s||new Error("Failed to fetch"),collection:o})})),[3,4];case 4:return[2]}}))}))})))];case 1:return o.sent(),[2,P(e,n)]}}))}))},this.createDownloadFileStream=function(e,n){var r=Object(x.a)(),o=t.mediaStore.featureFlags,a={poll_intervalMs:Object(S.a)("poll_intervalMs",o),poll_maxAttempts:Object(S.a)("poll_maxAttempts",o),poll_backoffFactor:Object(S.a)("poll_backoffFactor",o),poll_maxIntervalMs:Object(S.a)("poll_maxIntervalMs",o),poll_maxGlobalFailures:o&&o.poll_maxGlobalFailures},s=new T(a);return s.onError=function(e){return r.error(e)},s.execute((function(){return Object(i.b)(t,void 0,void 0,(function(){var t,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.dataloader.load({id:e,collection:n})];case 1:if(!(t=i.sent()))return[2];if(A(t))return r.error(t),[2];switch(o=Object(l.i)(e,t),r.next(o),o.status){case"processing":s.next();break;case"processed":r.complete()}return[2]}}))}))})),r},this.dataloader=new s.a(this.batchLoadingFunc,{maxBatchSize:100})}return e.prototype.getFileState=function(e,t){var n=this;if(!v()(e)){var i=Object(x.a)();return i.error("invalid id was passed to getFileState"),i}return Object(d.b)().getOrInsert(e,(function(){var i=t&&t.collectionName;return n.createDownloadFileStream(e,i)}))},e.prototype.getCurrentState=function(e,t){return Object(j.a)(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=o()(),n=o()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((function(e){return e.created[0].uploadId}))}},e.prototype.uploadExternal=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,p=this;return Object(i.d)(this,(function(f){return n=this.generateUploadableFileUpfrontIds(t),r=n.id,o=n.occurrenceKey,a=Object(x.a)(),s=fetch(e).then((function(e){return e.blob()})).catch((function(){})),c=new Promise((function(e,t){return Object(i.b)(p,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(n=i.sent())||t("Could not fetch the blob"),e({value:n,origin:"remote"}),[2]}}))}))})),u=e.split("/").pop()||"",l={status:"processing",name:u,size:0,mediaType:"unknown",mimeType:"",id:r,occurrenceKey:o,preview:c},a.next(l),Object(d.b)().set(r,a),[2,new Promise((function(e,l){return Object(i.b)(p,void 0,void 0,(function(){var d,p,f,m,h,b;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(d=i.sent())?(p=d.type,f=d.size,m={content:d,mimeType:p,collection:t,name:u},h=Object(y.a)(p),a.next({status:"processing",name:u,size:f,mediaType:h,mimeType:p,id:r,occurrenceKey:o,preview:c}),this.upload(m,void 0,n),[4,_(d)]):[2,l("Could not download remote file")];case 2:return b=i.sent(),e({dimensions:b,uploadableFileUpfrontIds:n}),[2]}}))}))}))]}))}))},e.prototype.upload=function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),i=[],r=function(e){var t=n.slice(e,e+512),r=t.split("").map((function(e,n){return t.charCodeAt(n)})),o=new Uint8Array(r);i.push(o)},o=0;o<n.length;o+=512)r(o);return new Blob(i,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var u,l,f=n.id,m=n.occurrenceKey,h="",b=0,v=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(y.a)(t)}return"unknown"}(e),j=Object(x.a)();o instanceof Blob&&(b=o.size,h=o.type,Object(w.d)(o.type)&&(u={value:o,origin:"local"}));var _={id:f,occurrenceKey:m,name:s,size:b,mediaType:v,mimeType:h,preview:u},O=function(e){j.next(Object(i.a)(Object(i.a)({status:"uploading"},_),{progress:e}))},S=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e){if("canceled"!==e){var t=e instanceof Error?e.message:e;j.next({id:f,status:"error",message:t})}return j.error(e)}k(v,h,u)?l=r.createDownloadFileStream(f,c).subscribe({next:function(e){return j.next(Object(i.a)(Object(i.a)(Object(i.a)({},_),e),g(e,v)))},error:function(e){return j.error(e)},complete:function(){return j.complete()}}):(j.next(Object(i.a)({status:"processing",representations:{}},_)),j.complete())},onProgress:O}).cancel;return Object(d.b)().set(f,j),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){S(),l&&l.unsubscribe()})),j},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return r=i.sent(),Object(u.a)(r,{name:t}),f.a.emit("media-viewed",{fileId:e,isUserCollection:n===m.c,viewingLevel:"download"}),[2]}}))}))},e.prototype.copyFile=function(e,t,n){return void 0===n&&(n={}),Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s,u,p,f,m,b,v,j,_,w,O,S,I,T,F,A,P,E,C,U,M,L,R,B;return Object(i.d)(this,(function(z){switch(z.label){case 0:return r=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,u=t.collection,p=t.replaceFileId,f=t.occurrenceKey,m=n.preview,b=n.mimeType,v=t.mediaStore||new h.a({authProvider:s}),_=c.authToOwner,[4,r({collectionName:o})];case 1:j=_.apply(void 0,[z.sent()]),w={sourceFile:{id:a,collection:o,owner:j}},O={collection:u,replaceFileId:p,occurrenceKey:f},S=Object(d.b)(),z.label=2;case 2:return z.trys.push([2,4,,5]),[4,v.copyFileWithToken(w,O)];case 3:return T=z.sent().data,F=Object(i.a)(Object(i.a)({},T),b?{mimeType:b}:void 0),A=F.id,P=F.mimeType,E=P?Object(y.a)(P):"unknown",C=Object(l.h)({data:F}),B=S.get(A),U=B||Object(x.a)(),M=!Object(l.a)(C)&&m?{preview:m}:{},!Object(l.b)(C)&&P&&k(E,P,m)?(U.next(Object(i.a)(Object(i.a)(Object(i.a)({},C),g(C,E)),M)),I=this.createDownloadFileStream(A,u).subscribe({next:function(e){return U.next(Object(i.a)(Object(i.a)(Object(i.a)({},e),g(e,E)),!Object(l.a)(e)&&M))},error:function(e){return U.error(e)},complete:function(){return U.complete()}})):Object(l.f)(C)||U.next(Object(i.a)(Object(i.a)({},C),!Object(l.a)(C)&&M)),S.has(A)||Object(d.b)().set(A,U),[2,T];case 4:throw L=z.sent(),I&&I.unsubscribe(),p&&(R={id:a,status:"error",message:"error copying file to "+u},(B=S.get(p))?B.next(R):S.set(a,Object(x.a)(R))),L;case 5:return[2]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),s=n("./node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),c=n("./node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),u=function(){function e(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new o.a({authProvider:e.authProvider},t),this.config=e,this.collection=new a.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new r.EventEmitter2,this.stargate=new c.a(e.stargateBaseUrl)}return e.prototype.getImage=function(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}}))}))},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),s={"max-age":a.a,allowAnimated:!0,mode:"crop"},c={limit:30,sortDirection:"desc"},u=function(e,t){return void 0===t&&(t=!1),Object(i.a)(Object(i.a)(Object(i.a)({},s),e),t?{width:a.b,height:a.b}:{})},l={Accept:"application/json","Content-Type":"application/json"},d=function(){function e(e,t){var n=this;this.config=e,this.featureFlags=t,this.getFile=function(e,t){return void 0===t&&(t={}),n.request("/file/"+e,{params:t,authContext:{collectionName:t.collection}}).then(r.d)},this.getFileImageURL=function(e,t){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider()];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/image",{params:u(t),auth:n})]}}))}))},this.getArtifactURL=function(e,t,s){return Object(i.b)(n,void 0,void 0,(function(){var n,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(!(n=Object(o.a)(e,t)))throw new Error("artifact "+t+" not found");return[4,this.config.authProvider({collectionName:s})];case 1:return c=i.sent(),[2,Object(r.a)(""+c.baseUrl+n,{params:{collection:s,"max-age":a.a},auth:c})]}}))}))},this.getImage=function(e,t,o,a){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){return!1,[2,this.request("/file/"+e+"/image",{headers:n,params:u(t,a),authContext:{collectionName:t&&t.collection}},o).then(r.c)]}))}))},this.getItems=function(e,t){var i=e.map((function(e){return{type:"file",id:e,collection:t}}));return n.request("/items",{method:"POST",body:JSON.stringify({descriptors:i}),headers:l,authContext:{collectionName:t}}).then(r.d)},this.getImageMetadata=function(e,t){return n.request("/file/"+e+"/image/metadata",{params:t,authContext:{collectionName:t&&t.collection}}).then(r.d)}}return e.prototype.getCollectionItems=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,o,a,s;return Object(i.d)(this,(function(u){switch(u.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(i.a)(Object(i.a)({},c),t),headers:{Accept:"application/json"}})];case 1:return n=u.sent(),[4,Object(r.d)(n)];case 2:return o=u.sent().data,a=o.contents,s=o.nextInclusiveStartKey,[2,{data:{contents:a.filter((function(e){return e.details.size&&e.details.size>0})),nextInclusiveStartKey:s}}]}}))}))},e.prototype.removeCollectionFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return i.sent(),[2]}}))}))},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(r.d)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(r.e)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:l}).then(r.d)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:l}).then(r.d)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:l,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(r.d)},e.prototype.getFileBinaryURL=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider({collectionName:t})];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:t,"max-age":a.a},auth:n})]}}))}))},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:l}).then(r.e)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:l,params:t}).then(r.d)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(i.b)(this,void 0,void 0,(function(){var o,a,s,c,u,l,d,p;return Object(i.d)(this,(function(i){switch(i.label){case 0:return o=this.config.authProvider,a=t.method,s=t.authContext,c=t.params,u=t.headers,l=t.body,[4,o(s)];case 1:return d=i.sent(),[4,Object(r.f)(""+d.baseUrl+e,{method:a,auth:d,params:c,headers:u,body:l},n)];case 2:return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}((p=i.sent()).headers.get("x-media-region")),[2,p]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=function(){function e(e){this.baseUrl=e||"/gateway/api"}return e.prototype.fetchToken=function(e){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.baseUrl+"/media/auth/smartedge",{credentials:"include",headers:{"x-client-id":e}})];case 1:return[2,t.sent().json()]}}))}))},e.prototype.isTokenExpired=function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0},e}()},"./node_modules/@atlaskit/media-client/dist/esm/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i="recents",r=2592e3,o=4096},"./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,r=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!1,configurable:!0}),e}(),o=function(){if(!i){var e=n("./node_modules/@atlaskit/media-core/dist/esm/index.js").mediaState;i=new r(e.streams)}return i}},"./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),r={on:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-client/dist/esm/identifier.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("./node_modules/deep-equal/index.js"),r=n.n(i),o=function(e){return"file"===e.mediaItemType},a=function(e){return"external-image"===e.mediaItemType},s=function(e,t){return o(e)&&o(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!r()(e,t)}},"./node_modules/@atlaskit/media-client/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MediaStore",(function(){return r.a})),n.d(t,"UploadController",(function(){return o.a})),n.d(t,"isPreviewableType",(function(){return a.b})),n.d(t,"isMediaCollectionItemFullDetails",(function(){return a.a})),n.d(t,"getArtifactUrl",(function(){return s.a})),n.d(t,"isUploadingFileState",(function(){return c.g})),n.d(t,"isProcessingFileState",(function(){return c.f})),n.d(t,"isProcessedFileState",(function(){return c.e})),n.d(t,"isErrorFileState",(function(){return c.a})),n.d(t,"isPreviewableFileState",(function(){return c.d})),n.d(t,"isFinalFileState",(function(){return c.b})),n.d(t,"isImageRepresentationReady",(function(){return c.c})),n.d(t,"mapMediaFileToFileState",(function(){return c.h})),n.d(t,"mapMediaItemToFileState",(function(){return c.i})),n.d(t,"getFileStreamsCache",(function(){return u.b})),n.d(t,"StreamsCache",(function(){return u.a})),n.d(t,"uploadFile",(function(){return l.a})),n.d(t,"isAbortedRequestError",(function(){return d.b})),n.d(t,"request",(function(){return d.f})),n.d(t,"mapResponseToJson",(function(){return d.d})),n.d(t,"mapResponseToBlob",(function(){return d.c})),n.d(t,"mapResponseToVoid",(function(){return d.e})),n.d(t,"createUrl",(function(){return d.a})),n.d(t,"FileFetcherImpl",(function(){return p.a})),n.d(t,"CollectionFetcher",(function(){return f.a})),n.d(t,"MediaClient",(function(){return m.a})),n.d(t,"StargateClient",(function(){return h.a})),n.d(t,"isImageRemote",(function(){return b.a})),n.d(t,"checkWebpSupport",(function(){return v})),n.d(t,"observableToPromise",(function(){return y.a})),n.d(t,"getMediaTypeFromMimeType",(function(){return g.a})),n.d(t,"isImageMimeTypeSupportedByBrowser",(function(){return j.c})),n.d(t,"isDocumentMimeTypeSupportedByBrowser",(function(){return j.b})),n.d(t,"isMimeTypeSupportedByBrowser",(function(){return j.d})),n.d(t,"isImageMimeTypeSupportedByServer",(function(){return _.c})),n.d(t,"isDocumentMimeTypeSupportedByServer",(function(){return _.b})),n.d(t,"isAudioMimeTypeSupportedByServer",(function(){return _.a})),n.d(t,"isVideoMimeTypeSupportedByServer",(function(){return _.f})),n.d(t,"isUnknownMimeTypeSupportedByServer",(function(){return _.e})),n.d(t,"isMimeTypeSupportedByServer",(function(){return _.d})),n.d(t,"createFileStateSubject",(function(){return x.a})),n.d(t,"safeUnsubscribe",(function(){return w})),n.d(t,"isFileIdentifier",(function(){return O.c})),n.d(t,"isExternalImageIdentifier",(function(){return O.b})),n.d(t,"isDifferentIdentifier",(function(){return O.a})),n.d(t,"withMediaClient",(function(){return k.b})),n.d(t,"getMediaClient",(function(){return k.a})),n.d(t,"globalMediaEventEmitter",(function(){return S.a})),n.d(t,"isMediaBlobUrl",(function(){return I.c})),n.d(t,"getAttrsFromUrl",(function(){return I.b})),n.d(t,"addFileAttrsToUrl",(function(){return I.a})),n.d(t,"objectToQueryString",(function(){return I.d})),n.d(t,"RECENTS_COLLECTION",(function(){return T.c})),n.d(t,"MAX_RESOLUTION",(function(){return T.b}));var i,r=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/upload-controller.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/models/media.js"),s=n("./node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),c=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),u=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),l=n("./node_modules/@atlaskit/media-client/dist/esm/uploader.js"),d=n("./node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),p=n("./node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),f=n("./node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),m=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),h=n("./node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),b=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isImageRemote.js"),v=function(){return void 0!==i?Promise.resolve(i):new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){i=2===t.height,e(i)}}))},y=n("./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),g=n("./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),j=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),_=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),x=n("./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),w=function(e){console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((function(){return e&&e.unsubscribe()}),0)},O=n("./node_modules/@atlaskit/media-client/dist/esm/identifier.js"),k=n("./node_modules/@atlaskit/media-client/dist/esm/utils/with-media-client-hoc.js"),S=n("./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),I=n("./node_modules/@atlaskit/media-client/dist/esm/utils/url.js"),T=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js")},"./node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=function(e){return"uploading"===e.status},o=function(e){return"processing"===e.status},a=function(e){return"processed"===e.status},s=function(e){return"error"===e.status},c=function(e){return!s(e)&&!!e.preview},u=function(e){return["processed","failed-processing","error"].includes(e.status)},l=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},d=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return Object(i.a)(Object(i.a)({},c),{status:"processing"});case"succeeded":return Object(i.a)(Object(i.a)({},c),{status:"processed"});case"failed":return Object(i.a)(Object(i.a)({},c),{status:"failed-processing"})}},p=function(e,t){return d({data:Object(i.a)({id:e},t)})}},"./node_modules/@atlaskit/media-client/dist/esm/models/media.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js"),o=function(e,t){var n=["audio","video","image"];return Object(r.a)("newCardExperience",t)?Object(i.g)(n,["doc"]).indexOf(e)>-1:n.indexOf(e)>-1},a=function(e){return!!e.mediaType&&!!e.mimeType&&!!e.processingStatus}},"./node_modules/@atlaskit/media-client/dist/esm/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.prototype.setAbort=function(e){this.abortFunction=e},e.prototype.abort=function(){this.abortFunction&&this.abortFunction()},e}()},"./node_modules/@atlaskit/media-client/dist/esm/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js"),o=null,a=function(){return Object(i.b)(void 0,void 0,void 0,(function(){var e,t,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(e=3,o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,n.e("229dc7ab498").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/esm/utils/hashing/workerHasher.js"))];case 2:return t=i.sent().WorkerHasher,o=new t(e),[3,5];case 3:return i.sent(),[4,n.e("229dc7ab497").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/esm/utils/hashing/simpleHasher.js"))];case 4:return r=i.sent().SimpleHasher,o=new r,[3,5];case 5:return[2,o]}}))}))},s=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:return[2,t.sent().hash(e)]}}))}))},c=function(e,t){return function(n){return Object(i.b)(void 0,void 0,void 0,(function(){var r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,e.probeChunks(p(n),t)];case 1:return r=i.sent(),o=r.data.results,[2,Object.values(o).map((function(e){return e.exists}))]}}))}))}},u=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},l=function(e,t,n){var r=0;return function(o){return Object(i.b)(void 0,void 0,void 0,(function(){var a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[i.sent(),{chunks:p(o),offset:r},n])];case 2:return i.sent(),r+=o.length,[2]}}))}))}},d=function(e,t,n,o){var a=e.content,d=e.collection,p=e.name,f=e.mimeType,m=n.id,h=n.occurrenceKey,b=n.deferredUploadId,v=Object(r.a)(a,{hashingFunction:s,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:u(t,d),probingFunction:c(t,d),processingBatchSize:1e3,processingFunction:l(t,b,d)},{onProgress:function(e){o&&o.onProgress(e)}}),y=v.response,g=v.cancel,j=o&&o.onUploadFinish||function(){};return Promise.all([b,y]).then((function(e){var n=Object(i.e)(e,1)[0];return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:p,mimeType:f},{occurrenceKey:h,collection:d,replaceFileId:m})];case 1:return e.sent(),j(),[2]}}))}))})).catch(j),{cancel:g}},p=function(e){return e.map((function(e){return e.hash}))}},"./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/rxjs/ReplaySubject.js"),r=function(e){var t=new i.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),r=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),o=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(i.c)(e)||Object(r.c)(e)?"image":Object(i.b)(e)||Object(r.b)(e)?"doc":Object(i.a)(e)||Object(r.a)(e)?"audio":Object(i.e)(e)||Object(r.f)(e)?"video":"unknown"}},"./node_modules/@atlaskit/media-client/dist/esm/utils/isImageRemote.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){if(void 0===t&&(t=window.location.origin),URL&&URL.prototype){var n=new URL(e);return!!n.host&&n.origin!==t}return!0}},"./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var i=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},r=function(e){return"application/pdf"===e.toLowerCase()},o=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||i(e)||o(e)||a(e)}},"./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},r=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},o=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},s=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},c=function(e){return i(e)||r(e)||o(e)||a(e)||s(e)}},"./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return new Promise((function(t){return e.subscribe({next:function(e){t(e),this.unsubscribe()}})}))}},"./node_modules/@atlaskit/media-client/dist/esm/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.statusCode=n,i}return Object(i.c)(t,e),t}(Error),s=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return e.ok||e.redirected?[2,e]:[3,1];case 1:return[4,e.text()];case 2:throw t=n.sent(),new a("Got error code "+e.status+": "+t,e.status)}}))}))};function c(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,a=t.auth,c=t.params,u=t.headers,l=t.body,d=t.retryOptions;return function(e,t){void 0===t&&(t={});return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u=this;return Object(i.d)(this,(function(l){switch(l.label){case 0:n=Object(i.a)(Object(i.a)({},m),t),r=n.startTimeoutInMs,o=function(){return Object(i.b)(u,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,h(r)];case 1:return e.sent(),r*=n.factor,[2]}}))}))},a=1,l.label=1;case 1:if(!(a<=n.attempts))return[3,9];l.label=2;case 2:return l.trys.push([2,4,,8]),[4,e()];case 3:return[2,l.sent()];case 4:return s=l.sent(),b(s)?[2,Promise.reject(s)]:(c=a===n.attempts,function(e){return!(e instanceof TypeError)}(s)&&s.statusCode<500||c?[2,Promise.reject(new Error("The call did not succeed after "+a+" attempts. Last error is "+s.message))]:[3,5]);case 5:return[4,o()];case 6:l.sent(),l.label=7;case 7:return[3,8];case 8:return a++,[3,1];case 9:return[2,Promise.reject(new Error("Exhaused all attempts"))]}}))}))}((function(){return fetch(p(e,{params:c}),{method:o,body:l,headers:f(a)(u),signal:n&&n.signal}).then(s)}),void 0===d?{}:d)}function u(e){return e.json()}function l(e){return e.blob()}function d(){return Promise.resolve()}function p(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(r.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,u=s.queryParams,l=a&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),d=Object(r.stringify)(Object(i.a)(Object(i.a)(Object(i.a)({},u),n),l));return c+(d.length>0?"?"+d:"")}function f(e){return function(t){return e?Object(i.a)(Object(i.a)({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}var m={attempts:5,startTimeoutInMs:1e3,factor:2},h=function(e){return new Promise((function(t){setTimeout(t,e)}))},b=function(e){return"request_cancelled"===e.message||"AbortError"===e.name}},"./node_modules/@atlaskit/media-client/dist/esm/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js"),o=n.n(r),a=function(e){return e.indexOf("media-blob-url=true")>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},c=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},u=function(e){var t=new URL(e).hash.replace("#",""),n=new o.a(t),i=n.get("id"),r=n.get("contextId");if(i&&r)return{id:i,contextId:r,collection:c(n,"collection"),alt:c(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:c(n,"name"),mimeType:c(n,"mimeType")}},l=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return encodeURIComponent(t)+"="+encodeURIComponent(n.toString())})).join("&")},d=function(e,t){var n;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var r=((n={})["media-blob-url"]="true",n),o=Object(i.a)(Object(i.a)({},r),t);return e+"#"+l(o)}},"./node_modules/@atlaskit/media-client/dist/esm/utils/with-media-client-hoc.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),s=new Map,c=function(e,t){var n=s.get(e);return n||(n=new a.a(e,t),s.set(e,n)),n},u=function(e,t){return function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Object(i.c)(r,n),r.prototype.render=function(){var n=this.props,r=n.mediaClientConfig,s=Object(i.f)(n,["mediaClientConfig"]),u=r?c(r,t):function(e){var t={authProvider:function(){return Promise.resolve({clientId:"",token:"",baseUrl:""})}};return new a.a(t,e)}(t);return o.a.createElement(e,Object(i.a)({},s,{mediaClient:u}))},r}(o.a.Component)}},"./node_modules/@atlaskit/media-client/node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("./node_modules/rxjs/operators/tap.js"),r=n("./node_modules/rxjs/operators/concatMap.js"),o=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js"),u=n("./node_modules/rxjs-async-map/out/index.js");function l(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var d=function(e){return function(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(l)},p=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),f=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");var h=function(e,t,n){return Object(o.fromPromise)(function(e){return Object(p.b)(this,void 0,void 0,(function(){return Object(p.d)(this,(function(t){switch(t.label){case 0:return"string"!=typeof e?[3,2]:[4,fetch(e).then((function(e){return e.blob()}))];case 1:return[2,t.sent()];case 2:return[2,e]}}))}))}(e)).pipe(Object(r.concatMap)((function(e){var o=t.chunkSize,a=n.onProgress,l=Math.ceil(e.size/o),h=function(e,t){var n=t.batchSize,i=t.prober;return e.pipe(Object(f.bufferCount)(n),Object(r.concatMap)((function(e){return i(e).then((function(t){return e.map((function(e,n){return Object(p.a)(Object(p.a)({},e),{exists:t[n]})}))}))})),Object(r.concatMap)((function(e){return Object(m.from)(e)})))}(function(e,t){var n=t.hasher,i=t.concurrency;return Object(u.asyncMap)(function(e){return function(t){return e(t).then((function(e){return{blob:t,hash:e+"-"+t.size}}))}}(n||d),i)(e)}(function(e,t){var n=t.size,i=Math.ceil(e.size/n);return Object(s.range)(0,i).pipe(Object(c.map)((function(t){return e.slice(t*n,(t+1)*n)})))}(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction}),b=0,v=function(e,t){return e.pipe(Object(u.asyncMap)((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(h,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(v=v.pipe(Object(i.tap)((function(){a((b+=1)/l)})))),function(e,t){return e.pipe(Object(f.bufferCount)(t.batchSize)).pipe(Object(r.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(v,{batchSize:t.processingBatchSize,processor:t.processingFunction})})))},b=function(e,t,n){return function(e){var t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:function(){n.unsubscribe(),t.error("canceled")}}}(h(e,t,n))}},"./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}Object.create},"./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,r,o,a,s,c=Object.create(null);if(this[u]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(o=e.split("&")).length;a<s;a++)-1<(t=(r=o[a]).indexOf("="))?l(c,d(r.slice(0,t)),d(r.slice(t+1))):r.length&&l(c,d(r),"");else if(i(e))for(a=0,s=e.length;a<s;a++)l(c,(r=e[a])[0],r[1]);else for(n in e)l(c,n,e[n])}var i=Array.isArray,r=n.prototype,o=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},u="__URLSearchParams__:"+Math.random();function l(e,t,n){t in e?e[t].push(""+n):e[t]=i(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(o,c)}r.append=function(e,t){l(this[u],e,t)},r.delete=function(e){delete this[u][e]},r.get=function(e){var t=this[u];return e in t?t[e][0]:null},r.getAll=function(e){var t=this[u];return e in t?t[e].slice(0):[]},r.has=function(e){return e in this[u]},r.set=function(e,t){this[u][e]=[""+t]},r.forEach=function(e,t){var n=this[u];Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){e.call(t,n,i,this)}),this)}),this)},r.toJSON=function(){return{}},r.toString=function(){var e,t,n,i,r=this[u],o=[];for(t in r)for(n=p(t),e=0,i=r[t];e<i.length;e++)o.push(n+"="+p(i[e]));return o.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){!i.length||i in n||(n[i]=this.getAll(i)).forEach((function(n){e.call(t,n,i,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,i=this.entries(),r=i.next(),o=r.done,a=[],s=Object.create(null);!o;)t=(n=r.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),o=(r=i.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=!!window.MSInputMethodContext&&!!document.documentMode,i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r="media-download-iframe",o=document.createElement("a"),a=document.getElementById(r);a||((a=document.createElement("iframe")).style.display="none",a.id=r,a.name=r,document.body.appendChild(a)),o.href=e,t&&t.name&&(o.download=t.name),o.target=n||i?"_blank":r,document.body.appendChild(o),o.click(),document.body.removeChild(o)}},"./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=function(e){return"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(e):null},r={newCardExperience:!1,zipPreviews:!1,captions:!1,folderUploads:!1,codeViewer:!1,poll_intervalMs:3e3,poll_maxAttempts:7,poll_backoffFactor:1.25,poll_maxIntervalMs:4e4,poll_maxGlobalFailures:10};function o(e,t){var n=i(e);if(null!==n)try{return JSON.parse(n)}catch(e){}return t&&e in t?t[e]:r[e]}Object.keys(r).forEach((function(e){var t=i(e);null!==t&&console.info("%c* LOCAL * MediaFeatureFlag."+e+" = "+t,"font-weight:bold;color:cyan")}))},"./node_modules/@atlaskit/media-core/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mediaState",(function(){return r})),n.d(t,"isClientBasedAuth",(function(){return o})),n.d(t,"isAsapBasedAuth",(function(){return a})),n.d(t,"authToOwner",(function(){return s}));var i=n("./node_modules/eventemitter2/lib/eventemitter2.js"),r={streams:new(n("./node_modules/lru-fast/lru.js").LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new i.EventEmitter2};function o(e){return!!e.clientId}function a(e){return!!e.asapIssuer}var s=function(e){return a(e)?e:{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i="recents",r=2592e3,o=4096},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),r={on:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/identifier.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("./node_modules/deep-equal/index.js"),r=n.n(i),o=function(e){return"file"===e.mediaItemType},a=function(e){return"external-image"===e.mediaItemType},s=function(e,t){return o(e)&&o(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!r()(e,t)}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MediaStore",(function(){return d})),n.d(t,"UploadController",(function(){return m})),n.d(t,"isPreviewableType",(function(){return b})),n.d(t,"isMediaCollectionItemFullDetails",(function(){return v})),n.d(t,"getArtifactUrl",(function(){return o.a})),n.d(t,"isUploadingFileState",(function(){return y.g})),n.d(t,"isProcessingFileState",(function(){return y.f})),n.d(t,"isProcessedFileState",(function(){return y.e})),n.d(t,"isErrorFileState",(function(){return y.a})),n.d(t,"isPreviewableFileState",(function(){return y.d})),n.d(t,"isFinalFileState",(function(){return y.b})),n.d(t,"isImageRepresentationReady",(function(){return y.c})),n.d(t,"mapMediaFileToFileState",(function(){return y.h})),n.d(t,"mapMediaItemToFileState",(function(){return y.i})),n.d(t,"getFileStreamsCache",(function(){return j})),n.d(t,"StreamsCache",(function(){return g})),n.d(t,"uploadFile",(function(){return T})),n.d(t,"isAbortedRequestError",(function(){return a.b})),n.d(t,"request",(function(){return a.f})),n.d(t,"mapResponseToJson",(function(){return a.d})),n.d(t,"mapResponseToBlob",(function(){return a.c})),n.d(t,"mapResponseToVoid",(function(){return a.e})),n.d(t,"createUrl",(function(){return a.a})),n.d(t,"FileFetcherImpl",(function(){return Z})),n.d(t,"CollectionFetcher",(function(){return te})),n.d(t,"MediaClient",(function(){return re})),n.d(t,"StargateClient",(function(){return ie})),n.d(t,"isImageRemote",(function(){return oe})),n.d(t,"checkWebpSupport",(function(){return ae})),n.d(t,"observableToPromise",(function(){return q})),n.d(t,"getMediaTypeFromMimeType",(function(){return z.a})),n.d(t,"isImageMimeTypeSupportedByBrowser",(function(){return G.c})),n.d(t,"isDocumentMimeTypeSupportedByBrowser",(function(){return G.b})),n.d(t,"isMimeTypeSupportedByBrowser",(function(){return G.d})),n.d(t,"isImageMimeTypeSupportedByServer",(function(){return W.c})),n.d(t,"isDocumentMimeTypeSupportedByServer",(function(){return W.b})),n.d(t,"isAudioMimeTypeSupportedByServer",(function(){return W.a})),n.d(t,"isVideoMimeTypeSupportedByServer",(function(){return W.f})),n.d(t,"isUnknownMimeTypeSupportedByServer",(function(){return W.e})),n.d(t,"isMimeTypeSupportedByServer",(function(){return W.d})),n.d(t,"createFileStateSubject",(function(){return J})),n.d(t,"safeUnsubscribe",(function(){return se})),n.d(t,"isFileIdentifier",(function(){return ce.c})),n.d(t,"isExternalImageIdentifier",(function(){return ce.b})),n.d(t,"isDifferentIdentifier",(function(){return ce.a})),n.d(t,"withMediaClient",(function(){return fe})),n.d(t,"getMediaClient",(function(){return pe})),n.d(t,"globalMediaEventEmitter",(function(){return L.a})),n.d(t,"isMediaBlobUrl",(function(){return me.c})),n.d(t,"getAttrsFromUrl",(function(){return me.b})),n.d(t,"addFileAttrsToUrl",(function(){return me.a})),n.d(t,"objectToQueryString",(function(){return me.d})),n.d(t,"RECENTS_COLLECTION",(function(){return r.c})),n.d(t,"MAX_RESOLUTION",(function(){return r.b}));var i=n("./node_modules/@atlaskit/media-image/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/constants.js"),o=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),a=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),s={"max-age":r.a,allowAnimated:!0,mode:"crop"},c={limit:30,sortDirection:"desc"},u=function(e,t){return void 0===t&&(t=!1),Object(i.a)(Object(i.a)(Object(i.a)({},s),e),t?{width:r.b,height:r.b}:{})},l={Accept:"application/json","Content-Type":"application/json"},d=function(){function e(e,t){var n=this;this.config=e,this.featureFlags=t,this.getFile=function(e,t){return void 0===t&&(t={}),n.request("/file/"+e,{params:t,authContext:{collectionName:t.collection}}).then(a.d)},this.getFileImageURL=function(e,t){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider()];case 1:return n=i.sent(),[2,Object(a.a)(n.baseUrl+"/file/"+e+"/image",{params:u(t),auth:n})]}}))}))},this.getArtifactURL=function(e,t,s){return Object(i.b)(n,void 0,void 0,(function(){var n,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(!(n=Object(o.a)(e,t)))throw new Error("artifact "+t+" not found");return[4,this.config.authProvider({collectionName:s})];case 1:return c=i.sent(),[2,Object(a.a)(""+c.baseUrl+n,{params:{collection:s,"max-age":r.a},auth:c})]}}))}))},this.getImage=function(e,t,r,o){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){return!1,[2,this.request("/file/"+e+"/image",{headers:n,params:u(t,o),authContext:{collectionName:t&&t.collection}},r).then(a.c)]}))}))},this.getItems=function(e,t){var i=e.map((function(e){return{type:"file",id:e,collection:t}}));return n.request("/items",{method:"POST",body:JSON.stringify({descriptors:i}),headers:l,authContext:{collectionName:t}}).then(a.d)},this.getImageMetadata=function(e,t){return n.request("/file/"+e+"/image/metadata",{params:t,authContext:{collectionName:t&&t.collection}}).then(a.d)}}return e.prototype.getCollectionItems=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,s;return Object(i.d)(this,(function(u){switch(u.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(i.a)(Object(i.a)({},c),t),headers:{Accept:"application/json"}})];case 1:return n=u.sent(),[4,Object(a.d)(n)];case 2:return r=u.sent().data,o=r.contents,s=r.nextInclusiveStartKey,[2,{data:{contents:o.filter((function(e){return e.details.size&&e.details.size>0})),nextInclusiveStartKey:s}}]}}))}))},e.prototype.removeCollectionFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return i.sent(),[2]}}))}))},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(a.d)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(a.e)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:l}).then(a.d)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:l}).then(a.d)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:l,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(a.d)},e.prototype.getFileBinaryURL=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider({collectionName:t})];case 1:return n=i.sent(),[2,Object(a.a)(n.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:t,"max-age":r.a},auth:n})]}}))}))},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:l}).then(a.e)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:l,params:t}).then(a.d)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(i.b)(this,void 0,void 0,(function(){var r,o,s,c,u,l,d,p;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r=this.config.authProvider,o=t.method,s=t.authContext,c=t.params,u=t.headers,l=t.body,[4,r(s)];case 1:return d=i.sent(),[4,Object(a.f)(""+d.baseUrl+e,{method:o,auth:d,params:c,headers:u,body:l},n)];case 2:return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}((p=i.sent()).headers.get("x-media-region")),[2,p]}}))}))},e}();var p,f,m=function(){function e(){}return e.prototype.setAbort=function(e){this.abortFunction=e},e.prototype.abort=function(){this.abortFunction&&this.abortFunction()},e}(),h=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js"),b=function(e,t){var n=["audio","video","image"];return Object(h.a)("newCardExperience",t)?Object(i.g)(n,["doc"]).indexOf(e)>-1:n.indexOf(e)>-1},v=function(e){return!!e.mediaType&&!!e.mimeType&&!!e.processingStatus},y=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),g=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!1,configurable:!0}),e}(),j=function(){if(!p){var e=n("./node_modules/@atlaskit/media-core/dist/esm/index.js").mediaState;p=new g(e.streams)}return p},_=n("./node_modules/@atlaskit/media-client/node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js"),x=null,w=function(){return Object(i.b)(void 0,void 0,void 0,(function(){var e,t,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(e=3,x)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,n.e("229dc7ab4910").then(n.bind(null,"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/workerHasher.js"))];case 2:return t=i.sent().WorkerHasher,x=new t(e),[3,5];case 3:return i.sent(),[4,n.e("229dc7ab499").then(n.bind(null,"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/simpleHasher.js"))];case 4:return r=i.sent().SimpleHasher,x=new r,[3,5];case 5:return[2,x]}}))}))},O=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,w()];case 1:return[2,t.sent().hash(e)]}}))}))},k=function(e,t){return function(n){return Object(i.b)(void 0,void 0,void 0,(function(){var r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,e.probeChunks(F(n),t)];case 1:return r=i.sent(),o=r.data.results,[2,Object.values(o).map((function(e){return e.exists}))]}}))}))}},S=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},I=function(e,t,n){var r=0;return function(o){return Object(i.b)(void 0,void 0,void 0,(function(){var a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[i.sent(),{chunks:F(o),offset:r},n])];case 2:return i.sent(),r+=o.length,[2]}}))}))}},T=function(e,t,n,r){var o=e.content,a=e.collection,s=e.name,c=e.mimeType,u=n.id,l=n.occurrenceKey,d=n.deferredUploadId,p=Object(_.a)(o,{hashingFunction:O,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:S(t,a),probingFunction:k(t,a),processingBatchSize:1e3,processingFunction:I(t,d,a)},{onProgress:function(e){r&&r.onProgress(e)}}),f=p.response,m=p.cancel,h=r&&r.onUploadFinish||function(){};return Promise.all([d,f]).then((function(e){var n=Object(i.e)(e,1)[0];return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:s,mimeType:c},{occurrenceKey:l,collection:a,replaceFileId:u})];case 1:return e.sent(),h(),[2]}}))}))})).catch(h),{cancel:m}},F=function(e){return e.map((function(e){return e.hash}))},A=n("./node_modules/uuid/v4.js"),P=n.n(A),E=n("./node_modules/dataloader/index.js"),C=n.n(E),U=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),M=n("./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js"),L=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),R=n("./node_modules/uuid-validate/index.js"),B=n.n(R),z=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),N=function(e,t){return Object(y.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},q=function(e){return new Promise((function(t){return e.subscribe({next:function(e){t(e),this.unsubscribe()}})}))},K=function(e){return new Promise((function(t,n){var i=URL.createObjectURL(e),r=new Image;r.src=i,r.onload=function(){var e={width:r.width,height:r.height};URL.revokeObjectURL(i),t(e)},r.onerror=n}))},D=n("./node_modules/rxjs/ReplaySubject.js"),J=function(e){var t=new D.ReplaySubject(1);return e&&t.next(e),t},G=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),W=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),$=function(e,t,n){return("doc"===e||!Object(G.d)(t)||!n)&&Object(W.d)(t)},H={poll_intervalMs:Object(h.a)("poll_intervalMs"),poll_maxAttempts:Object(h.a)("poll_maxAttempts"),poll_backoffFactor:Object(h.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(h.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(h.a)("poll_maxGlobalFailures")},V=function(){function e(e){this.poll_intervalMs=0,this.attempt=1,this.shouldIterate=!0,this.timeoutId=0,this.options=Object(i.a)(Object(i.a)({},H),e),this.poll_intervalMs=this.options.poll_intervalMs}return e.prototype.execute=function(t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(n=this.options,r=n.poll_maxAttempts,o=n.poll_maxGlobalFailures,e.failures>=o)return[2,this.fail(new Error("Maximum failures exceeded"))];if(0===r)return[2,this.fail(new Error("Maximum attempts exceeded"))];i.label=1;case 1:return i.trys.push([1,3,,4]),this.shouldIterate=!1,[4,t()];case 2:return i.sent(),this.shouldIterate&&(this.attempt++,this.attempt<=r?(this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt-1),this.timeoutId=window.setTimeout((function(){return s.execute(t)}),this.poll_intervalMs)):this.fail(new Error("Maximum attempts exceeded"))),[3,4];case 3:return a=i.sent(),this.fail(a),[3,4];case 4:return[2]}}))}))},e.prototype.fail=function(t){var n=this.onError;e.failures+=1,this.cancel(),n&&n(t)},e.prototype.getIntervalMsForIteration=function(e){var t=this.options.poll_intervalMs;if(1===e)return t;for(var n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)},e.prototype.next=function(){this.shouldIterate=!0},e.prototype.cancel=function(){window.clearTimeout(this.timeoutId),this.timeoutId=0},e.failures=0,e}(),X=function(e,t){return t?e+"-"+t:e},Q=function(e){return e.error instanceof Error},Y=function(e,t){var n=t.reduce((function(e,t){var n=t.id,i=t.collection;return e[X(n,i)]=Q(t)?t:t.details,e}),{});return e.map((function(e){var t=e.id,i=e.collection,r=X(t,i);return n[r]}))},Z=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r=this;return Object(i.d)(this,(function(o){switch(o.label){case 0:return"__media-single-file-collection__",t=e.reduce((function(e,t){var n=t.collection||"__media-single-file-collection__",i=e[n]||[];return i.push(t.id),e[n]=i,e}),{}),n=[],[4,Promise.all(Object.keys(t).map((function(e){return Object(i.b)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.d)(this,(function(c){switch(c.label){case 0:r=t[e],o="__media-single-file-collection__"===e?void 0:e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.mediaStore.getItems(r,o)];case 2:return a=c.sent(),n.push.apply(n,Object(i.g)(a.data.items)),[3,4];case 3:return s=c.sent(),r.forEach((function(e){n.push({id:e,error:s||new Error("Failed to fetch"),collection:o})})),[3,4];case 4:return[2]}}))}))})))];case 1:return o.sent(),[2,Y(e,n)]}}))}))},this.createDownloadFileStream=function(e,n){var r=J(),o=t.mediaStore.featureFlags,a={poll_intervalMs:Object(h.a)("poll_intervalMs",o),poll_maxAttempts:Object(h.a)("poll_maxAttempts",o),poll_backoffFactor:Object(h.a)("poll_backoffFactor",o),poll_maxIntervalMs:Object(h.a)("poll_maxIntervalMs",o),poll_maxGlobalFailures:o&&o.poll_maxGlobalFailures},s=new V(a);return s.onError=function(e){return r.error(e)},s.execute((function(){return Object(i.b)(t,void 0,void 0,(function(){var t,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.dataloader.load({id:e,collection:n})];case 1:if(!(t=i.sent()))return[2];if(Q(t))return r.error(t),[2];switch(o=Object(y.i)(e,t),r.next(o),o.status){case"processing":s.next();break;case"processed":r.complete()}return[2]}}))}))})),r},this.dataloader=new C.a(this.batchLoadingFunc,{maxBatchSize:100})}return e.prototype.getFileState=function(e,t){var n=this;if(!B()(e)){var i=J();return i.error("invalid id was passed to getFileState"),i}return j().getOrInsert(e,(function(){var i=t&&t.collectionName;return n.createDownloadFileStream(e,i)}))},e.prototype.getCurrentState=function(e,t){return q(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=P()(),n=P()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((function(e){return e.created[0].uploadId}))}},e.prototype.uploadExternal=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,d=this;return Object(i.d)(this,(function(p){return n=this.generateUploadableFileUpfrontIds(t),r=n.id,o=n.occurrenceKey,a=J(),s=fetch(e).then((function(e){return e.blob()})).catch((function(){})),c=new Promise((function(e,t){return Object(i.b)(d,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(n=i.sent())||t("Could not fetch the blob"),e({value:n,origin:"remote"}),[2]}}))}))})),u=e.split("/").pop()||"",l={status:"processing",name:u,size:0,mediaType:"unknown",mimeType:"",id:r,occurrenceKey:o,preview:c},a.next(l),j().set(r,a),[2,new Promise((function(e,l){return Object(i.b)(d,void 0,void 0,(function(){var d,p,f,m,h,b;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(d=i.sent())?(p=d.type,f=d.size,m={content:d,mimeType:p,collection:t,name:u},h=Object(z.a)(p),a.next({status:"processing",name:u,size:f,mediaType:h,mimeType:p,id:r,occurrenceKey:o,preview:c}),this.upload(m,void 0,n),[4,K(d)]):[2,l("Could not download remote file")];case 2:return b=i.sent(),e({dimensions:b,uploadableFileUpfrontIds:n}),[2]}}))}))}))]}))}))},e.prototype.upload=function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),i=[],r=function(e){var t=n.slice(e,e+512),r=t.split("").map((function(e,n){return t.charCodeAt(n)})),o=new Uint8Array(r);i.push(o)},o=0;o<n.length;o+=512)r(o);return new Blob(i,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var u,l,d=n.id,p=n.occurrenceKey,f="",m=0,h=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(z.a)(t)}return"unknown"}(e),b=J();o instanceof Blob&&(m=o.size,f=o.type,Object(G.d)(o.type)&&(u={value:o,origin:"local"}));var v={id:d,occurrenceKey:p,name:s,size:m,mediaType:h,mimeType:f,preview:u},y=function(e){b.next(Object(i.a)(Object(i.a)({status:"uploading"},v),{progress:e}))},g=T(e,this.mediaStore,n,{onUploadFinish:function(e){if(e){if("canceled"!==e){var t=e instanceof Error?e.message:e;b.next({id:d,status:"error",message:t})}return b.error(e)}$(h,f,u)?l=r.createDownloadFileStream(d,c).subscribe({next:function(e){return b.next(Object(i.a)(Object(i.a)(Object(i.a)({},v),e),N(e,h)))},error:function(e){return b.error(e)},complete:function(){return b.complete()}}):(b.next(Object(i.a)({status:"processing",representations:{}},v)),b.complete())},onProgress:y}).cancel;return j().set(d,b),setTimeout((function(){y(0)}),0),t&&t.setAbort((function(){g(),l&&l.unsubscribe()})),b},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(i.b)(this,void 0,void 0,(function(){var o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return o=i.sent(),Object(M.a)(o,{name:t}),L.a.emit("media-viewed",{fileId:e,isUserCollection:n===r.c,viewingLevel:"download"}),[2]}}))}))},e.prototype.copyFile=function(e,t,n){return void 0===n&&(n={}),Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s,c,u,l,p,f,m,h,b,v,g,_,x,w,O,k,S,I,T,F,A,P,E,C;return Object(i.d)(this,(function(M){switch(M.label){case 0:return r=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,c=t.collection,u=t.replaceFileId,l=t.occurrenceKey,p=n.preview,f=n.mimeType,m=t.mediaStore||new d({authProvider:s}),b=U.authToOwner,[4,r({collectionName:o})];case 1:h=b.apply(void 0,[M.sent()]),v={sourceFile:{id:a,collection:o,owner:h}},g={collection:c,replaceFileId:u,occurrenceKey:l},_=j(),M.label=2;case 2:return M.trys.push([2,4,,5]),[4,m.copyFileWithToken(v,g)];case 3:return w=M.sent().data,O=Object(i.a)(Object(i.a)({},w),f?{mimeType:f}:void 0),k=O.id,S=O.mimeType,I=S?Object(z.a)(S):"unknown",T=Object(y.h)({data:O}),C=_.get(k),F=C||J(),A=!Object(y.a)(T)&&p?{preview:p}:{},!Object(y.b)(T)&&S&&$(I,S,p)?(F.next(Object(i.a)(Object(i.a)(Object(i.a)({},T),N(T,I)),A)),x=this.createDownloadFileStream(k,c).subscribe({next:function(e){return F.next(Object(i.a)(Object(i.a)(Object(i.a)({},e),N(e,I)),!Object(y.a)(e)&&A))},error:function(e){return F.error(e)},complete:function(){return F.complete()}})):Object(y.f)(T)||F.next(Object(i.a)(Object(i.a)({},T),!Object(y.a)(T)&&A)),_.has(k)||j().set(k,F),[2,w];case 4:throw P=M.sent(),x&&x.unsubscribe(),u&&(E={id:a,status:"error",message:"error copying file to "+c},(C=_.get(u))?C.next(E):_.set(a,J(E))),P;case 5:return[2]}}))}))},e}(),ee={},te=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new D.ReplaySubject(1),r=Object(i.a)({id:e},t),o=Object(y.h)({data:r});return n.next(o),n},e.prototype.populateCache=function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);j().set(e.id,n)}))},e.prototype.removeFromCache=function(e,t){var n=ee[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(j().remove(e),ee[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;ee[e]||(ee[e]=function(){return{items:[],subject:new D.ReplaySubject(1),isLoadingNextPage:!1}}());var r=ee[e],o=r.subject;return this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{details:"full"})).then((function(e){var t=e.data,i=t.contents,a=t.nextInclusiveStartKey;n.populateCache(i),r.items=e.data.contents,r.nextInclusiveStartKey=a,o.next(r.items)})).catch((function(e){return o.error(e)})),o},e.prototype.removeFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return i.sent(),this.removeFromCache(e,t),(r=ee[t]).subject.next(r.items),[2]}}))}))},e.prototype.loadNextPage=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,d,p,f,m;return Object(i.d)(this,(function(h){switch(h.label){case 0:return n=ee[e],r=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!r?(n.isLoadingNextPage=!0,o=ee[e],a=o.nextInclusiveStartKey,s=o.items,c=o.subject,[4,this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return u=h.sent(),l=u.data,d=l.contents,p=l.nextInclusiveStartKey,this.populateCache(d),f=u.data.contents,m=Object(i.g)(s,f),c.next(m),ee[e]={items:m,nextInclusiveStartKey:p,subject:c,isLoadingNextPage:!1},[2]}}))}))},e}(),ne=n("./node_modules/eventemitter2/lib/eventemitter2.js"),ie=function(){function e(e){this.baseUrl=e||"/gateway/api"}return e.prototype.fetchToken=function(e){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.baseUrl+"/media/auth/smartedge",{credentials:"include",headers:{"x-client-id":e}})];case 1:return[2,t.sent().json()]}}))}))},e.prototype.isTokenExpired=function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0},e}(),re=function(){function e(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new d({authProvider:e.authProvider},t),this.config=e,this.collection=new te(this.mediaStore),this.file=new Z(this.mediaStore),this.eventEmitter=new ne.EventEmitter2,this.stargate=new ie(e.stargateBaseUrl)}return e.prototype.getImage=function(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}}))}))},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}(),oe=function(e,t){if(void 0===t&&(t=window.location.origin),URL&&URL.prototype){var n=new URL(e);return!!n.host&&n.origin!==t}return!0},ae=function(){return void 0!==f?Promise.resolve(f):new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){f=2===t.height,e(f)}}))},se=function(e){console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((function(){return e&&e.unsubscribe()}),0)},ce=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/identifier.js"),ue=n("./node_modules/react/index.js"),le=n.n(ue),de=new Map,pe=function(e,t){var n=de.get(e);return n||(n=new re(e,t),de.set(e,n)),n},fe=function(e,t){return function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Object(i.c)(r,n),r.prototype.render=function(){var n=this.props,r=n.mediaClientConfig,o=Object(i.f)(n,["mediaClientConfig"]),a=r?pe(r,t):function(e){return new re({authProvider:function(){return Promise.resolve({clientId:"",token:"",baseUrl:""})}},e)}(t);return le.a.createElement(e,Object(i.a)({},o,{mediaClient:a}))},r}(le.a.Component)},me=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/url.js")},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p}));var i=n("./node_modules/@atlaskit/media-image/node_modules/tslib/tslib.es6.js"),r=function(e){return"uploading"===e.status},o=function(e){return"processing"===e.status},a=function(e){return"processed"===e.status},s=function(e){return"error"===e.status},c=function(e){return!s(e)&&!!e.preview},u=function(e){return["processed","failed-processing","error"].includes(e.status)},l=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},d=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return Object(i.a)(Object(i.a)({},c),{status:"processing"});case"succeeded":return Object(i.a)(Object(i.a)({},c),{status:"processed"});case"failed":return Object(i.a)(Object(i.a)({},c),{status:"failed-processing"})}},p=function(e,t){return d({data:Object(i.a)({id:e},t)})}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),r=n("./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),o=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(i.c)(e)||Object(r.c)(e)?"image":Object(i.b)(e)||Object(r.b)(e)?"doc":Object(i.a)(e)||Object(r.a)(e)?"audio":Object(i.e)(e)||Object(r.f)(e)?"video":"unknown"}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var i=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},r=function(e){return"application/pdf"===e.toLowerCase()},o=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||i(e)||o(e)||a(e)}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},r=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},o=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},s=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},c=function(e){return i(e)||r(e)||o(e)||a(e)||s(e)}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var i=n("./node_modules/@atlaskit/media-image/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.statusCode=n,i}return Object(i.c)(t,e),t}(Error),s=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return e.ok||e.redirected?[2,e]:[3,1];case 1:return[4,e.text()];case 2:throw t=n.sent(),new a("Got error code "+e.status+": "+t,e.status)}}))}))};function c(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,a=t.auth,c=t.params,u=t.headers,l=t.body,d=t.retryOptions;return function(e,t){void 0===t&&(t={});return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u=this;return Object(i.d)(this,(function(l){switch(l.label){case 0:n=Object(i.a)(Object(i.a)({},m),t),r=n.startTimeoutInMs,o=function(){return Object(i.b)(u,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,h(r)];case 1:return e.sent(),r*=n.factor,[2]}}))}))},a=1,l.label=1;case 1:if(!(a<=n.attempts))return[3,9];l.label=2;case 2:return l.trys.push([2,4,,8]),[4,e()];case 3:return[2,l.sent()];case 4:return s=l.sent(),b(s)?[2,Promise.reject(s)]:(c=a===n.attempts,function(e){return!(e instanceof TypeError)}(s)&&s.statusCode<500||c?[2,Promise.reject(new Error("The call did not succeed after "+a+" attempts. Last error is "+s.message))]:[3,5]);case 5:return[4,o()];case 6:l.sent(),l.label=7;case 7:return[3,8];case 8:return a++,[3,1];case 9:return[2,Promise.reject(new Error("Exhaused all attempts"))]}}))}))}((function(){return fetch(p(e,{params:c}),{method:o,body:l,headers:f(a)(u),signal:n&&n.signal}).then(s)}),void 0===d?{}:d)}function u(e){return e.json()}function l(e){return e.blob()}function d(){return Promise.resolve()}function p(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(r.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,u=s.queryParams,l=a&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),d=Object(r.stringify)(Object(i.a)(Object(i.a)(Object(i.a)({},u),n),l));return c+(d.length>0?"?"+d:"")}function f(e){return function(t){return e?Object(i.a)(Object(i.a)({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}var m={attempts:5,startTimeoutInMs:1e3,factor:2},h=function(e){return new Promise((function(t){setTimeout(t,e)}))},b=function(e){return"request_cancelled"===e.message||"AbortError"===e.name}},"./node_modules/@atlaskit/media-image/node_modules/@atlaskit/media-client/dist/esm/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("./node_modules/@atlaskit/media-image/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-image/node_modules/url-search-params/build/url-search-params.node.js"),o=n.n(r),a=function(e){return e.indexOf("media-blob-url=true")>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},c=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},u=function(e){var t=new URL(e).hash.replace("#",""),n=new o.a(t),i=n.get("id"),r=n.get("contextId");if(i&&r)return{id:i,contextId:r,collection:c(n,"collection"),alt:c(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:c(n,"name"),mimeType:c(n,"mimeType")}},l=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return encodeURIComponent(t)+"="+encodeURIComponent(n.toString())})).join("&")},d=function(e,t){var n;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var r=((n={})["media-blob-url"]="true",n),o=Object(i.a)(Object(i.a)({},r),t);return e+"#"+l(o)}},"./node_modules/@atlaskit/media-image/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}Object.create},"./node_modules/@atlaskit/media-image/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,r,o,a,s,c=Object.create(null);if(this[u]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(o=e.split("&")).length;a<s;a++)-1<(t=(r=o[a]).indexOf("="))?l(c,d(r.slice(0,t)),d(r.slice(t+1))):r.length&&l(c,d(r),"");else if(i(e))for(a=0,s=e.length;a<s;a++)l(c,(r=e[a])[0],r[1]);else for(n in e)l(c,n,e[n])}var i=Array.isArray,r=n.prototype,o=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},u="__URLSearchParams__:"+Math.random();function l(e,t,n){t in e?e[t].push(""+n):e[t]=i(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(o,c)}r.append=function(e,t){l(this[u],e,t)},r.delete=function(e){delete this[u][e]},r.get=function(e){var t=this[u];return e in t?t[e][0]:null},r.getAll=function(e){var t=this[u];return e in t?t[e].slice(0):[]},r.has=function(e){return e in this[u]},r.set=function(e,t){this[u][e]=[""+t]},r.forEach=function(e,t){var n=this[u];Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){e.call(t,n,i,this)}),this)}),this)},r.toJSON=function(){return{}},r.toString=function(){var e,t,n,i,r=this[u],o=[];for(t in r)for(n=p(t),e=0,i=r[t];e<i.length;e++)o.push(n+"="+p(i[e]));return o.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){!i.length||i in n||(n[i]=this.getAll(i)).forEach((function(n){e.call(t,n,i,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,i=this.entries(),r=i.next(),o=r.done,a=[],s=Object.create(null);!o;)t=(n=r.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),o=(r=i.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),s={},c=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new r.ReplaySubject(1),a=Object(i.__assign)({id:e},t),s=Object(o.h)({data:a});return n.next(s),n},e.prototype.populateCache=function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);Object(a.b)().set(e.id,n)}))},e.prototype.removeFromCache=function(e,t){var n=s[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(Object(a.b)().remove(e),s[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;s[e]||(s[e]=function(){return{items:[],subject:new r.ReplaySubject(1),isLoadingNextPage:!1}}());var o=s[e],a=o.subject;return this.mediaStore.getCollectionItems(e,Object(i.__assign)(Object(i.__assign)({},t),{details:"full"})).then((function(e){var t=e.data,i=t.contents,r=t.nextInclusiveStartKey;n.populateCache(i),o.items=e.data.contents,o.nextInclusiveStartKey=r,a.next(o.items)})).catch((function(e){return a.error(e)})),a},e.prototype.removeFile=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return i.sent(),this.removeFromCache(e,t),(r=s[t]).subject.next(r.items),[2]}}))}))},e.prototype.loadNextPage=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,c,u,l,d,p,f,m,h;return Object(i.__generator)(this,(function(b){switch(b.label){case 0:return n=s[e],r=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!r?(n.isLoadingNextPage=!0,o=s[e],a=o.nextInclusiveStartKey,c=o.items,u=o.subject,[4,this.mediaStore.getCollectionItems(e,Object(i.__assign)(Object(i.__assign)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return l=b.sent(),d=l.data,p=d.contents,f=d.nextInclusiveStartKey,this.populateCache(p),m=l.data.contents,h=Object(i.__spread)(c,m),u.next(h),s[e]={items:h,nextInclusiveStartKey:f,subject:u,isLoadingNextPage:!1},[2]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/dataloader/index.js"),s=n.n(a),c=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),u=n("./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js"),l=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),p=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/uploader.js"),f=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),m=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),h=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),b=n("./node_modules/uuid-validate/index.js"),v=n.n(b),y=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),g=function(e,t){return Object(l.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},j=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),_=function(e){return new Promise((function(t,n){var i=URL.createObjectURL(e),r=new Image;r.src=i,r.onload=function(){var e={width:r.width,height:r.height};URL.revokeObjectURL(i),t(e)},r.onerror=n}))},x=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),w=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),O=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),k=function(e,t,n){return("doc"===e||!Object(w.d)(t)||!n)&&Object(O.d)(t)},S=function(e,t){return t?e+"-"+t:e},I=function(e){return e.error instanceof Error},T=function(e,t){var n=t.reduce((function(e,t){var n=t.id,i=t.collection;return e[S(n,i)]=I(t)?t:t.details,e}),{});return e.map((function(e){var t=e.id,i=e.collection,r=S(t,i);return n[r]}))},F=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,r=this;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return"__media-single-file-collection__",t=e.reduce((function(e,t){var n=t.collection||"__media-single-file-collection__",i=e[n]||[];return i.push(t.id),e[n]=i,e}),{}),n=[],[4,Promise.all(Object.keys(t).map((function(e){return Object(i.__awaiter)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:r=t[e],o="__media-single-file-collection__"===e?void 0:e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.mediaStore.getItems(r,o)];case 2:return a=c.sent(),n.push.apply(n,Object(i.__spread)(a.data.items)),[3,4];case 3:return s=c.sent(),r.forEach((function(e){n.push({id:e,error:s||new Error("Failed to fetch"),collection:o})})),[3,4];case 4:return[2]}}))}))})))];case 1:return o.sent(),[2,T(e,n)]}}))}))},this.createDownloadFileStream=function(e,n){var r,o=Object(x.a)();return function a(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.dataloader.load({id:e,collection:n})];case 1:return(t=i.sent())?I(t)?(o.error(t),[2]):(s=Object(l.i)(e,t),o.next(s),"processing"===s.status?r=window.setTimeout(a,6e3):o.complete(),[3,3]):[2];case 2:return c=i.sent(),window.clearTimeout(r),o.error(c),[3,3];case 3:return[2]}}))}))}(),o},this.dataloader=new s.a(this.batchLoadingFunc,{maxBatchSize:100})}return e.prototype.getFileState=function(e,t){var n=this;if(!v()(e)){var i=Object(x.a)();return i.error("invalid id was passed to getFileState"),i}return Object(d.b)().getOrInsert(e,(function(){var i=t&&t.collectionName;return n.createDownloadFileStream(e,i)}))},e.prototype.getCurrentState=function(e,t){return Object(j.a)(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=o()(),n=o()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((function(e){return e.created[0].uploadId}))}},e.prototype.uploadExternal=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,p=this;return Object(i.__generator)(this,(function(f){return n=this.generateUploadableFileUpfrontIds(t),r=n.id,o=n.occurrenceKey,a=Object(x.a)(),s=fetch(e).then((function(e){return e.blob()})).catch((function(){})),c=new Promise((function(e,t){return Object(i.__awaiter)(p,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(n=i.sent())||t("Could not fetch the blob"),e({value:n,origin:"remote"}),[2]}}))}))})),u=e.split("/").pop()||"",l={status:"processing",name:u,size:0,mediaType:"unknown",mimeType:"",id:r,occurrenceKey:o,preview:c},a.next(l),Object(d.b)().set(r,a),[2,new Promise((function(e,l){return Object(i.__awaiter)(p,void 0,void 0,(function(){var d,p,f,m,h,b;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(d=i.sent())?(p=d.type,f=d.size,m={content:d,mimeType:p,collection:t,name:u},h=Object(y.a)(p),a.next({status:"processing",name:u,size:f,mediaType:h,mimeType:p,id:r,occurrenceKey:o,preview:c}),this.upload(m,void 0,n),[4,_(d)]):[2,l("Could not download remote file")];case 2:return b=i.sent(),e({dimensions:b,uploadableFileUpfrontIds:n}),[2]}}))}))}))]}))}))},e.prototype.upload=function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),i=[],r=function(e){var t=n.slice(e,e+512),r=t.split("").map((function(e,n){return t.charCodeAt(n)})),o=new Uint8Array(r);i.push(o)},o=0;o<n.length;o+=512)r(o);return new Blob(i,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var u,l,f=n.id,m=n.occurrenceKey,h="",b=0,v=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(y.a)(t)}return"unknown"}(e),j=Object(x.a)();o instanceof Blob&&(b=o.size,h=o.type,Object(w.d)(o.type)&&(u={value:o,origin:"local"}));var _={id:f,occurrenceKey:m,name:s,size:b,mediaType:v,mimeType:h,preview:u},O=function(e){j.next(Object(i.__assign)(Object(i.__assign)({status:"uploading"},_),{progress:e}))},S=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e){if("canceled"!==e){var t=e instanceof Error?e.message:e;j.next({id:f,status:"error",message:t})}return j.error(e)}k(v,h,u)?l=r.createDownloadFileStream(f,c).subscribe({next:function(e){return j.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},_),e),g(e,v)))},error:function(e){return j.error(e)},complete:function(){return j.complete()}}):(j.next(Object(i.__assign)({status:"processing",representations:{}},_)),j.complete())},onProgress:O}).cancel;return Object(d.b)().set(f,j),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){S(),l&&l.unsubscribe()})),j},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return r=i.sent(),Object(u.a)(r,{name:t}),f.a.emit("media-viewed",{fileId:e,isUserCollection:n===m.c,viewingLevel:"download"}),[2]}}))}))},e.prototype.copyFile=function(e,t,n){return void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u,p,f,m,b,v,j,_,w,O,S,I,T,F,A,P,E,C,U,M,L,R,B;return Object(i.__generator)(this,(function(z){switch(z.label){case 0:return r=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,u=t.collection,p=t.replaceFileId,f=t.occurrenceKey,m=n.preview,b=n.mimeType,v=t.mediaStore||new h.a({authProvider:s}),_=c.authToOwner,[4,r({collectionName:o})];case 1:j=_.apply(void 0,[z.sent()]),w={sourceFile:{id:a,collection:o,owner:j}},O={collection:u,replaceFileId:p,occurrenceKey:f},S=Object(d.b)(),z.label=2;case 2:return z.trys.push([2,4,,5]),[4,v.copyFileWithToken(w,O)];case 3:return T=z.sent().data,F=Object(i.__assign)(Object(i.__assign)({},T),b?{mimeType:b}:void 0),A=F.id,P=F.mimeType,E=P?Object(y.a)(P):"unknown",C=Object(l.h)({data:F}),B=S.get(A),U=B||Object(x.a)(),M=!Object(l.a)(C)&&m?{preview:m}:{},!Object(l.b)(C)&&P&&k(E,P,m)?(U.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},C),g(C,E)),M)),I=this.createDownloadFileStream(A,u).subscribe({next:function(e){return U.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),g(e,E)),!Object(l.a)(e)&&M))},error:function(e){return U.error(e)},complete:function(){return U.complete()}})):Object(l.f)(C)||U.next(Object(i.__assign)(Object(i.__assign)({},C),!Object(l.a)(C)&&M)),S.has(A)||Object(d.b)().set(A,U),[2,T];case 4:throw L=z.sent(),I&&I.unsubscribe(),p&&(R={id:a,status:"error",message:"error copying file to "+u},(B=S.get(p))?B.next(R):S.set(a,Object(x.a)(R))),L;case 5:return[2]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),u=function(){function e(e){this.mediaClientConfig=e,this.mediaStore=new o.a({authProvider:e.authProvider}),this.config=e,this.collection=new a.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new r.EventEmitter2,this.stargate=new c.a(e.stargateBaseUrl)}return e.prototype.getImage=function(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}}))}))},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),s={"max-age":a.a,allowAnimated:!0,mode:"crop"},c={limit:30,sortDirection:"desc"},u=function(e,t){return void 0===t&&(t=!1),Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},s),e),t?{width:a.b,height:a.b}:{})},l={Accept:"application/json","Content-Type":"application/json"},d=function(){function e(e){var t=this;this.config=e,this.getFile=function(e,n){return void 0===n&&(n={}),t.request("/file/"+e,{params:n,authContext:{collectionName:n.collection}}).then(r.d)},this.getFileImageURL=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider()];case 1:return t=i.sent(),[2,Object(r.a)(t.baseUrl+"/file/"+e+"/image",{params:u(n),auth:t})]}}))}))},this.getArtifactURL=function(e,n,s){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(t=Object(o.a)(e,n)))throw new Error("artifact "+n+" not found");return[4,this.config.authProvider({collectionName:s})];case 1:return c=i.sent(),[2,Object(r.a)(""+c.baseUrl+t,{params:{collection:s,"max-age":a.a},auth:c})]}}))}))},this.getImage=function(e,n,o,a){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){return!1,[2,this.request("/file/"+e+"/image",{headers:t,params:u(n,a),authContext:{collectionName:n&&n.collection}},o).then(r.c)]}))}))},this.getItems=function(e,n){var i=e.map((function(e){return{type:"file",id:e,collection:n}}));return t.request("/items",{method:"POST",body:JSON.stringify({descriptors:i}),headers:l,authContext:{collectionName:n}}).then(r.d)},this.getImageMetadata=function(e,n){return t.request("/file/"+e+"/image/metadata",{params:n,authContext:{collectionName:n&&n.collection}}).then(r.d)}}return e.prototype.getCollectionItems=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,o,a,s;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(i.__assign)(Object(i.__assign)({},c),t),headers:{Accept:"application/json"}})];case 1:return n=u.sent(),[4,Object(r.d)(n)];case 2:return o=u.sent().data,a=o.contents,s=o.nextInclusiveStartKey,[2,{data:{contents:a.filter((function(e){return e.details.size&&e.details.size>0})),nextInclusiveStartKey:s}}]}}))}))},e.prototype.removeCollectionFile=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return i.sent(),[2]}}))}))},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(r.d)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(r.e)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:l}).then(r.d)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:l}).then(r.d)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:l,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(r.d)},e.prototype.getFileBinaryURL=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider({collectionName:t})];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:t,"max-age":a.a},auth:n})]}}))}))},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:l}).then(r.e)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:l,params:t}).then(r.d)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,c,u,l,d,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return o=this.config.authProvider,a=t.method,s=t.authContext,c=t.params,u=t.headers,l=t.body,[4,o(s)];case 1:return d=i.sent(),[4,Object(r.f)(""+d.baseUrl+e,{method:a,auth:d,params:c,headers:u,body:l},n)];case 2:return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}((p=i.sent()).headers.get("x-media-region")),[2,p]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js"),r=function(){function e(e){this.baseUrl=e||"/gateway/api"}return e.prototype.fetchToken=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.baseUrl+"/media/auth/smartedge",{credentials:"include",headers:{"x-client-id":e}})];case 1:return[2,t.sent().json()]}}))}))},e.prototype.isTokenExpired=function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i="recents",r=2592e3,o=4096},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,r=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!1,configurable:!0}),e}(),o=function(){if(!i){var e=n("./node_modules/@atlaskit/media-core/dist/esm/index.js").mediaState;i=new r(e.streams)}return i}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),r={on:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MediaStore",(function(){return r.a})),n.d(t,"UploadController",(function(){return o.a})),n.d(t,"isPreviewableType",(function(){return a.b})),n.d(t,"isMediaCollectionItemFullDetails",(function(){return a.a})),n.d(t,"getArtifactUrl",(function(){return s.a})),n.d(t,"isUploadingFileState",(function(){return c.g})),n.d(t,"isProcessingFileState",(function(){return c.f})),n.d(t,"isProcessedFileState",(function(){return c.e})),n.d(t,"isErrorFileState",(function(){return c.a})),n.d(t,"isPreviewableFileState",(function(){return c.d})),n.d(t,"isFinalFileState",(function(){return c.b})),n.d(t,"isImageRepresentationReady",(function(){return c.c})),n.d(t,"mapMediaFileToFileState",(function(){return c.h})),n.d(t,"mapMediaItemToFileState",(function(){return c.i})),n.d(t,"getFileStreamsCache",(function(){return u.b})),n.d(t,"StreamsCache",(function(){return u.a})),n.d(t,"uploadFile",(function(){return l.a})),n.d(t,"isAbortedRequestError",(function(){return d.b})),n.d(t,"request",(function(){return d.f})),n.d(t,"mapResponseToJson",(function(){return d.d})),n.d(t,"mapResponseToBlob",(function(){return d.c})),n.d(t,"mapResponseToVoid",(function(){return d.e})),n.d(t,"createUrl",(function(){return d.a})),n.d(t,"FileFetcherImpl",(function(){return p.a})),n.d(t,"CollectionFetcher",(function(){return f.a})),n.d(t,"MediaClient",(function(){return m.a})),n.d(t,"StargateClient",(function(){return h.a})),n.d(t,"isImageRemote",(function(){return b})),n.d(t,"checkWebpSupport",(function(){return v})),n.d(t,"observableToPromise",(function(){return y.a})),n.d(t,"getMediaTypeFromMimeType",(function(){return g.a})),n.d(t,"isImageMimeTypeSupportedByBrowser",(function(){return j.c})),n.d(t,"isDocumentMimeTypeSupportedByBrowser",(function(){return j.b})),n.d(t,"isMimeTypeSupportedByBrowser",(function(){return j.d})),n.d(t,"isImageMimeTypeSupportedByServer",(function(){return _.c})),n.d(t,"isDocumentMimeTypeSupportedByServer",(function(){return _.b})),n.d(t,"isAudioMimeTypeSupportedByServer",(function(){return _.a})),n.d(t,"isVideoMimeTypeSupportedByServer",(function(){return _.f})),n.d(t,"isUnknownMimeTypeSupportedByServer",(function(){return _.e})),n.d(t,"isMimeTypeSupportedByServer",(function(){return _.d})),n.d(t,"createFileStateSubject",(function(){return x.a})),n.d(t,"safeUnsubscribe",(function(){return w})),n.d(t,"isFileIdentifier",(function(){return S})),n.d(t,"isExternalImageIdentifier",(function(){return I})),n.d(t,"isDifferentIdentifier",(function(){return T})),n.d(t,"withMediaClient",(function(){return U})),n.d(t,"getMediaClient",(function(){return C})),n.d(t,"globalMediaEventEmitter",(function(){return M.a})),n.d(t,"isMediaBlobUrl",(function(){return L.c})),n.d(t,"getAttrsFromUrl",(function(){return L.b})),n.d(t,"addFileAttrsToUrl",(function(){return L.a})),n.d(t,"objectToQueryString",(function(){return L.d})),n.d(t,"RECENTS_COLLECTION",(function(){return R.c})),n.d(t,"MAX_RESOLUTION",(function(){return R.b}));var i,r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/upload-controller.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/media.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),u=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),l=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/uploader.js"),d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),p=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),f=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),m=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),h=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),b=function(e,t){if(void 0===t&&(t=window.location.origin),URL&&URL.prototype){var n=new URL(e);return!!n.host&&n.origin!==t}return!0},v=function(){return void 0!==i?Promise.resolve(i):new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){i=2===t.height,e(i)}}))},y=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),g=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),j=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),_=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),x=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),w=function(e){console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((function(){return e&&e.unsubscribe()}),0)},O=n("./node_modules/deep-equal/index.js"),k=n.n(O),S=function(e){return"file"===e.mediaItemType},I=function(e){return"external-image"===e.mediaItemType},T=function(e,t){return S(e)&&S(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!k()(e,t)},F=n("./node_modules/tslib/tslib.es6.js"),A=n("./node_modules/react/index.js"),P=n.n(A),E=new Map,C=function(e){var t=E.get(e);return t||(t=new m.a(e),E.set(e,t)),t},U=function(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(F.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=t.mediaClientConfig,i=Object(F.__rest)(t,["mediaClientConfig"]),r=n?C(n):function(){var e={authProvider:function(){return Promise.resolve({clientId:"",token:"",baseUrl:""})}};return new m.a(e)}();return P.a.createElement(e,Object(F.__assign)({},i,{mediaClient:r}))},n}(P.a.Component)},M=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),L=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/url.js"),R=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js")},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),r=function(e){return"uploading"===e.status},o=function(e){return"processing"===e.status},a=function(e){return"processed"===e.status},s=function(e){return"error"===e.status},c=function(e){return!s(e)&&!!e.preview},u=function(e){return["processed","failed-processing","error"].includes(e.status)},l=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},d=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return Object(i.__assign)(Object(i.__assign)({},c),{status:"processing"});case"succeeded":return Object(i.__assign)(Object(i.__assign)({},c),{status:"processed"});case"failed":return Object(i.__assign)(Object(i.__assign)({},c),{status:"failed-processing"})}},p=function(e,t){return d({data:Object(i.__assign)({id:e},t)})}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/media.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){return["audio","video","image","doc"].indexOf(e)>-1},r=function(e){return!!e.mediaType&&!!e.mimeType&&!!e.processingStatus}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.prototype.setAbort=function(e){this.abortFunction=e},e.prototype.abort=function(){this.abortFunction&&this.abortFunction()},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js"),o=null,a=function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,t,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(e=3,o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,n.e("83efbde1bf").then(n.bind(null,"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/workerHasher.js"))];case 2:return t=i.sent().WorkerHasher,o=new t(e),[3,5];case 3:return i.sent(),[4,n.e("2eb30f1e8d").then(n.bind(null,"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/simpleHasher.js"))];case 4:return r=i.sent().SimpleHasher,o=new r,[3,5];case 5:return[2,o]}}))}))},s=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:return[2,t.sent().hash(e)]}}))}))},c=function(e,t){return function(n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.probeChunks(p(n),t)];case 1:return r=i.sent(),o=r.data.results,[2,Object.values(o).map((function(e){return e.exists}))]}}))}))}},u=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},l=function(e,t,n){var r=0;return function(o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[i.sent(),{chunks:p(o),offset:r},n])];case 2:return i.sent(),r+=o.length,[2]}}))}))}},d=function(e,t,n,o){var a=e.content,d=e.collection,p=e.name,f=e.mimeType,m=n.id,h=n.occurrenceKey,b=n.deferredUploadId,v=Object(r.a)(a,{hashingFunction:s,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:u(t,d),probingFunction:c(t,d),processingBatchSize:1e3,processingFunction:l(t,b,d)},{onProgress:function(e){o&&o.onProgress(e)}}),y=v.response,g=v.cancel,j=o&&o.onUploadFinish||function(){};return Promise.all([b,y]).then((function(e){var n=Object(i.__read)(e,1)[0];return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:p,mimeType:f},{occurrenceKey:h,collection:d,replaceFileId:m})];case 1:return e.sent(),j(),[2]}}))}))})).catch(j),{cancel:g}},p=function(e){return e.map((function(e){return e.hash}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/rxjs/ReplaySubject.js"),r=function(e){var t=new i.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),o=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(i.c)(e)||Object(r.c)(e)?"image":Object(i.b)(e)||Object(r.b)(e)?"doc":Object(i.a)(e)||Object(r.a)(e)?"audio":Object(i.e)(e)||Object(r.f)(e)?"video":"unknown"}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var i=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},r=function(e){return"application/pdf"===e.toLowerCase()},o=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||i(e)||o(e)||a(e)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},r=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},o=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},s=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},c=function(e){return i(e)||r(e)||o(e)||a(e)||s(e)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return new Promise((function(t){return e.subscribe({next:function(e){t(e),this.unsubscribe()}})}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.statusCode=n,i}return Object(i.__extends)(t,e),t}(Error),s=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return e.ok||e.redirected?[2,e]:[3,1];case 1:return[4,e.text()];case 2:throw t=n.sent(),new a("Got error code "+e.status+": "+t,e.status)}}))}))};function c(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,a=t.auth,c=t.params,u=t.headers,l=t.body,d=t.retryOptions;return function(e,t){void 0===t&&(t={});return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,c,u=this;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:n=Object(i.__assign)(Object(i.__assign)({},m),t),r=n.startTimeoutInMs,o=function(){return Object(i.__awaiter)(u,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,h(r)];case 1:return e.sent(),r*=n.factor,[2]}}))}))},a=1,l.label=1;case 1:if(!(a<=n.attempts))return[3,9];l.label=2;case 2:return l.trys.push([2,4,,8]),[4,e()];case 3:return[2,l.sent()];case 4:return s=l.sent(),b(s)?[2,Promise.reject(s)]:(c=a===n.attempts,function(e){return!(e instanceof TypeError)}(s)&&s.statusCode<500||c?[2,Promise.reject(new Error("The call did not succeed after "+a+" attempts. Last error is "+s.message))]:[3,5]);case 5:return[4,o()];case 6:l.sent(),l.label=7;case 7:return[3,8];case 8:return a++,[3,1];case 9:return[2,Promise.reject(new Error("Exhaused all attempts"))]}}))}))}((function(){return fetch(p(e,{params:c}),{method:o,body:l,headers:f(a)(u),signal:n&&n.signal}).then(s)}),void 0===d?{}:d)}function u(e){return e.json()}function l(e){return e.blob()}function d(){return Promise.resolve()}function p(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(r.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,u=s.queryParams,l=a&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),d=Object(r.stringify)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},u),n),l));return c+(d.length>0?"?"+d:"")}function f(e){return function(t){return e?Object(i.__assign)(Object(i.__assign)({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}var m={attempts:5,startTimeoutInMs:1e3,factor:2},h=function(e){return new Promise((function(t){setTimeout(t,e)}))},b=function(e){return"request_cancelled"===e.message||"AbortError"===e.name}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/url-search-params/build/url-search-params.node.js"),o=n.n(r),a=function(e){return e.indexOf("media-blob-url=true")>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},c=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},u=function(e){var t=new URL(e).hash.replace("#",""),n=new o.a(t),i=n.get("id"),r=n.get("contextId");if(i&&r)return{id:i,contextId:r,collection:c(n,"collection"),alt:c(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:c(n,"name"),mimeType:c(n,"mimeType")}},l=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return encodeURIComponent(t)+"="+encodeURIComponent(n.toString())})).join("&")},d=function(e,t){var n;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var r=((n={})["media-blob-url"]="true",n),o=Object(i.__assign)(Object(i.__assign)({},r),t);return e+"#"+l(o)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,r,o,a,s,c=Object.create(null);if(this[u]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(o=e.split("&")).length;a<s;a++)-1<(t=(r=o[a]).indexOf("="))?l(c,d(r.slice(0,t)),d(r.slice(t+1))):r.length&&l(c,d(r),"");else if(i(e))for(a=0,s=e.length;a<s;a++)l(c,(r=e[a])[0],r[1]);else for(n in e)l(c,n,e[n])}var i=Array.isArray,r=n.prototype,o=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},u="__URLSearchParams__:"+Math.random();function l(e,t,n){t in e?e[t].push(""+n):e[t]=i(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(o,c)}r.append=function(e,t){l(this[u],e,t)},r.delete=function(e){delete this[u][e]},r.get=function(e){var t=this[u];return e in t?t[e][0]:null},r.getAll=function(e){var t=this[u];return e in t?t[e].slice(0):[]},r.has=function(e){return e in this[u]},r.set=function(e,t){this[u][e]=[""+t]},r.forEach=function(e,t){var n=this[u];Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){e.call(t,n,i,this)}),this)}),this)},r.toJSON=function(){return{}},r.toString=function(){var e,t,n,i,r=this[u],o=[];for(t in r)for(n=p(t),e=0,i=r[t];e<i.length;e++)o.push(n+"="+p(i[e]));return o.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){!i.length||i in n||(n[i]=this.getAll(i)).forEach((function(n){e.call(t,n,i,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,i=this.entries(),r=i.next(),o=r.done,a=[],s=Object.create(null);!o;)t=(n=r.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),o=(r=i.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/dataloader/index.js":function(e,t,n){(function(t,n){var i,r=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._options=n,this._promiseCache=function(e){var t=e&&e.cacheMap;if(!t)return new Map;var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "));return t}(n),this._queue=[]}return e.prototype.load=function(e){var t=this;if(null==e)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(e)+".");var n=this._options,i=!n||!1!==n.batch,r=!n||!1!==n.cache,s=n&&n.cacheKeyFn,c=s?s(e):e;if(r){var u=this._promiseCache.get(c);if(u)return u}var l=new Promise((function(n,r){t._queue.push({key:e,resolve:n,reject:r}),1===t._queue.length&&(i?o((function(){return a(t)})):a(t))}));return r&&this._promiseCache.set(c,l),l},e.prototype.loadMany=function(e){var t=this;if(!Array.isArray(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");return Promise.all(e.map((function(e){return t.load(e)})))},e.prototype.clear=function(e){var t=this._options&&this._options.cacheKeyFn,n=t?t(e):e;return this._promiseCache.delete(n),this},e.prototype.clearAll=function(){return this._promiseCache.clear(),this},e.prototype.prime=function(e,t){var n=this._options&&this._options.cacheKeyFn,i=n?n(e):e;if(void 0===this._promiseCache.get(i)){var r=t instanceof Error?Promise.reject(t):Promise.resolve(t);this._promiseCache.set(i,r)}return this},e}(),o="object"==typeof t&&"function"==typeof t.nextTick?function(e){i||(i=Promise.resolve()),i.then((function(){return t.nextTick(e)}))}:n||setTimeout;function a(e){var t=e._queue;e._queue=[];var n=e._options&&e._options.maxBatchSize;if(n&&n>0&&n<t.length)for(var i=0;i<t.length/n;i++)s(e,t.slice(i*n,(i+1)*n));else s(e,t)}function s(e,t){var n=t.map((function(e){return e.key})),i=(0,e._batchLoadFn)(n);if(!i||"function"!=typeof i.then)return c(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(i)+"."));i.then((function(e){if(!Array.isArray(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==n.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(n)+"\n\nValues:\n"+String(e));t.forEach((function(t,n){var i=t.resolve,r=t.reject,o=e[n];o instanceof Error?r(o):i(o)}))})).catch((function(n){return c(e,t,n)}))}function c(e,t,n){t.forEach((function(t){var i=t.key,r=t.reject;e.clear(i),r(n)}))}e.exports=r}).call(this,n("./node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/deep-equal/index.js":function(e,t,n){var i=n("./node_modules/object-keys/index.js"),r=n("./node_modules/is-arguments/index.js"),o=n("./node_modules/object-is/index.js"),a=n("./node_modules/is-regex/index.js"),s=n("./node_modules/regexp.prototype.flags/index.js"),c=n("./node_modules/is-date-object/index.js"),u=Date.prototype.getTime;function l(e,t,n){var f=n||{};return!(f.strict?!o(e,t):e!==t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?f.strict?o(e,t):e==t:function(e,t,n){var o,f;if(typeof e!=typeof t)return!1;if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(r(e)!==r(t))return!1;var m=a(e),h=a(t);if(m!==h)return!1;if(m||h)return e.source===t.source&&s(e)===s(t);if(c(e)&&c(t))return u.call(e)===u.call(t);var b=p(e),v=p(t);if(b!==v)return!1;if(b||v){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if(typeof e!=typeof t)return!1;try{var y=i(e),g=i(t)}catch(e){return!1}if(y.length!==g.length)return!1;for(y.sort(),g.sort(),o=y.length-1;o>=0;o--)if(y[o]!=g[o])return!1;for(o=y.length-1;o>=0;o--)if(f=y[o],!l(e[f],t[f],n))return!1;return!0}(e,t,f))}function d(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=l},"./node_modules/define-properties/index.js":function(e,t,n){"use strict";var i=n("./node_modules/object-keys/index.js"),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,n,i){(!(t in e)||function(e){return"function"==typeof e&&"[object Function]"===o.call(e)}(i)&&i())&&(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},o=i(t);r&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};l.supportsDescriptors=!!c,e.exports=l},"./node_modules/es-abstract/GetIntrinsic.js":function(e,t,n){"use strict";var i=TypeError,r=Object.getOwnPropertyDescriptor;if(r)try{r({},"")}catch(e){r=null}var o=function(){throw new i},a=r?function(){try{return arguments.callee,o}catch(e){try{return r(arguments,"callee").get}catch(e){return o}}}():o,s=n("./node_modules/has-symbols/index.js")(),c=Object.getPrototypeOf||function(e){return e.__proto__},u=void 0,l="undefined"==typeof Uint8Array?void 0:c(Uint8Array),d={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?c([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":u&&s&&Symbol.asyncIterator?u[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?c(c([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?c((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?c((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?c(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},p=n("./node_modules/function-bind/index.js").call(Function.call,String.prototype.replace),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m=/\\(\\)?/g,h=function(e){var t=[];return p(e,f,(function(e,n,i,r){t[t.length]=i?p(r,m,"$1"):n||e})),t},b=function(e,t){if(!(e in d))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===d[e]&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return d[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=h(e),o=b("%"+(n.length>0?n[0]:"")+"%",t),a=1;a<n.length;a+=1)if(null!=o)if(r&&a+1>=n.length){var s=r(o,n[a]);if(!(t||n[a]in o))throw new i("base intrinsic for "+e+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},"./node_modules/es-abstract/helpers/callBind.js":function(e,t,n){"use strict";var i=n("./node_modules/function-bind/index.js"),r=n("./node_modules/es-abstract/GetIntrinsic.js")("%Function%"),o=r.apply,a=r.call;e.exports=function(){return i.apply(a,arguments)},e.exports.apply=function(){return i.apply(o,arguments)}},"./node_modules/eventemitter2/lib/eventemitter2.js":function(e,t,n){(function(i){var r;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(o){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function u(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,i.emitWarning(r)}else console.error(n),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}function d(e,t,n,i){if(!n)return[];var r,o,a,s,c,u,l,p=[],f=t.length,m=t[i],h=t[i+1];if(i===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(r=0,o=n._listeners.length;r<o;r++)e&&e.push(n._listeners[r]);return[n]}if("*"===m||"**"===m||n[m]){if("*"===m){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(d(e,t,n[a],i+1)));return p}if("**"===m){for(a in(l=i+1===f||i+2===f&&"*"===h)&&n._listeners&&(p=p.concat(d(e,t,n,f))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!l&&(p=p.concat(d(e,t,n[a],f))),p=p.concat(d(e,t,n[a],i))):p=a===h?p.concat(d(e,t,n[a],i+2)):p.concat(d(e,t,n[a],i)));return p}p=p.concat(d(e,t,n[m],i+1))}if((s=n["*"])&&d(e,t,s,i+1),c=n["**"])if(i<f)for(a in c._listeners&&d(e,t,c,f),c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===h?d(e,t,c[a],i+2):a===m?d(e,t,c[a],i+1):((u={})[a]=c[a],d(e,t,{"**":u},i+1)));else c._listeners?d(e,t,c,f):c["*"]&&c["*"]._listeners&&d(e,t,c["*"],f);return p}function p(e,t){for(var n=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<i;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var r=this.listenerTree,o=e.shift();void 0!==o;){if(r[o]||(r[o]={}),r=r[o],0===e.length)return r._listeners?("function"==typeof r._listeners&&(r._listeners=[r._listeners]),r._listeners.push(t),!r._listeners.warned&&this._maxListeners>0&&r._listeners.length>this._maxListeners&&(r._listeners.warned=!0,u.call(this,r._listeners.length,o))):r._listeners=t,!0;o=e.shift()}return!0}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},l.prototype._many=function(e,t,n,i){var r=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&r.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,i),r},l.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,i,r,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,a){case 1:o[i].call(this,e);break;case 2:o[i].call(this,e,arguments[1]);break;case 3:o[i].call(this,e,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,c,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,a){case 1:o[i].call(this);break;case 2:o[i].call(this,arguments[1]);break;case 3:o[i].call(this,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,i,r,o,a=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),r=1;r<c;r++)t[r]=arguments[r];for(i=0,n=this._all.length;i<n;i++)switch(this.event=e,c){case 1:a.push(this._all[i].call(this,e));break;case 2:a.push(this._all[i].call(this,e,arguments[1]));break;case 3:a.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[i].apply(this,t))}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,u,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,c){case 1:a.push(o.call(this));break;case 2:a.push(o.call(this,arguments[1]));break;case 3:a.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),r=1;r<c;r++)t[r-1]=arguments[r];a.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),r=1;r<c;r++)t[r-1]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,c){case 1:a.push(o[i].call(this));break;case 2:a.push(o[i].call(this,arguments[1]));break;case 3:a.push(o[i].call(this,arguments[1],arguments[2]));break;default:a.push(o[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(p.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var r="string"==typeof e?e.split(this.delimiter):e.slice();i=d.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var o=0;o<i.length;o++){var s=i[o];if(n=s._listeners,a(n)){for(var c=-1,u=0,l=n.length;u<l;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var i in n){var r=n[i],o=t[r];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[r]),0===Object.keys(o).length&&delete t[r])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,i=(t=this._all).length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=d.call(this,null,t,this.listenerTree,0),i=0;i<n.length;i++){var r=n[i];r._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(r=function(){return l}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/function-bind/implementation.js":function(e,t,n){"use strict";var i="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError(i+t);for(var n,a=r.call(arguments,1),s=function(){if(this instanceof n){var i=t.apply(this,a.concat(r.call(arguments)));return Object(i)===i?i:this}return t.apply(e,a.concat(r.call(arguments)))},c=Math.max(0,t.length-a.length),u=[],l=0;l<c;l++)u.push("$"+l);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},"./node_modules/function-bind/index.js":function(e,t,n){"use strict";var i=n("./node_modules/function-bind/implementation.js");e.exports=Function.prototype.bind||i},"./node_modules/has-symbols/index.js":function(e,t,n){"use strict";(function(t){var i=t.Symbol,r=n("./node_modules/has-symbols/shams.js");e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/has-symbols/shams.js":function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},"./node_modules/has/src/index.js":function(e,t,n){"use strict";var i=n("./node_modules/function-bind/index.js");e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},"./node_modules/is-arguments/index.js":function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,o=function(e){return!(i&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r.call(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},"./node_modules/is-date-object/index.js":function(e,t,n){"use strict";var i=Date.prototype.getDay,r=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return i.call(e),!0}catch(e){return!1}}(e):"[object Date]"===r.call(e))}},"./node_modules/is-regex/index.js":function(e,t,n){"use strict";var i=n("./node_modules/has/src/index.js"),r=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=o(e,"lastIndex");return!(!t||!i(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,r.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},"./node_modules/lru-fast/lru.js":function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,i=this.get(e,!0);return i?(n=i.value,i.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var i;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(i=this.newest;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.oldest;i;)e.call(t,i.key,i.value,this),i=i.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},"./node_modules/object-is/index.js":function(e,t,n){"use strict";var i=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!i(e)||!i(t))}},"./node_modules/object-keys/implementation.js":function(e,t,n){"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n("./node_modules/object-keys/isArguments.js"),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=a(e),s=t&&"[object String]"===o.call(e),p=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var m=u&&n;if(s&&e.length>0&&!r.call(e,0))for(var h=0;h<e.length;++h)p.push(String(h));if(i&&e.length>0)for(var b=0;b<e.length;++b)p.push(String(b));else for(var v in e)m&&"prototype"===v||!r.call(e,v)||p.push(String(v));if(c)for(var y=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(e){return!1}}(e),g=0;g<l.length;++g)y&&"constructor"===l[g]||!r.call(e,l[g])||p.push(l[g]);return p}}e.exports=i},"./node_modules/object-keys/index.js":function(e,t,n){"use strict";var i=Array.prototype.slice,r=n("./node_modules/object-keys/isArguments.js"),o=Object.keys,a=o?function(e){return o(e)}:n("./node_modules/object-keys/implementation.js"),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return r(e)?s(i.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},"./node_modules/object-keys/isArguments.js":function(e,t,n){"use strict";var i=Object.prototype.toString;e.exports=function(e){var t=i.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===i.call(e.callee)),n}},"./node_modules/regexp.prototype.flags/implementation.js":function(e,t,n){"use strict";var i=Object,r=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new r("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},"./node_modules/regexp.prototype.flags/index.js":function(e,t,n){"use strict";var i=n("./node_modules/define-properties/index.js"),r=n("./node_modules/es-abstract/helpers/callBind.js"),o=n("./node_modules/regexp.prototype.flags/implementation.js"),a=n("./node_modules/regexp.prototype.flags/polyfill.js"),s=n("./node_modules/regexp.prototype.flags/shim.js"),c=r(o);i(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},"./node_modules/regexp.prototype.flags/polyfill.js":function(e,t,n){"use strict";var i=n("./node_modules/regexp.prototype.flags/implementation.js"),r=n("./node_modules/define-properties/index.js").supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!r)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return i}},"./node_modules/regexp.prototype.flags/shim.js":function(e,t,n){"use strict";var i=n("./node_modules/define-properties/index.js").supportsDescriptors,r=n("./node_modules/regexp.prototype.flags/polyfill.js"),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!i||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=r(),t=c(u),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},"./node_modules/rxjs-async-map/out/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/rxjs/Observable.js");t.Observable=i.Observable;var r=n("./node_modules/rxjs/operators/mergeMap.js"),o=n("./node_modules/rxjs-async-map/out/notify.js");t.asyncMap=function(e,t){return r.mergeMap(function(e){var t=new Array,n=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(r){return new i.Observable((function(i){t.push(o.notify(e(r),i,n))}))}}(e),t)}},"./node_modules/rxjs-async-map/out/notify.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notify=function(e,t,n){var i={notifyIfReady:function(){return!1}};return e.then((function(e){i.notifyIfReady=function(){return t.next(e),t.complete(),!0},n(i)}),(function(e){i.notifyIfReady=function(){return t.error(e),!0},n(i)})),i}},"./node_modules/rxjs/ReplaySubject.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subject.js"),o=n("./node_modules/rxjs/scheduler/queue.js"),a=n("./node_modules/rxjs/Subscription.js"),s=n("./node_modules/rxjs/operators/observeOn.js"),c=n("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),u=n("./node_modules/rxjs/SubjectSubscription.js"),l=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=i,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return i(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new d(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),i=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),i&&e.add(e=new s.ObserveOnSubscriber(e,i));for(var r=n.length,o=0;o<r&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i},t}(r.Subject);t.ReplaySubject=l;var d=function(){return function(e,t){this.time=e,this.value=t}}()},"./node_modules/rxjs/observable/RangeObservable.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(t,n,i){e.call(this),this.start=t,this._count=n,this.scheduler=i}return i(t,e),t.create=function(e,n,i){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,i)},t.dispatch=function(e){var t=e.start,n=e.index,i=e.count,r=e.subscriber;n>=i?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,i=this.start,r=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:n,count:r,start:i,subscriber:e});for(;;){if(n++>=r){e.complete();break}if(e.next(i++),e.closed)break}},t}(n("./node_modules/rxjs/Observable.js").Observable);t.RangeObservable=r},"./node_modules/rxjs/observable/range.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/observable/RangeObservable.js");t.range=i.RangeObservable.create},"./node_modules/rxjs/operators/bufferCount.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subscriber.js");t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?s:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return i(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(r.Subscriber),s=function(e){function t(t,n,i){e.call(this,t),this.bufferSize=n,this.startBufferEvery=i,this.buffers=[],this.count=0}return i(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var a=i[o];a.push(e),a.length===t&&(i.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(r.Subscriber)},"./node_modules/rxjs/operators/concatMap.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/operators/mergeMap.js");t.concatMap=function(e,t){return i.mergeMap(e,t,1)}},"./node_modules/rxjs/operators/tap.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subscriber.js");t.tap=function(e,t,n){return function(i){return i.lift(new o(e,t,n))}};var o=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,i,o){e.call(this,t);var a=new r.Subscriber(n,i,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return i(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(r.Subscriber)},"./node_modules/rxjs/scheduler/QueueAction.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return i(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(n("./node_modules/rxjs/scheduler/AsyncAction.js").AsyncAction);t.QueueAction=r},"./node_modules/rxjs/scheduler/QueueScheduler.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(){e.apply(this,arguments)}return i(t,e),t}(n("./node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.QueueScheduler=r},"./node_modules/rxjs/scheduler/queue.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/scheduler/QueueAction.js"),r=n("./node_modules/rxjs/scheduler/QueueScheduler.js");t.queue=new r.QueueScheduler(i.QueueAction)},"./node_modules/setimmediate/setImmediate.js":function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r=1,o={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?function(){i=function(e){t.nextTick((function(){l(e)}))}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},i=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;i=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){i=function(e){setTimeout(l,0,e)}}(),c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[r]=a,i(r),r++},c.clearImmediate=u}function u(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid-validate/index.js":function(e,t,n){(function(t){for(var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,i=[],r=0;r<256;r++)i[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var a;if(t.isBuffer(e))a=function(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;a=e}if(a=a.toLowerCase(),!n.test(a))return!1;if(void 0===r)r=o(a);else if(o(a)!==r)return!1;switch(r){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(a.charAt(19));default:throw new Error("Invalid version provided.")}};var o=e.exports.version=function(e){return 0|e.charAt(14)}}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)}}]);try{window.__jsEvalStop("@atlaskit-media-client.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-media-client.d968c154d28671f7bcf0.8.js.map