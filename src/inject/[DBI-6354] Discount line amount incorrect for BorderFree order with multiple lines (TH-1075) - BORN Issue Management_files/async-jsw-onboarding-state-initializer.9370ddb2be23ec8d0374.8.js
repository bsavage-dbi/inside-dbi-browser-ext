try{window.performance.mark("async-jsw-onboarding-state-initializer.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-jsw-onboarding-state-initializer"],{"./node_modules/charenc/charenc.js":function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},"./node_modules/clone-deep/node_modules/is-buffer/index.js":function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},"./node_modules/crypt/crypt.js":function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?r.push(t.charAt(o>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}};e.exports=r}()},"./node_modules/md5/md5.js":function(e,t,r){!function(){var t=r("./node_modules/crypt/crypt.js"),n=r("./node_modules/charenc/charenc.js").utf8,o=r("./node_modules/clone-deep/node_modules/is-buffer/index.js"),a=r("./node_modules/charenc/charenc.js").bin,c=function(e,r){e.constructor==String?e=r&&"binary"===r.encoding?a.stringToBytes(e):n.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),i=8*e.length,l=1732584193,u=-271733879,d=-1732584194,b=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[i>>>5]|=128<<i%32,s[14+(i+64>>>9<<4)]=i;var p=c._ff,g=c._gg,O=c._hh,j=c._ii;for(f=0;f<s.length;f+=16){var m=l,y=u,h=d,v=b;l=p(l,u,d,b,s[f+0],7,-680876936),b=p(b,l,u,d,s[f+1],12,-389564586),d=p(d,b,l,u,s[f+2],17,606105819),u=p(u,d,b,l,s[f+3],22,-1044525330),l=p(l,u,d,b,s[f+4],7,-176418897),b=p(b,l,u,d,s[f+5],12,1200080426),d=p(d,b,l,u,s[f+6],17,-1473231341),u=p(u,d,b,l,s[f+7],22,-45705983),l=p(l,u,d,b,s[f+8],7,1770035416),b=p(b,l,u,d,s[f+9],12,-1958414417),d=p(d,b,l,u,s[f+10],17,-42063),u=p(u,d,b,l,s[f+11],22,-1990404162),l=p(l,u,d,b,s[f+12],7,1804603682),b=p(b,l,u,d,s[f+13],12,-40341101),d=p(d,b,l,u,s[f+14],17,-1502002290),l=g(l,u=p(u,d,b,l,s[f+15],22,1236535329),d,b,s[f+1],5,-165796510),b=g(b,l,u,d,s[f+6],9,-1069501632),d=g(d,b,l,u,s[f+11],14,643717713),u=g(u,d,b,l,s[f+0],20,-373897302),l=g(l,u,d,b,s[f+5],5,-701558691),b=g(b,l,u,d,s[f+10],9,38016083),d=g(d,b,l,u,s[f+15],14,-660478335),u=g(u,d,b,l,s[f+4],20,-405537848),l=g(l,u,d,b,s[f+9],5,568446438),b=g(b,l,u,d,s[f+14],9,-1019803690),d=g(d,b,l,u,s[f+3],14,-187363961),u=g(u,d,b,l,s[f+8],20,1163531501),l=g(l,u,d,b,s[f+13],5,-1444681467),b=g(b,l,u,d,s[f+2],9,-51403784),d=g(d,b,l,u,s[f+7],14,1735328473),l=O(l,u=g(u,d,b,l,s[f+12],20,-1926607734),d,b,s[f+5],4,-378558),b=O(b,l,u,d,s[f+8],11,-2022574463),d=O(d,b,l,u,s[f+11],16,1839030562),u=O(u,d,b,l,s[f+14],23,-35309556),l=O(l,u,d,b,s[f+1],4,-1530992060),b=O(b,l,u,d,s[f+4],11,1272893353),d=O(d,b,l,u,s[f+7],16,-155497632),u=O(u,d,b,l,s[f+10],23,-1094730640),l=O(l,u,d,b,s[f+13],4,681279174),b=O(b,l,u,d,s[f+0],11,-358537222),d=O(d,b,l,u,s[f+3],16,-722521979),u=O(u,d,b,l,s[f+6],23,76029189),l=O(l,u,d,b,s[f+9],4,-640364487),b=O(b,l,u,d,s[f+12],11,-421815835),d=O(d,b,l,u,s[f+15],16,530742520),l=j(l,u=O(u,d,b,l,s[f+2],23,-995338651),d,b,s[f+0],6,-198630844),b=j(b,l,u,d,s[f+7],10,1126891415),d=j(d,b,l,u,s[f+14],15,-1416354905),u=j(u,d,b,l,s[f+5],21,-57434055),l=j(l,u,d,b,s[f+12],6,1700485571),b=j(b,l,u,d,s[f+3],10,-1894986606),d=j(d,b,l,u,s[f+10],15,-1051523),u=j(u,d,b,l,s[f+1],21,-2054922799),l=j(l,u,d,b,s[f+8],6,1873313359),b=j(b,l,u,d,s[f+15],10,-30611744),d=j(d,b,l,u,s[f+6],15,-1560198380),u=j(u,d,b,l,s[f+13],21,1309151649),l=j(l,u,d,b,s[f+4],6,-145523070),b=j(b,l,u,d,s[f+11],10,-1120210379),d=j(d,b,l,u,s[f+2],15,718787259),u=j(u,d,b,l,s[f+9],21,-343485551),l=l+m>>>0,u=u+y>>>0,d=d+h>>>0,b=b+v>>>0}return t.endian([l,u,d,b])};c._ff=function(e,t,r,n,o,a,c){var s=e+(t&r|~t&n)+(o>>>0)+c;return(s<<a|s>>>32-a)+t},c._gg=function(e,t,r,n,o,a,c){var s=e+(t&n|r&~n)+(o>>>0)+c;return(s<<a|s>>>32-a)+t},c._hh=function(e,t,r,n,o,a,c){var s=e+(t^r^n)+(o>>>0)+c;return(s<<a|s>>>32-a)+t},c._ii=function(e,t,r,n,o,a,c){var s=e+(r^(t|~n))+(o>>>0)+c;return(s<<a|s>>>32-a)+t},c._blocksize=16,c._digestsize=16,e.exports=function(e,r){if(null==e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(c(e,r));return r&&r.asBytes?n:r&&r.asString?a.bytesToString(n):t.bytesToHex(n)}}()},"./src/packages/growth/onboarding/state-initializer/src/feature-flags.js":function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return l}));var n=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js"),o=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js");const a=()=>Object(o.a)().getBooleanValue("jsw.onboarding.i18n.quickstart",{default:!1}),c=()=>Object(n.b)("onboarding-user-state-holdout",!1),s=e=>Object(n.c)(e,"not-enrolled",["control","not-enrolled","experiment"]),i=e=>"experiment"===s(e),l=e=>{(e=>{Object(o.a)().getVariantValue(e,{default:"not-enrolled",oneOf:["not-enrolled","control","experiment"],shouldTrackExposureEvent:!0})})(e)}},"./src/packages/growth/onboarding/state-initializer/src/main.js":function(e,t,r){"use strict";r.r(t),r.d(t,"StateInitializer",(function(){return y})),r.d(t,"OnboardingUserStateInitializer",(function(){return h}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./src/packages/platform/ui/error-boundary/src/main.js"),c=r("./src/packages/platform/observability/errors-handling/src/utils/reporting-error-boundary.js"),s=r("./node_modules/@atlaskit/analytics-next/dist/esm/useAnalyticsEvents.js"),i=r("./src/packages/growth/onboarding/state-initializer/src/common/constants.js"),l=r("./src/packages/growth/onboarding/state-initializer/src/services/index.js"),u=r("./src/packages/growth/onboarding/state-initializer/src/services/utils/index.js"),d=r("./src/packages/common-legacy-do-not-add-anything-new/src/util/browser.js"),b=r("./src/packages/platform/utils/types/src/general.js"),f=r("./src/packages/platform/services/nav-item-service/src/services/create-project-permisson/index.js"),p=r("./src/packages/platform/services/navigation-v3-rollout/src/main.js"),g=r("./src/packages/platform/controllers/spa-state/src/components/page-ready-state/index.js"),O=r("./src/packages/platform/controllers/tenant-context/src/components/index.js");const{STARTED:j,DONE:m}=i.c,y=()=>{const[,{initStore:e}]=Object(l.d)(),t=(()=>{const[e,t]=Object(n.useState)(null),[{isReady:r}]=Object(g.d)(),o=Object(O.l)(),[{isNavV3Enabled:a}]=Object(p.b)(),c=Object(d.d)(),[{canCreateProject:s,isFetching:i,hasFetchedOnce:l},{fetchCreateProjectPermission:u}]=Object(f.a)();return Object(n.useEffect)(()=>{!r||i||l||u(o.baseUrl)},[r,i,l,u,o]),Object(n.useEffect)(()=>{!e&&r&&o&&l&&t({baseUrl:o.baseUrl,accountId:Object(b.a)(o.atlassianAccountId||""),cloudId:o.cloudId,isAdmin:o.isAdmin,isAnonymous:o.isAnonymous,hasSoftwareAccess:o.appPermissions.hasSoftwareAccess,isNavV3Enabled:Boolean(a),canCreateProject:Boolean(s),isIE:Boolean(c)})},[e,r,o,l,a,s,c]),e})(),{createAnalyticsEvent:r}=Object(s.a)(),[{remoteMigrated:o,remoteInitialized:a,remoteStateVersion:c,remoteStatusChangedTo:y,remoteStatusChangedBy:h,remoteStateBeforeFormat:v,remoteStateAfterFormat:w}]=Object(l.h)(),[S]=Object(l.f)(),[E]=Object(l.g)(),[x]=Object(l.e)();return Object(n.useEffect)(()=>{S||E||!t||e(t)},[t,e,S,E]),Object(n.useEffect)(()=>{!0===a&&Object(u.a)({analyticsEvent:r({}),type:"operational",action:"set"})},[a,r]),Object(n.useEffect)(()=>{S&&Object(u.a)({analyticsEvent:r({}),type:"operational",action:"initialized"})},[S,r]),Object(n.useEffect)(()=>{if(x&&x.message){const e=r({}),t={error:`${x.message}`};Object(u.b)(x,e,t)}},[x,r]),Object(n.useEffect)(()=>{[j,m].includes(y)&&h&&Object(u.a)({analyticsEvent:r({}),type:"track",action:y===j?"started":"ended",actionSubjectId:i.a[h]})},[y,h,r]),Object(n.useEffect)(()=>{!0===o&&c&&Object(u.a)({analyticsEvent:r({}),type:"operational",action:`migrated_${c}_state`,attributes:{remoteStateBeforeFormat:JSON.stringify(v),remoteStateAfterFormat:JSON.stringify(w)}})},[o,c,v,w,r]),null},h=()=>o.a.createElement(a.a,{id:"jswOnboardingStateManager",packageName:"jiraOnboardingUserState"},o.a.createElement(c.a,{id:"jswOnboardingStateManager_Component",packageName:"jiraOnboardingUserState"},o.a.createElement(y,null)));h.displayName="OnboardingUserStateInitializer"},"./src/packages/growth/onboarding/state-initializer/src/services/index.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return de})),r.d(t,"c",(function(){return be})),r.d(t,"d",(function(){return fe})),r.d(t,"a",(function(){return pe})),r.d(t,"h",(function(){return ge})),r.d(t,"f",(function(){return Oe})),r.d(t,"g",(function(){return je})),r.d(t,"e",(function(){return me}));var n=r("./node_modules/react-sweet-state/lib/esm/index.js"),o=r("./src/packages/growth/onboarding/state-initializer/src/common/constants.js"),a=r("./src/packages/growth/onboarding/state-initializer/src/feature-flags.js"),c=r("./src/packages/growth/onboarding/state-initializer/src/services/utils/index.js"),s=r("./src/packages/growth/onboarding/state-initializer/src/services/utils/state-validators/index.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{NOT_ELIGIBLE:d,NOT_STARTED:b,STARTED:f,DONE:p}=o.c,g=(e=b,t=b)=>[e,t].includes(d)?d:o.d[e]>=o.d[t]?e:t,O=(e,t)=>{const r=l(l({},e),t);return Object.keys(r).forEach(n=>{Object(s.a)(e[n])&&Object(s.a)(t[n])&&(r[n]=g(e[n],t[n]))}),r},j=({enrolledExperiences:e,overall:t},r)=>{const n=((e,t)=>e.reduce((e,[t,r])=>{const n=e;return n[t]=g(r,n[t]),n},l({},t)))(r,e);return{enrolledExperiences:n,overall:((e,t)=>{const r=Object.keys(t);return e===p||r.every(e=>t[e]===p)?p:e===f||r.some(e=>[f,p].includes(t[e]))?f:b})(t,n)}},m=({enrolledExperiences:e,overall:t})=>({overall:t,enrolledExperiences:e});var y=r("./src/packages/common-legacy-do-not-add-anything-new/src/rest/api/latest/user-properties/index.js"),h=r("./src/packages/platform/utils/fetch/src/utils.js");var v=r("./src/packages/platform/utils/types/src/general.js");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x={enrolledExperiences:{},overall:o.c.NOT_STARTED,version:"v2"},P=S(S({},x),{},{syncMetadata:{remoteMigrated:void 0,remoteInitialized:void 0,remoteStateVersion:void 0,remoteStatusChangedTo:void 0,remoteStatusChangedBy:void 0,remoteOverallBeforeFormat:void 0,remoteStateBeforeFormat:void 0,remoteStateAfterFormat:void 0},context:{baseUrl:Object(v.b)(""),accountId:Object(v.a)(""),cloudId:Object(v.c)(""),isAdmin:!1,isAnonymous:!0,isNavV3Enabled:!1,hasSoftwareAccess:!1,canCreateProject:!1,isIE:!1},pendingExperienceUpdates:[],hydrated:!1,loading:!1,error:null});function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{NOT_ELIGIBLE:A,NOT_STARTED:D,STARTED:I,DONE:B}=o.c,{CHECKLIST:C}=o.b,N=e=>({[o.b.PROJECT_BOARD_MODAL]:e,[o.b.WATCH_ISSUE_SPOTLIGHT]:e}),F=e=>({[o.b.BACKLOG_MODAL]:e,[o.b.BACKLOG_NUDGE]:e,[o.b.STAR_BOARD_NUDGE]:e,[o.b.ISSUE_NUDGE]:e,[o.b.WATCH_ISSUE_SPOTLIGHT_CLASSIC]:e}),z=e=>T(T({},N(e)),F(e)),U=e=>({[C]:e}),M=(e,t,r)=>t&&e&&!r,L=(e,t,r)=>{const n=Object(a.b)("jsw-onboarding-phase-3-quickstart");if("experiment"===n||"control"===n)return M(e,t,r)?(Object(a.a)("jsw-onboarding-phase-3-quickstart"),U("experiment"===n?D:B)):U(A);const o=Object(a.b)("jsw-onboarding-phase-1-macroexperiment");return"experiment"===o||"control"===o?(Object(a.a)("jsw-onboarding-phase-1-macroexperiment"),z("experiment"===o?D:B)):{}};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{DONE:H,NOT_STARTED:J}=o.c,W=e=>t=>{const{enrolledExperiences:r}=e,{context:n,hydrated:o}=t.getState(),c=G({},e);return o||(c.enrolledExperiences=((e,t,r,n)=>{const o=T({},e);return e[C]===A&&M(t,r,n)?(Object(a.a)("jsw-onboarding-phase-3-quickstart"),o[C]=D):[D,I].includes(e[C])&&!M(t,r,n)&&(o[C]=A),o})(r,n.canCreateProject,n.isNavV3Enabled,n.isIE)),{remoteState:c,formatterMetadata:{remoteInitialized:!1,remoteMigrated:!1,remoteStateVersion:"v2",remoteOverallBeforeFormat:e.overall,remoteStateBeforeFormat:e,remoteStateAfterFormat:e}}},q=e=>t=>{const{context:r}=t.getState(),n=G(G({},x),{},{enrolledExperiences:L(r.canCreateProject,r.isNavV3Enabled,r.isIE)});return{remoteState:n,formatterMetadata:{remoteInitialized:!0,remoteMigrated:!0,remoteStateVersion:"empty",remoteOverallBeforeFormat:void 0,remoteStateBeforeFormat:e,remoteStateAfterFormat:n}}},K=()=>({dispatch:e})=>t=>{if(null===t)return e(q(t));if("object"==typeof t){if(void 0===t.overall&&"done"===t["jsw-onboarding"])return e((e=>()=>{const t=G(G({},x),{},{overall:H});return{remoteState:t,formatterMetadata:{remoteInitialized:!1,remoteMigrated:!0,remoteStateVersion:"v0",remoteOverallBeforeFormat:void 0,remoteStateBeforeFormat:e,remoteStateAfterFormat:t}}})(t));if(t.overall&&Object(s.a)(t.overall)){if(void 0===t.version&&"object"==typeof t["jsw-onboarding"])return e((e=>()=>{const{overall:t}=e,r=Object(a.c)("jsw-onboarding-phase-1-macroexperiment")?J:H,n=Object(a.c)("jsw-onboarding-phase-1-cutoff"),o=G(G({},N(r)),n?{}:F(r));Object.keys(o).forEach(t=>{const n=e["jsw-onboarding"][t];Object(s.a)(n)&&(o[t]=g(n,r))});const c={overall:t,enrolledExperiences:o,version:"v2"};return{remoteState:c,formatterMetadata:{remoteInitialized:!1,remoteMigrated:!0,remoteStateVersion:"v1",remoteOverallBeforeFormat:e.overall,remoteStateBeforeFormat:e,remoteStateAfterFormat:c}}})(t));if("v2"===t.version&&"object"==typeof t.enrolledExperiences)return e(W(t))}}return e(q(t))},$=()=>async({getState:e,dispatch:t})=>{const{context:r}=e(),n=t(K()),o=(e=>t=>{if(404===t.statusCode)return e(null);throw t})(n);return(async(e,t)=>Object(y.a)(e,t,"growth-nux"))(r.baseUrl,r.accountId).then(n).catch(o)};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Y=e=>async({getState:t})=>{const{context:r}=t(),n=Q(Q({},e),{},{version:"v2"});return(async(e,t,r)=>Object(y.b)(e,t,"growth-nux",JSON.stringify(r)).then(e=>{if(!e.ok)throw new h.a(e.status,e.statusText)}))(r.baseUrl,r.accountId,n)};function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const{DONE:oe}=o.c,ae=()=>async({setState:e,getState:t,dispatch:r})=>{const n=t(),{error:o,hydrated:a,pendingExperienceUpdates:c}=n,s=ne(n,["error","hydrated","pendingExperienceUpdates"]);if(!o)try{e({loading:!0,pendingExperienceUpdates:[]});const{remoteState:t,formatterMetadata:n}=await r($()),o=m(s),i=m(t),u=((e,t)=>({overall:g(e.overall,t.overall),enrolledExperiences:O(e.enrolledExperiences,t.enrolledExperiences)}))(o,i),d=j(u,c),b=[...c],f=((e,t,r)=>{let n,o;return r.remoteOverallBeforeFormat!==e&&(n=e),n&&t.length&&(n===p&&t.reverse(),[[o]]=t),l(l({},r),{},{remoteStatusChangedTo:n,remoteStatusChangedBy:o})})(d.overall,b,n);e(te(te({},d),{},{syncMetadata:f})),!0===(i.overall!==oe||f.remoteMigrated)&&await r(Y(d)),a||e({hydrated:!0})}catch(t){e(te(te({},s),{},{pendingExperienceUpdates:[],error:t}))}finally{e({loading:!1})}},ce=()=>async({dispatch:e,getState:t})=>{await e(ae());const{pendingExperienceUpdates:r,error:n}=t();!n&&r.length&&e(ce())},{NOT_ELIGIBLE:se}=o.c,ie=Object(n.d)({name:"JSW_ONBOARDING_STATE_STORE",initialState:P,actions:{initStore:e=>t=>{Object(c.d)(e)&&(Object(a.d)()&&Object(c.c)(e.cloudId)||(t.setState({context:e}),t.dispatch(ce())))},setExperienceStatus:(e,t)=>r=>{((e,t)=>({getState:r,setState:n,dispatch:a})=>{const{enrolledExperiences:c,loading:i}=r();if(!e.every(e=>Object(s.a)(c[e])))return;if(!(Object(s.a)(t)&&t!==se))return;const l=e.filter(e=>{const r=o.d[t],n=c[e],a=o.d[n];return n!==se&&r>a}).map(e=>[e,t]);n({pendingExperienceUpdates:[...r().pendingExperienceUpdates,...l]}),i||a(ce())})(Array.isArray(e)?e:[e],t)(r)}}}),le=(e,{experience:t})=>!e.error&&e.hydrated&&!!e.enrolledExperiences[t]&&Object(s.a)(e.enrolledExperiences[t])&&e.enrolledExperiences[t]!==o.c.NOT_ELIGIBLE&&e.enrolledExperiences[t]!==o.c.DONE&&e.overall!==o.c.DONE,ue=(e,{experiences:t})=>t.every(t=>le(e,{experience:t})),de=Object(n.c)(ie,{selector:le}),be=e=>{const[t]=de({experience:e});return t},fe=(Object(n.c)(ie,{selector:ue}),Object(n.c)(ie,{selector:e=>Object.keys(o.b).some(t=>le(e,{experience:t}))}),Object(n.c)(ie,{selector:null})),pe=Object(n.e)(ie,{selector:le}),ge=(Object(n.e)(ie,{selector:ue}),Object(n.c)(ie,{selector:e=>e}),Object(n.c)(ie,{selector:e=>e.syncMetadata})),Oe=Object(n.c)(ie,{selector:e=>e.hydrated}),je=Object(n.c)(ie,{selector:e=>e.loading}),me=Object(n.c)(ie,{selector:e=>e.error})},"./src/packages/growth/onboarding/state-initializer/src/services/utils/index.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return b}));var n=r("./node_modules/md5/md5.js"),o=r.n(n),a=r("./src/packages/common-legacy-do-not-add-anything-new/src/growth-experiments/user-in-english-locale.js"),c=r("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js");r("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),r("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js");var s=r("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),i=r("./src/packages/growth/onboarding/state-initializer/src/feature-flags.js");const l=e=>!e.isAnonymous&&e.accountId&&e.hasSoftwareAccess&&(()=>!!Object(i.e)()||Object(a.a)())(),u=({analyticsEvent:e,type:t,action:r,actionSubjectId:n="jswOnboardingStateManager",attributes:o={}})=>{const a=e&&e.clone();a&&("operational"===t?s.b:s.f)(a,`onboarding ${r}`,n,o)},d=(e,t,r={})=>{const n=t&&t.clone();n&&Object(c.a)({meta:{id:"jswOnboardingStateManager",packageName:"jiraOnboardingUserState"},event:n,error:e,attributes:r})},b=e=>parseInt(o()(e).substring(0,7),16)%100<20},"./src/packages/growth/onboarding/state-initializer/src/services/utils/state-validators/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("./src/packages/growth/onboarding/state-initializer/src/common/constants.js");const o=e=>Boolean(n.c[e])},"./src/packages/platform/services/nav-item-service/src/services/create-project-permisson/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var n=r("./node_modules/react-sweet-state/lib/esm/index.js"),o=r("./src/packages/platform/utils/fetch/src/utils/as-json.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const i=e=>async({setState:t,getState:r})=>{const{isFetching:n}=r();if(!n)try{t(c(c({},await(async e=>{const t=`${e}/rest/internal/2/projectpermissions`;return await Object(o.a)(t)})(e)),{},{isFetching:!1,fetchError:null,hasFetchedOnce:!0,hasSuccessOnce:!0}))}catch(e){t({canCreateProject:!1,canCreateClassicProject:!1,canCreateNextGenProject:!1,isFetching:!1,fetchError:e,hasFetchedOnce:!0})}},l={fetchCreateProjectPermission:e=>async({setState:t,dispatch:r})=>{t({isFetching:!0,promise:r(i(e))})}},u=Object(n.d)({name:"create-project-permissions",initialState:{canCreateProject:!1,canCreateClassicProject:!1,canCreateNextGenProject:!1,isFetching:!1,fetchError:null,promise:null,hasFetchedOnce:!1,hasSuccessOnce:!1},actions:l}),d=(Object(n.b)(u),Object(n.c)(u)),b=Object(n.c)(u,{selector:null})}}]);try{window.__jsEvalStop("async-jsw-onboarding-state-initializer.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-jsw-onboarding-state-initializer.36b50dd1431fe72c4eb7.8.js.map