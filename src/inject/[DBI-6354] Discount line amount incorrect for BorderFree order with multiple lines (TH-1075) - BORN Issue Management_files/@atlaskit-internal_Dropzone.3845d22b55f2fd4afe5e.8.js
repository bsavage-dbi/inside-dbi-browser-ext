try{window.performance.mark("@atlaskit-internal_Dropzone.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-internal_Dropzone"],{"./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsErrorBoundary.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),s=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/LegacyAnalyticsContext.js"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fireAnalytics=function(e){var n=t.props,r=n.createAnalyticsEvent,o=n.channel,a=n.data;r({action:"UnhandledError",eventType:"ui",attributes:Object(i.a)(Object(i.a)({browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown"},a),e)}).fire(o)},t}return Object(i.b)(t,e),t.prototype.componentDidCatch=function(e,t){var n={error:e,info:t};this.fireAnalytics(n)},t.prototype.render=function(){var e=this.props,t=e.data,n=e.children;return o.a.createElement(s.a,{data:t},n)},t}(r.Component),l=Object(a.a)()(c);t.a=l},"./node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("./node_modules/rxjs/operators/tap.js"),r=n("./node_modules/rxjs/operators/concatMap.js"),o=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js"),l=n("./node_modules/rxjs-async-map/out/index.js");function u(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var d=function(e){return function(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(u)},p=n("./node_modules/tslib/tslib.es6.js"),f=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");var h=function(e,t,n){return Object(o.fromPromise)(function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return"string"!=typeof e?[3,2]:[4,fetch(e).then((function(e){return e.blob()}))];case 1:return[2,t.sent()];case 2:return[2,e]}}))}))}(e)).pipe(Object(r.concatMap)((function(e){var o=t.chunkSize,a=n.onProgress,u=Math.ceil(e.size/o),h=function(e,t){var n=t.batchSize,i=t.prober;return e.pipe(Object(f.bufferCount)(n),Object(r.concatMap)((function(e){return i(e).then((function(t){return e.map((function(e,n){return Object(p.__assign)(Object(p.__assign)({},e),{exists:t[n]})}))}))})),Object(r.concatMap)((function(e){return Object(m.from)(e)})))}(function(e,t){var n=t.hasher,i=t.concurrency;return Object(l.asyncMap)(function(e){return function(t){return e(t).then((function(e){return{blob:t,hash:e+"-"+t.size}}))}}(n||d),i)(e)}(function(e,t){var n=t.size,i=Math.ceil(e.size/n);return Object(s.range)(0,i).pipe(Object(c.map)((function(t){return e.slice(t*n,(t+1)*n)})))}(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction}),v=0,b=function(e,t){return e.pipe(Object(l.asyncMap)((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(h,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(b=b.pipe(Object(i.tap)((function(){a((v+=1)/u)})))),function(e,t){return e.pipe(Object(f.bufferCount)(t.batchSize)).pipe(Object(r.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(b,{batchSize:t.processingBatchSize,processor:t.processingFunction})})))},v=function(e,t,n){return function(e){var t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:function(){n.unsubscribe(),t.error("canceled")}}}(h(e,t,n))}},"./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./node_modules/tslib/tslib.es6.js"),o=r.__importStar(n("./node_modules/react/index.js")),a=r.__importDefault(n("./node_modules/styled-components/dist/styled-components.browser.esm.js")),s=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),c={small:{height:"16px",width:"16px"},medium:{height:"24px",width:"24px"},xlarge:{height:"64px",width:"48px"}},l=function(e){return e.size?"height: "+c[e.size].height+"; width: "+c[e.size].width+";":null},u=a.default.span(i||(i=r.__makeTemplateObject(["\n"," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],["\n"," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"])),l,(function(e){return e.primaryColor||"currentColor"}),(function(e){return e.secondaryColor||s.background}),l),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.dangerouslySetGlyph,n=e.label,i=e.size;return o.default.createElement(u,{size:i,"aria-label":n||void 0,role:n?"img":"presentation",dangerouslySetInnerHTML:t?{__html:t}:void 0})},t}(o.Component);t.default=d,t.size=Object.keys(c).reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=t,n))}),{})},"./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#007442" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17zM6.93 15.5l2.25-3.55-2.236-3.496h1.734l1.47 2.466h.087l1.485-2.466h1.65l-2.32 3.52 2.286 3.526h-1.68l-1.513-2.388h-.088L8.52 15.5H6.93z"/></svg>'},e,{size:"medium"}))};s.displayName="ExcelSpreadsheet24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/executable/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm2 13v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5H5zm1.883-8a1 1 0 0 0-.992.876L5 13h14l-.89-7.124A1 1 0 0 0 17.116 5H6.883zM8 15h8a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2z"/></svg>'},e,{size:"medium"}))};s.displayName="Executable24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/figma/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.248 0A3.248 3.248 0 0 0 0 3.248v17.504A3.248 3.248 0 0 0 3.248 24h17.504A3.248 3.248 0 0 0 24 20.752V3.248A3.248 3.248 0 0 0 20.752 0H3.248zm8.755 17.012a2.506 2.506 0 0 1-2.505 2.507 2.506 2.506 0 0 1 0-5.013 2.506 2.506 0 0 1 0-5.012 2.506 2.506 0 0 1 0-5.013h5.009a2.506 2.506 0 0 1 0 5.013h-2.505v2.5a2.506 2.506 0 0 1 2.505-2.5 2.506 2.506 0 0 1 0 5.012 2.506 2.506 0 0 1-2.505-2.5v5.006z" fill="#5243AA"/></svg>'},e,{size:"medium"}))};s.displayName="Figma24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/gif/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm10.564 16.636h-1.93a.243.243 0 0 1-.244-.243V8.384c0-.135.108-.243.243-.243h1.93c.135 0 .244.108.244.243v8.009a.243.243 0 0 1-.243.243m3.79 0h-1.931a.243.243 0 0 1-.243-.243V8.384c0-.135.109-.243.243-.243h5.334c.133 0 .243.108.243.243v1.573c0 .134-.11.243-.243.243h-3.16v1.42h2.848c.135 0 .244.11.244.244v1.518a.243.243 0 0 1-.244.244h-2.847v2.767c0 .134-.11.243-.244.243m-10.567.146C4.416 16.782 3 15.31 3 12.843v-.962C3 9.487 4.453 8 6.793 8c2.314 0 3.436 1.467 3.522 2.922a.241.241 0 0 1-.242.258H8.195a.243.243 0 0 1-.24-.2c-.1-.55-.552-.892-1.18-.892-1.108 0-1.34.985-1.34 1.81v.94c0 1.231.467 1.856 1.393 1.856.885 0 1.2-.538 1.2-1v-.092H6.874a.243.243 0 0 1-.243-.243v-1.373c0-.134.11-.243.243-.243h3.216c.134 0 .243.109.243.243v1.555c0 1.496-.929 3.241-3.546 3.241"/></svg>'},e,{size:"medium"}))};s.displayName="Gif24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-doc/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#2196F3" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleDoc24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-form/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#673AB7" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleForm24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#0A9D58" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleSheet24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-slide/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FFC107" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleSlide24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.846 12.17h.483c1.116 0 1.203-.322 1.203-.776 0-.518-.268-.771-.817-.771h-.869v1.546zm6.29 2.183h.664c.742 0 1.501-.22 1.501-1.855 0-1.65-.802-1.86-1.501-1.86h-.665v3.715zM4.462 15.99h-1.08A.384.384 0 0 1 3 15.606V9.383c0-.21.171-.383.383-.383h2.494c1.483 0 2.52.984 2.52 2.394 0 1.43-1.015 2.39-2.525 2.39H4.846v1.822a.384.384 0 0 1-.383.384zm7.45 0h-2.24a.384.384 0 0 1-.384-.384V9.383c0-.21.172-.383.383-.383h2.242c2.107 0 3.268 1.237 3.268 3.484 0 2.26-1.16 3.506-3.268 3.506zm5.776 0h-1.08a.384.384 0 0 1-.384-.384V9.383c0-.21.172-.383.383-.383h4.009c.21 0 .383.172.383.383v.88a.383.383 0 0 1-.383.383h-2.545v1.14h2.292c.212 0 .383.172.383.383v.867c0 .21-.171.383-.383.383h-2.292v2.187a.384.384 0 0 1-.383.384z"/></svg>'},e,{size:"medium"}))};s.displayName="PdfDocument24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#CA5010" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17zM7.854 8.454h2.94c1.45 0 2.441.972 2.441 2.437 0 1.45-1.03 2.421-2.514 2.421H9.329V15.5H7.854V8.454zM9.33 9.665v2.451h1.07c.844 0 1.337-.43 1.337-1.22 0-.801-.483-1.231-1.333-1.231H9.33z"/></svg>'},e,{size:"medium"}))};s.displayName="PowerpointPresentation24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/presentation/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#6554C0" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm3 14a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0v-3a1 1 0 0 0-1-1zm8-6a1 1 0 0 0-1 1v9a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1zm-4 4a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1zm8-7a1 1 0 0 0-1 1v12a1 1 0 0 0 2 0V6a1 1 0 0 0-1-1z"/></svg>'},e,{size:"medium"}))};s.displayName="Presentation24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/sketch/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FF8B00" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm9.03 20h.001c.29-.001.562-.126.752-.343l6.971-8a1 1 0 0 0 .095-1.185l-2.485-4a1.003 1.003 0 0 0-.85-.472h-8.84c-.334 0-.646.167-.832.444l-2.674 4a1 1 0 0 0 .081 1.216l7.03 8c.188.216.462.34.75.34z"/></svg>'},e,{size:"medium"}))};s.displayName="Sketch24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/source-code/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#00B8D9" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm5.017 12.265l-2.58-2.501L8.236 7.05a.999.999 0 1 0-1.392-1.436l-3.54 3.432a1 1 0 0 0 0 1.436l3.32 3.219a1 1 0 1 0 1.393-1.436zm6.638-8.21a1 1 0 0 0-1.271.62l-4.83 14.046a1 1 0 0 0 1.892.65l4.829-14.045a1 1 0 0 0-.62-1.271zm6.081 9.776l-3.32-3.219a.999.999 0 1 0-1.393 1.436l2.58 2.501-2.799 2.714a.999.999 0 1 0 1.392 1.436l3.54-3.432a1 1 0 0 0 0-1.436z"/></svg>'},e,{size:"medium"}))};s.displayName="SourceCode24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm2 5a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2H5zm0 4a1 1 0 1 0 0 2h3a1 1 0 0 0 0-2H5zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2H5zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2H5zm7-12a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7z"/></svg>'},e,{size:"medium"}))};s.displayName="Spreadsheet24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/word-document/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#004E8C" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zm5.629 5.324L8.687 16H7.295L5.43 8.954h1.533l1.099 4.966h.078l1.284-4.966h1.245l1.309 4.966h.078l1.089-4.966h1.523L12.798 16h-1.382l-1.333-4.663h-.078zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17z"/></svg>'},e,{size:"medium"}))};s.displayName="WordDocument24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),s={},c=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new r.ReplaySubject(1),a=Object(i.a)({id:e},t),s=Object(o.h)({data:a});return n.next(s),n},e.prototype.populateCache=function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);Object(a.b)().set(e.id,n)}))},e.prototype.removeFromCache=function(e,t){var n=s[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(Object(a.b)().remove(e),s[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;s[e]||(s[e]=function(){return{items:[],subject:new r.ReplaySubject(1),isLoadingNextPage:!1}}());var o=s[e],a=o.subject;return this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{details:"full"})).then((function(e){var t=e.data,i=t.contents,r=t.nextInclusiveStartKey;n.populateCache(i),o.items=e.data.contents,o.nextInclusiveStartKey=r,a.next(o.items)})).catch((function(e){return a.error(e)})),a},e.prototype.removeFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return i.sent(),this.removeFromCache(e,t),(r=s[t]).subject.next(r.items),[2]}}))}))},e.prototype.loadNextPage=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,c,l,u,d,p,f,m,h;return Object(i.d)(this,(function(v){switch(v.label){case 0:return n=s[e],r=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!r?(n.isLoadingNextPage=!0,o=s[e],a=o.nextInclusiveStartKey,c=o.items,l=o.subject,[4,this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return u=v.sent(),d=u.data,p=d.contents,f=d.nextInclusiveStartKey,this.populateCache(p),m=u.data.contents,h=Object(i.g)(c,m),l.next(h),s[e]={items:h,nextInclusiveStartKey:f,subject:l,isLoadingNextPage:!1},[2]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/dataloader/index.js"),s=n.n(a),c=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),l=n("./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js"),u=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),d=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),p=n("./node_modules/@atlaskit/media-client/dist/esm/uploader.js"),f=n("./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),m=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),h=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),v=n("./node_modules/uuid-validate/index.js"),b=n.n(v),y=n("./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),g=function(e,t){return Object(u.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},_=n("./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),j=function(e){return new Promise((function(t,n){var i=URL.createObjectURL(e),r=new Image;r.src=i,r.onload=function(){var e={width:r.width,height:r.height};URL.revokeObjectURL(i),t(e)},r.onerror=n}))},w=n("./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),x=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),O=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),k=function(e,t,n){return("doc"===e||!Object(x.d)(t)||!n)&&Object(O.d)(t)},S=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js"),F={poll_intervalMs:Object(S.a)("poll_intervalMs"),poll_maxAttempts:Object(S.a)("poll_maxAttempts"),poll_backoffFactor:Object(S.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(S.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(S.a)("poll_maxGlobalFailures")},E=function(){function e(e){this.poll_intervalMs=0,this.attempt=1,this.shouldIterate=!0,this.timeoutId=0,this.options=Object(i.a)(Object(i.a)({},F),e),this.poll_intervalMs=this.options.poll_intervalMs}return e.prototype.execute=function(t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(n=this.options,r=n.poll_maxAttempts,o=n.poll_maxGlobalFailures,e.failures>=o)return[2,this.fail(new Error("Maximum failures exceeded"))];if(0===r)return[2,this.fail(new Error("Maximum attempts exceeded"))];i.label=1;case 1:return i.trys.push([1,3,,4]),this.shouldIterate=!1,[4,t()];case 2:return i.sent(),this.shouldIterate&&(this.attempt++,this.attempt<=r?(this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt-1),this.timeoutId=window.setTimeout((function(){return s.execute(t)}),this.poll_intervalMs)):this.fail(new Error("Maximum attempts exceeded"))),[3,4];case 3:return a=i.sent(),this.fail(a),[3,4];case 4:return[2]}}))}))},e.prototype.fail=function(t){var n=this.onError;e.failures+=1,this.cancel(),n&&n(t)},e.prototype.getIntervalMsForIteration=function(e){var t=this.options.poll_intervalMs;if(1===e)return t;for(var n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)},e.prototype.next=function(){this.shouldIterate=!0},e.prototype.cancel=function(){window.clearTimeout(this.timeoutId),this.timeoutId=0},e.failures=0,e}(),P=function(e,t){return t?e+"-"+t:e},C=function(e){return e.error instanceof Error},A=function(e,t){var n=t.reduce((function(e,t){var n=t.id,i=t.collection;return e[P(n,i)]=C(t)?t:t.details,e}),{});return e.map((function(e){var t=e.id,i=e.collection,r=P(t,i);return n[r]}))},T=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r=this;return Object(i.d)(this,(function(o){switch(o.label){case 0:return"__media-single-file-collection__",t=e.reduce((function(e,t){var n=t.collection||"__media-single-file-collection__",i=e[n]||[];return i.push(t.id),e[n]=i,e}),{}),n=[],[4,Promise.all(Object.keys(t).map((function(e){return Object(i.b)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.d)(this,(function(c){switch(c.label){case 0:r=t[e],o="__media-single-file-collection__"===e?void 0:e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.mediaStore.getItems(r,o)];case 2:return a=c.sent(),n.push.apply(n,Object(i.g)(a.data.items)),[3,4];case 3:return s=c.sent(),r.forEach((function(e){n.push({id:e,error:s||new Error("Failed to fetch"),collection:o})})),[3,4];case 4:return[2]}}))}))})))];case 1:return o.sent(),[2,A(e,n)]}}))}))},this.createDownloadFileStream=function(e,n){var r=Object(w.a)(),o=t.mediaStore.featureFlags,a={poll_intervalMs:Object(S.a)("poll_intervalMs",o),poll_maxAttempts:Object(S.a)("poll_maxAttempts",o),poll_backoffFactor:Object(S.a)("poll_backoffFactor",o),poll_maxIntervalMs:Object(S.a)("poll_maxIntervalMs",o),poll_maxGlobalFailures:o&&o.poll_maxGlobalFailures},s=new E(a);return s.onError=function(e){return r.error(e)},s.execute((function(){return Object(i.b)(t,void 0,void 0,(function(){var t,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.dataloader.load({id:e,collection:n})];case 1:if(!(t=i.sent()))return[2];if(C(t))return r.error(t),[2];switch(o=Object(u.i)(e,t),r.next(o),o.status){case"processing":s.next();break;case"processed":r.complete()}return[2]}}))}))})),r},this.dataloader=new s.a(this.batchLoadingFunc,{maxBatchSize:100})}return e.prototype.getFileState=function(e,t){var n=this;if(!b()(e)){var i=Object(w.a)();return i.error("invalid id was passed to getFileState"),i}return Object(d.b)().getOrInsert(e,(function(){var i=t&&t.collectionName;return n.createDownloadFileStream(e,i)}))},e.prototype.getCurrentState=function(e,t){return Object(_.a)(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=o()(),n=o()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((function(e){return e.created[0].uploadId}))}},e.prototype.uploadExternal=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l,u,p=this;return Object(i.d)(this,(function(f){return n=this.generateUploadableFileUpfrontIds(t),r=n.id,o=n.occurrenceKey,a=Object(w.a)(),s=fetch(e).then((function(e){return e.blob()})).catch((function(){})),c=new Promise((function(e,t){return Object(i.b)(p,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(n=i.sent())||t("Could not fetch the blob"),e({value:n,origin:"remote"}),[2]}}))}))})),l=e.split("/").pop()||"",u={status:"processing",name:l,size:0,mediaType:"unknown",mimeType:"",id:r,occurrenceKey:o,preview:c},a.next(u),Object(d.b)().set(r,a),[2,new Promise((function(e,u){return Object(i.b)(p,void 0,void 0,(function(){var d,p,f,m,h,v;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(d=i.sent())?(p=d.type,f=d.size,m={content:d,mimeType:p,collection:t,name:l},h=Object(y.a)(p),a.next({status:"processing",name:l,size:f,mediaType:h,mimeType:p,id:r,occurrenceKey:o,preview:c}),this.upload(m,void 0,n),[4,j(d)]):[2,u("Could not download remote file")];case 2:return v=i.sent(),e({dimensions:v,uploadableFileUpfrontIds:n}),[2]}}))}))}))]}))}))},e.prototype.upload=function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),i=[],r=function(e){var t=n.slice(e,e+512),r=t.split("").map((function(e,n){return t.charCodeAt(n)})),o=new Uint8Array(r);i.push(o)},o=0;o<n.length;o+=512)r(o);return new Blob(i,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var l,u,f=n.id,m=n.occurrenceKey,h="",v=0,b=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(y.a)(t)}return"unknown"}(e),_=Object(w.a)();o instanceof Blob&&(v=o.size,h=o.type,Object(x.d)(o.type)&&(l={value:o,origin:"local"}));var j={id:f,occurrenceKey:m,name:s,size:v,mediaType:b,mimeType:h,preview:l},O=function(e){_.next(Object(i.a)(Object(i.a)({status:"uploading"},j),{progress:e}))},S=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e){if("canceled"!==e){var t=e instanceof Error?e.message:e;_.next({id:f,status:"error",message:t})}return _.error(e)}k(b,h,l)?u=r.createDownloadFileStream(f,c).subscribe({next:function(e){return _.next(Object(i.a)(Object(i.a)(Object(i.a)({},j),e),g(e,b)))},error:function(e){return _.error(e)},complete:function(){return _.complete()}}):(_.next(Object(i.a)({status:"processing",representations:{}},j)),_.complete())},onProgress:O}).cancel;return Object(d.b)().set(f,_),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){S(),u&&u.unsubscribe()})),_},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return r=i.sent(),Object(l.a)(r,{name:t}),f.a.emit("media-viewed",{fileId:e,isUserCollection:n===m.c,viewingLevel:"download"}),[2]}}))}))},e.prototype.copyFile=function(e,t,n){return void 0===n&&(n={}),Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s,l,p,f,m,v,b,_,j,x,O,S,F,E,P,C,A,T,I,U,L,M,z,D;return Object(i.d)(this,(function(N){switch(N.label){case 0:return r=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,l=t.collection,p=t.replaceFileId,f=t.occurrenceKey,m=n.preview,v=n.mimeType,b=t.mediaStore||new h.a({authProvider:s}),j=c.authToOwner,[4,r({collectionName:o})];case 1:_=j.apply(void 0,[N.sent()]),x={sourceFile:{id:a,collection:o,owner:_}},O={collection:l,replaceFileId:p,occurrenceKey:f},S=Object(d.b)(),N.label=2;case 2:return N.trys.push([2,4,,5]),[4,b.copyFileWithToken(x,O)];case 3:return E=N.sent().data,P=Object(i.a)(Object(i.a)({},E),v?{mimeType:v}:void 0),C=P.id,A=P.mimeType,T=A?Object(y.a)(A):"unknown",I=Object(u.h)({data:P}),D=S.get(C),U=D||Object(w.a)(),L=!Object(u.a)(I)&&m?{preview:m}:{},!Object(u.b)(I)&&A&&k(T,A,m)?(U.next(Object(i.a)(Object(i.a)(Object(i.a)({},I),g(I,T)),L)),F=this.createDownloadFileStream(C,l).subscribe({next:function(e){return U.next(Object(i.a)(Object(i.a)(Object(i.a)({},e),g(e,T)),!Object(u.a)(e)&&L))},error:function(e){return U.error(e)},complete:function(){return U.complete()}})):Object(u.f)(I)||U.next(Object(i.a)(Object(i.a)({},I),!Object(u.a)(I)&&L)),S.has(C)||Object(d.b)().set(C,U),[2,E];case 4:throw M=N.sent(),F&&F.unsubscribe(),p&&(z={id:a,status:"error",message:"error copying file to "+l},(D=S.get(p))?D.next(z):S.set(a,Object(w.a)(z))),M;case 5:return[2]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),s=n("./node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),c=n("./node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),l=function(){function e(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new o.a({authProvider:e.authProvider},t),this.config=e,this.collection=new a.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new r.EventEmitter2,this.stargate=new c.a(e.stargateBaseUrl)}return e.prototype.getImage=function(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}}))}))},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),s={"max-age":a.a,allowAnimated:!0,mode:"crop"},c={limit:30,sortDirection:"desc"},l=function(e,t){return void 0===t&&(t=!1),Object(i.a)(Object(i.a)(Object(i.a)({},s),e),t?{width:a.b,height:a.b}:{})},u={Accept:"application/json","Content-Type":"application/json"},d=function(){function e(e,t){var n=this;this.config=e,this.featureFlags=t,this.getFile=function(e,t){return void 0===t&&(t={}),n.request("/file/"+e,{params:t,authContext:{collectionName:t.collection}}).then(r.d)},this.getFileImageURL=function(e,t){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider()];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/image",{params:l(t),auth:n})]}}))}))},this.getArtifactURL=function(e,t,s){return Object(i.b)(n,void 0,void 0,(function(){var n,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(!(n=Object(o.a)(e,t)))throw new Error("artifact "+t+" not found");return[4,this.config.authProvider({collectionName:s})];case 1:return c=i.sent(),[2,Object(r.a)(""+c.baseUrl+n,{params:{collection:s,"max-age":a.a},auth:c})]}}))}))},this.getImage=function(e,t,o,a){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){return!1,[2,this.request("/file/"+e+"/image",{headers:n,params:l(t,a),authContext:{collectionName:t&&t.collection}},o).then(r.c)]}))}))},this.getItems=function(e,t){var i=e.map((function(e){return{type:"file",id:e,collection:t}}));return n.request("/items",{method:"POST",body:JSON.stringify({descriptors:i}),headers:u,authContext:{collectionName:t}}).then(r.d)},this.getImageMetadata=function(e,t){return n.request("/file/"+e+"/image/metadata",{params:t,authContext:{collectionName:t&&t.collection}}).then(r.d)}}return e.prototype.getCollectionItems=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,o,a,s;return Object(i.d)(this,(function(l){switch(l.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(i.a)(Object(i.a)({},c),t),headers:{Accept:"application/json"}})];case 1:return n=l.sent(),[4,Object(r.d)(n)];case 2:return o=l.sent().data,a=o.contents,s=o.nextInclusiveStartKey,[2,{data:{contents:a.filter((function(e){return e.details.size&&e.details.size>0})),nextInclusiveStartKey:s}}]}}))}))},e.prototype.removeCollectionFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return i.sent(),[2]}}))}))},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(r.d)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(r.e)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:u}).then(r.d)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:u}).then(r.d)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:u,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(r.d)},e.prototype.getFileBinaryURL=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider({collectionName:t})];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:t,"max-age":a.a},auth:n})]}}))}))},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:u}).then(r.e)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:u,params:t}).then(r.d)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(i.b)(this,void 0,void 0,(function(){var o,a,s,c,l,u,d,p;return Object(i.d)(this,(function(i){switch(i.label){case 0:return o=this.config.authProvider,a=t.method,s=t.authContext,c=t.params,l=t.headers,u=t.body,[4,o(s)];case 1:return d=i.sent(),[4,Object(r.f)(""+d.baseUrl+e,{method:a,auth:d,params:c,headers:l,body:u},n)];case 2:return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}((p=i.sent()).headers.get("x-media-region")),[2,p]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=function(){function e(e){this.baseUrl=e||"/gateway/api"}return e.prototype.fetchToken=function(e){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.baseUrl+"/media/auth/smartedge",{credentials:"include",headers:{"x-client-id":e}})];case 1:return[2,t.sent().json()]}}))}))},e.prototype.isTokenExpired=function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0},e}()},"./node_modules/@atlaskit/media-client/dist/esm/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i="recents",r=2592e3,o=4096},"./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,r=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!1,configurable:!0}),e}(),o=function(){if(!i){var e=n("./node_modules/@atlaskit/media-core/dist/esm/index.js").mediaState;i=new r(e.streams)}return i}},"./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),r={on:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=function(e){return"uploading"===e.status},o=function(e){return"processing"===e.status},a=function(e){return"processed"===e.status},s=function(e){return"error"===e.status},c=function(e){return!s(e)&&!!e.preview},l=function(e){return["processed","failed-processing","error"].includes(e.status)},u=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},d=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return Object(i.a)(Object(i.a)({},c),{status:"processing"});case"succeeded":return Object(i.a)(Object(i.a)({},c),{status:"processed"});case"failed":return Object(i.a)(Object(i.a)({},c),{status:"failed-processing"})}},p=function(e,t){return d({data:Object(i.a)({id:e},t)})}},"./node_modules/@atlaskit/media-client/dist/esm/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.prototype.setAbort=function(e){this.abortFunction=e},e.prototype.abort=function(){this.abortFunction&&this.abortFunction()},e}()},"./node_modules/@atlaskit/media-client/dist/esm/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js"),o=null,a=function(){return Object(i.b)(void 0,void 0,void 0,(function(){var e,t,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(e=3,o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,n.e("229dc7ab498").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/esm/utils/hashing/workerHasher.js"))];case 2:return t=i.sent().WorkerHasher,o=new t(e),[3,5];case 3:return i.sent(),[4,n.e("229dc7ab497").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/esm/utils/hashing/simpleHasher.js"))];case 4:return r=i.sent().SimpleHasher,o=new r,[3,5];case 5:return[2,o]}}))}))},s=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:return[2,t.sent().hash(e)]}}))}))},c=function(e,t){return function(n){return Object(i.b)(void 0,void 0,void 0,(function(){var r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,e.probeChunks(p(n),t)];case 1:return r=i.sent(),o=r.data.results,[2,Object.values(o).map((function(e){return e.exists}))]}}))}))}},l=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},u=function(e,t,n){var r=0;return function(o){return Object(i.b)(void 0,void 0,void 0,(function(){var a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[i.sent(),{chunks:p(o),offset:r},n])];case 2:return i.sent(),r+=o.length,[2]}}))}))}},d=function(e,t,n,o){var a=e.content,d=e.collection,p=e.name,f=e.mimeType,m=n.id,h=n.occurrenceKey,v=n.deferredUploadId,b=Object(r.a)(a,{hashingFunction:s,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:l(t,d),probingFunction:c(t,d),processingBatchSize:1e3,processingFunction:u(t,v,d)},{onProgress:function(e){o&&o.onProgress(e)}}),y=b.response,g=b.cancel,_=o&&o.onUploadFinish||function(){};return Promise.all([v,y]).then((function(e){var n=Object(i.e)(e,1)[0];return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:p,mimeType:f},{occurrenceKey:h,collection:d,replaceFileId:m})];case 1:return e.sent(),_(),[2]}}))}))})).catch(_),{cancel:g}},p=function(e){return e.map((function(e){return e.hash}))}},"./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/rxjs/ReplaySubject.js"),r=function(e){var t=new i.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),r=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),o=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(i.c)(e)||Object(r.c)(e)?"image":Object(i.b)(e)||Object(r.b)(e)?"doc":Object(i.a)(e)||Object(r.a)(e)?"audio":Object(i.e)(e)||Object(r.f)(e)?"video":"unknown"}},"./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var i=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},r=function(e){return"application/pdf"===e.toLowerCase()},o=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||i(e)||o(e)||a(e)}},"./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},r=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},o=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},s=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},c=function(e){return i(e)||r(e)||o(e)||a(e)||s(e)}},"./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return new Promise((function(t){return e.subscribe({next:function(e){t(e),this.unsubscribe()}})}))}},"./node_modules/@atlaskit/media-client/dist/esm/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.statusCode=n,i}return Object(i.c)(t,e),t}(Error),s=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return e.ok||e.redirected?[2,e]:[3,1];case 1:return[4,e.text()];case 2:throw t=n.sent(),new a("Got error code "+e.status+": "+t,e.status)}}))}))};function c(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,a=t.auth,c=t.params,l=t.headers,u=t.body,d=t.retryOptions;return function(e,t){void 0===t&&(t={});return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l=this;return Object(i.d)(this,(function(u){switch(u.label){case 0:n=Object(i.a)(Object(i.a)({},m),t),r=n.startTimeoutInMs,o=function(){return Object(i.b)(l,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,h(r)];case 1:return e.sent(),r*=n.factor,[2]}}))}))},a=1,u.label=1;case 1:if(!(a<=n.attempts))return[3,9];u.label=2;case 2:return u.trys.push([2,4,,8]),[4,e()];case 3:return[2,u.sent()];case 4:return s=u.sent(),v(s)?[2,Promise.reject(s)]:(c=a===n.attempts,function(e){return!(e instanceof TypeError)}(s)&&s.statusCode<500||c?[2,Promise.reject(new Error("The call did not succeed after "+a+" attempts. Last error is "+s.message))]:[3,5]);case 5:return[4,o()];case 6:u.sent(),u.label=7;case 7:return[3,8];case 8:return a++,[3,1];case 9:return[2,Promise.reject(new Error("Exhaused all attempts"))]}}))}))}((function(){return fetch(p(e,{params:c}),{method:o,body:u,headers:f(a)(l),signal:n&&n.signal}).then(s)}),void 0===d?{}:d)}function l(e){return e.json()}function u(e){return e.blob()}function d(){return Promise.resolve()}function p(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(r.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,l=s.queryParams,u=a&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),d=Object(r.stringify)(Object(i.a)(Object(i.a)(Object(i.a)({},l),n),u));return c+(d.length>0?"?"+d:"")}function f(e){return function(t){return e?Object(i.a)(Object(i.a)({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}var m={attempts:5,startTimeoutInMs:1e3,factor:2},h=function(e){return new Promise((function(t){setTimeout(t,e)}))},v=function(e){return"request_cancelled"===e.message||"AbortError"===e.name}},"./node_modules/@atlaskit/media-client/node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("./node_modules/rxjs/operators/tap.js"),r=n("./node_modules/rxjs/operators/concatMap.js"),o=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js"),l=n("./node_modules/rxjs-async-map/out/index.js");function u(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var d=function(e){return function(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(u)},p=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),f=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");var h=function(e,t,n){return Object(o.fromPromise)(function(e){return Object(p.b)(this,void 0,void 0,(function(){return Object(p.d)(this,(function(t){switch(t.label){case 0:return"string"!=typeof e?[3,2]:[4,fetch(e).then((function(e){return e.blob()}))];case 1:return[2,t.sent()];case 2:return[2,e]}}))}))}(e)).pipe(Object(r.concatMap)((function(e){var o=t.chunkSize,a=n.onProgress,u=Math.ceil(e.size/o),h=function(e,t){var n=t.batchSize,i=t.prober;return e.pipe(Object(f.bufferCount)(n),Object(r.concatMap)((function(e){return i(e).then((function(t){return e.map((function(e,n){return Object(p.a)(Object(p.a)({},e),{exists:t[n]})}))}))})),Object(r.concatMap)((function(e){return Object(m.from)(e)})))}(function(e,t){var n=t.hasher,i=t.concurrency;return Object(l.asyncMap)(function(e){return function(t){return e(t).then((function(e){return{blob:t,hash:e+"-"+t.size}}))}}(n||d),i)(e)}(function(e,t){var n=t.size,i=Math.ceil(e.size/n);return Object(s.range)(0,i).pipe(Object(c.map)((function(t){return e.slice(t*n,(t+1)*n)})))}(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction}),v=0,b=function(e,t){return e.pipe(Object(l.asyncMap)((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(h,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(b=b.pipe(Object(i.tap)((function(){a((v+=1)/u)})))),function(e,t){return e.pipe(Object(f.bufferCount)(t.batchSize)).pipe(Object(r.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(b,{batchSize:t.processingBatchSize,processor:t.processingFunction})})))},v=function(e,t,n){return function(e){var t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:function(){n.unsubscribe(),t.error("canceled")}}}(h(e,t,n))}},"./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}Object.create},"./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=!!window.MSInputMethodContext&&!!document.documentMode,i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r="media-download-iframe",o=document.createElement("a"),a=document.getElementById(r);a||((a=document.createElement("iframe")).style.display="none",a.id=r,a.name=r,document.body.appendChild(a)),o.href=e,t&&t.name&&(o.download=t.name),o.target=n||i?"_blank":r,document.body.appendChild(o),o.click(),document.body.removeChild(o)}},"./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=function(e){return"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(e):null},r={newCardExperience:!1,zipPreviews:!1,captions:!1,folderUploads:!1,codeViewer:!1,poll_intervalMs:3e3,poll_maxAttempts:7,poll_backoffFactor:1.25,poll_maxIntervalMs:4e4,poll_maxGlobalFailures:10};function o(e,t){var n=i(e);if(null!==n)try{return JSON.parse(n)}catch(e){}return t&&e in t?t[e]:r[e]}Object.keys(r).forEach((function(e){var t=i(e);null!==t&&console.info("%c* LOCAL * MediaFeatureFlag."+e+" = "+t,"font-weight:bold;color:cyan")}))},"./node_modules/@atlaskit/media-core/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mediaState",(function(){return r})),n.d(t,"isClientBasedAuth",(function(){return o})),n.d(t,"isAsapBasedAuth",(function(){return a})),n.d(t,"authToOwner",(function(){return s}));var i=n("./node_modules/eventemitter2/lib/eventemitter2.js"),r={streams:new(n("./node_modules/lru-fast/lru.js").LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new i.EventEmitter2};function o(e){return!!e.clientId}function a(e){return!!e.asapIssuer}var s=function(e){return a(e)?e:{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},"./node_modules/@atlaskit/media-picker/dist/esm/components/component.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.emitPluginItemsInserted=function(e){var t=e.map((function(e){return{pluginName:e.serviceName,pluginFile:{id:e.id,metadata:e.metadata}}}));this.emit("plugin-items-inserted",t)},t.prototype.emitUploadsStart=function(e){this.emit("uploads-start",{files:e})},t.prototype.emitUploadPreviewUpdate=function(e,t){this.emit("upload-preview-update",{file:e,preview:t})},t.prototype.emitUploadEnd=function(e){this.emit("upload-end",{file:e})},t.prototype.emitUploadError=function(e,t){this.emit("upload-error",{fileId:e,error:t})},t}(function(){function e(){this.emitter=new r.EventEmitter2({wildcard:!0})}return e.prototype.once=function(e,t){this.emitter.once(e,t)},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.onAny=function(e){this.emitter.onAny(e)},e.prototype.addListener=function(e,t){this.emitter.addListener(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.removeListener=function(e,t){this.emitter.removeListener(e,t)},e.prototype.removeAllListeners=function(e){void 0===e?this.emitter.removeAllListeners():this.emitter.removeAllListeners(e)},e.prototype.emit=function(e,t){return this.emitter.emit(e,t)},e}())},"./node_modules/@atlaskit/media-picker/dist/esm/components/dropzone/dropzone.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DropzoneBase",(function(){return b})),n.d(t,"Dropzone",(function(){return y}));var i,r=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsContext.js"),a=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),s=n("./node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),c=n("./node_modules/@atlaskit/media-picker/dist/esm/version.json"),l=n("./node_modules/tslib/tslib.es6.js"),u=function(e){return[].concat.apply([],e)},d=function(e){return e.isDirectory?function(e){return new Promise((function(t){e.createReader().readEntries(t)}))}(e).then((function(e){var t=e.map(d);return Promise.all(t).then((function(e){return u(e)}))})):Promise.resolve([e])},p=function(e){var t=function(e){return[].slice.call(e,0)}(e).map((function(e){var t=e.webkitGetAsEntry();return d(t)}));return Promise.all(t).then((function(e){return u(e)}))},f=function(e){return new Promise((function(t){var n=[];e.forEach((function(i){i.file((function(i){n.push(i),n.length===e.length&&t(n)}))}))}))},m=(function(){function e(e,t){var n=this;this.onDrop=function(e){return Object(l.__awaiter)(n,void 0,void 0,(function(){var t,n,i;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),t=this.callback,n=e.dataTransfer.items,[4,p(n)];case 1:return i=r.sent(),t(i),[2]}}))}))},this.dropzone=e,this.callback=t}e.prototype.subscribe=function(){var e=this.dropzone;e.addEventListener("dragover",this.onDragOver,!1),e.addEventListener("drop",this.onDrop)},e.prototype.onDragOver=function(e){e.preventDefault()}}(),n("./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"));var h=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js");function v(e){if(!e.dataTransfer)return!1;var t=e.dataTransfer.types;return Array.from(t).indexOf("Files")>-1}var b=function(e){function t(t){var n=e.call(this,t)||this;return n.uiActive=!1,n.addContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.addEventListener("dragover",n.onDragOver,!1),e.addEventListener("dragleave",n.onDragLeave,!1),e.addEventListener("drop",n.onFileDropped)},n.removeContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.removeEventListener("dragover",n.onDragOver,!1),e.removeEventListener("dragleave",n.onDragLeave,!1),e.removeEventListener("drop",n.onFileDropped)},n.onDragOver=function(e){if(e.preventDefault(),e.dataTransfer&&v(e)){var t=e.dataTransfer,i=void 0;try{i=t.effectAllowed}catch(e){}t.dropEffect="move"===i||"linkMove"===i?"move":"copy";var r=n.getDraggedItemsLength(t);n.emitDragOver({length:r})}},n.onDragLeave=function(e){if(e.dataTransfer){e.preventDefault();var t=0;if(v(e)){var i=e.dataTransfer;t=n.getDraggedItemsLength(i)}n.emitDragLeave({length:t})}},n.onFileDropped=function(e){return Object(r.b)(n,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e.dataTransfer?(e.preventDefault(),e.stopPropagation(),function(e){var t=void 0!==e?e:navigator;if(void 0!==e&&(i=void 0),void 0===i){if(void 0!==t){var n=/Edge\/(\d+)/.exec(t.userAgent),r=/MSIE \d/.test(t.userAgent),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t.userAgent),a=/Opera/.test(t.platform)||/OPR/.test(t.platform),s=!!(r||o||n),c=/Firefox/.test(t.userAgent);return!s&&!a&&!c}return!1}return i}()&&Object(h.a)("folderUploads",this.props.featureFlags)?(this.fireAnalyticsForFolders(e.dataTransfer.items),[4,this.getFilesFromDragEvent(e.dataTransfer.items)]):[3,2]):[2];case 1:return t=r.sent(),this.onDropFolders(t.length),this.uploadService.addFiles(t),[3,3];case 2:this.onDrop(e),n=Array.from(e.dataTransfer.files),this.uploadService.addFiles(n),r.label=3;case 3:return[2]}}))}))},n.fireAnalyticsForFolders=function(e){var t=Array.from(e),i=t.filter((function(e){return function(e){return e.webkitGetAsEntry().isDirectory}(e)})).length;i>0&&n.fireAnalyticsEvent("folderDroppedInto",i)},n.getFilesFromDragEvent=function(e){return Object(r.b)(n,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,p(e)];case 1:return t=i.sent(),[4,f(t)];case 2:return n=i.sent(),[2,this.filterFilesAgainstBlacklist(n)]}}))}))},n.filterFilesAgainstBlacklist=function(e){var t=[".DS_Store","thumbs.db","desktop.ini"];return e.filter((function(e){return!t.includes(e.name)}))},n.onDropFolders=function(e){e>0&&n.sendAnalyticsAndEmitDragLeave(e)},n.onDrop=function(e){if(e.dataTransfer&&v(e)){var t=e.dataTransfer,i=n.getDraggedItemsLength(t);n.sendAnalyticsAndEmitDragLeave(i)}},n.sendAnalyticsAndEmitDragLeave=function(e){n.fireAnalyticsEvent("droppedInto",e),n.props.onDrop&&n.props.onDrop(),n.emitDragLeave({length:e})},n}return Object(r.c)(t,e),t.prototype.getContainer=function(){return this.props.config.container||document.body},t.prototype.componentDidMount=function(){var e=this.props.onCancelFn;this.addContainerListeners(this.getContainer()),e&&e(this.cancel)},t.prototype.componentWillUnmount=function(){this.removeContainerListeners(this.getContainer())},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.config.container,n=this.props.config.container;t!==n&&(this.removeContainerListeners(n),this.addContainerListeners(t))},t.prototype.getDraggedItemsLength=function(e){return e.items?Array.from(e.items).filter((function(e){return"file"===e.kind})).length:e.files.length},t.prototype.emitDragOver=function(e){if(!this.uiActive){var t=this.props.onDragEnter;this.uiActive=!0,this.fireAnalyticsEvent("draggedInto",e.length),t&&t(e)}},t.prototype.emitDragLeave=function(e){var t=this;this.uiActive&&(this.uiActive=!1,window.setTimeout((function(){if(!t.uiActive){var n=t.props.onDragLeave;t.fireAnalyticsEvent("draggedOut",e.length),n&&n(e)}}),50))},t.prototype.fireAnalyticsEvent=function(e,t){var n=this.props.createAnalyticsEvent;n&&n({eventType:"ui",actionSubject:"dropzone",action:e,attributes:{packageName:c.a,fileCount:t}}).fire(m.ANALYTICS_MEDIA_CHANNEL)},t.prototype.render=function(){return null},t}(s.a),y=Object(o.a)({attributes:{componentName:"dropzone",packageName:c.a,packageVersion:c.b}})(Object(a.a)()(b))},"./node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/perf-marks/dist/umd/perf-marks.js"),a=n("./node_modules/@atlaskit/media-picker/dist/esm/components/component.js"),s=n("./node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),l=n("./node_modules/@atlaskit/media-picker/dist/esm/version.json"),u=n("./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),d=function(e,t){return void 0===t&&(t={}),{actionSubject:"mediaUpload",actionSubjectId:"localMedia",attributes:Object(i.a)(Object(i.a)({packageName:l.a,sourceType:"local"},e?{fileAttributes:{fileSize:e.size,fileMimetype:e.type}}:{}),t)}},p=function(e){function t(t){var n=e.call(this,t)||this;n.uploadComponent=new a.a,n.fireCommencedEvent=function(e){e.files.forEach((function(e){var t=e.id,r=e.size,a=e.type;Object(o.start)("MediaPicker.fireUpload."+t),n.createAndFireAnalyticsEvent(Object(i.a)(Object(i.a)({},d({size:r,type:a})),{action:"commenced",eventType:c.b}))}))},n.fireUploadSucceeded=function(e){var t=e.file,r=t.size,a=t.type,s=t.id,l=Object(o.end)("MediaPicker.fireUpload."+s).duration,u=void 0===l?-1:l;n.createAndFireAnalyticsEvent(Object(i.a)(Object(i.a)({},d({size:r,type:a},{status:"success",uploadDurationMsec:u})),{action:"uploaded",eventType:c.d}))},n.fireUploadFailed=function(e){return Object(i.b)(n,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(r){return t=Object(o.end)("MediaPicker.fireUpload."+e.fileId).duration,n=void 0===t?-1:t,this.createAndFireAnalyticsEvent(Object(i.a)(Object(i.a)({},d(void 0,{status:"fail",failReason:e.error.description,uploadDurationMsec:n})),{action:"uploaded",eventType:c.d})),[2]}))}))},n.createAndFireAnalyticsEvent=function(e){var t=n.props.createAnalyticsEvent;t&&t(e).fire(u.ANALYTICS_MEDIA_CHANNEL)},n.cancel=function(e){n.uploadService.cancel(e)},n.onFilesAdded=function(e){var t=e.files;n.uploadComponent.emitUploadsStart(t)},n.onFilePreviewUpdate=function(e){var t=e.file,i=e.preview;n.uploadComponent.emitUploadPreviewUpdate(t,i)},n.onFileConverting=function(e){var t=e.file;n.uploadComponent.emitUploadEnd(t)},n.onUploadError=function(e){var t=e.fileId,i=e.error;n.uploadComponent.emitUploadError(t,i)};var r=n.props,l=r.mediaClient,p=r.config,f=r.onUploadsStart,m=r.onPreviewUpdate,h=r.onEnd,v=r.onError,b=p.uploadParams,y=p.shouldCopyFileToRecents,g=void 0===y||y;return n.uploadComponent.on("uploads-start",n.fireCommencedEvent),n.uploadComponent.on("upload-end",n.fireUploadSucceeded),n.uploadComponent.on("upload-error",n.fireUploadFailed),f&&n.uploadComponent.on("uploads-start",f),m&&n.uploadComponent.on("upload-preview-update",m),h&&n.uploadComponent.on("upload-end",h),v&&n.uploadComponent.on("upload-error",v),n.uploadService=new s.a(l,b,g),n.uploadService.on("files-added",n.onFilesAdded),n.uploadService.on("file-preview-update",n.onFilePreviewUpdate),n.uploadService.on("file-converting",n.onFileConverting),n.uploadService.on("file-upload-error",n.onUploadError),n}return Object(i.c)(t,e),t.prototype.setUploadParams=function(e){this.uploadService.setUploadParams(e)},t}(r.Component)},"./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ANALYTICS_MEDIA_CHANNEL",(function(){return s}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsErrorBoundary.js"),s="media",c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,i=e.children;return o.a.createElement(a.a,{channel:s,data:n},i)},t.displayName="MediaPickerAnalyticsErrorBoundary",t}(o.a.Component);t.default=c},"./node_modules/@atlaskit/media-picker/dist/esm/service/types.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i;!function(e){e[e.PastedFile=0]="PastedFile",e[e.PastedScreenshot=1]="PastedScreenshot",e[e.LocalUpload=2]="LocalUpload"}(i||(i={}))},"./node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),s=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),c=n("./node_modules/@atlaskit/media-client/dist/esm/upload-controller.js"),l=n("./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),u=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),d=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),p=n("./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),f=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),m=n("./node_modules/eventemitter2/lib/eventemitter2.js"),h=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");function v(e){return Object(h.isClientBasedAuth)(e)?{id:e.clientId,token:e.token,baseUrl:e.baseUrl}:e}var b=n("./node_modules/@atlaskit/media-ui/dist/esm/util.js"),y=n("./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/index.js");var g=n("./node_modules/@atlaskit/media-picker/dist/esm/service/types.js"),_=n("./node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js"),j=function(){function e(e,t,n){var r=this;this.tenantMediaClient=e,this.tenantUploadParams=t,this.shouldCopyFileToRecents=n,this.emit=function(e,t){r.emitter.emit(e,t)},this.onFileSuccess=function(e,t){return Object(i.b)(r,void 0,void 0,(function(){var n,r=this;return Object(i.d)(this,(function(i){return n=e.mediaFile,this.copyFileToUsersCollection(t).catch(console.log),this.emit("file-converting",{file:n}),e.cancel=function(){r.releaseCancellableFile(n)},[2]}))}))},this.onFileError=function(e,t,n){if(r.releaseCancellableFile(e),"canceled"!==n){var i=n instanceof Error?n.message:n;r.emit("file-upload-error",{fileId:e.id,error:{fileId:e.id,description:i,name:t}})}},this.emitter=new m.EventEmitter2,this.cancellableFilesUploads={};var o=e.config.userAuthProvider;o&&(this.userMediaStore=new a.a({authProvider:o}),this.userMediaClient=new s.a({userAuthProvider:o,authProvider:o}))}return e.prototype.setUploadParams=function(e){this.tenantUploadParams=e},e.prototype.createUploadController=function(){return new c.a},e.prototype.addFiles=function(e){this.addFilesWithSource(e.map((function(e){return{file:e,source:g.a.LocalUpload}})))},e.prototype.addFilesWithSource=function(e){var t=this;if(0!==e.length){var n=Date.now(),i=this.userMediaClient,r=this.tenantMediaClient,a=this.shouldCopyFileToRecents,s=a?r:i,c=a?this.tenantUploadParams.collection:f.c;if(s){for(var d=[],p=0;p<e.length;p++)d.push({fileId:o()(),occurrenceKey:o()(),collection:c});var m=s.file.touchFiles(d,c),h=e.map((function(e,i){var r=e.file,o=e.source,p=d[i],f=p.fileId,h=p.occurrenceKey,v=m.then((function(e){var t=e.created.find((function(e){return e.fileId===f}));if(!t)throw new Error("Cant retrieve uploadId from result of touch endpoint call");return t.uploadId})),b={collection:c,content:r,name:r.name,mimeType:r.type},y={id:f,occurrenceKey:h,deferredUploadId:v},g=t.createUploadController(),_=s.file.upload(b,g,y),j={id:f,name:r.name,size:r.size,creationDate:n,type:r.type,occurrenceKey:h},w={mediaFile:j,file:r,source:o,cancel:function(){g.abort()}},x=t.onFileSuccess.bind(t);return _.subscribe({next:function(e){"processing"===e.status&&(this.unsubscribe(),a&&(s.emit("file-added",e),l.a.emit("file-added",e)),x(w,f))},error:function(e){t.onFileError(j,"upload_fail",e)}}),t.cancellableFilesUploads[f]=w,Object(u.b)().set(f,_),w})),v=h.map((function(e){return e.mediaFile}));this.emit("files-added",{files:v}),this.emitPreviews(h)}}},e.prototype.cancel=function(e){var t=this;if(e){var n=this.cancellableFilesUploads[e];n&&n.cancel&&n.cancel()}else Object.keys(this.cancellableFilesUploads).forEach((function(e){var n=t.cancellableFilesUploads[e];n.cancel&&n.cancel()}))},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.emitPreviews=function(e){var t=this;e.forEach((function(e){var n=e.file,r=e.mediaFile,o=e.source,a=n.type,s=t.getMediaTypeFromFile(n);Object(d.d)(a)?"image"===s?function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Object(b.e)(e)];case 1:return n=i.sent(),[4,Object(y.a)(n)];case 2:return null===(r=i.sent())?[2,{file:e}]:(o=r.width,a=r.height,s=r.scaleFactor,[2,{file:e,dimensions:{width:o,height:a},scaleFactor:t||s}])}}))}))}(n,o===g.a.PastedScreenshot?window.devicePixelRatio:void 0).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):Object(_.a)(n,s).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):t.emit("file-preview-update",{file:r,preview:{}})}))},e.prototype.getMediaTypeFromFile=function(e){var t=e.type;return Object(p.a)(t)},e.prototype.releaseCancellableFile=function(e){delete this.cancellableFilesUploads[e.id]},e.prototype.copyFileToUsersCollection=function(e){var t=this.shouldCopyFileToRecents,n=this.userMediaStore,r=this.tenantUploadParams;if(!t||!n)return Promise.resolve();var o=r.collection;return(0,this.tenantMediaClient.config.authProvider)({collectionName:o}).then((function(t){var r={sourceFile:{id:e,collection:o,owner:Object(i.a)({},v(t))}},a={collection:f.c};return n.copyFileWithToken(r,a)}))},e}()},"./node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/video-snapshot/dist/index.js"),o=n.n(r),a=function(e,t){return new Promise((function(n,r){return Object(i.b)(void 0,void 0,void 0,(function(){var a,s,c,l,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return a=URL.createObjectURL(e),"image"!==t?[3,1]:((s=new Image).src=a,s.onload=function(){var t={width:s.width,height:s.height},i={file:e,dimensions:t,scaleFactor:1};URL.revokeObjectURL(a),n(i)},s.onerror=r,[3,4]);case 1:return"video"!==t?[3,3]:[4,(c=new o.a(e)).getDimensions()];case 2:return l=i.sent(),u={file:e,dimensions:l,scaleFactor:1},c.end(),n(u),[3,4];case 3:n({file:e}),i.label=4;case 4:return[2]}}))}))}))}},"./node_modules/@atlaskit/media-picker/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-picker","b":"56.0.3"}')},"./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return p}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function p(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create},"./node_modules/@atlaskit/media-ui/dist/esm/codeViewer.js":function(e,t,n){"use strict";function i(e){return e.indexOf(".")>-1?e.split(".").pop():""}function r(e){return null!==o(e)}function o(e){var t=i(e);switch(t){case"abap":case"ada":case"c":case"css":case"d":case"dart":case"go":case"graphql":case"groovy":case"html":case"java":case"json":case"matlab":case"xml":case"lua":case"puppet":case"qml":case"sass":case"sql":case"php":case"r":case"swift":case"tcl":case"vala":case"vhdl":case"xquery":return t;case"as":case"asc":return"actionscript";case"ino":return"arduino";case"au3":return"autoit";case"cpp":case"h":case"c++":return"c++";case"coffee":return"coffeescript";case"cs":return"csharp";case"cu":return"cuda";case"pas":case"dpr":case"dproj":case"dpk":return"delphi";case"ex":case"exs":return"elixir";case"erl":case"hrl":return"erlang";case"f90":case"for":case"f":case"fpp":case"i":case"i90":case"ftn":return"fortran";case"dbc":return"foxpro";case"hs":case"has":return"haskell";case"hx":return"haxe";case"js":return"javascript";case"jl":return"julia";case"kt":return"kotlin";case"m":case"mm":return"objective-c";case"j":return"objective-j";case"tex":return"latex";case"nb":case"cdf":return"mathematica";case"cma":return"ocaml";case"pl":return"perl";case"py":return"python";case"ps1":case"psd1":case"psm1":return"powershell";case"rb":return"ruby";case"rst":return"restructuredtext";case"rs":return"rust";case"rkt":return"racket";case"sh":return"shell";case"sc":case"sch":return"scheme";case"txt":case"msg":case"log":case"csv":return"text";case"ts":return"typescript";case"v":return"verilog";case"xq":case"xql":case"xqm":case"xqy":return"xquery";default:return null}}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}))},"./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/imageOrientationUtil.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i={1:"none",2:"rotateY(180deg)",3:"rotate(180deg)",4:"rotate(180deg) rotateY(180deg)",5:"rotate(270deg) rotateY(180deg)",6:"rotate(90deg)",7:"rotate(90deg) rotateY(180deg)",8:"rotate(270deg)"},r=function(e){return e>=5},o=function(e){return i[e]}},"./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j}));var i,r,o=n("./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js");!function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(i||(i={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(r||(r={}));var a,s={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},c=r.XResolution,l=r.YResolution;function u(e){var t=this;return new Promise((function(i,r){return Object(o.b)(t,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(o){switch(o.label){case 0:return a?[3,2]:[4,n.e("cd45fd1be4").then(n.t.bind(null,"./node_modules/blueimp-load-image/js/index.js",7))];case 1:t=o.sent(),a=t.default||t,o.label=2;case 2:return a.parseMetaData(e,(function(e){try{var t=e&&e.exif?e.exif.getAll():{};Object.keys(t).forEach((function(e){var n=t[e];"object"==typeof n&&(e===c||e===l)&&"numerator"in n&&(t[e]=n.numerator),"number"==typeof t[e]&&(t[e]=""+t[e])})),i(t)}catch(e){r(e)}})),[2]}}))}))}))}var d,p=n("./node_modules/@atlaskit/media-ui/dist/esm/util.js");function f(e){return Object(o.b)(this,void 0,void 0,(function(){var t,i;return Object(o.d)(this,(function(r){switch(r.label){case 0:return d?[3,2]:[4,n.e("420d777950").then(n.t.bind(null,"./node_modules/png-chunks-extract/index.js",7))];case 1:t=r.sent(),d=t.default||t,r.label=2;case 2:return[4,Object(p.b)(e)];case 3:return i=r.sent(),[4,m(d(i))];case 4:return[2,r.sent()]}}))}))}function m(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,i,r,a,s,c;return Object(o.d)(this,(function(o){for(t="",n={},i=0;i<e.length&&"IEND"!==(r=e[i]).name;++i)"iTXt"===r.name&&(t=String.fromCharCode.apply(null,Array.from(r.data))),"pHYs"===r.name&&(a=new DataView(r.data.buffer),1===a.getUint8(8)&&(s=a.getUint32(0),c=a.getUint32(4),n={PixelPerUnitX:s,PixelPerUnitY:c}));return[2,{iTXt:t,pHYs:n}]}))}))}function h(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,a;return Object(o.d)(this,(function(s){switch(s.label){case 0:t=e.type,s.label=1;case 1:return s.trys.push([1,6,,7]),t!==i.PNG?[3,3]:[4,f(e)];case 2:return n=s.sent(),r=n.iTXt,a=n.pHYs,[2,Object(o.a)(Object(o.a)({},function(e){var t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((function(e){var n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){var i=n[2];t[i]=n[3]}})),t}(r)),a)];case 3:return e.type!==i.JPEG?[3,5]:[4,u(e)];case 4:return[2,s.sent()];case 5:return[3,7];case 6:return s.sent(),[3,7];case 7:return[2,null]}}))}))}var v=n("./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/imageOrientationUtil.js"),b=r.Orientation,y=r.XResolution;function g(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,i,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,x(e)];case 1:return(t=o.sent())?(n=t.width,i=t.height,r=t.tags,[2,{scaleFactor:function(e,t){var n=function(e){try{var t=e.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(t)return parseFloat(t[1])}catch(e){}return null}(e);return null!==n?n:t?"number"==typeof t.PixelPerUnitX?Math.round(.0254*t.PixelPerUnitX)/72:w(t,y,72)/72:1}(e.file,r),width:n,height:i}]):[2,null]}}))}))}var _=function(e){if(e&&e[b]){var t=e[b];if(t){var n=parseInt(t,10);return isNaN(n)?s[t]:n}}return 1};function j(e){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,h(e)];case 1:return t=n.sent(),[2,_(t)]}}))}))}function w(e,t,n){try{var i=parseFloat(""+e[t]);if(!isNaN(i))return i}catch(e){}return n}function x(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,i,r,a,s,c,l,u,d,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=e.file,n=e.src,i=t.type,r=0,a=0,[4,h(t)];case 1:if((s=o.sent())&&s.PixelXDimension&&(r=w(s,"PixelXDimension",0)),s&&s.PixelXDimension&&(a=w(s,"PixelYDimension",0)),0!==r||0!==a)return[3,6];c=void 0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,Object(p.g)(n)];case 3:return c=o.sent(),[3,5];case 4:return o.sent(),[2,null];case 5:l=c.naturalWidth,u=c.naturalHeight,r=l,a=u,o.label=6;case 6:return d=_(s),f=Object(v.b)(d),[2,{type:i,width:f?a:r,height:f?r:a,tags:s}]}}))}))}},"./node_modules/@atlaskit/media-ui/dist/esm/util.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"e",(function(){return z})),n.d(t,"b",(function(){return D})),n.d(t,"g",(function(){return N})),n.d(t,"d",(function(){return B})),n.d(t,"f",(function(){return q}));var i=n("./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/24.js"),o=n.n(r),a=n("./node_modules/@atlaskit/icon-file-type/glyph/gif/24.js"),s=n.n(a),c=n("./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/24.js"),l=n.n(c),u=n("./node_modules/@atlaskit/icon-file-type/glyph/word-document/24.js"),d=n.n(u),p=n("./node_modules/@atlaskit/icon-file-type/glyph/sketch/24.js"),f=n.n(p),m=n("./node_modules/@atlaskit/icon-file-type/glyph/figma/24.js"),h=n.n(m),v=n("./node_modules/@atlaskit/icon-file-type/glyph/executable/24.js"),b=n.n(v),y=n("./node_modules/@atlaskit/icon-file-type/glyph/google-doc/24.js"),g=n.n(y),_=n("./node_modules/@atlaskit/icon-file-type/glyph/google-form/24.js"),j=n.n(_),w=n("./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/24.js"),x=n.n(w),O=n("./node_modules/@atlaskit/icon-file-type/glyph/google-slide/24.js"),k=n.n(O),S=n("./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/24.js"),F=n.n(S),E=n("./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/24.js"),P=n.n(E),C=n("./node_modules/@atlaskit/icon-file-type/glyph/presentation/24.js"),A=n.n(C),T=n("./node_modules/@atlaskit/icon-file-type/glyph/source-code/24.js"),I=n.n(T),U=n("./node_modules/@atlaskit/media-ui/dist/esm/codeViewer.js");function L(e,t){if(void 0===t&&(t="untitled"),0===e.length)throw new Error("dataURI not found");var n,i=e.split(","),r=i[0].indexOf("base64")>=0?atob(i[1]):decodeURIComponent(i[1]);try{n=e.split(",")[0].split(":")[1].split(";")[0]}catch(e){n="application/octet-stream"}for(var o=new Uint8Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);var s=new Blob([o],{type:n});try{return new File([s],t,{type:n})}catch(e){var c=s,l=new Date;return c.lastModified=l.getTime(),c.lastModifiedDate=l,c.name=t,c.webkitRelativePath="",c}}function M(e){return new Promise((function(t,n){var i=new FileReader;i.addEventListener("load",(function(){var e=i.result;"string"==typeof e?t(e):null===e&&n()})),i.addEventListener("error",n),i.readAsDataURL(e)}))}function z(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n={file:e},(r=t)?[3,2]:[4,M(e)];case 1:r=i.sent(),i.label=2;case 2:return[2,(n.src=r,n)]}}))}))}function D(e){return new Promise((function(t,n){var i=new FileReader;i.addEventListener("load",(function(){var e=new Uint8Array(i.result);t(e)})),i.addEventListener("error",n),i.readAsArrayBuffer(e)}))}function N(e){return new Promise((function(t,n){var i=new Image;i.src=e,i.onload=function(){t(i)},i.onerror=n}))}var B=function(e,t,n){if(void 0===n&&(n=document.body),e.classList.contains(t))return e;for(var i=e;i.parentElement!==n;){if(!i.parentElement)return;if((i=i.parentElement).classList.contains(t))return i}},R=[{label:"pdf",mimeTypes:["application/pdf"],icon:o.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:j.a},{label:"google-slides",mimeTypes:["application/vnd.google-apps.presentation"],icon:k.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:j.a},{label:"google-sheets",mimeTypes:["application/vnd.google-apps.spreadsheet"],icon:x.a},{label:"google-docs",mimeTypes:["application/vnd.google-apps.document","application/vnd.google-apps.kix"],icon:g.a},{label:"microsoft-word",mimeTypes:["application/msword","application/vnd.openxmlformats-officedocument.word"],icon:d.a},{label:"presentation",mimeTypes:["application/x-iwork-keynote-sffkey","application/vnd.oasis.opendocument.presentation"],icon:A.a},{label:"powerpoint-presentation",mimeTypes:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"],icon:l.a},{label:"giphy",mimeTypes:["image/gif"],icon:s.a},{label:"spreadsheet",mimeTypes:["text/csv"],icon:P.a},{label:"excel-spreadsheet",mimeTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/x-iwork-keynote-sffnumbers"],icon:F.a}];function q(e,t){var n=R.find((function(t){return t.mimeTypes.indexOf(e)>-1}));return n||(Object(U.c)(t)?{label:"source-code",icon:I.a}:t.match(/.*\.sketch$/)?{label:"sketch",icon:f.a}:t.match(/.*\.fig$/)?{label:"figma",icon:h.a}:t.match(/.*\.exe$/)||t.match(/.*\.dmg$/)?{label:"executable",icon:b.a}:void 0)}},"./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function u(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/component.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.emitPluginItemsInserted=function(e){var t=e.map((function(e){return{pluginName:e.serviceName,pluginFile:{id:e.id,metadata:e.metadata}}}));this.emit("plugin-items-inserted",t)},t.prototype.emitUploadsStart=function(e){this.emit("uploads-start",{files:e})},t.prototype.emitUploadPreviewUpdate=function(e,t){this.emit("upload-preview-update",{file:e,preview:t})},t.prototype.emitUploadEnd=function(e){this.emit("upload-end",{file:e})},t.prototype.emitUploadError=function(e,t){this.emit("upload-error",{fileId:e,error:t})},t}(function(){function e(){this.emitter=new r.EventEmitter2({wildcard:!0})}return e.prototype.once=function(e,t){this.emitter.once(e,t)},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.onAny=function(e){this.emitter.onAny(e)},e.prototype.addListener=function(e,t){this.emitter.addListener(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.removeListener=function(e,t){this.emitter.removeListener(e,t)},e.prototype.removeAllListeners=function(e){void 0===e?this.emitter.removeAllListeners():this.emitter.removeAllListeners(e)},e.prototype.emit=function(e,t){return this.emitter.emit(e,t)},e}())},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/dropzone/dropzone.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DropzoneBase",(function(){return u})),n.d(t,"Dropzone",(function(){return d}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),o=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js");function l(e){if(!e.dataTransfer)return!1;var t=e.dataTransfer.types;return Array.from(t).indexOf("Files")>-1}var u=function(e){function t(t){var n=e.call(this,t)||this;return n.uiActive=!1,n.addContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.addEventListener("dragover",n.onDragOver,!1),e.addEventListener("dragleave",n.onDragLeave,!1),e.addEventListener("drop",n.onFileDropped)},n.removeContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.removeEventListener("dragover",n.onDragOver,!1),e.removeEventListener("dragleave",n.onDragLeave,!1),e.removeEventListener("drop",n.onFileDropped)},n.onDragOver=function(e){if(e.preventDefault(),e.dataTransfer&&l(e)){var t=e.dataTransfer,i=void 0;try{i=t.effectAllowed}catch(e){}t.dropEffect="move"===i||"linkMove"===i?"move":"copy";var r=n.getDraggedItemsLength(t);n.emitDragOver({length:r})}},n.onDragLeave=function(e){if(e.dataTransfer){e.preventDefault();var t=0;if(l(e)){var i=e.dataTransfer;t=n.getDraggedItemsLength(i)}n.emitDragLeave({length:t})}},n.onFileDropped=function(e){if(e.dataTransfer){e.preventDefault(),e.stopPropagation(),n.onDrop(e);var t=Array.from(e.dataTransfer.files);n.uploadService.addFiles(t)}},n.onDrop=function(e){if(e.dataTransfer&&l(e)){var t=e.dataTransfer,i=n.getDraggedItemsLength(t);n.fireAnalyticsEvent("droppedInto",i),n.props.onDrop&&n.props.onDrop(),n.emitDragLeave({length:i})}},n}return Object(i.__extends)(t,e),t.prototype.getContainer=function(){return this.props.config.container||document.body},t.prototype.componentDidMount=function(){var e=this.props.onCancelFn;this.addContainerListeners(this.getContainer()),e&&e(this.cancel)},t.prototype.componentWillUnmount=function(){this.removeContainerListeners(this.getContainer())},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.config.container,n=this.props.config.container;t!==n&&(this.removeContainerListeners(n),this.addContainerListeners(t))},t.prototype.getDraggedItemsLength=function(e){return e.items?Array.from(e.items).filter((function(e){return"file"===e.kind})).length:e.files.length},t.prototype.emitDragOver=function(e){if(!this.uiActive){var t=this.props.onDragEnter;this.uiActive=!0,this.fireAnalyticsEvent("draggedInto",e.length),t&&t(e)}},t.prototype.emitDragLeave=function(e){var t=this;this.uiActive&&(this.uiActive=!1,window.setTimeout((function(){if(!t.uiActive){var n=t.props.onDragLeave;t.fireAnalyticsEvent("draggedOut",e.length),n&&n(e)}}),50))},t.prototype.fireAnalyticsEvent=function(e,t){var n=this.props.createAnalyticsEvent;n&&n({eventType:"ui",actionSubject:"dropzone",action:e,attributes:{packageName:s.a,fileCount:t}}).fire(c.ANALYTICS_MEDIA_CHANNEL)},t.prototype.render=function(){return null},t}(a.a),d=Object(r.a)({attributes:{componentName:"dropzone",packageName:s.a,packageVersion:s.b}})(Object(o.a)()(u))},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/perf-marks/dist/umd/perf-marks.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/component.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),l=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json"),u=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),d=function(e,t){return void 0===t&&(t={}),{actionSubject:"mediaUpload",actionSubjectId:"localMedia",attributes:Object(i.__assign)(Object(i.__assign)({packageName:l.a,sourceType:"local"},e?{fileAttributes:{fileSize:e.size,fileMimetype:e.type}}:{}),t)}},p=function(e){function t(t){var n=e.call(this,t)||this;n.uploadComponent=new a.a,n.fireCommencedEvent=function(e){e.files.forEach((function(e){var t=e.id,r=e.size,a=e.type;Object(o.start)("MediaPicker.fireUpload."+t),n.createAndFireAnalyticsEvent(Object(i.__assign)(Object(i.__assign)({},d({size:r,type:a})),{action:"commenced",eventType:c.b}))}))},n.fireUploadSucceeded=function(e){var t=e.file,r=t.size,a=t.type,s=t.id,l=Object(o.end)("MediaPicker.fireUpload."+s).duration,u=void 0===l?-1:l;n.createAndFireAnalyticsEvent(Object(i.__assign)(Object(i.__assign)({},d({size:r,type:a},{status:"success",uploadDurationMsec:u})),{action:"uploaded",eventType:c.d}))},n.fireUploadFailed=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t=Object(o.end)("MediaPicker.fireUpload."+e.fileId).duration,n=void 0===t?-1:t,this.createAndFireAnalyticsEvent(Object(i.__assign)(Object(i.__assign)({},d(void 0,{status:"fail",failReason:e.error.description,uploadDurationMsec:n})),{action:"uploaded",eventType:c.d})),[2]}))}))},n.createAndFireAnalyticsEvent=function(e){var t=n.props.createAnalyticsEvent;t&&t(e).fire(u.ANALYTICS_MEDIA_CHANNEL)},n.cancel=function(e){n.uploadService.cancel(e)},n.onFilesAdded=function(e){var t=e.files;n.uploadComponent.emitUploadsStart(t)},n.onFilePreviewUpdate=function(e){var t=e.file,i=e.preview;n.uploadComponent.emitUploadPreviewUpdate(t,i)},n.onFileConverting=function(e){var t=e.file;n.uploadComponent.emitUploadEnd(t)},n.onUploadError=function(e){var t=e.fileId,i=e.error;n.uploadComponent.emitUploadError(t,i)};var r=n.props,l=r.mediaClient,p=r.config,f=r.onUploadsStart,m=r.onPreviewUpdate,h=r.onEnd,v=r.onError,b=p.uploadParams,y=p.shouldCopyFileToRecents,g=void 0===y||y;return n.uploadComponent.on("uploads-start",n.fireCommencedEvent),n.uploadComponent.on("upload-end",n.fireUploadSucceeded),n.uploadComponent.on("upload-error",n.fireUploadFailed),f&&n.uploadComponent.on("uploads-start",f),m&&n.uploadComponent.on("upload-preview-update",m),h&&n.uploadComponent.on("upload-end",h),v&&n.uploadComponent.on("upload-error",v),n.uploadService=new s.a(l,b,g),n.uploadService.on("files-added",n.onFilesAdded),n.uploadService.on("file-preview-update",n.onFilePreviewUpdate),n.uploadService.on("file-converting",n.onFileConverting),n.uploadService.on("file-upload-error",n.onUploadError),n}return Object(i.__extends)(t,e),t.prototype.setUploadParams=function(e){this.uploadService.setUploadParams(e)},t}(r.Component)},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ANALYTICS_MEDIA_CHANNEL",(function(){return d}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),s=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fireAnalytics=function(e){var n=t.props,i=n.createAnalyticsEvent,r=n.channel,o=n.data;i({action:"UnhandledError",eventType:"ui",attributes:Object(a.a)(Object(a.a)({browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown"},o),e)}).fire(r)},t}return Object(a.b)(t,e),t.prototype.componentDidCatch=function(e,t){var n={error:e,info:t};this.fireAnalytics(n)},t.prototype.render=function(){var e=this.props,t=e.data,n=e.children;return o.a.createElement(s.a,{data:t},n)},t}(r.Component),u=Object(c.a)()(l),d="media",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,i=e.children;return o.a.createElement(u,{channel:d,data:n},i)},t.displayName="MediaPickerAnalyticsErrorBoundary",t}(o.a.Component);t.default=p},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/types.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i;!function(e){e[e.PastedFile=0]="PastedFile",e[e.PastedScreenshot=1]="PastedScreenshot",e[e.LocalUpload=2]="LocalUpload"}(i||(i={}))},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/upload-controller.js"),l=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),u=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),p=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),f=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),m=n("./node_modules/eventemitter2/lib/eventemitter2.js"),h=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");function v(e){return Object(h.isClientBasedAuth)(e)?{id:e.clientId,token:e.token,baseUrl:e.baseUrl}:e}var b=n("./node_modules/@atlaskit/media-ui/dist/esm/util.js"),y=n("./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/index.js");var g=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/types.js"),_=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js"),j=function(){function e(e,t,n){var r=this;this.tenantMediaClient=e,this.tenantUploadParams=t,this.shouldCopyFileToRecents=n,this.emit=function(e,t){r.emitter.emit(e,t)},this.onFileSuccess=function(e,t){return Object(i.__awaiter)(r,void 0,void 0,(function(){var n,r=this;return Object(i.__generator)(this,(function(i){return n=e.mediaFile,this.copyFileToUsersCollection(t).catch(console.log),this.emit("file-converting",{file:n}),e.cancel=function(){r.releaseCancellableFile(n)},[2]}))}))},this.onFileError=function(e,t,n){if(r.releaseCancellableFile(e),"canceled"!==n){var i=n instanceof Error?n.message:n;r.emit("file-upload-error",{fileId:e.id,error:{fileId:e.id,description:i,name:t}})}},this.emitter=new m.EventEmitter2,this.cancellableFilesUploads={};var o=e.config.userAuthProvider;o&&(this.userMediaStore=new a.a({authProvider:o}),this.userMediaClient=new s.a({userAuthProvider:o,authProvider:o}))}return e.prototype.setUploadParams=function(e){this.tenantUploadParams=e},e.prototype.createUploadController=function(){return new c.a},e.prototype.addFiles=function(e){this.addFilesWithSource(e.map((function(e){return{file:e,source:g.a.LocalUpload}})))},e.prototype.addFilesWithSource=function(e){var t=this;if(0!==e.length){var n=Date.now(),i=this.userMediaClient,r=this.tenantMediaClient,a=this.shouldCopyFileToRecents,s=a?r:i,c=a?this.tenantUploadParams.collection:f.c;if(s){for(var d=[],p=0;p<e.length;p++)d.push({fileId:o()(),occurrenceKey:o()(),collection:c});var m=s.file.touchFiles(d,c),h=e.map((function(e,i){var r=e.file,o=e.source,p=d[i],f=p.fileId,h=p.occurrenceKey,v=m.then((function(e){var t=e.created.find((function(e){return e.fileId===f}));if(!t)throw new Error("Cant retrieve uploadId from result of touch endpoint call");return t.uploadId})),b={collection:c,content:r,name:r.name,mimeType:r.type},y={id:f,occurrenceKey:h,deferredUploadId:v},g=t.createUploadController(),_=s.file.upload(b,g,y),j={id:f,name:r.name,size:r.size,creationDate:n,type:r.type,occurrenceKey:h},w={mediaFile:j,file:r,source:o,cancel:function(){g.abort()}},x=t.onFileSuccess.bind(t);return _.subscribe({next:function(e){"processing"===e.status&&(this.unsubscribe(),a&&(s.emit("file-added",e),l.a.emit("file-added",e)),x(w,f))},error:function(e){t.onFileError(j,"upload_fail",e)}}),t.cancellableFilesUploads[f]=w,Object(u.b)().set(f,_),w})),v=h.map((function(e){return e.mediaFile}));this.emit("files-added",{files:v}),this.emitPreviews(h)}}},e.prototype.cancel=function(e){var t=this;if(e){var n=this.cancellableFilesUploads[e];n&&n.cancel&&n.cancel()}else Object.keys(this.cancellableFilesUploads).forEach((function(e){var n=t.cancellableFilesUploads[e];n.cancel&&n.cancel()}))},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.emitPreviews=function(e){var t=this;e.forEach((function(e){var n=e.file,r=e.mediaFile,o=e.source,a=n.type,s=t.getMediaTypeFromFile(n);Object(d.d)(a)?"image"===s?function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Object(b.e)(e)];case 1:return n=i.sent(),[4,Object(y.a)(n)];case 2:return null===(r=i.sent())?[2,{file:e}]:(o=r.width,a=r.height,s=r.scaleFactor,[2,{file:e,dimensions:{width:o,height:a},scaleFactor:t||s}])}}))}))}(n,o===g.a.PastedScreenshot?window.devicePixelRatio:void 0).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):Object(_.a)(n,s).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):t.emit("file-preview-update",{file:r,preview:{}})}))},e.prototype.getMediaTypeFromFile=function(e){var t=e.type;return Object(p.a)(t)},e.prototype.releaseCancellableFile=function(e){delete this.cancellableFilesUploads[e.id]},e.prototype.copyFileToUsersCollection=function(e){var t=this.shouldCopyFileToRecents,n=this.userMediaStore,r=this.tenantUploadParams;if(!t||!n)return Promise.resolve();var o=r.collection;return(0,this.tenantMediaClient.config.authProvider)({collectionName:o}).then((function(t){var r={sourceFile:{id:e,collection:o,owner:Object(i.__assign)({},v(t))}},a={collection:f.c};return n.copyFileWithToken(r,a)}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/video-snapshot/dist/index.js"),o=n.n(r),a=function(e,t){return new Promise((function(n,r){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a,s,c,l,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return a=URL.createObjectURL(e),"image"!==t?[3,1]:((s=new Image).src=a,s.onload=function(){var t={width:s.width,height:s.height},i={file:e,dimensions:t,scaleFactor:1};URL.revokeObjectURL(a),n(i)},s.onerror=r,[3,4]);case 1:return"video"!==t?[3,3]:[4,(c=new o.a(e)).getDimensions()];case 2:return l=i.sent(),u={file:e,dimensions:l,scaleFactor:1},c.end(),n(u),[3,4];case 3:n({file:e}),i.label=4;case 4:return[2]}}))}))}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-picker","b":"55.1.1"}')},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),s={},c=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new r.ReplaySubject(1),a=Object(i.__assign)({id:e},t),s=Object(o.h)({data:a});return n.next(s),n},e.prototype.populateCache=function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);Object(a.b)().set(e.id,n)}))},e.prototype.removeFromCache=function(e,t){var n=s[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(Object(a.b)().remove(e),s[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;s[e]||(s[e]=function(){return{items:[],subject:new r.ReplaySubject(1),isLoadingNextPage:!1}}());var o=s[e],a=o.subject;return this.mediaStore.getCollectionItems(e,Object(i.__assign)(Object(i.__assign)({},t),{details:"full"})).then((function(e){var t=e.data,i=t.contents,r=t.nextInclusiveStartKey;n.populateCache(i),o.items=e.data.contents,o.nextInclusiveStartKey=r,a.next(o.items)})).catch((function(e){return a.error(e)})),a},e.prototype.removeFile=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return i.sent(),this.removeFromCache(e,t),(r=s[t]).subject.next(r.items),[2]}}))}))},e.prototype.loadNextPage=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,c,l,u,d,p,f,m,h;return Object(i.__generator)(this,(function(v){switch(v.label){case 0:return n=s[e],r=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!r?(n.isLoadingNextPage=!0,o=s[e],a=o.nextInclusiveStartKey,c=o.items,l=o.subject,[4,this.mediaStore.getCollectionItems(e,Object(i.__assign)(Object(i.__assign)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return u=v.sent(),d=u.data,p=d.contents,f=d.nextInclusiveStartKey,this.populateCache(p),m=u.data.contents,h=Object(i.__spread)(c,m),l.next(h),s[e]={items:h,nextInclusiveStartKey:f,subject:l,isLoadingNextPage:!1},[2]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/dataloader/index.js"),s=n.n(a),c=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),l=n("./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js"),u=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),p=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/uploader.js"),f=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),m=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),h=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),v=n("./node_modules/uuid-validate/index.js"),b=n.n(v),y=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),g=function(e,t){return Object(u.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},_=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),j=function(e){return new Promise((function(t,n){var i=URL.createObjectURL(e),r=new Image;r.src=i,r.onload=function(){var e={width:r.width,height:r.height};URL.revokeObjectURL(i),t(e)},r.onerror=n}))},w=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),x=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),O=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),k=function(e,t,n){return("doc"===e||!Object(x.d)(t)||!n)&&Object(O.d)(t)},S=function(e,t){return t?e+"-"+t:e},F=function(e){return e.error instanceof Error},E=function(e,t){var n=t.reduce((function(e,t){var n=t.id,i=t.collection;return e[S(n,i)]=F(t)?t:t.details,e}),{});return e.map((function(e){var t=e.id,i=e.collection,r=S(t,i);return n[r]}))},P=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,r=this;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return"__media-single-file-collection__",t=e.reduce((function(e,t){var n=t.collection||"__media-single-file-collection__",i=e[n]||[];return i.push(t.id),e[n]=i,e}),{}),n=[],[4,Promise.all(Object.keys(t).map((function(e){return Object(i.__awaiter)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:r=t[e],o="__media-single-file-collection__"===e?void 0:e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.mediaStore.getItems(r,o)];case 2:return a=c.sent(),n.push.apply(n,Object(i.__spread)(a.data.items)),[3,4];case 3:return s=c.sent(),r.forEach((function(e){n.push({id:e,error:s||new Error("Failed to fetch"),collection:o})})),[3,4];case 4:return[2]}}))}))})))];case 1:return o.sent(),[2,E(e,n)]}}))}))},this.createDownloadFileStream=function(e,n){var r,o=Object(w.a)();return function a(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.dataloader.load({id:e,collection:n})];case 1:return(t=i.sent())?F(t)?(o.error(t),[2]):(s=Object(u.i)(e,t),o.next(s),"processing"===s.status?r=window.setTimeout(a,6e3):o.complete(),[3,3]):[2];case 2:return c=i.sent(),window.clearTimeout(r),o.error(c),[3,3];case 3:return[2]}}))}))}(),o},this.dataloader=new s.a(this.batchLoadingFunc,{maxBatchSize:100})}return e.prototype.getFileState=function(e,t){var n=this;if(!b()(e)){var i=Object(w.a)();return i.error("invalid id was passed to getFileState"),i}return Object(d.b)().getOrInsert(e,(function(){var i=t&&t.collectionName;return n.createDownloadFileStream(e,i)}))},e.prototype.getCurrentState=function(e,t){return Object(_.a)(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=o()(),n=o()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((function(e){return e.created[0].uploadId}))}},e.prototype.uploadExternal=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l,u,p=this;return Object(i.__generator)(this,(function(f){return n=this.generateUploadableFileUpfrontIds(t),r=n.id,o=n.occurrenceKey,a=Object(w.a)(),s=fetch(e).then((function(e){return e.blob()})).catch((function(){})),c=new Promise((function(e,t){return Object(i.__awaiter)(p,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(n=i.sent())||t("Could not fetch the blob"),e({value:n,origin:"remote"}),[2]}}))}))})),l=e.split("/").pop()||"",u={status:"processing",name:l,size:0,mediaType:"unknown",mimeType:"",id:r,occurrenceKey:o,preview:c},a.next(u),Object(d.b)().set(r,a),[2,new Promise((function(e,u){return Object(i.__awaiter)(p,void 0,void 0,(function(){var d,p,f,m,h,v;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(d=i.sent())?(p=d.type,f=d.size,m={content:d,mimeType:p,collection:t,name:l},h=Object(y.a)(p),a.next({status:"processing",name:l,size:f,mediaType:h,mimeType:p,id:r,occurrenceKey:o,preview:c}),this.upload(m,void 0,n),[4,j(d)]):[2,u("Could not download remote file")];case 2:return v=i.sent(),e({dimensions:v,uploadableFileUpfrontIds:n}),[2]}}))}))}))]}))}))},e.prototype.upload=function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),i=[],r=function(e){var t=n.slice(e,e+512),r=t.split("").map((function(e,n){return t.charCodeAt(n)})),o=new Uint8Array(r);i.push(o)},o=0;o<n.length;o+=512)r(o);return new Blob(i,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var l,u,f=n.id,m=n.occurrenceKey,h="",v=0,b=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(y.a)(t)}return"unknown"}(e),_=Object(w.a)();o instanceof Blob&&(v=o.size,h=o.type,Object(x.d)(o.type)&&(l={value:o,origin:"local"}));var j={id:f,occurrenceKey:m,name:s,size:v,mediaType:b,mimeType:h,preview:l},O=function(e){_.next(Object(i.__assign)(Object(i.__assign)({status:"uploading"},j),{progress:e}))},S=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e){if("canceled"!==e){var t=e instanceof Error?e.message:e;_.next({id:f,status:"error",message:t})}return _.error(e)}k(b,h,l)?u=r.createDownloadFileStream(f,c).subscribe({next:function(e){return _.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},j),e),g(e,b)))},error:function(e){return _.error(e)},complete:function(){return _.complete()}}):(_.next(Object(i.__assign)({status:"processing",representations:{}},j)),_.complete())},onProgress:O}).cancel;return Object(d.b)().set(f,_),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){S(),u&&u.unsubscribe()})),_},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return r=i.sent(),Object(l.a)(r,{name:t}),f.a.emit("media-viewed",{fileId:e,isUserCollection:n===m.c,viewingLevel:"download"}),[2]}}))}))},e.prototype.copyFile=function(e,t,n){return void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,l,p,f,m,v,b,_,j,x,O,S,F,E,P,C,A,T,I,U,L,M,z,D;return Object(i.__generator)(this,(function(N){switch(N.label){case 0:return r=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,l=t.collection,p=t.replaceFileId,f=t.occurrenceKey,m=n.preview,v=n.mimeType,b=t.mediaStore||new h.a({authProvider:s}),j=c.authToOwner,[4,r({collectionName:o})];case 1:_=j.apply(void 0,[N.sent()]),x={sourceFile:{id:a,collection:o,owner:_}},O={collection:l,replaceFileId:p,occurrenceKey:f},S=Object(d.b)(),N.label=2;case 2:return N.trys.push([2,4,,5]),[4,b.copyFileWithToken(x,O)];case 3:return E=N.sent().data,P=Object(i.__assign)(Object(i.__assign)({},E),v?{mimeType:v}:void 0),C=P.id,A=P.mimeType,T=A?Object(y.a)(A):"unknown",I=Object(u.h)({data:P}),D=S.get(C),U=D||Object(w.a)(),L=!Object(u.a)(I)&&m?{preview:m}:{},!Object(u.b)(I)&&A&&k(T,A,m)?(U.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},I),g(I,T)),L)),F=this.createDownloadFileStream(C,l).subscribe({next:function(e){return U.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),g(e,T)),!Object(u.a)(e)&&L))},error:function(e){return U.error(e)},complete:function(){return U.complete()}})):Object(u.f)(I)||U.next(Object(i.__assign)(Object(i.__assign)({},I),!Object(u.a)(I)&&L)),S.has(C)||Object(d.b)().set(C,U),[2,E];case 4:throw M=N.sent(),F&&F.unsubscribe(),p&&(z={id:a,status:"error",message:"error copying file to "+l},(D=S.get(p))?D.next(z):S.set(a,Object(w.a)(z))),M;case 5:return[2]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),l=function(){function e(e){this.mediaClientConfig=e,this.mediaStore=new o.a({authProvider:e.authProvider}),this.config=e,this.collection=new a.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new r.EventEmitter2,this.stargate=new c.a(e.stargateBaseUrl)}return e.prototype.getImage=function(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}}))}))},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),s={"max-age":a.a,allowAnimated:!0,mode:"crop"},c={limit:30,sortDirection:"desc"},l=function(e,t){return void 0===t&&(t=!1),Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},s),e),t?{width:a.b,height:a.b}:{})},u={Accept:"application/json","Content-Type":"application/json"},d=function(){function e(e){var t=this;this.config=e,this.getFile=function(e,n){return void 0===n&&(n={}),t.request("/file/"+e,{params:n,authContext:{collectionName:n.collection}}).then(r.d)},this.getFileImageURL=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider()];case 1:return t=i.sent(),[2,Object(r.a)(t.baseUrl+"/file/"+e+"/image",{params:l(n),auth:t})]}}))}))},this.getArtifactURL=function(e,n,s){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(t=Object(o.a)(e,n)))throw new Error("artifact "+n+" not found");return[4,this.config.authProvider({collectionName:s})];case 1:return c=i.sent(),[2,Object(r.a)(""+c.baseUrl+t,{params:{collection:s,"max-age":a.a},auth:c})]}}))}))},this.getImage=function(e,n,o,a){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){return!1,[2,this.request("/file/"+e+"/image",{headers:t,params:l(n,a),authContext:{collectionName:n&&n.collection}},o).then(r.c)]}))}))},this.getItems=function(e,n){var i=e.map((function(e){return{type:"file",id:e,collection:n}}));return t.request("/items",{method:"POST",body:JSON.stringify({descriptors:i}),headers:u,authContext:{collectionName:n}}).then(r.d)},this.getImageMetadata=function(e,n){return t.request("/file/"+e+"/image/metadata",{params:n,authContext:{collectionName:n&&n.collection}}).then(r.d)}}return e.prototype.getCollectionItems=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,o,a,s;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(i.__assign)(Object(i.__assign)({},c),t),headers:{Accept:"application/json"}})];case 1:return n=l.sent(),[4,Object(r.d)(n)];case 2:return o=l.sent().data,a=o.contents,s=o.nextInclusiveStartKey,[2,{data:{contents:a.filter((function(e){return e.details.size&&e.details.size>0})),nextInclusiveStartKey:s}}]}}))}))},e.prototype.removeCollectionFile=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return i.sent(),[2]}}))}))},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(r.d)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(r.e)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:u}).then(r.d)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:u}).then(r.d)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:u,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(r.d)},e.prototype.getFileBinaryURL=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider({collectionName:t})];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:t,"max-age":a.a},auth:n})]}}))}))},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:u}).then(r.e)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:u,params:t}).then(r.d)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,c,l,u,d,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return o=this.config.authProvider,a=t.method,s=t.authContext,c=t.params,l=t.headers,u=t.body,[4,o(s)];case 1:return d=i.sent(),[4,Object(r.f)(""+d.baseUrl+e,{method:a,auth:d,params:c,headers:l,body:u},n)];case 2:return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}((p=i.sent()).headers.get("x-media-region")),[2,p]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js"),r=function(){function e(e){this.baseUrl=e||"/gateway/api"}return e.prototype.fetchToken=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.baseUrl+"/media/auth/smartedge",{credentials:"include",headers:{"x-client-id":e}})];case 1:return[2,t.sent().json()]}}))}))},e.prototype.isTokenExpired=function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i="recents",r=2592e3,o=4096},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,r=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!1,configurable:!0}),e}(),o=function(){if(!i){var e=n("./node_modules/@atlaskit/media-core/dist/esm/index.js").mediaState;i=new r(e.streams)}return i}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),r={on:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),r=function(e){return"uploading"===e.status},o=function(e){return"processing"===e.status},a=function(e){return"processed"===e.status},s=function(e){return"error"===e.status},c=function(e){return!s(e)&&!!e.preview},l=function(e){return["processed","failed-processing","error"].includes(e.status)},u=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},d=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return Object(i.__assign)(Object(i.__assign)({},c),{status:"processing"});case"succeeded":return Object(i.__assign)(Object(i.__assign)({},c),{status:"processed"});case"failed":return Object(i.__assign)(Object(i.__assign)({},c),{status:"failed-processing"})}},p=function(e,t){return d({data:Object(i.__assign)({id:e},t)})}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.prototype.setAbort=function(e){this.abortFunction=e},e.prototype.abort=function(){this.abortFunction&&this.abortFunction()},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js"),o=null,a=function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,t,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(e=3,o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,n.e("83efbde1bf").then(n.bind(null,"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/workerHasher.js"))];case 2:return t=i.sent().WorkerHasher,o=new t(e),[3,5];case 3:return i.sent(),[4,n.e("2eb30f1e8d").then(n.bind(null,"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/simpleHasher.js"))];case 4:return r=i.sent().SimpleHasher,o=new r,[3,5];case 5:return[2,o]}}))}))},s=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:return[2,t.sent().hash(e)]}}))}))},c=function(e,t){return function(n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.probeChunks(p(n),t)];case 1:return r=i.sent(),o=r.data.results,[2,Object.values(o).map((function(e){return e.exists}))]}}))}))}},l=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},u=function(e,t,n){var r=0;return function(o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[i.sent(),{chunks:p(o),offset:r},n])];case 2:return i.sent(),r+=o.length,[2]}}))}))}},d=function(e,t,n,o){var a=e.content,d=e.collection,p=e.name,f=e.mimeType,m=n.id,h=n.occurrenceKey,v=n.deferredUploadId,b=Object(r.a)(a,{hashingFunction:s,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:l(t,d),probingFunction:c(t,d),processingBatchSize:1e3,processingFunction:u(t,v,d)},{onProgress:function(e){o&&o.onProgress(e)}}),y=b.response,g=b.cancel,_=o&&o.onUploadFinish||function(){};return Promise.all([v,y]).then((function(e){var n=Object(i.__read)(e,1)[0];return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:p,mimeType:f},{occurrenceKey:h,collection:d,replaceFileId:m})];case 1:return e.sent(),_(),[2]}}))}))})).catch(_),{cancel:g}},p=function(e){return e.map((function(e){return e.hash}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/rxjs/ReplaySubject.js"),r=function(e){var t=new i.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),o=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(i.c)(e)||Object(r.c)(e)?"image":Object(i.b)(e)||Object(r.b)(e)?"doc":Object(i.a)(e)||Object(r.a)(e)?"audio":Object(i.e)(e)||Object(r.f)(e)?"video":"unknown"}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var i=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},r=function(e){return"application/pdf"===e.toLowerCase()},o=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||i(e)||o(e)||a(e)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},r=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},o=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},s=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},c=function(e){return i(e)||r(e)||o(e)||a(e)||s(e)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return new Promise((function(t){return e.subscribe({next:function(e){t(e),this.unsubscribe()}})}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.statusCode=n,i}return Object(i.__extends)(t,e),t}(Error),s=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return e.ok||e.redirected?[2,e]:[3,1];case 1:return[4,e.text()];case 2:throw t=n.sent(),new a("Got error code "+e.status+": "+t,e.status)}}))}))};function c(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,a=t.auth,c=t.params,l=t.headers,u=t.body,d=t.retryOptions;return function(e,t){void 0===t&&(t={});return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l=this;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:n=Object(i.__assign)(Object(i.__assign)({},m),t),r=n.startTimeoutInMs,o=function(){return Object(i.__awaiter)(l,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,h(r)];case 1:return e.sent(),r*=n.factor,[2]}}))}))},a=1,u.label=1;case 1:if(!(a<=n.attempts))return[3,9];u.label=2;case 2:return u.trys.push([2,4,,8]),[4,e()];case 3:return[2,u.sent()];case 4:return s=u.sent(),v(s)?[2,Promise.reject(s)]:(c=a===n.attempts,function(e){return!(e instanceof TypeError)}(s)&&s.statusCode<500||c?[2,Promise.reject(new Error("The call did not succeed after "+a+" attempts. Last error is "+s.message))]:[3,5]);case 5:return[4,o()];case 6:u.sent(),u.label=7;case 7:return[3,8];case 8:return a++,[3,1];case 9:return[2,Promise.reject(new Error("Exhaused all attempts"))]}}))}))}((function(){return fetch(p(e,{params:c}),{method:o,body:u,headers:f(a)(l),signal:n&&n.signal}).then(s)}),void 0===d?{}:d)}function l(e){return e.json()}function u(e){return e.blob()}function d(){return Promise.resolve()}function p(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(r.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,l=s.queryParams,u=a&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),d=Object(r.stringify)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},l),n),u));return c+(d.length>0?"?"+d:"")}function f(e){return function(t){return e?Object(i.__assign)(Object(i.__assign)({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}var m={attempts:5,startTimeoutInMs:1e3,factor:2},h=function(e){return new Promise((function(t){setTimeout(t,e)}))},v=function(e){return"request_cancelled"===e.message||"AbortError"===e.name}},"./node_modules/dataloader/index.js":function(e,t,n){(function(t,n){var i,r=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._options=n,this._promiseCache=function(e){var t=e&&e.cacheMap;if(!t)return new Map;var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "));return t}(n),this._queue=[]}return e.prototype.load=function(e){var t=this;if(null==e)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(e)+".");var n=this._options,i=!n||!1!==n.batch,r=!n||!1!==n.cache,s=n&&n.cacheKeyFn,c=s?s(e):e;if(r){var l=this._promiseCache.get(c);if(l)return l}var u=new Promise((function(n,r){t._queue.push({key:e,resolve:n,reject:r}),1===t._queue.length&&(i?o((function(){return a(t)})):a(t))}));return r&&this._promiseCache.set(c,u),u},e.prototype.loadMany=function(e){var t=this;if(!Array.isArray(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");return Promise.all(e.map((function(e){return t.load(e)})))},e.prototype.clear=function(e){var t=this._options&&this._options.cacheKeyFn,n=t?t(e):e;return this._promiseCache.delete(n),this},e.prototype.clearAll=function(){return this._promiseCache.clear(),this},e.prototype.prime=function(e,t){var n=this._options&&this._options.cacheKeyFn,i=n?n(e):e;if(void 0===this._promiseCache.get(i)){var r=t instanceof Error?Promise.reject(t):Promise.resolve(t);this._promiseCache.set(i,r)}return this},e}(),o="object"==typeof t&&"function"==typeof t.nextTick?function(e){i||(i=Promise.resolve()),i.then((function(){return t.nextTick(e)}))}:n||setTimeout;function a(e){var t=e._queue;e._queue=[];var n=e._options&&e._options.maxBatchSize;if(n&&n>0&&n<t.length)for(var i=0;i<t.length/n;i++)s(e,t.slice(i*n,(i+1)*n));else s(e,t)}function s(e,t){var n=t.map((function(e){return e.key})),i=(0,e._batchLoadFn)(n);if(!i||"function"!=typeof i.then)return c(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(i)+"."));i.then((function(e){if(!Array.isArray(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==n.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(n)+"\n\nValues:\n"+String(e));t.forEach((function(t,n){var i=t.resolve,r=t.reject,o=e[n];o instanceof Error?r(o):i(o)}))})).catch((function(n){return c(e,t,n)}))}function c(e,t,n){t.forEach((function(t){var i=t.key,r=t.reject;e.clear(i),r(n)}))}e.exports=r}).call(this,n("./node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/eventemitter2/lib/eventemitter2.js":function(e,t,n){(function(i){var r;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(o){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,i.emitWarning(r)}else console.error(n),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}function d(e,t,n,i){if(!n)return[];var r,o,a,s,c,l,u,p=[],f=t.length,m=t[i],h=t[i+1];if(i===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(r=0,o=n._listeners.length;r<o;r++)e&&e.push(n._listeners[r]);return[n]}if("*"===m||"**"===m||n[m]){if("*"===m){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(d(e,t,n[a],i+1)));return p}if("**"===m){for(a in(u=i+1===f||i+2===f&&"*"===h)&&n._listeners&&(p=p.concat(d(e,t,n,f))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!u&&(p=p.concat(d(e,t,n[a],f))),p=p.concat(d(e,t,n[a],i))):p=a===h?p.concat(d(e,t,n[a],i+2)):p.concat(d(e,t,n[a],i)));return p}p=p.concat(d(e,t,n[m],i+1))}if((s=n["*"])&&d(e,t,s,i+1),c=n["**"])if(i<f)for(a in c._listeners&&d(e,t,c,f),c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===h?d(e,t,c[a],i+2):a===m?d(e,t,c[a],i+1):((l={})[a]=c[a],d(e,t,{"**":l},i+1)));else c._listeners?d(e,t,c,f):c["*"]&&c["*"]._listeners&&d(e,t,c["*"],f);return p}function p(e,t){for(var n=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<i;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var r=this.listenerTree,o=e.shift();void 0!==o;){if(r[o]||(r[o]={}),r=r[o],0===e.length)return r._listeners?("function"==typeof r._listeners&&(r._listeners=[r._listeners]),r._listeners.push(t),!r._listeners.warned&&this._maxListeners>0&&r._listeners.length>this._maxListeners&&(r._listeners.warned=!0,l.call(this,r._listeners.length,o))):r._listeners=t,!0;o=e.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this._once(e,t,!1)},u.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},u.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},u.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},u.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},u.prototype._many=function(e,t,n,i){var r=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&r.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,i),r},u.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,i,r,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,a){case 1:o[i].call(this,e);break;case 2:o[i].call(this,e,arguments[1]);break;case 3:o[i].call(this,e,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,c,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,a){case 1:o[i].call(this);break;case 2:o[i].call(this,arguments[1]);break;case 3:o[i].call(this,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,i,r,o,a=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),r=1;r<c;r++)t[r]=arguments[r];for(i=0,n=this._all.length;i<n;i++)switch(this.event=e,c){case 1:a.push(this._all[i].call(this,e));break;case 2:a.push(this._all[i].call(this,e,arguments[1]));break;case 3:a.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[i].apply(this,t))}}if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,l,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,c){case 1:a.push(o.call(this));break;case 2:a.push(o.call(this,arguments[1]));break;case 3:a.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),r=1;r<c;r++)t[r-1]=arguments[r];a.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),r=1;r<c;r++)t[r-1]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,c){case 1:a.push(o[i].call(this));break;case 2:a.push(o[i].call(this,arguments[1]));break;case 3:a.push(o[i].call(this,arguments[1],arguments[2]));break;default:a.push(o[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},u.prototype.on=function(e,t){return this._on(e,t,!1)},u.prototype.prependListener=function(e,t){return this._on(e,t,!0)},u.prototype.onAny=function(e){return this._onAny(e,!1)},u.prototype.prependAny=function(e){return this._onAny(e,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},u.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(p.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var r="string"==typeof e?e.split(this.delimiter):e.slice();i=d.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var o=0;o<i.length;o++){var s=i[o];if(n=s._listeners,a(n)){for(var c=-1,l=0,u=n.length;l<u;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var i in n){var r=n[i],o=t[r];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[r]),0===Object.keys(o).length&&delete t[r])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,i=(t=this._all).length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=d.call(this,null,t,this.listenerTree,0),i=0;i<n.length;i++){var r=n[i];r._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/lru-fast/lru.js":function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,i=this.get(e,!0);return i?(n=i.value,i.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var i;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(i=this.newest;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.oldest;i;)e.call(t,i.key,i.value,this),i=i.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},"./node_modules/perf-marks/dist/umd/perf-marks.js":function(e,t,n){!function(e,n){!function(e){"use strict";var t="undefined"!=typeof performance&&void 0!==performance.now&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,n={},i=function(){return t?performance.now():Date.now?Date.now():+new Date},r=function(e){n[e]=void 0,t&&(performance.clearMeasures(e),performance.clearMarks(e))},o=function(e){return t&&performance.getEntriesByType(e)||[]};e.clear=r,e.clearAll=function(){n={},t&&(performance.clearMeasures(),performance.clearMarks())},e.end=function(e,o){try{var a=n[e];if(!t)return a?{duration:i()-a,startTime:a}:{};performance.measure(e,e,o||void 0);var s=performance.getEntriesByName(e).pop();return s||{}}catch(e){return{}}finally{r(e)}},e.getEntriesByType=o,e.getNavigationMarker=function(){return o("navigation").pop()||{}},e.isUserTimingAPISupported=t,e.start=function(e){t&&performance.mark(e),n[e]=i()},Object.defineProperty(e,"__esModule",{value:!0})}(t)}()},"./node_modules/rxjs-async-map/out/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/rxjs/Observable.js");t.Observable=i.Observable;var r=n("./node_modules/rxjs/operators/mergeMap.js"),o=n("./node_modules/rxjs-async-map/out/notify.js");t.asyncMap=function(e,t){return r.mergeMap(function(e){var t=new Array,n=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(r){return new i.Observable((function(i){t.push(o.notify(e(r),i,n))}))}}(e),t)}},"./node_modules/rxjs-async-map/out/notify.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notify=function(e,t,n){var i={notifyIfReady:function(){return!1}};return e.then((function(e){i.notifyIfReady=function(){return t.next(e),t.complete(),!0},n(i)}),(function(e){i.notifyIfReady=function(){return t.error(e),!0},n(i)})),i}},"./node_modules/rxjs/ReplaySubject.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subject.js"),o=n("./node_modules/rxjs/scheduler/queue.js"),a=n("./node_modules/rxjs/Subscription.js"),s=n("./node_modules/rxjs/operators/observeOn.js"),c=n("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),l=n("./node_modules/rxjs/SubjectSubscription.js"),u=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=i,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return i(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new d(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),i=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new l.SubjectSubscription(this,e)),i&&e.add(e=new s.ObserveOnSubscriber(e,i));for(var r=n.length,o=0;o<r&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i},t}(r.Subject);t.ReplaySubject=u;var d=function(){return function(e,t){this.time=e,this.value=t}}()},"./node_modules/rxjs/observable/RangeObservable.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(t,n,i){e.call(this),this.start=t,this._count=n,this.scheduler=i}return i(t,e),t.create=function(e,n,i){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,i)},t.dispatch=function(e){var t=e.start,n=e.index,i=e.count,r=e.subscriber;n>=i?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,i=this.start,r=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:n,count:r,start:i,subscriber:e});for(;;){if(n++>=r){e.complete();break}if(e.next(i++),e.closed)break}},t}(n("./node_modules/rxjs/Observable.js").Observable);t.RangeObservable=r},"./node_modules/rxjs/observable/range.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/observable/RangeObservable.js");t.range=i.RangeObservable.create},"./node_modules/rxjs/operators/bufferCount.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subscriber.js");t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?s:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return i(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(r.Subscriber),s=function(e){function t(t,n,i){e.call(this,t),this.bufferSize=n,this.startBufferEvery=i,this.buffers=[],this.count=0}return i(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var a=i[o];a.push(e),a.length===t&&(i.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(r.Subscriber)},"./node_modules/rxjs/operators/concatMap.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/operators/mergeMap.js");t.concatMap=function(e,t){return i.mergeMap(e,t,1)}},"./node_modules/rxjs/operators/tap.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subscriber.js");t.tap=function(e,t,n){return function(i){return i.lift(new o(e,t,n))}};var o=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,i,o){e.call(this,t);var a=new r.Subscriber(n,i,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return i(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(r.Subscriber)},"./node_modules/rxjs/scheduler/QueueAction.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return i(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(n("./node_modules/rxjs/scheduler/AsyncAction.js").AsyncAction);t.QueueAction=r},"./node_modules/rxjs/scheduler/QueueScheduler.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(){e.apply(this,arguments)}return i(t,e),t}(n("./node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.QueueScheduler=r},"./node_modules/rxjs/scheduler/queue.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/scheduler/QueueAction.js"),r=n("./node_modules/rxjs/scheduler/QueueScheduler.js");t.queue=new r.QueueScheduler(i.QueueAction)},"./node_modules/uuid-validate/index.js":function(e,t,n){(function(t){for(var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,i=[],r=0;r<256;r++)i[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var a;if(t.isBuffer(e))a=function(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;a=e}if(a=a.toLowerCase(),!n.test(a))return!1;if(void 0===r)r=o(a);else if(o(a)!==r)return!1;switch(r){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(a.charAt(19));default:throw new Error("Invalid version provided.")}};var o=e.exports.version=function(e){return 0|e.charAt(14)}}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/video-snapshot/dist/index.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=function(){function e(e){var t=this;this.loadVideo=function(e){return void 0===e&&(e=0),new Promise((function(n){var i=document.createElement("video");if(i.preload="metadata",i.src=t.videoUrl,i.muted=!0,0===e)i.play();else{if("number"==typeof e)i.currentTime=e;else if("string"==typeof e){var r=i.duration;i.currentTime=t.getSmartTime(e,r)}o&&i.play()}i.addEventListener("timeupdate",(function e(){i.removeEventListener("timeupdate",e),i.pause(),n(i)}))}))},this.getDimensions=function(){return i(t,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,this.loadVideo()];case 1:return[2,{width:(e=t.sent()).videoWidth,height:e.videoHeight}]}}))}))};var n=URL.createObjectURL(e);this.videoUrl=n}return e.prototype.takeSnapshot=function(e){return i(this,void 0,void 0,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:return[4,this.loadVideo(e)];case 1:if(t=r.sent(),(n=document.createElement("canvas")).width=t.videoWidth,n.height=t.videoHeight,!(i=n.getContext("2d")))throw new Error("error creating canvas context");return i.drawImage(t,0,0,n.width,n.height),[2,n.toDataURL()]}}))}))},e.prototype.end=function(){this.revoke()},e.prototype.revoke=function(){URL.revokeObjectURL(this.videoUrl)},e.prototype.getSmartTime=function(e,t){return void 0===t&&(t=0),{start:0,middle:t/2,end:t}[e]},e}();t.default=a}}]);try{window.__jsEvalStop("@atlaskit-internal_Dropzone.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-internal_Dropzone.bb9f690cade0ed78b19d.8.js.map