;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:soy-templates', location = 'jira-view-issue-module/viewissue/attachmentsblock.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ViewIssue&&(JIRA.Templates.ViewIssue={}),JIRA.Templates.ViewIssue.renderAttachments=function(e,t){return""+("list"==e.viewMode?JIRA.Templates.ViewIssue.fileAttachments(e):JIRA.Templates.ViewIssue.galleryAttachments(e))},JIRA.Templates.ViewIssue.fileAttachments=function(e,t){for(var a='<ol id="file_attachments" class="item-attachments" data-sort-key="'+soy.$$escapeHtml(e.sortKey)+'" data-sort-order="'+soy.$$escapeHtml(e.sortOrder)+'">',s=e.attachments,i=s.length,n=0;n<i;n++){var c=s[n];a+=JIRA.Templates.ViewIssue.fileAttachment(soy.$$augmentMap(e,{fileAttachment:c}))}return a+="</ol>"},JIRA.Templates.ViewIssue.galleryAttachments=function(e,t){for(var a='<ol id="attachment_thumbnails" class="item-attachments" data-sort-key="'+soy.$$escapeHtml(e.sortKey)+'" data-sort-order="'+soy.$$escapeHtml(e.sortOrder)+'">',s=e.attachments,i=s.length,n=0;n<i;n++){var c=s[n];a+=JIRA.Templates.ViewIssue.imageAttachment(soy.$$augmentMap(e,{imageAttachment:c}))}return a+="</ol>"},JIRA.Templates.ViewIssue.fileAttachment=function(e,t){return'<li class="attachment-content js-file-attachment'+(e.fileAttachment.latest?"":" earlier-version")+'" data-attachment-id="'+soy.$$escapeHtml(e.fileAttachment.id)+'"'+JIRA.Templates.ViewIssue.renderAttachmentData({issue:e.issue,attachment:e.fileAttachment})+">"+(e.fileAttachment.expandable?JIRA.Templates.ViewIssue.zipFileAttachment(e):'<div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.fileAttachment.mimeType)+":"+soy.$$escapeHtml(e.fileAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.fileAttachment})+">"+JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(e,{mimetype:e.fileAttachment.mimeType}))+"</a></div><dl>"+JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(e,{attachment:e.fileAttachment}))+"</dl>")+"</li>"},JIRA.Templates.ViewIssue.zipFileAttachment=function(e,t){return'<div class="twixi-block collapsed expander"><div class="twixi-wrap verbose"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-expanded"><span>'+soy.$$escapeHtml("Hide")+'</span></span></a><div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.fileAttachment.mimeType)+":"+soy.$$escapeHtml(e.fileAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.fileAttachment})+">"+JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(e,{mimetype:e.fileAttachment.mimeType}))+"</a></div><dl>"+JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(e,{attachment:e.fileAttachment}))+'<dd class="zip-contents"><ol><li><div class="attachment-thumb"><img src="'+soy.$$escapeHtml(e.baseurl)+'/images/icons/wait.gif" /></div>'+soy.$$escapeHtml("Extracting archive...")+'</li></ol></dd></dl></div><div class="twixi-wrap concise"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-collapsed"><span>'+soy.$$escapeHtml("Show")+'</span></span></a><div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.fileAttachment.mimeType)+":"+soy.$$escapeHtml(e.fileAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.fileAttachment})+">"+JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(e,{mimetype:e.fileAttachment.mimeType}))+"</a></div><dl>"+JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(e,{attachment:e.fileAttachment}))+"</dl></div></div>"},JIRA.Templates.ViewIssue.imageAttachment=function(e,t){return'<li class="attachment-content js-file-attachment" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.imageAttachment.mimeType)+":"+soy.$$escapeHtml(e.imageAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.imageAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.renderAttachmentData({issue:e.issue,attachment:e.imageAttachment})+'><div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.imageAttachment.attachmentUrl)+'" title="'+soy.$$escapeHtml(e.imageAttachment.fileName)+" -"+(e.imageAttachment.latest?" "+soy.$$escapeHtml("Latest"):"")+" "+soy.$$escapeHtml(e.imageAttachment.createdDateTime)+(e.imageAttachment.authorDisplayName?" - "+soy.$$escapeHtml(e.imageAttachment.authorDisplayName):"")+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.imageAttachment})+">"+(null!=e.imageAttachment.thumbnailUrl?'<jira-attachment-thumbnail url="'+soy.$$escapeHtml(""+e.imageAttachment.thumbnailUrl)+'" jira-url="'+soy.$$escapeHtml(""+e.imageAttachment.jiraThumbnailUrl)+'" filename="'+soy.$$escapeHtml(e.imageAttachment.fileName)+'"></jira-attachment-thumbnail>':JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:e.imageAttachment.mimeType}))+"</a></div><dl "+(e.imageAttachment.latest?"":'class="earlier-version"')+"><dt>"+(e.imageAttachment.deletable?'<span class="blender blender-delete"></span><div class="attachment-delete"><a title="'+soy.$$escapeHtml("Delete this attachment")+'" id="del_'+soy.$$escapeHtml(e.imageAttachment.id)+'" href="'+soy.$$escapeHtml(e.baseurl)+"/secure/DeleteAttachment!default.jspa?id="+soy.$$escapeHtml(e.issue.id)+"&deleteAttachmentId="+soy.$$escapeHtml(e.imageAttachment.id)+'&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">'+soy.$$escapeHtml("Delete this attachment")+"</span></a></div>":'<span class="blender"></span>')+'<a  href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.imageAttachment.attachmentUrl)+'" class="attachment-title" title="'+soy.$$escapeHtml(e.imageAttachment.fileName)+" -"+(e.imageAttachment.latest?" "+soy.$$escapeHtml("Latest"):"")+" "+soy.$$escapeHtml(e.imageAttachment.createdDateTime)+(e.imageAttachment.authorDisplayName?" - "+soy.$$escapeHtml(e.imageAttachment.authorDisplayName):"")+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.imageAttachment})+">"+soy.$$escapeHtml(e.imageAttachment.fileName)+'</a></dt><dd class="attachment-size">'+soy.$$escapeHtml(e.imageAttachment.fileSize)+'</dd><dd class="attachment-date"><time class="livestamp" datetime="'+soy.$$escapeHtml(""+e.imageAttachment.createdIso8601)+'">'+soy.$$escapeHtml(e.imageAttachment.createdDateTime)+"</time></dd></dl></li>"},JIRA.Templates.ViewIssue.renderAttachmentInfo=function(e,t){return'<dt class="attachment-title"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.attachment.attachmentUrl)+'" title="'+(e.attachment.latest?soy.$$escapeHtml("Latest")+" ":"")+" "+soy.$$escapeHtml(e.attachment.createdDateTime)+(e.attachment.authorDisplayName?" - "+soy.$$escapeHtml(e.attachment.authorDisplayName):"")+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.attachment.mimeType)+":"+soy.$$escapeHtml(e.attachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.attachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment(e)+">"+soy.$$escapeHtml(e.attachment.fileName)+'</a></dt><dd class="attachment-delete">'+(e.attachment.deletable?'<a title="'+soy.$$escapeHtml("Delete this attachment")+'" id="del_'+soy.$$escapeHtml(e.attachment.id)+'" href="'+soy.$$escapeHtml(e.baseurl)+"/secure/DeleteAttachment!default.jspa?id="+soy.$$escapeHtml(e.issue.id)+"&deleteAttachmentId="+soy.$$escapeHtml(e.attachment.id)+'&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">'+soy.$$escapeHtml("Delete this attachment")+"</span></a>":'<span class="icon"></span>')+'</dd><dd class="attachment-date"><time class="livestamp" datetime="'+soy.$$escapeHtml(""+e.attachment.createdIso8601)+'">'+soy.$$escapeHtml(e.attachment.createdDateTime)+'</time></dd><dd class="attachment-size">'+soy.$$escapeHtml(e.attachment.fileSize)+'</dd><dd class="attachment-author">'+soy.$$escapeHtml(e.attachment.authorDisplayName?e.attachment.authorDisplayName:"")+"</dd>"},JIRA.Templates.ViewIssue.renderAttachmentData=function(e,t){return'data-issue-id="'+soy.$$escapeHtml(e.issue.id)+'"'+(e.attachment.expandable?'data-attachment-type="expandable"':null!=e.attachment.thumbnailUrl?'data-attachment-type="image"':'data-attachment-type="file"')},JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon=function(e,t){var a="",s=""+JIRA.Templates.ViewIssue.matchFileIconUrl(e),i=""+JIRA.Templates.ViewIssue.matchFileIconAlt(e);return a+='<img src="'+soy.$$escapeHtml(s)+'" height="16" width="16" border="0" alt="'+soy.$$escapeHtml(i)+'">'},JIRA.Templates.ViewIssue.matchFileIconUrl=function(e,t){return soy.$$escapeHtml(e.baseurl)+"/images/icons/attach/"+JIRA.Templates.ViewIssue.matchFileIcon(e)},JIRA.Templates.ViewIssue.matchFileIcon=function(e,t){var a="";switch(e.mimetype){case"application/pdf":a+="pdf.gif";break;case"image/gif":a+="image.gif";break;case"image/png":a+="image.gif";break;case"image/jpeg":a+="image.gif";break;case"text/xml":a+="xml.gif";break;case"text/html":a+="html.gif";break;case"text/plain":a+="text.gif";break;case"application/zip":a+="zip.gif";break;case"application/x-gzip-compressed":a+="zip.gif";break;case"application/msword":a+="word.gif";break;case"application/msword-template":a+="word.gif";break;case"application/vnd.ms-word.document.macroEnabled.12":a+="word.gif";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":a+="word.gif";break;case"application/vnd.ms-word.template.macroEnabled.12":a+="word.gif";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":a+="word.gif";break;case"application/vnd.ms-excel":a+="excel.gif";break;case"application/vnd.ms-excel.addin.macroEnabled.12":a+="excel.gif";break;case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":a+="excel.gif";break;case"application/vnd.ms-excel.sheet.macroEnabled.12":a+="excel.gif";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a+="excel.gif";break;case"application/vnd.ms-excel.template.macroEnabled.12":a+="excel.gif";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":a+="excel.gif";break;case"application/vnd.ms-powerpoint":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.template.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.openxmlformats-officedocument.presentationml.template":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.addin.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":a+="powerpoint.gif";break;case"text/x-java":a+="java.gif";break;case"text/x-java-source":a+="java.gif";break;case"application/x-java-archive":a+="java.gif";break;default:a+="file.gif"}return a},JIRA.Templates.ViewIssue.matchFileIconAlt=function(e,t){var a="";switch(e.mimetype){case"application/pdf":a+=soy.$$escapeHtml("PDF File");break;case"image/gif":a+=soy.$$escapeHtml("GIF File");break;case"image/png":a+=soy.$$escapeHtml("PNG File");break;case"image/jpeg":a+=soy.$$escapeHtml("JPEG File");break;case"text/xml":a+=soy.$$escapeHtml("XML File");break;case"text/html":a+=soy.$$escapeHtml("HTML File");break;case"text/plain":a+=soy.$$escapeHtml("Text File");break;case"application/zip":a+=soy.$$escapeHtml("Zip Archive");break;case"application/x-gzip-compressed":a+=soy.$$escapeHtml("GZip Archive");break;case"application/msword":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/msword-template":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-word.document.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-word.template.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.addin.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.sheet.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.template.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-powerpoint":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.template.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.openxmlformats-officedocument.presentationml.template":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.addin.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"text/x-java":a+=soy.$$escapeHtml("Java Source File");break;case"text/x-java-source":a+=soy.$$escapeHtml("Java Source File");break;case"application/x-java-archive":a+=soy.$$escapeHtml("Java Archive File");break;default:a+=soy.$$escapeHtml("File")}return a},JIRA.Templates.ViewIssue.renderAttachmentIcon=function(e,t){var a="",s=""+JIRA.Templates.ViewIssue.matchFileClass(e),i=""+JIRA.Templates.ViewIssue.matchFileIconAlt(e);return a+='<span class="aui-icon aui-icon-small attachment-icon '+soy.$$escapeHtml(s)+'" title="'+soy.$$escapeHtml(i)+'"></span>'},JIRA.Templates.ViewIssue.renderThumbnailIcon=function(e,t){var a="",s=""+JIRA.Templates.ViewIssue.matchFileClass(e);return a+='<span class="aui-icon aui-icon-large attachment-thumbnail-icon '+soy.$$escapeHtml(s)+'"></span>'},JIRA.Templates.ViewIssue.matchFileClass=function(e,t){var a="";switch(e.mimetype){case"application/pdf":a+="aui-iconfont-file-pdf";break;case"image/gif":a+="aui-iconfont-image";break;case"image/png":a+="aui-iconfont-image";break;case"image/jpeg":a+="aui-iconfont-image";break;case"video/mp4":a+="aui-iconfont-file-video";break;case"text/xml":a+="aui-iconfont-file-code";break;case"text/html":a+="aui-iconfont-file-code";break;case"text/plain":a+="aui-iconfont-file-txt";break;case"application/zip":a+="aui-iconfont-file-zip";break;case"application/x-gzip-compressed":a+="aui-iconfont-file-zip";break;case"application/msword":a+="aui-iconfont-file-doc";break;case"application/msword-template":a+="aui-iconfont-file-doc";break;case"application/vnd.ms-word.document.macroEnabled.12":a+="aui-iconfont-file-doc";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":a+="aui-iconfont-file-doc";break;case"application/vnd.ms-word.template.macroEnabled.12":a+="aui-iconfont-file-doc";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":a+="aui-iconfont-file-doc";break;case"application/vnd.ms-excel":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.addin.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.sheet.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.template.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-powerpoint":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.template.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.openxmlformats-officedocument.presentationml.template":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.addin.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":a+="aui-iconfont-file-ppt";break;case"text/x-java":a+="aui-iconfont-file-code";break;case"text/x-java-source":a+="aui-iconfont-file-code";break;case"application/x-java-archive":a+="aui-iconfont-file-zip";break;default:a+="aui-iconfont-devtools-file"}return a},JIRA.Templates.ViewIssue.tagAttachment=function(e,t){return""+JIRA.Templates.ViewIssue.tagFilePreview({id:e.attachment.id,title:e.attachment.fileName,mimeType:e.attachment.mimeType,thumbnailUrl:e.attachment.thumbnailUrl})},JIRA.Templates.ViewIssue.tagFilePreview=function(e,t){var a="",s=""+(null==e.mimeType&&null!=e.thumbnailUrl?"image":null!=e.mimeType&&(""+e.mimeType).indexOf("image/")!=-1?"image":null!=e.mimeType&&(""+e.mimeType).indexOf("video/mp4")!=-1?"video":"application/pdf"==e.mimeType?"document":"unknown");return a+="unknown"!=s?' file-preview-id="'+soy.$$escapeHtml(e.id)+'" file-preview-title="'+soy.$$escapeHtml(e.title)+'" file-preview-type="'+soy.$$escapeHtml(s)+'" file-preview-mime-type="'+soy.$$escapeHtml(e.mimeType)+'"'+(null!=e.thumbnailUrl?'file-preview-url="'+soy.$$escapeHtml(""+e.thumbnailUrl)+'"':""):""};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'jira-dnd-attachment-module/js/jira-amd.js' */
define("dndattachment/JIRA",function(){return JIRA});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'jira-dnd-attachment-module/js/aui-amd.js' */
define("dndattachment/aui",function(){return AJS});;
;
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.6.0', location = 'libs/moment/2.6.0/moment-2.6.0.js' */
(function(A){define("atlassian/libs/moment-2.6.0",function(){var z={};A.call(z);return z.moment})})(function(){for(var A=function(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}},z=function(a,b){var c=!0;return l(function(){c&&(!1===e.suppressDeprecationWarnings&&("undefined"!==typeof console&&console.warn)&&console.warn("Deprecation warning: "+a),c=!1);return b.apply(this,arguments)},b)},X=function(a,
b){return function(c){return j(a.call(this,c),b)}},ua=function(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}},Y=function(){},F=function(a){Z(a);l(this,a)},G=function(a){var a=$(a),b=a.year||0,c=a.quarter||0,d=a.month||0,g=a.week||0,e=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+e+7*g;this._months=+d+3*c+12*b;this._data={};this._bubble()},l=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);b.hasOwnProperty("toString")&&
(a.toString=b.toString);b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf);return a},v=function(a){return 0>a?Math.ceil(a):Math.floor(a)},j=function(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d},I=function(a,b,c,d){var g=b._milliseconds,f=b._days,b=b._months,d=null==d?!0:d;g&&a._d.setTime(+a._d+g*c);f&&aa(a,"Date",H(a,"Date")+f*c);b&&ba(a,H(a,"Month")+b*c);d&&e.updateOffset(a,f||b)},J=function(a){return"[object Array]"===Object.prototype.toString.call(a)},ca=function(a,
b,c){var d=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),e=0,h;for(h=0;h<d;h++)(c&&a[h]!==b[h]||!c&&i(a[h])!==i(b[h]))&&e++;return e+g},r=function(a){if(a)var b=a.toLowerCase().replace(/(.)s$/,"$1"),a=va[a]||wa[b]||b;return a},$=function(a){var b={},c,d;for(d in a)a.hasOwnProperty(d)&&(c=r(d))&&(b[c]=a[d]);return b},xa=function(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else if(0===a.indexOf("month"))b=12,c="month";else return;e[a]=function(d,g){var f,h,i=e.fn._lang[a],j=[];"number"===
typeof d&&(g=d,d=void 0);h=function(a){a=e().utc().set(c,a);return i.call(e.fn._lang,a,d||"")};if(null!=g)return h(g);for(f=0;f<b;f++)j.push(h(f));return j}},i=function(a){var a=+a,b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b},K=function(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},da=function(a,b,c){return B(e([a,11,31+b-c]),b,c).week},L=function(a){return 0===a%4&&0!==a%100||0===a%400},Z=function(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[s]||11<a._a[s]?s:
1>a._a[o]||a._a[o]>K(a._a[p],a._a[s])?o:0>a._a[m]||23<a._a[m]?m:0>a._a[w]||59<a._a[w]?w:0>a._a[C]||59<a._a[C]?C:0>a._a[D]||999<a._a[D]?D:-1;if(a._pf._overflowDayOfYear&&(b<p||b>o))b=o;a._pf.overflow=b}},ea=function(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid},M=
function(a){return a?a.toLowerCase().replace("_","-"):a},N=function(a,b){return b._isUTC?e(a).zone(b._offset||0):e(a).local()},q=function(a){var b=0,c,d,g,f,h=function(a){if(!x[a]&&ya)try{require("./lang/"+a)}catch(b){}return x[a]};if(!a)return e.fn._lang;if(!J(a)){if(d=h(a))return d;a=[a]}for(;b<a.length;){f=M(a[b]).split("-");c=f.length;for(g=(g=M(a[b+1]))?g.split("-"):null;0<c;){if(d=h(f.slice(0,c).join("-")))return d;if(g&&g.length>=c&&ca(f,g,!0)>=c-1)break;c--}b++}return e.fn._lang},P=function(a,
b){if(!a.isValid())return a.lang().invalidDate();b=fa(b,a.lang());if(!O[b]){var c=O,d=b,g=b,e=g.match(ga),h,i;h=0;for(i=e.length;h<i;h++)e[h]=t[e[h]]?t[e[h]]:e[h].match(/\[[\s\S]/)?e[h].replace(/^\[|\]$/g,""):e[h].replace(/\\/g,"");c[d]=function(a){var b="";for(h=0;h<i;h++)b+=e[h]instanceof Function?e[h].call(a,g):e[h];return b}}return O[b](a)},fa=function(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(E.lastIndex=0;0<=d&&E.test(a);)a=a.replace(E,c),E.lastIndex=0,d-=1;return a},Ka=function(a,
b){var c=b._strict;switch(a){case "Q":return ha;case "DDDD":return ia;case "YYYY":case "GGGG":case "gggg":return c?za:Aa;case "Y":case "G":case "g":return Ba;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?Ca:Da;case "S":if(c)return ha;case "SS":if(c)return ja;case "SSS":if(c)return ia;case "DDD":return Ea;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Fa;case "a":case "A":return q(b._l)._meridiemParse;case "X":return Ga;case "Z":case "ZZ":return Q;case "T":return Ha;
case "SSSS":return Ia;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?ja:ka;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ka;case "Do":return Ja;default:var c=RegExp,d;d=a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return c(d)}},la=function(a){var a=(a||"").match(Q)||[],
a=((a[a.length-1]||[])+"").match(La)||["-",0,0],b=+(60*a[1])+i(a[2]);return"+"===a[0]?-b:b},S=function(a){var b,c=[],d,g,f,h,j;if(!a._d){d=new Date;d=a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];a._w&&(null==a._a[o]&&null==a._a[s])&&(b=function(b){var c=parseInt(b,10);return b?3>b.length?68<c?1900+c:2E3+c:c:null==a._a[p]?e().weekYear():a._a[p]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?b=ma(b(g.GG),g.W||1,g.E,4,1):(f=q(a._l),h=null!=g.d?na(g.d,
f):null!=g.e?parseInt(g.e,10)+f._week.dow:0,j=parseInt(g.w,10)||1,null!=g.d&&h<f._week.dow&&j++,b=ma(b(g.gg),j,h,f._week.doy,f._week.dow)),a._a[p]=b.year,a._dayOfYear=b.dayOfYear);if(a._dayOfYear){b=null==a._a[p]?d[p]:a._a[p];if(a._dayOfYear>(L(b)?366:365))a._pf._overflowDayOfYear=!0;b=R(b,0,a._dayOfYear);a._a[s]=b.getUTCMonth();a._a[o]=b.getUTCDate()}for(b=0;3>b&&null==a._a[b];++b)a._a[b]=c[b]=d[b];for(;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[m]+=i((a._tzm||0)/60);c[w]+=i((a._tzm||
0)%60);a._d=(a._useUTC?R:Ma).apply(null,c)}},T=function(a){a._a=[];a._pf.empty=!0;var b=q(a._l),c=""+a._i,d,g,f,h,j=c.length,k=0;g=fa(a._f,b).match(ga)||[];for(b=0;b<g.length;b++){f=g[b];if(d=(c.match(Ka(f,a))||[])[0])h=c.substr(0,c.indexOf(d)),0<h.length&&a._pf.unusedInput.push(h),c=c.slice(c.indexOf(d)+d.length),k+=d.length;if(t[f]){d?a._pf.empty=!1:a._pf.unusedTokens.push(f);h=a;var l=void 0,n=h._a;switch(f){case "Q":null!=d&&(n[s]=3*(i(d)-1));break;case "M":case "MM":null!=d&&(n[s]=i(d)-1);break;
case "MMM":case "MMMM":l=q(h._l).monthsParse(d);null!=l?n[s]=l:h._pf.invalidMonth=d;break;case "D":case "DD":null!=d&&(n[o]=i(d));break;case "Do":null!=d&&(n[o]=i(parseInt(d,10)));break;case "DDD":case "DDDD":null!=d&&(h._dayOfYear=i(d));break;case "YY":n[p]=e.parseTwoDigitYear(d);break;case "YYYY":case "YYYYY":case "YYYYYY":n[p]=i(d);break;case "a":case "A":h._isPm=q(h._l).isPM(d);break;case "H":case "HH":case "h":case "hh":n[m]=i(d);break;case "m":case "mm":n[w]=i(d);break;case "s":case "ss":n[C]=
i(d);break;case "S":case "SS":case "SSS":case "SSSS":n[D]=i(1E3*("0."+d));break;case "X":h._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":h._useUTC=!0;h._tzm=la(d);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":f=f.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":f=f.substr(0,2),d&&(h._w=h._w||{},h._w[f]=d)}}else a._strict&&!d&&a._pf.unusedTokens.push(f)}a._pf.charsLeftOver=j-k;0<c.length&&a._pf.unusedInput.push(c);
a._isPm&&12>a._a[m]&&(a._a[m]+=12);!1===a._isPm&&12===a._a[m]&&(a._a[m]=0);S(a);Z(a)},Ma=function(a,b,c,d,e,f,h){b=new Date(a,b,c,d,e,f,h);1970>a&&b.setFullYear(a);return b},R=function(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b},na=function(a,b){if("string"===typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!==typeof a)return null}else a=parseInt(a,10);return a},Na=function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)},B=function(a,b,c){b=c-b;c-=
a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=e(a).add("d",c);return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}},ma=function(a,b,c,d,e){var f=R(a,0,1).getUTCDay(),b=7*(b-1)+((null!=c?c:e)-e)+(e-f+(f>d?7:0)-(f<e?7:0))+1;return{year:0<b?a:a-1,dayOfYear:0<b?b:(L(a-1)?366:365)+b}},pa=function(a){var b=a._i,c=a._f;if(null===b||void 0===c&&""===b)return e.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=q().preparse(b));if(e.isMoment(b)){var a=b,d={},g;for(g in a)a.hasOwnProperty(g)&&oa.hasOwnProperty(g)&&
(d[g]=a[g]);a=d;a._d=new Date(+b._d)}else if(c)if(J(c)){var b=a,f,h;if(0===b._f.length)b._pf.invalidFormat=!0,b._d=new Date(NaN);else{for(g=0;g<b._f.length;g++)if(c=0,d=l({},b),d._pf=A(),d._f=b._f[g],T(d),ea(d)&&(c+=d._pf.charsLeftOver,c+=10*d._pf.unusedTokens.length,d._pf.score=c,null==h||c<h))h=c,f=d;l(b,f||d)}}else T(a);else if(d=a,f=d._i,h=Oa.exec(f),void 0===f)d._d=new Date;else if(h)d._d=new Date(+h[1]);else if("string"===typeof f)if(b=d._i,g=Pa.exec(b)){d._pf.iso=!0;f=0;for(h=U.length;f<h;f++)if(U[f][1].exec(b)){d._f=
U[f][0]+(g[6]||" ");break}f=0;for(h=V.length;f<h;f++)if(V[f][1].exec(b)){d._f+=V[f][0];break}b.match(Q)&&(d._f+="Z");T(d)}else e.createFromInputFallback(d);else J(f)?(d._a=f.slice(0),S(d)):"[object Date]"===Object.prototype.toString.call(f)||f instanceof Date?d._d=new Date(+f):"object"===typeof f?d._d||(f=$(d._i),d._a=[f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond],S(d)):"number"===typeof f?d._d=new Date(f):e.createFromInputFallback(d);return new F(a)},ba=function(a,b){var c;if("string"===
typeof b&&(b=a.lang().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),K(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a},H=function(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()},aa=function(a,b,c){return"Month"===b?ba(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)},u=function(a,b){return function(c){return null!=c?(aa(this,a,c),e.updateOffset(this,b),this):H(this,a)}},Qa=function(a){e.duration.fn[a]=function(){return this._data[a]}},qa=function(a,b){e.duration.fn["as"+
a]=function(){return+this/b}},e,Ra="undefined"!==typeof global?global:this,y=Math.round,k,p=0,s=1,o=2,m=3,w=4,C=5,D=6,x={},oa={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},ya="undefined"!==typeof module&&module.exports,Oa=/^\/?Date\((\-?\d+)/i,Sa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ta=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ga=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,
E=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ka=/\d\d?/,Ea=/\d{1,3}/,Aa=/\d{1,4}/,Da=/[+\-]?\d{1,6}/,Ia=/\d+/,Fa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Q=/Z|[\+\-]\d\d:?\d\d/gi,Ha=/T/i,Ga=/[\+\-]?\d+(\.\d{1,3})?/,Ja=/\d{1,2}/,ha=/\d/,ja=/\d\d/,ia=/\d{3}/,za=/\d{4}/,Ca=/[+-]?\d{6}/,Ba=/[+-]?\d+/,Pa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
U=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],V=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],La=/([\+\-]|\d\d)/gi,W={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},va={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},wa={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},O={},ra="DDD w W M D d".split(" "),sa="MDHhmswW".split(""),t={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},
dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+j(Math.abs(a),6)},gg:function(){return j(this.weekYear()%100,2)},gggg:function(){return j(this.weekYear(),
4)},ggggg:function(){return j(this.weekYear(),5)},GG:function(){return j(this.isoWeekYear()%100,2)},GGGG:function(){return j(this.isoWeekYear(),4)},GGGGG:function(){return j(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},
s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return j(i(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},SSSS:function(){return j(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(i(a/60),2)+":"+j(i(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(i(a/60),2)+j(i(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},
Q:function(){return this.quarter()}},ta=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ra.length;)k=ra.pop(),t[k+"o"]=ua(t[k],k);for(;sa.length;)k=sa.pop(),t[k+k]=X(t[k],2);t.DDDD=X(t.DDD,3);l(Y.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=e.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=e([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",
L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",
nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,
d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return B(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});e=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=
void 0);e={_isAMomentObject:!0};e._i=a;e._f=b;e._l=c;e._strict=d;e._isUTC=!1;e._pf=A();return pa(e)};e.suppressDeprecationWarnings=!1;e.createFromInputFallback=z("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)});e.utc=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=void 0);e={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};e._l=
c;e._i=a;e._f=b;e._strict=d;e._pf=A();return pa(e).utc()};e.unix=function(a){return e(1E3*a)};e.duration=function(a,b){var c=a,d=null,g;if(e.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(d=Sa.exec(a))g="-"===d[1]?-1:1,c={y:0,d:i(d[o])*g,h:i(d[m])*g,m:i(d[w])*g,s:i(d[C])*g,ms:i(d[D])*g};else if(d=Ta.exec(a))g="-"===d[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*g},c={y:c(d[2]),M:c(d[3]),
d:c(d[4]),h:c(d[5]),m:c(d[6]),s:c(d[7]),w:c(d[8])};d=new G(c);e.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang);return d};e.version="2.6.0";e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";e.momentProperties=oa;e.updateOffset=function(){};e.lang=function(a,b){if(!a)return e.fn._lang._abbr;if(b){var c=M(a);b.abbr=c;x[c]||(x[c]=new Y);x[c].set(b)}else null===b?(delete x[a],a="en"):x[a]||q(a);return(e.duration.fn._lang=e.fn._lang=q(a))._abbr};e.langData=function(a){a&&(a._lang&&a._lang._abbr)&&(a=
a._lang._abbr);return q(a)};e.isMoment=function(a){return a instanceof F||null!=a&&a.hasOwnProperty("_isAMomentObject")};e.isDuration=function(a){return a instanceof G};for(k=ta.length-1;0<=k;--k)xa(ta[k]);e.normalizeUnits=function(a){return r(a)};e.invalid=function(a){var b=e.utc(NaN);null!=a?l(b._pf,a):b._pf.userInvalidated=!0;return b};e.parseZone=function(){return e.apply(null,arguments).parseZone()};e.parseTwoDigitYear=function(a){return i(a)+(68<i(a)?1900:2E3)};l(e.fn=F.prototype,{clone:function(){return e(this)},
valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=e(this).utc();return 0<a.year()&&9999>=a.year()?P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),
this.seconds(),this.milliseconds()]},isValid:function(){return ea(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<ca(this._a,(this._isUTC?e.utc(this._a):e(this._a)).toArray()):!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(a){a=P(this,a||e.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===
typeof a?e.duration(+b,a):e.duration(a,b);I(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?e.duration(+b,a):e.duration(a,b);I(this,c,-1);return this},diff:function(a,b,c){var a=N(a,this),d=6E4*(this.zone()-a.zone()),g,b=r(b);"year"===b||"month"===b?(g=432E5*(this.daysInMonth()+a.daysInMonth()),d=12*(this.year()-a.year())+(this.month()-a.month()),d+=(this-e(this).startOf("month")-(a-e(a).startOf("month")))/g,d-=6E4*(this.zone()-e(this).startOf("month").zone()-(a.zone()-e(a).startOf("month").zone()))/
g,"year"===b&&(d/=12)):(g=this-a,d="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:"day"===b?(g-d)/864E5:"week"===b?(g-d)/6048E5:g);return c?d:v(d)},from:function(a,b){return e.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(e(),a)},calendar:function(){var a=N(e(),this).startOf("day"),a=this.diff(a,"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",
this))},isLeapYear:function(){return L(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=na(a,this.lang()),this.add({d:a-b})):b},month:u("Month",!0),startOf:function(a){a=r(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);
case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=r(a);return this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)>+e(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+e(a).startOf(b)},isSame:function(a,
b){b=b||"ms";return+this.clone().startOf(b)===+N(a,this).startOf(b)},min:function(a){a=e.apply(null,arguments);return a<this?this:a},max:function(a){a=e.apply(null,arguments);return a>this?this:a},zone:function(a,b){var c=this._offset||0;if(null!=a)"string"===typeof a&&(a=la(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?I(this,e.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null));
else return this._isUTC?c:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?e(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return K(this.year(),this.month())},dayOfYear:function(a){var b=y((e(this).startOf("day")-e(this).startOf("year"))/
864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=B(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=B(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=B(this,1,4).week;return null==a?b:this.add("d",
7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return da(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return da(this.year(),a.dow,a.doy)},get:function(a){a=r(a);return this[a]()},set:function(a,b){a=r(a);if("function"===typeof this[a])this[a](b);return this},lang:function(a){if(void 0===a)return this._lang;this._lang=
q(a);return this}});e.fn.millisecond=e.fn.milliseconds=u("Milliseconds",!1);e.fn.second=e.fn.seconds=u("Seconds",!1);e.fn.minute=e.fn.minutes=u("Minutes",!1);e.fn.hour=e.fn.hours=u("Hours",!0);e.fn.date=u("Date",!0);e.fn.dates=z("dates accessor is deprecated. Use date instead.",u("Date",!0));e.fn.year=u("FullYear",!0);e.fn.years=z("years accessor is deprecated. Use year instead.",u("FullYear",!0));e.fn.days=e.fn.day;e.fn.months=e.fn.month;e.fn.weeks=e.fn.week;e.fn.isoWeeks=e.fn.isoWeek;e.fn.quarters=
e.fn.quarter;e.fn.toJSON=e.fn.toISOString;l(e.duration.fn=G.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;d.milliseconds=a%1E3;a=v(a/1E3);d.seconds=a%60;a=v(a/60);d.minutes=a%60;a=v(a/60);d.hours=a%24;b+=v(a/24);d.days=b%30;c+=v(b/30);d.months=c%12;b=v(c/12);d.years=b},weeks:function(){return v(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*i(this._months/12)},humanize:function(a){var b=
+this,c;c=!a;var d=this.lang(),e=y(Math.abs(b)/1E3),f=y(e/60),h=y(f/60),i=y(h/24),j=y(i/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===h&&["h"]||22>h&&["hh",h]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",y(i/30)]||1===j&&["y"]||["yy",j];e[2]=c;e[3]=0<b;e[4]=d;c=Na.apply({},e);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},add:function(a,b){var c=e.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();
return this},subtract:function(a,b){var c=e.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=r(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=r(a);return this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:e.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+
this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":"")}});for(k in W)W.hasOwnProperty(k)&&(qa(k,W[k]),Qa(k.toLowerCase()));qa("Weeks",6048E5);e.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};e.lang("en",{ordinal:function(a){var b=a%10,b=1===i(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});"undefined"===typeof ender&&
(Ra.moment=e)});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.lib.js' */
define("jira/moment/moment.lib",["atlassian/libs/moment-2.6.0"],function(n){return n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.formatter.js' */
define("jira/moment/moment.jira.formatter",["underscore","exports"],function(t,e){"use strict";function r(e){return u[e]||t.reduce(e,function(t,e){return t+(u[e]||e)},"")}function n(e){var n=!1,u=!1,a="",o=t.reduce(e,function(t,e,o,i){return u?u=!1:"'"===e?(a&&(t+=r(a),a=""),"'"===i[o+1]?(t+=e,u=!0):(t+=n?"]":"[",n=!n)):n?t+=e:/[a-zA-Z]/.test(e)?a&&a[a.length-1]!==e?(t+=r(a),a=e):a+=e:(a&&(t+=r(a),a=""),t+=e),t},"");return a&&(o+=r(a)),o}var u={d:"D",y:"Y",a:"A",E:"d",u:"d",Z:"ZZ",z:"[GMT]ZZ",XX:"ZZ",XXX:"Z"};e.translateSimpleDateFormat=n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.i18n.js' */
define("jira/moment/moment.jira.i18n",["jira/moment/moment.lib","jira/moment/moment.jira.formatter","jira/util/formatter","jira/util/data/meta","wrm/data"],function(e,t,a,m,o){"use strict";var r=o.claim("jira.webresources:dateFormatProvider.dateFormat");e.lang("jira",{months:r.months,monthsShort:r.monthsShort,weekdays:r.weekdays,weekdaysShort:r.weekdaysShort,weekdaysMin:r.weekdaysShort,longDateFormat:{LT:t.translateSimpleDateFormat(m.get("date-time")),L:t.translateSimpleDateFormat(m.get("date-day")),LL:t.translateSimpleDateFormat(m.get("date-dmy")),LLL:t.translateSimpleDateFormat(m.get("date-complete"))},meridiem:function(e){return r.meridiem[+(e>11)]},calendar:{sameDay:"LLL",nextDay:"LLL",nextWeek:"LLL",lastDay:"LLL",lastWeek:"LLL",sameElse:"LLL"},relativeTime:{future:a.format("in {0}","%s"),past:a.format("{0} ago","%s"),s:"a few seconds",m:"a minute",mm:a.format("{0} minutes","%d"),h:"an hour",hh:a.format("{0} hours","%d"),d:"a day",dd:a.format("{0} days","%d"),M:"a month",MM:a.format("{0} months","%d"),y:"a year",yy:a.format("{0} years","%d")}})});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.js' */
define("jira/moment",["jira/moment/moment.lib","jira/moment/moment.jira.i18n"],function(t,n){return t.splitDate=function(t,n){return Date.splitDate(t,n)},t});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.legacy.js' */
!function(){AJS.namespace("JIRA.translateSimpleDateFormat",null,require("jira/moment/moment.jira.formatter").translateSimpleDateFormat),AJS.namespace("window.moment",null,require("jira/moment"))}();;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'jira-dnd-attachment-module/js/ctrlv/time.js' */
define("dndattachment/ctrlv/time",[],function(){"use strict";return moment});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'jira-dnd-attachment-module/js/ctrlv/base64decode.js' */
define("dndattachment/ctrlv/base64decode",["exports"],function(e){"use strict";function n(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0}var r=function(e){for(var r,t,a=e.replace(/[^A-Za-z0-9\+\/]/g,""),c=a.length,i=3*c+1>>2,d=new Uint8Array(i),o=0,s=0,f=0;f<c;f++)if(t=3&f,o|=n(a.charCodeAt(f))<<18-6*t,3===t||c-f===1){for(r=0;r<3&&s<i;r++,s++)d[s]=o>>>(16>>>r&24)&255;o=0}return d};e.base64decode=r,e.decodeBase64DataUri=function(e){var n=";base64,",t=e.slice(0,e.indexOf(n))+n,a=e.substring(t.length);return r(a)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'jira-dnd-attachment-module/js/ctrlv/utility.js' */
define("dndattachment/ctrlv/utility",["jquery","underscore","dndattachment/ctrlv/base64decode","dndattachment/ctrlv/time","jira/flag","jira/util/navigator","exports"],function(t,e,n,a,i,r,o){"use strict";o.isKeyPasteEvent=function(t,e){var n=86,a=(e||"").indexOf("Mac")!==-1||r.isMac();return t.which===n&&(a?t.metaKey:t.ctrlKey)},o.isImagePasteEvent=function(t){if(t&&t.clipboardData){var n=e.union(e.toArray(t.clipboardData.items),e.toArray(t.clipboardData.files)),a=n.some(function(t){return t.type.indexOf("image")!==-1}),i=n.some(function(t){return t.type.indexOf("rtf")!==-1});return a&&!i}};var s=function(t){if(t.clipboardData&&t.clipboardData.types&&e.contains(t.clipboardData.types,"text/html")){var n=t.clipboardData.getData("text/html"),a=new DOMParser,i=a.parseFromString(n,"text/html"),r=i.body.querySelectorAll("img");return 1===r.length?r[0].getAttribute("src"):null}};o.getHtmlImagePaste=s,o.isHtmlImagePasteEvent=function(t){return null!=s(t)},o.isTextPasteEvent=function(t){return t.clipboardData.types&&(e.contains(t.clipboardData.types,"text/plain")||e.contains(t.clipboardData.types,"text/html"))},o.isContentEditable=function(e){return"true"==e.contentEditable||""==e.contentEditable||"inherit"==e.contentEditable&&t(e).parents().is("[contenteditable=true]")},o.isValidFileName=function(t){return!e(["\\","/",'"',":","?","*","<","|",">","!"]).any(function(e){return t.indexOf(e)>-1})},o.getTextPasteContent=function(t){return t.clipboardData.types&&e.contains(t.clipboardData.types,"text/plain")&&t.clipboardData.getData("text/plain")||""},o.getTextContent=function(e){return e?r.isIE()&&"undefined"!=typeof e.innerText?e.innerText:t(e).text():""},o.normalizePasteEvent=function(t){return t&&t.originalEvent&&t.originalEvent.clipboardData&&(t.clipboardData=t.originalEvent.clipboardData),t&&!t.clipboardData&&window.clipboardData&&(t.clipboardData={files:window.clipboardData.files,types:{contains:function(t){if("text/plain"==t)return!!window.clipboardData.getData("Text")}},getData:function(t){if("text/plain"==t)return window.clipboardData.getData("Text")}}),t},o.browserIsSupported=function(e){var n=(e||"").indexOf("Mac")!==-1||r.isMac(),a=r.isSafari(),i=r.isIE();if(n&&a)return!1;if(i&&!r.isEdge()){var o=document.documentElement.className.split(/\s+/),s=t.inArray("msie-gt-10",o)>-1,l=t.inArray("msie-gt-11",o)>-1,u=i&&s&&!l;return u}return!0},o.browserIsNativePaste=function(){return r.isChrome()||r.isSafari()},o.isWikiTextfield=function(t){return t.is(":input")&&t.hasClass("wiki-textfield")};var l=function(t){return t.is("input#summary")},u=function(n,a,i,r){var s=t(a);if((o.isWikiTextfield(s)||l(s))&&n){s.is(":focus")||s.one("focus",function(){var t=s[0];t.selectionStart=t.selectionEnd=i+n.length});var u=s.val(),c=u.substring(0,i),d=u.substring(r,u.length),f=s.data("wikiEditor");f&&f.undoRedoEl&&e.isFunction(f.undoRedoEl.recordHistoryItem)&&f.undoRedoEl.recordHistoryItem(),s.val(c+n+d),s.trigger("input"),a.selectionStart=a.selectionEnd=i+n.length,f&&f.undoRedoEl&&e.isFunction(f.undoRedoEl.updateCurrent)&&f.undoRedoEl.updateCurrent()}};o.insertToInput=u,o.getMarkup=function(t){var n=["gif"],a=["bmp","jpeg","jpg","png"],i=t.split("."),r=i[i.length-1].toLowerCase();return e.contains(n,r)?"!"+t+"!":e.contains(a,r)?"!"+t+"|thumbnail!":"[^"+t+"]"},o.insertWikiMarkup=function(t,e,n,a){var i=o.getMarkup(t);i&&(i=" "+i+" ",u(i,e,n,a))},o.loadImage=function(e){var n=new t.Deferred,a=new Image;return a.setAttribute("crossOrigin","anonymous"),a.onload=function(){n.resolve(a)},a.onerror=n.reject.bind(n),a.src=e,a.width>0&&a.height>0&&n.resolve(a),n},o.convertImageToBlob=function(e){var a=t("<canvas>").attr("width",e.width).attr("height",e.height)[0];a.getContext("2d").drawImage(e,0,0);try{if(a.mozGetAsFile)return a.mozGetAsFile("image/png");if(a.toDataURL)return new Blob([n.decodeBase64DataUri(a.toDataURL("image/png"))],{type:"image/png"})}catch(t){return null}},o.convertBlobToImage=function(t,e){var n=new Blob([t.slice()],{type:t.type});return n.lastModifiedDate=new Date,n.name=e,n},o.dropFileToElement=function(e,n){var a=e.name;a||(a=this.generateFileName(),e.name=a+".png");var i=t.Event("drop",{dataTransfer:{files:[e]},isPasteEvent:!0}),r=!1;return t(document).on("dropHandled.dropFileToElement",function(){r=!0}),n.trigger(i),t(document).off(".dropFileToElement"),r},o.generateFileName=function(){return"image-"+a().format("YYYY-MM-DD-HH-mm-ss-SSS")},o.getCurrentIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()},o.showErrorMsg=function(t,e){i.showErrorMsg(t,e)},o.createBlobFromFile=function(t){var e=new Blob([t.slice()],{type:t.type});return e.name=t.name,e},o.dragEventContainsFiles=function(t){if(!t.dataTransfer||!t.dataTransfer.types)return!0;var n=t.dataTransfer.types;return r.isMozilla()?e.contains(n,"application/x-moz-file"):e.contains(n,"Files")}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/Configuration.js' */
define("dndattachment/util/Configuration",["underscore"],function(n){function t(t){return n.isFunction(WRM.data)?WRM.data(t):WRM.data.claim(t)}var a="com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.";return{getWRM:n.memoize(function(n){return t(a+n)})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/DataTransfer.js' */
define("dndattachment/util/DataTransfer",["jquery"],function(e){return Class.extend({init:function(e){this._dataTransfer=e},getFiles:function(){var n=this._dataTransfer.files,r=this._dataTransfer.items;return r&&r.length>0&&_.any(r,function(e){return!!e.webkitGetAsEntry})?this.readEntries(r):n&&n.length>0?this.readFiles(this._dataTransfer.files):(new e.Deferred).reject()},readFiles:function(n){var r=new e.Deferred;return e.when.apply(window,_.map(n,function(r){var t=new e.Deferred,i=!r.name.match(/\.([a-z0-9]+)$/i);return i&&r.size<=8192||8192==r.size||4096==r.size||r.size<=1024?this.readFileAsText(r).fail(function(){n=_(n).without(r)}).always(t.resolve.bind(t)):t.resolve(),t}.bind(this))).always(function(){r.resolve(n)}),r},readFileAsText:function(n){var r=new e.Deferred,t=new FileReader;return t.onload=function(){r.resolve(this.result)},t.onerror=function(){r.reject(this.error)},t.readAsText(n),r},readEntries:function(n){var r=new e.Deferred;return n=_.filter(n,function(e){return"file"===e.kind}),e.when.apply(window,_.map(n,function(e){return this.readEntry(e.webkitGetAsEntry(),e)}.bind(this))).then(function(){r.resolve(_.union.apply(_,arguments))},r.reject.bind(r)),r},readEntry:function(n,r){var t=new e.Deferred;return n.isFile?r&&r.getAsFile?t.resolve([r.getAsFile()]):n.file(function(e){t.resolve([e])}):n.isDirectory&&n.createReader().readEntries(function(n){var r=[];e.when.apply(window,_.map(n,function(e){return this.readEntry(e).then(function(e){return r.push.apply(r,e)})}.bind(this))).always(function(){t.resolve(r)})}.bind(this)),t}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/FileSizeUtil.js' */
define("dndattachment/util/FileSizeUtil",function(){function n(n){return n>u?t(n):n>i?r(n):e(n)}function t(n){var t=n/u;return t.toFixed(2)+a}function r(n){var t=Math.round(n/i);return t+o}function e(n){var t=n/i;return t.toFixed(1)+o}var i=1024,u=i*i,o=" kB",a=" MB";return{format:n}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/AttachmentEvents.js' */
define("dndattachment/util/events/types",{ATTACHMENT_FOR_PAGE_RECEIVED:"attachmentForPageReceived"});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'jira-dnd-attachment-module/js/upload/UploadHandler.js' */
define("dndattachment/upload/handler",["jira/util/events","dndattachment/util/events/types","underscore","jquery","dndattachment/ctrlv/utility","exports","dndattachment/upload/default/executor"],function(e,t,n,i,a,r,o){var u,l,s=[],c=function(e,t){return n.find(s,function(n){return n.isValid(e,t)})},f=function(e,t){var r=i.Deferred(),o=JIRA.Dialog.current;if(o){AJS.trigger("analytics",{name:"attach.screenshot.html5.dialogPaste",data:{}});var l=a.createBlobFromFile(t.files[0]);a.dropFileToElement(l,o.$form)&&r.resolve([t.files[0].name])}else{var s=c(e,t);s&&(r=s.processFiles(t.files,u),t.successCallback&&r.done(t.successCallback),t.failureCallback&&r.fail(t.failureCallback),t.alwaysCallback&&r.always(t.alwaysCallback))}r.done(function(e,r){if(!r&&t.isWikiTextfieldFocused){var u=t.wikiTextfield;n.each(e,function(e){a.insertWikiMarkup(e,u,u.selectionStart,u.selectionStart)}),o&&t.isPaste&&AJS.trigger("analytics",{name:"attach.screenshot.html5.dialogPaste.insertWikiMarkup",data:{}}),i(t.wikiTextfield).is(":focus")||setTimeout(function(){t.wikiTextfield.focus()},0)}})},d=function(e){if(e){var t="undefined"!=typeof e.isValid,n="undefined"!=typeof e.processFiles,i="undefined"!=typeof e.weight,a="undefined"!=typeof e.name;return t&&n&&i&&a}return!1};r.registerExecutor=function(e){var t=d(e);if(t){var i=n.reject(s,function(t){return t.name===e.name});i.push(e),s=n.sortBy(i,function(e){return-e.weight})}return t},r.unregisterExecutor=function(e){s=n.reject(s,function(t){return t.name===e.name})},r.initialize=function(){e.bind(t.ATTACHMENT_FOR_PAGE_RECEIVED,f)},r.disable=function(){e.unbind(t.ATTACHMENT_FOR_PAGE_RECEIVED,f)},r.setAttachmentDropZone=function(e){u=e,this.setCurrentDropZone(e)},r.isDefaultExecutor=function(e){var t=c(null,e);return t&&t.name===o.name},r.setCurrentDropZone=function(e){l=e},r.doUpload=function(e){return!(!l||!l.browseFilesAndUpload)&&l.browseFilesAndUpload(i.Event("upload"),e)},r.disconnectCurrentDropZone=function(){l=u}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'jira-dnd-attachment-module/js/upload/DefaultUploadExecutor.js' */
define("dndattachment/upload/default/executor",["jquery","underscore","dndattachment/ctrlv/utility","exports"],function(t,e,n,u){u.name="Default attachment executor",u.weight=0,u.isValid=function(t,e){return!0},u.processFiles=function(t,e){return e.uploadFiles(t)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/i18n.js' */
define("dndattachment/i18n",function(){var t={"dnd.attachment.unsupported.browser":"Drag and Drop of attachments is currently only available for the following browsers:","dnd.attachment.file.is.too.large":"File exceeds maximum size limit set by the administrator ({0}).","dnd.attachment.upload.in.progress":"Upload in progress, please wait.","dnd.attachment.not.uploaded":function(t){return AJS.format("File \"{0}\" was not uploaded",t)},"dnd.attachment.unauthorized":"You are not authorized, session has expired or connection is lost.","dnd.attachment.internal.server.error":"An internal error has occurred. Please contact your administrator.","dnd.attachment.upload.aborted":"Upload was aborted.","dnd.attachment.upload.remove":"Remove attachment"};return function(n){if(t[n])return t[n];throw"Unknown key: "+n}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/TemporaryAttachments.js' */
define("dndattachment/TemporaryAttachments",[],function(){var t={};return{createAttachment:function(t,e,n,a){return{id:t,name:e,type:n,file:a}},getAttachment:function(e,n){return t[e]||this.createAttachment(e,n)},putAttachment:function(e,n){return t[e]=this.createAttachment(e,n.name,n.type,n)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/Parser.js' */
define("dndattachment/Parser",["dndattachment/aui","jquery"],function(e,n){function r(e){var r=n(e).find(a).add(e.filter(a)),d=r.addClass(t).map(function(e,r){var t=new n.Deferred;return require([n(r).attr("duiType")],function(e){"function"==typeof e?t.resolve(new e(r)):t.reject()}),t});return n.when.apply(window,n.makeArray(d))}var t="-dui-type-parsed",a="*[duiType]:not(."+t+")";return JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,n,t){r(n)}),n.isReady?r(n("body")):n(function(){r(n("body"))}),{parse:r}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/dropzones/IssueDropZone.js' */
define("dndattachment/dropzones/IssueDropZone",["jquery","jira/flag","dndattachment/Parser","dndattachment/aui","dndattachment/JIRA","dndattachment/i18n","dndattachment/TemporaryAttachments","dndattachment/util/DataTransfer","dndattachment/ctrlv/utility"],function(e,t,n,i,s,r,a,o,d){var u=5e3,l=["An internal error has occurred. Please contact your administrator."],h=Class.extend({eventGroup:"issuedropzone",progressBarType:"dndattachment/progressbars/UploadProgressBar",init:function(t){return this.$node=e(t),this.isSupportedBrowser()?(this.$node.parents(".mod-content")&&this.$node.parents(".mod-content").addClass("issue-drop-zone"),this.uploadLimit=this.$node.data("upload-limit"),this.uploadSize=this.$node.data("upload-size"),this.formToken=this.$node.data("form-token"),this.attachFileUrl=contextPath+"/secure/AttachFile.jspa",this.pendingQueue=[],this.render(),void this.queueEvent("init")):this.renderUnsupported()},queueTask:function(t){this.pendingQueue.push(t),t.always(function(){this.pendingQueue.splice(this.pendingQueue.indexOf(t),1)}.bind(this)),this.markDirty(!0),e.when.apply(window,this.pendingQueue).always(_.debounce(this.checkMarkDirty,!1,!0).bind(this))},render:function(){this.$node.html(s.Templates.DnDAttachmentPlugin.IssueDropZone({})),this.fileInput=this.$node.find(".issue-drop-zone__file"),this.fileButton=this.$node.find("button.issue-drop-zone__button"),this.connectListeners(),s.trace("jira.issue.dnd.issuedropzone.render")},addHandlerToBrowseLink:function(){this.fileButton.click(this.browseLinkHandler.bind(this))},browseLinkHandler:function(e){e.preventDefault(),this.fileInput.click()},connectListeners:function(){this.fileInput.change(function(e){this.handleFilesReceived(this.fileInput[0].files),this.queueEvent("fileInput",{count:this.fileInput[0].files.length}),this.fileInput.attr("value",null)}.bind(this)),this.addHandlerToBrowseLink();var t=this.$node.parents(".issue-drop-zone").length>0?this.$node.parents(".issue-drop-zone"):this.$node;this.$dropTarget=t.find(">*").andSelf(),this.$dropTarget.on("dragover dragenter drop",function(n){if(n.preventDefault(),n.stopPropagation(),t.addClass("dragover"),"drop"==n.type){t.removeClass("dragover"),e(document).trigger("dropHandled");var i=new o(n.dataTransfer);i.getFiles().then(function(e){this.handleFilesReceived(e),this.queueEvent("fileDrop",{count:e.length})}.bind(this))}}.bind(this)),this.$dropTarget.on("dragleave",function(){t.removeClass("dragover")}.bind(this))},configureUploadProgressBar:function(e,t){e.data("upload-size",this.uploadSize).data("file",t).data("form-token",this.formToken)},createUploadProgressBar:function(t){var i=e('<div duiType="'+this.progressBarType+'" class="upload-progress-bar"></div>');return this.configureUploadProgressBar(i,t),n.parse(i).then(function(e){this.placeUploadProgressBar(i,e),this.handleNewProgressBar(e)}.bind(this))},placeUploadProgressBar:function(e){return e.insertAfter(this.$node)},handleNewProgressBar:function(e){},handleFilesReceived:function(e){this.uploadFiles(e)},uploadFiles:function(n){var r=new e.Deferred,a=[],o=s.Issues.Api.getSelectedIssueKey(),d=s.Issues.Api.getSelectedIssueId(),l=i.Meta.get("viewissue-permlink"),h=e("#summary-val input").attr("value")||e("#summary-val").text(),c=s.Templates.DnDAttachmentPlugin.SuccessMessageLink({issueLink:l,issueKey:o,issueSummary:h}),p=_.map(n,function(t){var n=new e.Deferred;return this.createUploadProgressBar(t).then(function(e){this.trigger("progressBarInserted",e),a.push(e),e.uploadFile(t,this.uploadLimit).then(n.resolve.bind(n),n.resolve.bind(n)).done(function(){this.trigger("uploadFinished",e)}.bind(this)).fail(function(){s.trace("jira.issue.dnd.upload.fail"),r.reject(arguments)})}.bind(this)),n}.bind(this)),f=e.when.apply(window,p);return f.done(function(){var e=_.filter(1==p.length?[arguments]:arguments,function(e){return e&&e[0]&&e[0].id}).map(function(e){return e[0].id});0!=e.length&&this.commitUpload(e,d).done(function(){_.delay(function(){a.some(function(e){e.getAutoDestroy()&&(e.destroy(),this.queueEvent("autoDestroy"))}.bind(this))}.bind(this),u);var e=_.filter(a,function(e){return e.result.isResolved()});if(1==e.length){var n=e[0].getFileName();t.showSuccessMsg("",i.format("{0} was attached successfully to {1}.",n,c))}else e.length>1&&t.showSuccessMsg("",i.format("{0} files were attached successfully to {1}.",e.length,c));r.resolve(_.map(e,function(e){return e.file.name}))}.bind(this)).fail(function(e,t){r.reject(e,t),e&&e.forEach(function(e){a.forEach(function(t){t.reportError(e)})}),t&&a.forEach(function(e){var n=t["#"+e.getFileID()]||t[e.getFileName()];n&&e.reportError(n)}),s.trace("jira.issue.dnd.commit.fail")})}.bind(this)),this.queueTask(f),r},loadAttachments:function(e){e.forEach(function(e){this.createUploadProgressBar(e.file).then(function(t){t.setFileID(e.id),t.setFileName(e.name),t.setFileSize(e.size),t.setProgress(1),t.setFinished(),this.trigger("uploadFinished",t)}.bind(this))},this)},commitUpload:function(t,n){return new e.Deferred},attachFile:function(t,n){var i=new e.Deferred;return s.SmartAjax.makeRequest({type:"POST",url:this.attachFileUrl,data:{inline:!0,id:n||s.Issue.getIssueId(),filetoconvert:t,atl_token:atl_token(),formToken:this.formToken},dataType:"json"}).done(i.resolve.bind(i)).fail(function(e){try{var t=JSON.parse(e.responseText);i.reject(t.errorMessages||l,t.errors)}catch(e){i.reject(l)}}),i},isSupportedBrowser:function(){if(e("html.webkit")[0]||e("html.safari")[0]){if(!(parseFloat(e.browser.version)>=537))return!1}else if(e("html.mozilla")[0]){if(!(parseFloat(e.browser.version)>=1.9))return!1}else{if(!e("html.msie")[0])return!1;if(!(parseFloat(e.browser.version)>=10))return!1}return!0},renderUnsupported:function(){this.$node.addClass("issue-drop-zone__not-supported").text(r("dnd.attachment.unsupported.browser")).append("<ul><li>FireFox 3.6+</li><li>Chrome 5+</li><li>Safari 5</li></ul>")},markDirty:function(e){this.$node.addClass(s.DirtyForm.ClassNames.SANCTIONED),this.$node.toggleClass(s.DirtyForm.ClassNames.EXEMPT,!e),this.$node.attr("value",!1),this.$node.attr("defaultValue",!0)},checkMarkDirty:function(){0==this.pendingQueue.length&&this.markDirty(!1)},queueEvent:function(e,t){i.trigger("analytics",{name:"issue.dnd.attachment."+this.eventGroup+"."+e,data:t||{}})}});return h});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachment-integration', location = 'jira-dnd-attachment-module/js/integration/register.js' */
define("dndattachment/integration-register",function(){function r(r){return e[r]}function t(r,t){return"function"==typeof t&&(e[r]=t,!0)}var e={attachmentMenuLink:null,attachmentsZoneCreator:null,browseLink:null,temporaryAttachmentCreatorFactory:null,attachmentCreatorFactoryForBrowseLink:null,attachmentCreatorFactoryForAttachLink:null,temporaryBinaryUploadHandler:null,connectedTemporaryBinaryUploadHandler:null};return{getAttachmentMenuHandler:function(){var t=r("attachmentCreatorFactoryForAttachLink");return t&&t("attachment-menu")},registerAttachmentMenuHandlerFactory:function(r){return t("attachmentCreatorFactoryForAttachLink",r)},getBrowseLinkHandler:function(){var t=r("attachmentCreatorFactoryForBrowseLink");return t&&t("browse-link")},registerBrowseLinkHandlerFactory:function(r){return t("attachmentCreatorFactoryForBrowseLink",r)},getAttachmentsZoneCreator:function(){return r("attachmentsZoneCreator")},registerAttachmentsZoneCreator:function(r){return t("attachmentsZoneCreator",r)},registerTemporaryAttachmentCreatorFactory:function(r){return t("temporaryAttachmentCreatorFactory",r)},getTemporaryAttachmentCreator:function(t,e,n){var a=r("temporaryAttachmentCreatorFactory");return a&&a(t,e,n)},getTemporaryAttachmentZoneCreator:function(){return r("temporaryAttachmentsZoneCreator")},registerTemporaryAttachmentZoneCreator:function(r){return t("temporaryAttachmentsZoneCreator",r)},getTemporaryBinaryUploadHandler:function(){return r("temporaryBinaryUploadHandler")},registerTemporaryBinaryUploadHandler:function(r){return t("temporaryBinaryUploadHandler",r)},getConnectedTemporaryBinaryUploadHandler:function(){return r("connectedTemporaryBinaryUploadHandler")},registerConnectedTemporaryBinaryUploadHandler:function(r){return t("connectedTemporaryBinaryUploadHandler",r)},unregisterAllHandlers:function(){for(var r in e)e[r]=null}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/AttachmentsDropZone.js' */
define("dndattachment/dropzones/AttachmentsDropZone",["dndattachment/dropzones/IssueDropZone","jira/util/events","dndattachment/util/events/types","jquery","dndattachment/util/DataTransfer","dndattachment/ctrlv/utility","jira/dialog/dialog","dndattachment/integration-register","dndattachment/upload/handler","jira/featureflags/feature-manager"],function(e,t,n,o,r,i,a,s,d,h){var c=function(){var e=parseUri(window.location);return e.protocol+"://"+e.authority}(),l=e.extend({eventGroup:"attachmentsdropzone",progressBarType:"dndattachment/progressbars/AttachmentsUploadProgressBar",init:function(){this._super.apply(this,arguments),this.attachFileUrl=contextPath+"/rest/jddap/1.0/attachment",t.bind(JIRA.Events.PANEL_REFRESHED,this.panelRefreshed.bind(this)),this.connectContainer()},connectContainer:function(){this.$containerNode=this.getContainerNode(),this.$dragoverDropzone=o(JIRA.Templates.DnDAttachmentPlugin.dropzone()),this.$dragoverBorder=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-border"),this.$dragoverInfo=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-info"),this.$dragoverDropzone.appendTo(this.$containerNode),this._connectDropzone(),this.$windowMask=o(JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask()),this.$body=o(document.body);var e=this.$body;window.__SPA__&&(e=o("#attachment-dropzone-mask-container"),e.length||(e=this.$body)),e.append(this.$windowMask),this.$body.on("dragenter",_.throttle(this.onBodyDragEnter.bind(this),200,{trailing:!1})),this.$body.on("dragleave",this.onBodyDragLeave.bind(this)),this.$windowMask.on("dragover dragenter",this.onWindowMaskDragEnter.bind(this)),this.$windowMask.on("dragleave",this.onWindowMaskDragLeave.bind(this)),this.$windowMask.on("drop",this.onWindowMaskDrop.bind(this)),this.$auiSidebar=o(".aui-sidebar-body"),this._disconnectListenersFromParentDropzone(),this.onContentAddedHandler=this.onContentAdded.bind(this),t.bind(JIRA.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),this.externalHandler=s.getBrowseLinkHandler()},_connectDropzone:function(){var e=s.getAttachmentsZoneCreator();this.onDragOverDropHandler=this.onDragOverDrop.bind(this),this.onDragLeaveHandler=this.onDragLeave.bind(this),this.$containerNode.on("dragover dragenter drop",this.onDragOverDropHandler),this.$containerNode.on("dragleave",this.onDragLeaveHandler),"function"==typeof e&&(this.externalZone=e(this.$containerNode[0]))},_disconnectListenersFromParentDropzone:function(){this.$dropTarget.off("dragover drop dragleave dragenter"),o(document).off("dragover dragenter")},disconnectContainer:function(){this.$dragoverDropzone.remove(),this.$windowMask.remove(),this.$body.removeClass("attachments-drop-zone__dragover"),this.$body.off("dragenter",this.onBodyDragEnter.bind(this)),this.$containerNode.off("dragenter dragover drop",this.onDragOverDropHandler),this.$containerNode.off("dragleave",this.onDragLeaveHandler),this.externalZone&&this.externalZone.deactivate(),t.unbind(JIRA.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),d.disconnectCurrentDropZone(this)},isAttached:function(){return o.contains(document.body,this.$node[0])},onContentAdded:function(){this.isAttached()||this.disconnectContainer()},getContainerNode:function(){var e=o(o(".issue-container")[0]);return"static"===e.css("position")&&e.css("position","relative"),e},addHandlerToBrowseLink:function(){this.fileButton.click(this.browseFilesAndUpload.bind(this))},canDoFullPageDrop:function(){return a.current?(JIRA.trace("jira.issue.dnd.dropnotallowed"),!1):(JIRA.trace("jira.issue.dnd.dropallowed"),!0)},onDragOverDrop:function(e){if(!this.isAttached())return void this.disconnectContainer();if(i.dragEventContainsFiles(e)&&this.canDoFullPageDrop()&&(e.preventDefault(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="copy"),JIRA.trace("jira.issue.dnd.dragover"),this.$body.addClass("attachments-drop-zone__dragover"),this.$body.addClass("attachments-drop-zone__window-dragover"),this.$containerNode.addClass("attachments-drop-zone__dragover-fade"),this._readjustDropzone(),this._repositionStickyInfoBox(),"dragenter"===e.type&&this.externalZone&&(d.isDefaultExecutor({})?this.externalZone.activate():this.externalZone.deactivate()),"drop"==e.type))if(this.removeAllDragoverClasses(this.$containerNode),o(document).trigger("dropHandled"),this.externalZone&&d.isDefaultExecutor({}))this.externalZone.drop();else{var t=new r(e.dataTransfer);t.getFiles().then(function(e){this.handleFilesReceived(e),this.queueEvent("fileDrop",{count:e.length})}.bind(this))}},onDragLeave:function(){this.removeAllDragoverClasses(this.$containerNode)},browseFilesAndUpload:function(e,t){return"function"==typeof this.externalHandler&&d.isDefaultExecutor({})?this.externalHandler.call(null,e,t||{}):this.browseLinkHandler.call(this,e),!0},_readjustDropzone:function(){if(0!==this.$auiSidebar.length){var e=this.$auiSidebar.offset().left+this.$auiSidebar.width();if(this.$dragoverBorder.parent().offset()){var t=this.$dragoverBorder.parent().offset().left;e>t?this.$dragoverBorder.css({left:e-t}):this.$dragoverBorder.css({left:0})}else this.$dragoverBorder.css({left:0})}},_repositionStickyInfoBox:function(){if(window.__SPA__){var e=this.$containerNode.scrollParent().scrollTop()+10;return void this.$dragoverInfo.css({top:e})}var t,e=this.$containerNode.scrollParent().scrollTop()+10,n=this.$containerNode.offset().top;t=this.$containerNode.scrollParent().offset()?this.$containerNode.scrollParent().offset().top:0;var o;o=0===t?e>=n?e-n:10:e,this.$dragoverInfo.css({top:o})},onBodyDragEnter:function(e){i.dragEventContainsFiles(e)&&(this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"))},onBodyDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDragEnter:function(e){i.dragEventContainsFiles(e)&&(e.preventDefault(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="none"),this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"),this.canDoFullPageDrop()&&(this.$body.addClass("attachments-drop-zone__dragover"),this._repositionStickyInfoBox()))},onWindowMaskDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDrop:function(e){e.preventDefault(),this.removeAllDragoverClasses()},removeAllDragoverClasses:function(e){e&&e.removeClass("attachments-drop-zone__dragover-fade"),this.$body.removeClass("attachments-drop-zone__window-dragover"),this.$body.removeClass("attachments-drop-zone__dragover")},handleFilesReceived:function(e){var r=o("textarea.wiki-textfield:visible:focus"),i=r.length>0;t.trigger(n.ATTACHMENT_FOR_PAGE_RECEIVED,{files:e,isWikiTextfieldFocused:i,wikiTextfield:r[0]})},render:function(){return this.$node.parents("#attachmentmodule").addClass("attachments-drop-zone-parent"),this.$listNode=this.$node.siblings("#file_attachments, #attachment_thumbnails"),this._super.apply(this,arguments)},panelRefreshed:function(e,t,n,r){if(r.find(this.$node).is("*")){this.getViewMode();n=n.find(">.mod-content"),n.addClass("issue-drop-zone"),this.$node.prependTo(n),this.render();var i=r.find(".attachments-upload-progress-bar");i.data("viewMode",this.getViewMode()).each(function(e,t){var n=o(t).prop("_instance");void 0!=n&&n.render()}),i.each(function(e,t){this.insertProgressBar(o(t))}.bind(this)),this._disconnectListenersFromParentDropzone()}},getViewMode:function(){return"file_attachments"==this.$listNode.attr("id")?"list":"gallery"},getSortBy:function(){return this.$listNode.data("sort-key")},getSortOrder:function(){return this.$listNode.data("sort-order")},getSortComparator:function(){var e="asc"==this.getSortOrder()?1:-1,t="fileName"==this.getSortBy()?function(e){return e.find(".attachment-title").text()}:function(e){return new Date(e.find("*[datetime]").attr("datetime")).getTime()},n="fileName"==this.getSortBy()&&String.prototype.localeCompare?function(e,t){return e.localeCompare(t)}:function(e,t){return e<t?-1:e>t?1:0};return function(o,r){var i=t(o),a=t(r);return e*n(i,a)}},commitUpload:function(e,t){var n=new o.Deferred;return this.attachFile(e,t).then(n.resolve.bind(n),n.reject.bind(n)),n.then(function(n){var r=o(JIRA.Templates.ViewIssue.renderAttachments({baseurl:contextPath,fullBaseUrl:c+contextPath,issue:{id:t},attachments:n,viewMode:this.getViewMode()})).find(".attachment-content");n.forEach(function(t,n){var o=r[n],i=this.$listNode.find('>*[data-file-id="'+e[n]+'"]');i.replaceWith(o)},this),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.$listNode,JIRA.CONTENT_ADDED_REASON.panelRefreshed]),JIRA.trace("jira.issue.dnd.attached")}.bind(this)),this.queueTask(n),this.queueEvent("commitUpload",{count:e.length}),n},configureUploadProgressBar:function(e){this._super.apply(this,arguments),e.data("viewMode",this.getViewMode())},placeUploadProgressBar:function(e,t){return t.$node.find("time.livestamp").attr("datetime",(new Date).toISOString()).livestamp(),this.insertProgressBar(e),t.bind("onDestroy",function(){var t=e.parents(".item-attachments");0==t.find(".attachments-upload-progress-bar, .attachment-content").length&&t.remove()}),e},insertProgressBar:function(e){var t=this.getSortComparator(),n=this.$listNode.children().toArray(),r=function(n){if(t(e,o(n))<1)return e.insertBefore(n),!0};n.some(r)||e.appendTo(this.$listNode)}});return l});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/js/progressbars/UploadProgressBar.js' */
define("dndattachment/progressbars/UploadProgressBar",["jquery","dndattachment/Parser","dndattachment/JIRA","dndattachment/aui","dndattachment/i18n","dndattachment/TemporaryAttachments","dndattachment/util/Configuration","dndattachment/util/FileSizeUtil"],function(t,e,i,s,n,o,r,a){function d(t,e){s.trigger("analytics",{name:"issue.dnd.attachment.uploadprogress."+t,data:e||{}})}var h=["aui-iconfont-error","aui-iconfont-success","aui-iconfont-close-dialog"],u=r.getWRM("thumbnail-mime-types").split(","),l=Class.extend({autoDestroy:!0,init:function(e){this.result=new t.Deferred,this.$node=t(e),this.file=this.$node.data("file"),this.uploadSize=this.$node.data("upload-size"),this.formToken=this.$node.data("form-token"),this.$node.prop("_instance",this),this.render()},render:function(){this.$node.html(i.Templates.DnDAttachmentPlugin.UploadProgressBar({isImageType:this.isImageType()})),this.afterRender()},afterRender:function(){this.file&&(this.setFileName(this.file.name),this.setFileSize(this.file.size),this.loadThumbnail(this.file)),this.progress&&this.updateProgress(),this.connectListeners()},connectListeners:function(){this.getControlNode().on("click",function(){this.destroy(),d("buttonClick")}.bind(this))},destroy:function(){this.destroyed||(this.upload&&this.upload.abort(),this.setAutoDestroy(!1),this.trigger("onBeforeDestroy"),this.destroyed=!0,this.$node.animate({opacity:0},{duration:250,complete:function(){this.$node.slideUp(250,function(){this.objectURL&&window.URL.revokeObjectURL(this.objectURL),this.$node.remove(),i.trace("jira.issue.dnd.progressbar.removed"),this.trigger("onDestroy")}.bind(this))}.bind(this)}))},isDestroyed:function(){return!!this.destroyed},setAutoDestroy:function(t){this.autoDestroy=t},getAutoDestroy:function(){return this.autoDestroy},getUploadParams:function(t){var e={filename:t.name,size:t.size,atl_token:atl_token(),formToken:this.formToken};return _.extend(e,this.getEntityParams()),e},getEntityParams:function(){var t={},e=i.Issue.getIssueId(),s=this.$node.parents("form").find('*[name="pid"]').attr("value");return s?t.projectId=s:e&&(t.issueId=e),t},setFile:function(t){this.file=t},setFileID:function(t){this.fileID=t,this.$node.attr("data-file-id",t)},getFileID:function(){return this.fileID},setFileName:function(t){this.$node.find(".upload-progress-bar__file-name").text(t)},getFileName:function(){return this.$node.find(".upload-progress-bar__file-name").text()},setFileSize:function(t){t>=0&&this.$node.find(".upload-progress-bar__file-size").html(a.format(t))},uploadFile:function(t,e){this.setFile(t);var r=this.result;if(this.monitorUpload(r),r.fail(this.reportError.bind(this)),t.size>e)return r.reject(n("dnd.attachment.file.is.too.large").replace("{0}",this.uploadSize),!0),r;for(var a=["\\","/",'"',":","?","*","<","|",">"],d=0;d<a.length;d++){var h=a[d];if(_.contains(t.name,h))return r.reject(s.format("{0} contains the invalid character \'\'{1}\'\'. Please rename the file and try again.",t.name,h),!0),r}return this.upload=new s.InlineAttach.AjaxUpload({file:t,params:this.getUploadParams(t),url:s.InlineAttach.AjaxPresenter.DEFAULT_URL,progress:function(e){r.notify(e/t.size)},success:function(e,i){void 0!==e.id&&void 0!==e.name?(r.notify(1),r.resolve(e,i,t)):r.reject(e,i,t)},error:function(t,e){r.reject(n("dnd.attachment.internal.server.error"),e)},abort:function(){r.reject(n("dnd.attachment.upload.aborted"),"abort")}}),this.checkSession().then(function(){this.upload.upload()}.bind(this)).fail(function(){r.reject(n("dnd.attachment.unauthorized"),401)}),this.$node.find(".upload-progress-bar__control>*").on("click",function(){this.upload.abort(),r.reject()}.bind(this)),r.done(function(e){o.putAttachment(e.id,t),this.setFileID(e.id),i.trace("jira.issue.dnd.uploaded")}.bind(this)),r},monitorUpload:function(t){t.progress(this.setProgress.bind(this)),t.done(this.setFinished.bind(this)),t.fail(this.setFailed.bind(this))},setProgress:function(t){this.progress=t,this.updateProgress()},updateProgress:function(){var t=this.$node.find(".upload-progress-bar__progress-bar");t.toggleClass("UploadProgressBar_progressUnknown",this.progress===!1),this.progress>=0&&t.find(".upload-progress-bar__bar").css("width",100*this.progress+"%")},setFinished:function(){this.$node.addClass("upload-progress-bar__upload-finished"),this.$node.find(".upload-progress-bar__control button .aui-icon").addClass("aui-iconfont-success").removeClass("aui-iconfont-close-dialog"),this.finished=!0,this.trigger("onFinished")},setFailed:function(){this.$node.addClass("UploadProgressBar_uploadFailed"),this.finished=!0,this.failed=!0,this.trigger("onFailed")},isFinished:function(){return!!this.finished},isFailed:function(){return!!this.failed},isSuccessful:function(){return this.isFinished()&&!this.isFailed()},isImageType:function(){return this.file&&this.file.type&&_.contains(u,this.file.type)},getThumbnailSrc:function(t){return this.isImageType()&&(this.objectURL=window.URL.createObjectURL(t)),this.objectURL||i.Templates.ViewIssue.matchFileIconUrl({baseurl:s.contextPath(),mimetype:t.type})},getThumbnailNode:function(){return this.$node.find(".upload-progress-bar__thumbnail")},getControlNode:function(){return this.$node.find(".upload-progress-bar__control button")},loadThumbnail:function(e){var i=this.getThumbnailSrc(e),s=this.getThumbnailNode();s.addClass(this.objectURL?"upload-progress-bar__thumbnail_image":"upload-progress-bar__thumbnail_icon");var n=t("<img/>").attr("src",i);return n.appendTo(s)},reportError:function(t,e){"object"==typeof t&&t.errorMessage&&(t=t.errorMessage),this.$node.addClass("upload-progress-bar__upload-error"),this.$node.removeClass("upload-progress-bar__upload-finished"),this.$node.find(".upload-progress-bar__bar").css("width","100%"),this.showErrorMessage(t,e),this.setAutoDestroy(!1),d("error",{message:t})},showErrorMessage:function(t){this.$node.find(".upload-progress-bar__error-message").text(t)},setIcon:function(t){var e=this.$node.find(".upload-progress-bar__control button .aui-icon");if(!h.some(function(i){return e.toggleClass(i,i==t),i==t}))throw"Unknown icon"},checkSession:function(){var e=new t.Deferred;return s.$.ajax({type:"GET",url:contextPath+"/rest/auth/1/session",contentType:"application/json"}).done(function(){e.resolve()}).fail(function(){this.checkPermissions().done(function(t){e.resolve()}).fail(function(){e.reject()})}.bind(this)),e},checkPermissions:function(){var e=new t.Deferred;return s.$.ajax({type:"GET",url:contextPath+"/rest/api/2/mypermissions",contentType:"application/json",data:t.extend({},this.getEntityParams(),{permissions:"CREATE_ATTACHMENTS"})}).done(function(t){t.permissions.CREATE_ATTACHMENTS.havePermission?e.resolve():e.reject()}).fail(function(){e.reject()}),e}});return l});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/js/progressbars/AttachmentsUploadProgressBar.js' */
define("dndattachment/progressbars/AttachmentsUploadProgressBar",["dndattachment/progressbars/UploadProgressBar","jira/flag","jquery","dndattachment/i18n"],function(e,t,a,n){return e.extend({render:function(){this.$node.html(JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar({isImageType:this.isImageType()})).removeClass("upload-progress-bar").addClass("attachments-upload-progress-bar"),this.$node.toggleClass("attachment-content",!this.isImageType()),this.afterRender()},loadThumbnail:function(t){return"gallery"==this.$node.data("viewMode")?e.prototype.isImageType.call(this)?this._super.apply(this,arguments):a(JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:t.type})).appendTo(this.getThumbnailNode()):a(JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype:t.type})).appendTo(this.getThumbnailNode())},showErrorMessage:function(e,s){if("abort"!=s){var o=t.showErrorMsg(n("dnd.attachment.not.uploaded")(this.getFileName()),AJS.escapeHTML(e));a(o).on("aui-flag-close",function(){this.destroy()}.bind(this)),this.bind("onDestroy",function(){o.close()})}},isImageType:function(){return"gallery"==this.$node.data("viewMode")},getControlNode:function(){return this.$node.find(".upload-progress-bar__upload-control span")},getAutoDestroy:function(){return!1}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/IssueDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.IssueDropZone=function(e,t){return'<div class="issue-drop-zone__target"></div><span class="issue-drop-zone__text"><span class="issue-drop-zone__drop-icon"> </span> '+soy.$$escapeHtml("Drop files to attach, or")+' <button type="button" class="issue-drop-zone__button"> '+soy.$$escapeHtml("browse")+'.</button><input class="issue-drop-zone__file ignore-inline-attach" type="file" multiple /></span>'},JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone=function(e,t){return'<div duiType="dndattachment/dropzones/AttachmentsDropZone" class="issue-drop-zone" data-upload-limit="'+soy.$$escapeHtml(e.jiraAttachmentSize)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'"></div>'};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/AttachmentsDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.dropzoneMask=function(n,e){return'<span><div class="attachments-drop-zone__dragover-mask" /></span>'},JIRA.Templates.DnDAttachmentPlugin.dropzone=function(n,e){return'<span><div class="attachments-drop-zone__dragover-border"><div class="attachments-drop-zone__dragover-info"><p>'+soy.$$escapeHtml("Drop files to attach them to the issue")+"</p></div></div></span>"},JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask=function(n,e){return'<span><div class="attachments-drop-zone__window-dragover-mask" /></span>'};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/UploadProgressBar.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar=function(a,s){return'<div class="upload-progress-bar__thumbnail"> </div><span class="upload-progress-bar__file-name"> </span><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Cancel upload")+'</span></button></div><div class="upload-progress-bar__error-message"></div>'},JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar=function(a,s){return""+(a.isImageType?'<div class="upload-progress-bar__thumbnail"><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><dl><dt><span class="upload-progress-bar__file-name"> </span></dt><dd class="upload-progress-bar__file-size"> </dd><dd class="upload-progress-bar__upload-control"><span>'+soy.$$escapeHtml("Cancel")+'</span></dd><dd class="upload-progress-bar__error-message"></dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>':'<div class="attachment-thumb upload-progress-bar__thumbnail"></div><dl><dt class="attachment-title upload-progress-bar__file-name"></dt><dd class="upload-progress-bar__upload-control"><span>'+soy.$$escapeHtml("Cancel")+'</span></dd><dd class="attachment-size"><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></dd><dd class="attachment-author"> </dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>')},JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar=function(a,s){return'<div class="temp-upload-progress-bar__parent-container temp-upload-progress-bar__uploading"><div class="temp-upload-progress-bar__container"><div class="upload-progress-bar__thumbnail"/><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__error"><div class="upload-progress-bar__error-indicator"><span class="aui-icon aui-icon-large aui-iconfont-error">'+soy.$$escapeHtml("Upload error")+'</span></div><div class="upload-progress-bar__error-text">'+soy.$$escapeHtml("Upload failed")+'</div></div><div class="upload-progress-bar__upload-mask"/><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog"><div class="button-text" aria-label="'+soy.$$escapeHtml("Cancel upload")+' "></div><div class="file-name"></div><div class="error-message"></div></span></button></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><div class="upload-progress-bar_file-name-container"><span class="upload-progress-bar__file-name"></span></div></div>'},JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink=function(a,s){return'<a href="'+soy.$$escapeHtml(a.issueLink)+'">'+soy.$$escapeHtml(a.issueKey)+" - "+soy.$$escapeHtml(a.issueSummary)+"</a>"};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/path.js' */
define("dndattachment/ctrlv/path",["exports"],function(t){"use strict";var n=function(t){return t.split(/\//).pop()};t.basename=n,t.dirname=function(t){var e=n(t);return t.substring(0,t.length-e.length)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/templates/soy/attach-screenshot-form.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Html5Screenshot&&(JIRA.Templates.Html5Screenshot={}),JIRA.Templates.Html5Screenshot.attachScreenshotForm=function(e,t){return'<h2 class="dialog-title">'+soy.$$escapeHtml("Attach Screenshot")+'</h2><form action="ShowAttachScreenshotFormAction.jspa" class="aui" method="post" id="attach-screenshot-form"><input type="hidden" name="id" value="'+soy.$$escapeHtml(e.id)+'"/><input type="hidden" name="projectId" value="'+soy.$$escapeHtml(e.projectId)+'"/><input type="hidden" name="atl_token" value="'+soy.$$escapeHtml(e.atlToken)+'"><input type="hidden" name="formToken" value="'+soy.$$escapeHtml(e.formToken)+'"><input type="hidden" name="filetoconvert" value=""><div class="attach-screenshot-padding"><div class="attach-screenshot-container"><div id="attach-screenshot-inner-container"><div class="mod-content"><ul class="item-details"><li><dl><dt>'+soy.$$escapeHtml("Take a screenshot:")+"</dt>"+("pc"==e.userPlatform?"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003ePrtScn\u003c/kbd\u003e")+"</dd>":"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003e&#8963; Ctrl\u003c/kbd\u003e + \u003ckbd\u003e&#8984; Cmd\u003c/kbd\u003e + \u003ckbd\u003e&#8679; Shift\u003c/kbd\u003e + \u003ckbd\u003e3\u003c/kbd\u003e")+"</dd>")+"</dl></li><li><dl><dt>"+soy.$$escapeHtml("Paste the image:")+"</dt>"+("pc"==e.userPlatform?"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003eCtrl\u003c/kbd\u003e + \u003ckbd\u003ev\u003c/kbd\u003e")+"</dd>":"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003e&#8984; Cmd\u003c/kbd\u003e + \u003ckbd\u003ev\u003c/kbd\u003e")+"</dd>")+'</dl></li></ul></div><input type="text" id="attach-screenshot-fake-input"><div class="attach-screenshot-padding attach-screenshot-padding-inner"><div id="attach-screenshot-image-container" class="attach-screenshot-image-container"><div class="attach-screenshot-placeholder"><div class="mod-content"><ul class="item-details"><li><dl><dt id="attach-screenshot-placeholder-message">'+soy.$$escapeHtml("Your image will be pasted here")+"</dt></dl></li></ul></div></div></div></div><div id='attach-max-size' class=\"hidden\">"+soy.$$escapeHtml(e.maxSize)+"</div></div></div></div><fieldset><div><legend><span>"+soy.$$escapeHtml("Attach Screenshot")+'</span></legend><div id="attach-screenshot-filename-group" class="field-group"><div id="attach-screenshot-progress-container"></div><label for="attachscreenshotname">'+soy.$$escapeHtml("File name")+' <span class="aui-icon icon-required">'+soy.$$escapeHtml("Required")+'</span></label><input class="text" type="text" id="attachscreenshotname" name="attachscreenshotname" title="File Name" value="'+soy.$$escapeHtml(e.nextScreenshotName)+'"><div class="description">'+soy.$$escapeHtml("A file name to be used as attached image name")+'</div></div></div></fieldset><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-primary" id="attach-screenshot-html5-upload">'+soy.$$escapeHtml("Upload")+'</button><a href="#" class="cancel">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/html5.js' */
define("dndattachment/ctrlv/html5",["jquery","underscore","dndattachment/integration-register","dndattachment/ctrlv/base64decode","dndattachment/ctrlv/utility","jira/dialog/dialog","jira/dialog/dialog-register","jira/ajs/ajax/smart-ajax","jira/attachment/inline-attach","dndattachment/ctrlv/tracking","exports"],function(e,t,n,i,r,a,o,s,l,c,d){"use strict";d.getFileFromEvent=function(n){var i=new e.Deferred;return r.isImagePasteEvent(n)?i.resolve(t(n.clipboardData.items).filter(function(e){return e.type.indexOf("image")!==-1}).map(function(e){return e.getAsFile()})[0]||t(n.clipboardData.files).filter(function(e){return e.type.indexOf("image")!==-1})[0]):i.reject(),i.promise()},d.REQUEST_TIMEOUT_MILLIS=3e5,d.screenshotFileUpload={},d.screenshotFileUploadUri=null,d.$document=void 0,d.$window=void 0,d.$container=void 0,d.$fakeInput=void 0,d.uploadError=!1,d.uploadErrorMsg="",d.progressView={hidden:!1,progress:0,old:0,progressBarContainer:void 0,progressEl:void 0,container:void 0,options:void 0,staticProgress:void 0,initProgress:function(){this.container=this.buildContainer(),this.progressEl=this.buildProgress(),this.container.append(this.progressEl),this.options={showPercentage:!1,height:"5px"},this.progressBarContainer=e("#attach-screenshot-progress-container"),this.progressBarContainer.empty(),this.progressBarContainer.append(this.container),this.staticProgress=this.container,this.hidden=!0},finish:function(){this.value(100)},progressHandler:function(e){var t=Math.round(100*e.loaded/e.total);this.value(t)},value:function(e){e>100?e=100:e<0&&(e=0),this.hidden&&(this.progressEl.show(),this.hidden=!1),this.old!==e&&(this.progressEl.progressBar(e,this.options),e>=100&&this.progressEl.fadeOut(),this.old=e)},buildContainer:function(){return e("<div>").addClass("file-progress")},buildProgress:function(){return e("<div>").attr("id","attach-screenshot-upload-progress")}},d.dialogView={pasteCatcher:{},presenter:void 0,getMaxSize:function(){return e("#attach-max-size").text()},getFileSize:function(){return e.isPlainObject(this.presenter.screenshotFileUpload)&&t.isEmpty(this.presenter.screenshotFileUpload)?0:this.presenter.screenshotFileUpload.size||this.presenter.screenshotFileUpload.byteLength||this.presenter.screenshotFileUpload.length},cleanGeneralErrors:function(){e("#error-attach-screenshot-image").closest(".field-group").remove()},cleanFileErrors:function(){e("#error-attach-screenshot-filename").remove()},displayErrors:function(e){"compatibility"in e&&r.showErrorMsg("",e.compatibility),"fileName"in e&&r.showErrorMsg("",e.fileName),"fileUpload"in e&&r.showErrorMsg("",e.fileUpload)},appendBlobImage:function(e){var t=window.URL||window.webkitURL,n=t.createObjectURL(e);this.presenter.screenshotFileUpload=e,this.createImage(n)},createImage:function(n){var i=new Image;i.onload=function(){},i.src=n,this.presenter.screenshotToUpload=i;var r=e(i);r.addClass("attach-screenshot-pasted-image");var a=e("#attach-screenshot-image-container");a.empty(),a.append(r),this.presenter.$fakeInput.focus(),t.defer(function(){d.imageCreatedHandler()})},checkInput:function(){var e,t=d.dialogView.pasteCatcher.childNodes[0];return t&&("IMG"===t.tagName&&0===t.src.indexOf("data:")&&(e=t.src),d.dialogView.pasteCatcher.innerHTML=""),e||d.$fakeInput.focus(),e},onPaste:function(e){d.dialogView.cleanFileErrors(),d.dialogView.cleanGeneralErrors(),r.isImagePasteEvent(e)?d.getFileFromEvent(e).then(function(e){this.appendBlobImage(e)}.bind(this)):setTimeout(function(){var e=this.checkInput();e&&(d.screenshotFileUpload=i.decodeBase64DataUri(e),d.dialogView.createImage(e))}.bind(this),0)},getFakeInput:function(){return e("#attach-screenshot-fake-input")},getContainer:function(){return e("#attach-screenshot-image-container")},getIssueKey:function(){return e("input[name='id']").val()},getProjectId:function(){return e("input[name='projectId']").val()},getDocument:function(){return e(document)},getWindow:function(){return e(window)},getFileNameInput:function(){return e("#attachscreenshotname")},hasPngExtension:function(e){var t=/\.png$/i;return t.test(e)},setFileToConvert:function(t){e("input[name='filetoconvert']").val(t)},buildPasteCatcher:function(){if(document.getElementById("attach-screenshot-form")){var e=document.createElement("div");return e.setAttribute("contenteditable","true"),e.style.width=0,e.style.height=0,e.style.position="absolute",e.style.top="-5000px",document.getElementById("attach-screenshot-form").appendChild(e),e}},_getFormSubmits:function(){return e("#attach-screenshot-form").find("button.aui-button")},disable:function(){return this._getFormSubmits().attr("disabled","disabled"),this},enable:function(){return this._getFormSubmits().removeAttr("disabled"),this},isEnabled:function(){return this.isVisible()&&!this._getFormSubmits().attr("disabled")},isVisible:function(){return e("#attach-screenshot-form").length>0},initDialog:function(e){this.pasteCatcher={},this.presenter=e,this.pasteCatcher=this.buildPasteCatcher()}},d.initScreenshotPasteHandler=function(){var e=d.dialogView;d.screenshotFileUpload={},d.resetUploadErrors(),d.dialogView.initDialog(d),d.$document=e.getDocument(),d.$window=e.getWindow(),d.$container=e.getContainer(),d.$fakeInput=e.getFakeInput(),d.bindOnce(d.$container,"click",d.setFocusOnClickHandler),d.bindOnce(d.$fakeInput,"focus",d.showFocusOnFieldHandler),d.bindOnce(d.$fakeInput,"blur",d.hideFocusOnFieldHandler),d.bindOnce(d.$fakeInput,"keydown",d.keyDownHandler),r.browserIsSupported()?d.bindOnce(d.$window,"paste",d.pasteHandler):e.displayErrors({compatibility:AJS.format("Your browser is not supported. Consider using an alternative supported browser such as {0}Google Chrome{1} or {2}Firefox{3}.",'<a href="//www.google.com/chrome/browser/">',"</a>",'<a href="//www.mozilla.org/firefox/">',"</a>")})},d.resetUploadErrors=function(){d.uploadError=!1,d.uploadErrorMsg=void 0},d.setUploadError=function(e){d.uploadError=!0,d.uploadErrorMsg=e},d.bindOnce=function(e,t,n){e.unbind(t,n),e.bind(t,n)},d.showFocusOnFieldHandler=function(){d.$container.addClass("focus")},d.hideFocusOnFieldHandler=function(){d.$container.addClass("focus")},d.setFocusOnClickHandler=function(){d.$fakeInput.focus()},d.pasteHandler=function(e){d.dialogView.isEnabled()&&(e=r.normalizePasteEvent(e),d.dialogView.onPaste(e))},d.polyPasteHandler=function(e,t,n){d.dialogView.isEnabled()&&(d.screenshotFileUpload={length:-1},d.screenshotFileUploadUri=t,d.dialogView.createImage(n))},d.keyDownHandler=function(e){r.isKeyPasteEvent(e)&&d.dialogView.pasteCatcher.focus&&d.dialogView.pasteCatcher.focus()},d.imageCreatedHandler=function(){d.doAjaxUpload(this.dialogView.getIssueKey(),this.dialogView.getFileNameInput().val())},d.getMimeType=function(){return"image/png"},d.createData=function(){return d.screenshotFileUpload},d.clipboardDataIsEmpty=function(e){return null==window.clipboardData&&!(e&&e.clipboardData&&e.clipboardData.types&&e.clipboardData.types.length>0)},d.validateFileSize=function(e,t,n){var t=t||d.dialogView.getFileSize(),n=n||d.dialogView.getMaxSize();if(t>n){var i=l.Text.fileSize(n,t);e.fileUpload=AJS.format("Screenshot is too large to attach. Attachment is {0} but the largest allowed attachment is {1}.",i[1],i[0])}},d.validateFormData=function(n,i){var a={};return e.isPlainObject(n)&&t.isEmpty(n)&&(a.fileUpload="Please paste the image you wish to upload"),d.validateFileSize(a),d.uploadError&&(a.fileUpload="The error occurred during image upload - you will need to try the pasting image again. Sorry for the inconvenience."),""==i&&(a.fileName="You must specify a filename of the image."),r.isValidFileName(i)||(a.fileName="Filename must not contain the characters \'\\\', \'/\', \'\"\', \':\', \'?\', \'*\', \'\u003c\', \'|\', \'\u003e\', \'!\'"),a},d.doAjaxUpload=function(i,r){d.dialogView.disable();var a={};if(d.validateFileSize(a),!t.isEmpty(a))return d.dialogView.displayErrors(a),void d.dialogView.enable();var o=d.createData(),l=d.getMimeType(),c=e("#attach-screenshot-form").find("input[name='formToken']").attr("value"),u=encodeURIComponent(this.dialogView.getProjectId()),p=AJS.contextPath()+"/rest/internal/2/AttachTemporaryFile?size="+d.dialogView.getFileSize()+"&filename="+encodeURIComponent(r)+"&atl_token="+encodeURIComponent(atl_token())+"&issueId="+encodeURIComponent(this.dialogView.getIssueKey())+(c?"&formToken="+encodeURIComponent(c):"");d.resetUploadErrors();var h=n.getTemporaryBinaryUploadHandler(),g=h?h(u,o,r,encodeURIComponent(c)):d.executeAjaxUpload(o,p,l);g.progress(function(e){"init"==e&&d.progressView.initProgress()}).done(function(e){"string"==typeof e&&(e=JSON.parse(e)),d.dialogView.setFileToConvert(e.id)}).fail(function(e,t,n,i){var r;if("abort"===i.statusText)r="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.";else if(i.hasData){var a=JSON.parse(i.data);r=a.errorMessage?a.errorMessage:s.buildSimpleErrorContent(i,{alert:!1})}d.setUploadError(r),d.dialogView.displayErrors({fileUpload:r})}).always(function(){var t=e.Deferred();t.resolve(),t.then(function(){d.dialogView.enable(),d.progressView.finish()})}).progress(function(e){"init"!=e&&d.progressView.progressHandler(e)})},d.executeAjaxUpload=function(t,n,i){c.trigger("attach.screenshot.html5.jira.upload");var r=e.Deferred(),a=s.makeRequest({type:"POST",url:n,contentType:i,processData:!1,data:t,timeout:d.REQUEST_TIMEOUT_MILLIS,success:r.resolve.bind(r),error:r.reject.bind(r),xhr:function(){var t=e.ajaxSettings.xhr();return r.notify("init"),t.upload.addEventListener("progress",r.notify.bind(r)),t}});return r.always(function(){e.ajaxSettings.xhr().removeEventListener("progress",d.progressView.progressHandler),e(o.attachScreenshotDialog).off("Dialog.hide",a.abort)}),e(o.attachScreenshotDialog).one("Dialog.hide",a.abort),r.promise()},d.show=function(){var n=new e.Deferred,i=e(".issueaction-attach-screenshot-html5");return null!=a.current?n.reject().promise():0==i.length?n.reject().promise():(t.defer(function(){i.trigger("click")}),e(document).on("dialogContentReady",function(e,t){t===o.attachScreenshotDialog&&d.dialogView.isEnabled()?n.resolve(t):n.reject()}),e(document).on("ajaxComplete.jira.screenshot.dialog",function(e,t,r){r.url.indexOf(i.attr("href"))>-1&&setTimeout(function(){n.isResolved()||n.reject()},1e3)}),n.always(function(){e(document).off("ajaxComplete.jira.screenshot.dialog")}),n.promise())}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/issue-paste.js' */
define("dndattachment/ctrlv/issue-paste",["jquery","dndattachment/ctrlv/trace","dndattachment/ctrlv/tracking","dndattachment/ctrlv/utility","dndattachment/ctrlv/html5","dndattachment/ctrlv/base64decode","jira/dialog/dialog","jira/util/events","dndattachment/util/events/types","exports"],function(t,e,n,a,i,r,o,u,c,s){"use strict";function l(t,e){e.stateName=t;var n=function(){var n=e.apply(null,arguments);return n.stateName=t,n};return n.stateName=t,n}function d(t,e,n){return l(t,function(){var a=setTimeout(function(){f(_)},n),i=e.apply(null,arguments),r=function(t,e){var n=i(t,e);if(n)return clearTimeout(a),n};return r.stateName=t,r})}function f(t,e){if(f.eventQueue)return void f.eventQueue.push({type:t,object:e});for(f.eventQueue=[{type:t,object:e}];f.eventQueue.length>0;){var n=f.eventQueue.splice(0,1)[0],a=A(n.type,n.object);a&&(A=a)}delete f.eventQueue}var g=0,E=1,v=2,m=3,p=4,h=5,I=6,T=7,w=8,_=9,N=l("idle",function(){function i(e){if(!t(e.target).is(":input:not(.wiki-textfield, #summary)")&&!a.isContentEditable(e.target))return!0}return function(r,o){if(r==g&&a.isKeyPasteEvent(o)){if(a.browserIsNativePaste()||!i(o)||!a.browserIsSupported())return;return n.trigger("attach.screenshot.html5.catchClipboard"),new D(o)}if(r==E){if(a.isImagePasteEvent(o))return n.trigger("attach.screenshot.html5.handlePaste"),i(o)?(t(o.target).is(":input.wiki-textfield")&&o.preventDefault(),new L(o)):void e("jira/attach-images-plugin/pasteIgnored");e("jira/attach-images-plugin/pasteIgnoredNotImage")}}}),D=d("catchClipboard",function(e){function n(){o.remove()}var i=document.activeElement;e.selectionStart=e.target.selectionStart,e.selectionEnd=e.target.selectionEnd;var o=t('<div contenteditable="true" class="attach-screenshot-paste-catcher"></div>').appendTo("body");return o.focus(),t(i).is(":focusable:input,:aui-focusable:input")&&setTimeout(function(){i.focus()}),function(t,u){if(t==E){if(a.isImagePasteEvent(u))return n(),u.target=i,new L(u);if(a.isHtmlImagePasteEvent(u))return n(),u.target=i,new b(u);if(a.isTextPasteEvent(u)){n();var c=a.getTextPasteContent(u);return a.insertToInput(c,e.target,e.selectionStart,e.selectionEnd),u.preventDefault(),new N}}if(t==_){n();var s=o.find(">img");if(s.is(":only-child")){var l=s.attr("src");if(0===l.toLowerCase().indexOf("http"))return N();var d=r.decodeBase64DataUri(l),f=new Blob([d],{type:"image/png"});return new O(f,e)}var g=a.getTextContent(o[0]);return a.insertToInput(g,e.target,e.selectionStart,e.selectionEnd),N()}}}),b=l("imageLoading",function(t){var e=a.getHtmlImagePaste(t);return e?a.loadImage(e).then(function(t){f(p,t)},f.bind(null,h)):f(h),function(e,n){if(e==p){var i=a.convertImageToBlob(n);return i?new O(i,t):new N}if(e==_||e==h)return new N}}),L=d("fileLoading",function(t){return i.getFileFromEvent(t).done(function(t){f(v,t)}).fail(function(){f(m)}),function(e,n){return e==v?new O(n,t):e==m||e==_?new N:void 0}},1e3),O=l("attachImage",function(e,n){var i=n.target,r=a.generateFileName()+".png",o=a.convertBlobToImage(e,r);return u.trigger(c.ATTACHMENT_FOR_PAGE_RECEIVED,{files:[o],isWikiTextfieldFocused:a.isWikiTextfield(t(i)),wikiTextfield:i,isPaste:!0,successCallback:function(){f(I)}}),function(t,e){return new N}}),A=new N;s._getStateMap=function(){return{events:{EVENT_WINDOW_KEYDOWN:g,EVENT_WINDOW_PASTE:E,EVENT_FILE_LOADED:v,EVENT_FILE_LOAD_ERROR:m,EVENT_IMAGE_LOADED:p,EVENT_IMAGE_LOAD_ERROR:h,EVENT_DIALOG_LOADED:I,EVENT_DIALOG_CLOSED:T,EVENT_DIALOG_CANCELED:w,EVENT_TIMEOUT:_},states:{StateIdle:N,StateCatchClipboard:D,StateImageLoading:b,StateFileLoading:L,StateAttachImage:O}}},s.initIssuePaste=function(){t(window).on("keydown",function(t){f(g,t)}),t(window).on("paste",function(t){f(E,a.normalizePasteEvent(t))}),u.bind("Dialog.hide",function(t,e,n){n?f(w,e):f(T,e)})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/trace.js' */
define("dndattachment/ctrlv/trace",[],function(){"use strict";return function(){return JIRA.trace.apply(void 0,arguments)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/tracking.js' */
define("dndattachment/ctrlv/tracking",["exports"],function(t){"use strict";t.trigger=function(t,n){AJS.trigger("analytics",{name:t,data:n||{}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/executor.js' */
define("dndattachment/ctrlv/executor",["jquery","jira/util/events","dndattachment/ctrlv/html5","dndattachment/upload/handler","exports"],function(e,t,n,r,a){a.register=function(){var a={name:"JIRA Ctrl+V attachment executor",weight:5,isValid:function(e,t){return!!t.isPaste},processFiles:function(r,a){var c=e.Deferred();return n.show().done(function(n){var a=e("#attach-screenshot-placeholder-message"),i=e.Event("paste");i.clipboardData={files:r},a.focus(),setTimeout(function(){a.trigger(i)}),t.bind("Dialog.hide",function(e,t,n){n?c.reject():c.resolve([t.find("#attachscreenshotname").val()+".png"])})}),c}};r.registerExecutor(a)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/initialize.js' */
define("dndattachment/ctrlv/initialize",["jquery","underscore","dndattachment/ctrlv/utility","dndattachment/ctrlv/html5","dndattachment/ctrlv/issue-paste","dndattachment/ctrlv/tracking","dndattachment/ctrlv/executor","jira/dialog/dialog-register","jira/dialog/form-dialog","exports"],function(t,e,n,i,a,r,o,c,s,d){"use strict";d.init=function(){var n=s.extend({options:{}});JIRA.ScreenshotDialog=n,a.initIssuePaste(),t(document).ready(function(){var a=t.Deferred();a.resolve(),c.attachScreenshotDialog=new n({id:"attach-screenshot-dialog",trigger:"a.issueaction-attach-screenshot-html5",isIssueDialog:!0,onContentRefresh:function(){this.$form.bind("before-submit",function(n){var a=i.validateFormData(i.screenshotFileUpload,t.trim(i.dialogView.getFileNameInput().val()));return 0==i.dialogView.getFileSize()?(n.preventDefault(),!1):!!e.isEmpty(a)||(i.dialogView.displayErrors(a),n.preventDefault(),!1)})},delayShowUntil:function(){return a}}),t(document).bind("dialogContentReady",function(t,e){e===c.attachScreenshotDialog&&null!==document.getElementById("attach-screenshot-form")&&(r.trigger("attach.screenshot.html5.contentReady"),i.initScreenshotPasteHandler())}),t(document).ready(function(){t(document).on("click","#attach-screenshot-html5",function(){r.trigger("attach.screenshot.html5.display")})})}),o.register()}}),require(["dndattachment/ctrlv/initialize","jquery"],function(t,e){"use strict";e(function(){t.init()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-form-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/FormDropZone.js' */
define("dndattachment/dropzones/FormDropZone",["dndattachment/Parser","dndattachment/integration-register","dndattachment/upload/handler","dndattachment/dropzones/IssueDropZone","jquery","dndattachment/aui","dndattachment/i18n","dndattachment/JIRA","dndattachment/util/DataTransfer","dndattachment/ctrlv/utility","jira/util/events","underscore"],function(e,t,n,o,i,r,a,d,s,h,l,c){var p=o.extend({eventGroup:"formdropzone",init:function(){this._super.apply(this,arguments),this.progressBars=[],this.bind("uploadFinished",this.onUploadFinished.bind(this)),this.$containerNode=this.getContainerNode(),this.$formNode=this.$node.parents("form"),this.formToken=this.$formNode.find('input[name="formToken"]').attr("value"),this.projectId=this.$formNode.find("*[name=pid]").val(),this.$inputNode=i('<input name="dnd-dropzone" type="hidden" />').insertAfter(this.$node),this.$fieldNode=this.$node.parents(".field-group"),this.$fieldNode.addClass("long-field"),this.connectContainer()},onUploadFinished:function(e,t){var n=i('<input type="checkbox" name="filetoconvert"/>').addClass("upload-progress-bar__checkbox").attr("value",t.fileID).attr("id","filetoconvert-"+t.fileID).prop("checked",!0).insertBefore(t.$node);t.bind("onBeforeDestroy",function(){n.prop("checked",!1).prop("value",null)}),setTimeout(function(){t.$node.addClass("upload-progress-bar__upload-ready"),t.setIcon("aui-iconfont-close-dialog")},1e3),d.trace("jira.issue.dnd.uploadfinished")},commitUpload:function(e){return this.queueEvent("commitUpload",{count:e.length}),new i.Deferred},getContainerNode:function(){return this.$node.parents(".jira-dialog-content")},connectContainer:function(){if(this.$dragoverMask=i('<div class="attach-files-drop-zone__dragover-mask" />'),this.$dragoverMask.appendTo(this.$containerNode),this.$body=i(document.body),this.onDragOverDropHandler=this.onDragOverDrop.bind(this),this.onDragLeaveHandler=this.onDragLeave.bind(this),this.onBodyDragOverDropHandler=this.onBodyDragOverDrop.bind(this),this.$containerNode.on("dragenter dragover drop",this.onDragOverDropHandler),this.$containerNode.on("dragleave",this.onDragLeaveHandler),this.$body.on("dragover drop",this.onBodyDragOverDropHandler),this.onBeforeSubmitHandler=this.onBeforeSubmit.bind(this),this.$formNode.on("before-submit",this.onBeforeSubmitHandler),this.onContentAddedHandler=this.onContentAdded.bind(this),d.bind(d.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),l.bind("Dialog.hide",this.onDialogHide.bind(this)),r.dialog2&&r.dialog2.on("hide",this.onDialogHide.bind(this)),this.projectId){this.externalTemporaryAttachmentCreator=t.getTemporaryAttachmentCreator(this.projectId,this.formToken,this.$node[0]);var e=t.getConnectedTemporaryBinaryUploadHandler();"function"==typeof e&&(this.externalPasteUploadHandler=e(this.projectId,this.formToken,this.$node[0]));var n=t.getTemporaryAttachmentZoneCreator();if("function"==typeof n){var o={};this.externalZone=n(this.projectId,this.formToken,this.$node[0],this.$containerNode[0],{onFileUploadStarted:function(e){var t=new i.Deferred;o[e.id]=t,this.queueTask(t.promise())}.bind(this),onFileUploadFinished:function(e){o[e.id].resolve()}})}}},addHandlerToBrowseLink:function(){this.fileButton.click(this.browseFilesAndUpload.bind(this))},browseFilesAndUpload:function(e,t){if("function"==typeof this.externalTemporaryAttachmentCreator&&n.isDefaultExecutor({})){var o={},r=c.extend({},t,{onFileUploadStarted:function(e){var n=new i.Deferred;o[e.id]=n,this.queueTask(n.promise()),t&&t.onFileUploadStarted&&t.onFileUploadStarted.call(e,e)}.bind(this),onFileUploadFinished:function(e){o[e.id].resolve(),t&&t.onFileUploadFinished&&t.onFileUploadFinished.call(null)}});return this.externalTemporaryAttachmentCreator.call(null,e,r),!0}this.browseLinkHandler.call(this,e)},disconnectContainer:function(){this.externalZone&&this.externalZone.deactivate(),n.disconnectCurrentDropZone(this),this.$dragoverMask.remove(),this.$containerNode.removeClass("attach-files-drop-zone__dragover"),this.$containerNode.off("dragover drop",this.onDragOverDropHandler),this.$containerNode.off("dragleave",this.onDragLeaveHandler),this.$formNode.off("before-submit",this.onBeforeSubmitHandler),d.unbind(d.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),l.unbind("Dialog.hide",this.onDialogHide.bind(this)),r.dialog2&&r.dialog2.off("hide",this.onDialogHide.bind(this))},isAttached:function(){return i.contains(document.body,this.$node[0])},onContentAdded:function(){this.isAttached()||this.disconnectContainer()},onDialogHide:function(){this.$body.off("dragover drop",this.onBodyDragOverDropHandler)},onBodyDragOverDrop:function(e){e.preventDefault(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="none")},onDragOverDrop:function(e){return this.isAttached()?void(h.dragEventContainsFiles(e)&&(e.preventDefault(),e.stopPropagation(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="copy"),this.$containerNode.addClass("attach-files-drop-zone__dragover"),"dragenter"===e.type&&this.externalZone&&(n.isDefaultExecutor({})?this.externalZone.activate():this.externalZone.deactivate()),"drop"===e.type&&(this.$containerNode.removeClass("attach-files-drop-zone__dragover"),i(document).trigger("dropHandled"),e.isPasteEvent?this.externalPasteUploadHandler?this.externalPasteUploadHandler(e.dataTransfer.files[0]):this.doAjaxUpload(e.dataTransfer):this.externalZone&&n.isDefaultExecutor({})?this.externalZone.drop():this.doAjaxUpload(e.dataTransfer)))):void this.disconnectContainer()},doAjaxUpload:function(e){var t=new s(e);t.getFiles().then(function(e){this.handleFilesReceived(e),this.queueEvent("fileDrop",{count:e.length})}.bind(this))},onDragLeave:function(){this.$containerNode.removeClass("attach-files-drop-zone__dragover")},onBeforeSubmit:function(e){if(this.isDirty){e.preventDefault();var t={};t[this.$inputNode.attr("name")]=a("dnd.attachment.upload.in.progress"),d.applyErrorsToForm(this.$formNode,t),this.$formNode.find(".error").toArray().some(function(e){e.scrollIntoView()})}},markDirty:function(e){o.prototype.markDirty.apply(this,arguments),this.isDirty=e,d.trace(e?"jira.issue.dnd.isdirty":"jira.issue.dnd.isclear")},handleNewProgressBar:function(e){this.progressBars.push(e),e.bind("onBeforeDestroy",c.bind(function(){this.trigger("progressBarOnBeforeDestroy",e),this.progressBars=c.filter(this.progressBars,function(t){return t!==e}),0===this.progressBars.length&&this.trigger("allUploadsCancelled")},this)),e.bind("onDestroy",c.bind(function(){this.trigger("progressBarDestroyed")},this)),e.bind("onFinished",c.bind(function(){this.trigger("progressBarFinished")},this)),e.bind("onFailed",c.bind(function(){this.trigger("progressBarFailed")},this)),this.trigger("progressBarStarted")},filesStillUploading:function(){return c.filter(this.progressBars,function(e){return!e.isFinished()}).length>0},anyFilesFailed:function(){return c.filter(this.progressBars,function(e){return e.isFailed()}).length>0}});return p});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:import-issues', location = 'js/form/import-issues/import-issues.js' */
define("quick-edit/form/import-issues",["jira/container-api"],function(t){"use strict";var e=function(){},i=AJS.contextPath();return e.setForm=function(t){this.form=t},e.bindImportIssueUrl=function(){var n=e.getImportIssue();n.click(function(){var e="/secure/BulkCreateSetupPage!default.jspa?externalSystem=com.atlassian.jira.plugins.jim-plugin:bulkCreateCsv";t.navigate(e,function(){window.location=i+e},{replace:!1})})},e.getImportIssue=function(){return this.form.$element.find("#import-issues")},e});;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar.js' */
Calendar=function(e,t,a,n,r){if(this.activeDiv=null,this.currentDateEl=null,this.getDateStatus=null,this.getDateToolTip=null,this.getDateText=null,this.timeout=null,this.onSelected=n||null,this.onClose=r||null,this.dragging=!1,this.hidden=!1,this.minYear=1970,this.maxYear=2050,this.dateFormat=Calendar._TT.DEF_DATE_FORMAT,this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT,this.isPopup=!0,this.weekNumbers=!0,this.firstDayOfWeek="number"==typeof e?e:Calendar._FD,this.showsOtherMonths=!1,this.dateStr=t,this.todayDateStr=a,this.ar_days=null,this.showsTime=!1,this.time24=!0,this.yearStep=2,this.hiliteToday=!0,this.multiple=null,this.table=null,this.element=null,this.tbody=null,this.firstdayname=null,this.monthsCombo=null,this.yearsCombo=null,this.hilitedMonth=null,this.activeMonth=null,this.hilitedYear=null,this.activeYear=null,this.dateClicked=!1,"undefined"==typeof Calendar._SDN){"undefined"==typeof Calendar._SDN_len&&(Calendar._SDN_len=3);for(var l=new Array,i=8;i>0;)l[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);Calendar._SDN=l,"undefined"==typeof Calendar._SMN_len&&(Calendar._SMN_len=3),l=new Array;for(var i=12;i>0;)l[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);Calendar._SMN=l}},Calendar._C=null,Calendar.is_ie=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),Calendar.is_ie5=Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent),Calendar.is_ie6=Calendar.is_ie&&/msie 6\.0/i.test(navigator.userAgent),Calendar.is_opera=/opera/i.test(navigator.userAgent),Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent),Calendar.setFullYearAndFixFebruary=function(e,t){var a=require("jira/util/safe-logger"),n=new Date(e),r={from:n.getFullYear(),to:t,fixedFeb:!1};n.setFullYear(t),n.getMonth()!==e.getMonth()&&(r.fixedFeb=!0,e.setDate(28)),e.setFullYear(t),a.safeInfo("jscalendar","Setting full year",r)},Calendar.getAbsolutePos=function(e){var t=jQuery(e).offset();return t.x=t.left,t.y=t.top,t},Calendar.isRelated=function(e,t){var a=t.relatedTarget;if(!a){var n=t.type;"mouseover"==n?a=t.fromElement:"mouseout"==n&&(a=t.toElement)}for(;a;){if(a==e)return!0;a=a.parentNode}return!1},Calendar.removeClass=function(e,t){if(e&&e.className){for(var a=e.className.split(" "),n=new Array,r=a.length;r>0;)a[--r]!=t&&(n[n.length]=a[r]);e.className=n.join(" ")}},Calendar.addClass=function(e,t){Calendar.removeClass(e,t),e.className+=" "+t},Calendar.getElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.currentTarget;1!=t.nodeType||/^div$/i.test(t.tagName);)t=t.parentNode;return t},Calendar.getTargetElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.target;1!=t.nodeType;)t=t.parentNode;return t},Calendar.stopEvent=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},Calendar.addEvent=function(e,t,a){e.attachEvent?e.attachEvent("on"+t,a):e.addEventListener?e.addEventListener(t,a,!0):e["on"+t]=a},Calendar.removeEvent=function(e,t,a){e.detachEvent?e.detachEvent("on"+t,a):e.removeEventListener?e.removeEventListener(t,a,!0):e["on"+t]=null},Calendar.createElement=function(e,t){var a=null;return a=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",e):document.createElement(e),"undefined"!=typeof t&&t.appendChild(a),a},Calendar._add_evs=function(e){Calendar.addEvent(e,"mouseover",Calendar.dayMouseOver),Calendar.addEvent(e,"mousedown",Calendar.dayMouseDown),Calendar.addEvent(e,"mouseout",Calendar.dayMouseOut),Calendar.is_ie&&(Calendar.addEvent(e,"dblclick",Calendar.dayMouseDblClick),e.setAttribute("unselectable",!0))},Calendar.findMonth=function(e){return"undefined"!=typeof e.month?e:"undefined"!=typeof e.parentNode.month?e.parentNode:null},Calendar.findYear=function(e){return"undefined"!=typeof e.year?e:"undefined"!=typeof e.parentNode.year?e.parentNode:null},Calendar.showMonthsCombo=function(){var e=Calendar._C;if(!e)return!1;var e=e,t=e.activeDiv,a=e.monthsCombo;e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite"),e.activeMonth&&Calendar.removeClass(e.activeMonth,"active");var n=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(n,"active"),e.activeMonth=n;var r=a.style;if(r.display="block",t.navtype<0)r.left=t.offsetLeft+"px";else{var l=a.offsetWidth;"undefined"==typeof l&&(l=50),r.left=t.offsetLeft+t.offsetWidth-l+"px"}r.top=t.offsetTop+t.offsetHeight+"px"},Calendar.showYearsCombo=function(e){var t=Calendar._C;if(!t)return!1;var t=t,a=t.activeDiv,n=t.yearsCombo;t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),t.activeYear&&Calendar.removeClass(t.activeYear,"active"),t.activeYear=null;for(var r=t.date.getFullYear()+(e?1:-1),l=n.firstChild,i=!1,s=12;s>0;--s)r>=t.minYear&&r<=t.maxYear?(l.innerHTML=r,l.year=r,l.style.display="block",i=!0):l.style.display="none",l=l.nextSibling,r+=e?t.yearStep:-t.yearStep;if(i){var d=n.style;if(d.display="block",a.navtype<0)d.left=a.offsetLeft+"px";else{var o=n.offsetWidth;"undefined"==typeof o&&(o=50),d.left=a.offsetLeft+a.offsetWidth-o+"px"}d.top=a.offsetTop+a.offsetHeight+"px"}},Calendar.tableMouseUp=function(e){var t=Calendar._C;if(!t)return!1;t.timeout&&clearTimeout(t.timeout);var a=t.activeDiv;if(!a)return!1;var n=Calendar.getTargetElement(e);e||(e=window.event),Calendar.removeClass(a,"active"),n!=a&&n.parentNode!=a||Calendar.cellClick(a,e);var r=Calendar.findMonth(n),l=null;if(r)l=new Date(t.date),r.month!=l.getMonth()&&(l.setMonth(r.month),t.setDate(l),t.dateClicked=!1,t.callHandler());else{var i=Calendar.findYear(n);i&&(l=new Date(t.date),i.year!=l.getFullYear()&&(Calendar.setFullYearAndFixFebruary(l,i.year),t.setDate(l),t.dateClicked=!1,t.callHandler()))}return Calendar.removeEvent(document,"mouseup",Calendar.tableMouseUp),Calendar.removeEvent(document,"mouseover",Calendar.tableMouseOver),Calendar.removeEvent(document,"mousemove",Calendar.tableMouseOver),t._hideCombos(),Calendar._C=null,Calendar.stopEvent(e)},Calendar.tableMouseOver=function(e){var t=Calendar._C;if(t){var a=t.activeDiv,n=Calendar.getTargetElement(e);if(n==a||n.parentNode==a?(Calendar.addClass(a,"hilite active"),Calendar.addClass(a.parentNode,"rowhilite")):(("undefined"==typeof a.navtype||50!=a.navtype&&(0==a.navtype||Math.abs(a.navtype)>2))&&Calendar.removeClass(a,"active"),Calendar.removeClass(a,"hilite"),Calendar.removeClass(a.parentNode,"rowhilite")),e||(e=window.event),50==a.navtype&&n!=a){var r,l=Calendar.getAbsolutePos(a),i=a.offsetWidth,s=e.clientX,d=!0;s>l.x+i?(r=s-l.x-i,d=!1):r=l.x-s,r<0&&(r=0);for(var o=a._range,u=a._current,h=Math.floor(r/10)%o.length,C=o.length;--C>=0&&o[C]!=u;);for(;h-- >0;)d?--C<0&&(C=o.length-1):++C>=o.length&&(C=0);var c=o[C];a.innerHTML=c,t.onUpdateTime()}var m=Calendar.findMonth(n);if(m)m.month!=t.date.getMonth()?(t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite"),Calendar.addClass(m,"hilite"),t.hilitedMonth=m):t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");else{t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");var p=Calendar.findYear(n);p&&p.year!=t.date.getFullYear()?(t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),Calendar.addClass(p,"hilite"),t.hilitedYear=p):t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite")}return Calendar.stopEvent(e)}},Calendar.tableMouseDown=function(e){if(Calendar.getTargetElement(e)==Calendar.getElement(e))return Calendar.stopEvent(e)},Calendar.calDragIt=function(e){var t=Calendar._C;if(!t||!t.dragging)return!1;var a,n;Calendar.is_ie?(n=window.event.clientY+document.body.scrollTop,a=window.event.clientX+document.body.scrollLeft):(a=e.pageX,n=e.pageY);var r=t.element.style;return r.left=a-t.xOffs+"px",r.top=n-t.yOffs+"px",Calendar.stopEvent(e)},Calendar.calDragEnd=function(e){var t=Calendar._C;return!!t&&(t.dragging=!1,Calendar.removeEvent(document,"mousemove",Calendar.calDragIt),Calendar.removeEvent(document,"mouseup",Calendar.calDragEnd),void Calendar.tableMouseUp(e))},Calendar.dayMouseDown=function(e){var t=Calendar.getElement(e);if(t.disabled)return!1;var a=t.calendar;return a.activeDiv=t,Calendar._C=a,300!=t.navtype?(50==t.navtype?(t._current=t.innerHTML,Calendar.addEvent(document,"mousemove",Calendar.tableMouseOver)):Calendar.addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",Calendar.tableMouseOver),Calendar.addClass(t,"hilite active"),Calendar.addEvent(document,"mouseup",Calendar.tableMouseUp)):a.isPopup&&a._dragStart(e),t.navtype==-1||1==t.navtype?(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout("Calendar.showMonthsCombo()",250)):t.navtype==-2||2==t.navtype?(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(t.navtype>0?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)):a.timeout=null,Calendar.stopEvent(e)},Calendar.dayMouseDblClick=function(e){Calendar.cellClick(Calendar.getElement(e),e||window.event),Calendar.is_ie&&document.selection.empty()},Calendar.dayMouseOver=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(t.ttip&&("_"==t.ttip.substr(0,1)&&(t.ttip=t.caldate.print(t.calendar.ttDateFormat)+t.ttip.substr(1)),t.calendar.tooltips.innerHTML=t.ttip),300!=t.navtype&&(Calendar.addClass(t,"hilite"),t.caldate&&Calendar.addClass(t.parentNode,"rowhilite")),Calendar.stopEvent(e))},Calendar.dayMouseOut=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(Calendar.removeClass(t,"hilite"),t.caldate&&Calendar.removeClass(t.parentNode,"rowhilite"),t.calendar&&(t.calendar.tooltips.innerHTML=Calendar._TT.SEL_DATE),Calendar.stopEvent(e))},Calendar.cellClick=function(e,t){function a(e){var t=i.getDate(),a=i.getMonthDays(e);t>a&&i.setDate(a),i.setMonth(e)}var n=e.calendar,r=!1,l=!1,i=null;if("undefined"==typeof e.navtype){n.currentDateEl&&(Calendar.removeClass(n.currentDateEl,"selected"),Calendar.addClass(e,"selected"),r=n.currentDateEl==e,r||(n.currentDateEl=e)),n.date.setDateOnly(e.caldate),i=n.date;var s=!(n.dateClicked=!e.otherMonth);s||n.currentDateEl?l=!e.disabled:n._toggleMultipleDate(new Date(i)),s&&n._init(n.firstDayOfWeek,i)}else{if(200==e.navtype)return Calendar.removeClass(e,"hilite"),void n.callCloseHandler();i=new Date(n.date),0==e.navtype&&(n.todayDateStr?i=new Date(n.todayDateStr):i.setDateOnly(new Date)),n.dateClicked=!1;var d=i.getFullYear(),o=i.getMonth();switch(e.navtype){case 400:Calendar.removeClass(e,"hilite");var u=Calendar._TT.ABOUT;return"undefined"!=typeof u?u+=n.showsTime?Calendar._TT.ABOUT_TIME:"":u='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n',void alert(u);case-2:d>n.minYear&&Calendar.setFullYearAndFixFebruary(i,d-1);break;case-1:o>0?a(o-1):d-- >n.minYear&&(i.setFullYear(d),a(11));break;case 1:o<11?a(o+1):d<n.maxYear&&(i.setFullYear(d+1),a(0));break;case 2:d<n.maxYear&&Calendar.setFullYearAndFixFebruary(i,d+1);break;case 100:return void n.setFirstDayOfWeek(e.fdow);case 50:for(var h=e._range,C=e.innerHTML,c=h.length;--c>=0&&h[c]!=C;);t&&t.shiftKey?--c<0&&(c=h.length-1):++c>=h.length&&(c=0);var m=h[c];return e.innerHTML=m,void n.onUpdateTime();case 0:if("function"==typeof n.getDateStatus&&n.getDateStatus(i,i.getFullYear(),i.getMonth(),i.getDate()))return!1}i.equalsTo(n.date)?0==e.navtype&&(l=r=!0):(n.setDate(i),l=!0)}l&&t&&n.callHandler(),r&&(Calendar.removeClass(e,"hilite"),t&&n.callCloseHandler())},Calendar.prototype.create=function(e){var t=null;e?(t=e,this.isPopup=!1):(t=document.getElementsByTagName("body")[0],this.isPopup=!0),this.dateStr&&(this.date=new Date(this.dateStr)),this.date&&!isNaN(this.date)||(this.date=new Date);var a=Calendar.createElement("table");this.table=a,a.cellSpacing=0,a.cellPadding=0,a.calendar=this,Calendar.addEvent(a,"mousedown",Calendar.tableMouseDown);var n=Calendar.createElement("div");this.element=n,n.className="calendar",this.isPopup&&(n.style.position="absolute",n.style.display="none"),n.appendChild(a);var r=Calendar.createElement("thead",a),l=null,i=null,s=this,d=function(e,t,a){return l=Calendar.createElement("td",i),l.colSpan=t,l.className="button",0!=a&&Math.abs(a)<=2&&(l.className+=" nav"),Calendar._add_evs(l),l.calendar=s,l.navtype=a,l.innerHTML="<div unselectable='on'>"+e+"</div>",l};i=Calendar.createElement("tr",r);var o=6;this.isPopup&&--o,this.weekNumbers&&++o,d("?",1,400).ttip=Calendar._TT.INFO,this.title=d("",o,300),this.title.className="title",this.isPopup&&(this.title.ttip=Calendar._TT.DRAG_TO_MOVE,this.title.style.cursor="move",d("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE),i=Calendar.createElement("tr",r),i.className="headrow",this._nav_py=d("&#x00ab;",1,-2),this._nav_py.ttip=Calendar._TT.PREV_YEAR,this._nav_pm=d("&#x2039;",1,-1),this._nav_pm.ttip=Calendar._TT.PREV_MONTH,this._nav_now=d(Calendar._TT.TODAY,this.weekNumbers?4:3,0),this._nav_now.ttip=Calendar._TT.GO_TODAY,this._nav_nm=d("&#x203a;",1,1),this._nav_nm.ttip=Calendar._TT.NEXT_MONTH,this._nav_ny=d("&#x00bb;",1,2),this._nav_ny.ttip=Calendar._TT.NEXT_YEAR,i=Calendar.createElement("tr",r),i.className="daynames",this.weekNumbers&&(l=Calendar.createElement("td",i),l.className="name wn",l.innerHTML=Calendar._TT.WK);for(var u=7;u>0;--u)l=Calendar.createElement("td",i),u||(l.navtype=100,l.calendar=this,Calendar._add_evs(l));this.firstdayname=this.weekNumbers?i.firstChild.nextSibling:i.firstChild,this._displayWeekdays();var h=Calendar.createElement("tbody",a);for(this.tbody=h,u=6;u>0;--u){i=Calendar.createElement("tr",h),this.weekNumbers&&(l=Calendar.createElement("td",i));for(var C=7;C>0;--C)l=Calendar.createElement("td",i),l.calendar=this,Calendar._add_evs(l)}this.showsTime?(i=Calendar.createElement("tr",h),i.className="time",l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,l.innerHTML=Calendar._TT.TIME||"&nbsp;",l=Calendar.createElement("td",i),l.className="time",l.colSpan=this.weekNumbers?4:3,function(){function e(e,t,a,n){var r=Calendar.createElement("span",l);if(r.className=e,r.innerHTML=t,r.calendar=s,r.ttip=Calendar._TT.TIME_PART,r.navtype=50,r._range=[],"number"!=typeof a)r._range=a;else for(var i=a;i<=n;++i){var d;d=i<10&&n>=10?"0"+i:""+i,r._range[r._range.length]=d}return Calendar._add_evs(r),r}var t=s.date.getHours(),a=s.date.getMinutes(),n=!s.time24,r=t>12;n&&r&&(t-=12);var d=e("hour",t,n?1:0,n?12:23),o=Calendar.createElement("span",l);o.innerHTML=":",o.className="colon";var u=e("minute",a,0,59),h=null;l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,n?h=e("ampm",r?Calendar._TT.PM:Calendar._TT.AM,[Calendar._TT.am,Calendar._TT.pm]):l.innerHTML="&nbsp;",s.onSetTime=function(){var e,t=this.date.getHours(),a=this.date.getMinutes();n&&(e=t>=12,e&&(t-=12),0==t&&(t=12),h.innerHTML=e?Calendar._TT.pm:Calendar._TT.am),d.innerHTML=t<10?"0"+t:t,u.innerHTML=a<10?"0"+a:a},s.onUpdateTime=function(){var e=this.date,t=parseInt(d.innerHTML,10);n&&(new RegExp(Calendar._TT.pm,"i").test(h.innerHTML)&&t<12?t+=12:new RegExp(Calendar._TT.am,"i").test(h.innerHTML)&&12==t&&(t=0));var a=e.getDate(),r=e.getMonth(),l=e.getFullYear();e.setHours(t),e.setMinutes(parseInt(u.innerHTML,10)),e.setFullYear(l),e.setMonth(r),e.setDate(a),this.dateClicked=!1,this.callHandler()}}()):this.onSetTime=this.onUpdateTime=function(){};var c=Calendar.createElement("tfoot",a);for(i=Calendar.createElement("tr",c),i.className="footrow",l=d(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300),l.className="ttip",this.isPopup&&(l.ttip=Calendar._TT.DRAG_TO_MOVE,l.style.cursor="move"),this.tooltips=l,n=Calendar.createElement("div",this.element),this.monthsCombo=n,n.className="combo",u=0;u<Calendar._MN.length;++u){var m=Calendar.createElement("div");m.className=Calendar.is_ie?"label-IEfix":"label",m.month=u,m.innerHTML=Calendar._SMN[u],n.appendChild(m)}for(n=Calendar.createElement("div",this.element),this.yearsCombo=n,n.className="combo",u=12;u>0;--u){var p=Calendar.createElement("div");p.className=Calendar.is_ie?"label-IEfix":"label",n.appendChild(p)}this._init(this.firstDayOfWeek,this.date),t.appendChild(this.element),Calendar.addEvent(this.element,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1})},Calendar._upkeyEvent=function(e){27===e.keyCode&&window.setTimeout(function(){var e=window._dynarch_popupCalendar;return!(!e||e.multiple)&&void e.callCloseHandler()},0)},Calendar._keyEvent=function(e){function t(){h=r.currentDateEl;var e=h.pos;d=15&e,o=e>>4,u=r.ar_days[o][d]}function a(){var e=new Date(r.date);e.setDate(e.getDate()-C),r.setDate(e)}function n(){var e=new Date(r.date);e.setDate(e.getDate()+C),r.setDate(e)}var r=window._dynarch_popupCalendar;if(!r||r.multiple)return!1;var l=Calendar.is_ie||"keydown"==e.type,i=e.keyCode;if(e.ctrlKey)switch(i){case 37:l&&Calendar.cellClick(r._nav_pm);break;case 38:l&&Calendar.cellClick(r._nav_py);break;case 39:l&&Calendar.cellClick(r._nav_nm);break;case 40:l&&Calendar.cellClick(r._nav_ny)}else switch(i){case 32:Calendar.cellClick(r._nav_now);break;case 37:case 38:case 39:case 40:if(l){var s,d,o,u,h,C;for(s=37==i||38==i,C=37==i||39==i?1:7,t();;){switch(i){case 37:if(!(--d>=0)){d=6,i=38;continue}u=r.ar_days[o][d];break;case 38:--o>=0?u=r.ar_days[o][d]:(a(),t());break;case 39:if(!(++d<7)){d=0,i=40;continue}u=r.ar_days[o][d];break;case 40:++o<r.ar_days.length?u=r.ar_days[o][d]:(n(),t())}break}u&&(u.disabled?s?a():n():Calendar.cellClick(u))}break;case 13:l&&Calendar.cellClick(r.currentDateEl,e)}return Calendar.stopEvent(e)},Calendar.prototype._init=function(e,t){var a=new Date(t);a.setHours(13);var n=new Date,r=n.getFullYear(),l=n.getMonth(),i=n.getDate();this.table.style.visibility="hidden";var s=a.getFullYear();s<this.minYear?(s=this.minYear,a.setFullYear(s)):s>this.maxYear&&(s=this.maxYear,a.setFullYear(s)),this.firstDayOfWeek=e;var d=a.getMonth(),o=a.getDate();a.getMonthDays();a.setDate(1);var u=(a.getDay()-this.firstDayOfWeek)%7;u<0&&(u+=7),a.setDate(-u),a.setDate(a.getDate()+1);for(var h=this.tbody.firstChild,C=(Calendar._SMN[d],this.ar_days=new Array),c=Calendar._TT.WEEKEND,m=this.multiple?this.datesCells={}:null,p=0;p<6;++p,h=h.nextSibling){var v=h.firstChild;if(this.weekNumbers){v.className="day wn";var f=a;0==d&&0==p&&0==Date.useISO8601WeekNumbers&&(f=new Date(s,d,1)),v.innerHTML=f.getWeekNumber(this.firstDayOfWeek),v=v.nextSibling}h.className="daysrow";for(var y,g=!1,_=C[p]=[],D=0;D<7;++D,v=v.nextSibling,a.setDate(y+1)){y=a.getDate();var b=a.getDay();v.className="day day-"+y,v.pos=p<<4|D,_[D]=v;var T=a.getMonth()==d;if(T)v.otherMonth=!1,g=!0;else{if(!this.showsOtherMonths){v.className="emptycell",v.innerHTML="&nbsp;",v.disabled=!0;continue}v.className+=" othermonth",v.otherMonth=!0}if(v.disabled=!1,v.innerHTML=this.getDateText?this.getDateText(a,y):y,m&&(m[a.print("%Y%m%d")]=v),this.getDateStatus){var w=this.getDateStatus(a,s,d,y);if(this.getDateToolTip){var M=this.getDateToolTip(a,s,d,y);M&&(v.title=M)}w===!0?(v.className+=" disabled",v.disabled=!0):(/disabled/i.test(w)&&(v.disabled=!0),v.className+=" "+w)}v.disabled||(v.caldate=new Date(a),v.ttip="_",!this.multiple&&T&&y==o&&this.hiliteToday&&(v.className+=" selected",this.currentDateEl=v),a.getFullYear()==r&&a.getMonth()==l&&y==i&&(v.className+=" today",v.ttip+=Calendar._TT.PART_TODAY),c.indexOf(b.toString())!=-1&&(v.className+=v.otherMonth?" oweekend":" weekend"))}g||this.showsOtherMonths||(h.className="emptyrow")}this.date=new Date(t),this.onSetTime(),this.title.innerHTML=Calendar._MN[d]+", "+s,this.table.style.visibility="visible",this._initMultipleDates()},Calendar.prototype._initMultipleDates=function(){if(this.multiple)for(var e in this.multiple){var t=this.datesCells[e],a=this.multiple[e];a&&t&&(t.className+=" selected")}},Calendar.prototype._toggleMultipleDate=function(e){if(this.multiple){var t=e.print("%Y%m%d"),a=this.datesCells[t];if(a){var n=this.multiple[t];n?(Calendar.removeClass(a,"selected"),delete this.multiple[t]):(Calendar.addClass(a,"selected"),this.multiple[t]=e)}}},Calendar.prototype.setDateToolTipHandler=function(e){this.getDateToolTip=e},Calendar.prototype.setDate=function(e){e.equalsTo(this.date)||this._init(this.firstDayOfWeek,e)},Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)},Calendar.prototype.setFirstDayOfWeek=function(e){this._init(e,this.date),this._displayWeekdays()},Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(e){this.getDateStatus=e},Calendar.prototype.setRange=function(e,t){this.minYear=e,this.maxYear=t},Calendar.prototype.callHandler=function(){this.onSelected&&this.onSelected(this,this.date.print(this.dateFormat))},Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this)},Calendar.prototype.destroy=function(){var e=this.element.parentNode;e.removeChild(this.element),Calendar._C=null,window._dynarch_popupCalendar=null},Calendar.prototype.reparent=function(e){var t=this.element;t.parentNode.removeChild(t),e.appendChild(t)},Calendar._checkCalendar=function(e){var t=window._dynarch_popupCalendar;if(!t)return!1;for(var a=Calendar.is_ie?Calendar.getElement(e):Calendar.getTargetElement(e);null!=a&&a!=t.element;a=a.parentNode);return null==a?(window._dynarch_popupCalendar.callCloseHandler(),Calendar.stopEvent(e)):void 0},Calendar.prototype.show=function(){if(!this.params.inputField.disabled){for(var e=this.table.getElementsByTagName("tr"),t=e.length;t>0;){var a=e[--t];Calendar.removeClass(a,"rowhilite");for(var n=a.getElementsByTagName("td"),r=n.length;r>0;){var l=n[--r];Calendar.removeClass(l,"hilite"),Calendar.removeClass(l,"active")}}Calendar.current=this,this.element.style.display="block",this.element.className+=" active",this.hidden=!1,this.isPopup&&(window._dynarch_popupCalendar=this,Calendar.addEvent(document,"keyup",Calendar._upkeyEvent),Calendar.addEvent(document,"keydown",Calendar._keyEvent),Calendar.addEvent(document,"mousedown",Calendar._checkCalendar))}},Calendar.prototype.hide=function(){this.isPopup&&(Calendar.removeEvent(document,"keyup",Calendar._upkeyEvent),Calendar.removeEvent(document,"keydown",Calendar._keyEvent),Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)),Calendar.current=null,this.element.style.display="none",this.element.className=this.element.className.replace(/active/gi,""),this.hidden=!0},Calendar.prototype.showAt=function(e,t){var a=this.element.style;a.left=e+"px",a.top=t+"px",this.show()},Calendar.prototype.showAtElement=function(e,t){function a(e){e.x<0&&(e.x=0),e.y<0&&(e.y=0);var t=document.createElement("div"),a=t.style;a.position="absolute",a.right=a.bottom=a.width=a.height="0px",document.body.appendChild(t);var n=Calendar.getAbsolutePos(t);document.body.removeChild(t),n.y+=jQuery(window).scrollTop(),n.x+=jQuery(window).scrollLeft();var r=e.x+e.width-n.x;r>0&&(e.x-=r),r=e.y+e.height-n.y,r>0&&(e.y-=r)}var n=this,r=Calendar.getAbsolutePos(e);return t&&"string"==typeof t?(this.element.style.display="block",Calendar.continuation_for_the_khtml_browser=function(){var l=jQuery(n.element).outerWidth(),i=jQuery(n.element).outerHeight();n.element.style.display="none";var s=t.substr(0,1),d="l";switch(t.length>1&&(d=t.substr(1,1)),s){case"T":r.y-=i;break;case"B":r.y+=jQuery(e).outerHeight();break;case"C":r.y+=(jQuery(e).outerHeight()-i)/2;break;case"t":r.y+=jQuery(e).outerHeight()-i;break;case"b":}switch(d){case"L":r.x-=l;break;case"R":r.x+=jQuery(e).outerWidth();break;case"C":r.x+=(jQuery(e).outerWidth()-l)/2;break;case"l":r.x+=jQuery(e).outerWidth()-l;break;case"r":}r.width=l,r.height=i+40,n.monthsCombo.style.display="none",a(r),n.showAt(r.x,r.y)},void Calendar.continuation_for_the_khtml_browser()):(this.showAt(r.x,r.y+e.offsetHeight),!0)},Calendar.prototype.setDateFormat=function(e){this.dateFormat=e},Calendar.prototype.setTtDateFormat=function(e){this.ttDateFormat=e},Calendar.prototype.parseDate=function(e,t){t||(t=this.dateFormat),this.setDate(Date.parseDate(e,t))},Calendar.prototype._displayWeekdays=function(){for(var e=this.firstDayOfWeek,t=this.firstdayname,a=Calendar._TT.WEEKEND,n=0;n<7;++n){t.className="day name";var r=(n+e)%7;n&&(t.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[r]),t.navtype=100,t.calendar=this,t.fdow=r,Calendar._add_evs(t)),a.indexOf(r.toString())!=-1&&Calendar.addClass(t,"weekend"),t.innerHTML=Calendar._SDN[(n+e)%7],t=t.nextSibling}},Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none",this.yearsCombo.style.display="none"},Calendar.prototype._dragStart=function(e){if(!this.dragging){this.dragging=!0;var t,a;Calendar.is_ie?(a=window.event.clientY+document.body.scrollTop,t=window.event.clientX+document.body.scrollLeft):(a=e.clientY+window.scrollY,t=e.clientX+window.scrollX);var n=this.element.style;this.xOffs=t-parseInt(n.left),this.yOffs=a-parseInt(n.top),Calendar.addEvent(document,"mousemove",Calendar.calDragIt),Calendar.addEvent(document,"mouseup",Calendar.calDragEnd)}},Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31),Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date._multisplit=function(e,t){if(null==e)return null;null==t&&(t="");var a=[],n=e.length,r="",l=!1;for(i=0;i<n;i++){var s=e.charAt(i);t.indexOf(s)==-1?(l=!0,r+=s):l&&(a[a.length]=r,r="",l=!1)}return r.length>0&&(a[a.length]=r),0==a.length&&(a[a.length]=""),a},Date._parseNonDateFormatChars=function(e){var t="aAbBCdeHIJklmMnpPRSstUWVuwyY%",a="",n=e.length;for(i=0;i<n;i++){var r=e.charAt(i);if("%"==r){var l="";if(i+1<n&&(l=e.charAt(i+1)),i+=1,l.length>0&&t.indexOf(l)!=-1)continue;a.indexOf(r)==-1&&(a+=r),l.length>0&&a.indexOf(l)==-1&&(a+=l)}else a.indexOf(r)==-1&&(a+=r)}return a},Date.splitDate=function(e,t){var a=0,n=-1,r=0,l=Date._parseNonDateFormatChars(t),i=Date._multisplit(e,l),s=t.match(/%./g),d=0,o=0,u=0,h=0;for(d=0;d<i.length;++d)if(i[d])switch(s[d]){case"%d":case"%e":r=Number(i[d]);break;case"%m":n=Number(i[d])-1;break;case"%Y":case"%y":a=Number(i[d]),a<100&&(a+=a>29?1900:2e3);break;case"%b":case"%B":var C=i[d].toLowerCase(),c=!1;if("%b"==s[d])for(o=0;o<12;++o)if(Calendar._SMN[o].substr(0,C.length).toLowerCase()==C){n=o,c=!0;break}if(!c)for(o=0;o<12;++o)if(Calendar._MN[o].substr(0,C.length).toLowerCase()==C){n=o;break}break;case"%H":case"%I":case"%k":case"%l":u=Number(i[d]);break;case"%P":case"%p":/pm/i.test(i[d])&&u<12?u+=12:/am/i.test(i[d])&&u>=12&&(u-=12);break;case"%M":h=Number(i[d]);break;case"%R":var m=i[d],p=m.indexOf(":"),v=m.substring(0,p),f=p==-1?0:m.substring(p+1);u=Number(v),h=Number(f)}return{parts:i,year:a,month:n,day:r,hour:u,minute:h}},Date.parseDate=function(e,t){var a=new Date,n=Date.splitDate(e,t),r=n.parts,l=n.year,i=n.month,s=n.day,d=n.hour,o=n.minute,u=0,h=0;if(isNaN(l)&&(l=a.getFullYear()),isNaN(i)&&(i=a.getMonth()),isNaN(s)&&(s=a.getDate()),isNaN(d)&&(d=a.getHours()),isNaN(o)&&(o=a.getMinutes()),0!=l&&i!=-1&&0!=s)return new Date(l,i,s,d,o,0);for(l=0,i=-1,s=0,u=0;u<r.length;++u)if(r[u].search(/[a-zA-Z]+/)!=-1){var C=-1;for(h=0;h<12;++h)if(Calendar._MN[h].substr(0,r[u].length).toLowerCase()==r[u].toLowerCase()){C=h;break}C!=-1&&(i!=-1&&(s=i+1),i=C)}else Number(r[u])<=12&&i==-1?i=r[u]-1:Number(r[u])>31&&0==l?(l=Number(r[u]),l<100&&(l+=l>29?1900:2e3)):0==s&&(s=r[u]);return 0==l&&(l=a.getFullYear()),i!=-1&&0!=s?new Date(l,i,s,d,o,0):a},Date.prototype.getMonthDays=function(e){var t=this.getFullYear();return"undefined"==typeof e&&(e=this.getMonth()),0!=t%4||0==t%100&&0!=t%400||1!=e?Date._MD[e]:29},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),13,0,0),t=new Date(this.getFullYear(),0,0,13,0,0),a=e-t;return Math.floor(a/Date.DAY)},Date.prototype.getWeekNumber=function(e){return Date.useISO8601WeekNumbers?this.getISO8601WeekNumber():this.getSimpleWeekNumber(e)},Date.prototype.getISO8601WeekNumber=function(){function e(e,t,a){return y=e,m=t,t<3&&(y-=1),t<3&&(m+=12),Math.floor(365.25*y)-Math.floor(y/100)+Math.floor(y/400)+Math.floor(30.6*(m+1))+a-62}function t(t){return year=t.getFullYear(),month=t.getMonth(),day=t.getDate(),wday=t.getDay(),weekday=(wday+6)%7+1,isoyear=year,d0=e(year,1,0),weekday0=(d0+4)%7+1,d=e(year,month+1,day),isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),11==month&&day-weekday>27&&(isoweeknr=1,isoyear+=1),0==month&&weekday-day>3&&(d0=e(year-1,1,0),weekday0=(d0+4)%7+1,isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),isoyear-=1),isoweeknr}return t(this)},Date.prototype.getSimpleWeekNumber=function(e){function t(e,t,a){var n,r=e.getFullYear(),l=new Date(r,0,1);return n=Math.round((e-l)/864e5),null!=t&&(n-=(7+t-l.getDay())%7),null!=a&&(n+=a),[r,1+n/7|0,1+(7+n)%7]}return t(this,e?e:6,6)[1]},Date.prototype.equalsTo=function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()&&this.getHours()==e.getHours()&&this.getMinutes()==e.getMinutes()},Date.prototype.setDateOnly=function(e){var t=new Date(e);this.setDate(1),this.setFullYear(t.getFullYear()),this.setMonth(t.getMonth()),this.setDate(t.getDate())},Date.prototype.print=function(e){var t=this.getMonth(),a=this.getDate(),n=this.getFullYear(),r=this.getWeekNumber(),l=this.getDay(),i={},s=this.getHours(),d=s>=12,o=d?s-12:s,u=this.getDayOfYear();0==o&&(o=12);var h=this.getMinutes(),C=this.getSeconds();i["%a"]=Calendar._SDN[l],i["%A"]=Calendar._DN[l],i["%b"]=Calendar._SMN[t],i["%B"]=Calendar._MN[t],i["%C"]=1+Math.floor(n/100),i["%d"]=a<10?"0"+a:a,i["%e"]=a,i["%H"]=s<10?"0"+s:s,i["%I"]=o<10?"0"+o:o,i["%j"]=u<100?u<10?"00"+u:"0"+u:u,i["%k"]=s,i["%l"]=o,i["%m"]=t<9?"0"+(1+t):1+t,i["%M"]=h<10?"0"+h:h,i["%n"]="\n",i["%p"]=d?Calendar._TT.PM:Calendar._TT.AM,i["%P"]=d?Calendar._TT.PM:Calendar._TT.AM,i["%R"]=i["%k"]+":"+i["%M"],i["%s"]=Math.floor(this.getTime()/1e3),i["%S"]=C<10?"0"+C:C,i["%t"]="\t",i["%U"]=i["%W"]=i["%V"]=r<10?"0"+r:r,i["%u"]=l+1,i["%w"]=l,i["%y"]=(""+n).slice(-2),i["%Y"]=n,i["%%"]="%";var c=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml)return e.replace(c,function(e){return i[e]||e});for(var m=e.match(c),p=0;p<m.length;p++){var v=i[m[p]];v&&(c=new RegExp(m[p],"g"),e=e.replace(c,v))}return e},window._dynarch_popupCalendar=null;;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar.setup.js' */
Calendar.setup=function(e){function t(t,a){"undefined"==typeof e[t]&&(e[t]=a)}function a(e){var t=e.params,a=e.dateClicked||t.electric;a&&t.inputField&&(t.inputField.value=e.date.print(t.ifFormat),jQuery(t.inputField).change()),a&&t.displayArea&&(t.displayArea.innerHTML=e.date.print(t.daFormat)),a&&"function"==typeof t.onUpdate&&t.onUpdate(e),a&&t.flat&&"function"==typeof t.flatCallback&&t.flatCallback(e),"true"===t.singleClick?t.singleClick=!0:"false"===t.singleClick&&(t.singleClick=!1),a&&t.singleClick&&e.dateClicked&&e.callCloseHandler()}function n(){if(Calendar._UNSUPPORTED===!0)return void alert("The JIRA Calendar does not currently support your language.");var t=e.inputField||e.displayArea,n=e.inputField?e.ifFormat:e.daFormat,l=!1,i=window.calendar;if(i&&i.hide(),t&&(t.value||t.innerHTML)&&(e.date=Date.parseDate(t.value||t.innerHTML,n)),i&&e.cache?(e.date&&i.setDate(e.date),i.hide()):(window.calendar=i=new Calendar(e.firstDay,e.date,e.todayDate,e.onSelect||a,e.onClose||function(e){e.hide()}),i.showsTime=e.showsTime,i.time24="24"==e.timeFormat,i.weekNumbers=e.weekNumbers,Date.useISO8601WeekNumbers=e.useISO8601WeekNumbers,e.useISO8601WeekNumbers&&(i.firstDayOfWeek=1),l=!0),e.multiple){i.multiple={};for(var r=e.multiple.length;--r>=0;){var u=e.multiple[r],s=u.print("%Y%m%d");i.multiple[s]=u}}return i.showsOtherMonths=e.showOthers,i.yearStep=e.step,i.setRange(e.range[0],e.range[1]),i.params=e,i.setDateStatusHandler(e.dateStatusFunc),i.getDateText=e.dateText,i.setDateFormat(n),l&&i.create(),i.refresh(),e.position?i.showAt(e.position[0],e.position[1]):i.showAtElement(e.button||e.displayArea||e.inputField,e.align),!1}function l(){var t=jQuery(e.inputField);e.button&&jQuery(e.button).mousedown(function(e){e.preventDefault(),!t.is(":focus")&&t.is(":enabled")&&t.focus()}),t.keydown(function(e){var t=window.calendar;40===e.keyCode&&(t&&!t.hidden||setTimeout(function(){n()},1))})}e=e||{},t("inputField",null),t("context",null),t("displayArea",null),t("button",null),t("eventName","click"),t("ifFormat","%Y/%m/%d"),t("daFormat","%Y/%m/%d"),t("singleClick",!0),t("disableFunc",null),t("dateStatusFunc",e.disableFunc),t("dateText",null),t("firstDay",null),t("align","Br"),t("range",[1900,2999]),t("weekNumbers",!0),t("useISO8601WeekNumbers",!1),t("flat",null),t("flatCallback",null),t("onSelect",null),t("onClose",null),t("onUpdate",null),t("date",null),t("todayDate",null),t("showsTime",!1),t("timeFormat","24"),t("electric",!0),t("step",1),t("position",null),t("cache",!1),t("showOthers",!1),t("multiple",null);var i,r,u=["context","inputField","button","displayArea"];for(i in u)r=u[i],e[r]instanceof jQuery&&(e[r]=e[r][0]);var s=["inputField","displayArea","button"];for(i in s)if(r=s[i],"string"==typeof e[r]){var o="#"+e[r].escapejQuerySelector(),d=jQuery(e.context||document.body).find(o);e[r]=d[0]}if(!(e.flat||e.multiple||e.inputField||e.displayArea||e.button))return AJS.log("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code"),!1;if(e.firstDay&&null!==e.firstDay&&(e.firstDay=+e.firstDay),null!=e.flat){if("string"==typeof e.flat&&(e.flat=document.getElementById(e.flat)),!e.flat)return AJS.log("Calendar.setup:\n  Flat specified but can't find parent."),!1;var p=new Calendar(e.firstDay,e.date,e.todayDate,e.onSelect||a);return p.showsOtherMonths=e.showOthers,p.showsTime=e.showsTime,p.time24="24"==e.timeFormat,p.params=e,p.weekNumbers=e.weekNumbers,p.setRange(e.range[0],e.range[1]),p.setDateStatusHandler(e.dateStatusFunc),p.getDateText=e.dateText,e.ifFormat&&p.setDateFormat(e.ifFormat),e.inputField&&"string"==typeof e.inputField.value&&p.parseDate(e.inputField.value),p.create(e.flat),p.show(),!1}var f=e.button||e.displayArea||e.inputField;return jQuery(f).bind(e.eventName,function(e){e.preventDefault(),n()}),e.inputField&&l(),p};;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/dropdown/Dropdown.js' */
define("jira/dropdown",["require"],function(i){function o(){try{return Boolean(n.require("jira/dialog/dialog").current)}catch(i){}return!1}var n=i("jira/util/top-same-origin-window")(window),t=i("jquery"),d=[];return{current:null,addInstance:function(){d.push(this)},hideInstances:function(){var i=this;t(d).each(function(){i!==this&&this.hideDropdown()})},getHash:function(){return this.hash||(this.hash={container:this.dropdown,hide:this.hideDropdown,show:this.displayDropdown}),this.hash},displayDropdown:function(i){if(this.current!==this){this.hideInstances(),this.current=this,this.dropdown.css({display:"block"}),this.displayed=!0;var n=this.dropdown;o()||i||setTimeout(function(){var i=t(window),o=n.offset().top+n.prop("offsetHeight")-i.height()+10;i.scrollTop()<o&&t("html,body").animate({scrollTop:o},300,"linear")},100)}},hideDropdown:function(){this.displayed!==!1&&(this.current=null,this.dropdown.css({display:"none"}),this.displayed=!1)},init:function(i,o){var n=this;this.addInstance(this),this.dropdown=t(o),this.dropdown.css({display:"none"}),t(document).keydown(function(i){9===i.keyCode&&n.hideDropdown()}),i.target?t.aop.before(i,function(){n.displayed||n.displayDropdown()}):(n.dropdown.css("top",t(i).outerHeight()+"px"),i.click(function(i){n.displayed?n.hideDropdown():(n.displayDropdown(),i.stopPropagation()),i.preventDefault()})),t(document.body).click(function(){n.displayed&&n.hideDropdown()})}}}),AJS.namespace("JIRA.Dropdown",null,require("jira/dropdown")),AJS.namespace("jira.widget.dropdown",null,require("jira/dropdown"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/AutoComplete.js' */
define("jira/autocomplete/autocomplete",["jira/ajs/ajax/smart-ajax","jira/util/objects","jquery","jira/featureflags/feature-manager"],function(e,t,o,n){return function(){var i,s=function(e,t){s.t&&(clearTimeout(s.t),s.t=void 0),s.t=setTimeout(e,1e3*t)},r={9:!0,13:!0,14:!0,25:!0,27:!0,38:!0,40:!0,224:!0};return{dispatcher:function(){},getSavedResponse:function(){},saveResponse:function(){},renderSuggestions:function(){},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},set:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},completeInputField:function(e,t){e&&t&&(this.field.val(t).focus(),this.hiddenField&&(this.hiddenField.val(e),this.hiddenField.trigger("change")),this.field.trigger("change"))},textToSuggestionCursorPosition:function(){return this.field.val()},_makeRequest:function(o){var n=this,i=t.copyObject(o);return this.pendingRequest&&this.pendingRequest.abort(),i.complete=function(){n.pendingRequest=null},i.error=function(e){!e.aborted&&0!==e.status&&o.error&&o.error.apply(this,arguments)},this.pendingRequest=e.makeRequest(i)},addSuggestionControls:function(e){function t(e){d.dropdownController.displayed&&a(e.data.index)}function s(e){0===e.data.index&&(d.selectedIndex=-1),o(this).removeClass("active")}function r(e){var t=d.suggestionNodes[e.data.index],o=Array.isArray(t)&&t.length>2;if(d.strictModeEnabledForUserPickers){var n=d.suggestionNodes[e.data.index];d.completeInputField(n[1],n[3])}else if(o){var i=t.length>3?t[3]:void 0;d.completeInputField(t[1],i)}else d.completeField(d.suggestionNodes[d.selectedIndex][1])}var d=this,l=function(e,t){var o=d.autoSelectFirst===!1?-1:0;return d.allowArrowCarousel?e>t?o:e<o?t:e:e>t?t:e<o?(d.responseContainer.scrollTop(0),o):e},a=function(e){void 0!==d.selectedIndex&&d.selectedIndex>-1&&d.suggestionNodes[d.selectedIndex][0].removeClass("active"),d.selectedIndex=l(e,d.suggestionNodes.length-1),d.selectedIndex>-1&&d.suggestionNodes[d.selectedIndex][0].addClass("active")},u=function(){return d.suggestionNodes&&d.suggestionNodes[d.selectedIndex]&&d.suggestionNodes[d.selectedIndex][0].hasClass("active")},p=function(){return n.isFeatureEnabled("jira.jql.autoselectfirst")},c=function(e){if(d.responseContainer.is(":visible")&&13===e.keyCode){if(u()&&!d.pendingRequest){var t=d.suggestionNodes[d.selectedIndex][1],o=Array.isArray(t)&&t.length>2;if(d.strictModeEnabledForUserPickers){var n=d.suggestionNodes[d.selectedIndex];d.completeInputField(n[1],n[3])}else if(o){var i=t.length>3?t[3]:void 0;d.completeInputField(t[1],i)}else d.completeField(d.suggestionNodes[d.selectedIndex][1]);p()&&d.dispatcher(d.field.val())}e.preventDefault(),e.stopPropagation()}},h=function(e){if(d.responseContainer.is(":visible"))if(d.field[0]!==document.activeElement&&d.field.focus(),40===e.keyCode){if(a(d.selectedIndex+1),d.selectedIndex>=0){var t=d.responseContainer.height(),o=d.suggestionNodes[d.selectedIndex][0].position().top+d.suggestionNodes[d.selectedIndex][0].outerHeight();o-t>0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+o-t+2)}else d.responseContainer.scrollTop(0);e.preventDefault()}else if(38===e.keyCode){if(a(d.selectedIndex-1),d.selectedIndex>=0){var n=d.suggestionNodes[d.selectedIndex][0].position().top;n<0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+n-2)}e.preventDefault()}else if(9===e.keyCode)if(u()){var i=d.suggestionNodes[d.selectedIndex][1],s=Array.isArray(i)&&i.length>2;if(d.strictModeEnabledForUserPickers){var r=d.suggestionNodes[d.selectedIndex];d.completeInputField(r[1],r[3])}else if(s){var l=i.length>3?i[3]:void 0;d.completeInputField(i[1],l)}else d.completeField(d.suggestionNodes[d.selectedIndex][1]);e.preventDefault()}else d.dropdownController.hideDropdown()};if(e.length){this.selectedIndex=0,this.suggestionNodes=e;for(var f=0;f<d.suggestionNodes.length;f++){var g={instance:this,index:f};this.suggestionNodes[f][0].bind("mouseover",g,t).bind("mouseout",g,s).bind("click",g,r).bind("mousedown",function(e){e.preventDefault()})}this.keyboardHandlerBinded||(o(this.field).keypress(c),o(this.field).keydown(h),this.keyboardHandlerBinded=!0),a(d.autoSelectFirst===!1?-1:0),i=this}},clearResponseContainer:function(){this.responseContainer.empty(),this.suggestionNodes=void 0},delay:s,buildResponseContainer:function(){var e=this.field.parent().addClass("atlassian-autocomplete");this.responseContainer=o(document.createElement("div")),this.responseContainer.addClass("suggestions medium-long-field"),this.positionResponseContainer(),this.responseContainer.appendTo(e)},positionResponseContainer:function(){this.responseContainer.css({top:this.field.outerHeight()})},keyUpHandler:function(){function e(){this.responseContainer||this.buildResponseContainer(),this.dispatcher(this.field.val())}return function(t){return this.field.val().length>=this.minQueryLength&&(t.keyCode in r&&(!this.responseContainer||this.responseContainer.is(":visible")||38!==t.keyCode&&40!==t.keyCode)||e.call(this)),t}}(),addMultiSelectAdvice:function(e){var t=this,n=function(e){if(!n.isAlerting){n.isAlerting=!0;var i=o(document.createElement("div")).css({float:"left",display:"none"}).addClass("warningBox").html("Oops! You have already entered the value <em>"+e+"</em>").appendTo(t.field.parent()).show("fast",function(){t.delay(function(){i.hide("fast",function(){i.remove(),n.isAlerting=!1})},4)})}};o.aop.before({target:this,method:"dispatcher"},function(t){var n=this.field.val();return t[0]=o.trim(n.slice(n.lastIndexOf(e)+1)),t}),o.aop.before({target:this,method:"completeInputField"},function(t){var i=t[0],s=this.field.val().split(e),r=o(s).map(function(){return o.trim(this)}).get();return!this.allowDuplicates&&new RegExp("(?:^|[\\s"+e+"])"+i+"\\s*"+e).test(this.field.val())?(n(i),r[r.length-1]=""):(r[r.length-1]=i,r[r.length]=""),t[0]=r.join(e.replace(/([^\s]$)/,"$1 ")),t})},addDropdownAdvice:function(){o.aop.after({target:this,method:"buildResponseContainer"},function(e){return this.dropdownController=JIRA.Dropdown.AutoComplete({target:this,method:"renderSuggestions"},this.responseContainer),o.aop.after({target:this.dropdownController,method:"hideDropdown"},function(){this.dropdown.removeClass("dropdown-ready")}),e}),o.aop.after({target:this,method:"renderSuggestions"},function(e){return e&&e.length>0?(this.dropdownController.displayDropdown(),this.maxHeight&&this.dropdownController.dropdown.prop("scrollHeight")>this.maxHeight?this.dropdownController.dropdown.css({height:this.maxHeight,overflowX:"visible",overflowY:"scroll"}):this.maxHeight&&this.dropdownController.dropdown.css({height:"",overflowX:"",overflowY:""}),this.dropdownController.dropdown.addClass("dropdown-ready")):this.dropdownController.hideDropdown(),e}),o.aop.after({target:this,method:"completeInputField"},function(e){return this.dropdownController.hideDropdown(),e}),o.aop.after({target:this,method:"completeField"},function(e){return this.dropdownController.hideDropdown(),e}),o.aop.after({target:this,method:"keyUpHandler"},function(e){return this.field.val().length>=this.minQueryLength&&27!==e.keyCode||!this.dropdownController||!this.dropdownController.displayed||(this.dropdownController.hideDropdown(),27===e.keyCode&&e.stopPropagation()),e})},init:function(e){var t=this,n=13,s=9;this.set(e),this.field=this.field||o("#"+this.fieldID);var r=this.field.val();this.field.attr("autocomplete","off").keyup(function(e){t.disabled||(e.keyCode!==n&&e.keyCode!==s&&t.strictModeEnabledForUserPickers&&!t.field.val()&&t.hiddenField.val(""),t.keyUpHandler(e))}).keydown(function(e){r=t.field.val();var o=27;e.keyCode===o&&t.responseContainer&&t.responseContainer.is(":visible")&&e.preventDefault()}).click(function(e){i===t&&e.stopPropagation()}).blur(function(){t.pendingRequest&&t.pendingRequest.abort()}),this.addDropdownAdvice(),e.delimChar&&this.addMultiSelectAdvice(e.delimChar)}}}()}),AJS.namespace("jira.widget.autocomplete",null,require("jira/autocomplete/autocomplete")),AJS.namespace("JIRA.AutoComplete",null,require("jira/autocomplete/autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/RESTAutoComplete.js' */
define("jira/autocomplete/rest-autocomplete",["jira/autocomplete/autocomplete","jira/util/objects"],function(e,t){return function(){var s=t.begetObject(e);return s.dispatcher=function(e){var t=this;e.length<this.minQueryLength||(this.getSavedResponse(e)?(t.renderSuggestions(t.getSavedResponse(e)),t.responseContainer.scrollTop(0)):this.delay(function(){var s=t.getAjaxParams();s.data.query=e,s.success=function(s){t.saveResponse(e,s),t.responseContainer.scrollTop(0),t.renderSuggestions(s)},t._makeRequest(s)},t.queryDelay))},s.getAjaxParams=function(){},s.getSavedResponse=function(e){return this.requested||(this.requested={}),this.requested[e]},s.saveResponse=function(e,t){"string"==typeof e&&"object"==typeof t&&(this.requested||(this.requested={}),this.requested[e]=t)},s}()}),AJS.namespace("jira.widget.autocomplete.REST",null,require("jira/autocomplete/rest-autocomplete")),AJS.namespace("JIRA.RESTAutoComplete",null,require("jira/autocomplete/rest-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/IssueAutoComplete.js' */
define("jira/autocomplete/issue-autocomplete",["jira/data/parse-options-from-fieldset","jira/field/issue-picker","jira/autocomplete/rest-autocomplete","jira/util/objects","wrm/context-path","jquery"],function(e,t,s,a,i,n){var r=i(),d=function(e){var t=a.begetObject(s);return t.getAjaxParams=function(){return{url:r+"/rest/api/2/issue/picker",data:e.ajaxData,dataType:"json",type:"GET"}},t.renderSuggestions=function(s){var a,i=[];if(this.clearResponseContainer(),s&&s.sections&&s.sections.length>0)return a=n("<ul/>").appendTo(this.responseContainer),n(s.sections).each(function(){var t=this,s=n("<div/>").attr("id",e.fieldID+"_s_"+t.id).addClass("yag").text(t.label);if(t.sub&&s.append(n("<span/>").addClass("yagt").text("("+t.sub+")")),a.append(n("<li/>").append(s).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")})),t.msg){var d=n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_n").addClass("yad").text(t.msg);a.append(n("<li/>").append(d).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")}))}t.issues&&t.issues.length>0&&n(t.issues).each(function(){var s;s=/^http/.test(this.img)?this.img:r+this.img;var d=n("<li/>").append(n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_"+this.key).addClass("yad").append(n("<table/>").addClass("yat").attr({cellpadding:"0",cellspacing:"0"}).append(n("<tr/>").append(n("<td/>").append(n("<img/>").attr("src",s))).append(n("<td/>").append(n("<div/>").addClass("yak").html(this.keyHtml))).append(n("<td/>").css("width","100%").html(this.summary)))));a.append(d),i.push([d,this.key])})}),t.addSuggestionControls(i),i},e.minQueryLength=1,e.queryDelay=.25,t.init(e),t};return d.init=function(){n("fieldset.issue-picker-params").each(function(){var s=e(n(this)),a=n("#"+s.fieldId+"-container").add("#"+s.fieldName+"_container");a.find("a.popup-trigger").click(function(e){var a=r+"/secure/popups/IssuePicker.jspa?";a+="currentIssue="+s.currentIssueKey+"&",a+="singleSelectOnly="+s.singleSelectOnly+"&",a+="showSubTasks="+s.showSubTasks+"&",a+="showSubTasksParent="+s.showSubTaskParent,s.currentProjectId&&""!==s.currentProjectId&&(a+="&selectedProjectId="+s.currentProjectId),t.callback=function(e){var t,a=[];e=JSON.parse(e),s.fieldId&&a&&(t=n("#"+s.fieldId),t&&(n.each(e,function(){a.push(this.value)}),t.val(a.join(", "))))};var i=window.open(a,"IssueSelectorPopup","status=no,resizable=yes,top=100,left=200,width=620,height=500,scrollbars=yes,resizable");i.opener=self,i.focus(),e.preventDefault()}),s.fieldId||(s.fieldId=s.fieldName),s.issuePickerEnabled===!0&&d({fieldID:s.fieldId,delimChar:s.singleSelectOnly===!0?void 0:",",ajaxData:s})})},d}),AJS.namespace("jira.widget.autocomplete.Issues",null,require("jira/autocomplete/issue-autocomplete")),AJS.namespace("JIRA.IssueAutoComplete",null,require("jira/autocomplete/issue-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/UserAutoComplete.js' */
define("jira/autocomplete/user-autocomplete",["jira/autocomplete/rest-autocomplete","jira/data/parse-options-from-fieldset","jira/util/browser","jira/util/elements","jira/util/objects","jquery"],function(e,t,i,r,a,o){var s=function(t){function s(e){var t=!1,i=e.closest("form");return i.length&&i.hasClass("submitting")&&(t=!0),t}var n=a.begetObject(e),l=!0;return n.getAjaxParams=function(){var e={url:contextPath+"/rest/api/1.0/users/picker",data:{fieldName:t.fieldID,fieldConfigId:t.fieldConfigID,projectId:t.projectId},dataType:"json",type:"GET"};return l&&(e.headers={"x-atlassian-force-account-id":"true"}),e},n.renderSuggestions=function(e){if(s(this.field)||!i.isSelenium()&&!r.elementIsFocused(this.field))return!1;var t,a=[];return this.clearResponseContainer(),e&&e.users&&e.users.length>0&&(t=o("<ul/>").appendTo(this.responseContainer),o(e.users).each(function(){l?a.push([o("<li/>").html(this.html).appendTo(t),this.accountId,this.accountId,this.displayName]):a.push([o("<li/>").html(this.html).appendTo(t),null!=this.name?this.name:"",this.accountId,this.displayName])})),e.footer&&this.responseContainer.append(o("<div/>").addClass("yui-ac-ft").html(e.footer).css("display","block")),a.length>0&&(n.addSuggestionControls(a),o(".atlassian-autocomplete div.yad, .atlassian-autocomplete .labels li").textOverflow({autoUpdate:!0})),a},t.minQueryLength=2,t.queryDelay=.25,n.init(t),n};return s.init=function(e){o("fieldset.user-picker-params",e).each(function(){var i=t(o(this)),r=i.fieldId||i.fieldName,a=o("#"+r+"_container");a.find("a.popup-trigger").click(function(e){var t,s=contextPath;if(e.preventDefault(),i.formName||(i.formName=a.find("#"+r).parents("form").attr("name")),s+=i.actionToOpen?i.actionToOpen:"/secure/popups/UserPickerBrowser.jspa",s+="?formName="+i.formName+"&",s+="multiSelect="+i.multiSelect+"&",s+="decorator=popup&",s+="element="+r,i.fieldConfigId&&(s+="&fieldConfigId="+i.fieldConfigId),i.projectId)if(o.isArray(i.projectId))for(var n in i.projectId)s+="&projectId="+n;else s+="&projectId="+i.projectId;t=window.open(s,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes"),t.opener=self,t.focus()});var n=e?e.find("#"+r):null,l=e?e.find("#hidden-"+r):null,d=i["enable-strict-mode-for-this-user-picker"];i.userPickerEnabled===!0&&s({field:n,hiddenField:l,fieldID:r,fieldConfigID:i.fieldConfigId,projectId:i.projectId,delimChar:i.multiSelect===!1?void 0:",",ajaxData:{fieldName:i.fieldName},strictModeEnabledForUserPickers:d})})},s}),AJS.namespace("jira.widget.autocomplete.Users",null,require("jira/autocomplete/user-autocomplete")),AJS.namespace("JIRA.UserAutoComplete",null,require("jira/autocomplete/user-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/initAutoCompleteFields.js' */
!function(){JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,t,i){i!==JIRA.CONTENT_ADDED_REASON.panelRefreshed&&(JIRA.UserAutoComplete.init(t),JIRA.IssueAutoComplete.init(t))}),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,t,i){i!==JIRA.CONTENT_ADDED_REASON.panelRefreshed&&AJS.$("fieldset.user-searcher-params",t).each(function(){var e=JIRA.parseOptionsFromFieldset(AJS.$(this)),i=AJS.$("#"+e.fieldId+"_container",t);if(e.userPickerEnabled===!0)var r=JIRA.UserAutoComplete({fieldID:e.fieldId,delimChar:e.multiSelect===!0?",":void 0,ajaxData:{fieldName:e.fieldName}});var s=function(i){var s=AJS.$("#"+e.fieldId,t),o=AJS.$("#"+e.fieldId+"Image",t),l=AJS.$("#"+e.fieldId+"GroupImage",t),a=AJS.$("#"+e.fieldId+"_desc",t);"select.list.none"===i?(s.val("").attr("disabled","true"),o.hide(),l.hide(),a.hide()):(s.removeAttr("disabled"),"select.list.group"===i?(o.hide(),l.show(),e.userPickerEnabled===!0&&(r.disable(),a.hide())):(o.show(),l.hide(),e.userPickerEnabled===!0&&(r.enable(),a.show())))};AJS.$("#"+e.userSelect,t).change(function(){var e=AJS.$(this).find("option:selected").attr("rel");s(e)}).find("option:selected").each(function(){s(AJS.$(this).attr("rel"))}),i.find("a.user-popup-trigger").click(function(t){var i=contextPath+"/secure/popups/UserPickerBrowser.jspa?";i+="formName="+e.formName+"&",i+="multiSelect="+e.multiSelect+"&",i+="decorator=popup&",i+="element="+e.fieldId;var r=window.open(i,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");r.opener=self,r.focus(),t.preventDefault()}),i.find("a.group-popup-trigger").click(function(t){var i=contextPath+"/secure/popups/GroupPickerBrowser.jspa?";i+="formName="+e.formName+"&",i+="multiSelect="+e.multiSelect+"&",i+="decorator=popup&",i+="element="+e.fieldId;var r=window.open(i,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");r.opener=self,r.focus(),t.preventDefault()})})})}();;
;
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.js' */
define("jira/admin/group-browser/group-label-lozenge",["jquery","jira/skate"],function(e,t){t("group-label-lozenge",{type:t.type.CLASSNAME,attached:function(t){e(t).tooltip({gravity:"w",html:!0})}})});;
;
/* module-key = 'jira.webresources:group-label-lozenge', location = 'includes/jira/admin/group-browser/group-label-lozenge.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),JIRA.Templates.groupLabelLozenge=function(e,l){return""+aui.lozenges.lozenge({text:e.label.text,title:e.label.title,isSubtle:!0,extraClasses:"group-label-lozenge"})};;
;
/* module-key = 'jira.webresources:groupbrowser', location = '/includes/jira/admin/group-browser/group-browser.js' */
require(["jquery","jira/admin/group-browser/group-label-lozenge"],function(i){i(function(){i(".operations-list .aui-button[disabled]").tooltip({gravity:"e",html:!1})})});;
;
/* module-key = 'jira.webresources:group-pickers', location = 'includes/jira/field/templates/groupPickerUtil.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.GroupPickerUtil&&(JIRA.Templates.GroupPickerUtil={}),JIRA.Templates.GroupPickerUtil.formatResponseWithLabels=function(e,s){return""+JIRA.Templates.GroupPickerUtil.formatResponse(soy.$$augmentMap(e,{showLabels:!0}))},JIRA.Templates.GroupPickerUtil.formatResponse=function(e,s){var t='<div class="group-suggestion-item"><span class="group-suggestion-item__name">'+soy.$$filterNoAutoescape(e.html)+"</span>";if(e.showLabels){t+='<span class="group-suggestion-item__labels group-labels-lozenges">';for(var a=e.labels,o=a.length,l=0;l<o;l++){var p=a[l];t+=JIRA.Templates.groupLabelLozenge({label:p})+" "}t+="</span>"}return t+="</div>"};;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/templates/group-picker-util-template-wrapper.js' */
define("jira/field/group-picker-util/templates",[],function(){"use strict";return window.JIRA.Templates.GroupPickerUtil});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/groupPickerUtil.js' */
define("jira/field/group-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery","jira/field/group-picker-util/templates"],function(e,i,r,t){var a=function(a,n){var s=[],u=n?t.formatResponseWithLabels:t.formatResponse;return r(a).each(function(t,a){var n=new i({weight:t,label:a.header});r(a.groups).each(function(){n.addItem(new e({value:this.name,label:this.name,title:this.name,html:u(this),highlighted:!0}))}),s.push(n)}),s};return{formatResponseWithLabels:function(e){return a(e,!0)},formatResponse:function(e,i){return a(e,i)}}}),AJS.namespace("JIRA.GroupPickerUtil",null,require("jira/field/group-picker-util"));;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initMultiGroupPickers.js' */
define("jira/field/init-multi-group-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,a,r,n){function s(i){i.find(".js-default-multi-group-picker").each(function(){var i=e(this),a=i.data("show-labels")===!0,r=i.data("user-name");new t({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,ajaxOptions:{data:function(e){return{userName:r,query:e,exclude:i.val()}},url:contextPath+"/rest/api/2/groups/picker",query:!0,formatResponse:a?n.formatResponseWithLabels:n.formatResponse}})})}r.bind(a.NEW_CONTENT_ADDED,function(e,t,a){a!==i.panelRefreshed&&s(t)})});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initSingleGroupPickers.js' */
define("jira/field/init-single-group-pickers",["jira/ajs/select/single-select","jquery","jira/ajs/list/item-descriptor","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,a,n,r,s){function l(a){a.find(".js-default-single-group-picker").each(function(){var a=t(this),n=a.find("option[data-empty]"),r=a.data("show-labels")===!0,l=a.data("user-name");new e({element:this,itemAttrDisplayed:"label",revertOnInvalid:!0,ajaxOptions:{data:function(e){return{userName:l,query:e,exclude:a.val()}},url:contextPath+"/rest/api/2/groups/picker",query:!0,formatResponse:function(e){var t=s.formatResponse(e,r);return n.length&&""!==a.val()&&t.push(new i({value:"",label:n.text(),highlighted:!0})),t}}})})}r.bind(n.NEW_CONTENT_ADDED,function(e,t,i){i!==a.panelRefreshed&&l(t)})});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/init/init-group-pickers-webresource.js' */
require("jira/field/init-multi-group-pickers"),require("jira/field/init-single-group-pickers");;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/userPickerUtil.js' */
define("jira/field/user-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],function(e,t,i){function a(t,a){i(t).each(function(){a.addItem(new e({value:this.accountId,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))})}return{formatResponse:function(a){var r=[];return i(a).each(function(a,n){var l=new t({weight:a,label:n.footer});i(n.users).each(function(){l.addItem(new e({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))}),r.push(l)}),r},formatResponseByAccountId:function(e){var r=[];return i(e).each(function(e,i){var n=new t({weight:e,label:i.footer});a(i.users,n),r.push(n)}),r},inviteCapableFormatResponseByAccountId:function(e){var r=[];return i(e).each(function(e,i){var n=new t({weight:e,label:i.footer,showLabel:i.total>0});a(i.users,n),r.push(n)}),r}}}),AJS.namespace("JIRA.UserPickerUtil",null,require("jira/field/user-picker-util"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/rolePickerUtils.js' */
define("jira/field/role-picker-utils",["jira/ajs/list/item-descriptor","jira/analytics/web-client","jquery"],function(e,i,s){return{formatResponse:function(r){r&&i.sendUIEvent({source:"createIssueModal",actionSubjectId:"restrictIssueDropDown",actionSubject:"dropdown",action:"clicked"});var t=[];return s(r).each(function(){var i="";this.currentUserRole&&(i='<div class="flex-row"><div class="current-user">'+"You"+"</div></div>");var s='<div class="add-issue-restriction-flex-body"><div class="add-issue-restriction-role-picker flex-column"><div><span class="add-issue-restriction-name">'+this.name+'</span></div><div><span class="add-issue-restriction-description">'+this.description+"</span></div></div> "+i+"</div>";t.push(new e({value:this.id,label:this.name,allowDuplicate:!1,html:s}))}),t}}}),AJS.namespace("JIRA.RolePickerUtils",null,require("jira/field/role-picker-utils"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initSingleUserPickers.js' */
define("jira/field/init-single-user-pickers",["jquery","jira/ajs/select/single-select","jira/ajs/select/suggestions/invite-capable-suggest-handler","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/user-picker-util","jira/util/formatter"],function(e,t,a,s,n,r,i,u){function o(s){var n="/rest/api/1.0/users/picker";e(".js-default-user-picker",s).each(function(){var a=e(this);if(!a.data("aui-ss")){var s={showAvatar:!0,excludeConnectUsers:a.data("exclude-connect-users")},r=a.data("inputValue");new t({element:a,submitInputVal:!0,showDropdownButton:!!a.data("show-dropdown-button"),errorMessage:u.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:contextPath+n,query:!0,data:s,formatResponse:i.formatResponse},inputText:r})}}),e(".js-default-user-picker-by-account-id",s).each(function(){var a=e(this);if(!a.data("aui-ss")){var s={showAvatar:!0,excludeConnectUsers:a.data("exclude-connect-users")},r=a.data("inputValue");new t({element:a,submitInputVal:!0,showDropdownButton:!!a.data("show-dropdown-button"),errorMessage:u.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:contextPath+n,query:!0,headers:{"x-atlassian-force-account-id":!0},data:s,formatResponse:i.formatResponseByAccountId},inputText:r})}}),e(".js-invite-capable-user-picker-by-account-id",s).each(function(){var s=e(this);if(!s.data("aui-ss")){var r={showAvatar:!0,excludeConnectUsers:s.data("exclude-connect-users")},o=s.data("inputValue");new t({element:s,submitInputVal:!0,showDropdownButton:!!s.data("show-dropdown-button"),errorMessage:u.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:contextPath+n,query:!0,headers:{"x-atlassian-force-account-id":!0},data:r,formatResponse:i.inviteCapableFormatResponseByAccountId},inputText:o,suggestionsHandler:a})}})}r.bind(n.NEW_CONTENT_ADDED,function(e,t,a){a!==s.panelRefreshed&&o(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/NoBrowseUserNamePicker.js' */
define("jira/field/no-browser-user-name-picker",["require"],function(e){var t=e("jquery"),r=e("jira/ajs/list/item-descriptor"),a=e("jira/ajs/select/multi-select"),i=e("jira/util/formatter");return a.extend({_getDefaultOptions:function(){return t.extend(!0,this._super(),{errorMessage:"The requested user does not exist.",showDropdownButton:!1,removeOnUnSelect:!0,itemAttrDisplayed:"label"})},_handleCharacterInput:function(){},_setSuggestions:function(){},_handleServerError:function(e){404===e.status?this.showErrorMessage():this._super()},_deactivate:function(){this.validateAndAdd()},validateAndAdd:function(){var e=this;""===t.trim(this.$field.val())?this.hideErrorMessage():t.ajax({url:contextPath+"/rest/api/2/user",data:{username:t.trim(e.getQueryVal())},success:function(t){e.hideErrorMessage(),e.$field.val(""),e.addItem(new r({label:t.displayName,value:t.name}))},error:function(){e.showErrorMessage()}})},_handleSpace:function(){this.validate()},_handleServerSuggestions:function(){this.hideErrorMessage(),this.handleFreeInput()},handleFreeInput:function(){var e=t.trim(this.$field.val());""!==e&&(this.addItem({value:e,label:e}),this.model.$element.trigger("change")),this.$field.val("")},keys:{Return:function(e){e.preventDefault(),this.validateAndAdd()},Spacebar:function(e){e.preventDefault(),this.validateAndAdd()}}})}),AJS.namespace("AJS.NoBrowseUserNamePicker",null,require("jira/field/no-browser-user-name-picker"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiUserPickers.js' */
define("jira/field/init-multi-user-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/no-browser-user-name-picker","jira/field/user-picker-util"],function(e,t,i,n,r,s,a){function u(i){i.find(".js-default-multi-user-picker").each(function(){e(this);new t({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,ajaxOptions:{url:contextPath+"/rest/api/1.0/users/picker",query:!0,data:function(e){return{showAvatar:!0,query:e}},formatResponse:a.formatResponse}})}),i.find(".js-default-multi-user-picker-by-accountId").each(function(){e(this);new t({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,ajaxOptions:{url:contextPath+"/rest/api/1.0/users/picker",query:!0,headers:{"x-atlassian-force-account-id":!0},data:function(e){return{showAvatar:!0,query:e}},formatResponse:a.formatResponseByAccountId}})})}r.bind(n.NEW_CONTENT_ADDED,function(e,t,n){n!==i.panelRefreshed&&u(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiRolePickers.js' */
define("jira/field/init-multi-role-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/role-picker-utils","jira/analytics/web-client"],function(e,t,i,s,n,c,o){function r(e){e.find(".js-default-multi-role-picker").each(function(){AJS.$(".js-default-multi-role-picker").each(function(){const e=this.getAttribute("data-project-key")||null;e&&(o.sendScreenEvent({name:"issueRestrictionsDropDown",attributes:{projectKey:e,projectType:"software"}}),new AJS.MultiSelect({element:this,itemAttrDisplayed:"label",showDropdownButton:!0,ajaxOptions:{data:function(e){return{query:e}},error:function(t){o.sendOperationalEvent({source:"issueRestrictionsDropDown",actionSubject:"issueRestrictionRoleDetailsFailure",action:"clicked",attributes:{location:"global-issue-create",projectKey:e,error:t}})}.bind(this),url:contextPath+"/rest/api/3/project/"+e+"/internal/roledetails",query:!1,headers:{"x-atlassian-force-account-id":!0},formatResponse:c.formatResponse,removeOnUnSelect:!0,allowDuplicate:!1}}),this.selected=function(){o.sendUIEvent({source:"createIssueModal",actionSubjectId:"restrictIssueDropDownRestrictionsAdded",actionSubject:"dropdown",action:"clicked",attributes:{location:"global-issue-create",projectKey:e}})},this.unselect=function(){o.sendUIEvent({source:"createIssueModal",actionSubjectId:"restrictIssueDropDownRestrictionsRemoved",actionSubject:"dropdown",action:"clicked",attributes:{location:"global-issue-create",projectKey:e}})},this.$select=AJS.$("#issuerestriction-multi-select"),this.$select.bind("selected",this.selected),this.$select.bind("unselect",this.unselect)),AJS.$(this).attr("select2","true")})})}n.bind(s.NEW_CONTENT_ADDED,function(e,t,s){s!==i.panelRefreshed&&r(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/init/init-user-pickers-webresource.js' */
require("jira/field/init-multi-user-pickers"),require("jira/field/init-single-user-pickers"),require("jira/field/init-multi-role-pickers");;
;
/* module-key = 'jira.webresources:team-pickers', location = '/includes/jira/field/team/utils.js' */
define("jira/field/team/utils",["jquery","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor"],function(e,i,a){return{formatResponse:function(e){const t=new a({weight:1,label:"Suggestions"});return e.forEach(function(e){t.addItem(new i({value:e.id,label:e.displayName,html:e.displayName,icon:e.smallAvatarImageUrl,allowDuplicate:!1,highlighted:!0}))}),[t]}}});;
;
/* module-key = 'jira.webresources:team-pickers', location = '/includes/jira/field/team/initPickers.js' */
define("jira/field/team/init-pickers",["jquery","jira/ajs/select/single-select","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/team/utils"],function(e,t,i,n,s,a,l){function r(n){const s={url:"/gateway/api/teams/v2/search",query:!0,data:function(e){return{limit:20,q:e}},formatResponse:l.formatResponse},a={itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,ajaxOptions:s};n.find(".js-default-team-picker").each(function(){const n=this;e(this).is("[multiple]")?new i(Object.assign({element:n},a)):new t(Object.assign({element:n},a))})}a.bind(s.NEW_CONTENT_ADDED,function(e,t,i){i!==n.panelRefreshed&&r(t)})});;
;
/* module-key = 'jira.webresources:ie-imitation-placeholder', location = '/includes/jira/field/IEImitationPlaceholder.js' */
require(["jquery"],function(e){e.fn.ieImitationPlaceholder=function(){function a(){var a=e(this);""===a.val()&&(a.val(a.attr("placeholder")),a.addClass("input-placeholder"))}function l(){var a=e(this);a.val()===a.attr("placeholder")&&(a.val(""),a.removeClass("input-placeholder"))}function i(){t.each(l)}if(e.browser.msie){var r=this,t=r.find("[placeholder]");t.focus(l),t.blur(a),r.submit(i),t.each(a)}}});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/ProjectIssueTypeSelect.js' */
define("jira/field/project-issue-type-select",["jira/lib/class"],function(e){return e.extend({init:function(e){var s,t=this;this.$project=e.project,this.issueTypeSelect=e.issueTypeSelect,this.$projectIssueTypesSchemes=e.projectIssueTypesSchemes,this.$issueTypeSchemeIssueDefaults=e.issueTypeSchemeIssueDefaults,this.projectIssueTypeSchemes=JSON.parse(this.$projectIssueTypesSchemes.html()),this.issueTypesSchemeDefaults=JSON.parse(this.$issueTypeSchemeIssueDefaults.html()||"[]"),t.$project.length>0&&(s=t.$project.val(),t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(s)),this.$project.change(function(){var e=t.$project.val();t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(e))}))},getIssueTypeSchemeForProject:function(e){return this.projectIssueTypeSchemes[e]},getDefaultIssueTypeForScheme:function(e){return this.issueTypesSchemeDefaults[e]},setIssueTypeScheme:function(e){var s=this.issueTypeSelect.model.getValue();this.issueTypeSelect.model.setFilterGroup(e),this.issueTypeSelect.model.setSelected(s,!1)||this.setDefaultIssueType(e),this.issueTypeSelect.model.$element.data("project",this.$project.val())},setDefaultIssueType:function(e){var s=this.getDefaultIssueTypeForScheme(e),t=this.issueTypeSelect.model.getDescriptor(s);t||(t=this.issueTypeSelect.model.getAllDescriptors()[0]),this.issueTypeSelect.setSelection(t,!1)}})}),AJS.namespace("JIRA.ProjectIssueTypeSelect",null,require("jira/field/project-issue-type-select"));;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectIssueTypeSelect.js' */
define("jira/field/init-project-issue-type-select",["jira/ajs/select/suggestion-collection-model","jquery","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/project-issue-type-select"],function(e,t,i,s,r,l,n){function d(s){var r=s||t("body");r.find(".issuetype-field").each(function(s){var l=r.find(".project-field, .project-field-readonly"),d=t(this),o=r.find("#"+d.attr("id")+"-projects"),a=r.find("#"+d.attr("id")+"-defaults"),p=r.find(".qf-field.qf-field-issuetype"),u=r.find("input#request-or-issue-type-field"),f=r.find("div#request-or-issue-type-field-options");if(u.length){var c=new i({element:u,revertOnInvalid:!0,model:e});p.hide(),u.data("options",f.data("suggestions"));var y=r.find("input.request-type-field"),j=c.model.selectedDescriptors&&c.model.selectedDescriptors[0];j&&(y.attr("value",j.properties.payload.requestTypeKey),d.attr("value",j.properties.payload.issueTypeId))}else{var v=new i({element:d,revertOnInvalid:!0,model:e});v.model.remove(""),l.length>0&&new n({project:l.eq(s),issueTypeSelect:v,projectIssueTypesSchemes:o,issueTypeSchemeIssueDefaults:a})}})}l.bind(r.NEW_CONTENT_ADDED,function(e,t,i){i!==s.panelRefreshed&&d(t)})});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initIssueTypePickers.js' */
;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectPickers.js' */
define("jira/field/init-project-pickers",["jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t,l){function s(n){n.find(".project-field").each(function(){new e({element:this,revertOnInvalid:!0,pageSize:50,pagingThreshold:100,model:i})})}l.bind(t.NEW_CONTENT_ADDED,function(e,i,t){t!==n.panelRefreshed&&s(i)})});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/init/init-jira-project-issuetype-fields-webresource.js' */
require("jira/field/init-project-issue-type-select"),require("jira/field/init-project-pickers");;
;
/* module-key = 'jira.webresources:jira-fields', location = 'includes/jira/field/field-templates.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Fields&&(JIRA.Templates.Fields={}),JIRA.Templates.Fields.username=function(e,s){return""+(e.escape?soy.$$escapeHtml(e.displayName):soy.$$filterNoAutoescape(e.displayName))},JIRA.Templates.Fields.recipientUsername=function(e,s){return'<li data-username="'+soy.$$escapeHtml(e.username)+'" title='+soy.$$escapeHtml(e.username)+'><span><span class="user-hover" rel="'+soy.$$escapeHtml(e.username)+'"><img alt="" src="'+soy.$$escapeHtml(e.icon)+'" title="'+JIRA.Templates.Fields.username(e)+'"><span title="'+JIRA.Templates.Fields.username(e)+'">'+JIRA.Templates.Fields.username(e)+"</span></span>"+(e.readOnly?"":'<button type="button" class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">'+soy.$$escapeHtml(AJS.format("Remove watcher: {0}",e.username))+"</span></button>")+"</span></li>"},JIRA.Templates.Fields.recipientEmail=function(e,s){return'<li data-email="'+soy.$$escapeHtml(e.email)+'" title='+soy.$$escapeHtml(e.email)+'><span><img src="'+soy.$$escapeHtml(e.icon)+'" title="'+soy.$$escapeHtml(e.email)+'"><span title="'+soy.$$escapeHtml(e.email)+'">'+soy.$$escapeHtml(e.email)+'</span><span class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></span></span></li>'};;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPicker.js' */
define("jira/field/label-picker",["jira/util/formatter","jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","wrm/context-path","jquery"],function(e,t,i,s,a,l){var n=a();return t.extend({_getDefaultOptions:function(){return l.extend(!0,this._super(),{ajaxOptions:{url:n+"/includes/js/ajs/layer/labeldata.js",query:!0,formatResponse:this._formatResponse},removeDuplicates:!0,removeOnUnSelect:!0,userEnteredOptionsMsg:"New Label"})},isValidItem:function(e){return!/\s/.test(e)},_handleServerSuggestions:function(e){e&&e.token&&l.trim(this.$field.val())!==e.token||this._super(e)},_handleSpace:function(){""!==l.trim(this.$field.val())&&this.handleFreeInput()&&this.hideSuggestions()},keys:{Spacebar:function(e){this._handleSpace(),e.preventDefault()}},_formatResponse:function(t){var a=new i({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});return t&&t.suggestions&&l.each(t.suggestions,function(){a.addItem(new s({value:this.label,label:this.label,html:this.html,highlighted:!0}))}),[a]},handleFreeInput:function(){var e=l.trim(this.$field.val()).match(/\S+/g);if(e){for(var t,i=0;t=e[i];i++)this.addItem({value:t,label:t});this.model.$element.trigger("change")}this.$field.val("")}})}),AJS.namespace("AJS.LabelPicker",null,require("jira/field/label-picker")),AJS.namespace("JIRA.LabelPicker",null,require("jira/field/label-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPickerFactory.js' */
define("jira/field/label-picker-factory",["jira/field/label-picker","jira/data/parse-options-from-fieldset","jquery","exports"],function(e,i,t,a){a.createPicker=function(a,r){var s=i(a),d=t("#"+s.id,r),l=s.issueId,c={};/customfield_\d/.test(s.id)&&(c.customFieldId=parseInt(s.id.replace("customfield_",""),10)),new e({element:d,ajaxOptions:{url:contextPath+"/rest/api/1.0/labels"+(l?"/"+l:"")+"/suggest",data:c}})}});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.Item.js' */
define("jira/field/multi-user-list-picker/item",["jira/util/data/meta","jira/ajs/control","jquery"],function(e,t,i){return t.extend({init:function(e){this._setOptions(e),this.$lozenge=this._render("item"),this.$removeButton=this.$lozenge.find(".remove-recipient"),this._assignEvents("instance",this),this._assignEvents("lozenge",this.$lozenge),this._assignEvents("removeButton",this.$removeButton),this.$lozenge.prependTo(this.options.container)},_getDefaultOptions:function(){return{label:null,title:null,container:null,focusClass:"focused"}},_renders:{item:function(){var t,n=this.options.descriptor;return n.noExactMatch()!==!0?(t={escape:!1,username:n.value(),icon:n.icon(),displayName:AJS.escapeHtml(n.label())},i(JIRA.Templates.Fields.recipientUsername(t))):(t={email:n.value(),icon:e.get("default-avatar-url")},i(JIRA.Templates.Fields.recipientEmail(t)))}},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(e){e.stopPropagation(),this.trigger("remove")}}}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.js' */
define("jira/field/multi-user-list-picker",["jira/util/formatter","jira/field/multi-user-list-picker/item","jira/ajs/select/suggestions/user-list-suggest-handler","jira/ajs/select/multi-select","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/ajs/group","jquery"],function(e,t,i,r,s,n,a,l){return r.extend({init:function(r){function u(e){var t=[];return l(e).each(function(e,i){var r=new n({weight:e,label:i.footer});l(i.users).each(function(){r.addItem(new s({value:this.accountId,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))}),t.push(r)}),t}var o="/rest/api/1.0/users/picker";l.extend(r,{itemAttrDisplayed:"label",userEnteredOptionsMsg:"Email address",showDropdownButton:!1,removeOnUnSelect:!0,ajaxOptions:{url:contextPath+o,query:!0,headers:{"x-atlassian-force-account-id":!0},data:{showAvatar:!0},formatResponse:u},suggestionsHandler:i,itemGroup:new a,itemBuilder:function(e){return new t({descriptor:e,container:this.$selectedItemsContainer})}}),this._super(r)},_createFurniture:function(e){this._super(e),this.options.description&&this._render("description",this.options.description).insertAfter(this.$field)},updateItemsIndent:l.noop,_renders:{selectedItemsWrapper:function(){return l('<div class="recipients" />')},selectedItemsContainer:function(){return l("<ol />")},description:function(e){return l("<div />").addClass("description").text(e)}}})}),AJS.namespace("JIRA.MultiUserListPicker",null,require("jira/field/multi-user-list-picker")),AJS.namespace("JIRA.MultiUserListPicker.Item",null,require("jira/field/multi-user-list-picker/item"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCascadingSelects.js' */
define("jira/field/init-cascading-selects",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t){function a(i){e(i||document.body).find("div.aui-field-cascadingselect").add("tr.aui-field-cascadingselect").add("td.aui-field-cascadingselect").each(function(){function i(){var i,n=t.find("option:selected").attr("class");n!==a&&(i=e("<span />").insertAfter(d),d.detach(),d.find("option").each(function(e,i){i.parentNode.removeChild(this)}),d.insertAfter(i),i.remove(),c.filter("."+t.find("option:selected").attr("class")).appendTo(d),s.hasClass(t.find("option:selected").attr("class"))?d.val(s.val()):d.val(d.find("option:first").val()),a=n)}var n=e(this),t=n.find(".cascadingselect-parent"),a=(t.find("option"),""),d=n.find(".cascadingselect-child"),c=d.find("option"),s=d.find(":selected");t.bind("cascadingSelectChanged",i).change(function(){e(this).trigger("cascadingSelectChanged")}).trigger("cascadingSelectChanged")})}t.bind(n.NEW_CONTENT_ADDED,function(e,n,t){t!==i.panelRefreshed&&a(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/ComponentPicker.js' */
define("jira/field/component-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,n,s,i,r){return s.extend({init:function(e){this._super(e),this.suggestionsHandler=new n(this.options,this.model)},_getDefaultOptions:function(t){var n=!1;return t&&t.element&&(n=r(t.element).data("create-permission")),n?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Component"}):this._super(t)},_selectionHandler:function(e,n){var s=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor"),o=i.find(s,function(e){return e.label()===r.label()});o||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Component.new.selected",[r.value()])),this._super(e,n)}})}),AJS.namespace("JIRA.ComponentPicker",null,require("jira/field/component-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initComponentPickers.js' */
define("jira/field/init-component-pickers",["jira/field/component-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,n,r,t,i,o){function l(r){new e({element:r,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid component.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var n,r=o(e);return n=r.is("select")?r:r.find("select")}function c(e,n){n=n||s.join(", "),o(n,e).each(function(){var e=a(this);e.length&&l(e)})}var s=["div.aui-field-componentspicker.frother-control-renderer","td.aui-field-componentspicker.frother-control-renderer","tr.aui-field-componentspicker.frother-control-renderer"];r.bind(t.NEW_CONTENT_ADDED,function(e,n,r){r!==i.panelRefreshed&&c(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initMultiselectPickers.js' */
define("jira/field/init-multi-select-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/util/formatter"],function(e,t,i,n,l,r){function s(e){new t({element:e,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid value.",maxInlineResultsDisplayed:15,submitInputVal:!0,expandAllResults:!0})}function a(t){var i,n=e(t);return i=n.is("select")?n:n.find("select")}function u(t,i){i=i||c.join(", "),e(i,t).each(function(){var e=a(this);e.length&&s(e)})}var c=["div.aui-field-multiselectpicker.frother-control-renderer"];l.bind(n.NEW_CONTENT_ADDED,function(e,t,n){n!==i.panelRefreshed&&u(t)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initDatePickers.js' */
define("jira/field/init-date-pickers",["jquery","jira/data/parse-options-from-fieldset","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,t,d,n){function a(t){e(t||document.body).find("div.aui-field-datepicker").add("tr.aui-field-datepicker").add("td.aui-field-datepicker").each(function(){function d(){a.prop("disabled",r.is(":checked"))}var n=e(this),a=n.find("input:text"),r=n.find("#useCurrentDate"),f=i(n.find("fieldset.datepicker-params"));f.context=t,Calendar.setup(f),r.length&&(d(),r.click(d))})}n.bind(d.NEW_CONTENT_ADDED,function(e,i,d){d!==t.panelRefreshed&&a(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLegacyGroupPickers.js' */
define("jira/field/init-legacy-group-pickers",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,r,t){function n(i){e(i||document.body).find("div.aui-field-grouppicker").add("tr.aui-field-grouppicker").add("td.aui-field-grouppicker").each(function(){function i(e){e.preventDefault(),window.open(n,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes")}var r=e(this),t=r.find("a.grouppicker-trigger"),n=t.attr("href");t.click(i)})}t.bind(r.NEW_CONTENT_ADDED,function(e,r,t){t!==i.panelRefreshed&&n(r)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initIssuePickers.js' */
define("jira/field/init-issue-pickers",["jira/field/issue-picker","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/util/formatter"],function(e,i,n,t,s,r){function u(i){s(i||document.body).find(".aui-field-issuepicker").each(function(){new e({element:s(this),userEnteredOptionsMsg:"Enter issue key",uppercaseUserEnteredOnSelect:!0})})}i.bind(n.NEW_CONTENT_ADDED,function(e,i,n){n!==t.panelRefreshed&&u(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLabelPickers.js' */
define("jira/field/init-label-pickers",["jira/field/label-picker-factory","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,n,r,a){function t(e){var i,n=a(e);return i=n.is(c)?n:n.find(c)}function l(i,n){n=n||".aui-field-labelpicker",a(n,i).each(function(){var n=t(this);n.length>0&&e.createPicker(n,i)})}var c="fieldset.labelpicker-params";i.bind(n.NEW_CONTENT_ADDED,function(e,i,n){n!==r.panelRefreshed&&l(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/VersionPicker.js' */
define("jira/field/version-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,s,i,n,r){return i.extend({init:function(e){this._super(e),this.suggestionsHandler=new s(this.options,this.model)},_getDefaultOptions:function(t){var s=!1;return t&&t.element&&(s=r(t.element).data("create-permission")),s?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Version"}):this._super(t)},_selectionHandler:function(e,s){var i=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor"),l=n.find(i,function(e){return e.label()===r.label()});l||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Version.new.selected",[r.value()])),this._super(e,s)}})}),AJS.namespace("JIRA.VersionPicker",null,require("jira/field/version-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initVersionPickers.js' */
define("jira/field/init-version-pickers",["jira/field/version-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,n,r,t,s){function l(n){new e({element:n,itemAttrDisplayed:"label",removeOnUnSelect:!1,submitInputVal:!0,errorMessage:"{0} is not a valid version.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var i,n=s(e);return i=n.is("select")?n:n.find("select")}function o(e,i){i=i||".aui-field-versionspicker.frother-control-renderer",s(i,e).each(function(){var e=a(this);e.length&&l(e)})}n.bind(r.NEW_CONTENT_ADDED,function(e,i,n){n!==t.panelRefreshed&&o(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCommentControls.js' */
define("jira/field/init-comment-controls",["jira/skate","jira/ajs/select/security-level-select","jira/wikipreview/wiki-preview"],function(e,i,t){e("jira-wikifield",{type:e.type.CLASSNAME,created:function(e){var i={fieldId:e.getAttribute("field-id"),trigger:e.querySelector(".wiki-preview").id,issueKey:e.getAttribute("issue-key"),rendererType:e.getAttribute("renderer-type")};t(i,e).init()}}),e("security-level",{type:e.type.CLASSNAME,created:function(e){var t=e.querySelector("#commentLevel");t&&new i(t)}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLogWorkControls.js' */
define("jira/field/init-log-work-controls",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,t,a,i){function n(e,t){var a=i(e).find("#worklog-logworkcontainer"),n=i(e).find("#worklog-timetrackingcontainer"),d=i(e).find("#log-work-activate");t?(a.removeClass("hidden"),n.addClass("hidden"),d.prop("checked",!0)):(a.addClass("hidden"),n.removeClass("hidden"),d.prop("checked",!1))}function d(e){i("#log-work-adjust-estimate-new-value, #log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i("input[name=worklog_adjustEstimate]:checked,input[name=adjustEstimate]:checked",e).val()+"-value",e).removeAttr("disabled"),i("input[name=worklog_adjustEstimate],input[name=adjustEstimate]",e).change(function(){i("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i(this).val()+"-value",e).removeAttr("disabled")}),i("#delete-log-work-adjust-estimate-new-value").change(function(){i("#delete-log-work-adjust-estimate-new").prop("checked",!0)}),i("#delete-log-work-adjust-estimate-manual-value").change(function(){i("#delete-log-work-adjust-estimate-manual").prop("checked",!0)}),i(e).find("#log-work-activate").change(function(){n(e,i(this).is(":checked"))})}e.bind(t.VALIDATE_TIMETRACKING,function(e,t){n(t,!0)}),e.bind(t.NEW_CONTENT_ADDED,function(e,t,i){i!==a.panelRefreshed&&d(t)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initPriorityPickers.js' */
define("jira/field/init-priority-pickers",["jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t){function r(i){i.find("select#priority").each(function(i,n){new e({element:n,revertOnInvalid:!0})})}t.bind(n.NEW_CONTENT_ADDED,function(e,n,t){t!==i.panelRefreshed&&r(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initParentPickers.js' */
define("jira/field/init-parent-pickers",["jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,n,i,t){function s(n){n.find("select#parent").each(function(n,i){new e({element:i,revertOnInvalid:!0})})}t.bind(i.NEW_CONTENT_ADDED,function(e,i,t){t!==n.panelRefreshed&&s(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initInlineAttach.js' */
define("jira/field/init-inline-attach",["jquery","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/analytics","jira/jquery/plugins/attachment/inline-attach"],function(i,n,e,t,a){function r(i){i.find("input[type=file]:not('.ignore-inline-attach')").inlineAttach()}n.bind(e.NEW_CONTENT_ADDED,function(i,n,e){if(e!==t.panelRefreshed)try{r(n)}catch(i){a.send({name:"field.inline.attach.error",properties:{reason:i}})}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/issue/initIssueFields.js' */
require(["jira/skate","jira/ajs/select/single-select","jira/ajs/select/multi-select","jira/util/formatter","jquery"],function(e,t,l,s,a){e("single-select-issue-field",{type:e.type.CLASSNAME,attached:function(e){a(e).hasClass("aui-ss-select")||new t({element:e,revertOnInvalid:!0})}}),e("multi-select-issue-field",{type:e.type.CLASSNAME,attached:function(e){a(e).hasClass("multi-select-select")||new l({element:e,itemAttrDisplayed:"label",removeOnUnSelect:!1,submitInputVal:!0,errorMessage:"{0} is not a valid value.",maxInlineResultsDisplayed:15,expandAllResults:!0})}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/init/init-jira-fields-webresource.js' */
require("jira/field/init-cascading-selects"),require("jira/field/init-component-pickers"),require("jira/field/init-multi-select-pickers"),require("jira/field/init-date-pickers"),require("jira/field/init-legacy-group-pickers"),require("jira/field/init-issue-pickers"),require("jira/field/init-label-pickers"),require("jira/field/init-version-pickers"),require("jira/field/init-comment-controls"),require("jira/field/init-log-work-controls"),require("jira/field/init-priority-pickers"),require("jira/field/init-parent-pickers"),require("jira/field/init-inline-attach");try{const featureManager=require("jira/featureflags/feature-manager");featureManager.isFeatureEnabled("jira.teams.enable-new-custom-field-types")&&require("jira/field/team/init-pickers")}catch(i){const logger=require("jira/util/safe-logger");logger.safeError("webapp-webresources.init-jira-fields","Failed to require jira/field/team/init-pickers")};
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/quickform.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.QuickForm&&(JIRA.Templates.QuickForm={}),JIRA.Templates.QuickForm.field=function(e,i){return""+soy.$$filterNoAutoescape(e.editHtml)},JIRA.Templates.QuickForm.fieldPicker=function(e,i){return'<div class="qf-picker"><div class="qf-picker-header"><dl><dt>'+soy.$$escapeHtml("Show Fields:")+"</dt>"+(e.isConfigurable?'<dd><a class="qf-unconfigurable" href="#">'+soy.$$escapeHtml("All")+"</a></dd><dd>"+soy.$$escapeHtml("Custom")+"</dd>":"<dd>"+soy.$$escapeHtml("All")+'</dd><dd><a class="qf-configurable" href="#">'+soy.$$escapeHtml("Custom")+"</a></dd>")+'<div class="whereismycf-qfpicker-link" id="qf-picker-custom-link"/></dl></div><div class="qf-picker-content '+(e.isConfigurable?"":"qf-picker-unconfigurable")+'"></div><div class="qf-picker-footer"></div></div>'},JIRA.Templates.QuickForm.configurablePickerButton=function(e,i){return'<a title="'+soy.$$escapeHtml(e.label)+'" data-field-id="'+soy.$$escapeHtml(e.fieldId)+'" class="qf-picker-button'+(e.isActive?" qf-active":"")+'" href="#">'+soy.$$escapeHtml(e.label)+(e.required?'<span class="aui-icon icon-required"></span>':"")+"</a>"},JIRA.Templates.QuickForm.unconfigurablePickerButton=function(e,i){return'<span title="'+soy.$$escapeHtml(e.label)+'" data-field-id="'+soy.$$escapeHtml(e.fieldId)+'" class="qf-picker-button'+(e.isActive?" qf-active":"")+'" href="#">'+soy.$$escapeHtml(e.label)+(e.required?'<span class="aui-icon icon-required"></span>':"")+"</span>"},JIRA.Templates.QuickForm.errorMessage=function(e,i){return""+aui.message.error({closeable:"true",content:e.message})};;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/issue.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issue&&(JIRA.Templates.Issue={}),JIRA.Templates.Issue.editIssueError=function(e,t){return"<h2>"+soy.$$escapeHtml("Edit issue")+'</h2><div class="form-body">'+soy.$$filterNoAutoescape(e.errorHtml)+"</div>"},JIRA.Templates.Issue.editIssueForm=function(e,t){return'<form action="#" name="jiraform" class="aui"><h2>'+(e.showFieldConfigurationToolBar?JIRA.Templates.Issue.fieldConfigurationToolbar(null):"")+soy.$$filterNoAutoescape(e.title)+'</h2><div class="form-body"><input type="hidden" name="id" value="'+soy.$$escapeHtml(e.issueId)+'"/><input type="hidden" name="atl_token" value="'+soy.$$escapeHtml(e.atlToken)+'"/><input type="hidden" name="formToken" value="'+soy.$$escapeHtml(e.formToken)+'"/><input type="hidden" name="pid" value="'+soy.$$escapeHtml(e.pid)+'"/><div class="content">'+(e.fieldsHtml?soy.$$filterNoAutoescape(e.fieldsHtml):"")+(e.commentField?soy.$$filterNoAutoescape(e.commentField.editHtml):"")+'<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button aui-button-primary" id="edit-issue-submit" name="Edit" type="submit" value="'+soy.$$escapeHtml("Update")+'"/><a href="#" accesskey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="cancel">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"},JIRA.Templates.Issue.fieldConfigurationToolbar=function(e,t){return""+aui.toolbar2.toolbar2({extraClasses:"qf-form-operations",content:""+aui.toolbar2.item({item:"secondary",content:""+aui.buttons.button({text:" "+soy.$$escapeHtml("Configure fields"),id:"qf-field-picker-trigger",extraClasses:"toolbar-trigger",iconText:"Configure fields",iconType:"aui",iconClass:"aui-icon-small aui-iconfont-configure"})})})},JIRA.Templates.Issue.issueFields=function(e,t){var s="";if(e.hasTabs){s+='<div class="aui-tabs horizontal-tabs" id="horizontal"><ul class="tabs-menu">';for(var o=e.tabs,a=o.length,i=0;i<a;i++){var l=o[i];s+=l?'<li class="menu-item '+(l.isFirst?"first active-tab":"")+' "><a href="#tab-'+soy.$$escapeHtml(l.position)+'"><strong>'+soy.$$escapeHtml(l.label)+"</strong></a></li>":""}s+="</ul>";for(var n=e.tabs,r=n.length,c=0;c<r;c++){var u=n[c];if(u){s+='<div class="tabs-pane '+(u.isFirst?"active-pane":"")+'" id="tab-'+soy.$$escapeHtml(u.position)+'">';for(var m=u.fields,d=m.length,f=0;f<d;f++){var p=m[f];s+=p.editHtml?soy.$$filterNoAutoescape(p.editHtml):""}s+="</div>"}}s+="</div>"}else for(var $=e.fields,y=$.length,I=0;I<y;I++){var v=$[I];s+=v.editHtml?soy.$$filterNoAutoescape(v.editHtml):""}return s},JIRA.Templates.Issue.createIssueForm=function(e,t){var s='<form name="jiraform" action="#" class="aui"><h2>'+(e.showFieldConfigurationToolBar?JIRA.Templates.Issue.fieldConfigurationToolbar(null):"")+'<button class="aui-button" id="import-issues">'+soy.$$escapeHtml("Import issues")+"</button>"+soy.$$escapeHtml(e.title)+'</h2><div class="form-body">';if(e.issueSetupFields){s+='<div class="issue-setup-fields">';for(var o=e.issueSetupFields,a=o.length,i=0;i<a;i++){var l=o[i];s+='<div class="qf-field qf-field-'+soy.$$escapeHtml(l.id)+' qf-required" data-field-id="'+soy.$$escapeHtml(l.id)+'">'+soy.$$filterNoAutoescape(l.editHtml)+"</div>"}s+="</div>"}return s+=(e.parentIssueId?'<input type="hidden" name="parentIssueId" value="'+soy.$$escapeHtml(e.parentIssueId)+'"/>':"")+'<input type="hidden" name="atl_token" value="'+soy.$$escapeHtml(e.atlToken)+'"/><input type="hidden" name="formToken" value="'+soy.$$escapeHtml(e.formToken)+'"/><div class="content">'+(e.fieldsHtml?soy.$$filterNoAutoescape(e.fieldsHtml):"")+'<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons">'+(e.disallowCreateAnother?"":'<label for="qf-create-another" class="qf-create-another"><input id="qf-create-another" type="checkbox"'+(e.multipleMode?'checked="checked"':"")+" />"+soy.$$escapeHtml("Create another")+"</label>")+'<input accesskey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button aui-button-primary" id="create-issue-submit" name="Edit" type="submit" value="'+soy.$$escapeHtml("Create")+'"/><a href="#" accesskey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="cancel">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"},JIRA.Templates.Issue.checkBoxField=function(e,t){return'<fieldset class="group"><legend><span></span></legend><div class="checkbox"><input class="checkbox" type="checkbox" name="'+soy.$$escapeHtml(e.name)+'" id="'+soy.$$escapeHtml(e.name)+'" value="true" '+(e.checked?"checked":"")+'><label for="'+soy.$$escapeHtml(e.name)+'">'+soy.$$escapeHtml(e.label)+"</label></div></fieldset>"},JIRA.Templates.Issue.createIssueError=function(e,t){return"<h2>"+soy.$$escapeHtml("Create issue")+'</h2><div class="form-footer">'+soy.$$filterNoAutoescape(e.errorHtml)+"</div>"},JIRA.Templates.Issue.undealtErrors=function(e,t){for(var s="<div>"+soy.$$escapeHtml("There were some errors when trying to create this issue")+"</div><ul>",o=e.errors,a=o.length,i=0;i<a;i++){var l=o[i];s+="<li>"+soy.$$escapeHtml(l)+"</li>"}return s+="</ul>"};;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/form.js' */
define("quick-edit/templates/form",function(){return JIRA.Templates.QuickForm});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/issue.js' */
define("quick-edit/templates/issue",function(){return JIRA.Templates.Issue});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/extension-mixin.js' */
define("quick-edit/util/extension-mixin",["jquery"],function(e){"use strict";var t=function(t,i,n){return e(this).trigger(t,i),n&&this.globalEventNamespaces&&e.each(this.globalEventNamespaces,function(n,r){e(document).trigger(r+"."+t,i)}),this};return{triggerEvent:t}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/class.js' */
define("quick-edit/util/class",["quick-edit/util/extension-mixin","jira/lib/class"],function(i,e){return e.extend(i)});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/control.js' */
define("quick-edit/util/control",["quick-edit/util/extension-mixin","jira/ajs/control"],function(i,n){return n.extend(i)});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/dialog.js' */
define("quick-edit/util/dialog",["jira/dialog/dialog","jira/issue","jira/issuenavigator/issue-navigator"],function(e,i,t){"use strict";var u=JIRA.Issues,s=function(i){var t=e.current,u=t.$activeTrigger;if(u)return u.attr(i)},r=function(){var e=s("data-issueKey");return!e&&i.getIssueKey()&&(e=i.getIssueKey()),!e&&t.getSelectedIssueKey()&&(e=t.getSelectedIssueKey()),!e&&u&&(e=u.Api.getSelectedIssueKey()),e},a=function(e){var i=r();return i?e+": "+i:e},g=function(){return u||t.isNavigator()||s("data-issueKey")};return{getActionIssueKey:r,getAttrFromActiveTrigger:s,getIssueActionTitle:a,shouldShowIssueKeyInTitle:g}}),AJS.namespace("JIRA.Dialog.getActionIssueKey",null,require("quick-edit/util/dialog").getActionIssueKey),AJS.namespace("JIRA.Dialog.getAttrFromActiveTrigger",null,require("quick-edit/util/dialog").getAttrFromActiveTrigger),AJS.namespace("JIRA.Dialog.getIssueActionTitle",null,require("quick-edit/util/dialog").getIssueActionTitle),AJS.namespace("JIRA.Dialog.shouldShowIssueKeyInTitle",null,require("quick-edit/util/dialog").shouldShowIssueKeyInTitle);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/jira.js' */
define("quick-edit/util/jira",["quick-edit/templates/issue","jira/util/data/meta","aui/message","jquery"],function(e,r,t,a){"use strict";var i=function(e){var r,t,a,i=e.closest(".tabs-pane");i.length&&(t=i.closest(".aui-tabs"),r=i.attr("id"),a=t.find("a[href='#"+r+"']"),a.click())},s=function(e,r){u("error",e,AJS.escapeHtml(r),!1)},n=function(e,r){u("error",e,r,!1)},o=function(r,t){var s,o=[];a.each(t,function(e,t){var i,n,u=r.find(":input[name='"+e+"']").last();1===u.length?(s||(s=u),n=a("<div class='error' />").attr("data-field",e).text(t),i=u.closest(".field-group, .group"),i.find(".error").remove(),i.append(n)):0===u.length&&o.push(t)}),o.length>0&&n(r,e.undealtErrors({errors:o})),i(r.find(".error:first")),s&&s.focus()},u=function(e,r,i,s){var n=r.find(".aui-message-context");n.length||(n=a("<div class='aui-message-context' />"),n.prependTo(r.find(".form-body"))),n.empty(),t[e](n,{shadowed:!1,closeable:s,body:i})},c=function(e,r){return u("success",e,r,!0)},l=function(e){var r=a(e);return{html:r.not("script"),scripts:r.filter("script")}},p=function(e){return a.isFunction(e)?e:function(){return e}},d=function(){return r.get("keyboard-accesskey-modifier")},m=function(e){var r=JSON.parse(a('meta[name="ajs-product-editions"]').attr("content"));switch(r[e]){case"f":return"jedi";case"s":return"standard";case"p":return"premium";default:return"unlicensed"}},f=function(e){switch(e){case"business":return"jira-core";case"software":return"jira-software";case"service_desk":return"jira-servicedesk";default:return"unknown"}};return{activateTabWithChild:i,applyErrorMessageToForm:s,applyErrorMessageWithHTMLToForm:n,applyErrorsToForm:o,applyMessageToForm:u,applySuccessMessageToForm:c,getModifierKey:d,extractScripts:l,makePropertyFunc:p,getEdition:m,getApplication:f}}),AJS.namespace("JIRA.activateTabWithChild",null,require("quick-edit/util/jira").activateTabWithChild),AJS.namespace("JIRA.applyErrorMessageWithHTMLToForm",null,require("quick-edit/util/jira").applyErrorMessageWithHTMLToForm),AJS.namespace("JIRA.applyErrorMessageToForm",null,require("quick-edit/util/jira").applyErrorMessageToForm),AJS.namespace("JIRA.applyErrorsToForm",null,require("quick-edit/util/jira").applyErrorsToForm),AJS.namespace("JIRA.applyMessageToForm",null,require("quick-edit/util/jira").applyMessageToForm),AJS.namespace("JIRA.applySuccessMessageToForm",null,require("quick-edit/util/jira").applySuccessMessageToForm),AJS.namespace("JIRA.extractScripts",null,require("quick-edit/util/jira").extractScripts),AJS.namespace("JIRA.makePropertyFunc",null,require("quick-edit/util/jira").makePropertyFunc);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/hierarchy.js' */
define("quick-edit/util/hierarchy",[],function(){"use strict";var e=function(e){return{id:Number(e.id),aboveLevelId:e.aboveLevelId?Number(e.aboveLevelId):null,belowLevelId:e.belowLevelId?Number(e.belowLevelId):null}},l=function(l){return l.reduce(function(l,u){return l[u.id]=e(u),l},{})},u=function(e){var u=e.baseLevelId||null,n=e.sameLevelId||null,r=l(e.levels);if(!n||!u||void 0===r[n]||void 0===r[u])return null;if(n===u)return 0;for(var v=0,i=r[n].aboveLevelId,d=r[n].belowLevelId;null!==i||null!==d;){if(v+=1,i===u)return-v;if(d===u)return v;if(i=null!==i&&r[i]?r[i].aboveLevelId:null,d=null!==d&&r[d]?r[d].belowLevelId:null,i===n||d===n)return null}return null};return{getIssueTypeLevel:u}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field/configurable.js' */
define("quick-edit/form/field/configurable",["quick-edit/util/jira","quick-edit/util/control","quick-edit/templates/form","jira/util/events","jira/util/events/types","jquery"],function(e,t,i,r,n,s){"use strict";return t.extend({init:function(e){this.descriptor=e,this.$element=s("<div />").attr("id","qf-field-"+this.getId())},focus:function(){this.$element.find(":input:first").focus()},highlight:function(){var e=this;this.$element.css("backgroundColor","#fff").animate({backgroundColor:"lightyellow"},function(){e.$element.animate({backgroundColor:"#fff"},function(){e.$element.css("backgroundColor","")})})},getLabel:function(){return this.descriptor.label},getId:function(){return this.descriptor.id},activate:function(e){var t;this.active=!0,this.$element.addClass("qf-field-active").show(),this.$element.find("textarea").trigger("refreshInputHeight"),e||(t=this.render(),this.$element.append(t.scripts),this.focus(),r.trigger(n.NEW_CONTENT_ADDED,[this.$element]),this.$element.scrollIntoView(),this.triggerEvent("activated"))},hasVisibilityFeature:function(){return!!this.descriptor.hasVisibilityFeature},hasRetainFeature:function(){return!!this.descriptor.hasRetainFeature},isActive:function(){return this.active},disable:function(e){this.render(),this.active=!1,this.$element.removeClass("qf-field-active").hide(),e||this.triggerEvent("disabled")},render:function(){var t=i.field(this.descriptor),r=e.extractScripts(t);return this.$element.html(r.html).addClass("qf-field").data("model",this),{element:this.$element,scripts:r.scripts}}})}),AJS.namespace("JIRA.Forms.ConfigurableField",null,require("quick-edit/form/field/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/model.js' */
define("quick-edit/form/model",["quick-edit/util/class","jira/util/data/meta","jira/util/objects","jira/ajs/ajax/smart-ajax","jquery"],function(e,i,t,r,s){"use strict";return e.extend({init:function(e){this.userFieldsResource=e.userFieldsResource,this.fieldsResource=e.fieldsResource,this.retainedFields=[],this._hasRetainFeature=!1,this._hasVisibilityFeature=!0},getFieldsResource:function(){return this.fieldsResource},getAtlToken:function(){return this.atlToken},getPid:function(){return this.pid},isSimplified:function(){return this.simplified},getFormToken:function(){return this.formToken},getActiveFieldIds:function(){return this.getUserFields()},addFieldToRetainValue:function(e){if(!this._hasRetainFeature)throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]");this.removeFieldToRetainValue(e),this.retainedFields.push(e)},serializePreFilledFields:function(e){return s.param(s.extend(e,{preFillFields:!0}))},clearRetainedFields:function(){this.retainedFields=[]},removeFieldToRetainValue:function(e){if(!this._hasRetainFeature)throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]");var i=s.inArray(e,this.retainedFields);i!=-1&&this.retainedFields.splice(i,1)},getFieldsWithRetainedValues:function(){if(this._hasRetainFeature)return this.retainedFields;throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")},hasRetainedValue:function(e){if(this._hasRetainFeature)return s.inArray(e.id,this.retainedFields)!==-1;throw new Error("HasRetainedValue: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")},refresh:function(e){var i,t=this,n=s.Deferred();return e&&(i=e+"&retainValues=true"),!i&&this.preFilledFields&&(i=this.serializePreFilledFields(this.preFilledFields)),r.makeRequest({url:this.getFieldsResource(),type:"POST",data:i,success:function(e){t._update(e)},complete:function(e,i,r){r.successful?n.resolveWith(t,arguments):(t.triggerEvent("serverError",[r]),n.rejectWith(t,[r]))}}),n.promise()},_update:function(e){this.atlToken=e.atl_token,this.formToken=e.formToken,this.pid=e.pid,this.simplified=e.simplified,this.fields=e.fields,this.sortedTabs=e.sortedTabs,this.userPreferences=e.userPreferences},setFields:function(e){this.fields=e},getConfigurableFields:function(){return this.getFields()},getFields:function(){var e=this,i=s.Deferred();return this.fields?i.resolve(e.fields):this.refresh().done(function(){i.resolve(e.fields)}),i.promise()},_mungeTabs:function(e){var i=0,r=[];return s.each(e,function(e,s){i++,s.tab&&(r[s.tab.position]||(r[s.tab.position]=t.copyObject(s.tab)),0===s.tab.position&&(r[s.tab.position].isFirst=!0),r[s.tab.position].fields||(r[s.tab.position].fields=[]),r[s.tab.position].fields.push(t.copyObject(s)))}),r},getTabs:function(){var e=this,i=s.Deferred();return this.getFields().done(function(t){var r=e._mungeTabs(t);i.resolve(r)}),i.promise()},getSortedTabs:function(){var e=s.Deferred();return this.sortedTabs?e.resolve(this.sortedTabs):this.refresh().done(function(){e.resolve(this.sortedTabs)}),e.promise()},getUserFields:function(){var e=this,i=s.Deferred();return this.userPreferences?i.resolve(e.userPreferences.fields):this.refresh().done(function(){i.resolve(e.userPreferences.fields)}),i.promise()},setUserFields:function(e){var i={};return i.fields=e,this.updateUserPrefs(i)},hasRetainFeature:function(){return!!this._hasRetainFeature},hasVisibilityFeature:function(){return!!this._hasVisibilityFeature},getUseConfigurableForm:function(){var e=this,i=s.Deferred();return this.userPreferences?i.resolve(e.userPreferences.useQuickForm):this.refresh().done(function(){i.resolve(e.userPreferences.useQuickForm)}).fail(function(){i.reject()}),i.promise()},setUseConfigurableForm:function(e){var i={};return i.useQuickForm=e,this.updateUserPrefs(i)},updateUserPrefs:function(e){var t=s.Deferred(),n=this;return""===i.get("remote-user")?(t.done(),t.promise()):this.userPreferences?(e.fields||(e.fields=this.userPreferences.fields),"undefined"==typeof e.showWelcomeScreen&&(e.showWelcomeScreen=this.userPreferences.showWelcomeScreen),"undefined"==typeof e.useQuickForm&&(e.useQuickForm=this.userPreferences.useQuickForm),r.makeRequest({url:this.userFieldsResource,type:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json",complete:function(i,t,r){r.successful?n.userPreferences=e:n.triggerEvent("serverError",[r])}})):(t.reject(),t.promise())}})}),AJS.namespace("JIRA.Forms.Model",null,require("quick-edit/form/model"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/create-issue.js' */
define("quick-edit/form/model/create-issue",["quick-edit/form/model","wrm/context-path","jira/featureflags/feature-manager","underscore","jquery"],function(e,i,t,s,n){"use strict";return e.extend({DEFAULT_NON_RETAINED_FIELDS:["summary","description","timetracking","timetracking_originalestimate","timetracking_remainingestimate","worklog","worklog_startDate","worklog_timeLogged","worklog_newEstimate","worklog_adjustmentAmount","attachment"],CUSTOMFIELD_PATTERN:/^(customfield_(\d+))(?:|\:(?:\d+))$/,TIMETRACKING_PATTERN:/^timetracking_/,init:function(e){e=e||{},this.userFieldsResource=i()+"/rest/quickedit/1.0/userpreferences/create",this._hasRetainFeature=!0,this._hasVisibilityFeature=!0,this.retainedFields=[],this.dirtyFields=[],this.initIssueType=e.issueType,this.initProjectId=e.projectId,this.parentIssueId=e.parentIssueId,this.itsmCategory=e.itsmCategory,this.preFilledFields=e.fields,this.nonRetainedFields=this.DEFAULT_NON_RETAINED_FIELDS,e.nonRetainedFields&&(this.nonRetainedFields=s.union(e.nonRetainedFields,this.DEFAULT_NON_RETAINED_FIELDS))},getParentIssueId:function(){return this.parentIssueId},isInMultipleMode:function(){return this.multipleMode},setIsMultipleMode:function(e){this.multipleMode=e},getActiveFieldIds:function(){var e=this,i=n.Deferred(),t=[];return this.getUserFields().done(function(s){n.each(s,function(e,i){t.push(i)}),e.getRequiredFields().done(function(e){n.each(e,function(e,i){n.inArray(i.id,t)===-1&&t.push(i.id)}),i.resolve(t)})}),i.promise()},hasVisibilityFeature:function(e){return!e.required},getFieldsResource:function(){var e=i()+"/secure/QuickCreateIssue!default.jspa?decorator=none";return this.parentIssueId?e+"&parentIssueId="+this.parentIssueId:(this.initIssueType&&(e=e+"&issuetype="+this.initIssueType,delete this.initIssueType),this.itsmCategory&&(e=e+"&itsmCategory="+this.itsmCategory,delete this.itsmCategory),this.initProjectId&&(e=e+"&pid="+this.initProjectId,delete this.initProjectId),e)},addFieldToRetainValue:function(e,i){var t=!s.contains(this.nonRetainedFields,e),n=null!==e.match(/^filetoconvert/);(t||n||i)&&this._super(e)},getRequiredFields:function(){var e=n.Deferred(),i=[];return this.getFields().done(function(t){n.each(t,function(e,t){t.required&&i.push(t)}),e.resolve(i)}),e.promise()},getConfigurableFields:function(){var e=n.Deferred(),i=[];return this.getFields().done(function(t){n.each(t,function(e,t){"project"!==t.id&&"issuetype"!==t.id&&"com.atlassian.servicedesk:vp-origin"!==t.fieldType&&i.push(t)}),e.resolve(i)}),e.promise()},getIssueSetupFields:function(){var e=n.Deferred(),i=[];return this.getFields().done(function(t){n.each(t,function(e,t){"project"!==t.id&&"issuetype"!==t.id&&"com.atlassian.servicedesk:vp-origin"!==t.fieldType||i.push(t)}),e.resolve(i)}),e.promise()},markFieldAsDirty:function(e){e=this.normalizeCustomFieldId(e),this.fieldIsDirty(e)||this.dirtyFields.push(e)},unmarkFieldAsDirty:function(e){e=this.normalizeCustomFieldId(e),this.dirtyFields=this.dirtyFields.filter(function(i){return i!==e})},fieldIsDirty:function(e){return s.contains(this.dirtyFields,e)},isCustomFieldId:function(e){return e&&!!e.match(this.CUSTOMFIELD_PATTERN)},doesFieldSupportDefaultValue:function(e){var i=["description","environment"];return!!(this.isSimplified()&&i.indexOf(e)>-1)||this.isCustomFieldId(e)},isTimetrackingFieldId:function(e){return e&&!!e.match(this.TIMETRACKING_PATTERN)},normalizeCustomFieldId:function(e){return this.isCustomFieldId(e)?e.match(this.CUSTOMFIELD_PATTERN)[1]:e},normalizeFieldParam:function(e,i){return"filetoconvert"==e?e+"-"+i:this.isCustomFieldId(e)?this.normalizeCustomFieldId(e):this.isTimetrackingFieldId(e)?"timetracking":e}})}),AJS.namespace("JIRA.Forms.CreateIssueModel",null,require("quick-edit/form/model/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/edit-issue.js' */
define("quick-edit/form/model/edit-issue",["quick-edit/form/model","underscore","jquery"],function(e,i,r){"use strict";return e.extend({getUnconfigurableTabs:function(){var e=this,i=r.Deferred();return e.getTabs().done(function(e){var n=e.slice(0);n[0].fields=n[0].fields.slice(0),r.each(n[0].fields,function(e,i){if("comment"===i.id)return n[0].fields.splice(e,1),!1}),i.resolve(n)}),i.promise()},getCommentField:function(){var e=r.Deferred();return this.getFields().done(function(i){r.each(i,function(i,r){"comment"===r.id&&e.resolve(r)}),e.reject()}),e.promise()}})}),AJS.namespace("JIRA.Forms.EditIssueModel",null,require("quick-edit/form/model/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/factory/edit-issue.js' */
define("quick-edit/form/model/factory/edit-issue",["quick-edit/form/model/edit-issue","wrm/context-path"],function(e,i){"use strict";return function(s){return new e({fieldsResource:i()+"/secure/QuickEditIssue!default.jspa?issueId="+s+"&decorator=none",userFieldsResource:i()+"/rest/quickedit/1.0/userpreferences/edit"})}}),AJS.namespace("JIRA.Forms.Model.createQuickEditIssueModel",null,require("quick-edit/form/model/factory/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/helper/helper.js' */
define("quick-edit/form/helper/helper",["quick-edit/util/jira","quick-edit/form/model","quick-edit/util/class","jira/jquery/plugins/isdirty","jira/util/events","jira/dialog/dialog","underscore","jquery","jira/ajs/ajax/smart-ajax","wrm/context-path","jira/analytics/web-client"],function(e,t,i,r,n,s,o,a,u,l,c){"use strict";var d=AJS.escapeHTML;return i.extend({init:function(e){this.form=e},handleSubmitSuccess:function(t){function i(e,t,i){var r='<a href="'+i+'">'+e+" - "+d(t)+"</a>";return AJS.format("Issue {0} has been successfully created",r)}var r=this,n=this.form.$element.find("#summary").val();t.summary=n,this.form.triggerEvent("submitted",[t,this]),this.form.triggerEvent("issueCreated",[t,this],!0),r.form.model.isInMultipleMode()?(r.form.model.unmarkFieldAsDirty("description"),this.form.render().done(function(){var s=i(t.issueKey,n,l()+"/browse/"+t.issueKey);e.applySuccessMessageToForm(r.form.getForm(),s)})):this.form.triggerEvent("sessionComplete")},sendEvent:function(e,t,i,r,n){e>=500?c.sendOperationalEvent({source:"ui",actionSubject:"ui",action:"taskFail",attributes:Object.assign({task:"createIssue",edition:i,application:t,analyticsSource:"QuickCreateForm",errorMessage:r?e.toString()+" - "+r:e.toString()},n)}):e>=400&&e<500&&c.sendOperationalEvent({source:"ui",actionSubject:"ui",action:"taskSuccess",attributes:Object.assign({task:"createIssue",isCreated:!1,edition:i,application:t,analyticsSource:"QuickCreateForm"},n)})},sendExperienceEventOnSubmitError:function(t){var i,r=this,n={};try{if(t&&t.responseText&&t.getResponseHeader){const s=t.getResponseHeader("Content-Type");if(s.includes("json")){var o=JSON.parse(t.responseText);o&&(i=o.errorMessages&&o.errorMessages[0])}else if(s.includes("html")){const c=t.responseText.match(/^.+Log reference: <strong>(.+)<\/strong><\/li>.+$/);null!=c&&2===c.length?(i="html response",n.log_reference=c[1]):i="error parsing html response (likely HTTP 429 or connection dropped)"}else i=s+" response"}}catch(e){i=e.message}u.makeRequest({type:"GET",contentType:"application/json",url:l()+"/rest/api/2/project/"+a('[data-field-id="project"] input.project-field[name="pid"]').val(),success:function(s){var o=e.getApplication(s.projectTypeKey),a=e.getEdition(o);r.sendEvent(t.status,o,a,i,n)},error:function(){r.sendEvent(t.status,"unknown","unknown",i,n)}})},getCreateAnotherCheckbox:function(){return this.form.$element.find("#qf-create-another")},isInMultipleMode:function(){return this.getCreateAnotherCheckbox().is(":checked")},getProjectField:function(){return this.form.$element.find(".issue-setup-fields #project")},getIssueTypeField:function(){return this.form.$element.find(".issue-setup-fields #issuetype")},getRequestOrIssueTypeField:function(){return this.form.$element.find("#request-or-issue-type-field")},getRequestTypeField:function(){return this.form.$element.find(".issue-setup-fields .request-type-field")},serializeForToggle:function(e){if(!this.form.model.hasRetainFeature())return this.form.getForm().serialize();var t=this.form.model.prevActiveFields||[],i=this.form.getForm().serializeArray(),r=function(e){return this.form.model.normalizeFieldParam(e.name,e.value)}.bind(this),n=this.form.getActiveFieldIds(),s=a.grep(i,function(e){return a.inArray(r(e),n)!==-1}),o=a.grep(t,function(e){return a.inArray(r(e),n)===-1}),u=a.map(o,function(e){return r(e)}),l=a.merge(s,o),c=a.merge(n,u);this.form.model.prevActiveFields=a.extend(!0,[],l),e&&(c=this.executeProjectChangedSecuritySettingAction(c)),c=c.filter(function(e){return!this.form.model.doesFieldSupportDefaultValue(e)||this.form.model.fieldIsDirty(e)}.bind(this));var d=a.merge([{name:"retainValues",value:!0}],l);return a.each(i,function(e,t){"pid"!==t.name&&"issuetype"!==t.name||d.push(t)}),d.push({name:"toggle",value:!0}),a.each(c,function(e,t){d.push({name:"fieldsToRetain",value:t})}),d.push({name:"formToken",value:this.form.model.getFormToken()}),a.param(d)},executeProjectChangedSecuritySettingAction:function(e){return o.reject(e,function(e){return"security"===e})},prepareFieldsToRetain:function(e,t){return a.each(e,function(e,i){t.push({name:"fieldsToRetain",value:i})}),t},setIssueType:function(){var e=this,t=this.serializeForToggle();this.form.invalidateFieldsCache(),this.form.disable(),this.form.render(t).done(function(){e.form.enable()})},setProjectId:function(){var e=this,t=this.serializeForToggle(!0);this.form.invalidateFieldsCache(),this.form.disable(),this.form.render(t).done(function(){e.form.enable()})},setRequestType:function(e,t){var i=this.getRequestTypeField(),r=this.getIssueTypeField();i.length&&(i.attr("value",e),this.form.model.markFieldAsDirty(i.attr("id"))),r.attr("value")!==t&&(r.attr("value",t),r.change())},saveFormDirtyStatus:function(){this.form.isDirty=this.form.getForm().isDirty()},restoreFormDirtyStatus:function(){this.form.isDirty&&this.form.getForm().addClass(r.ClassNames.BY_DEFAULT)},decorate:function(){var e=this;this.getProjectField().change(function(){e.saveFormDirtyStatus(),n.trigger("dialogBeforeContentChange",["projectId",this.value,s.current.options.id]),e.setProjectId(this.value)}),this.getIssueTypeField().change(function(){e.saveFormDirtyStatus(),n.trigger("dialogBeforeContentChange",["issueType",this.value,s.current.options.id]),e.setIssueType(this.value)}),this.getCreateAnotherCheckbox().change(function(){e.form.model.setIsMultipleMode(this.checked)});var t=this.getRequestOrIssueTypeField();t.length&&t.change(function(){var t=this,i=a(t),r=o.flatten(o.map(i.data("options"),function(e){return e.items||e})),n=o.find(r,function(e){return e.value===t.value});n&&e.setRequestType(n.payload.requestTypeKey,n.payload.issueTypeId)})},decorateFields:function(){var e=this;this.form.$element.find('*[id^="customfield_"]').off("change.customField").on("change.customField",function(){e.form.model.isCustomFieldId(this.name)&&e.form.model.markFieldAsDirty(this.name)}),this.form.$element.find("textarea#description").on("change",function(){e.form.model.markFieldAsDirty(this.name)}),this.form.$element.find("textarea#environment").on("change",function(){e.form.model.markFieldAsDirty(this.name)})},sendQuickEditAnalyticsEvent:function(e){var t,i,r=e.instance,n=e.name,s=e.actionSubjectId,o=e.action,a=e.source,u=e.actionSubject,l=e.fieldAction,d=r.model.fields.map(function(e){return{id:e.id,required:e.required}});e.field&&(i={id:e.field.descriptor.id,required:e.field.descriptor.required}),r.model.getActiveFieldIds().then(function(r){t=d.filter(function(e){return r.some(function(t){return t===e.id})});var f={allFieldsShown:e.allFieldsShown,field:JSON.stringify(i),allFields:JSON.stringify(d),displayedFields:e.allFieldsShown?JSON.stringify(d):JSON.stringify(t),fieldAction:l};AJS.trigger("analyticsEvent",{name:n,data:f}),c.sendUIEvent({source:a,actionSubjectId:s,actionSubject:u,action:o,attributes:f})})}})}),AJS.namespace("JIRA.Forms.CreateIssueHelper",null,require("quick-edit/form/helper/helper"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/abstract.js' */
define("quick-edit/form/abstract",["quick-edit/util/jira","quick-edit/util/control","jira/ajs/ajax/smart-ajax","jira/dialog/form-dialog","jira/dialog/dialog","jira/util/events/types","jira/util/events","jira/util/browser","jquery","underscore"],function(e,t,i,r,n,s,a,o,d,l){"use strict";var u=AJS.extractBodyFromResponse,c=AJS.log;return t.extend({submit:function(){var e=this;return e.getForm().addClass("submitting"),this.triggerEvent("submitting",[],!0),i.makeRequest({url:this.getAction(),type:"POST",beforeSend:function(){e.disable()},data:this.serialize(),complete:function(t,i,n){var s=n.data;if(e.getForm().find(".aui-message-context").remove(),e.enable(),e.getForm().find(".error").remove(),n.successful)if(e.performAnalytics(),s&&s.fields&&(e.invalidateFieldsCache(),e.model.setFields(s.fields)),"string"==typeof s){var a=d(u(s)),o=a.find("#atl_token").val();o&&(e.model.atlToken=o,e.getForm().find('input[name="atl_token"]').val(o));var l=new r({offsetTarget:"body",content:a});l._handleServerSuccess=function(){l.prev&&(l.prev._removeStackState(),l.prev._resetWindowTitle(),l._removeStackState()),l.hide(),e.triggerEvent("sessionComplete",[],!0),e.handleSubmitSuccess()},l._handleServerError=function(t){l.hide(),e.handleSubmitError(t)},l.show()}else e.handleSubmitSuccess(n.data);else e.handleSubmitError(t);e.getForm().removeClass("submitting")}})},disable:function(){this.getForm().find(":input").attr("disabled","disabled").trigger("disable"),this.getForm().find(":submit").attr("disabled","disabled")},enable:function(){this.getForm().find(":input").removeAttr("disabled").trigger("enable"),this.getForm().find(":submit").removeAttr("disabled")},getActiveFieldIds:function(){throw new Error("getActiveFieldIds: Abstract, must be implemented by sub class")},serialize:function(e){var t=this,i=this.getForm().serialize();return this.model.isInMultipleMode&&this.model.isInMultipleMode()&&(i+="&multipleMode=true"),this.model.hasRetainFeature()&&(this.model.clearRetainedFields(),d.each(this.getActiveFieldIds(),function(i,r){t.model.addFieldToRetainValue(r,e)}),d.each(this.model.getFieldsWithRetainedValues(),function(e,t){i=i+"&fieldsToRetain="+t})),i},invalidateFieldsCache:function(){delete this.fields},setInitialFocus:function(){this.getFormContent().find(":input:first").focus()},handleSubmitSuccess:function(){this.triggerEvent("submitted"),o.reloadViaWindowLocation()},performAnalytics:function(){var e=function(e,t){var i="***** Analytics log ["+e+"]";t&&(i+="["+JSON.stringify(t)+"]"),c(i),AJS.EventQueue&&AJS.EventQueue.push({name:e,properties:t||{}})},t=function(e){var t={},i=l.filter(e,function(e){return!l.contains(["isCreateIssue","isEditIssue","atl_token","hasWorkStarted"],e.name)}),r=l.filter(i,function(e){return""!=e.value});return l.each(r,function(e){var i=e.name;l.has(t,i)||(t[i]=[]),t[i].push(e.value)}),t};this.previousAnalytics=function(i,r){var s=t(i),a=l.keys(s),o=l.keys(r.data),d=l.difference(a,o),u=l.difference(o,a),c=l.intersection(o,a),m=l.filter(c,function(e){return l.isEqual(r.data[e],s[e])}),f=l.difference(c,m),h=r.count+1,g="edit-issue-dialog"===n.current.options.id,v={"atlassian.numCreates":h,"edit.form":g};return l.each(d,function(e){v[e]="added"}),l.each(u,function(e){v[e]="removed"}),l.each(m,function(e){v[e]="same"}),l.each(f,function(e){v[e]="changed"}),e("quick.create.fields",v),{data:s,count:h}}(this.getForm().serializeArray(),this.previousAnalytics||{data:{},count:0})},addErrorMessage:function(t){e.applyErrorMessageToForm(this.getForm(),[t])},handleSubmitError:function(t){var r,n=this;if(t.responseText){try{r=JSON.parse(t.responseText)}catch(e){}if(r){r.errorMessages&&r.errorMessages.length&&e.applyErrorMessageToForm(this.getForm(),r.errorMessages[0]),r&&r.errors&&400===t.status&&(this.getFieldById&&d.each(r.errors,function(e){/^timetracking/.test(e)?n.getFieldById("timetracking").done(function(e){a.trigger(s.VALIDATE_TIMETRACKING,[n.$element]),e.activate(!0)}):/^worklog/.test(e)?n.getFieldById("worklog").done(function(e){a.trigger(s.VALIDATE_TIMETRACKING,[n.$element]),e.activate(!0)}):n.getFieldById(e).done(function(e){e.activate(!0)})}),e.applyErrorsToForm(this.getForm(),r.errors),this.triggerEvent("validationError",[this,r.errors],!0));var o=n.$element.find(".error");o.length&&o[0].scrollIntoView(!1)}}else{var l=i.SmartAjaxResult(t,void 0,t.statusText,"",!1,void 0),u=i.buildSimpleErrorContent(l);n.addErrorMessage(u)}},getAction:function(){return this.action},getFormContent:function(){return this.$element.find("div.content")},getForm:function(){return this.$element.find("form")},createField:function(){throw new Error("AbstractForm: You must implement [createField] method in subclass.")},_getActiveAttachments:function(e){var t=[];if(!e)return t;for(var i=e.split("&"),r=0;r<i.length;r++){var n=i[r].split("=");"filetoconvert"==n[0]&&t.push(n[1])}return t},_setActiveAttachments:function(e){var t=this.$element.find("input[name=filetoconvert]");t.each(function(){var t=d(this),i=l.contains(e,t.attr("value"));t.prop("checked",i)})},render:function(e){var t=d.Deferred(),i=this,r=i._getActiveAttachments(e);return e?(this.invalidateFieldsCache(),this.model.refresh(e).done(function(){i._render().done(function(e,r){i.triggerEvent("rendered",[i.$element]),t.resolveWith(i,[i.$element,r])})})):i._render().done(function(e,r){i.triggerEvent("rendered",[i.$element]),t.resolveWith(i,[i.$element,r])}),t.always(function(){i._setActiveAttachments(r)}),t.promise()}})}),AJS.namespace("JIRA.Forms.AbstractForm",null,require("quick-edit/form/abstract"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/configurable.js' */
define("quick-edit/form/abstract/configurable",["quick-edit/form/abstract","quick-edit/form/field/configurable","quick-edit/form/helper/helper","jquery"],function(e,i,t,n){"use strict";return e.extend({getFields:function(){var e=n.Deferred(),i=this;return this.fields?e.resolveWith(this,[this.fields]):(this.fields=[],this.model.getConfigurableFields().done(function(t){n.each(t,function(e,t){var n=i.createField(t);i.fields.push(n)}),e.resolveWith(i,[i.fields])})),e.promise()},getActiveFieldIds:function(){var e=[],i=this.$element.find(".qf-field.qf-field-active:not(.qf-required), .qf-field.qf-required:not(.qf-field-active)");return n.each(i,function(i,t){var d=n(t),r=d.data("model"),c=d.data("field-id")||r&&r.getId();null!=c&&e.push(c),"attachment"===c&&d.find("input[name=filetoconvert]").each(function(){e.push(this.id)})}),e},createField:function(e){e.hasVisibilityFeature=this.model.hasVisibilityFeature(e),this.model.hasRetainFeature(e)&&(e.hasRetainFeature=!0,e.retainValue=this.model.hasRetainedValue(e));var n=this,d=new i(e),r=new t(n),c=n&&n.globalEventNamespaces&&n.globalEventNamespaces.length>0?n.globalEventNamespaces[0]:null;return e.hasVisibilityFeature&&d.bind("activated",function(){n.model.setUserFields(n.getActiveFieldIds()),d.highlight(),n.triggerEvent("QuickForm.fieldAdded",[d]);try{r.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.added",action:"changed",actionSubject:"checkbox",actionSubjectId:"toggleField",fieldAction:"added",source:c,field:d,instance:n})}catch(e){}}).bind("disabled",function(){n.model.setUserFields(n.getActiveFieldIds()),n.triggerEvent("QuickForm.fieldRemoved",[d]);try{r.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.removed",action:"changed",actionSubject:"checkbox",actionSubjectId:"toggleField",fieldAction:"removed",source:c,field:d,instance:n})}catch(e){}}),d},getFieldById:function(e){var i=this,t=n.Deferred();return this.getFields().done(function(d){n.each(d,function(n,d){d.getId()===e&&t.resolveWith(i,[d])}),t.rejectWith(i,[])}),t.promise()},hasNoVisibleFields:function(){var e=n.Deferred();return e.resolve(0===this.getActiveFieldIds().length),e.promise()},renderFormContents:function(){var e=n.Deferred(),i=n(),t=this;return t.getFields().done(function(d){var r=t.reorderFieldsToRender(d);t.model.getActiveFieldIds().done(function(d){n.each(r,function(){var e=this.render();i=i.add(e.scripts),t.getFormContent().append(e.element)}),n.each(d,function(e,i){n.each(r,function(){this.getId()===i&&this.activate(!0)})}),n.each(r,function(){this.isActive()||this.disable(!0)}),t.hasNoVisibleFields().done(function(n){if(n===!0)for(var d=0;d<3;d++)r[d]&&r[d].activate(!0);e.resolveWith(this,[t.$element,i])})})}),e.promise()},reorderFieldsToRender:function(e){return e}})}),AJS.namespace("JIRA.Forms.AbstractConfigurableForm",null,require("quick-edit/form/abstract/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/unconfigurable.js' */
define("quick-edit/form/abstract/unconfigurable",["quick-edit/form/abstract","quick-edit/templates/issue","jquery"],function(e,t,i){"use strict";return e.extend({getFieldsHtml:function(){var e=this,s=i.Deferred(),n={};return this.model.getTabs().done(function(i){1===i.length?n.fields=i[0].fields:(n.tabs=i,n.hasTabs=!0),s.resolveWith(e,[t.issueFields(n)])}),s.promise()},getActiveFieldIds:function(){var e=[];if(this.model.getFields().done(function(t){i.each(t,function(t,i){e.push(i.id)})}),e.indexOf("attachment")){var t=this.$element.find("input[name=filetoconvert]").map(function(e,t){return t.id}).toArray();e.push.apply(e,t)}return e},getFields:function(){var e=i.Deferred(),t=this;return this.fields?e.resolveWith(this,[this.fields]):(this.fields=[],this.model.getFields().done(function(s){i.each(s,function(e,i){var s=t.createField(i);t.fields.push(s)}),e.resolveWith(t,[t.fields])})),e.promise()}})}),AJS.namespace("JIRA.Forms.AbstractUnconfigurableForm",null,require("quick-edit/form/abstract/unconfigurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/create-issue.js' */
define("quick-edit/form/configurable/create-issue",["quick-edit/form/abstract/configurable","quick-edit/form/helper/helper","quick-edit/templates/issue","quick-edit/util/jira","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(e,t,i,r,s,o,n){"use strict";return e.extend({init:function(e){this.model=e.model,this.helper=new t(this),this.globalEventNamespaces=e.globalEventNamespaces||[],this.issueId=e.issueId,this.title=e.title,this._serialization={},this.action=o()+"/secure/QuickCreateIssue.jspa?decorator=none",this.$element=n("<div />").addClass("qf-form qf-configurable-form")},handleSubmitSuccess:function(e){return this.helper.handleSubmitSuccess(e)},handleSubmitError:function(t){e.prototype.handleSubmitError.call(this,t),this.helper.sendExperienceEventOnSubmitError(t)},_render:function(){var e=n.Deferred(),t=this;return t.model.getIssueSetupFields().done(function(o){var n=i.createIssueForm({issueSetupFields:o,atlToken:t.model.getAtlToken(),formToken:t.model.getFormToken(),isConfigurable:!0,title:t.title,parentIssueId:t.model.getParentIssueId(),multipleMode:t.model.isInMultipleMode(),showFieldConfigurationToolBar:!s.isAnonymous(),modifierKey:r.getModifierKey()});t.$element.html(n),t.helper.decorate(),t.renderFormContents().done(function(i,r){t.helper.decorateFields(),e.resolveWith(t,[t.$element,r])}),t.bind("QuickForm.fieldAdded",function(){t.helper.decorateFields()})}),e.promise()}})}),AJS.namespace("JIRA.Forms.ConfigurableCreateIssueForm",null,require("quick-edit/form/configurable/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/edit-issue.js' */
define("quick-edit/form/configurable/edit-issue",["quick-edit/form/abstract/configurable","quick-edit/util/jira","quick-edit/templates/issue","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(e,t,i,s,n,o){"use strict";return e.extend({init:function(e){this.model=e.model,this.globalEventNamespaces=e.globalEventNamespaces||[],this.issueId=e.issueId,this.title=e.title,this.action=n()+"/secure/QuickEditIssue.jspa?issueId="+e.issueId+"&decorator=none",this.$element=o("<div />").addClass("qf-form qf-configurable-form")},handleSubmitSuccess:function(e){this.triggerEvent("submitted",[e]),this.triggerEvent("issueEdited",[e],!0),this.triggerEvent("sessionComplete")},hasNoVisibleFields:function(){var e=o.Deferred(),t=this.getActiveFieldIds();return this.model.getUserFields().done(function(i){1===i.length&&"comment"===i[0]?e.resolve(!1):0===t.length||1===t.length&&"comment"===t[0]?e.resolve(!0):e.resolve(!1)}),e.promise()},_render:function(){var e=o.Deferred(),n=this,r=i.editIssueForm({issueId:this.issueId,title:this.title,atlToken:n.model.getAtlToken(),formToken:n.model.getFormToken(),pid:n.model.getPid(),isConfigurable:!0,modifierKey:t.getModifierKey(),showFieldConfigurationToolBar:!s.isAnonymous()});return this.$element.html(r),n.renderFormContents().done(function(t,i){n.getFieldById("comment").done(function(e){n.getFormContent().append(e.$element)}),e.resolveWith(n,[n.$element,i])}),e.promise()}})}),AJS.namespace("JIRA.Forms.ConfigurableEditIssueForm",null,require("quick-edit/form/configurable/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/configurable.js' */
define("quick-edit/form/field-picker/button/configurable",["quick-edit/util/control","quick-edit/templates/form"],function(e,i){"use strict";return e.extend({init:function(e){var i=this;this.field=e.field,this.field.bind("disabled",function(){i.$element.removeClass("qf-active")}).bind("activated",function(){i.$element.addClass("qf-active")})},toggle:function(){this.field.isActive()?this.field.disable():this.field.activate()},getId:function(){return this.field.getId()},render:function(){return this.$element=jQuery(i.configurablePickerButton({required:this.field.descriptor.required,label:this.field.getLabel(),fieldId:this.field.getId(),isActive:this.field.isActive()})),this._assignEvents("button",this.$element),this.$element},_events:{button:{click:function(e){this.toggle(),e.preventDefault()}}}})}),AJS.namespace("JIRA.Forms.FieldPicker.ConfigurableButton",null,require("quick-edit/form/field-picker/button/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/unconfigurable.js' */
define("quick-edit/form/field-picker/button/unconfigurable",["quick-edit/util/control","quick-edit/templates/form","jquery"],function(e,i,t){"use strict";return e.extend({init:function(e){this.descriptor=e},render:function(){return this.$element=t(i.unconfigurablePickerButton({required:this.descriptor.required,label:this.descriptor.label,fieldId:this.descriptor.id,isActive:!0})),this.$element}})}),AJS.namespace("JIRA.Forms.FieldPicker.UnconfigurableButton",null,require("quick-edit/form/field-picker/button/unconfigurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/field-picker.js' */
define("quick-edit/form/field-picker",["quick-edit/form/field-picker/button/configurable","quick-edit/form/field-picker/button/unconfigurable","quick-edit/templates/form","quick-edit/util/control","aui/inline-dialog","jquery"],function(i,e,n,t,o,l){"use strict";return t.extend({INLINE_DIALOG_ID:"field_picker_popup",init:function(){this.buttons=[]},switchToAll:function(i){this.isConfigurable=!1,i!==!0&&(this.hideCallback=function(){this.remove()},this.inlineDialog.hide(),this.triggerEvent("switchedToAll"))},setForm:function(i){this.form=i},switchToCustom:function(i){this.isConfigurable=!0,i!==!0&&(this.hideCallback=function(){this.remove()},this.inlineDialog.hide(),this.triggerEvent("switchedToCustom"))},hideCallback:function(){},bindInlineDialog:function(){function i(i,t,o){e.render().done(function(e){0===i.find(".qf-picker").length&&(i.html(e),i.click(function(i){i.stopPropagation()}));var t=n.offset().top-l(window).scrollTop(),s=l(window).height(),r=s-t-110;i.find(".qf-picker-content").css("maxHeight",r),this.form.model.isSimplified()?i.find("#qf-picker-custom-link").hide():i.find("#qf-picker-custom-link").show(),o()})}var e=this,n=this.getInlineDialogTrigger();return this.inlineDialog&&this.inlineDialog.remove(),this.inlineDialog=o(n,this.INLINE_DIALOG_ID,i,{width:450,upfrontCallback:function(){n.parent().addClass("active")},hideCallback:function(){n.parent().removeClass("active")},nobind:!0}),n.click(function(i){l("#inline-dialog-"+e.INLINE_DIALOG_ID).is(":visible")?e.inlineDialog.hide():e.inlineDialog.show()}),this.inlineDialog},getInlineDialogTrigger:function(){return this.form.$element.find("#qf-field-picker-trigger")},renderButtons:function(n){var t=this,o=l('<ul class="qf-picker-buttons" />').appendTo(this.$content);l.each(n,function(n,s){var r,c;t.isConfigurable?t.form.getFieldById(s.id).done(function(e){if(e&&e.hasVisibilityFeature()){var n=l("<li />").appendTo(o),s=new i({field:e});s.render().appendTo(n),t.buttons.push(s)}}):(c=new e(s),r=l("<li />").appendTo(o),c.render().appendTo(r))}),0===o.children().length&&o.addClass("qf-no-fields").append("<li><em>"+"No fields can be configured for this tab"+"</em></li>")},renderContents:function(){var i=this,e=l.Deferred();return this.form.model.getSortedTabs().done(function(n){1===n.length?i.renderButtons(n[0].fields):l.each(n,function(e,n){n.fields.length>0&&(l("<h4><span></span></h4>").appendTo(i.$content).find("span").text(n.label),i.renderButtons(n.fields))}),e.resolveWith(i,[i.$element])}),e.promise()},show:function(){this.inlineDialog.show()},render:function(){return this.$element=l(n.fieldPicker({isConfigurable:this.isConfigurable})),this.$content=this.$element.find(".qf-picker-content"),this._assignEvents("switchToCustom",this.$element.find(".qf-configurable")),this._assignEvents("switchToAll",this.$element.find(".qf-unconfigurable")),this.renderContents()},_events:{switchToCustom:{click:function(i){this.switchToCustom(),i.preventDefault()}},switchToAll:{click:function(i){this.switchToAll(),i.preventDefault()}}}})}),AJS.namespace("JIRA.Forms.FieldPicker",null,require("quick-edit/form/field-picker"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/container/container.js' */
define("quick-edit/form/container",["quick-edit/form/field-picker","quick-edit/form/import-issues","quick-edit/util/jira","quick-edit/util/control","quick-edit/form/helper/helper","jira/dialog/form-dialog","jira/dialog/dialog","jira/util/navigator","jira/issue","jira/issuenavigator/issue-navigator","jquery","wrm/require"],function(e,i,t,n,r,o,s,c,a,l,u,d){"use strict";return n.extend({init:function(i){this.$element=u("<div />").addClass("qf-container"),this.options=t.makePropertyFunc(i),this.fieldPicker=new e,this.successData=[],this.helper=new r(this);var n=this;d(["wr!com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api"]).then(function(){n.metrics=require("internal/browser-metrics")})},decorateRenderers:function(){var e=this,t=e.globalEventNamespaces&&e.globalEventNamespaces.length>0?e.globalEventNamespaces[0]:null;this.fieldPicker.decorated||(this.fieldPicker.bind("switchedToAll",function(){e.unconfigurableForm.render(e.currentView.serialize(!0)).done(function(){e.fieldPicker.show()}),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"switchAllButton",action:"clicked",source:t,name:"quickeditform.switched.all",allFieldsShown:!0,instance:e})}),this.fieldPicker.bind("switchedToCustom",function(){e.configurableForm.render(e.currentView.serialize(!0)).done(function(){e.fieldPicker.show()}),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"switchCustomButton",action:"clicked",source:t,name:"quickeditform.switched.custom",allFieldsShown:!1,instance:e})}),this.fieldPicker.decorated=!0),this.configurableForm.decorated||(this.configurableForm.bind("rendered",function(t,n){e.currentView=e.configurableForm,e.fieldPicker.switchToCustom(!0),e.fieldPicker.setForm(e.configurableForm),e.fieldPicker.bindInlineDialog(),i.setForm(e.configurableForm),i.bindImportIssueUrl(),e.applyGlobalDecorator(n),e.model.setUseConfigurableForm(!0),e.triggerEvent("configurableFormRendered")}),this.configurableForm.bind("submitted",function(i,n){e.successData.push(n),e.triggerEvent("configurableFormSubmitted"),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"submit",action:"clicked",source:t,name:"quickeditform.submit.success",allFieldsShown:!1,instance:e})}),this.configurableForm.bind("issueCreated",function(i,t){e.triggerEvent("issueCreated",t),e.metrics&&e.metrics.end({key:"jira.create.issue.dialog.submit"})}),this.configurableForm.decorated=!0),this.unconfigurableForm.decorated||(this.unconfigurableForm.bind("rendered",function(t,n){e.fieldPicker.switchToAll(!0),e.fieldPicker.setForm(e.unconfigurableForm),e.fieldPicker.bindInlineDialog(),i.setForm(e.unconfigurableForm),i.bindImportIssueUrl(),e.currentView=e.unconfigurableForm,e.applyGlobalDecorator(n),e.model.setUseConfigurableForm(!1),e.triggerEvent("unconfigurableFormRendered")}),this.unconfigurableForm.bind("submitted",function(i,n){e.successData.push(n),e.triggerEvent("unconfigurableFormSubmitted"),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"submit",action:"clicked",source:t,name:"quickeditform.submit.success",allFieldsShown:!0,instance:e})}),this.unconfigurableForm.bind("issueCreated",function(i,t){e.triggerEvent("issueCreated",t),e.metrics&&e.metrics.end({key:"jira.create.issue.dialog.submit"})}),this.unconfigurableForm.decorated=!0)},applyGlobalDecorator:function(e){function i(){t.currentView.setInitialFocus&&t.currentView.setInitialFocus()}var t=this;e.detach(),this.$element.html(e),this.triggerEvent("contentRefreshed",[this.$element]),c.isIE()?window.setTimeout(i,0):i()},asDialog:function(e){e=u.extend(!0,{},e);var i,t=this,n=!!e.modeless;return this.dialog=i=new o({id:e.id,trigger:e.trigger,windowTitle:void 0!==e.windowTitle?e.windowTitle:!n,width:n?s.WIDTH_PRESETS.medium:s.WIDTH_PRESETS.large,defineResources:function(){this.requireContext("jira.create.issue")},content:function(e){t.render().done(function(){t.triggerEvent("dialogRendered"),e(t.$element)}),t.triggerEvent("dialogShown")},submitHandler:function(e,i){e.preventDefault(),t.metrics&&t.metrics.start({isInitial:!1,key:"jira.create.issue.dialog.submit"}),t.currentView.submit().then(i,i)},stacked:!0,modeless:n,shouldLoadHeritageFormDialogContext:!!e.shouldLoadHeritageFormDialogContext}),"edit-issue-dialog"===e.id&&u(this.dialog).on("beforeShow",function(e){a.getIssueKey()||l.isRowSelected()||e.preventDefault()}),this.dialog._focusFirstField=function(){o.prototype._focusFirstField.apply(this,["div.content :input:visible:first"])},this.bind("initialized",function(){this.unconfigurableForm.bind("sessionComplete",function(){i.hide()}),this.configurableForm.bind("sessionComplete",function(){i.hide()})}).bind("contentRefreshed",function(){i.notifyOfNewContent()}),i.bind("Dialog.hide",function(){t.successData.length&&(t.triggerEvent("sessionComplete",[t.successData],!0),t.successData=[])}),t.$element.ajaxStart(function(){i.showFooterLoadingIndicator()}).ajaxStop(function(){i.hideFooterLoadingIndicator()}),i.getQuickForm=function(){return t},i.dirtyFormWarning(),i},lazyInit:function(){var e=this,i=this.options.call(this);this.model=i.model,this.errorHandler=i.errorHandler,this.globalEventNamespaces=i.globalEventNamespaces,this.configurableForm=i.configurableForm,this.unconfigurableForm=i.unconfigurableForm,this.sessionComplete=i.sessionComplete,this.model.clearRetainedFields(),this.configurableForm.invalidateFieldsCache(),this.model.bind("serverError",function(i,t){e.$element.html(e.errorHandler.render(t)),e.triggerEvent("contentRefreshed",[this.$element])}),this.triggerEvent("initialized"),this.decorateRenderers()},render:function(){var e=this,i=u.Deferred();return this.lazyInit(),e.model.getUseConfigurableForm().done(function(t){t===!0?e.configurableForm.render().done(function(t,n){i.resolveWith(e,[e.$element]),e.$element.append(n)}):e.unconfigurableForm.render().done(function(t,n){i.resolveWith(e,[e.$element,n]),e.$element.append(n)})}).fail(function(){i.resolveWith(e,[e.$element])}),i.promise()}})}),AJS.namespace("JIRA.Forms.Container",null,require("quick-edit/form/container"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/error.js' */
define("quick-edit/form/error",["quick-edit/util/control","quick-edit/templates/form","jira/ajs/ajax/smart-ajax"],function(r,e,t){"use strict";return r.extend({getErrorMessageFromSmartAjax:function(r){var a,s;if(r.hasData&&401!==r.status)try{s=JSON.parse(r.data),a=s.errorMessages&&s.errorMessages.length>0?e.errorMessage({message:s.errorMessages[0]}):t.buildDialogErrorContent(r,!0).html()}catch(e){a=t.buildDialogErrorContent(r,!0).html()}else a=t.buildDialogErrorContent(r,!0).html();return a},render:function(r){var e=this.getErrorMessageFromSmartAjax(r);return this._render(e)}})}),AJS.namespace("JIRA.Forms.Error",null,require("quick-edit/form/error"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/create-issue.js' */
define("quick-edit/form/error/create-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(e,r,t){"use strict";return e.extend({_render:function(e){return t(r.createIssueError({errorHtml:e}))}})}),AJS.namespace("JIRA.Forms.CreateIssueError",null,require("quick-edit/form/error/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/edit-issue.js' */
define("quick-edit/form/error/edit-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(e,r,i){"use strict";return e.extend({_render:function(e){return i(r.editIssueError({errorHtml:e}))}})}),AJS.namespace("JIRA.Forms.EditIssueError",null,require("quick-edit/form/error/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/create-issue.js' */
define("quick-edit/form/unconfigurable-create-issue",["quick-edit/form/abstract/unconfigurable","quick-edit/form/helper/helper","quick-edit/templates/issue","quick-edit/util/jira","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(e,t,i,r,s,n,o){"use strict";return e.extend({init:function(e){this._serialization={},this.globalEventNamespaces=e.globalEventNamespaces||[],this.model=e.model,this.helper=new t(this),this.title=e.title,this.action=n()+"/secure/QuickCreateIssue.jspa?decorator=none",this.$element=o("<div class='qf-unconfigurable-form' />")},handleSubmitSuccess:function(e){this.helper.handleSubmitSuccess(e)},handleSubmitError:function(t){e.prototype.handleSubmitError.call(this,t),this.helper.sendExperienceEventOnSubmitError(t)},_render:function(){var e=o.Deferred(),t=this;return this.getFieldsHtml().done(function(n){t.model.getIssueSetupFields().done(function(o){var l=i.createIssueForm({issueSetupFields:o,fieldsHtml:n,parentIssueId:t.model.getParentIssueId(),atlToken:t.model.getAtlToken(),formToken:t.model.getFormToken(),title:t.title,multipleMode:t.model.isInMultipleMode(),showFieldConfigurationToolBar:!s.isAnonymous(),modifierKey:r.getModifierKey()}),u=r.extractScripts(l);t.$element.empty().append(u.html),t.helper.restoreFormDirtyStatus(),t.helper.decorate(),t.helper.decorateFields(),e.resolveWith(t,[t.$element,u.scripts])})}),e.promise()}})}),AJS.namespace("JIRA.Forms.UnconfigurableCreateIssueForm",null,require("quick-edit/form/unconfigurable-create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/edit-issue.js' */
define("quick-edit/form/unconfigurable-edit-issue",["quick-edit/form/abstract/unconfigurable","quick-edit/util/jira","quick-edit/templates/issue","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(e,t,i,s,n,r){"use strict";return e.extend({init:function(e){this.globalEventNamespaces=e.globalEventNamespaces||[],this.model=e.model,this.issueId=e.issueId,this.title=e.title,this.action=n()+"/secure/QuickEditIssue.jspa?issueId="+e.issueId+"&decorator=none",this.$element=r("<div class='qf-unconfigurable-form' />")},getFieldsHtml:function(){var e=this,t=r.Deferred(),s={};return this.model.getUnconfigurableTabs().done(function(n){1===n.length?s.fields=n[0].fields:(s.tabs=n,s.hasTabs=!0),t.resolveWith(e,[i.issueFields(s)])}),t.promise()},handleSubmitSuccess:function(e){this.triggerEvent("submitted",[e]),this.triggerEvent("issueEdited",[e],!0),this.triggerEvent("sessionComplete")},_render:function(){var e=r.Deferred(),n=this;return this.getFieldsHtml().done(function(r){var o={fieldsHtml:r,title:n.title,issueId:n.issueId,atlToken:n.model.getAtlToken(),formToken:n.model.getFormToken(),pid:n.model.getPid(),modifierKey:t.getModifierKey(),showFieldConfigurationToolBar:!s.isAnonymous()};this.model.getCommentField().then(function(s){var r,l;o.commentField=s,r=i.editIssueForm(o),l=t.extractScripts(r),n.$element.html(l.html),e.resolveWith(n,[n.$element,l.scripts])},function(){var s=i.editIssueForm(o),r=t.extractScripts(s);n.$element.html(r.html),e.resolveWith(n,[n.$element,r.scripts])})}),e.promise()}})}),AJS.namespace("JIRA.Forms.UnconfigurableEditIssueForm",null,require("quick-edit/form/unconfigurable-edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-issue.js' */
define("quick-edit/form/factory/create-issue",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue"],function(e,r,a,t,s){"use strict";function i(e,r){if(e&&r)for(var a=0;a<e.length;a++)r.markFieldAsDirty(e[a])}return function(o){return o=o||{},new e(function(){o.globalEventNamespaces=o.globalEventNamespaces||["QuickCreateIssue"];var e="Create issue",n=new s({projectId:o.pid,issueType:o.issueType,itsmCategory:o.itsmCategory,fields:o.fields});i(o.customFieldsToPreserveOnFormRecreation,n);var c=new r({model:n,title:e,globalEventNamespaces:o.globalEventNamespaces}),u=new a({model:n,title:e,globalEventNamespaces:o.globalEventNamespaces});return{globalEventNamespaces:o.globalEventNamespaces,model:n,errorHandler:new t,configurableForm:c,unconfigurableForm:u}})}}),AJS.namespace("JIRA.Forms.createCreateIssueForm",null,require("quick-edit/form/factory/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-subtask.js' */
define("quick-edit/form/factory/create-subtask",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/util/dialog","jira/issue","jira/issuenavigator/issue-navigator"],function(e,t,s,a,r,i,u,n){"use strict";function c(e){return e.parentIssueId||u.getIssueId()||n.getSelectedIssueId()}return function(u){return u=u||{},new e(function(){u.globalEventNamespaces=u.globalEventNamespaces||["QuickCreateSubtask"];var e=c(u),n=i.getIssueActionTitle("Create Subtask"),o=new a({parentIssueId:e,projectId:u.pid,issueType:u.issueType,fields:u.fields}),l=new t({model:o,title:n,globalEventNamespaces:u.globalEventNamespaces}),d=new r({model:o,title:n,globalEventNamespaces:u.globalEventNamespaces});return{globalEventNamespaces:u.globalEventNamespaces,model:o,errorHandler:new s,configurableForm:l,unconfigurableForm:d}})}}),AJS.namespace("JIRA.Forms.createSubtaskForm",null,require("quick-edit/form/factory/create-subtask"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/edit-issue.js' */
define("quick-edit/form/factory/edit-issue",["quick-edit/form/container","quick-edit/form/configurable/edit-issue","quick-edit/form/error/edit-issue","quick-edit/util/dialog","quick-edit/form/model/factory/edit-issue","quick-edit/form/unconfigurable-edit-issue","jira/issue","jira/issuenavigator/issue-navigator","jquery"],function(e,i,t,s,u,r,n,o,d){"use strict";function a(e){var i=s.getAttrFromActiveTrigger("data-issueId");return d.isFunction(e.issueId)?e.issueId(e):e.issueId?e.issueId:i?i:n.getIssueId()||o.getSelectedIssueId()}function c(){var e="Edit issue";return s.shouldShowIssueKeyInTitle()?s.getIssueActionTitle(e):e}return function(s){return s=s||{},new e(function(){var e=a(s),n=c(),o=u(e),d=new i({title:n,model:o,issueId:e,globalEventNamespaces:["QuickEdit"]}),l=new r({title:n,model:o,issueId:e,globalEventNamespaces:["QuickEdit"]});return{globalEventNamespaces:["QuickEdit"],model:o,errorHandler:new t,configurableForm:d,unconfigurableForm:l}})}}),AJS.namespace("JIRA.Forms.createEditIssueForm",null,require("quick-edit/form/factory/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/AttachFilesDropZone.js' */
define("dndattachment/dropzones/AttachFilesDropZone",["dndattachment/dropzones/FormDropZone","jquery"],function(e,n){var t=e.extend({eventGroup:"attachfiledropzone",init:function(){this._super.apply(this,arguments),this.bind("progressBarInserted",function(e,t){var r=new n.Deferred;this.queueTask(r),t.result.done(r.resolve.bind(r)),t.bind("onBeforeDestroy",function(){r.resolve()})}.bind(this))},checkMarkDirty:function(){this.pendingQueue.length<=1&&this.markDirty(!1)}});return t});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/CreateIssueDropZone.js' */
define("dndattachment/dropzones/CreateIssueDropZone",["jquery","dndattachment/dropzones/FormDropZone"],function(e,n){var r=n.extend({eventGroup:"createissuedropzone",progressBarType:"dndattachment/progressbars/ProjectUploadProgressBar",getContainerNode:function(){return e(this.$node.parents(".jira-dialog-content")[0]||this.$node.parents("form#issue-create").parents(".aui-page-panel-content")[0])},handleNewProgressBar:function(e){this._super.apply(this,arguments),e.bind("onDestroy onFinished",_.bind(function(){if(!this.filesStillUploading()){var e={};e[this.$inputNode.attr("name")]="",JIRA.applyErrorsToForm(this.$formNode,e)}},this))}});return r});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/js/progressbars/ProjectUploadProgressBar.js' */
define("dndattachment/progressbars/ProjectUploadProgressBar",["jquery","dndattachment/progressbars/UploadProgressBar"],function(e,a){return a.extend({getProjectId:function(){return this.$node.parents("form").find("*[name=pid]").val()},getUploadParams:function(e){var t=a.prototype.getUploadParams.apply(this,arguments);return this.getProjectId()&&(t.projectId=this.getProjectId()),t},loadThumbnail:function(a){if(this.isImageType())return this._super.apply(this,arguments);var t=this.getThumbnailNode();t.removeClass("upload-progress-bar__thumbnail_image").addClass("upload-progress-bar__thumbnail_icon").addClass("upload-progress-bar__thumbnail_icon_aui");var r="aui-iconfont-devtools-file",s="File";"object"==typeof a&&(r=JIRA.Templates.ViewIssue.matchFileClass({mimetype:a.type}),s=JIRA.Templates.ViewIssue.matchFileIconAlt({mimetype:a.type}));var o=e('<span class="aui-icon aui-icon-large"/>').addClass(r).attr("title",s);return o.appendTo(t)}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/AttachFilesDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.AttachFilesDropZone=function(e,t){return'<div duiType="dndattachment/dropzones/AttachFilesDropZone" class="issue-drop-zone" data-upload-limit="'+soy.$$escapeHtml(e.jiraAttachmentSize)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'"></div>'};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/CreateIssueDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.CreateIssueDropZone=function(e,t){return'<div duiType="dndattachment/dropzones/CreateIssueDropZone" class="issue-drop-zone" data-upload-limit="'+soy.$$escapeHtml(e.jiraAttachmentSize)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'"></div>'+(e.description?'<div class="description">'+soy.$$escapeHtml(e.description)+"</div>":"")};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:drag-and-drop-attachment-javascript-init', location = 'jira-dnd-attachment-module/js/initIssueDropZone.js' */
require(["dndattachment/Parser","jquery","dndattachment/dropzones/IssueDropZone","dndattachment/upload/handler","dndattachment/upload/default/executor","dndattachment/aui","dndattachment/TemporaryAttachments","dndattachment/util/Configuration","dndattachment/util/FileSizeUtil"],function(t,e,n,a,o,i,r,d,s){function u(n,o){var i=n.find(".field-group.file-input-list");if(0!=i.size()&&!(i.find('*[duiType*="'+o+'"]').length>0)){var d=i.find("input[name=filetoconvert]:checked").map(function(t,n){return r.getAttachment(n.value,e(n).siblings("label").text())}).toArray(),u=i.find(".description:last-child").html();i.empty();var c=e(JIRA.Templates.DnDAttachmentPlugin[o]({uploadLimit:s.format(m),jiraAttachmentSize:m,description:u}));t.parse(c.appendTo(i)).then(function(t){null!=t&&(t.loadAttachments(d),a.setCurrentDropZone(t))})}}function c(t,n){var o=function(){u(t.$popupContent,n)};t.$popup&&t.$popup.is(":visible")?o():t.onContentReady(o),e(t).bind("Dialog.hide",function(){a.disconnectCurrentDropZone()})}function p(n){var o=n&&"attachmentmodule"==n.attr("id")&&e(".mod-content:not(.issue-drop-zone)",n);if(o&&o.size()>0){if(0==n.find("#add-attachments-link").length)return;o.addClass("issue-drop-zone");var i=e(JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone({uploadLimit:s.format(m),jiraAttachmentSize:m}));t.parse(i.prependTo(o)).then(function(t){l&&l.disconnectContainer(),l=t,a.setAttachmentDropZone(t)})}}if(n.prototype.isSupportedBrowser()){var l,m=d.getWRM("upload-limit"),f=function(){JIRA.Dialogs.attachFile&&c(JIRA.Dialogs.attachFile,"AttachFilesDropZone");var t=["create-issue-dialog","create-subtask-dialog","edit-issue-dialog"],n=function(e,n,a){_.contains(t,n.attr("id"))&&c(a,"CreateIssueDropZone")};e(i).on("Dialog.show",n),JIRA.Dialog.current&&n(null,JIRA.Dialog.current.$popup,JIRA.Dialog.current),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(t,e,n){u(e,"CreateIssueDropZone"),p(e)});var r=e("form#issue-create, form#issue-edit");r.size()>0&&u(r,"CreateIssueDropZone"),a.initialize(),a.registerExecutor(o),p(e("#attachmentmodule"));var d="issue-drop-zone-document__dragover";e(document).on("dragover dragenter",function(){e("body").addClass(d)}),e(document).on("dragleave drop dropHandled",function(){e("body").removeClass(d)})};e.isReady?f():i.$(f),e.event.props?e.event.props.push("dataTransfer"):e.event.addProp("dataTransfer")}});;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-constants', location = 'node_modules/@atlassian/aui/src/js/aui/internal/constants.js' */
("undefined"===typeof window?global:window).__fa2d609d3773596cc2b702b68678a39c=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={INPUT_SUFFIX:"-input"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-toggle', location = 'node_modules/@atlassian/aui/src/js/aui/toggle.js' */
("undefined"===typeof window?global:window).__1840a42d6d7e6ab244ecf3cf5bcc56cd=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function c(a){return a._input||(a._input=a.querySelector("input"))}function f(a,b){c(b).removeAttribute(a)}function h(a,b,d){c(b).setAttribute(a,d.newValue)}function i(a){return{removed:f.bind(this,a),fallback:h.bind(this,a)}}"use strict";__e573296a636ce4ee054d5d3b9c8823fb;__8a6820c3d0bc5d638a8490d849a5b750;var g=__29fa312a51517f20df339a1900640e1d,d=e(__307d3e18fd611f85395c67cddeb1fe24),
k=e(__8339408c10b0a9052af9f3aad7b3a4e8),l=e(__f52b7059926ab2bdcd0aee12b4bc782b),m=e(__c1ce1f1e3e613f564fc234ff043570f1),n=__fa2d609d3773596cc2b702b68678a39c,j={removed:function(a){f.call(this,"form",a);a._formId=null},fallback:function(a,b){h.call(this,"form",a,b);a._formId=b.newValue}},o={removed:f.bind(void 0,"id"),fallback:function(a,b){c(a).setAttribute("id",""+b.newValue+n.INPUT_SUFFIX)}};(0,m.default)("aui-toggle",{template:(0,l.default)('<input type="checkbox" class="aui-toggle-input">','<span class="aui-toggle-view">',
'<span class="aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success"></span>','<span class="aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog"></span>',"</span>"),created:function(a){a._input=c(a);a._tick=a.querySelector(".aui-toggle-tick");a._cross=a.querySelector(".aui-toggle-cross");(0,d.default)(a._input).tooltip({title:function(){return this.checked?this.getAttribute("tooltip-on"):this.getAttribute("tooltip-off")},gravity:"s",hoverable:!1});a._input.addEventListener("keydown",
function(b){a.busy&&b.keyCode===AJS.keyCode.SPACE&&b.preventDefault()});-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&a._input.addEventListener("click",function(b){a.busy&&b.preventDefault()})},attached:function(a){(0,k.default)(a).attributeExists("label")},events:{click:function(a,b){!a.disabled&&(!a.busy&&b.target!==a._input)&&a._input.click();(0,g.setBooleanAttribute)(a,"checked",c(a).checked)}},attributes:{id:o,checked:{removed:function(a){f.call(this,"checked",a);c(a).checked=!1},
fallback:function(a,b){h.call(this,"checked",a,b);c(a).checked=!0}},disabled:i("disabled"),form:j,name:i("name"),value:i("value"),"tooltip-on":{value:"On",fallback:function(a,b){c(a).setAttribute("tooltip-on",b.newValue||"On")}},"tooltip-off":{value:"Off",fallback:function(a,b){c(a).setAttribute("tooltip-off",b.newValue||"Off")}},label:{removed:function(a){c(a).removeAttribute("aria-label")},
fallback:function(a,b){c(a).setAttribute("aria-label",b.newValue)}}},prototype:{focus:function(){this._input.focus();return this},get checked(){return this._input.checked},set checked(a){this._input.checked=a;return(0,g.setBooleanAttribute)(this,"checked",a)},get disabled(){return this._input.disabled},set disabled(a){return(0,g.setBooleanAttribute)(this,"disabled",a)},get form(){return document.getElementById(this._formId)},set form(a){j.fallback.call(this,this,{newValue:a||null});return this.form},
get name(){return this._input.name},set name(a){this.setAttribute("name",a);return a},get value(){return this._input.value},set value(a){this.setAttribute("value",null===a?"":a);return a},get busy(){return"true"===this._input.getAttribute("aria-busy")},set busy(a){(0,g.setBooleanAttribute)(this,"busy",a);a?(this._input.setAttribute("aria-busy","true"),this._input.indeterminate=!0,this.checked?((0,d.default)(this._input).addClass("indeterminate-checked"),(0,d.default)(this._tick).spin({zIndex:null})):
(0,d.default)(this._cross).spin({zIndex:null,color:"black"})):((0,d.default)(this._input).removeClass("indeterminate-checked"),this._input.indeterminate=!1,this._input.removeAttribute("aria-busy"),(0,d.default)(this._cross).spinStop(),(0,d.default)(this._tick).spinStop());var b=!!a;this.id&&Array.prototype.forEach.call(document.querySelectorAll('aui-label[for="'+this.id+'"]'),function(a){a.disabled=b});return a}}});return{}}.call(this);;
;
/* module-key = 'com.atlassian.plugin.jslibs:backbone-1.0.0-factory', location = 'factories/backbone/1.0.0/backbone-1.0.0-factory.js' */
(function(k){define("atlassian/libs/factories/backbone-1.0.0",function(){return function(t,i){var p={_:t,$:i};k.call(p);return"undefined"!==typeof exports?exports.noConflict():p.Backbone.noConflict()}})})(function(){var k=this,t=k.Backbone,i=[],p=i.push,u=i.slice,C=i.splice,g;g="undefined"!==typeof exports?exports:k.Backbone={};g.VERSION="1.0.0";var e=k._;!e&&"undefined"!==typeof require&&(e=require("underscore"));g.$=k.jQuery||k.Zepto||k.ender||k.$;g.noConflict=function(){k.Backbone=t;return this};
g.emulateHTTP=!1;g.emulateJSON=!1;var h=g.Events={on:function(a,b,c){if(!q(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!q(this,"once",a,[b,c])||!b)return this;var d=this,f=e.once(function(){d.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,c)},off:function(a,b,c){var d,f,v,g,j,w,l,h;if(!this._events||!q(this,"off",a,[b,c]))return this;if(!a&&
!b&&!c)return this._events={},this;g=a?[a]:e.keys(this._events);j=0;for(w=g.length;j<w;j++)if(a=g[j],v=this._events[a]){this._events[a]=d=[];if(b||c){l=0;for(h=v.length;l<h;l++)f=v[l],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&d.push(f)}d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=u.call(arguments,1);if(!q(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&x(c,b);d&&x(d,arguments);return this},stopListening:function(a,
b,c){var d=this._listeners;if(!d)return this;var f=!b&&!c;"object"===typeof b&&(c=this);a&&((d={})[a._listenerId]=a);for(var e in d)d[e].off(b,c,this),f&&delete this._listeners[e];return this}},y=/\s+/,q=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return!1}if(y.test(c)){c=c.split(y);f=0;for(var e=c.length;f<e;f++)a[b].apply(a,[c[f]].concat(d));return!1}return!0},x=function(a,b){var c,d=-1,f=a.length,e=b[0],g=b[1],j=b[2];switch(b.length){case 0:for(;++d<
f;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e);break;case 2:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e,g);break;case 3:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e,g,j);break;default:for(;++d<f;)(c=a[d]).callback.apply(c.ctx,b)}};e.each({listenTo:"on",listenToOnce:"once"},function(a,b){h[b]=function(b,d,f){var g=this._listeners||(this._listeners={}),o=b._listenerId||(b._listenerId=e.uniqueId("l"));g[o]=b;"object"===typeof d&&(f=this);b[a](d,f,this);return this}});
h.bind=h.on;h.unbind=h.off;e.extend(g,h);var n=g.Model=function(a,b){var c,d=a||{};b||(b={});this.cid=e.uniqueId("c");this.attributes={};e.extend(this,e.pick(b,D));b.parse&&(d=this.parse(d,b)||{});if(c=e.result(this,"defaults"))d=e.defaults({},d,c);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)},D=["url","urlRoot","collection"];e.extend(n.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return e.clone(this.attributes)},
sync:function(){return g.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return e.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,f,g,o,j,h,l;if(null==a)return this;"object"===typeof a?(f=a,c=b):(f={})[a]=b;c||(c={});if(!this._validate(f,c))return!1;g=c.unset;o=c.silent;a=[];j=this._changing;this._changing=!0;j||(this._previousAttributes=e.clone(this.attributes),this.changed={});l=this.attributes;h=this._previousAttributes;
this.idAttribute in f&&(this.id=f[this.idAttribute]);for(d in f)b=f[d],e.isEqual(l[d],b)||a.push(d),e.isEqual(h[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete l[d]:l[d]=b;if(!o){a.length&&(this._pending=!0);b=0;for(d=a.length;b<d;b++)this.trigger("change:"+a[b],this,l[a[b]],c)}if(j)return this;if(!o)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,e.extend({},b,{unset:!0}))},clear:function(a){var b=
{},c;for(c in this.attributes)b[c]=void 0;return this.set(b,e.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!e.isEmpty(this.changed):e.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?e.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes,f;for(f in a)if(!e.isEqual(d[f],b=a[f]))(c||(c={}))[f]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return e.clone(this._previousAttributes)},
fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return false;c&&c(b,d,a);b.trigger("sync",b,d,a)};r(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,f=this.attributes;null==a||"object"===typeof a?(d=a,c=b):(d={})[a]=b;if(d&&(!c||!c.wait)&&!this.set(d,c))return!1;c=e.extend({validate:!0},c);if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=e.extend({},f,d));void 0===c.parse&&(c.parse=
!0);var g=this,h=c.success;c.success=function(a){g.attributes=f;var b=g.parse(a,c);c.wait&&(b=e.extend(d||{},b));if(e.isObject(b)&&!g.set(b,c))return false;h&&h(g,a,c);g.trigger("sync",g,a,c)};r(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=d);a=this.sync(a,this,c);d&&c.wait&&(this.attributes=f);return a},destroy:function(a){var a=a?e.clone(a):{},b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&
c(b,e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;r(this,a);var f=this.sync("delete",this,a);a.wait||d();return f},url:function(){var a=e.result(this,"urlRoot")||e.result(this.collection,"url")||z();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},e.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;var a=e.extend({},this.attributes,a),c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,e.extend(b||{},{validationError:c}));return!1}});e.each("keys values pairs invert pick omit".split(" "),function(a){n.prototype[a]=function(){var b=u.call(arguments);b.unshift(this.attributes);return e[a].apply(e,b)}});var s=g.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&
(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,e.extend({silent:!0},b))},E={add:!0,remove:!0,merge:!0},F={add:!0,merge:!1,remove:!1};e.extend(s.prototype,h,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return g.sync.apply(this,arguments)},add:function(a,b){return this.set(a,e.defaults(b||{},F))},remove:function(a,b){a=e.isArray(a)?
a.slice():[a];b||(b={});var c,d,f,g;c=0;for(d=a.length;c<d;c++)if(g=this.get(a[c]))delete this._byId[g.id],delete this._byId[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,b.silent||(b.index=f,g.trigger("remove",g,this,b)),this._removeReference(g);return this},set:function(a,b){b=e.defaults(b||{},E);b.parse&&(a=this.parse(a,b));e.isArray(a)||(a=a?[a]:[]);var c,d,f,g,h,j=b.at,k=this.comparator&&null==j&&!1!==b.sort,l=e.isString(this.comparator)?this.comparator:null,i=[],m=[],n={};c=
0;for(d=a.length;c<d;c++)if(f=this._prepareModel(a[c],b))(g=this.get(f))?(b.remove&&(n[g.cid]=!0),b.merge&&(g.set(f.attributes,b),k&&(!h&&g.hasChanged(l))&&(h=!0))):b.add&&(i.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f));if(b.remove){c=0;for(d=this.length;c<d;++c)n[(f=this.models[c]).cid]||m.push(f);m.length&&this.remove(m,b)}i.length&&(k&&(h=!0),this.length+=i.length,null!=j?C.apply(this.models,[j,0].concat(i)):p.apply(this.models,i));h&&this.sort({silent:!0});
if(b.silent)return this;c=0;for(d=i.length;c<d;c++)(f=i[c]).trigger("add",f,this,b);h&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,e.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,e.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-
1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,e.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return e.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var d in a)if(a[d]!==b.get(d))return!1;return!0})},findWhere:function(a){return this.where(a,
!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});e.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(e.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=e.isFunction(b)?b:function(a){return a.get(b)};return e.sortedIndex(this.models,a,d,c)},pluck:function(a){return e.invoke(this.models,"get",
a)},fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};r(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?e.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(e){b.wait&&c.add(a,b);d&&d(a,e,b)};a.save(null,b);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},
_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return!c._validate(a,b)?(this.trigger("invalid",this,a,b),!1):c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&
(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});e.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){s.prototype[a]=function(){var b=u.call(arguments);b.unshift(this.models);return e[a].apply(e,b)}});
e.each(["groupBy","countBy","sortBy"],function(a){s.prototype[a]=function(b,c){var d=e.isFunction(b)?b:function(a){return a.get(b)};return e[a](this.models,d,c)}});var i=g.View=function(a){this.cid=e.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},G=/^(\S+)\s*(.*)$/,H="model collection el id attributes className tagName events".split(" ");e.extend(i.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof g.$?a:g.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=e.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];e.isFunction(c)||(c=this[a[b]]);if(c){var d=b.match(G),f=d[1],d=d[2],c=e.bind(c,this),f=f+(".delegateEvents"+this.cid);
if(""===d)this.$el.on(f,c);else this.$el.on(f,d,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=e.extend({},e.result(this,"options"),a));e.extend(this,e.pick(a,H));this.options=a},_ensureElement:function(){if(this.el)this.setElement(e.result(this,"el"),!1);else{var a=e.extend({},e.result(this,"attributes"));this.id&&(a.id=e.result(this,"id"));this.className&&(a["class"]=e.result(this,"className"));a=g.$("<"+
e.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});g.sync=function(a,b,c){var d=I[a];e.defaults(c||(c={}),{emulateHTTP:g.emulateHTTP,emulateJSON:g.emulateJSON});var f={type:d,dataType:"json"};c.url||(f.url=e.result(b,"url")||z());if(null==c.data&&b&&("create"===a||"update"===a||"patch"===a))f.contentType="application/json",f.data=JSON.stringify(c.attrs||b.toJSON(c));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===
d||"DELETE"===d||"PATCH"===d)){f.type="POST";c.emulateJSON&&(f.data._method=d);var h=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(h)return h.apply(this,arguments)}}"GET"!==f.type&&!c.emulateJSON&&(f.processData=!1);if("PATCH"===f.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};a=c.xhr=g.ajax(e.extend(f,c));b.trigger("request",b,a,c);return a};var I=
{create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};g.ajax=function(){return g.$.ajax.apply(g.$,arguments)};var A=g.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},J=/\((.*?)\)/g,K=/(\(\?)?:\w+/g,L=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;e.extend(A.prototype,h,{initialize:function(){},route:function(a,b,c){e.isRegExp(a)||(a=this._routeToRegExp(a));e.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;g.history.route(a,
function(e){e=d._extractParameters(a,e);c&&c.apply(d,e);d.trigger.apply(d,["route:"+b].concat(e));d.trigger("route",b,e);g.history.trigger("route",d,b,e)});return this},navigate:function(a,b){g.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var a,b=e.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(M,"\\$&").replace(J,"(?:$1)?").replace(K,function(a,c){return c?a:"([^/]+)"}).replace(L,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return e.map(c,function(a){return a?decodeURIComponent(a):null})}});var m=g.History=function(){this.handlers=[];e.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,O=/msie [\w.]+/,P=/\/$/;m.started=!1;e.extend(m.prototype,h,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:
""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){var a=this.location.pathname,c=this.root.replace(P,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(B,"")},start:function(a){if(m.started)throw Error("Backbone.history has already been started");m.started=!0;this.options=e.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;
this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var a=this.getFragment(),b=document.documentMode,b=O.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(N,"/");b&&this._wantsHashChange&&(this.iframe=g.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)g.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&
!b)g.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(B,
""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){g.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);m.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&
this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return e.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!m.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});g.history=new m;n.extend=s.extend=A.extend=i.extend=m.extend=function(a,b){var c=this,d;d=a&&e.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};e.extend(d,c,b);var f=function(){this.constructor=d};f.prototype=c.prototype;d.prototype=new f;a&&e.extend(d.prototype,a);d.__super__=c.prototype;return d};var z=function(){throw Error('A "url" property or function must be specified');},r=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}}});;
;
/* module-key = 'com.atlassian.plugin.jslibs:brace-1.1.0-factory', location = 'factories/brace/1.1.0/brace-1.1.0-factory.js' */
(function(j){define("atlassian/libs/factories/brace-1.1.0",function(){return function(n,g){var c={_:n,Backbone:g};j.call(c);c=c.Brace.noConflict();c.VERSION="1.1.0";return c}})})(function(){var j=this,n=j.Brace,g,c=j._,i=j.Backbone,o=function(a){return c.isArray(a)?c.reduce(a,function(b,a){b[a]=null;return b},{}):a},m=function(a,b){if(!a||null==b||a===String&&c.isString(b)||a===Number&&c.isNumber(b)||a===Boolean&&c.isBoolean(b))return b;if("string"===typeof a||a instanceof String){if(typeof b!==""+
a)throw"The typeof "+b+" is "+typeof b+" but expected it to be "+a;return b}if(c.isArray(a)||a===Array){if(!c.has(b,"length")||b instanceof String||c.has({string:1,"function":1},typeof b)||b instanceof i.Collection)throw"Array type expected, but nonnull, non-Array value provided.";return a===Array||!a[0]?b:c.map(b,c.bind(m,null,a[0]))}if("function"!==typeof a)throw"Invalid expected type "+a+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return b instanceof a?b:p(a)?
new a(m([a.model],b)):new a(b)},p=function(a,b){return a&&(a.__super__ instanceof(b||i.Collection)||a.__super__===(b||i.Collection).prototype||a===(b||i.Collection))},x=function(a,b){var d={};c.each(a,function(a,c){if(!b[c]||q(a,b[c]))d[c]=a;else if(a&&!q(b[c],a))throw c+" has conflicted type descriptors.";});return d},q=function(a,b){return!b||b===a?!0:!a||"string"===typeof a?!1:a instanceof Array?b===Array||b instanceof Array&&q(a[0],b[0]):"function"!==typeof b?!1:p(b)?p(a,b):a.prototype instanceof
b};g=function(a){var b=a.extend(),d=a.extend;b.extend=function w(a,b){var h,g=c.extend({},a),i;a&&a.mixins&&(i=a.mixins,delete g.mixins);h=d.call(this,g,b);this.prototype.namedEvents&&f.Mixins.applyMixin(h,{namedEvents:this.prototype.namedEvents});this.prototype.namedAttributes&&f.Mixins.applyMixin(h,{namedAttributes:this.prototype.namedAttributes});this.prototype.ignoreUnknownAttributes&&f.Mixins.applyMixin(h,{ignoreUnknownAttributes:this.prototype.ignoreUnknownAttributes});i&&c.each(a.mixins,function(a){f.Mixins.applyMixin(h,
a)});h.prototype.namedEvents&&f.Mixins.applyMixin(h,f.EventsMixinCreator.create(h.prototype.namedEvents));h.prototype.namedAttributes&&(h.prototype.namedAttributes=o(h.prototype.namedAttributes),f.Mixins.applyMixin(h,f.AttributesMixinCreator.create(h.prototype.namedAttributes,h.prototype.idAttribute)));if(h.prototype.toJSON){var j=h.prototype.toJSON;h.prototype.toJSON=function(){var a;a=j.call(this);a=c.isObject(a)?c.reduce(a,function(a,b,d){b&&c.isFunction(b.toJSON)?a[d]=b.toJSON():c.isArray(b)&&
(a[d]=c.map(b,function(a){return a&&c.isFunction(a.toJSON)?a.toJSON():a}));return a},a):a;return a}}h.extend=w;return h};return b};var f={Mixins:{createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},applyMixin:function(a,b){c.forEach(c.keys(b),function(d){var e=a.prototype;if("initialize"===d){var f=e.initialize;e.initialize=function(){f&&f.apply(this,arguments);b.initialize.apply(this,arguments)}}else if("validate"===d){var g=e.validate;e.validate=function(){if(g){var a=
g.apply(this,arguments);if(a)return a}return b.validate.apply(this,arguments)}}else if("defaults"===d){var e=e.defaults||(e.defaults={}),d=b[d],k;for(k in d){if(e.hasOwnProperty(k))throw"Mixin error: class already has default '"+k+"' defined";e[k]=d[k]}}else if("namedAttributes"===d)k=o(e.namedAttributes)||{},d=o(b[d]),e.namedAttributes=c.extend(k,x(d,k));else if("namedEvents"===d){if(!c.isArray(b[d]))throw"Expects events member on mixin to be an array";e.namedEvents||(e.namedEvents=[]);e.namedEvents=
c.uniq(e.namedEvents.concat(b[d]))}else if("ignoreUnknownAttributes"===d)e.hasOwnProperty(d)||(e.ignoreUnknownAttributes=b[d]||!1);else{if(e.hasOwnProperty(d))throw"Mixin error: class already has property '"+d+"' defined";e[d]=b[d]}},this)}}};f.AttributesMixinCreator={create:function(a,b){var d={};a||(a={});c.has(a,"id")||(a.id=null);c.each(a,function(a,b){var c=f.Mixins.createMethodName("set",b);d[c]=function(a,c){return this.set(b,a,c)};c=f.Mixins.createMethodName("get",b);d[c]=function(){return this.get(b)}});
if("string"===typeof b&&"undefined"!==typeof a[b]&&"id"!==b){a.id=a[b];var e=f.Mixins.createMethodName("get",b),g=f.Mixins.createMethodName("set",b);d.getId=function(){return this[e]()};d.setId=function(a,b){return this[g](a,b)}}return d},ensureType:m};f.EventsMixinCreator={create:function(a){var b={};c.each(a,c.bind(function(a){var e=f.Mixins.createMethodName("on",a);b[e]=function(){return this.on.apply(this,[a].concat(c.toArray(arguments)))};e=f.Mixins.createMethodName("trigger",a);b[e]=function(){return this.trigger.apply(this,
[a].concat(c.toArray(arguments)))}},this));return b}};var l=f,r=i.Model,s=g(r),t=r.prototype,u=s.prototype,v=t.set;u.set=function(a,b,d){var e,f=this.namedAttributes;if(!f||null==a)return v.apply(this,arguments);c.isObject(a)?(e=c.clone(a),d=b):(e={},e[a]=b);for(var g in e)if(c.has(e,g)){if(!c.has(f,g)&&!this.ignoreUnknownAttributes)throw"Attribute '"+g+"' does not exist";e[g]=m(f[g],e[g])}return v.call(this,e,d)};var y=t.get;u.get=function(a){if(this.namedAttributes&&!c.has(this.namedAttributes,
a)&&!this.ignoreUnknownAttributes)throw"Attribute '"+a+"' does not exist";return y.apply(this,arguments)};var z=r.prototype.parse;s.prototype.parse=function(a,b){return c.pick(z(a,b),c.keys(this.namedAttributes))};l.Model=s;f.Collection=g(i.Collection);f.View=g(i.View);f.Router=g(i.Router);l=function(){this.initialize.apply(this,arguments)};c.extend(l.prototype,i.Events,{initialize:function(){}});l.extend=i.Model.extend;f.Evented=g(l);g=f;g.noConflict=function(){j.Brace=n;return this};j.Brace=g});;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-common-jsd-entry-chunk', location = 'common-jsd-entry-chunk.bundle.js' */
!function(e){function a(d){if(r[d])return r[d].exports;var c=r[d]={i:d,l:!1,exports:{}};return e[d].call(c.exports,c,c.exports,a),c.l=!0,c.exports}var d=window.sdJsonp;window.sdJsonp=function(r,t,s){for(var n,i,o,f=0,b=[];f<r.length;f++){if(i=r[f],c[i])b.push(c[i][0]);c[i]=0}for(n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n];if(d)d(r,t,s);for(;b.length;)b.shift()();if(s)for(f=0;f<s.length;f++)o=a(a.s=s[f]);return o};var r={},c={57:0};a.e=function(e){function d(){s.onerror=s.onload=null,clearTimeout(n);var a=c[e];if(0!==a){if(a)a[1](new Error("Loading chunk "+e+" failed."));c[e]=void 0}}if(0===c[e])return Promise.resolve();if(c[e])return c[e][2];var r=new Promise(function(a,d){c[e]=[a,d]});c[e][2]=r;var t=document.getElementsByTagName("head")[0],s=document.createElement("script");if(s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,a.nc)s.setAttribute("nonce",a.nc);s.src=a.p+"context-"+({0:"sd.admin.request.type.edit",1:"sd.project.queues",2:"sd.queues.addon",3:"sd.agent.reports.custom",4:"sd.admin.request.type.group",5:"sd.agent.reports.kb.requests.resolved",6:"sd.agent.reports.kb.requests.deflected",7:"sd.agent.organisation",8:"sd.agent.customers",9:"sd.admin.languagesupport",10:"sd.agent.reports.csat",11:"sd.admin.sla.custom",12:"sd.admin.sla",13:"sd.admin.kb.settings",14:"sd.admin.outgoing.email",15:"sd.agent.reports.workload",16:"sd.agent.reports.sla",17:"sd.admin.request.types",18:"sd.project.reports",19:"sd.admin.widget.addon.installer",20:"sd.admin.widget",21:"sd.admin.addon",22:"rlabs.configure",23:"rlabs.insight.general",24:"rlabs.objectschema.manage",25:"jira.view.issue",26:"sd.project.admin",27:"sd.project.admin.registry",28:"sd.project.sidebar.content",29:"sd.project.view",30:"atl.dashboard",31:"sd.project.view.registry",32:"sd.project.legacy.issue.view",33:"jira.heritage.form.dialog",34:"atl.general",35:"sd.project.settings.request.forms.workflow.bridge",36:"jira.workflow.view",37:"jira.admin.conf",38:"sd.project.queues.legacy.issue.view.bridge",39:"jira.view.issue.asset.unlicensed",40:"jira.heritage.form.dialog.asset.unlicensed",41:"sd.project.report.legacy.issue.view.bridge",42:"sd.project.config.checker.bridge",43:"jira.create.issue",44:"sd.admin.config",45:"sd.admin.email.requests",46:"jira.admin",47:"jira.create.issue.asset.unlicensed",48:"atl.general.asset.unlicensed",49:"rlabs.page.registry",50:"sd.project.queues.bridge",51:"jql.field.renderer.bridge",52:"jira.heritage.sd.sidebar.integration",53:"jql.editor.bridge",54:"sd.agent.unlicensed",55:"asset.tracking.field.config",56:"sd.queues.edit"}[e]||e)+"-"+{0:"857f823556ee91f03b80",1:"2cd2577b7a1cfb42660e",2:"249dbd38e33770e6d95f",3:"b508cecc071cb94d11c8",4:"6a040ab3b4e2981b4601",5:"c19f7d37a186560cab9a",6:"0c6ed05799ed315a1c37",7:"bb6171f736d3b4319083",8:"aab386d37df941efce92",9:"29200ac3e7a1baa0df3f",10:"31d235ff6ee60d5b31df",11:"cb155e3cc62f16cd4a25",12:"e7c3418d70d22410b193",13:"b465175b95aea06dbfe5",14:"b7c6de7e666b36d93e21",15:"f553b8adc069dba22971",16:"f5bb13c16489f29aa2b7",17:"865fc8ce982fc447f795",18:"4858a5a3984d190645c7",19:"8aec9eae28c900355664",20:"2354abb57316786a8699",21:"8e6eac99b0395c5a3928",22:"a7cd7e9e71a29b7fce4e",23:"5519a66bc8e79b822ade",24:"d91edf283aed722e37ab",25:"cacbfca9bbac58ff0cc0",26:"bbca978fa316f25a6d4a",27:"5410c235453df6b0652c",28:"4922492df1c6ce97b2d4",29:"7be0aa5c84c3cbc2f3da",30:"7536d46d607372473f87",31:"29a484b1c3fe9af09f63",32:"61f8ac66c88c23edbd01",33:"4f4e668d8c8ee1c22577",34:"05d558df04cafcf22870",35:"d1bb07b962254f8b4b1a",36:"85568094cb0801459557",37:"70d3be8cd27d8a5dd3c1",38:"ad729b2ce014215da2cb",39:"5546b8cfe0bcc1cec435",40:"5fd64bf167b2b36ccf6f",41:"023ba214a5962192ad71",42:"39423b095dfa15446e55",43:"a50e4a24a54f5bc82d8b",44:"d9ac09a935b4143e537e",45:"245e74826c6fdf78f15f",46:"cace47fc69936ae8cce3",47:"aa3873d680c1d745ea76",48:"5ba25de8f6b2d3cec64b",49:"fd89868bac3cc516dffa",50:"8dead1b8527343487bbe",51:"6f361688840b958e8e45",52:"3021514c7deb67c51ce7",53:"6d2fdaef95cd5f201f4d",54:"576babfc8a28f0d69d6a",55:"37a9ceac2137944e9bfb",56:"fb59b82e91cd3d94d144"}[e]+".js?locale=" + __webpack_public_path_locale__;var n=setTimeout(d,12e4);return s.onerror=s.onload=d,t.appendChild(s),r},a.m=e,a.c=r,a.i=function(e){return e},a.d=function(e,d,r){if(!a.o(e,d))Object.defineProperty(e,d,{configurable:!1,enumerable:!0,get:r})},a.n=function(e){var d=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(d,"a",d),d},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="",a.oe=function(e){throw console.error(e),e}}([]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-jira.create.issue', location = 'jira.create.issue.bundle.js' */
sdJsonp([43],{0:function(e,t,n){var i,r;i=[n(19)],void 0!==(r=function(e){return e}.apply(t,i))&&(e.exports=r)},1:function(e,t,n){var i;void 0!==(i=function(){return jQuery}.call(t,n,t,e))&&(e.exports=i)},10:function(e,t,n){var i,r;i=[n(0),n(1),n(24)],void 0!==(r=function(e,t,n){return n(e,t)}.apply(t,i))&&(e.exports=r)},11:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){if("object"==typeof window)n=window}e.exports=n},12:function(e,t,n){var i,r;i=[n(1),n(0),t],void 0!==(r=function(e,t,n){function i(e,t){c[e]=t}function r(e){var t=e?e.toLowerCase():"";if("true"===t)return!0;if("false"===t)return!1;else return e}function o(t){if(void 0!==c[t])return c[t];var n=e("meta[name='ajs-"+t+"']");if(n.length){return r(n.attr("content"))}}function s(e){return!0===this.get(e)}function a(e){return+this.get(e)}function u(){var t={};return e("meta[name^=ajs-]").each(function(){t[this.name.substring(4)]=this.content}),e.extend(t,c)}var c={};n.set=i,n.get=o,n.getBoolean=s,n.getNumber=a,n.getAllAsMap=u}.apply(t,i))&&(e.exports=r)},125:function(e,t){},127:function(e,t,n){var i,r;i=[n(1)],void 0!==(r=function(e){return function(t,n,i){if(i){var r=t+"/"+encodeURIComponent(n);e.ajax({url:r,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){i({id:n,label:"An error occurred while retrieving CMDB object details"})}).then(function(e){i({id:e.id,label:e.label,fullObjectData:e})})}}}.apply(t,i))&&(e.exports=r)},13:function(e,t,n){var i,r;if(void 0===o)var o={};if(o.table=function(e,t){return"<table"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui'+o.renderExtraClasses(e)+'"'+o.renderExtraAttributes(e)+">"+(e.columnsContent?soy.$$filterNoAutoescape(e.columnsContent):"")+(e.captionContent?"<caption>"+soy.$$filterNoAutoescape(e.captionContent)+"</caption>":"")+(e.theadContent?"<thead>"+soy.$$filterNoAutoescape(e.theadContent)+"</thead>":"")+(e.tfootContent?"<tfoot>"+soy.$$filterNoAutoescape(e.tfootContent)+"</tfoot>":"")+(!e.contentIncludesTbody?"<tbody>":"")+soy.$$filterNoAutoescape(e.content)+(!e.contentIncludesTbody?"</tbody>":"")+"</table>"},goog.DEBUG)o.table.soyTemplateName="aui.table";i=[],void 0!==(r=function(){return o}.apply(t,i))&&(e.exports=r)},139:function(e,t,n){var i,r;i=[n(2),n(7),n(6)],void 0!==(r=function(e,t,n){return e.Model.extend({namedAttributes:{id:Number,name:String,domain:String},defaults:{domain:""},editOrganization:function(e,i){var r={newName:e,newDomain:i};return n.put(t+"/rest/servicedesk/1/organisations/"+this.getId()+"/update",r)}})}.apply(t,i))&&(e.exports=r)},14:function(e,t,n){(function(t,i){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(t,n){!0?e.exports=n():"function"==typeof define&&define.amd?define(n):t.ES6Promise=n()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function o(e){K=e}function s(e){X=e}function a(){return function(){return t.nextTick(p)}}function u(){if(void 0!==W)return function(){W(p)};else return f()}function c(){var e=0,t=new Z(p),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function l(){var e=new MessageChannel;return e.port1.onmessage=p,function(){return e.port2.postMessage(0)}}function f(){var e=setTimeout;return function(){return e(p,1)}}function p(){for(var e=0;e<G;e+=2){(0,ne[e])(ne[e+1]),ne[e]=void 0,ne[e+1]=void 0}G=0}function d(){try{var e=n(16);return W=e.runOnLoop||e.runOnContext,u()}catch(e){return f()}}function v(e,t){var n=arguments,i=this,r=new this.constructor(h);if(void 0===r[re])N(r);var o=i._state;if(o)!function(){var e=n[o-1];X(function(){return A(o,r,e,i._result)})}();else C(i,r,e,t);return r}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(h);return T(n,e),n}function h(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return ue.error=e,ue}}function S(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function k(e,t,n){X(function(e){var i=!1,r=S(n,t,function(n){if(!i)if(i=!0,t!==n)T(e,n);else O(e,n)},function(t){if(!i)i=!0,j(e,t)},"Settle: "+(e._label||" unknown promise"));if(!i&&r)i=!0,j(e,r)},e)}function w(e,t){if(t._state===se)O(e,t._result);else if(t._state===ae)j(e,t._result);else C(t,void 0,function(t){return T(e,t)},function(t){return j(e,t)})}function x(e,t,n){if(t.constructor===e.constructor&&n===v&&t.constructor.resolve===m)w(e,t);else if(n===ue)j(e,ue.error),ue.error=null;else if(void 0===n)O(e,t);else if(r(n))k(e,t,n);else O(e,t)}function T(t,n){if(t===n)j(t,g());else if(e(n))x(t,n,b(n));else O(t,n)}function _(e){if(e._onerror)e._onerror(e._result);I(e)}function O(e,t){if(e._state===oe)if(e._result=t,e._state=se,0!==e._subscribers.length)X(I,e)}function j(e,t){if(e._state===oe)e._state=ae,e._result=t,X(_,e)}function C(e,t,n,i){var r=e._subscribers,o=r.length;if(e._onerror=null,r[o]=t,r[o+se]=n,r[o+ae]=i,0===o&&e._state)X(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)if(i=t[s],r=t[s+n],i)A(n,i,r,o);else r(o);e._subscribers.length=0}}function D(){this.error=null}function E(e,t){try{return e(t)}catch(e){return ce.error=e,ce}}function A(e,t,n,i){var o=r(n),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=E(n,i))===ce)c=!0,a=s.error,s.error=null;else u=!0;if(t===s)return void j(t,y())}else s=i,u=!0;if(t._state!==oe);else if(o&&u)T(t,s);else if(c)j(t,a);else if(e===se)O(t,s);else if(e===ae)j(t,s)}function $(e,t){try{t(function(t){T(e,t)},function(t){j(e,t)})}catch(t){j(e,t)}}function z(){return le++}function N(e){e[re]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function L(e,t){if(this._instanceConstructor=e,this.promise=new e(h),!this.promise[re])N(this.promise);if(V(t)){if(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length)O(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)O(this.promise,this._result)}else j(this.promise,B())}function B(){return new Error("Array Methods must be provided an Array")}function U(e){return new L(this,e).promise}function F(e){var t=this;if(!V(e))return new t(function(e,t){return t(new TypeError("You must pass an array to race."))});else return new t(function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)})}function M(e){var t=this,n=new t(h);return j(n,e),n}function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){if(this[re]=z(),this._result=this._state=void 0,this._subscribers=[],h!==e)"function"!=typeof e&&J(),this instanceof H?$(this,e):R()}function P(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=H}var q=void 0;if(!Array.isArray)q=function(e){return"[object Array]"===Object.prototype.toString.call(e)};else q=Array.isArray;var V=q,G=0,W=void 0,K=void 0,X=function(e,t){if(ne[G]=e,ne[G+1]=t,2===(G+=2))if(K)K(p);else ie()},Q="undefined"!=typeof window?window:void 0,Y=Q||{},Z=Y.MutationObserver||Y.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),ie=void 0;if(ee)ie=a();else if(Z)ie=c();else if(te)ie=l();else if(void 0===Q)ie=d();else ie=f();var re=Math.random().toString(36).substring(16),oe=void 0,se=1,ae=2,ue=new D,ce=new D,le=0;return L.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===oe&&n<e;n++)this._eachEntry(t[n],n)},L.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===m){var r=b(e);if(r===v&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===H){var o=new n(h);x(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},L.prototype._settledAt=function(e,t,n){var i=this.promise;if(i._state===oe)if(this._remaining--,e===ae)j(i,n);else this._result[t]=n;if(0===this._remaining)O(i,this._result)},L.prototype._willSettleAt=function(e,t){var n=this;C(e,void 0,function(e){return n._settledAt(se,t,e)},function(e){return n._settledAt(ae,t,e)})},H.all=U,H.race=F,H.resolve=m,H.reject=M,H._setScheduler=o,H._setAsap=s,H._asap=X,H.prototype={constructor:H,then:v,catch:function(e){return this.then(null,e)}},H.polyfill=P,H.Promise=H,H})}).call(t,n(15),n(11))},148:function(e,t,n){var i,r;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.ServiceEntityField)ServiceDesk.Templates.Components.ServiceEntityField={};if(ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption=function(e,t){return'<li class="service-entity-select-option-lozenge"><span class="service-entity-select-option"><span class="service-entity-select-option-value">'+soy.$$escapeHtml(e.name)+'</span></span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-remove-label" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption.soyTemplateName="ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption";i=[],void 0!==(r=function(){return ServiceDesk.Templates.Components.ServiceEntityField}.apply(t,i))&&(e.exports=r)},149:function(e,t,n){var i,r;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.CmdbObjectField)ServiceDesk.Templates.Components.CmdbObjectField={};if(ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption=function(e,t){return'<li class="cmdb-object-select-option-lozenge"><span class="cmdb-object-select-option"><span class="cmdb-object-select-option-value">'+soy.$$escapeHtml(e.label)+'</span></span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-remove-label" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption.soyTemplateName="ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption";i=[],void 0!==(r=function(){return ServiceDesk.Templates.Components.CmdbObjectField}.apply(t,i))&&(e.exports=r)},15:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){if(m&&d){if(m=!1,d.length)v=d.concat(v);else h=-1;if(v.length)a()}}function a(){if(!m){var e=r(s);m=!0;for(var t=v.length;t;){for(d=v,v=[];++h<t;)if(d)d[h].run();h=-1,t=v.length}d=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,p=e.exports={};!function(){try{if("function"==typeof setTimeout)l=setTimeout;else l=n}catch(e){l=n}try{if("function"==typeof clearTimeout)f=clearTimeout;else f=i}catch(e){f=i}}();var d,v=[],m=!1,h=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(v.push(new u(e,t)),1===v.length&&!m)r(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},150:function(e,t,n){var i,r;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.CustomerOrganizations)ServiceDesk.Templates.Components.CustomerOrganizations={};if(ServiceDesk.Templates.Components.CustomerOrganizations.main=function(e,t){return""+(e.displayedOrganisations.length?ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList({organisations:e.displayedOrganisations,displayRemoveLink:e.displayRemoveLink,removeLinkOptions:e.removeLinkOptions})+(e.hasToggle?e.expanded?aui.buttons.button({extraClasses:"js-orgs-contract",type:"link",text:"Show fewer organizations"}):aui.buttons.button({extraClasses:"js-orgs-expand",type:"link",text:AJS.format("Show all {0} organizations",e.totalOrganisations)}):""):"")},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.main.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.main";if(ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList=function(e,t){for(var n='<ul class="sd-organizations-list">',i=e.organisations,r=i.length,o=0;o<r;o++){var s=i[o];n+='<li class="sd-organization" data-id="'+soy.$$escapeHtml(s.id)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:s.name})+(e.displayRemoveLink?ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink({organisationId:s.id,removeLinkOptions:e.removeLinkOptions}):"")+"</li>"}return n+="</ul>"},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList";if(ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink=function(e,t){return'<div class="'+soy.$$escapeHtml(e.removeLinkOptions.class)+'">'+aui.buttons.button({text:"Remove",type:"link",extraAttributes:{"data-id":e.organisationId},extraClasses:e.removeLinkOptions.trigger})+'<span class="'+soy.$$escapeHtml(e.removeLinkOptions.statusClass)+'"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink";i=[n(18),n(72)],void 0!==(r=function(){return ServiceDesk.Templates.Components.CustomerOrganizations}.apply(t,i))&&(e.exports=r)},151:function(e,t,n){var i,r;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Organizations)ServiceDesk.Templates.Components.Organizations={};if(void 0===ServiceDesk.Templates.Components.Organizations.Field)ServiceDesk.Templates.Components.Organizations.Field={};if(ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge=function(e,t){return'<li class="sd-organizations-lozenge" title="'+soy.$$escapeHtml(e.label)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:e.label,avatarSize:"small"})+'<button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge.soyTemplateName="ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge";i=[n(72)],void 0!==(r=function(){return ServiceDesk.Templates.Components.Organizations.Field}.apply(t,i))&&(e.exports=r)},159:function(e,t,n){var i,r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))e[i]=n[i]}return e};i=[n(1),n(38),n(35),n(32),n(26),n(68),n(160),n(170),n(148)],void 0!==(r=function(e,t,n,i,r,s,a){var u=function(e){return{value:e.id,label:e.name}},c=t.extend({init:function(t,n,i,r){var o=ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption,s=t.properties.value,u=t.properties.label;this.$lozenge=e(o({name:u})),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"));var c=this;a(n,s,function(e){var t=e.name;c.$lozenge.find(".service-entity-select-option-value").text(t),r()}),i(this.$lozenge)},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),l=n.extend({init:function(e){var t=this;this._super(o({},e,{showDropdownButton:!1,itemAttrDisplayed:"label",itemBuilder:function(t){var n=this;return new c(t,e.serviceDetailsBaseUrl,function(e){e.appendTo(n.$selectedItemsContainer)},function(){n.updateItemsIndent()})},ajaxOptions:{url:e.autocompleteUrl,query:!0,formatResponse:this._formatResponse,headers:{"X-B3-Sampled":"1"}}})),this.$container.addClass("service-entity-field"),this._updateNoneItem(),this.$container.find("textarea").keyup(function(){return t._updateTextAreaHasValue()})},_updateTextAreaHasValue:function(){var e=this.$container.find("textarea"),t=e.val();if("string"==typeof t&&""!==t.trim())e.addClass("has-value");else e.removeClass("has-value")},updateItemsIndent:function(){this._updateTextAreaHasValue(),this._updateNoneItem(),this._super(),this._postOnUpdate()},_updateNoneItem:function(){if(void 0===this.$noneItem)this.$noneItem=e('<span class="service-entity-field-none-placeholder">').text("None"),this.$noneItem.appendTo(this.$container);if("true"===this.options.showNoneWhenEmpty){if(0===this.lozengeGroup.items.length)this.$noneItem.show();else this.$noneItem.hide()}else this.$noneItem.hide()},_postOnUpdate:function(){var t=this.options.postOnUpdateUrl;if("string"==typeof t){var n=this.model.getSelectedValues().join(",");if(n===this.lastSavedSerializedServiceIds)return;this.lastSavedSerializedServiceIds=n;var i=this.model.id,r=new FormData;r.append("issueId",String(s.getIssueId())),r.append("atl_token",atl_token()),r.append("singleFieldEdit","true"),r.append("fieldsToForcePresent",i),this.model.getSelectedValues().forEach(function(e){r.append(i,e)}),e.ajax({type:"POST",url:""+AJS.contextPath()+t,data:r,contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0}})}},_formatResponse:function(e){return e.services.map(function(e){return new i(u(e))})}});return r("js-request-service-entity-field",{created:function(e){e.field=new l({element:e,autocompleteUrl:e.dataset.autocompleteUrl,serviceDetailsBaseUrl:e.dataset.serviceDetailsBaseUrl,showNoneWhenEmpty:e.dataset.showNoneWhenEmpty,postOnUpdateUrl:e.dataset.postOnUpdateUrl})}})}.apply(t,i))&&(e.exports=r)},16:function(e,t){},160:function(e,t,n){var i,r;i=[n(1)],void 0!==(r=function(e){return function(t,n,i){if(i){var r=t+"/"+encodeURIComponent(n);e.ajax({url:r,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){i({id:n,name:"Failed to load service!"})}).then(function(e){i({id:e.id,name:e.name})})}}}.apply(t,i))&&(e.exports=r)},161:function(e,t,n){var i,r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))e[i]=n[i]}return e};i=[n(1),n(38),n(35),n(43),n(32),n(26),n(68),n(127),n(171),n(149)],void 0!==(r=function(e,t,n,i,r,s,a,u){var c=function(e){return{value:e.id,label:e.label}},l=function(e){return e.results.map(function(e){return new r(c(e))})},f=t.extend({init:function(t,n,i,r){var o=ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption,s=t.properties.value,a=t.properties.label;this.$lozenge=e(o({label:a})),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"));var c=this;u(n,s,function(e){var t=e.label;c.$lozenge.find(".cmdb-object-select-option-value").text(t),r()}),i(this.$lozenge)},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),p=n.extend({init:function(e){var t=this;this._super(o({},e,{showDropdownButton:!1,itemAttrDisplayed:"label",itemBuilder:function(t){var n=this;return new f(t,e.cmdbObjectDetailsBaseUrl,function(e){e.appendTo(n.$selectedItemsContainer)},function(){n.updateItemsIndent()})},ajaxOptions:{url:e.autocompleteUrl,query:!0,formatResponse:l,headers:{"X-B3-Sampled":"1"}}})),this.$container.addClass("cmdb-object-field"),this._updateNoneItem(),this.$container.find("textarea").keyup(function(){return t._updateTextAreaHasValue()})},_updateTextAreaHasValue:function(){var e=this.$container.find("textarea"),t=e.val();if("string"==typeof t&&""!==t.trim())e.addClass("has-value");else e.removeClass("has-value")},updateItemsIndent:function(){this._updateTextAreaHasValue(),this._updateNoneItem(),this._super(),this._postOnUpdate()},_updateNoneItem:function(){if(void 0===this.$noneItem)this.$noneItem=e('<span class="cmdb-object-field-none-placeholder">').text("None"),this.$noneItem.appendTo(this.$container);if("true"===this.options.showNoneWhenEmpty){if(0===this.lozengeGroup.items.length)this.$noneItem.show();else this.$noneItem.hide()}else this.$noneItem.hide()},_postOnUpdate:function(){var t=this.options.postOnUpdateUrl;if("string"==typeof t){var n=this.model.getSelectedValues().join(",");if(n===this.lastSavedSerializedObjectIds)return;this.lastSavedSerializedObjectIds=n;var i=this.model.id,r=new FormData;r.append("issueId",String(a.getIssueId())),r.append("atl_token",atl_token()),r.append("singleFieldEdit","true"),r.append("fieldsToForcePresent",i),this.model.getSelectedValues().forEach(function(e){r.append(i,e)}),e.ajax({type:"POST",url:""+AJS.contextPath()+t,data:r,contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0}})}}}),d=i.extend({init:function(e){var t=this;this._super(e);var n=e.element.querySelector("option:checked");u(e.cmdbObjectDetailsBaseUrl,n.value,function(e){var n=e.label;t.$container.find("input").val(n)})}});return s("js-cmdb-object-field",{created:function(e){if(e.multiple)e.field=new p({element:e,autocompleteUrl:e.dataset.autocompleteUrl,cmdbObjectDetailsBaseUrl:e.dataset.cmdbObjectDetailsBaseUrl,showNoneWhenEmpty:e.dataset.showNoneWhenEmpty,postOnUpdateUrl:e.dataset.postOnUpdateUrl});else e.field=new d({element:e,errorMessage:"Please select a valid CMDB object",ajaxOptions:{url:e.dataset.autocompleteUrl,query:!0,headers:{"X-B3-Sampled":"1"},formatResponse:l},cmdbObjectDetailsBaseUrl:e.dataset.cmdbObjectDetailsBaseUrl})}})}.apply(t,i))&&(e.exports=r)},162:function(e,t,n){var i,r;i=[n(0),n(2),n(4),n(1),n(26),n(139),n(46),n(150),n(172),n(72),n(125)],void 0!==(r=function(e,t,n,i,r,o,s){var a=t.Collection.extend({model:o}),u=t.Model.extend({namedAttributes:{maxDisplayedOrganisations:Number,expanded:Boolean,organisations:a,displayRemoveLink:Boolean,removeLinkClass:String,removeLinkTrigger:String,removeLinkStatusClass:String},getDisplayedOrganizations:function(){var e=this.getOrganisations().toJSON();if(this.getExpanded())return e;else return e.slice(0,this.getMaxDisplayedOrganisations())},getRemoveLinkOptions:function(){return{class:this.getRemoveLinkClass(),trigger:this.getRemoveLinkTrigger(),statusClass:this.getRemoveLinkStatusClass()}},hasToggle:function(){return this.getOrganisations().length>this.getMaxDisplayedOrganisations()},defaults:{maxDisplayedOrganisations:5,expanded:!1,displayRemoveLink:!1,removeLinkClass:"",removeLinkTrigger:"",removeLinkStatusClass:""}}),c=t.View.extend({template:ServiceDesk.Templates.Components.CustomerOrganizations.main,events:{"click .js-orgs-expand":"onExpandClicked","click .js-orgs-contract":"onContractClicked"},onContractClicked:function(e){this.model.setExpanded(!1),n.trackEvent("servicedesk.issue.customer.organisations.list.contracted",{issueId:s.getIssueId()}),e.preventDefault(),this.render()},onExpandClicked:function(e){this.model.setExpanded(!0),n.trackEvent("servicedesk.issue.customer.organisations.list.expanded",{issueId:s.getIssueId()}),e.preventDefault(),this.render()},render:function(){var e=this.template({displayedOrganisations:this.model.getDisplayedOrganizations(),totalOrganisations:this.model.getOrganisations().length,hasToggle:this.model.hasToggle(),expanded:this.model.getExpanded(),displayRemoveLink:this.model.getDisplayRemoveLink(),removeLinkOptions:this.model.getRemoveLinkOptions()});this.$el.html(e)}});return r("sd-customer-organizations",{created:function(e){var t=i(e);new c({el:t,model:new u(t.data())}).render()}})}.apply(t,i))&&(e.exports=r)},163:function(e,t,n){var i,r;i=[n(0),n(1),n(9),n(2),n(38),n(60),n(35),n(91),n(32),n(26),n(4),n(37),n(46),n(151),n(173)],void 0!==(r=function(e,t,n,i,r,o,s,a,u,c,l,f,p){var d="com.atlassian.servicedesk:sd-customer-organizations",v=o.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),m=r.extend({template:ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge,init:function(e){this.$lozenge=t(this.template(e.properties)),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"))},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),h=s.extend({init:function(){this._super.apply(this,arguments),this.$container.addClass("sd-organizations-field")},_getDefaultOptions:function(e){var n=e.projectId||t(e.element).data("projectId");return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new v,itemAttrDisplayed:"label",errorMessage:!1,itemBuilder:function(e){var t=new m(e);return t.$lozenge.appendTo(this.$selectedItemsContainer),t},ajaxOptions:{url:AJS.contextPath()+"/rest/servicedesk/1/organisations/project/"+n+"/search?",query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(t){var n=e.map(t,function(e){return new u({label:e.name,value:e.id})}),i=void 0;if(t.resultExceedsLimit)i=[new a({items:n,footerHtml:ServiceDesk.Templates.Components.Participants.resultsExceedLimit()})];else i=n;return i},updateItemsIndent:function(){var e=5,n=this.$selectedItemsContainer.outerHeight()+e+e;if(this.$field.css({paddingLeft:e,paddingTop:n,height:n+20+e}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){var t=this;if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)e.defer(e.bind(function(){t.lozengeGroup.shiftFocus(-1)},this))}}}),g=function(){l.trackEvent("servicedesk.issue.customer.organizations.saved",{issueId:p.getIssueId()})},y=function(e,t,n){if(n===d)l.trackEvent("servicedesk.issue.customer.organizations.start.editing",{issueId:p.getIssueId()}),f.one(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,g)},b=function(){f.bind(JIRA.Events.INLINE_EDIT_STARTED,y)},S=function(){f.unbind(JIRA.Events.INLINE_EDIT_STARTED,y),f.unbind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,g)};return c("js-request-organizations-field",{created:function(e){b(),new h({element:e})},detached:function(){S()}})}.apply(t,i))&&(e.exports=r)},170:function(e,t){},171:function(e,t){},172:function(e,t){},173:function(e,t){},18:function(e,t,n){var i,r;if(void 0===o)var o={};if(void 0===o.buttons)o.buttons={};if(o.buttons.button=function(e,t){return e.href?'<a href="'+soy.$$escapeHtml(e.href)+'"'+o.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:"a"}))+">"+o.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</a>":"input"==e.tagName?'<input type="'+soy.$$escapeHtml(e.inputType?e.inputType:"button")+'" '+o.buttons.buttonAttributes(e)+' value="'+soy.$$escapeHtml(e.text)+'" />':"<"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+o.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:e.tagName?e.tagName:"button"}))+">"+o.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+">"},goog.DEBUG)o.buttons.button.soyTemplateName="aui.buttons.button";if(o.buttons.buttons=function(e,t){return"<div"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-buttons'+o.renderExtraClasses(e)+'"'+o.renderExtraAttributes(e)+">"+soy.$$filterNoAutoescape(e.content)+"</div>"},goog.DEBUG)o.buttons.buttons.soyTemplateName="aui.buttons.buttons";if(o.buttons.buttonAttributes=function(e,t){e=e||{};var n=(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-button'+("main"==e.splitButtonType?" aui-button-split-main":"")+(e.dropdown2Target?" aui-dropdown2-trigger"+("more"==e.splitButtonType?" aui-button-split-more":""):"");switch(e.type){case"primary":n+=" aui-button-primary";break;case"link":n+=" aui-button-link";break;case"subtle":n+=" aui-button-subtle"}return n+=o.renderExtraClasses(e)+'"'+o.renderExtraAttributes(e)+(e.isPressed?' aria-pressed="'+soy.$$escapeHtml(e.isPressed)+'"':"")+(e.isDisabled?' aria-disabled="'+soy.$$escapeHtml(e.isDisabled)+'"'+(1==e.isDisabled?"button"==e.tagName||"input"==e.tagName?' disabled="disabled" ':"":""):"")+(e.dropdown2Target?' aria-owns="'+soy.$$escapeHtml(e.dropdown2Target)+'" aria-haspopup="true"':"")+("a"==e.tagName?' tabindex="0"':"")},goog.DEBUG)o.buttons.buttonAttributes.soyTemplateName="aui.buttons.buttonAttributes";if(o.buttons.buttonIcon=function(e,t){return e=e||{},e.iconType?'<span class="'+("aui"==e.iconType?"aui-icon":"")+(e.iconClass?" "+soy.$$escapeHtml(e.iconClass):"")+'">'+(e.iconText?soy.$$escapeHtml(e.iconText)+" ":"")+"</span>":""},goog.DEBUG)o.buttons.buttonIcon.soyTemplateName="aui.buttons.buttonIcon";if(o.buttons.splitButton=function(e,t){return""+o.buttons.button(soy.$$augmentMap(e.splitButtonMain,{splitButtonType:"main"}))+o.buttons.button(soy.$$augmentMap(e.splitButtonMore,{splitButtonType:"more"}))},goog.DEBUG)o.buttons.splitButton.soyTemplateName="aui.buttons.splitButton";i=[n(13)],void 0!==(r=function(){return o.buttons}.apply(t,i))&&(e.exports=r)},19:function(e,t,n){var i,r;(function(){function n(e){function t(t,n,i,r,o,s){for(;o>=0&&o<s;o+=e){var a=r?r[o]:o;i=n(i,t[a],a,t)}return i}return function(n,i,r,o){i=x(i,o,4);var s=!D(n)&&w.keys(n),a=(s||n).length,u=e>0?0:a-1;if(arguments.length<3)r=n[s?s[u]:u],u+=e;return t(n,i,r,s,u,a)}}function o(e){return function(t,n,i){n=T(n,i);for(var r=I(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function s(e,t,n){return function(i,r,o){var s=0,a=I(i);if("number"==typeof o)if(e>0)s=o>=0?o:Math.max(o+a,s);else a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(v.call(i,s,a),w.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(i[o]===r)return o;return-1}}function a(e,t){var n=N.length,i=e.constructor,r=w.isFunction(i)&&i.prototype||f,o="constructor";if(w.has(e,o)&&!w.contains(t,o))t.push(o);for(;n--;)if((o=N[n])in e&&e[o]!==r[o]&&!w.contains(t,o))t.push(o)}var u=this,c=u._,l=Array.prototype,f=Object.prototype,p=Function.prototype,d=l.push,v=l.slice,m=f.toString,h=f.hasOwnProperty,g=Array.isArray,y=Object.keys,b=p.bind,S=Object.create,k=function(){},w=function(e){if(e instanceof w)return e;if(!(this instanceof w))return new w(e);else return void(this._wrapped=e)};if(!0){if(void 0!==e&&e.exports)t=e.exports=w;t._=w}else u._=w;w.VERSION="1.8.3";var x=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},T=function(e,t,n){if(null==e)return w.identity;if(w.isFunction(e))return x(e,t,n);if(w.isObject(e))return w.matcher(e);else return w.property(e)};w.iteratee=function(e,t){return T(e,t,1/0)};var _=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,u=0;u<a;u++){var c=s[u];if(!t||void 0===n[c])n[c]=o[c]}return n}},O=function(e){if(!w.isObject(e))return{};if(S)return S(e);k.prototype=e;var t=new k;return k.prototype=null,t},j=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,I=j("length"),D=function(e){var t=I(e);return"number"==typeof t&&t>=0&&t<=C};w.each=w.forEach=function(e,t,n){t=x(t,n);var i,r;if(D(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=w.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},w.map=w.collect=function(e,t,n){t=T(t,n);for(var i=!D(e)&&w.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(e,t,n){var i;if(D(e))i=w.findIndex(e,t,n);else i=w.findKey(e,t,n);if(void 0!==i&&-1!==i)return e[i]},w.filter=w.select=function(e,t,n){var i=[];return t=T(t,n),w.each(e,function(e,n,r){if(t(e,n,r))i.push(e)}),i},w.reject=function(e,t,n){return w.filter(e,w.negate(T(t)),n)},w.every=w.all=function(e,t,n){t=T(t,n);for(var i=!D(e)&&w.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},w.some=w.any=function(e,t,n){t=T(t,n);for(var i=!D(e)&&w.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,i){if(!D(e))e=w.values(e);if("number"!=typeof n||i)n=0;return w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=v.call(arguments,2),i=w.isFunction(t);return w.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var i,r,o=-1/0,s=-1/0;if(null==t&&null!=e){e=D(e)?e:w.values(e);for(var a=0,u=e.length;a<u;a++)if((i=e[a])>o)o=i}else t=T(t,n),w.each(e,function(e,n,i){if((r=t(e,n,i))>s||r===-1/0&&o===-1/0)o=e,s=r});return o},w.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t&&null!=e){e=D(e)?e:w.values(e);for(var a=0,u=e.length;a<u;a++)if((i=e[a])<o)o=i}else t=T(t,n),w.each(e,function(e,n,i){if((r=t(e,n,i))<s||r===1/0&&o===1/0)o=e,s=r});return o},w.shuffle=function(e){for(var t,n=D(e)?e:w.values(e),i=n.length,r=Array(i),o=0;o<i;o++){if((t=w.random(0,o))!==o)r[o]=r[t];r[t]=n[o]}return r},w.sample=function(e,t,n){if(null==t||n){if(!D(e))e=w.values(e);return e[w.random(e.length-1)]}return w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=T(t,n),w.pluck(w.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,i){var r={};return n=T(n,i),w.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)}),r}};w.groupBy=E(function(e,t,n){if(w.has(e,n))e[n].push(t);else e[n]=[t]}),w.indexBy=E(function(e,t,n){e[n]=t}),w.countBy=E(function(e,t,n){if(w.has(e,n))e[n]++;else e[n]=1}),w.toArray=function(e){if(!e)return[];if(w.isArray(e))return v.call(e);if(D(e))return w.map(e,w.identity);else return w.values(e)},w.size=function(e){if(null==e)return 0;else return D(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=T(t,n);var i=[],r=[];return w.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},w.first=w.head=w.take=function(e,t,n){if(null!=e)if(null==t||n)return e[0];else return w.initial(e,e.length-t)},w.initial=function(e,t,n){return v.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){if(null!=e)if(null==t||n)return e[e.length-1];else return w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return v.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var A=function(e,t,n,i){for(var r=[],o=0,s=i||0,a=I(e);s<a;s++){var u=e[s];if(D(u)&&(w.isArray(u)||w.isArguments(u))){if(!t)u=A(u,t,n);var c=0,l=u.length;for(r.length+=l;c<l;)r[o++]=u[c++]}else if(!n)r[o++]=u}return r};w.flatten=function(e,t){return A(e,t,!1)},w.without=function(e){return w.difference(e,v.call(arguments,1))},w.uniq=w.unique=function(e,t,n,i){if(!w.isBoolean(t))i=n,n=t,t=!1;if(null!=n)n=T(n,i);for(var r=[],o=[],s=0,a=I(e);s<a;s++){var u=e[s],c=n?n(u,s,e):u;if(t){if(!s||o!==c)r.push(u);o=c}else if(n){if(!w.contains(o,c))o.push(c),r.push(u)}else if(!w.contains(r,u))r.push(u)}return r},w.union=function(){return w.uniq(A(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=I(e);i<r;i++){var o=e[i];if(!w.contains(t,o)){for(var s=1;s<n&&w.contains(arguments[s],o);s++);if(s===n)t.push(o)}}return t},w.difference=function(e){var t=A(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,I).length||0,n=Array(t),i=0;i<t;i++)n[i]=w.pluck(e,i);return n},w.object=function(e,t){for(var n={},i=0,r=I(e);i<r;i++)if(t)n[e[i]]=t[i];else n[e[i][0]]=e[i][1];return n},w.findIndex=o(1),w.findLastIndex=o(-1),w.sortedIndex=function(e,t,n,i){n=T(n,i,1);for(var r=n(t),o=0,s=I(e);o<s;){var a=Math.floor((o+s)/2);if(n(e[a])<r)o=a+1;else s=a}return o},w.indexOf=s(1,w.findIndex,w.sortedIndex),w.lastIndexOf=s(-1,w.findLastIndex),w.range=function(e,t,n){if(null==t)t=e||0,e=0;n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var $=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=O(e.prototype),s=e.apply(o,r);if(w.isObject(s))return s;else return o};w.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,v.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=v.call(arguments,2),i=function(){return $(e,i,t,this,n.concat(v.call(arguments)))};return i},w.partial=function(e){var t=v.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),s=0;s<r;s++)o[s]=t[s]===w?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return $(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);if(!w.has(r,o))r[o]=e.apply(this,arguments);return r[o]};return n.cache={},n},w.delay=function(e,t){var n=v.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var i,r,o,s=null,a=0;if(!n)n={};var u=function(){if(a=!1===n.leading?0:w.now(),s=null,o=e.apply(i,r),!s)i=r=null};return function(){var c=w.now();if(!a&&!1===n.leading)a=c;var l=t-(c-a);if(i=this,r=arguments,l<=0||l>t){if(s)clearTimeout(s),s=null;if(a=c,o=e.apply(i,r),!s)i=r=null}else if(!s&&!1!==n.trailing)s=setTimeout(u,l);return o}},w.debounce=function(e,t,n){var i,r,o,s,a,u=function(){var c=w.now()-s;if(c<t&&c>=0)i=setTimeout(u,t-c);else if(i=null,!n)if(a=e.apply(o,r),!i)o=r=null};return function(){o=this,r=arguments,s=w.now();var c=n&&!i;if(!i)i=setTimeout(u,t);if(c)a=e.apply(o,r),o=r=null;return a}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var n;return function(){if(--e>0)n=t.apply(this,arguments);if(e<=1)t=null;return n}},w.once=w.partial(w.before,2);var z=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)if(w.has(e,n))t.push(n);if(z)a(e,t);return t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);if(z)a(e,t);return t},w.values=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},w.mapObject=function(e,t,n){t=T(t,n);for(var i,r=w.keys(e),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=t(e[i],i,e);return s},w.pairs=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},w.invert=function(e){for(var t={},n=w.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)if(w.isFunction(e[n]))t.push(n);return t.sort()},w.extend=_(w.allKeys),w.extendOwn=w.assign=_(w.keys),w.findKey=function(e,t,n){t=T(t,n);for(var i,r=w.keys(e),o=0,s=r.length;o<s;o++)if(i=r[o],t(e[i],i,e))return i},w.pick=function(e,t,n){var i,r,o={},s=e;if(null==s)return o;if(w.isFunction(t))r=w.allKeys(s),i=x(t,n);else r=A(arguments,!1,!1,1),i=function(e,t,n){return t in n},s=Object(s);for(var a=0,u=r.length;a<u;a++){var c=r[a],l=s[c];if(i(l,c,s))o[c]=l}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var i=w.map(A(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(i,t)}}return w.pick(e,t,n)},w.defaults=_(w.allKeys,!0),w.create=function(e,t){var n=O(e);if(t)w.extendOwn(n,t);return n},w.clone=function(e){if(!w.isObject(e))return e;else return w.isArray(e)?e.slice():w.extend({},e)},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var L=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e instanceof w)e=e._wrapped;if(t instanceof w)t=t._wrapped;var r=m.call(e);if(r!==m.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!=+e)return+t!=+t;else return 0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(w.isFunction(s)&&s instanceof s&&w.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!L(e[u],t[u],n,i))return!1}else{var c,l=w.keys(e);if(u=l.length,w.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!w.has(t,c)||!L(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};if(w.isEqual=function(e,t){return L(e,t)},w.isEmpty=function(e){if(null==e)return!0;if(D(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e)))return 0===e.length;else return 0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=g||function(e){return"[object Array]"===m.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),!w.isArguments(arguments))w.isArguments=function(e){return w.has(e,"callee")};if("function"!=typeof/./&&"object"!=typeof Int8Array)w.isFunction=function(e){return"function"==typeof e||!1};w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===m.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&h.call(e,t)},w.noConflict=function(){return u._=c,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=j,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var i=Array(Math.max(0,e));t=x(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},w.random=function(e,t){if(null==t)t=e,e=0;return e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=w.invert(B),F=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};w.escape=F(B),w.unescape=F(U),w.result=function(e,t,n){var i=null==e?void 0:e[t];if(void 0===i)i=n;return w.isFunction(i)?i.call(e):i};var M=0;w.uniqueId=function(e){var t=++M+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,P=function(e){return"\\"+R[e]};w.template=function(e,t,n){if(!t&&n)t=n;t=w.defaults({},t,w.templateSettings);var i=RegExp([(t.escape||J).source,(t.interpolate||J).source,(t.evaluate||J).source].join("|")+"|$","g"),r=0,o="__p+='";if(e.replace(i,function(t,n,i,s,a){if(o+=e.slice(r,a).replace(H,P),r=a+t.length,n)o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";else if(i)o+="'+\n((__t=("+i+"))==null?'':__t)+\n'";else if(s)o+="';\n"+s+"\n__p+='";return t}),o+="';\n",!t.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,w)},u=t.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},w.chain=function(e){var t=w(e);return t._chain=!0,t};var q=function(e,t){return e._chain?w(t).chain():t};if(w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),q(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var n=this._wrapped;if(t.apply(n,arguments),("shift"===e||"splice"===e)&&0===n.length)delete n[0];return q(this,n)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},!0)i=[],void 0!==(r=function(){return w}.apply(t,i))&&(e.exports=r)}).call(this)},2:function(e,t,n){var i,r;i=[n(0),n(10),n(25)],void 0!==(r=function(e,t,n){var i=n(e,t);return i.Model.prototype.ignoreUnknownAttributes=!0,i}.apply(t,i))&&(e.exports=r)},24:function(e,t){e.exports=window.require("atlassian/libs/factories/backbone-1.0.0")},25:function(e,t){e.exports=window.require("atlassian/libs/factories/brace-1.1.0")},26:function(e,t,n){var i,r;i=[n(0),n(9)],void 0!==(r=function(e,t){var n=void 0;return function(){var i=this,r=e.toArray(arguments);return{install:e.once(function(){try{n=t.apply(i,r)}catch(e){console.log("Failed to install skate component, maybe it has already been installed")}return n})}}}.apply(t,i))&&(e.exports=r)},27:function(e,t,n){var i,r;i=[n(12),t],void 0!==(r=function(e,t){t.getPluginVersion=function(){return(AJS.Meta||e).get("sdPluginVersion")}}.apply(t,i))&&(e.exports=r)},28:function(e,t){e.exports=window.require("atlassian/libs/skate-0.12.6")},32:function(e,t){e.exports=window.require("jira/ajs/list/item-descriptor")},35:function(e,t){e.exports=window.require("jira/ajs/select/multi-select")},37:function(e,t){e.exports=window.require("jira/util/events")},38:function(e,t){e.exports=window.require("jira/ajs/control")},4:function(e,t,n){var i,r;i=[n(0),n(1),n(27),t],void 0!==(r=function(e,t,n,i){function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function o(){return""+r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}function s(){if(window.trackingSession.setTimeoutId)clearTimeout(window.trackingSession.setTimeoutId);window.trackingSession.setTimeoutId=setTimeout(function(){if(!window.trackingSession.isUserActive)i.trackEvent("servicedesk.inactive-timeout",{lastEvent:window.trackingSession.actionBeforeInactive},!1,!0)},m)}function a(){window.trackingSession.timeLoaded=Math.round(performance.now()),window.trackingSession.isUserActive=!1,s()}function u(){window.trackingSession={actionBeforeInactive:"pageLoad",sessionIdentifier:o(),isUserActive:!1},a(),s(window.trackingSession)}function c(){if(!window.trackingSession)u()}function l(){if(AJS&&AJS.Meta)return AJS.Meta.get("projectId");else return t("body").data("projectId")||null}function f(e,t){if(v)AJS.log("Tracking page view: "+e,t);var n=e.replace(/^\/?/,"").replace(/\//g,".");this.trackEvent("page.view."+n,t)}function p(t,i,r,o){if(c(),"string"==typeof i)t=[t,i].join("."),i=arguments[2];if(v)AJS.log("TrackEvent: "+t,i);if(!r&&0!==t.indexOf("servicedesk."))t="servicedesk."+t;var s={};if(void 0!==i)if(!e.isObject(i)||e.isArray(i)){var a="A tracking call was made with invalid properties. Data should be key-value pairs. Event name is '"+t+"' and data is: ";AJS.warn(a,i)}else e.extend(s,i);var u=n.getPluginVersion();if(u)s.sdVersion=u;else s.sdVersion=s.sdVersion||"unknown";var f=l();if(f)s.projectId=s.projectId||f;if(window.trackingSession)s.sessionId=window.trackingSession.sessionIdentifier;if(o&&!window.trackingSession.isUserActive)window.trackingSession.timeLoaded=window.trackingSession.timeLoaded||Math.round(performance.now()),s.timeToFirstAction=Math.round(performance.now())-window.trackingSession.timeLoaded;var p={name:t,properties:s};AJS.EventQueue.push(p)}function d(e,t,n){window.trackingSession.actionBeforeInactive=e,p(e,t,n,!0),window.trackingSession.isUserActive=!0}var v=!1,m=3e5;AJS.EventQueue=AJS.EventQueue||[],c(),i.trackEvent=p,i.trackPageview=f,i.trackAction=d,i.resetTimer=a}.apply(t,i))&&(e.exports=r)},410:function(e,t,n){var i,r;i=[n(4),n(46),n(37),t],void 0!==(r=function(e,t,n,i){var r=function(){e.trackEvent("servicedesk.issue.approvers.saved",{issueId:t.getIssueId()})},o=function(e){return e.data("name")==="Approvers"};i.addAnalyticListeners=function(){n.bind(JIRA.Events.INLINE_EDIT_STARTED,function(i,s,a,u,c){if(n.unbind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,r),o(c))e.trackEvent("servicedesk.issue.approvers.start.editing",{issueId:t.getIssueId()}),n.one(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,r)})}}.apply(t,i))&&(e.exports=r)},43:function(e,t){e.exports=window.require("jira/ajs/select/single-select")},46:function(e,t){e.exports=window.require("jira/issue")},537:function(e,t,n){!function(e,t){e(function(){t.install()})}(n(1),n(159))},542:function(e,t,n){!function(e,t){e(function(){t.install()})}(n(1),n(161))},550:function(e,t,n){!function(e,t,n,i){e(function(){t.install(),n.install(),i.addAnalyticListeners()})}(n(1),n(162),n(163),n(410))},6:function(e,t,n){var i,r;i=[n(1),n(0),t],void 0!==(r=function(e,t,n){function i(e,t){var n=void 0;if("timeout"===t)n="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.";else if(401===e.status)n="You are not authorized to perform this operation.  Please log in.";else if(e.responseText&&e.responseText.length>0)n="The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.";else n="The Jira server could not be contacted. This may be a temporary glitch or the server may be down.";return n}function r(e){return e.then(null,function(e){return t.extend(e,n.getErrorCollection(e))}),e}function o(e,n,i,r,o){return t.extend({},m,{url:e,type:n,dataType:i,contentType:r,timeout:h,headers:o||{}})}function s(n,i){var s=o(n,"GET","json","application/json",i);if(t.isObject(n))s=t.extend(s,n);else s.url=n;return r(e.ajax(s))}function a(t,n,i,s,a,u){var c=o(i,"POST",t,n,a);if("application/json"===n)c.data=JSON.stringify(s);else c.data=s;if(u)c.timeout=u;return r(e.ajax(c))}function u(e,t,n,i){return r(a("json","application/json",e,t,n,i))}function c(e,t,n,i){return r(a("html","application/json",e,t,n,i))}function l(e,t,n,i,o){return r(a("json",e,t,n,i,o))}function f(t,n,i){var s=o(t,"PUT","json","application/json",i);return s.data=JSON.stringify(n),r(e.ajax(s))}function p(t,n){var i=o(t,"DELETE","json","application/json",n);return r(e.ajax(i))}function d(t){e(document).ajaxSuccess(t)}function v(t){e(document).off("ajaxSuccess",t)}var m={traditional:!0},h=18e4;n.get=s,n.post=u,n.postForHtml=c,n.postWithContentType=l,n.put=f,n.del=p,n.registerGlobalAjaxSuccessHandler=d,n.unregisterGlobalAjaxSuccessHandler=v,n.markupWithErrors=r,n.getErrorCollection=function(e){var t=void 0;try{t=JSON.parse(e.responseText)}catch(e){t={errors:[{errorMessage:"Something has gone wrong with your request. If symptoms persist contact your System Administrator."}]}}return t},n.getErrorMessage=function(e){try{return JSON.parse(e.responseText).errors[0].errorMessage}catch(e){return "Something has gone wrong with your request. If symptoms persist contact your System Administrator."}},n.buildSimpleErrorContent=i}.apply(t,i))&&(e.exports=r)},60:function(e,t){e.exports=window.require("jira/ajs/select/multi-select/lozenge-group")},68:function(e,t,n){var i;void 0!==(i=function(){return JIRA.Issue}.call(t,n,t,e))&&(e.exports=i)},7:function(e,t,n){var i,r;i=[n(12)],void 0!==(r=function(e){var t=e.get("context-path");if(void 0===t)if(AJS&&AJS.contextPath)t=AJS.contextPath();return t}.apply(t,i))&&(e.exports=r)},72:function(e,t,n){var i,r;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Components)ServiceDesk.Templates.Shared.Components={};if(void 0===ServiceDesk.Templates.Shared.Components.CustomerOrganization)ServiceDesk.Templates.Shared.Components.CustomerOrganization={};if(ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer=function(e,t){return'<span class="sd-organization" title="'+soy.$$escapeHtml(e.organisationName)+'"><span class="sd-organization-cell">'+(e.avatarUrl?'<img src="'+soy.$$escapeHtml(e.avatarUrl)+'" />':'<div class="default-organization-avatar"></div>')+'</span><span class="sd-organization-value">'+soy.$$escapeHtml(e.organisationName)+"</span></span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer.soyTemplateName="ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer";i=[],void 0!==(r=function(){return ServiceDesk.Templates.Shared.Components.CustomerOrganization}.apply(t,i))&&(e.exports=r)},8:function(e,t,n){"use strict";e.exports=n(14).polyfill()},808:function(e,t,n){n(8),n(550),n(537),e.exports=n(542)},9:function(e,t,n){var i,r;i=[n(28)],void 0!==(r=function(e){return e}.apply(t,i))&&(e.exports=r)},91:function(e,t){e.exports=window.require("jira/ajs/list/group-descriptor")}},[808]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-jira.create.issue.asset.unlicensed', location = 'jira.create.issue.asset.unlicensed.bundle.js' */
sdJsonp([47],{0:function(n,t,e){var r,i;r=[e(19)],void 0!==(i=function(n){return n}.apply(t,r))&&(n.exports=i)},1:function(n,t,e){var r;void 0!==(r=function(){return jQuery}.call(t,e,t,n))&&(n.exports=r)},10:function(n,t,e){var r,i;r=[e(0),e(1),e(24)],void 0!==(i=function(n,t,e){return e(n,t)}.apply(t,r))&&(n.exports=i)},11:function(n,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){if("object"==typeof window)e=window}n.exports=e},13:function(n,t,e){var r,i;if(void 0===o)var o={};if(o.table=function(n,t){return"<table"+(n.id?' id="'+soy.$$escapeHtml(n.id)+'"':"")+' class="aui'+o.renderExtraClasses(n)+'"'+o.renderExtraAttributes(n)+">"+(n.columnsContent?soy.$$filterNoAutoescape(n.columnsContent):"")+(n.captionContent?"<caption>"+soy.$$filterNoAutoescape(n.captionContent)+"</caption>":"")+(n.theadContent?"<thead>"+soy.$$filterNoAutoescape(n.theadContent)+"</thead>":"")+(n.tfootContent?"<tfoot>"+soy.$$filterNoAutoescape(n.tfootContent)+"</tfoot>":"")+(!n.contentIncludesTbody?"<tbody>":"")+soy.$$filterNoAutoescape(n.content)+(!n.contentIncludesTbody?"</tbody>":"")+"</table>"},goog.DEBUG)o.table.soyTemplateName="aui.table";r=[],void 0!==(i=function(){return o}.apply(t,r))&&(n.exports=i)},14:function(n,t,e){(function(t,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(t,e){!0?n.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function n(n){return"function"==typeof n||"object"==typeof n&&null!==n}function i(n){return"function"==typeof n}function o(n){Y=n}function u(n){V=n}function s(){return function(){return t.nextTick(p)}}function a(){if(void 0!==Q)return function(){Q(p)};else return l()}function c(){var n=0,t=new Z(p),e=document.createTextNode("");return t.observe(e,{characterData:!0}),function(){e.data=n=++n%2}}function f(){var n=new MessageChannel;return n.port1.onmessage=p,function(){return n.port2.postMessage(0)}}function l(){var n=setTimeout;return function(){return n(p,1)}}function p(){for(var n=0;n<J;n+=2){(0,en[n])(en[n+1]),en[n]=void 0,en[n+1]=void 0}J=0}function h(){try{var n=e(16);return Q=n.runOnLoop||n.runOnContext,a()}catch(n){return l()}}function v(n,t){var e=arguments,r=this,i=new this.constructor(y);if(void 0===i[on])z(i);var o=r._state;if(o)!function(){var n=e[o-1];V(function(){return O(o,i,n,r._result)})}();else $(r,i,n,t);return i}function d(n){var t=this;if(n&&"object"==typeof n&&n.constructor===t)return n;var e=new t(y);return j(e,n),e}function y(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function b(n){try{return n.then}catch(n){return cn.error=n,cn}}function w(n,t,e,r){try{n.call(t,e,r)}catch(n){return n}}function _(n,t,e){V(function(n){var r=!1,i=w(e,t,function(e){if(!r)if(r=!0,t!==e)j(n,e);else k(n,e)},function(t){if(!r)r=!0,S(n,t)},"Settle: "+(n._label||" unknown promise"));if(!r&&i)r=!0,S(n,i)},n)}function x(n,t){if(t._state===sn)k(n,t._result);else if(t._state===an)S(n,t._result);else $(t,void 0,function(t){return j(n,t)},function(t){return S(n,t)})}function A(n,t,e){if(t.constructor===n.constructor&&e===v&&t.constructor.resolve===d)x(n,t);else if(e===cn)S(n,cn.error),cn.error=null;else if(void 0===e)k(n,t);else if(i(e))_(n,t,e);else k(n,t)}function j(t,e){if(t===e)S(t,m());else if(n(e))A(t,e,b(e));else k(t,e)}function T(n){if(n._onerror)n._onerror(n._result);C(n)}function k(n,t){if(n._state===un)if(n._result=t,n._state=sn,0!==n._subscribers.length)V(C,n)}function S(n,t){if(n._state===un)n._state=an,n._result=t,V(T,n)}function $(n,t,e,r){var i=n._subscribers,o=i.length;if(n._onerror=null,i[o]=t,i[o+sn]=e,i[o+an]=r,0===o&&n._state)V(C,n)}function C(n){var t=n._subscribers,e=n._state;if(0!==t.length){for(var r=void 0,i=void 0,o=n._result,u=0;u<t.length;u+=3)if(r=t[u],i=t[u+e],r)O(e,r,i,o);else i(o);n._subscribers.length=0}}function E(){this.error=null}function F(n,t){try{return n(t)}catch(n){return fn.error=n,fn}}function O(n,t,e,r){var o=i(e),u=void 0,s=void 0,a=void 0,c=void 0;if(o){if((u=F(e,r))===fn)c=!0,s=u.error,u.error=null;else a=!0;if(t===u)return void S(t,g())}else u=r,a=!0;if(t._state!==un);else if(o&&a)j(t,u);else if(c)S(t,s);else if(n===sn)k(t,u);else if(n===an)S(t,u)}function I(n,t){try{t(function(t){j(n,t)},function(t){S(n,t)})}catch(t){S(n,t)}}function D(){return ln++}function z(n){n[on]=ln++,n._state=void 0,n._result=void 0,n._subscribers=[]}function N(n,t){if(this._instanceConstructor=n,this.promise=new n(y),!this.promise[on])z(this.promise);if(G(t)){if(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length)k(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)k(this.promise,this._result)}else S(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function B(n){return new N(this,n).promise}function L(n){var t=this;if(!G(n))return new t(function(n,t){return t(new TypeError("You must pass an array to race."))});else return new t(function(e,r){for(var i=n.length,o=0;o<i;o++)t.resolve(n[o]).then(e,r)})}function q(n){var t=this,e=new t(y);return S(e,n),e}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(n){if(this[on]=D(),this._result=this._state=void 0,this._subscribers=[],y!==n)"function"!=typeof n&&H(),this instanceof R?I(this,n):P()}function U(){var n=void 0;if(void 0!==r)n=r;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=n.Promise;if(t){var e=null;try{e=Object.prototype.toString.call(t.resolve())}catch(n){}if("[object Promise]"===e&&!t.cast)return}n.Promise=R}var K=void 0;if(!Array.isArray)K=function(n){return"[object Array]"===Object.prototype.toString.call(n)};else K=Array.isArray;var G=K,J=0,Q=void 0,Y=void 0,V=function(n,t){if(en[J]=n,en[J+1]=t,2===(J+=2))if(Y)Y(p);else rn()},W="undefined"!=typeof window?window:void 0,X=W||{},Z=X.MutationObserver||X.WebKitMutationObserver,nn="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),tn="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,en=new Array(1e3),rn=void 0;if(nn)rn=s();else if(Z)rn=c();else if(tn)rn=f();else if(void 0===W)rn=h();else rn=l();var on=Math.random().toString(36).substring(16),un=void 0,sn=1,an=2,cn=new E,fn=new E,ln=0;return N.prototype._enumerate=function(){for(var n=this.length,t=this._input,e=0;this._state===un&&e<n;e++)this._eachEntry(t[e],e)},N.prototype._eachEntry=function(n,t){var e=this._instanceConstructor,r=e.resolve;if(r===d){var i=b(n);if(i===v&&n._state!==un)this._settledAt(n._state,t,n._result);else if("function"!=typeof i)this._remaining--,this._result[t]=n;else if(e===R){var o=new e(y);A(o,n,i),this._willSettleAt(o,t)}else this._willSettleAt(new e(function(t){return t(n)}),t)}else this._willSettleAt(r(n),t)},N.prototype._settledAt=function(n,t,e){var r=this.promise;if(r._state===un)if(this._remaining--,n===an)S(r,e);else this._result[t]=e;if(0===this._remaining)k(r,this._result)},N.prototype._willSettleAt=function(n,t){var e=this;$(n,void 0,function(n){return e._settledAt(sn,t,n)},function(n){return e._settledAt(an,t,n)})},R.all=B,R.race=L,R.resolve=d,R.reject=q,R._setScheduler=o,R._setAsap=u,R._asap=V,R.prototype={constructor:R,then:v,catch:function(n){return this.then(null,n)}},R.polyfill=U,R.Promise=R,R})}).call(t,e(15),e(11))},146:function(n,t,e){var r,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Assets)ServiceDesk.Templates.Components.Assets={};if(void 0===ServiceDesk.Templates.Components.Assets.Field)ServiceDesk.Templates.Components.Assets.Field={};if(ServiceDesk.Templates.Components.Assets.Field.assetLozenge=function(n,t){return'<li class="sd-asset-lozenge" title="'+soy.$$escapeHtml(n.asset.label.value)+'"><span class="sd-asset" title="'+soy.$$escapeHtml(n.asset.label.value)+'">'+("Unknown Asset"==n.asset.label.value?'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml("Unknown Asset")+"&nbsp;</span>"+aui.icons.icon({useIconFont:!0,icon:"warning",extraClasses:"aui-iconfont-warning"}):'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml(n.asset.label.value)+"</span>")+'</span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.assetLozenge.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.assetLozenge";r=[e(39)],void 0!==(i=function(){return ServiceDesk.Templates.Components.Assets.Field}.apply(t,r))&&(n.exports=i)},15:function(n,t){function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(n){if(f===setTimeout)return setTimeout(n,0);if((f===e||!f)&&setTimeout)return f=setTimeout,setTimeout(n,0);try{return f(n,0)}catch(t){try{return f.call(null,n,0)}catch(t){return f.call(this,n,0)}}}function o(n){if(l===clearTimeout)return clearTimeout(n);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(n);try{return l(n)}catch(t){try{return l.call(null,n)}catch(t){return l.call(this,n)}}}function u(){if(d&&h){if(d=!1,h.length)v=h.concat(v);else y=-1;if(v.length)s()}}function s(){if(!d){var n=i(u);d=!0;for(var t=v.length;t;){for(h=v,v=[];++y<t;)if(h)h[y].run();y=-1,t=v.length}h=null,d=!1,o(n)}}function a(n,t){this.fun=n,this.array=t}function c(){}var f,l,p=n.exports={};!function(){try{if("function"==typeof setTimeout)f=setTimeout;else f=e}catch(n){f=e}try{if("function"==typeof clearTimeout)l=clearTimeout;else l=r}catch(n){l=r}}();var h,v=[],d=!1,y=-1;p.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(v.push(new a(n,t)),1===v.length&&!d)i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(n){return[]},p.binding=function(n){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(n){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},156:function(n,t,e){var r,i;r=[e(1),e(146),e(90)],void 0!==(i=function(n){var t=ServiceDesk.Templates.Components.Assets.Field.assetLozenge;return function(e){return n(t({asset:e}))}}.apply(t,r))&&(n.exports=i)},157:function(n,t,e){var r,i;r=[e(0),e(1),e(9),e(2),e(38),e(60),e(35),e(32),e(26),e(156),e(88),e(89),e(90)],void 0!==(i=function(n,t,e,r,i,o,u,s,a,c,f,l){var p=o.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),h=i.extend({init:function(n,t){var e=this;l(n.properties.value,function(n){e.$lozenge=c(n),e._assignEvents("instance",e)._assignEvents("removeButton",e.$lozenge.find(".js-remove")),t(e.$lozenge)})},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),v=u.extend({init:function(){this._super.apply(this,arguments),this.$container.addClass("sd-asset-field")},_getTypeOriginAsSerializedType:function(n){return encodeURIComponent((n.appKey+"/"+n.originId).toLowerCase())},_getAssetFieldConfigQueryParamsAsString:function(n,t){var e=this,r="";if(""!==t)r+="prioritizedAssignee="+t+"&";return n.types.forEach(function(n){r+="type="+e._getTypeOriginAsSerializedType(n)+"&"}),r.slice(0,-1)},_getDefaultOptions:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=t(e[0].element).data().assetFieldConfig,o=t(e[0].element).data().assetFieldReporterAccountId,u="";if(i)u=this._getAssetFieldConfigQueryParamsAsString(i,o);return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new p,itemAttrDisplayed:"label",errorMessage:!1,matchingStrategy:".*",itemBuilder:function(n){var t=this;return new h(n,function(n){n.appendTo(t.$selectedItemsContainer),t.updateItemsIndent()})},ajaxOptions:{url:AJS.contextPath()+"/rest/assetapi/asset/search?"+u,query:!0,formatResponse:this._formatResponse,headers:{"X-B3-Sampled":"1"}}})},_formatResponse:function(t){return n.map(t.values,function(n){return new s(f(n))})},updateItemsIndent:function(){var n=5,e=this.$selectedItemsContainer.outerHeight()+n+n;if(this.$field.css({paddingLeft:n,paddingTop:e,height:e+20+n}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){var t=this;if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)n.defer(n.bind(function(){t.lozengeGroup.shiftFocus(-1)},this))}}});return a("js-request-asset-field",{created:function(n){n.field=new v({element:n})}})}.apply(t,r))&&(n.exports=i)},16:function(n,t){},19:function(n,t,e){var r,i;(function(){function e(n){function t(t,e,r,i,o,u){for(;o>=0&&o<u;o+=n){var s=i?i[o]:o;r=e(r,t[s],s,t)}return r}return function(e,r,i,o){r=A(r,o,4);var u=!E(e)&&x.keys(e),s=(u||e).length,a=n>0?0:s-1;if(arguments.length<3)i=e[u?u[a]:a],a+=n;return t(e,r,i,u,a,s)}}function o(n){return function(t,e,r){e=j(e,r);for(var i=C(t),o=n>0?0:i-1;o>=0&&o<i;o+=n)if(e(t[o],o,t))return o;return-1}}function u(n,t,e){return function(r,i,o){var u=0,s=C(r);if("number"==typeof o)if(n>0)u=o>=0?o:Math.max(o+s,u);else s=o>=0?Math.min(o+1,s):o+s+1;else if(e&&o&&s)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=t(v.call(r,u,s),x.isNaN),o>=0?o+u:-1;for(o=n>0?u:s-1;o>=0&&o<s;o+=n)if(r[o]===i)return o;return-1}}function s(n,t){var e=z.length,r=n.constructor,i=x.isFunction(r)&&r.prototype||l,o="constructor";if(x.has(n,o)&&!x.contains(t,o))t.push(o);for(;e--;)if((o=z[e])in n&&n[o]!==i[o]&&!x.contains(t,o))t.push(o)}var a=this,c=a._,f=Array.prototype,l=Object.prototype,p=Function.prototype,h=f.push,v=f.slice,d=l.toString,y=l.hasOwnProperty,m=Array.isArray,g=Object.keys,b=p.bind,w=Object.create,_=function(){},x=function(n){if(n instanceof x)return n;if(!(this instanceof x))return new x(n);else return void(this._wrapped=n)};if(!0){if(void 0!==n&&n.exports)t=n.exports=x;t._=x}else a._=x;x.VERSION="1.8.3";var A=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,i){return n.call(t,e,r,i)};case 4:return function(e,r,i,o){return n.call(t,e,r,i,o)}}return function(){return n.apply(t,arguments)}},j=function(n,t,e){if(null==n)return x.identity;if(x.isFunction(n))return A(n,t,e);if(x.isObject(n))return x.matcher(n);else return x.property(n)};x.iteratee=function(n,t){return j(n,t,1/0)};var T=function(n,t){return function(e){var r=arguments.length;if(r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],u=n(o),s=u.length,a=0;a<s;a++){var c=u[a];if(!t||void 0===e[c])e[c]=o[c]}return e}},k=function(n){if(!x.isObject(n))return{};if(w)return w(n);_.prototype=n;var t=new _;return _.prototype=null,t},S=function(n){return function(t){return null==t?void 0:t[n]}},$=Math.pow(2,53)-1,C=S("length"),E=function(n){var t=C(n);return"number"==typeof t&&t>=0&&t<=$};x.each=x.forEach=function(n,t,e){t=A(t,e);var r,i;if(E(n))for(r=0,i=n.length;r<i;r++)t(n[r],r,n);else{var o=x.keys(n);for(r=0,i=o.length;r<i;r++)t(n[o[r]],o[r],n)}return n},x.map=x.collect=function(n,t,e){t=j(t,e);for(var r=!E(n)&&x.keys(n),i=(r||n).length,o=Array(i),u=0;u<i;u++){var s=r?r[u]:u;o[u]=t(n[s],s,n)}return o},x.reduce=x.foldl=x.inject=e(1),x.reduceRight=x.foldr=e(-1),x.find=x.detect=function(n,t,e){var r;if(E(n))r=x.findIndex(n,t,e);else r=x.findKey(n,t,e);if(void 0!==r&&-1!==r)return n[r]},x.filter=x.select=function(n,t,e){var r=[];return t=j(t,e),x.each(n,function(n,e,i){if(t(n,e,i))r.push(n)}),r},x.reject=function(n,t,e){return x.filter(n,x.negate(j(t)),e)},x.every=x.all=function(n,t,e){t=j(t,e);for(var r=!E(n)&&x.keys(n),i=(r||n).length,o=0;o<i;o++){var u=r?r[o]:o;if(!t(n[u],u,n))return!1}return!0},x.some=x.any=function(n,t,e){t=j(t,e);for(var r=!E(n)&&x.keys(n),i=(r||n).length,o=0;o<i;o++){var u=r?r[o]:o;if(t(n[u],u,n))return!0}return!1},x.contains=x.includes=x.include=function(n,t,e,r){if(!E(n))n=x.values(n);if("number"!=typeof e||r)e=0;return x.indexOf(n,t,e)>=0},x.invoke=function(n,t){var e=v.call(arguments,2),r=x.isFunction(t);return x.map(n,function(n){var i=r?t:n[t];return null==i?i:i.apply(n,e)})},x.pluck=function(n,t){return x.map(n,x.property(t))},x.where=function(n,t){return x.filter(n,x.matcher(t))},x.findWhere=function(n,t){return x.find(n,x.matcher(t))},x.max=function(n,t,e){var r,i,o=-1/0,u=-1/0;if(null==t&&null!=n){n=E(n)?n:x.values(n);for(var s=0,a=n.length;s<a;s++)if((r=n[s])>o)o=r}else t=j(t,e),x.each(n,function(n,e,r){if((i=t(n,e,r))>u||i===-1/0&&o===-1/0)o=n,u=i});return o},x.min=function(n,t,e){var r,i,o=1/0,u=1/0;if(null==t&&null!=n){n=E(n)?n:x.values(n);for(var s=0,a=n.length;s<a;s++)if((r=n[s])<o)o=r}else t=j(t,e),x.each(n,function(n,e,r){if((i=t(n,e,r))<u||i===1/0&&o===1/0)o=n,u=i});return o},x.shuffle=function(n){for(var t,e=E(n)?n:x.values(n),r=e.length,i=Array(r),o=0;o<r;o++){if((t=x.random(0,o))!==o)i[o]=i[t];i[t]=e[o]}return i},x.sample=function(n,t,e){if(null==t||e){if(!E(n))n=x.values(n);return n[x.random(n.length-1)]}return x.shuffle(n).slice(0,Math.max(0,t))},x.sortBy=function(n,t,e){return t=j(t,e),x.pluck(x.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,e,r){var i={};return e=j(e,r),x.each(t,function(r,o){var u=e(r,o,t);n(i,r,u)}),i}};x.groupBy=F(function(n,t,e){if(x.has(n,e))n[e].push(t);else n[e]=[t]}),x.indexBy=F(function(n,t,e){n[e]=t}),x.countBy=F(function(n,t,e){if(x.has(n,e))n[e]++;else n[e]=1}),x.toArray=function(n){if(!n)return[];if(x.isArray(n))return v.call(n);if(E(n))return x.map(n,x.identity);else return x.values(n)},x.size=function(n){if(null==n)return 0;else return E(n)?n.length:x.keys(n).length},x.partition=function(n,t,e){t=j(t,e);var r=[],i=[];return x.each(n,function(n,e,o){(t(n,e,o)?r:i).push(n)}),[r,i]},x.first=x.head=x.take=function(n,t,e){if(null!=n)if(null==t||e)return n[0];else return x.initial(n,n.length-t)},x.initial=function(n,t,e){return v.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},x.last=function(n,t,e){if(null!=n)if(null==t||e)return n[n.length-1];else return x.rest(n,Math.max(0,n.length-t))},x.rest=x.tail=x.drop=function(n,t,e){return v.call(n,null==t||e?1:t)},x.compact=function(n){return x.filter(n,x.identity)};var O=function(n,t,e,r){for(var i=[],o=0,u=r||0,s=C(n);u<s;u++){var a=n[u];if(E(a)&&(x.isArray(a)||x.isArguments(a))){if(!t)a=O(a,t,e);var c=0,f=a.length;for(i.length+=f;c<f;)i[o++]=a[c++]}else if(!e)i[o++]=a}return i};x.flatten=function(n,t){return O(n,t,!1)},x.without=function(n){return x.difference(n,v.call(arguments,1))},x.uniq=x.unique=function(n,t,e,r){if(!x.isBoolean(t))r=e,e=t,t=!1;if(null!=e)e=j(e,r);for(var i=[],o=[],u=0,s=C(n);u<s;u++){var a=n[u],c=e?e(a,u,n):a;if(t){if(!u||o!==c)i.push(a);o=c}else if(e){if(!x.contains(o,c))o.push(c),i.push(a)}else if(!x.contains(i,a))i.push(a)}return i},x.union=function(){return x.uniq(O(arguments,!0,!0))},x.intersection=function(n){for(var t=[],e=arguments.length,r=0,i=C(n);r<i;r++){var o=n[r];if(!x.contains(t,o)){for(var u=1;u<e&&x.contains(arguments[u],o);u++);if(u===e)t.push(o)}}return t},x.difference=function(n){var t=O(arguments,!0,!0,1);return x.filter(n,function(n){return!x.contains(t,n)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(n){for(var t=n&&x.max(n,C).length||0,e=Array(t),r=0;r<t;r++)e[r]=x.pluck(n,r);return e},x.object=function(n,t){for(var e={},r=0,i=C(n);r<i;r++)if(t)e[n[r]]=t[r];else e[n[r][0]]=n[r][1];return e},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(n,t,e,r){e=j(e,r,1);for(var i=e(t),o=0,u=C(n);o<u;){var s=Math.floor((o+u)/2);if(e(n[s])<i)o=s+1;else u=s}return o},x.indexOf=u(1,x.findIndex,x.sortedIndex),x.lastIndexOf=u(-1,x.findLastIndex),x.range=function(n,t,e){if(null==t)t=n||0,n=0;e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),o=0;o<r;o++,n+=e)i[o]=n;return i};var I=function(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var o=k(n.prototype),u=n.apply(o,i);if(x.isObject(u))return u;else return o};x.bind=function(n,t){if(b&&n.bind===b)return b.apply(n,v.call(arguments,1));if(!x.isFunction(n))throw new TypeError("Bind must be called on a function");var e=v.call(arguments,2),r=function(){return I(n,r,t,this,e.concat(v.call(arguments)))};return r},x.partial=function(n){var t=v.call(arguments,1),e=function(){for(var r=0,i=t.length,o=Array(i),u=0;u<i;u++)o[u]=t[u]===x?arguments[r++]:t[u];for(;r<arguments.length;)o.push(arguments[r++]);return I(n,e,this,this,o)};return e},x.bindAll=function(n){var t,e,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e=arguments[t],n[e]=x.bind(n[e],n);return n},x.memoize=function(n,t){var e=function(r){var i=e.cache,o=""+(t?t.apply(this,arguments):r);if(!x.has(i,o))i[o]=n.apply(this,arguments);return i[o]};return e.cache={},e},x.delay=function(n,t){var e=v.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(n,t,e){var r,i,o,u=null,s=0;if(!e)e={};var a=function(){if(s=!1===e.leading?0:x.now(),u=null,o=n.apply(r,i),!u)r=i=null};return function(){var c=x.now();if(!s&&!1===e.leading)s=c;var f=t-(c-s);if(r=this,i=arguments,f<=0||f>t){if(u)clearTimeout(u),u=null;if(s=c,o=n.apply(r,i),!u)r=i=null}else if(!u&&!1!==e.trailing)u=setTimeout(a,f);return o}},x.debounce=function(n,t,e){var r,i,o,u,s,a=function(){var c=x.now()-u;if(c<t&&c>=0)r=setTimeout(a,t-c);else if(r=null,!e)if(s=n.apply(o,i),!r)o=i=null};return function(){o=this,i=arguments,u=x.now();var c=e&&!r;if(!r)r=setTimeout(a,t);if(c)s=n.apply(o,i),o=i=null;return s}},x.wrap=function(n,t){return x.partial(t,n)},x.negate=function(n){return function(){return!n.apply(this,arguments)}},x.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},x.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},x.before=function(n,t){var e;return function(){if(--n>0)e=t.apply(this,arguments);if(n<=1)t=null;return e}},x.once=x.partial(x.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(n){if(!x.isObject(n))return[];if(g)return g(n);var t=[];for(var e in n)if(x.has(n,e))t.push(e);if(D)s(n,t);return t},x.allKeys=function(n){if(!x.isObject(n))return[];var t=[];for(var e in n)t.push(e);if(D)s(n,t);return t},x.values=function(n){for(var t=x.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=n[t[i]];return r},x.mapObject=function(n,t,e){t=j(t,e);for(var r,i=x.keys(n),o=i.length,u={},s=0;s<o;s++)r=i[s],u[r]=t(n[r],r,n);return u},x.pairs=function(n){for(var t=x.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=[t[i],n[t[i]]];return r},x.invert=function(n){for(var t={},e=x.keys(n),r=0,i=e.length;r<i;r++)t[n[e[r]]]=e[r];return t},x.functions=x.methods=function(n){var t=[];for(var e in n)if(x.isFunction(n[e]))t.push(e);return t.sort()},x.extend=T(x.allKeys),x.extendOwn=x.assign=T(x.keys),x.findKey=function(n,t,e){t=j(t,e);for(var r,i=x.keys(n),o=0,u=i.length;o<u;o++)if(r=i[o],t(n[r],r,n))return r},x.pick=function(n,t,e){var r,i,o={},u=n;if(null==u)return o;if(x.isFunction(t))i=x.allKeys(u),r=A(t,e);else i=O(arguments,!1,!1,1),r=function(n,t,e){return t in e},u=Object(u);for(var s=0,a=i.length;s<a;s++){var c=i[s],f=u[c];if(r(f,c,u))o[c]=f}return o},x.omit=function(n,t,e){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(O(arguments,!1,!1,1),String);t=function(n,t){return!x.contains(r,t)}}return x.pick(n,t,e)},x.defaults=T(x.allKeys,!0),x.create=function(n,t){var e=k(n);if(t)x.extendOwn(e,t);return e},x.clone=function(n){if(!x.isObject(n))return n;else return x.isArray(n)?n.slice():x.extend({},n)},x.tap=function(n,t){return t(n),n},x.isMatch=function(n,t){var e=x.keys(t),r=e.length;if(null==n)return!r;for(var i=Object(n),o=0;o<r;o++){var u=e[o];if(t[u]!==i[u]||!(u in i))return!1}return!0};var N=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;if(n instanceof x)n=n._wrapped;if(t instanceof x)t=t._wrapped;var i=d.call(n);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":if(+n!=+n)return+t!=+t;else return 0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof t)return!1;var u=n.constructor,s=t.constructor;if(u!==s&&!(x.isFunction(u)&&u instanceof u&&x.isFunction(s)&&s instanceof s)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var a=e.length;a--;)if(e[a]===n)return r[a]===t;if(e.push(n),r.push(t),o){if((a=n.length)!==t.length)return!1;for(;a--;)if(!N(n[a],t[a],e,r))return!1}else{var c,f=x.keys(n);if(a=f.length,x.keys(t).length!==a)return!1;for(;a--;)if(c=f[a],!x.has(t,c)||!N(n[c],t[c],e,r))return!1}return e.pop(),r.pop(),!0};if(x.isEqual=function(n,t){return N(n,t)},x.isEmpty=function(n){if(null==n)return!0;if(E(n)&&(x.isArray(n)||x.isString(n)||x.isArguments(n)))return 0===n.length;else return 0===x.keys(n).length},x.isElement=function(n){return!(!n||1!==n.nodeType)},x.isArray=m||function(n){return"[object Array]"===d.call(n)},x.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){x["is"+n]=function(t){return d.call(t)==="[object "+n+"]"}}),!x.isArguments(arguments))x.isArguments=function(n){return x.has(n,"callee")};if("function"!=typeof/./&&"object"!=typeof Int8Array)x.isFunction=function(n){return"function"==typeof n||!1};x.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},x.isNaN=function(n){return x.isNumber(n)&&n!==+n},x.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===d.call(n)},x.isNull=function(n){return null===n},x.isUndefined=function(n){return void 0===n},x.has=function(n,t){return null!=n&&y.call(n,t)},x.noConflict=function(){return a._=c,this},x.identity=function(n){return n},x.constant=function(n){return function(){return n}},x.noop=function(){},x.property=S,x.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},x.matcher=x.matches=function(n){return n=x.extendOwn({},n),function(t){return x.isMatch(t,n)}},x.times=function(n,t,e){var r=Array(Math.max(0,n));t=A(t,e,1);for(var i=0;i<n;i++)r[i]=t(i);return r},x.random=function(n,t){if(null==t)t=n,n=0;return n+Math.floor(Math.random()*(t-n+1))},x.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=x.invert(M),L=function(n){var t=function(t){return n[t]},e="(?:"+x.keys(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,t):n}};x.escape=L(M),x.unescape=L(B),x.result=function(n,t,e){var r=null==n?void 0:n[t];if(void 0===r)r=e;return x.isFunction(r)?r.call(n):r};var q=0;x.uniqueId=function(n){var t=++q+"";return n?n+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,U=function(n){return"\\"+P[n]};x.template=function(n,t,e){if(!t&&e)t=e;t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";if(n.replace(r,function(t,e,r,u,s){if(o+=n.slice(i,s).replace(R,U),i=s+t.length,e)o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'";else if(r)o+="'+\n((__t=("+r+"))==null?'':__t)+\n'";else if(u)o+="';\n"+u+"\n__p+='";return t}),o+="';\n",!t.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var u=new Function(t.variable||"obj","_",o)}catch(n){throw n.source=o,n}var s=function(n){return u.call(this,n,x)},a=t.variable||"obj";return s.source="function("+a+"){\n"+o+"}",s},x.chain=function(n){var t=x(n);return t._chain=!0,t};var K=function(n,t){return n._chain?x(t).chain():t};if(x.mixin=function(n){x.each(x.functions(n),function(t){var e=x[t]=n[t];x.prototype[t]=function(){var n=[this._wrapped];return h.apply(n,arguments),K(this,e.apply(x,n))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=f[n];x.prototype[n]=function(){var e=this._wrapped;if(t.apply(e,arguments),("shift"===n||"splice"===n)&&0===e.length)delete e[0];return K(this,e)}}),x.each(["concat","join","slice"],function(n){var t=f[n];x.prototype[n]=function(){return K(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},!0)r=[],void 0!==(i=function(){return x}.apply(t,r))&&(n.exports=i)}).call(this)},2:function(n,t,e){var r,i;r=[e(0),e(10),e(25)],void 0!==(i=function(n,t,e){var r=e(n,t);return r.Model.prototype.ignoreUnknownAttributes=!0,r}.apply(t,r))&&(n.exports=i)},24:function(n,t){n.exports=window.require("atlassian/libs/factories/backbone-1.0.0")},25:function(n,t){n.exports=window.require("atlassian/libs/factories/brace-1.1.0")},26:function(n,t,e){var r,i;r=[e(0),e(9)],void 0!==(i=function(n,t){var e=void 0;return function(){var r=this,i=n.toArray(arguments);return{install:n.once(function(){try{e=t.apply(r,i)}catch(n){console.log("Failed to install skate component, maybe it has already been installed")}return e})}}}.apply(t,r))&&(n.exports=i)},28:function(n,t){n.exports=window.require("atlassian/libs/skate-0.12.6")},32:function(n,t){n.exports=window.require("jira/ajs/list/item-descriptor")},35:function(n,t){n.exports=window.require("jira/ajs/select/multi-select")},38:function(n,t){n.exports=window.require("jira/ajs/control")},39:function(n,t,e){var r,i;if(void 0===o)var o={};if(void 0===o.icons)o.icons={};if(o.icons.icon=function(n,t){return"<"+soy.$$escapeHtml(n.tagName?n.tagName:"span")+(n.id?' id="'+soy.$$escapeHtml(n.id)+'"':"")+' class="aui-icon'+(n.useIconFont?" aui-icon-"+soy.$$escapeHtml(n.size?n.size:"small"):"")+" aui"+soy.$$escapeHtml(n.useIconFont?"-iconfont":"-icon")+soy.$$escapeHtml(n.iconFontSet?"-"+n.iconFontSet:"")+"-"+soy.$$escapeHtml(n.icon)+o.renderExtraClasses(n)+'"'+o.renderExtraAttributes(n)+">"+(n.accessibilityText?soy.$$escapeHtml(n.accessibilityText):"")+"</"+soy.$$escapeHtml(n.tagName?n.tagName:"span")+">"},goog.DEBUG)o.icons.icon.soyTemplateName="aui.icons.icon";r=[e(13)],void 0!==(i=function(){return o.icons}.apply(t,r))&&(n.exports=i)},532:function(n,t,e){!function(n,t){n(function(){t.install()})}(e(1),e(157))},60:function(n,t){n.exports=window.require("jira/ajs/select/multi-select/lozenge-group")},794:function(n,t,e){e(8),n.exports=e(532)},8:function(n,t,e){"use strict";n.exports=e(14).polyfill()},88:function(n,t,e){var r,i;r=[],void 0!==(i=function(){return function(n){return{value:n.origin.appKey+"/"+n.origin.originId,label:n.label.value}}}.apply(t,r))&&(n.exports=i)},89:function(n,t,e){var r,i;r=[e(1)],void 0!==(i=function(n){return function(t,e){n.ajax({url:AJS.contextPath()+"/rest/assetapi/asset/"+t,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){var n=t.split("/");e({origin:{appKey:n[0],originId:n[1]},label:{value:"Unknown Asset"}})}).then(function(n){e&&e(n)})}}.apply(t,r))&&(n.exports=i)},9:function(n,t,e){var r,i;r=[e(28)],void 0!==(i=function(n){return n}.apply(t,r))&&(n.exports=i)},90:function(n,t){}},[794]);;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.fancybox-1.3.4', location = 'jquery-plugins/jquery.fancybox/1.3.4/jquery.fancybox-1.3.4.js' */
(function(r){define("atlassian/jquery-plugins/jquery.fancybox-1.3.4",function(){return function(t){r(window,document,t);return t}})})(function(r,t,R){var a=R,n,u,v,e,B,l,C,i,y,z,q=0,d={},o=[],p=0,b={},j=[],E=null,m=new Image,H=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,T=/[^\.]\.(swf)\s*$/i,I,J=1,x=0,w="",s,g,k=!1,A=a.extend(a("<div/>")[0],{prop:0}),K=a.browser.msie&&7>a.browser.version&&!r.XMLHttpRequest,L=function(){u.hide();m.onerror=m.onload=null;E&&E.abort();n.empty()},M=function(){!1===d.onError(o,q,
d)?(u.hide(),k=!1):(d.titleShow=!1,d.width="auto",d.height="auto",n.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),D())},G=function(){var c=o[q],b,f,e,g,j,i;L();d=a.extend({},a.fn.fancybox.defaults,"undefined"==typeof a(c).data("fancybox")?d:a(c).data("fancybox"));i=d.onStart(o,q,d);if(!1===i)k=!1;else{"object"==typeof i&&(d=a.extend(d,i));e=d.title||(c.nodeName?a(c).attr("title"):c.title)||"";c.nodeName&&!d.orig&&(d.orig=a(c).children("img:first").length?
a(c).children("img:first"):a(c));""===e&&(d.orig&&d.titleFromAlt)&&(e=d.orig.attr("alt"));b=d.href||(c.nodeName?a(c).attr("href"):c.href)||null;if(/^(?:javascript)/i.test(b)||"#"==b)b=null;d.type?(f=d.type,b||(b=d.content)):d.content?f="html":b&&(f=b.match(H)?"image":b.match(T)?"swf":a(c).hasClass("iframe")?"iframe":0===b.indexOf("#")?"inline":"ajax");if(f)switch("inline"==f&&(c=b.substr(b.indexOf("#")),f=0<a(c).length?"inline":"ajax"),d.type=f,d.href=b,d.title=e,d.autoDimensions&&("html"==d.type||
"inline"==d.type||"ajax"==d.type?(d.width="auto",d.height="auto"):d.autoDimensions=!1),d.modal&&(d.overlayShow=!0,d.hideOnOverlayClick=!1,d.hideOnContentClick=!1,d.enableEscapeButton=!1,d.showCloseButton=!1),d.padding=parseInt(d.padding,10),d.margin=parseInt(d.margin,10),n.css("padding",d.padding+d.margin),a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(l.children())}),f){case "html":n.html(d.content);D();break;case "inline":if(!0===a(c).parent().is("#fancybox-content")){k=
!1;break}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(c)).bind("fancybox-cleanup",function(){a(this).replaceWith(l.children())}).bind("fancybox-cancel",function(){a(this).replaceWith(n.children())});a(c).appendTo(n);D();break;case "image":k=!1;a.fancybox.showActivity();m=new Image;m.onerror=function(){M()};m.onload=function(){k=true;m.onerror=m.onload=null;d.width=m.width;d.height=m.height;a("<img />").attr({id:"fancybox-img",src:m.src,alt:d.title}).appendTo(n);N()};m.src=b;break;
case "swf":d.scrolling="no";g='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+d.width+'" height="'+d.height+'"><param name="movie" value="'+b+'"></param>';j="";a.each(d.swf,function(a,c){g=g+('<param name="'+a+'" value="'+c+'"></param>');j=j+(" "+a+'="'+c+'"')});g+='<embed src="'+b+'" type="application/x-shockwave-flash" width="'+d.width+'" height="'+d.height+'"'+j+"></embed></object>";n.html(g);D();break;case "ajax":k=!1;a.fancybox.showActivity();d.ajax.win=d.ajax.success;
E=a.ajax(a.extend({},d.ajax,{url:b,data:d.ajax.data||{},error:function(a){a.status>0&&M()},success:function(a,c,f){if((typeof f=="object"?f:E).status==200){if(typeof d.ajax.win=="function"){i=d.ajax.win(b,a,c,f);if(i===false){u.hide();return}if(typeof i=="string"||typeof i=="object")a=i}n.html(a);D()}}}));break;case "iframe":N()}else M()}},D=function(){var c=d.width,b=d.height,c=-1<c.toString().indexOf("%")?parseInt((a(r).width()-2*d.margin)*parseFloat(c)/100,10)+"px":"auto"==c?"auto":c+"px",b=-1<
b.toString().indexOf("%")?parseInt((a(r).height()-2*d.margin)*parseFloat(b)/100,10)+"px":"auto"==b?"auto":b+"px";n.wrapInner('<div style="width:'+c+";height:"+b+";overflow: "+("auto"==d.scrolling?"auto":"yes"==d.scrolling?"scroll":"hidden")+';position:relative;"></div>');d.width=n.width();d.height=n.height();N()},N=function(){var c,h;u.hide();if(e.is(":visible")&&!1===b.onCleanup(j,p,b))a.event.trigger("fancybox-cancel"),k=!1;else{k=!0;a(l.add(v)).unbind();a(r).unbind("resize.fb scroll.fb");a(t).unbind("keydown.fb");
e.is(":visible")&&"outside"!==b.titlePosition&&e.css("height",e.height());j=o;p=q;b=d;if(b.overlayShow){if(v.css({"background-color":b.overlayColor,opacity:b.overlayOpacity,cursor:b.hideOnOverlayClick?"pointer":"auto",height:a(t).height()}),!v.is(":visible")){if(K)a("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});v.show()}}else v.hide();c=O();var f={},F=b.autoScale,
m=2*b.padding;f.width=-1<b.width.toString().indexOf("%")?parseInt(c[0]*parseFloat(b.width)/100,10):b.width+m;f.height=-1<b.height.toString().indexOf("%")?parseInt(c[1]*parseFloat(b.height)/100,10):b.height+m;if(F&&(f.width>c[0]||f.height>c[1]))if("image"==d.type||"swf"==d.type){if(F=b.width/b.height,f.width>c[0]&&(f.width=c[0],f.height=parseInt((f.width-m)/F+m,10)),f.height>c[1])f.height=c[1],f.width=parseInt((f.height-m)*F+m,10)}else f.width=Math.min(f.width,c[0]),f.height=Math.min(f.height,c[1]);
f.top=parseInt(Math.max(c[3]-20,c[3]+0.5*(c[1]-f.height-40)),10);f.left=parseInt(Math.max(c[2]-20,c[2]+0.5*(c[0]-f.width-40)),10);g=f;w=b.title||"";x=0;i.empty().removeAttr("style").removeClass();if(!1!==b.titleShow&&(w=a.isFunction(b.titleFormat)?b.titleFormat(w,j,p,b):w&&w.length?"float"==b.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+w+'</td><td id="fancybox-title-float-right"></td></tr></table>':
'<div id="fancybox-title-'+b.titlePosition+'">'+w+"</div>":!1)&&""!==w)switch(i.addClass("fancybox-title-"+b.titlePosition).html(w).appendTo("body").show(),b.titlePosition){case "inside":i.css({width:g.width-2*b.padding,marginLeft:b.padding,marginRight:b.padding});x=i.outerHeight(!0);i.appendTo(B);g.height+=x;break;case "over":i.css({marginLeft:b.padding,width:g.width-2*b.padding,bottom:b.padding}).appendTo(B);break;case "float":i.css("left",-1*parseInt((i.width()-g.width-40)/2,10)).appendTo(e);break;
default:i.css({width:g.width-2*b.padding,paddingLeft:b.padding,paddingRight:b.padding}).appendTo(e)}i.hide();e.is(":visible")?(a(C.add(y).add(z)).hide(),c=e.position(),s={top:c.top,left:c.left,width:e.width(),height:e.height()},h=s.width==g.width&&s.height==g.height,l.fadeTo(b.changeFade,0.3,function(){var c=function(){l.html(n.contents()).fadeTo(b.changeFade,1,P)};a.event.trigger("fancybox-change");l.empty().removeAttr("filter").css({"border-width":b.padding,width:g.width-2*b.padding,height:d.autoDimensions?
"auto":g.height-x-2*b.padding});h?c():(A.prop=0,a(A).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:Q,complete:c}))})):(e.removeAttr("style"),l.css("border-width",b.padding),"elastic"==b.transitionIn?(s=S(),l.html(n.contents()),e.show(),b.opacity&&(g.opacity=0),A.prop=0,a(A).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:Q,complete:P})):("inside"==b.titlePosition&&0<x&&i.show(),l.css({width:g.width-2*b.padding,height:d.autoDimensions?"auto":g.height-x-2*b.padding}).html(n.contents()),
e.css(g).fadeIn("none"==b.transitionIn?0:b.speedIn,P)))}},P=function(){a.support.opacity||(l.get(0).style.removeAttribute("filter"),e.get(0).style.removeAttribute("filter"));d.autoDimensions&&l.css("height","auto");e.css("height","auto");w&&w.length&&i.show();b.showCloseButton&&C.show();(b.enableEscapeButton||b.enableKeyboardNav)&&a(t).bind("keydown.fb",function(c){if(c.keyCode==27&&b.enableEscapeButton){c.preventDefault();a.fancybox.close()}else if((c.keyCode==37||c.keyCode==39)&&b.enableKeyboardNav&&
c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.target.tagName!=="SELECT"){c.preventDefault();a.fancybox[c.keyCode==37?"prev":"next"]()}});b.showNavArrows?((b.cyclic&&1<j.length||0!==p)&&y.show(),(b.cyclic&&1<j.length||p!=j.length-1)&&z.show()):(y.hide(),z.hide());b.hideOnContentClick&&l.bind("click",a.fancybox.close);b.hideOnOverlayClick&&v.bind("click",a.fancybox.close);a(r).bind("resize.fb",a.fancybox.resize);b.centerOnScroll&&a(r).bind("scroll.fb",a.fancybox.center);"iframe"==b.type&&
a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+' scrolling="'+d.scrolling+'" src="'+b.href+'"></iframe>').appendTo(l);e.show();k=!1;a.fancybox.center();b.onComplete(j,p,b);var c,h;j.length-1>p&&(c=j[p+1].href,"undefined"!==typeof c&&c.match(H)&&(h=new Image,h.src=c));0<p&&(c=j[p-1].href,"undefined"!==typeof c&&c.match(H)&&(h=new Image,h.src=c))},Q=function(a){var d={width:parseInt(s.width+(g.width-
s.width)*a,10),height:parseInt(s.height+(g.height-s.height)*a,10),top:parseInt(s.top+(g.top-s.top)*a,10),left:parseInt(s.left+(g.left-s.left)*a,10)};"undefined"!==typeof g.opacity&&(d.opacity=0.5>a?0.5:a);e.css(d);l.css({width:d.width-2*b.padding,height:d.height-x*a-2*b.padding})},O=function(){return[a(r).width()-2*b.margin,a(r).height()-2*b.margin,a(t).scrollLeft()+b.margin,a(t).scrollTop()+b.margin]},S=function(){var c=d.orig?a(d.orig):!1,h={};c&&c.length?(h=c.offset(),h.top+=parseInt(c.css("paddingTop"),
10)||0,h.left+=parseInt(c.css("paddingLeft"),10)||0,h.top+=parseInt(c.css("border-top-width"),10)||0,h.left+=parseInt(c.css("border-left-width"),10)||0,h.width=c.width(),h.height=c.height(),h={width:h.width+2*b.padding,height:h.height+2*b.padding,top:h.top-b.padding-20,left:h.left-b.padding-20}):(c=O(),h={width:2*b.padding,height:2*b.padding,top:parseInt(c[3]+0.5*c[1],10),left:parseInt(c[2]+0.5*c[0],10)});return h},U=function(){u.is(":visible")?(a("div",u).css("top",-40*J+"px"),J=(J+1)%12):clearInterval(I)};
a.fn.fancybox=function(c){if(!a(this).length)return this;a(this).data("fancybox",a.extend({},c,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(c){c.preventDefault();k||(k=!0,a(this).blur(),o=[],q=0,c=a(this).attr("rel")||"",!c||""==c||"nofollow"===c?o.push(this):(o=a("a[rel="+c+"], area[rel="+c+"]"),q=o.index(this)),G())});return this};a.fancybox=function(c,b){var d;if(!k){k=!0;d="undefined"!==typeof b?b:{};o=[];q=parseInt(d.index,10)||0;if(a.isArray(c)){for(var e=0,
g=c.length;e<g;e++)"object"==typeof c[e]?a(c[e]).data("fancybox",a.extend({},d,c[e])):c[e]=a({}).data("fancybox",a.extend({content:c[e]},d));o=R.merge(o,c)}else"object"==typeof c?a(c).data("fancybox",a.extend({},d,c)):c=a({}).data("fancybox",a.extend({content:c},d)),o.push(c);if(q>o.length||0>q)q=0;G()}};a.fancybox.showActivity=function(){clearInterval(I);u.show();I=setInterval(U,66)};a.fancybox.hideActivity=function(){u.hide()};a.fancybox.next=function(){return a.fancybox.pos(p+1)};a.fancybox.prev=
function(){return a.fancybox.pos(p-1)};a.fancybox.pos=function(a){k||(a=parseInt(a),o=j,-1<a&&a<j.length?(q=a,G()):b.cyclic&&1<j.length&&(q=a>=j.length?0:j.length-1,G()))};a.fancybox.cancel=function(){k||(k=!0,a.event.trigger("fancybox-cancel"),L(),d.onCancel(o,q,d),k=!1)};a.fancybox.close=function(){function c(){v.fadeOut("fast");i.empty().hide();e.hide();a.event.trigger("fancybox-cleanup");l.empty();b.onClosed(j,p,b);j=d=[];p=q=0;b=d={};k=!1}if(!k&&!e.is(":hidden"))if(k=!0,b&&!1===b.onCleanup(j,
p,b))k=!1;else if(L(),a(C.add(y).add(z)).hide(),a(l.add(v)).unbind(),a(r).unbind("resize.fb scroll.fb"),a(t).unbind("keydown.fb"),l.find("iframe").attr("src",K&&/^https/i.test(r.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==b.titlePosition&&i.empty(),e.stop(),"elastic"==b.transitionOut){s=S();var h=e.position();g={top:h.top,left:h.left,width:e.width(),height:e.height()};b.opacity&&(g.opacity=1);i.empty().hide();A.prop=1;a(A).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,
step:Q,complete:c})}else e.fadeOut("none"==b.transitionOut?0:b.speedOut,c)};a.fancybox.resize=function(){v.is(":visible")&&v.css("height",a(t).height());a.fancybox.center(!0)};a.fancybox.center=function(a){var d,f;if(!k&&(f=!0===a?1:0,d=O(),f||!(e.width()>d[0]||e.height()>d[1])))e.stop().animate({top:parseInt(Math.max(d[3]-20,d[3]+0.5*(d[1]-l.height()-40)-b.padding)),left:parseInt(Math.max(d[2]-20,d[2]+0.5*(d[0]-l.width()-40)-b.padding))},"number"==typeof a?a:200)};a.fancybox.init=function(){a("#fancybox-wrap").length||
(a("body").append(n=a('<div id="fancybox-tmp"></div>'),u=a('<div id="fancybox-loading"><div></div></div>'),v=a('<div id="fancybox-overlay"></div>'),e=a('<div id="fancybox-wrap"></div>')),B=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(e),
B.append(l=a('<div id="fancybox-content"></div>'),C=a('<a id="fancybox-close"></a>'),i=a('<div id="fancybox-title"></div>'),y=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),z=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),C.click(a.fancybox.close),u.click(a.fancybox.cancel),y.click(function(c){c.preventDefault();a.fancybox.prev()}),z.click(function(c){c.preventDefault();a.fancybox.next()}),
a.fn.mousewheel&&e.bind("mousewheel.fb",function(c,b){if(k)c.preventDefault();else if(0==a(c.target).get(0).clientHeight||a(c.target).get(0).scrollHeight===a(c.target).get(0).clientHeight)c.preventDefault(),a.fancybox[0<b?"prev":"next"]()}),a.support.opacity||e.addClass("fancybox-ie"),K&&(u.addClass("fancybox-ie6"),e.addClass("fancybox-ie6"),a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(r.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(B)))};
a.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,
showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(t).ready(function(){a.fancybox.init()})});;
;
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox.jira.js' */
require(["jquery","atlassian/jquery-plugins/jquery.fancybox-1.3.4"],function(t,i){i(t),t.fn.fancybox.defaults.titleFormat=function(t){if(t&&t.length)return t=AJS.escapeHtml(t),"float"===this.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+this.titlePosition+'">'+t+"</div>"}});;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/time.js' */
define("jira/jquery/plugins/livestamp/time",["jira/util/formatter","jira/moment","jira/util/data/meta"],function(e,t,n){"use strict";function o(e,t){this.key=e,this.isAge=t}function r(t,n,o){return t in y?e.format(y[t],o):null}function a(e){switch(e.key){case"short":case"shortAge":return"ll";case"long":case"longAge":return"LL";case"full":case"fullAge":return"LLL";case"timestamp":return"LLL";default:return null}}function i(e){return e.clone().hours(0).minutes(0).seconds(0).milliseconds(0)}function u(e,t){var n=i(e),o=n.clone().subtract("d",1);return o<=t&&t<n}function l(e,t){var n=i(e).add("d",1),o=n.clone().add("d",1);return n<=t&&t<o}function m(e,t){return Math.floor(t.diff(e,"minutes",!0))}function s(e,t){var n=t.diff(e,"hours",!0);return Math.round(n)}function c(e,t){return Math.floor(t.diff(e,"days",!0))}function d(e,t){var n=a(t);return e.format(n)}function g(e,n,o){if(o=o||t(),e<=o){if(e>o.clone().subtract("m",1))return r("aMomentAgo",n);if(e>o.clone().subtract("m",2))return r("oneMinuteAgo",n);if(e>o.clone().subtract("m",50))return r("xMinutesAgo",n,m(e,o));if(e>o.clone().subtract("m",90))return r("oneHourAgo",n);if(u(o,e)&&e<o.clone().subtract("h",5))return r("oneDayAgo",n);if(e>o.clone().subtract("d",1))return r("xHoursAgo",n,s(e,o));if(e>o.clone().subtract("d",7))return r("xDaysAgo",n,Math.max(c(e,o),2));if(e>o.clone().subtract("d",8))return r("oneWeekAgo",n)}else{if(e<o.clone().add("m",1))return r("inAMoment",n);if(e<o.clone().add("m",2))return r("inOneMinute",n);if(e<o.clone().add("m",50))return r("inXMinutes",n,m(o,e));if(e<o.clone().add("m",90))return r("inOneHour",n);if(l(o,e)&&e>o.clone().add("h",5))return r("inOneDay",n);if(e<o.clone().add("d",1))return r("inXHours",n,s(o,e));if(e<o.clone().add("d",7))return r("inXDays",n,Math.max(c(o,e),2));if(e<o.clone().add("d",8))return r("inOneWeek",n)}return d(e,n)}var f={},v=n.getBoolean("date-relativize");o.types={};for(var x,A=["shortAge","longAge","fullAge","short","long","full","timestamp"],h=0,T=A.length;h<T;h++)x=A[h],o.types[x]=new o(x,x.toLowerCase().indexOf("age")!==-1);var y={};return f.FormatType=o,f.formatDate=function(e,t,n){return e&&t?(v||n)&&t.isAge?g(e,t):d(e,t):null},f.setRelativeTranslations=function(e){for(var t in e)y[t]=e[t]},f.restoreDefaultRelativeTranslations=function(){this.setRelativeTranslations({inAMoment:"Now",inOneMinute:"In 1 minute",inXMinutes:"In {0} minutes",inOneHour:"In 1 hour",inXHours:"In {0} hours",inOneDay:"Tomorrow",inXDays:"In {0} days",inOneWeek:"In 1 week",aMomentAgo:"Just now",oneMinuteAgo:"1 minute ago",xMinutesAgo:"{0} minutes ago",oneHourAgo:"1 hour ago",xHoursAgo:"{0} hours ago",oneDayAgo:"Yesterday",xDaysAgo:"{0} days ago",oneWeekAgo:"1 week ago"})},f.restoreDefaultRelativeTranslations(),f.formatDateWithRelativeAge=g,f.formatDateWithFormatString=d,f}),AJS.namespace("JIRA.Time",null,require("jira/jquery/plugins/livestamp/time"));;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/livestamp.js' */
define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/skate","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],function(t,e,i,a,r){"use strict";var n=6e3,u=a.getBoolean("date-relativize");e("livestamp",{type:e.type.CLASSNAME,prototype:{update:function(){var e=t(this),a=e.data("relativize"),n=e.attr("datetime");if(n&&(n=isNaN(n)?i(n).zone(n):i(parseInt(n,10)),i.isMoment(n)&&n.isValid())){var m=e.data("datetime-format");m=m?m:"fullAge",u||a||(m=m.replace("Age",""));var o=r.formatDate(n,r.FormatType.types[m],a);return e.text()!==o&&e.text(o),!0}return!1},onTimeout:function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=!1);var t=this.update();t&&(this.timerId=setTimeout(this.onTimeout.bind(this),n))}},attributes:function(t){t.onTimeout()},attached:function(t){t.onTimeout()},detached:function(t){clearTimeout(t.timerId),t.timerId=!1}}),t.fn.livestamp=function(){return this}}),function(){require("jira/jquery/plugins/livestamp/livestamp")}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:ajs-helper', location = 'jira-issue-navigator-components-module/util/ajshelper.js' */
define("jira/components/utils/ajshelper",[],function(){"use strict";function e(){return function(e,n){if(n){var r=n.data||{};r.searchSessionId=r.searchSessionId||t.Meta.get("search-session-id"),r.searchObjectId=r.searchObjectId||t.Meta.get("search-object-id"),r.searchContainerId=r.searchContainerId||t.Meta.get("search-container-id"),r.searchContentType=r.searchContentType||t.Meta.get("search-content-type"),n.data=r}t.trigger(e,n)}}var t=window.AJS;return{escapeHtml:t.escapeHtml.bind(t),LEFT:t.LEFT,Templates:t.Templates,HIDE_REASON:t.HIDE_REASON,trigger:e(),log:t.log.bind(t),extractBodyFromResponse:t.extractBodyFromResponse,whenIType:function(){return t.whenIType},activeShortcuts:function(){return t.activeShortcuts}}});
//# sourceMappingURL=ajshelper-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:underscore-1.5.2', location = 'libs/underscore/1.5.2/underscore-1.5.2.js' */
(function(l){define("atlassian/libs/underscore-1.5.2",function(){var o={};l.call(o);return"undefined"!==typeof exports?"undefined"!==typeof module&&module.exports?module.exports.noConflict():exports.noConflict():o._.noConflict()})})(function(){(function(){var l=this,o=l._,p={},k=Array.prototype,q=Object.prototype,t=k.push,i=k.slice,r=k.concat,m=q.toString,L=q.hasOwnProperty,A=k.forEach,B=k.map,C=k.reduce,D=k.reduceRight,E=k.filter,F=k.every,G=k.some,s=k.indexOf,H=k.lastIndexOf,q=Array.isArray,M=Object.keys,
u=Function.prototype.bind,b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=b),exports._=b):l._=b;b.VERSION="1.5.2";var j=b.each=b.forEach=function(a,c,d){if(a!=null)if(A&&a.forEach===A)a.forEach(c,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(c.call(d,a[e],e,a)===p)break}else for(var g=b.keys(a),e=0,f=g.length;e<f;e++)if(c.call(d,
a[g[e]],g[e],a)===p)break};b.map=b.collect=function(a,c,b){var e=[];if(a==null)return e;if(B&&a.map===B)return a.map(c,b);j(a,function(a,g,h){e.push(c.call(b,a,g,h))});return e};b.reduce=b.foldl=b.inject=function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(C&&a.reduce===C){e&&(c=b.bind(c,e));return f?a.reduce(c,d):a.reduce(c)}j(a,function(a,b,N){if(f)d=c.call(e,d,a,b,N);else{d=a;f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.reduceRight=b.foldr=
function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(D&&a.reduceRight===D){e&&(c=b.bind(c,e));return f?a.reduceRight(c,d):a.reduceRight(c)}var g=a.length;if(g!==+g)var h=b.keys(a),g=h.length;j(a,function(b,i,j){i=h?h[--g]:--g;if(f)d=c.call(e,d,a[i],i,j);else{d=a[i];f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.find=b.detect=function(a,c,b){var e;I(a,function(a,g,h){if(c.call(b,a,g,h)){e=a;return true}});return e};b.filter=b.select=function(a,
c,b){var e=[];if(a==null)return e;if(E&&a.filter===E)return a.filter(c,b);j(a,function(a,g,h){c.call(b,a,g,h)&&e.push(a)});return e};b.reject=function(a,c,d){return b.filter(a,function(a,b,g){return!c.call(d,a,b,g)},d)};b.every=b.all=function(a,c,d){c||(c=b.identity);var e=true;if(a==null)return e;if(F&&a.every===F)return a.every(c,d);j(a,function(a,b,h){if(!(e=e&&c.call(d,a,b,h)))return p});return!!e};var I=b.some=b.any=function(a,c,d){c||(c=b.identity);var e=false;if(a==null)return e;if(G&&a.some===
G)return a.some(c,d);j(a,function(a,b,h){if(e||(e=c.call(d,a,b,h)))return p});return!!e};b.contains=b.include=function(a,c){return a==null?false:s&&a.indexOf===s?a.indexOf(c)!=-1:I(a,function(a){return a===c})};b.invoke=function(a,c){var d=i.call(arguments,2),e=b.isFunction(c);return b.map(a,function(a){return(e?c:a[c]).apply(a,d)})};b.pluck=function(a,c){return b.map(a,function(a){return a[c]})};b.where=function(a,c,d){return b.isEmpty(c)?d?void 0:[]:b[d?"find":"filter"](a,function(a){for(var b in c)if(c[b]!==
a[b])return false;return true})};b.findWhere=function(a,c){return b.where(a,c,true)};b.max=function(a,c,d){if(!c&&b.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!c&&b.isEmpty(a))return-Infinity;var e={computed:-Infinity,value:-Infinity};j(a,function(a,b,h){b=c?c.call(d,a,b,h):a;b>e.computed&&(e={value:a,computed:b})});return e.value};b.min=function(a,c,d){if(!c&&b.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!c&&b.isEmpty(a))return Infinity;
var e={computed:Infinity,value:Infinity};j(a,function(a,b,h){b=c?c.call(d,a,b,h):a;b<e.computed&&(e={value:a,computed:b})});return e.value};b.shuffle=function(a){var c,d=0,e=[];j(a,function(a){c=b.random(d++);e[d-1]=e[c];e[c]=a});return e};b.sample=function(a,c,d){return arguments.length<2||d?a[b.random(a.length-1)]:b.shuffle(a).slice(0,Math.max(0,c))};var v=function(a){return b.isFunction(a)?a:function(c){return c[a]}};b.sortBy=function(a,c,d){var e=v(c);return b.pluck(b.map(a,function(a,c,b){return{value:a,
index:c,criteria:e.call(d,a,c,b)}}).sort(function(a,c){var b=a.criteria,d=c.criteria;if(b!==d){if(b>d||b===void 0)return 1;if(b<d||d===void 0)return-1}return a.index-c.index}),"value")};var w=function(a){return function(c,d,e){var f={},g=d==null?b.identity:v(d);j(c,function(b,d){var i=g.call(e,b,d,c);a(f,i,b)});return f}};b.groupBy=w(function(a,c,d){(b.has(a,c)?a[c]:a[c]=[]).push(d)});b.indexBy=w(function(a,c,b){a[c]=b});b.countBy=w(function(a,c){b.has(a,c)?a[c]++:a[c]=1});b.sortedIndex=function(a,
c,d,e){for(var d=d==null?b.identity:v(d),c=d.call(e,c),f=0,g=a.length;f<g;){var h=f+g>>>1;d.call(e,a[h])<c?f=h+1:g=h}return f};b.toArray=function(a){return!a?[]:b.isArray(a)?i.call(a):a.length===+a.length?b.map(a,b.identity):b.values(a)};b.size=function(a){return a==null?0:a.length===+a.length?a.length:b.keys(a).length};b.first=b.head=b.take=function(a,c,b){return a==null?void 0:c==null||b?a[0]:i.call(a,0,c)};b.initial=function(a,c,b){return i.call(a,0,a.length-(c==null||b?1:c))};b.last=function(a,
c,b){return a==null?void 0:c==null||b?a[a.length-1]:i.call(a,Math.max(a.length-c,0))};b.rest=b.tail=b.drop=function(a,b,d){return i.call(a,b==null||d?1:b)};b.compact=function(a){return b.filter(a,b.identity)};var J=function(a,c,d){if(c&&b.every(a,b.isArray))return r.apply(d,a);j(a,function(a){b.isArray(a)||b.isArguments(a)?c?t.apply(d,a):J(a,c,d):d.push(a)});return d};b.flatten=function(a,b){return J(a,b,[])};b.without=function(a){return b.difference(a,i.call(arguments,1))};b.uniq=b.unique=function(a,
c,d,e){if(b.isFunction(c)){e=d;d=c;c=false}var d=d?b.map(a,d,e):a,f=[],g=[];j(d,function(d,e){if(c?!e||g[g.length-1]!==d:!b.contains(g,d)){g.push(d);f.push(a[e])}});return f};b.union=function(){return b.uniq(b.flatten(arguments,true))};b.intersection=function(a){var c=i.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return b.indexOf(c,a)>=0})})};b.difference=function(a){var c=r.apply(k,i.call(arguments,1));return b.filter(a,function(a){return!b.contains(c,a)})};
b.zip=function(){for(var a=b.max(b.pluck(arguments,"length").concat(0)),c=Array(a),d=0;d<a;d++)c[d]=b.pluck(arguments,""+d);return c};b.object=function(a,b){if(a==null)return{};for(var d={},e=0,f=a.length;e<f;e++)b?d[a[e]]=b[e]:d[a[e][0]]=a[e][1];return d};b.indexOf=function(a,c,d){if(a==null)return-1;var e=0,f=a.length;if(d)if(typeof d=="number")e=d<0?Math.max(0,f+d):d;else{e=b.sortedIndex(a,c);return a[e]===c?e:-1}if(s&&a.indexOf===s)return a.indexOf(c,d);for(;e<f;e++)if(a[e]===c)return e;return-1};
b.lastIndexOf=function(a,b,d){if(a==null)return-1;var e=d!=null;if(H&&a.lastIndexOf===H)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};b.range=function(a,b,d){if(arguments.length<=1){b=a||0;a=0}for(var d=arguments[2]||1,e=Math.max(Math.ceil((b-a)/d),0),f=0,g=Array(e);f<e;){g[f++]=a;a=a+d}return g};var x=function(){};b.bind=function(a,c){var d,e;if(u&&a.bind===u)return u.apply(a,i.call(arguments,1));if(!b.isFunction(a))throw new TypeError;d=i.call(arguments,
2);return e=function(){if(!(this instanceof e))return a.apply(c,d.concat(i.call(arguments)));x.prototype=a.prototype;var b=new x;x.prototype=null;var g=a.apply(b,d.concat(i.call(arguments)));return Object(g)===g?g:b}};b.partial=function(a){var b=i.call(arguments,1);return function(){return a.apply(this,b.concat(i.call(arguments)))}};b.bindAll=function(a){var c=i.call(arguments,1);if(c.length===0)throw Error("bindAll must be passed function names");j(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=
function(a,c){var d={};c||(c=b.identity);return function(){var e=c.apply(this,arguments);return b.has(d,e)?d[e]:d[e]=a.apply(this,arguments)}};b.delay=function(a,b){var d=i.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(i.call(arguments,1)))};b.throttle=function(a,b,d){var e,f,g,h=null,i=0;d||(d={});var j=function(){i=d.leading===false?0:new Date;h=null;g=a.apply(e,f)};return function(){var k=new Date;!i&&d.leading===
false&&(i=k);var K=b-(k-i);e=this;f=arguments;if(K<=0){clearTimeout(h);h=null;i=k;g=a.apply(e,f)}else!h&&d.trailing!==false&&(h=setTimeout(j,K));return g}};b.debounce=function(a,b,d){var e,f,g,h,i;return function(){g=this;f=arguments;h=new Date;var j=function(){var k=new Date-h;if(k<b)e=setTimeout(j,b-k);else{e=null;d||(i=a.apply(g,f))}},k=d&&!e;e||(e=setTimeout(j,b));k&&(i=a.apply(g,f));return i}};b.once=function(a){var b=false,d;return function(){if(b)return d;b=true;d=a.apply(this,arguments);a=
null;return d}};b.wrap=function(a,b){return function(){var d=[a];t.apply(d,arguments);return b.apply(this,d)}};b.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};b.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};b.keys=M||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[],d;for(d in a)b.has(a,d)&&c.push(d);return c};b.values=function(a){for(var c=b.keys(a),d=
c.length,e=Array(d),f=0;f<d;f++)e[f]=a[c[f]];return e};b.pairs=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<d;f++)e[f]=[c[f],a[c[f]]];return e};b.invert=function(a){for(var c={},d=b.keys(a),e=0,f=d.length;e<f;e++)c[a[d[e]]]=d[e];return c};b.functions=b.methods=function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};b.pick=function(a){var b={},d=r.apply(k,i.call(arguments,
1));j(d,function(d){d in a&&(b[d]=a[d])});return b};b.omit=function(a){var c={},d=r.apply(k,i.call(arguments,1)),e;for(e in a)b.contains(d,e)||(c[e]=a[e]);return c};b.defaults=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]===void 0&&(a[d]=b[d])});return a};b.clone=function(a){return!b.isObject(a)?a:b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};var y=function(a,c,d,e){if(a===c)return a!==0||1/a==1/c;if(a==null||c==null)return a===c;if(a instanceof
b)a=a._wrapped;if(c instanceof b)c=c._wrapped;var f=m.call(a);if(f!=m.call(c))return false;switch(f){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:a==0?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if(typeof a!="object"||typeof c!="object")return false;for(var g=d.length;g--;)if(d[g]==a)return e[g]==c;var g=a.constructor,
h=c.constructor;if(g!==h&&(!b.isFunction(g)||!(g instanceof g&&b.isFunction(h)&&h instanceof h)))return false;d.push(a);e.push(c);g=0;h=true;if(f=="[object Array]"){g=a.length;if(h=g==c.length)for(;g--;)if(!(h=y(a[g],c[g],d,e)))break}else{for(var i in a)if(b.has(a,i)){g++;if(!(h=b.has(c,i)&&y(a[i],c[i],d,e)))break}if(h){for(i in c)if(b.has(c,i)&&!g--)break;h=!g}}d.pop();e.pop();return h};b.isEqual=function(a,b){return y(a,b,[],[])};b.isEmpty=function(a){if(a==null)return true;if(b.isArray(a)||b.isString(a))return a.length===
0;for(var c in a)if(b.has(a,c))return false;return true};b.isElement=function(a){return!!(a&&a.nodeType===1)};b.isArray=q||function(a){return m.call(a)=="[object Array]"};b.isObject=function(a){return a===Object(a)};j("Arguments Function String Number Date RegExp".split(" "),function(a){b["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});b.isArguments(arguments)||(b.isArguments=function(a){return!(!a||!b.has(a,"callee"))});"function"!==typeof/./&&(b.isFunction=function(a){return typeof a===
"function"});b.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&a!=+a};b.isBoolean=function(a){return a===true||a===false||m.call(a)=="[object Boolean]"};b.isNull=function(a){return a===null};b.isUndefined=function(a){return a===void 0};b.has=function(a,b){return L.call(a,b)};b.noConflict=function(){l._=o;return this};b.identity=function(a){return a};b.times=function(a,b,d){for(var e=Array(Math.max(0,a)),f=0;f<a;f++)e[f]=b.call(d,f);return e};
b.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};var n={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};n.unescape=b.invert(n.escape);var O={escape:RegExp("["+b.keys(n.escape).join("")+"]","g"),unescape:RegExp("("+b.keys(n.unescape).join("|")+")","g")};b.each(["escape","unescape"],function(a){b[a]=function(b){return b==null?"":(""+b).replace(O[a],function(b){return n[a][b]})}});b.result=function(a,c){if(a!=null){var d=a[c];return b.isFunction(d)?
d.call(a):d}};b.mixin=function(a){j(b.functions(a),function(c){var d=b[c]=a[c];b.prototype[c]=function(){var a=[this._wrapped];t.apply(a,arguments);a=d.apply(b,a);return this._chain?b(a).chain():a}})};var P=0;b.uniqueId=function(a){var b=++P+"";return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,Q={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;b.template=
function(a,c,d){var e,d=b.defaults({},d,b.templateSettings),f=RegExp([(d.escape||z).source,(d.interpolate||z).source,(d.evaluate||z).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(b,c,d,e,f){h=h+a.slice(g,f).replace(R,function(a){return"\\"+Q[a]});c&&(h=h+("'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"));d&&(h=h+("'+\n((__t=("+d+"))==null?'':__t)+\n'"));e&&(h=h+("';\n"+e+"\n__p+='"));g=f+b.length;return b});h=h+"';\n";d.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
h+"return __p;\n";try{e=new Function(d.variable||"obj","_",h)}catch(i){i.source=h;throw i;}if(c)return e(c,b);c=function(a){return e.call(this,a,b)};c.source="function("+(d.variable||"obj")+"){\n"+h+"}";return c};b.chain=function(a){return b(a).chain()};b.mixin(b);j("pop push reverse shift sort splice unshift".split(" "),function(a){var c=k[a];b.prototype[a]=function(){var d=this._wrapped;c.apply(d,arguments);(a=="shift"||a=="splice")&&d.length===0&&delete d[0];return this._chain?b(d).chain():d}});
j(["concat","join","slice"],function(a){var c=k[a];b.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?b(a).chain():a}});b.extend(b.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:underscore', location = 'jira-issue-navigator-components-module/libs/underscore.js' */
define("jira/components/libs/underscore",["require"],function(e){"use strict";return e("atlassian/libs/underscore-1.5.2")});
//# sourceMappingURL=underscore-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-tracker', location = 'jira-issue-navigator-components-module/analytics-tracker/tracker.js' */
define("jira/components/analytics-tracker/tracker",["jira/components/libs/underscore","jira/issue","jira/components/utils/ajshelper","jquery","jira/customevents/trigger-custom-event"],function(e,t,n,r,i){"use strict";function o(){if(!h)try{h=require("jira/api/projects")}catch(e){h=null}}function a(){return g?g:(o(),h?h.getCurrentProjectId():void 0)}function c(){return j?j:(o(),h?h.getCurrentProjectType():void 0)}function s(){return k?k:t?t.getIssueId():void 0}function u(e){if(e.attr("class")||e.attr("id"))return e;var t=e.parent().closest("[class], [id]");return t.length?t:e}function d(e){var t=r(e.target).closest(p),n=u(t);v("viewissue","generic-action",{className:n.attr("class")||"no-element-className",id:n.attr("id")||"no-element-id"}),w=!1}function l(){r(".issue-container").off("click",p,d).on("click",p,d),r("#create_link").off("click",d).on("click",d),y&&clearTimeout(y),y=setTimeout(function(){w&&v("viewissue","inactive-timeout")},m)}function v(t,r,o){var u=f+"."+t+"."+r;I=I||Math.round(performance.now());var d=Math.round(performance.now())-I;o=o||{};var l={projectId:o.projectId||a(),projectType:o.projectType||c(),issueId:o.issueId||s(),userAgent:window.navigator.userAgent,timeSinceIssueLoaded:d},v=e.extend(l,o);n.trigger("analyticsEvent",{name:u,data:v}),i.trigger("legacy-gas-v2-event",u,v)}var f="jira.platform.fe.web",m=3e5,p="a, .editable-field, button",g=void 0,j=void 0,k=void 0,w=void 0,y=void 0,I=void 0,h=void 0;return{initialize:function(e,t,n){g=e,j=t,k=n,w=!0,I=Math.round(performance.now()),l()},trackEvent:v}});
//# sourceMappingURL=tracker-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:uri-1.14.1', location = 'libs/uri/1.14.1/uri-1.14.1.js' */
(function(n){define("atlassian/libs/uri-1.14.1",function(){var q={};n.call(q);return q.URI.noConflict()})})(function(){var n=this.punycode,q=this.IPv6,p=this.SecondLevelDomains,k=this,e=function(a,b){if(!(this instanceof e))return new e(a,b);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==b?this.absoluteTo(b):this},o=function(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},t=function(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,
-1)},j=function(a){return"Array"===t(a)},s=function(a,b){var c,e;if(j(b)){c=0;for(e=b.length;c<e;c++)if(!s(a,b[c]))return!1;return!0}var h=t(b);c=0;for(e=a.length;c<e;c++)if("RegExp"===h){if("string"===typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1},w=function(a,b){if(!j(a)||!j(b)||a.length!==b.length)return!1;a.sort();b.sort();for(var c=0,e=a.length;c<e;c++)if(a[c]!==b[c])return!1;return!0},A=function(a){return escape(a)},u=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,
A).replace(/\*/g,"%2A")},r=function(a){return function(b,c){if(void 0===b)return this._parts[a]||"";this._parts[a]=b||null;this.build(!c);return this}},x=function(a,b){return function(c,e){if(void 0===c)return this._parts[a]||"";null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!e);return this}},B=k&&k.URI;e.version="1.14.1";var d=e.prototype,m=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,
port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}};e.duplicateQueryParameters=!1;e.escapeQuerySpace=!0;e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;e.idn_expression=/[^a-z0-9\.-]/i;e.punycode_expression=/(xn--)/i;e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};e.invalid_hostname_characters=
/[^a-zA-Z0-9\.-]/;e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};e.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();return"input"===b&&"image"!==a.type?void 0:e.domAttributes[b]}};e.encode=u;e.decode=decodeURIComponent;e.iso8859=function(){e.encode=escape;e.decode=unescape};e.unicode=function(){e.encode=u;e.decode=
decodeURIComponent};e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",",
"%3B":";","%3D":"="}}}};e.encodeQuery=function(a,b){var c=e.encode(a+"");void 0===b&&(b=e.escapeQuerySpace);return b?c.replace(/%20/g,"+"):c};e.decodeQuery=function(a,b){a+="";void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(c){return a}};e.recodePath=function(a){for(var a=(a+"").split("/"),b=0,c=a.length;b<c;b++)a[b]=e.encodePathSegment(e.decode(a[b]));return a.join("/")};e.decodePath=function(a){for(var a=(a+"").split("/"),b=0,c=a.length;b<c;b++)a[b]=e.decodePathSegment(a[b]);
return a.join("/")};var y={encode:"encode",decode:"decode"},v,z=function(a,b){return function(c){try{return e[b](c+"").replace(e.characters[a][b].expression,function(c){return e.characters[a][b].map[c]})}catch(f){return c}}};for(v in y)e[v+"PathSegment"]=z("pathname",y[v]);e.encodeReserved=z("reserved","encode");e.parse=function(a,b){var c;b||(b={});c=a.indexOf("#");-1<c&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c));c=a.indexOf("?");-1<c&&(b.query=a.substring(c+1)||null,a=a.substring(0,
c));"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"),-1<c&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)));b.path=a;return b};e.parseHost=function(a,b){var c=a.indexOf("/"),e;-1===c&&(c=a.length);"["===a.charAt(0)?(e=a.indexOf("]"),b.hostname=a.substring(1,e)||null,b.port=a.substring(e+
2,c)||null,"/"===b.port&&(b.port=null)):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(e=a.substring(0,c).split(":"),b.hostname=e[0]||null,b.port=e[1]||null);b.hostname&&"/"!==a.substring(c).charAt(0)&&(c++,a="/"+a);return a.substring(c)||"/"};e.parseAuthority=function(a,b){a=e.parseUserinfo(a,b);return e.parseHost(a,b)};e.parseUserinfo=function(a,b){var c=a.indexOf("/"),f=a.lastIndexOf("@",-1<c?c:a.length-1);-1<f&&(-1===c||f<c)?(c=a.substring(0,f).split(":"),
b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null);return a};e.parseQuery=function(a,b){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!a)return{};for(var c={},f=a.split("&"),h=f.length,d,i,l=0;l<h;l++)d=f[l].split("="),i=e.decodeQuery(d.shift(),b),d=d.length?e.decodeQuery(d.join("="),b):null,m.call(c,i)?("string"===typeof c[i]&&(c[i]=[c[i]]),c[i].push(d)):c[i]=d;return c};e.build=function(a){var b=
"";a.protocol&&(b+=a.protocol+":");if(!a.urn&&(b||a.hostname))b+="//";b+=e.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(b+="/"),b+=a.path);"string"===typeof a.query&&a.query&&(b+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(b+="#"+a.fragment);return b};e.buildHost=function(a){var b="";if(a.hostname)b=e.ip6_expression.test(a.hostname)?b+("["+a.hostname+"]"):b+a.hostname;else return"";a.port&&(b+=":"+a.port);return b};e.buildAuthority=
function(a){return e.buildUserinfo(a)+e.buildHost(a)};e.buildUserinfo=function(a){var b="";a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@");return b};e.buildQuery=function(a,b,c){var f="",h,d,i,l;for(d in a)if(m.call(a,d)&&d)if(j(a[d])){h={};i=0;for(l=a[d].length;i<l;i++)void 0!==a[d][i]&&void 0===h[a[d][i]+""]&&(f+="&"+e.buildQueryParameter(d,a[d][i],c),!0!==b&&(h[a[d][i]+""]=!0))}else void 0!==a[d]&&(f+="&"+e.buildQueryParameter(d,a[d],c));return f.substring(1)};
e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")};e.addQuery=function(a,b,c){if("object"===typeof b)for(var f in b)m.call(b,f)&&e.addQuery(a,f,b[f]);else if("string"===typeof b)void 0===a[b]?a[b]=c:("string"===typeof a[b]&&(a[b]=[a[b]]),j(c)||(c=[c]),a[b]=(a[b]||[]).concat(c));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};e.removeQuery=function(a,b,c){var f;if(j(b)){c=0;for(f=b.length;c<f;c++)a[b[c]]=
void 0}else if("object"===typeof b)for(f in b)m.call(b,f)&&e.removeQuery(a,f,b[f]);else if("string"===typeof b)if(void 0!==c)if(a[b]===c)a[b]=void 0;else{if(j(a[b])){f=a[b];var d={},g,i;if(j(c)){g=0;for(i=c.length;g<i;g++)d[c[g]]=!0}else d[c]=!0;g=0;for(i=f.length;g<i;g++)void 0!==d[f[g]]&&(f.splice(g,1),i--,g--);a[b]=f}}else a[b]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};e.hasQuery=function(a,b,c,f){if("object"===typeof b){for(var d in b)if(m.call(b,
d)&&!e.hasQuery(a,d,b[d]))return!1;return!0}if("string"!==typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(t(c)){case "Undefined":return b in a;case "Boolean":return a=Boolean(j(a[b])?a[b].length:a[b]),c===a;case "Function":return!!c(a[b],b,a);case "Array":return!j(a[b])?!1:(f?s:w)(a[b],c);case "RegExp":return!j(a[b])?Boolean(a[b]&&a[b].match(c)):!f?!1:s(a[b],c);case "Number":c=String(c);case "String":return!j(a[b])?a[b]===c:!f?!1:s(a[b],c);default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");
}};e.commonPath=function(a,b){var c=Math.min(a.length,b.length),e;for(e=0;e<c;e++)if(a.charAt(e)!==b.charAt(e)){e--;break}if(1>e)return a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(e)||"/"!==b.charAt(e))e=a.substring(0,e).lastIndexOf("/");return a.substring(0,e+1)};e.withinString=function(a,b,c){c||(c={});var f=c.start||e.findUri.start,d=c.end||e.findUri.end,g=c.trim||e.findUri.trim,i=/[a-z0-9-]=["']?$/i;for(f.lastIndex=0;;){var l=f.exec(a);if(!l)break;l=l.index;if(c.ignoreHtml){var j=
a.slice(Math.max(l-3,0),l);if(j&&i.test(j))continue}var j=l+a.slice(l).search(d),k=a.slice(l,j).replace(g,"");if(!c.ignore||!c.ignore.test(k))j=l+k.length,k=b(k,l,j,a),a=a.slice(0,l)+k+a.slice(j),f.lastIndex=l+k.length}f.lastIndex=0;return a};e.ensureValidHostname=function(a){if(a.match(e.invalid_hostname_characters)){if(!n)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(n.toASCII(a).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+
a+'" contains characters other than [A-Z0-9.-]');}};e.noConflict=function(a){if(a)return a={URI:this.noConflict()},k.URITemplate&&"function"===typeof k.URITemplate.noConflict&&(a.URITemplate=k.URITemplate.noConflict()),k.IPv6&&"function"===typeof k.IPv6.noConflict&&(a.IPv6=k.IPv6.noConflict()),k.SecondLevelDomains&&"function"===typeof k.SecondLevelDomains.noConflict&&(a.SecondLevelDomains=k.SecondLevelDomains.noConflict()),a;k.URI===this&&(k.URI=B);return this};d.build=function(a){if(!0===a)this._deferred_build=
!0;else if(void 0===a||this._deferred_build)this._string=e.build(this._parts),this._deferred_build=!1;return this};d.clone=function(){return new e(this)};d.valueOf=d.toString=function(){return this.build(!1)._string};d.protocol=r("protocol");d.username=r("username");d.password=r("password");d.hostname=r("hostname");d.port=r("port");d.query=x("query","?");d.fragment=x("fragment","#");d.search=function(a,b){var c=this.query(a,b);return"string"===typeof c&&c.length?"?"+c:c};d.hash=function(a,b){var c=
this.fragment(a,b);return"string"===typeof c&&c.length?"#"+c:c};d.pathname=function(a,b){if(void 0===a||!0===a){var c=this._parts.path||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}this._parts.path=a?e.recodePath(a):"/";this.build(!b);return this};d.path=d.pathname;d.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="";this._parts=e._parts();var f=a instanceof e,d="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(d=e.getDomAttribute(a),a=a[d]||
"",d=!1);!f&&(d&&void 0!==a.pathname)&&(a=a.toString());if("string"===typeof a||a instanceof String)this._parts=e.parse(String(a),this._parts);else if(f||d)for(c in f=f?a._parts:a,f)m.call(this._parts,c)&&(this._parts[c]=f[c]);else throw new TypeError("invalid input");this.build(!b);return this};d.is=function(a){var b=!1,c=!1,f=!1,d=!1,g=!1,i=!1,j=!1,k=!this._parts.urn;this._parts.hostname&&(k=!1,c=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=c||f,g=
(d=!b)&&p&&p.has(this._parts.hostname),i=d&&e.idn_expression.test(this._parts.hostname),j=d&&e.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return k;case "absolute":return!k;case "domain":case "name":return d;case "sld":return g;case "ip":return b;case "ip4":case "ipv4":case "inet4":return c;case "ip6":case "ipv6":case "inet6":return f;case "idn":return i;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return j}return null};
var C=d.protocol,D=d.port,E=d.hostname;d.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return C.call(this,a,b)};d.scheme=d.protocol;d.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');
return D.call(this,a,b)};d.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};e.parseHost(a,c);a=c.hostname}return E.call(this,a,b)};d.host=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildHost(this._parts):"";e.parseHost(a,this._parts);this.build(!b);return this};d.authority=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildAuthority(this._parts):
"";e.parseAuthority(a,this._parts);this.build(!b);return this};d.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}"@"!==a[a.length-1]&&(a+="@");e.parseUserinfo(a,this._parts);this.build(!b);return this};d.resource=function(a,b){var c;if(void 0===a)return this.path()+this.search()+this.hash();c=e.parse(a);this._parts.path=c.path;this._parts.query=c.query;this._parts.fragment=
c.fragment;this.build(!b);return this};d.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}c=this._parts.hostname.length-this.domain().length;c=this._parts.hostname.substring(0,c);c=RegExp("^"+o(c));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&e.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(c,
a);this.build(!b);return this};d.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&2>c.length)return this._parts.hostname;c=this._parts.hostname.length-this.tld(b).length-1;c=this._parts.hostname.lastIndexOf(".",c-1)+1;return this._parts.hostname.substring(c)||""}if(!a)throw new TypeError("cannot set domain empty");e.ensureValidHostname(a);
!this._parts.hostname||this.is("IP")?this._parts.hostname=a:(c=RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a));this.build(!b);return this};d.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.lastIndexOf("."),c=this._parts.hostname.substring(c+1);return!0!==b&&p&&p.list[c.toLowerCase()]?p.get(this._parts.hostname)||c:c}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(p&&
p.is(a))c=RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a);else throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");c=RegExp(o(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};d.directory=function(a,b){if(this._parts.urn)return void 0===a?
"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,c=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}c=this._parts.path.length-this.filename().length;c=this._parts.path.substring(0,c);c=RegExp("^"+o(c));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=e.recodePath(a);this._parts.path=
this._parts.path.replace(c,a);this.build(!b);return this};d.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),c=this._parts.path.substring(c+1);return a?e.decodePathSegment(c):c}c=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&(c=!0);var f=RegExp(o(this.filename())+"$"),a=e.recodePath(a);this._parts.path=this._parts.path.replace(f,a);c?this.normalizePath(b):
this.build(!b);return this};d.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this.filename(),f=c.lastIndexOf(".");if(-1===f)return"";c=c.substring(f+1);c=/^[a-z0-9%]+$/i.test(c)?c:"";return a?e.decodePathSegment(c):c}"."===a.charAt(0)&&(a=a.substring(1));if(c=this.suffix())f=a?RegExp(o(c)+"$"):RegExp(o("."+c)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}f&&(a=e.recodePath(a),
this._parts.path=this._parts.path.replace(f,a));this.build(!b);return this};d.segment=function(a,b,c){var e=this._parts.urn?":":"/",d=this.path(),g="/"===d.substring(0,1),d=d.split(e);void 0!==a&&"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error('Bad segment "'+a+'", must be 0-based integer');g&&d.shift();0>a&&(a=Math.max(d.length+a,0));if(void 0===b)return void 0===a?d:d[a];if(null===a||void 0===d[a])if(j(b))for(var d=[],a=0,i=b.length;a<i;a++){if(b[a].length||
d.length&&d[d.length-1].length)d.length&&!d[d.length-1].length&&d.pop(),d.push(b[a])}else{if(b||"string"===typeof b)""===d[d.length-1]?d[d.length-1]=b:d.push(b)}else b?d[a]=b:d.splice(a,1);g&&d.unshift("");return this.path(d.join(e),c)};d.segmentCoded=function(a,b,c){var d,h;"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0===b){a=this.segment(a,b,c);if(j(a)){d=0;for(h=a.length;d<h;d++)a[d]=e.decode(a[d])}else a=void 0!==a?e.decode(a):void 0;return a}if(j(b)){d=0;for(h=b.length;d<h;d++)b[d]=e.decode(b[d])}else b=
"string"===typeof b||b instanceof String?e.encode(b):b;return this.segment(a,b,c)};var F=d.query;d.query=function(a,b){if(!0===a)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!b);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=e.buildQuery(a,
this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):F.call(this,a,b)};d.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof a||a instanceof String)d[a]=void 0!==b?b:null;else if("object"===typeof a)for(var h in a)m.call(a,h)&&(d[h]=a[h]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);
"string"!==typeof a&&(c=b);this.build(!c);return this};d.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);e.addQuery(d,a,void 0===b?null:b);this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};d.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);e.removeQuery(d,a,b);this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,
this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};d.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)};d.setSearch=d.setQuery;d.addSearch=d.addQuery;d.removeSearch=d.removeQuery;d.hasSearch=d.hasQuery;d.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};
d.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};d.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&n?this._parts.hostname=n.toASCII(this._parts.hostname):this.is("IPv6")&&q&&(this._parts.hostname=q.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a));return this};d.normalizePort=function(a){"string"===typeof this._parts.protocol&&
this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};d.normalizePath=function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var b,c=this._parts.path,d="",h,g;"/"!==c.charAt(0)&&(b=!0,c="/"+c);c=c.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");b&&(d=c.substring(1).match(/^(\.\.\/)+/)||"")&&(d=d[0]);for(;;){h=c.indexOf("/..");if(-1===h)break;else if(0===h){c=c.substring(3);continue}g=c.substring(0,h).lastIndexOf("/");
-1===g&&(g=h);c=c.substring(0,g)+c.substring(h+3)}b&&this.is("relative")&&(c=d+c.substring(1));c=e.recodePath(c);this._parts.path=c;this.build(!a);return this};d.normalizePathname=d.normalizePath;d.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a));return this};d.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));
return this};d.normalizeSearch=d.normalizeQuery;d.normalizeHash=d.normalizeFragment;d.iso8859=function(){var a=e.encode,b=e.decode;e.encode=escape;e.decode=decodeURIComponent;this.normalize();e.encode=a;e.decode=b;return this};d.unicode=function(){var a=e.encode,b=e.decode;e.encode=u;e.decode=unescape;this.normalize();e.encode=a;e.decode=b;return this};d.readable=function(){var a=this.clone();a.username("").password("").normalize();var b="";a._parts.protocol&&(b+=a._parts.protocol+"://");a._parts.hostname&&
(a.is("punycode")&&n?(b+=n.toUnicode(a._parts.hostname),a._parts.port&&(b+=":"+a._parts.port)):b+=a.host());a._parts.hostname&&(a._parts.path&&"/"!==a._parts.path.charAt(0))&&(b+="/");b+=a.path(!0);if(a._parts.query){for(var c="",d=0,h=a._parts.query.split("&"),g=h.length;d<g;d++){var i=(h[d]||"").split("="),c=c+("&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==i[1]&&(c+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}b+="?"+c.substring(1)}return b+=
e.decodeQuery(a.hash(),!0)};d.absoluteTo=function(a){var b=this.clone(),c=["protocol","username","password","hostname","port"],d,h;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof e||(a=new e(a));b._parts.protocol||(b._parts.protocol=a._parts.protocol);if(this._parts.hostname)return b;for(d=0;h=c[d];d++)b._parts[h]=a._parts[h];b._parts.path?".."===b._parts.path.substring(-2)&&(b._parts.path+="/"):(b._parts.path=a._parts.path,b._parts.query||
(b._parts.query=a._parts.query));"/"!==b.path().charAt(0)&&(a=a.directory(),b._parts.path=(a?a+"/":"")+b._parts.path,b.normalizePath());b.build();return b};d.relativeTo=function(a){var b=this.clone().normalize(),c,d,h,g;if(b._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a=(new e(a)).normalize();c=b._parts;d=a._parts;h=b.path();g=a.path();if("/"!==h.charAt(0))throw Error("URI is already relative");if("/"!==g.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");
c.protocol===d.protocol&&(c.protocol=null);if(!(c.username!==d.username||c.password!==d.password)&&!(null!==c.protocol||null!==c.username||null!==c.password)&&c.hostname===d.hostname&&c.port===d.port)c.hostname=null,c.port=null;else return b.build();if(h===g)return c.path="",b.build();a=e.commonPath(b.path(),a.path());if(!a)return b.build();d=d.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");c.path=d+c.path.substring(a.length);return b.build()};d.equals=function(a){var b=this.clone(),
a=new e(a),c={},d={},h={},g;b.normalize();a.normalize();if(b.toString()===a.toString())return!0;c=b.query();d=a.query();b.query("");a.query("");if(b.toString()!==a.toString()||c.length!==d.length)return!1;c=e.parseQuery(c,this._parts.escapeQuerySpace);d=e.parseQuery(d,this._parts.escapeQuerySpace);for(g in c)if(m.call(c,g)){if(j(c[g])){if(!w(c[g],d[g]))return!1}else if(c[g]!==d[g])return!1;h[g]=!0}for(g in d)if(m.call(d,g)&&!h[g])return!1;return!0};d.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=
!!a;return this};d.escapeQuerySpace=function(a){this._parts.escapeQuerySpace=!!a;return this};this.URI=e});;
;
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = 'jira-fileviewer-module/file-service.js' */
define("jira/fileviewer/file-service",["jira/featureflags/feature-manager","jquery"],function(e,n){"use strict";function i(){return Object.keys(r).map(function(e){return r[e].join(", ")}).join(", ")}function t(e,n){Array.isArray(n)?e.push.apply(e,n):e.push(n)}var r={image:["a[file-preview-type=image]"],video:["a[file-preview-type=video]"],document:["a[file-preview-type=document]"]};return{findFiles:function(e){return n(e||document.body).find(i())},getFileSelector:i,getImageSelector:function(){return r.image.join(", ")},addImageSelector:function(e){t(r.image,e)},getVideoSelector:function(){return r.video.join(", ")},getDocumentSelector:function(){return r.document.join(", ")},addDocumentSelector:function(e){t(r.document,e)}}});;
;
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = 'jira-fileviewer-module/fileviewer.js' */
define("jira/fileviewer",["wrm/require","jira/fileviewer/file-service","jira/loading/loading","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jira/components/analytics-tracker/tracker","jira/util/navigator","atlassian/libs/uri-1.14.1","jquery","underscore"],function(e,i,t,r,n,a,o,l,c){"use strict";function d(){var e=l.Deferred();return s().done(function(){e.resolve(FileViewer)}),e.promise()}function u(e){var i=o(e.data("download-url")||e.attr("href"));return a.isIE()&&a.majorVersion()<12&&i.addSearch("stream","true"),i.toString()}function f(e){return e.data("download-url")||e.attr("href")}function s(){return m||(m=e(["wr!com.atlassian.jira.jira-fileviewer-plugin:atlassian-fileviewer"]),m.done(function(){g=new FileViewer({enableMiniMode:!0,viewers:["image","document","video"],moduleBackend:require("jira/fileviewer/module-backend/asynchronous"),analyticsBackend:require("jira/fileviewer/module-backend/analytics")}),g.on("fv.open",function(){r.disable,n.trackEvent("viewissue.attachment.view","click")}),g.on("fv.close",r.enable)})),m}function v(){g&&g.close()}function p(){var e=[],t=i.getImageSelector(),r=i.getDocumentSelector(),n=i.getVideoSelector(),a=l(t+", "+r+", "+n);a.each(function(){var i=l(this).closest("a");i.is(t)&&e.push({type:"image/png",id:i.attr("file-preview-id"),src:f(i),title:i.attr("file-preview-title"),thumbnail:i.attr("file-preview-url")||i.attr("data-download-url")||i.find("img").attr("src")}),i.is(r)&&e.push({type:"application/pdf",id:i.attr("file-preview-id"),src:u(i),title:i.attr("file-preview-title")}),i.is(n)&&e.push({type:i.attr("file-preview-mime-type"),id:i.attr("file-preview-id"),src:f(i),title:i.attr("file-preview-title"),thumbnail:i.attr("file-preview-url")||i.attr("data-download-url")||i.find("img").attr("src")})});var o=c.uniq(e,!1,function(e){return e.id});g.setFiles(o),a.off("simpleClick.fvOpen").on("simpleClick.fvOpen",function(e){e.preventDefault(),g.open({id:l(this).attr("file-preview-id")})})}function w(e){if(g)p();else{var r=i.findFiles(e);r.off("simpleClick.fvInit").on("simpleClick.fvInit",function(e){e.preventDefault();var i=l(this);t.showLoadingIndicator(),AJS.dim(),s().done(function(){p(),g.open({id:i.attr("file-preview-id")})}).fail(function(){window.location=f(i)}).always(function(){r.off("simpleClick.fvInit"),AJS.undim(),l(".aui-blanket").remove(),t.hideLoadingIndicator()})})}}var m,g;return{attachToElements:w,closeViewer:v,addImageSelector:function(e){i.addImageSelector(e)},addDocumentSelector:function(e){i.addDocumentSelector(e)},getFileViewerConstructor:d}});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = 'includes/jira/viewissue/issuecomponents.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issue&&(JIRA.Templates.Issue={}),JIRA.Templates.Issue.watchersWithBrowse=function(e,s){for(var a='<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a><fieldset><label class="js-add-watchers-label">'+soy.$$escapeHtml("Add Watchers")+'</label><div class="autocomplete-user-target"><select id="watchers" name="watchers" data-description="'+soy.$$escapeHtml("Start Typing for Users")+'" class="watchers-user-picker hidden" multiple="multiple">',t=e.watchers,l=t.length,c=0;c<l;c++){var o=t[c];a+="<option style=\"background-image:url('"+soy.$$escapeHtml(o.avatarUrls["16x16"])+'\')" selected="selected" value="'+soy.$$escapeHtml(o.accountId)+'">'+soy.$$escapeHtml(o.displayName)+"</option>"}return a+="</select></div></fieldset></form>"},JIRA.Templates.Issue.watchersNoBrowse=function(e,s){for(var a='<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a><fieldset><label for="watchers-multi-select">'+soy.$$escapeHtml("Add Watchers")+'</label><div><input type="text" class="text" id="watchers-nosearch" /><div class="description">'+soy.$$escapeHtml("Type username and press enter.")+'</div></div><div class="recipients"><ol class="watchers">',t=e.watchers,l=t.length,c=0;c<l;c++){var o=t[c];a+=JIRA.Templates.Fields.recipientUsername({username:o.name,icon:o.avatarUrls["16x16"],displayName:o.displayName,escape:!0})}return a+="</ol></div></fieldset></form>"},JIRA.Templates.Issue.error=function(e,s){for(var a="<p>"+soy.$$escapeHtml(e.msg)+"</p><ul>",t=e.errors,l=t.length,c=0;c<l;c++){var o=t[c];a+="<li>"+soy.$$escapeHtml(o)+"</li>"}return a+="</ul>"},JIRA.Templates.Issue.usersListReadOnly=function(e,s){for(var a='<form class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a><fieldset><div class="recipients"><ol class="voters">',t=e.users,l=t.length,c=0;c<l;c++){var o=t[c];a+=JIRA.Templates.Fields.recipientUsername({username:o.name,icon:o.avatarUrls["16x16"],displayName:o.displayName,readOnly:!0,escape:!0})}return a+="</ol></div></fieldset></form>"};;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/user-collection.js' */
define("jira/viewissue/watchers-voters/entities/user-collection",["require"],function(e){var r=e("jira/message"),s=e("backbone"),t=e("underscore"),o=e("jquery"),n=e("wrm/context-path"),i=e("jira/util/formatter"),a=JIRA.Templates.Issue,u=s.Model.extend({idAttribute:"key"});return s.Collection.extend({model:u,initialize:function(e){if(void 0===e)throw new Error("Must supply options");if(!e.issueKey)throw new Error("Must supply issue key");if(this.issueKey=e.issueKey,!e.endpoint)throw new Error("Must supply an endpoint");if(this.endpoint=e.endpoint,!e.modelKey)throw new Error("Must supply an model key");this.modelKey=e.modelKey},url:function(){return[n(),"rest/api/2/issue",this.issueKey,this.endpoint].join("/")},parse:function(e){return e&&e[this.modelKey]?e[this.modelKey]:[]},ajax:function(e){return e=t.extend({url:this.url(),headers:{"Content-Type":"application/json"},success:t.bind(function(){this.fetch()},this),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)},e),o.ajax(e)},getUser:function(e){return o.ajax({url:n()+"/rest/api/2/user?username="+encodeURIComponent(e),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)})},handleErrorResponse:function(e,s){var t=this._parseResponse(e.responseText);if(t.errorMessages){var o=a.error({msg:s,errors:t.errorMessages});r.showErrorMsg(o,{closeable:!0})}this.trigger("errorOccurred")},_parseResponse:function(e){try{return JSON.parse(e)}catch(e){return this._showFatalErrorMessage(),null}},_showFatalErrorMessage:function(){var e="<p>"+"Communications Breakdown"+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p>";r.showErrorMsg(e,{closeable:!0})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/voters-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/voters-user-collection",["jira/viewissue/watchers-voters/entities/user-collection"],function(e){return e.extend({initialize:function(t){var i={issueKey:t,endpoint:"votes",modelKey:"voters"};e.prototype.initialize.apply(this,[i])},vote:function(){return this.ajax({type:"POST"})},unvote:function(){return this.ajax({type:"DELETE"})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/watchers-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/watchers-user-collection",["jira/viewissue/watchers-voters/entities/user-collection","jira/util/data/meta"],function(e,t){return e.extend({initialize:function(i){this.canBrowseUsers=t.get("can-search-users"),this.isReadOnly=!t.get("can-edit-watchers");var a={issueKey:i,endpoint:"watchers",modelKey:"watchers"};e.prototype.initialize.apply(this,[a])},addWatcher:function(e){return this.ajax({type:"POST",data:'"'+e+'"'})},removeWatcher:function(e){return this.ajax({type:"DELETE",url:this.url()+"?accountId="+e})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/voters-view.js' */
define("jira/viewissue/watchers-voters/views/voters-view",["require"],function(e){var t=e("aui/message"),i=e("backbone"),r=(e("underscore"),e("jquery"),e("jira/jquery/deferred"),e("jira/util/formatter")),s=JIRA.Templates.Issue;return i.View.extend({$empty:void 0,initialize:function(e){this.collection=e.collection,this.collection.bind("replace reset add remove",this.render,this)},renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no voters for this issue"}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){return this.$el.html(s.usersListReadOnly({users:this.collection.toJSON()})),this.renderNoWatchers(),this.$el}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/abstract-watchers-view.js' */
define("jira/viewissue/watchers-voters/views/abstract-watchers-view",["require"],function(e){var t=e("aui/message"),i=e("backbone"),n=e("underscore"),r=e("jquery"),s=e("jira/jquery/deferred"),a=e("jira/util/formatter");return i.View.extend({$empty:void 0,renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no watchers."}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){var e=s();return this.collection.fetch().done(n.bind(function(){this._render(),this.renderNoWatchers(),e.resolve(this.$el),setTimeout(n.bind(function(){this.focus()},this),0)},this)),e.promise()},watch:function(){r("#watching-toggle").text("Stop watching this issue")},unwatch:function(){r("#watching-toggle").text("Start watching this issue")},focus:r.noop,_incrementWatcherCount:function(){var e=r("#watcher-data"),t=parseInt(e.text(),10);e.text(t+1),this.renderNoWatchers()},_decrementWatcherCount:function(){var e=r("#watcher-data"),t=parseInt(e.text(),10);e.text(t-1),this.renderNoWatchers()}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-view",["require"],function(e){var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),i=e("underscore"),a=e("jira/util/logger"),s=e("jira/field/multi-user-list-picker"),c=JIRA.Templates.Issue;return t.extend({events:{selected:"addWatcherToModel",unselect:"removeWatcherFromModel"},_render:function(){this.$el.html(c.watchersWithBrowse({watchers:this.collection.toJSON()}));var e=new s({element:this.$el.find(".watchers-user-picker"),width:220});this.$el.find(".js-add-watchers-label").attr("for",e.$field.attr("id"))},focus:function(){this.$el.find("#watchers-textarea").focus()},addWatcherToModel:function(e,t){e.preventDefault(),this.collection.addWatcher(t.value()).done(i.bind(function(){this._incrementWatcherCount(),t.value()===r.get("remote-user")&&this.watch()},this))},removeWatcherFromModel:function(e,t){this.collection.removeWatcher(t.value()).done(i.bind(function(){this._decrementWatcherCount(),t.value()===r.get("remote-user")&&(this.unwatch(),a.trace("jira.issue.watcher.deleted"))},this))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-no-browse-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-no-browse-view",["require"],function(e){var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),a=e("underscore"),i=e("jquery"),s=e("jira/util/logger"),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return t.extend({events:{"click .remove-recipient":"removeWatcher",submit:"addWatcher"},addWatcher:function(e){e.preventDefault(),this.removeInlineError();var t=i("#watchers-nosearch"),s=i.trim(t.val());t.attr("disabled","disabled"),this.hasUsername(s)?(t.removeAttr("disabled"),this.showInlineError(n.format("User {0} is already watching this issue",s)),t.val("")):this.collection.getUser(s).done(a.bind(function(e){var a=JIRA.Templates.Fields.recipientUsername({icon:e.avatarUrls["16x16"],username:e.name,displayName:e.displayName});s===r.get("remote-user")&&this.watch(),t.val(""),this.$(".watchers").append(a),this.collection.addWatcher(e.name),this._incrementWatcherCount()},this)).fail(a.bind(function(e){404===e.status&&this.showInlineError("User does not exist")},this)).always(function(){t.removeAttr("disabled").focus()})},hasUsername:function(e){var t=!1;return this.$(".watchers li").each(function(){if(i(this).attr("data-username")===e)return t=!0,!1}),t},removeInlineError:function(){this.$(".error").remove()},showInlineError:function(e){i("<div />").addClass("error").text(e).insertAfter(this.$(".description"))},focus:function(){i("#watchers-nosearch").focus()},removeWatcher:function(e){e.preventDefault();var t=i(e.target).closest("li"),a=t.attr("data-username");a&&(t.remove(),this.collection.removeWatcher(a),this._decrementWatcherCount(),a===r.get("remote-user")&&this.unwatch()),s.trace("jira.issue.watcher.deleted")},_render:function(){this.$el.html(o.watchersNoBrowse({watchers:this.collection.toJSON()}))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-read-only-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-read-only-view",["require"],function(e){var s=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=JIRA.Templates.Issue;return s.extend({_render:function(){this.$el.html(r.usersListReadOnly({users:this.collection.toJSON()}))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-inline-dialog-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view",["require"],function(e){var i=e("backbone"),t=e("jira/skate"),n=i.View.prototype.setElement;return i.View.extend({id:"inline-dialog-watchers",events:{"click .cancel":function(e){e.preventDefault(),this.hide()}},setElement:function(e){var s=e instanceof i.$?e.get(0):e;if(s)return this.el&&this.el.parentNode&&this.el!==s&&this.el.parentNode.removeChild(this.el),n.call(this,s),t.init(this.el),this},contents:function(e){var i=this.$el.find(".aui-inline-dialog-contents");0===i.length&&(i=AJS.$("<div/>",{class:"aui-inline-dialog-contents"}),this.$el.append(i)),i.html(e)},show:function(){this.el.setAttribute("open","")},hide:function(){this.el.removeAttribute("open")},isVisible:function(){return!!this.el.hasAttribute("open")}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/watchers.js' */
define("jira/viewissue/watchers-voters/watchers",["require"],function(e){"use strict";function i(){return h||(h=new a({el:d("#inline-dialog-watchers").get(0)})),h}function s(e){return e.isReadOnly?n:e.canBrowseUsers?r:t}var n=e("jira/viewissue/watchers-voters/views/watchers-read-only-view"),t=e("jira/viewissue/watchers-voters/views/watchers-no-browse-view"),r=e("jira/viewissue/watchers-voters/views/watchers-view"),o=e("jira/viewissue/watchers-voters/entities/watchers-user-collection"),a=e("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view"),c=e("jira/util/events"),l=e("jira/util/events/types"),w=e("jira/util/events/reasons"),u=e("jira/issue"),v=e("aui/inline-dialog"),d=e("jquery"),h=null;d(document).on("click","#view-watcher-list",function(e){e.preventDefault();var n=i(),t=d("#watching-toggle").next(".icon"),r=new o(u.getIssueKey());t.addClass("loading");var a=s(r);new a({collection:r}).render().done(function(e){t.removeClass("loading"),n.contents(e),n.show()}),r.on("errorOccurred",function(){n.hide()})}),d(document).on("keydown",function(e){h&&27===e.keyCode&&v.current!==h.el&&h.isVisible()&&(v.current&&v.current.hide(),h.hide())}),d(document).on("click",function(e){if(h){var i=d(e.target).closest("#inline-dialog-watchers, #watchers-suggestions").length;0===i&&h.isVisible()&&h.hide()}}),c.bind(l.NEW_CONTENT_ADDED,function(e,s,n){n===w.panelRefreshed&&s.is("#peoplemodule")&&i().setElement(s.find("#inline-dialog-watchers").get(0))})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/voters.js' */
define("jira/viewissue/watchers-voters/voters",["require"],function(e){"use strict";var i=e("jira/viewissue/watchers-voters/entities/voters-user-collection"),r=e("jira/viewissue/watchers-voters/views/voters-view"),t=e("jira/issue"),n=e("jira/ajs/layer/inline-layer"),s=e("aui/inline-dialog"),o=e("jquery"),c=s("#view-voter-list","voters",function(e,n,s){var a=o("#vote-toggle").next(".icon");a.addClass("loading");var u=new i(t.getIssueKey()),v=new r({collection:u}),l=u.fetch();l.done(function(){var i=v.render();e.html(i),e.find(".cancel").click(function(e){c.hide(),e.preventDefault()}),a.removeClass("loading"),s()}),u.on("errorOccurred",function(){c.hide()})},{width:240,useLiveEvents:!0,items:"#view-voters-list",preHideCallback:function(){return!n.current}});o(document).bind("keydown",function(e){27===e.keyCode&&s.current!==c&&c.is(":visible")&&(s.current&&s.current.hide(),c.hide())}),o(document).click(function(e){var i=s.current;i&&"voters"===i.id&&(o(e.target).closest("#inline-dialog-voters").length||i.hide())})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/toggler.js' */
define("jira/viewissue/watchers-voters/toggler",["require"],function(t){var e=t("jira/components/analytics-tracker/tracker"),a=t("jira/ajs/ajax/smart-ajax"),o=t("jira/flag"),n=t("jquery"),s=t("wrm/context-path"),i=t("jira/util/formatter"),r=function(t,o,i,r,c){var u,f=o+"-on",g=o+"-off",d="/voters",x=t.next(".icon"),p="POST",v=t.hasClass(f)?"on":"off";t.hasClass(f)&&(p="DELETE"),o.indexOf("watch")!==-1&&(d="/watchers"),t.removeClass(f).removeClass(g),"POST"===p&&(u={dummy:!0}),e.trackEvent("viewissue."+o+"."+v,"click"),n(a.makeRequest({url:s()+"/rest/api/1.0/issues/"+t.attr("rel")+d,type:p,dataType:"json",data:u,contentType:"application/json",complete:function(e,a,o){var n="POST"===p;o.successful?(n?(t.addClass(f),t.text(c.titleOn),r.attr("title",c.titleOn).text(c.textOn)):(t.addClass(g),t.text(c.titleOff),r.attr("title",c.titleOff).text(c.textOff)),i.text(o.data.count),i[n?"addClass":"removeClass"](f),i[n?"removeClass":"addClass"](g)):(o.aborted||l(o),n?(t.addClass(g),t.text(c.titleOff),r.attr("title",c.titleOff).text(c.textOff)):(t.addClass(f),t.text(c.titleOn),r.attr("title",c.titleOn).text(c.textOn)))}})).throbber({target:x})},l=function(t){var e=a.buildSimpleErrorContent(t,{alert:!0});if(t.hasData){var n=JSON.parse(t.data);n.errorMessages&&(e=n.errorMessages[0])}o.showErrorMsg(e,{closeable:!0})};n(document).delegate("#toggle-vote-issue","click",function(t){t.preventDefault(),n("#vote-toggle").click()}),n(document).delegate("#toggle-watch-issue","click",function(t){t.preventDefault(),n("#watching-toggle").click()});var c=function(t){n("input[type=hidden][id|=error]").each(function(e,a){var o=a.id.replace("error-","");t[o]=a.value})};n(document).delegate("#vote-toggle","click",function(t){t.preventDefault();var e={titleOn:"Remove vote for this issue",titleOff:"Vote for this issue",textOn:"Remove vote",textOff:"Add vote",actionTextOff:"Vote",actionTextOn:"Voted"},a=n(this),o=n(document.querySelectorAll("#vote-data")),s=n(document.querySelectorAll("#toggle-vote-issue"));c(e),r(a,"vote-state",o,s,e)}),n(document).delegate("#watching-toggle","click",function(t){t.preventDefault();var e={titleOn:"Stop watching this issue",titleOff:"Start watching this issue",textOn:"Stop watching",textOff:"Watch issue",actionTextOff:"Watch",actionTextOn:"Watching"},a=n(this),o=n(document.querySelectorAll("#watcher-data")),s=n(document.querySelectorAll("#toggle-watch-issue"));c(e),r(a,"watch-state",o,s,e)})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/initWatchersAndVoters.js' */
AJS.namespace("JIRA.VotersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/voters-user-collection")),AJS.namespace("JIRA.WatchersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/watchers-user-collection")),AJS.namespace("JIRA.VotersView",null,require("jira/viewissue/watchers-voters/views/voters-view")),AJS.namespace("JIRA.WatchersView",null,require("jira/viewissue/watchers-voters/views/watchers-view")),AJS.namespace("JIRA.WatchersNoBrowseView",null,require("jira/viewissue/watchers-voters/views/watchers-no-browse-view")),AJS.namespace("JIRA.WatchersReadOnly",null,require("jira/viewissue/watchers-voters/views/watchers-read-only-view"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/AnalyticsUtils.js' */
define("jira/viewissue/analytics-utils",["jira/util/data/meta","jira/issuenavigator/issue-navigator","jira/util/strings","wrm/context-path","jquery","exports"],function(n,t,e,i,r,s){function a(){return r(document.body).hasClass("navigator-issue-only")}function u(){return!!n.get("is-servicedesk-rendered")}function o(){return t.isNavigator()}function c(){return a()&&e.contains(location.search,"jql=")}function l(){return e.startsWith(location.pathname,i()+"/projects/")}s.context=function(){return c()?"fullscreen-issuenav":a()?"fullscreen":u()?"sd-queue":o()?"issuenav":l()?"project":"unknown"}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/slideshow/slideshow-configuration.js' */
define("jira/viewissue/slideshow/slideshow-configuration",["jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery"],function(e,t){var i={type:"image",centerOnScroll:!0,onStart:e.disable,onClosed:e.enable},n="elastic";return t.extend({},i,{transitionIn:n,transitionOut:n})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/image-wrap.js' */
define("jira/viewissue/element/image-wrap",["jira/fileviewer","jira/skate","jira/featureflags/feature-manager","underscore"],function(e,a,i,t){a("file-preview-type",{type:a.type.ATTRIBUTE,attached:t.debounce(function(){e.attachToElements()},0),detached:function(){e.closeViewer()}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/ajs/shorten/shortener.js' */
define("jira/ajs/shorten/shortener",["jira/util/formatter","jira/ajs/control","jira/data/local-storage","jquery"],function(t,e,i,n){return e.extend({_getDefaultOptions:function(){return{items:"a, span",numRows:1,shortenText:"hide",shortenOnInit:!0,persist:!0,expandButtonTooltip:"Click to view {0} more",collapseButtonTooltip:"Hide"}},init:function(t){"string"==typeof t&&(t={element:t}),t=t||{},this.options=n.extend(this._getDefaultOptions(),t),this._timerId=0,this.expanded=!1,this.$container=n(this.options.element),this._cleanupOldButtons(),this.$container.css("height","auto"),this._assignEvents("body",document.body),this._ready()},_isValid:function(){return!this.initialized&&this.$container.is(":visible")&&this.$container.children().length>0},_cleanupOldButtons:function(){this.$container.find("a.ellipsis.shortener-expand").remove(),this.$container.find("a.shortener-collapse").remove(),this.$container.find("br.shortener-expand-line-break").remove()},_ready:function(){this._isValid()&&(this.$items=this.$container.children(this.options.items),this.$expandButton=this._render("expandButton"),this.$collapseButton=this._render("collapseButton"),this._assignEvents("expand-button",".shortener-expand"),this._assignEvents("collapse-button",".shortener-collapse"),(!n.browser.msie||n.browser.version>="9")&&this._assignEvents("resize-region",window),this._isCollapsedOnInit()?this.collapse():this.expand(),this.initialized=!0)},_renders:{expandButton:function(){return n("<a href='#' class='ellipsis shortener-expand'></a>").attr("title",this.options.expandButtonTooltip).add("<br class='shortener-expand-line-break'>")},collapseButton:function(){return n("<a href='#' title='Hide' class='icon icon-hide shortener-collapse'></a>").append(n("<span>").text(this.options.collapseButtonTooltip))}},_events:{"expand-button":{click:function(t){t.currentTarget===this.$expandButton[0]&&(t.preventDefault(),this.expand(),this._saveState("expanded"))}},"collapse-button":{click:function(t){t.currentTarget===this.$collapseButton[0]&&(t.preventDefault(),this.collapse(),this._saveState("collapsed"),this.$container.scrollIntoView())}},"resize-region":{resize:function(){if(clearTimeout(this._timerId),!this.expanded){var t=this;this._timerId=setTimeout(function(){t.collapse()},400)}}},body:{tabSelect:function(){this._ready()}}},_saveState:function(t){try{i.setItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"),t)}catch(t){}},_loadState:function(){return i.getItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"))},_isCollapsedOnInit:function(){var t=this._loadState();return null!==t?"expanded"!==t:this.options.shortenOnInit},_removeButtons:function(){this.$expandButton.remove(),this.$collapseButton.remove()},_getOverflowIndex:function(){if(this.$items.length>1)for(var t=1,e=-1,i=0;i<this.$items.length;i++){var n=this.$items.eq(i).offset().left;if(n<=e&&(t++,t>this.options.numRows))return i;e=n}return-1},expand:function(){this._removeButtons(),this._getOverflowIndex()>0&&(this.$collapseButton=this._render("collapseButton"),this.$container.append(this.$collapseButton),this.$container.css("height","auto"),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")),this.expanded=!0},collapse:function(){this._removeButtons();var e=this._getOverflowIndex();if(e>0){this.$container.css({position:"absolute",visibility:"hidden",width:this.$container[0].clientWidth+"px"});var i=this.$expandButton.first();do{var s=this.$items.length-e;i.text("("+s+")"),this.$expandButton.insertBefore(this.$items[e]),e--;var o=this.$items.eq(e).offset(),r=this.$expandButton.offset();if(o.left<r.left&&r.top<o.top+10)break}while(e>0);var a=e<this.$items.length-1?this.$items.eq(e+1).offset().top-this.$container.offset().top+"px":"auto";this.$container.css({height:a,position:"static",visibility:"visible",width:"auto"}),i.attr("title",t.format(this.options.expandButtonTooltip,s)),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")}else this.$container.css("height","auto");this.expanded=!1}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/ajs/shorten/namespace.js' */
AJS.namespace("AJS.Shortener",null,require("jira/ajs/shorten/shortener"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jquery/plugins/shorten/shortener.js' */
define("jira/jquery/plugins/shorten/shorten",["jira/ajs/shorten/shortener","jquery"],function(n,e){e.fn.shorten=function(e){var r=[];return e=e||{},this.each(function(){e.element=this,r.push(new n(e))}),r}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jquery/plugins/shorten/install.js' */
!function(){require("jira/jquery/plugins/shorten/shorten")}();;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/shorten.js' */
define("jira/viewissue/element/shorten",["jira/ajs/shorten/shortener","jira/skate"],function(e,t){return t("shorten",{type:t.type.CLASSNAME,attached:function(t){var n={};n.element=t,new e(n)}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initToggleBlock.js' */
define("jira/viewissue/init-toggle-block",["jira/util/events","jira/util/events/types","jira/toggleblock/toggle-block"],function(e,t,i){new i({blockSelector:".toggle-wrap",triggerSelector:".issue-container .mod-header .toggle-title",storageCollectionName:"block-states"}),t.ISSUE_REFRESHED&&e.bind(t.ISSUE_REFRESHED,function(){t.REFRESH_TOGGLE_BLOCKS&&e.trigger(t.REFRESH_TOGGLE_BLOCKS)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/comment/comment-form.js' */
define("jira/viewissue/comment/comment-form",["jira/util/formatter","jira/util/events","jira/util/events/types","jira/ajs/ajax/smart-ajax","jira/issue","jira/dialog/form-dialog","wrm/context-path","jira/jquery/deferred","jquery"],function(e,t,i,n,r,o,s,a,m){var l=s(),d={setCaretAtEndOfCommentField:function(){var e,t=this.getField(),i=t[0];t.length&&(e=t.val().length,t.scrollTop(t.attr("scrollHeight")),i.setSelectionRange&&e>0&&i.setSelectionRange(e,e))},disable:function(){this.getForm().find("textarea").attr("readonly","readonly"),this.getForm().find("input[type=submit]").attr("disabled","disabled")},isDirty:function(){var e=this.getField();return!!e.length&&e[0].value!==e[0].defaultValue},handleBrowseAway:function(){if(d.isDirty()){var t=d.getForm(),i=t.length&&t.is(":visible");return i?"You have entered a comment on this issue. If you navigate away from this page without first saving, the comment will be lost.":void 0}},isVisibilityAvailble:function(){return"none"!=this.getForm().find("#commentLevel :selected").val()},setSubmitState:function(){m.trim(this.getField().val()).length>0&&this.isVisibilityAvailble()?this.getForm().find("#issue-comment-add-submit").removeAttr("disabled"):this.getForm().find("#issue-comment-add-submit").attr("disabled","disabled")},enable:function(){this.getForm().find("textarea").removeAttr("readonly"),this.getForm().find("input[type=submit]").removeAttr("disabled")},getCommentVisibility:function(){var e=this.getForm().find("#commentLevel :selected").val();if(e){var t=e.split(":");return{type:t[0],value:this.getForm().find("#commentLevel :selected").text()}}return null},ajaxSubmit:function(){var s=m('<span class="icon throbber loading"></span>'),u=r.getIssueId(),c=r.getIssueKey(),g=l+"/rest/api/2/issue/"+c+"/comment",f={body:this.getField()[0].value.replace(/\r?\n/g,"\r\n")},h=this.getCommentVisibility();h&&(f.visibility=h);var v=a(),b=m.ajax({url:g,type:"POST",contentType:"application/json",data:JSON.stringify(f),success:function(e){t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"]),t.trigger(i.REFRESH_ISSUE_PAGE,[u,{complete:function(){var t="comment-"+e.id;m("#"+t).scrollIntoView({marginBottom:200,marginTop:200});var i=m("#issue_actions_container > .issue-data-block.focused");i.removeClass("focused");var n=m("#"+t);n.addClass("focused"),s.remove(),d.enable(),v.resolve()}}])},error:function(t){function i(t){var i="<h2>"+"Error"+'</h2><div class="ajaxerror"><div class="aui-message error"><span class="aui-icon icon-warning"/>'+t+"</div></div>";return m(i)}var r,a=m.parseJSON(t.responseText);r=a&&a.errors&&a.errors.comment?i(a.errors.comment):n.buildDialogErrorContent(t),new o({content:r}).show(),s.remove(),d.enable(),v.reject()}});return s.appendTo(this.getForm().find("input[type=submit]").parent()),m.when(b,v)},getForm:function(){var e=m("form#issue-comment-add");return 1===e.length&&(this.$form=e),this.$form||m()},getField:function(){return this.getForm().find("#comment")},getSubmitButton:function(){return this.getForm().find("#issue-comment-add-submit")},hide:function(e){e&&this.cancel(),this.getForm().detach(),i.UNLOCK_PANEL_REFRESHING&&t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"])},show:function(){this.focus(),i.LOCK_PANEL_REFRESHING&&t.trigger(i.LOCK_PANEL_REFRESHING,["addcommentmodule"])},focus:function(){this.focusField(),this.setCaretAtEndOfCommentField()},focusField:function(){this.getField().focus().trigger("keyup"),this.getSubmitButton().scrollIntoView({marginBottom:200})},showNoCommentMsg:function(e){if(""===this.getField().val())return m("#emptyCommentErrMsg").show(),!0},cancel:function(){var e=this;setTimeout(function(){e.getField().val("")},100),m("#comment-preview_link.selected").click()}};return d});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/comment/footer-comment.js' */
define("jira/viewissue/comment/footer-comment",["jira/viewissue/comment/comment-form","jquery"],function(e,t){var i=!1,n=!1,o={getModule:function(){return t("#addcomment")},isActive:function(){return this.getModule().hasClass("active")},hide:function(t){if(this.isActive()){var o=e.handleBrowseAway();(n||i||!o||confirm(o))&&(this.getModule().removeClass("active"),e.hide(t))}},ajaxSubmit:function(){i=!0,e.ajaxSubmit().then(function(){o.hide(!0)})},show:function(){this.isActive()?e.focusField():(i=!1,this.getModule().addClass("active"),this.appendForm(),e.show())},appendForm:function(){this.getModule().find(".mod-content").append(e.getForm())}};return o.setPreviewMode=function(e){n=Boolean(e)},o});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/init-comment-areas.js' */
define("jira/viewissue/init-comment-areas",["require"],function(e){var t=e("jira/viewissue/comment/comment-form"),n=e("jira/viewissue/comment/footer-comment"),i=e("jira/issue"),o=e("jquery"),a=e("jira/libs/parse-uri"),m=window.onbeforeunload,u={};u.openFooterComment=function(){n.show(),t.getForm().find("#commentLevel").bind("change",function(){t.setSubmitState()}),t.setSubmitState()},o(document).delegate("#addcomment #issue-comment-add","submit",function(e){n.ajaxSubmit(),e.preventDefault()}).delegate(".issue-header #comment-issue","click",function(e){n.show(),e.preventDefault()}).delegate("#footer-comment-button","click",function(e){u.openFooterComment(),e.preventDefault()}).delegate("#addcomment .cancel","click",function(e){e.preventDefault(),n.hide(!0)}).delegate("#issue-comment-add","submit",function(){window.setTimeout(function(){t.disable()},0)}).delegate("#issue-comment-add #comment","input",function(){t.setSubmitState()}).delegate("#issue-comment-add input[type='submit']","click",function(e){t.showNoCommentMsg()&&e.preventDefault()}).bind("showWikiInput",function(){n.setPreviewMode(!1);var e=t.getField();e.is(":visible:enabled")&&(i.getStalker().trigger("stalkerHeightUpdated"),e.length>0&&e.focus(),t.setCaretAtEndOfCommentField())}).bind("showWikiPreview",function(){n.setPreviewMode(!0),i.getStalker().trigger("stalkerHeightUpdated")}),window.onbeforeunload=function(){var e=void 0;return o.isFunction(m)&&(e=m.apply(this,arguments)),e||t.handleBrowseAway.apply(this,arguments)},o(function(){"add-comment"===a(window.location.href).anchor&&u.openFooterComment()})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/invoke-comment-trigger.js' */
define("jira/viewissue/invoke-comment-trigger",["jquery"],function(e){return function(){var i=e(".add-issue-comment");if(0!==i.length){var r=i.filter(".toolbar-trigger");r.length>0?r.click():i.click()}}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/namespace.js' */
AJS.namespace("JIRA.Issue.CommentForm",null,require("jira/viewissue/comment/comment-form")),AJS.namespace("JIRA.Issue.getDirtyCommentWarning",null,require("jira/viewissue/comment/comment-form").handleBrowseAway),AJS.namespace("JIRA.Issue.invokeCommentTrigger",null,require("jira/viewissue/invoke-comment-trigger"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initCustomFieldTabs.js' */
define("jira/viewissue/init-custom-field-tabs",["jira/util/logger","jira/util/events","jira/util/events/types","aui/tabs","jquery"],function(t,i,e,n,a){var r="#customfieldmodule",l=function(i){var e;"string"!=typeof i&&i.length>0||("#"!==i[0]&&(i="#"+i),t.log("activating tab",i),e=a("a[href='"+i+"']",r),e.length&&n.change(e))},u=function(t){var i=a(t.target).closest(".tabs-pane");i.length>0&&l(i.attr("id"))};a(function(){e.NEW_CONTENT_ADDED&&i.bind(e.NEW_CONTENT_ADDED,function(t,i){var e=i.find(r);e.unbind("reveal"),e.bind("reveal",u),n.setup()}),e.PANEL_REFRESHED&&i.bind(e.PANEL_REFRESHED,function(t,i,e,n){if("details-module"===i){var a=n.find(r).find(".active-tab");1===a.length&&l(a.find("a").attr("href"))}}),a(r).bind("reveal",u)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initSubtaskTimeLogging.js' */
define("jira/viewissue/init-subtask-time-logging",["jquery"],function(i){i(document).delegate("#tt_include_subtasks input","click",function(t){i(this).is(":checked")?(i("#tt_info_single").hide(),i("#tt_info_aggregate").show()):(i("#tt_info_aggregate").hide(),i("#tt_info_single").show())})});;
;
/* module-key = 'jira.webresources:viewissue', location = 'includes/jira/viewissue/ViewIssueTabs.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issue&&(JIRA.Templates.Issue={}),"undefined"==typeof JIRA.Templates.Issue.Tabs&&(JIRA.Templates.Issue.Tabs={}),JIRA.Templates.Issue.Tabs.label=function(e,s){return"<strong>"+soy.$$escapeHtml(e.text)+"</strong>"},JIRA.Templates.Issue.Tabs.tab=function(e,s){return'<a id="'+soy.$$escapeHtml(e.id)+'" href="'+soy.$$escapeHtml(e.href)+'" class="'+soy.$$escapeHtml(e.linkClass)+'">'+JIRA.Templates.Issue.Tabs.label(e)+"</a>"};;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/ViewIssueTabsAnalytics.js' */
define("jira/viewissue/tabs/analytics",["jquery","jira/analytics","jira/util/strings","jira/viewissue/analytics-utils","jira/components/analytics-tracker/tracker","underscore"],function(e,t,a,n,i,s){function r(e){return m.indexOf(e)>-1?e:a.hashCode(e)}function c(e){return{tab:r(e.attr("data-key")),tabPosition:e.index()}}function l(e,t){return{inNewWindow:e,keyboard:t,context:n.context()}}function o(e){var t=e.attr("id");return!!t&&/\d+_thumb/.test(t)}function u(e){return e.hasClass("issue-link")?"issue":e.hasClass("external-link")?"external":o(e)?"attachment":"unknown"}function d(e,t,a,n){var r=e.closest(".mod-content").find("#issue-tabs li.active"),o=l(a,n);s.extend(o,c(r)),s.extend(o,{linkType:t}),i.trackEvent("viewissue","tab.link.clicked",o)}var m=["com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel","com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab"];return{tabClicked:function(e,a,n){var r=e.parent(),o=s.extend({},l(a,n),c(r));t.send({name:"jira.viewissue.tab.clicked",data:o}),i.trackEvent("viewissue","tab.clicked",o)},buttonClicked:function(e,a,n){if(e.is("[data-tab-sort]")){var i=e.data("order"),r=e.parents(".tabwrap").find("li.active");t.send({name:"jira.viewissue.tabsort.clicked",data:s.extend({},l(a,n),c(r),{order:i})})}},permalinkClicked:function(e,t){i.trackEvent("viewissue","comment.permalink.click",{commentId:e,keyboard:t})},permalinkContextMenuOpened:function(e,t){i.trackEvent("viewissue","comment.permalink.contextmenu.opened",{commentId:e,keyboard:t})},tabItemDetailsLinkClicked:function(e,t,a){d(e,"profile",t,a)},tabItemBodyLinkClicked:function(e,t,a){d(e,u(e),t,a)}}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/ViewIssueTabs.js' */
define("jira/viewissue/tabs",["jira/util/logger","jira/util/formatter","jquery","jira/jquery/deferred","jira/util/data/meta","jira/dialog/form-dialog","jira/ajs/ajax/smart-ajax","jira/userhover/userhover","jira/viewissue/tabs/analytics","jira/featureflags/feature-manager"],function(e,t,i,a,n,r,s,o,u,c){function l(e){e=e||document,i.each(M,function(t,i){i(e)})}function f(e){var t=i(e).find(".issuePanelWrapper"),a=i(e).find("#issue_actions_container");L=a.length?a:L,q=t.length?t:q}function d(e,t){var i=new r({id:"issue-tab-error-dialog",widthClass:"small",content:s.buildDialogErrorContent(e,!1)});h(t),L.show(),i.show()}function h(e){i("#issue-tabs li").each(function(){var t=i(this),a=t.data("key"),n=t.data("label");if(a==e)t.addClass("active"),t.html(R.label({text:n}));else{t.removeClass("active");var r=t.data("id"),s=t.data("href");t.html(R.tab({id:r,href:s,linkClass:J,text:n}))}}),k(i("#issue-tabs"))}function v(e){h(e)}function m(e,t){var i=e.pageX,a=e.pageY,n=t.offset(),r=t.outerWidth(),s=t.outerHeight();return 0==i&&0==a||!(i>=n.left&&i<=n.left+r&&a>=n.top&&a<=n.top+s)}function p(){var e=i("#issue_actions_container");b(e,"action-details","viewIssueTabDetailsLink",u.tabItemDetailsLinkClicked),b(e,"action-body","viewIssueTabBodyLink",u.tabItemBodyLinkClicked)}function b(e,t,a,n){var r="."+t+" a";e.find(r).off("click."+a).on("click."+a,function(e){var t=i(this),a=e.metaKey,r=m(e,t);n(t,a,r)})}function g(){var e=i('[id^="permlink_comment"]');e.off("click").on("click",function(e){var t=y(e.target),a=i(this),n=m(e,a);u.permalinkClicked(t,n)}),e.off("contextmenu").on("contextmenu",function(e){var t=y(e.target),a=i(this),n=m(e,a);u.permalinkContextMenuOpened(t,n)})}function y(e){var t=i(e).closest('[id^="permlink_comment"]').attr("id"),a=t.split("_").pop();return a}function k(e){var t=i(e).find("li.active").data("key");i(e).find(H).off("click.viewIssueTabs").on("click.viewIssueTabs",function(e){var a=i(this),n=m(e,a),r=a.parent().data("key"),s=e.metaKey;r?u.tabClicked(a,s,n):u.buttonClicked(a,s,n),s||(e.preventDefault(),r&&v(r),j(t,a.attr("href")).done(function(e){n&&(r?e.find("#"+a.attr("id")+" > :first-child").focus():e.find(".sortwrap  > :first-child").focus())}).done(l))})}function j(t,r){var o=a();D&&D.abort(),E&&(F=n.get("viewissue-use-history-api")!==!1);var u=s.makeRequest({jqueryAjaxFn:F?i.pjax:i.ajax,headers:{"X-PJAX":!0},container:S,url:r,timeout:null,complete:function(a,n,r){if("abort"!=n){if(D=null,!r.successful)return void((r.status<300||r.status>=400)&&d(r,t));var s=i(this.container),u=document.createElement("div");u.innerHTML=r.data;var c=document.createDocumentFragment().appendChild(u);F||w(s,c),e.trace("jira.issue.tab.loaded"),o.resolve(s)}}});return i(u).throbber({target:q}),D=u,o}function w(e,t){var a=t.querySelectorAll(".tabwrap"),n=e.find(".tabwrap"),r=i(t.querySelectorAll("#issue_actions_container")).contents(),s=L.contents();if(a.length&&n.length&&r.length&&s.length){n.replaceWith(a),L.stop(!0,!0);var o=L.height();L.append(r);var u=L.height()-o,c=o-u;c>0?(L.css("height",u+c),s.remove(),x(u,c)):L.empty().append(r),i(t.querySelectorAll("script")).each(function(){i.globalEval(this.text||this.textContent||this.innerHTML||"")})}else e.empty().append(t)}function x(e,t){var i=150,a=800,n=t/a*1e3;setTimeout(function(){L.animate({height:e+1},n,"easeOutQuart",function(){L.css("height","auto")})},i)}function C(e){i(e).find(H).each(function(){var e=i(this);e.attr("href",e.attr("href")+"#issue-tabs")})}function T(e){E&&(F=n.get("viewissue-use-history-api")!==!1),!F||i.support.pjax?k(e):C(e)}function I(e){i(e).bind("moveToFinished",function(e,t){i("a.twixi:visible",t).focus()})}function A(e){e.find("time.livestamp").livestamp()}function _(e){i.inArray(e,M)<0&&M.push(e)}var q,L,D,R=JIRA.Templates.Issue.Tabs,E=c.isFeatureEnabled("empanada.gin-in-spa"),F=n.get("viewissue-use-history-api")!==!1,J="ajax-activity-content",S="#activitymodule div.mod-content",H=t.format("a.{0}",J),M=[];return _(f),_(T),_(I),_(o),_(A),_(p),_(g),{onTabReady:_,domReady:l}}),AJS.namespace("JIRA.ViewIssueTabs",null,require("jira/viewissue/tabs"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewIssueTabs.js' */
define("jira/viewissue/init-view-issue-tabs",["require"],function(i){var e=i("jquery"),n=i("jira/util/events"),s=i("jira/util/events/types"),t=i("jira/viewissue/tabs");e(function(){s.PANEL_REFRESHED&&n.bind(s.PANEL_REFRESHED,function(i,e,n,s){if("activitymodule"===e){var t=s.find("#issue_actions_container > .issue-data-block.focused");1===t.length&&n.find("#"+t.attr("id")).addClass("focused")}})}),n.bind(s.NEW_CONTENT_ADDED,function(i,e){t.domReady(e)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewissue.js' */
require(["jira/viewissue/element/shorten","jira/viewissue/element/image-wrap","jira/viewissue/watchers-voters/watchers","jira/viewissue/watchers-voters/voters","jira/viewissue/watchers-voters/toggler","jira/viewissue/init-comment-areas","jira/viewissue/init-subtask-time-logging","jira/viewissue/init-toggle-block","jira/viewissue/init-custom-field-tabs","jira/viewissue/init-view-issue-tabs"],function(){});;
;
/* module-key = 'com.atlassian.plugin.jslibs:marionette-1.4.1-factory', location = 'factories/marionette/1.4.1/marionette-1.4.1-factory.js' */
(function(e){define("atlassian/libs/factories/marionette-1.4.1",function(){return function(d,k){var g=k.Marionette;e.call({_:d,Backbone:k});var h=k.Marionette;h.VERSION="1.4.1";k.Marionette=g;return h}})})(function(){var e=this.Backbone,d=this._,k=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();d.each(a,this.add,this)};d.extend(k.prototype,{add:function(a,b){var f=a.cid;this._views[f]=a;a.model&&(this._indexByModel[a.model.cid]=f);b&&(this._indexByCustom[b]=
f);this._updateLength()},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return d.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];d.any(this._indexByCustom,function(a,c){if(a===b)return delete this._indexByCustom[c],!0},this);
delete this._views[b];this._updateLength()},call:function(a){this.apply(a,d.tail(arguments))},apply:function(a,b){d.each(this._views,function(f){d.isFunction(f[a])&&f[a].apply(f,b||[])})},_updateLength:function(){this.length=d.size(this._views)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){k.prototype[a]=function(){var b=[d.values(this._views)].concat(d.toArray(arguments));
return d[a].apply(d,b)}});var g={},h=function(a){this.options=a;this._wreqrHandlers={};d.isFunction(this.initialize)&&this.initialize(a)};h.extend=e.Model.extend;d.extend(h.prototype,e.Events,{setHandlers:function(a){d.each(a,function(a,f){var c=null;d.isObject(a)&&!d.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(f,a,c)},this)},setHandler:function(a,b,f){this._wreqrHandlers[a]={callback:b,context:f};this.trigger("handler:add",a,b,f)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});g.Handlers=h;h=function(a){this.options=a;this._commands={};d.isFunction(this.initialize)&&this.initialize(a)};d.extend(h.prototype,e.Events,{getCommands:function(a){var b=this._commands[a];
b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}});g.CommandStorage=h;h=g.Handlers.extend({storageType:g.CommandStorage,constructor:function(a){this.options=a||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var b=Array.prototype.slice.call(arguments);g.Handlers.prototype.constructor.apply(this,b)},execute:function(a,b){a=
arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,f){var c=this.storage.getCommands(a);d.each(c.instances,function(a){b.apply(f,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=d.isFunction(a)?new a:a}});g.Commands=h;g.RequestResponse=g.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,
1);return this.getHandler(a).apply(this,b)}});h=function(){};h.extend=e.Model.extend;d.extend(h.prototype,e.Events);g.EventAggregator=h;var l=function(a,b){var f=Error(a);f.name=b||"Error";throw f;},c={};e.Marionette=c;c.$=e.$;var i=Array.prototype.slice;c.extend=e.Model.extend;c.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]};var p=function(a,b,f){return f.toUpperCase()},q=/(^|:)(\w)/gi;c.triggerMethod=function(a){var b=this["on"+a.replace(q,
p)];d.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(d.isFunction(b))return b.apply(this,d.tail(arguments))};var m=function(a){a._isShown&&a._isRendered&&d.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")};c.MonitorDOMRefresh=function(a){a.listenTo(a,"show",function(){a._isShown=!0;m(a)});a.listenTo(a,"render",function(){a._isRendered=!0;m(a)})};var r=function(a,b,f,c){c=c.split(/\s+/);d.each(c,function(c){var d=a[c];d||l("Method '"+c+"' was configured as an event handler, but does not exist.");
a.listenTo(b,f,d,a)})},s=function(a,b,c,d){a.listenTo(b,c,d,a)},t=function(a,b,c,j){j=j.split(/\s+/);d.each(j,function(d){a.stopListening(b,c,a[d],a)})},u=function(a,b,c,d){a.stopListening(b,c,d,a)},n=function(a,b,c,j,e){b&&c&&(d.isFunction(c)&&(c=c.call(a)),d.each(c,function(c,f){d.isFunction(c)?j(a,b,f,c):e(a,b,f,c)}))};c.bindEntityEvents=function(a,b,c){n(a,b,c,s,r)};c.unbindEntityEvents=function(a,b,c){n(a,b,c,u,t)};c.Callbacks=function(){this._deferred=c.$.Deferred();this._callbacks=[]};d.extend(c.Callbacks.prototype,
{add:function(a,b){this._callbacks.push({cb:a,ctx:b});this._deferred.done(function(c,d){b&&(c=b);a.call(c,d)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=c.$.Deferred();this._callbacks=[];d.each(a,function(a){this.add(a.cb,a.ctx)},this)}});c.Controller=function(a){this.triggerMethod=c.triggerMethod;this.options=a||{};d.isFunction(this.initialize)&&this.initialize(this.options)};c.Controller.extend=c.extend;d.extend(c.Controller.prototype,
e.Events,{close:function(){this.stopListening();this.triggerMethod("close");this.unbind()}});c.Region=function(a){this.options=a||{};this.el=c.getOption(this,"el");if(!this.el){var b=Error("An 'el' must be specified for a region.");b.name="NoElError";throw b;}this.initialize&&(b=Array.prototype.slice.apply(arguments),this.initialize.apply(this,b))};d.extend(c.Region,{buildRegion:function(a,b){var c="string"===typeof a,j="string"===typeof a.selector,e="undefined"===typeof a.regionType,g="function"===
typeof a;if(!g&&!c&&!j)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var h,i;c&&(h=a);a.selector&&(h=a.selector);g&&(i=a);!g&&e&&(i=b);a.regionType&&(i=a.regionType);c=new i({el:h});a.parentEl&&(c.getEl=function(b){var c=a.parentEl;d.isFunction(c)&&(c=c());return c.find(b)});return c}});d.extend(c.Region.prototype,e.Events,{show:function(a){this.ensureEl();var b=a.isClosed||d.isUndefined(a.$el),f=a!==this.currentView;f&&this.close();
a.render();(f||b)&&this.open(a);this.currentView=a;c.triggerMethod.call(this,"show",a);c.triggerMethod.call(a,"show")},ensureEl:function(){if(!this.$el||0===this.$el.length)this.$el=this.getEl(this.el)},getEl:function(a){return c.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),c.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();
delete this.$el}});c.Region.extend=c.extend;var o=c.Controller.extend({constructor:function(a){this._regions={};c.Controller.prototype.constructor.call(this,a)},addRegions:function(a,b){var c={};d.each(a,function(a,e){"string"===typeof a&&(a={selector:a});a.selector&&(a=d.defaults({},a,b));var g=this.addRegion(e,a);c[e]=g},this);return c},addRegion:function(a,b){var f;f=d.isObject(b);var j=d.isString(b),e=!!b.selector;f=j||f&&e?c.Region.buildRegion(b,c.Region):d.isFunction(b)?c.Region.buildRegion(b,
c.Region):b;this._store(a,f);this.triggerMethod("region:add",a,f);return f},get:function(a){return this._regions[a]},removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){d.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){d.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions();var a=Array.prototype.slice.call(arguments);c.Controller.prototype.close.apply(this,a)},_store:function(a,b){this._regions[a]=
b;this._setLength()},_remove:function(a,b){b.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",a,b)},_setLength:function(){this.length=d.size(this._regions)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){o.prototype[a]=function(){var b=[d.values(this._regions)].concat(d.toArray(arguments));return d[a].apply(d,b)}});c.RegionManager=
o;c.TemplateCache=function(a){this.templateId=a};d.extend(c.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new c.TemplateCache(a),this.templateCaches[a]=b);return b.load()},clear:function(){var a,b=i.call(arguments),c=b.length;if(0<c)for(a=0;a<c;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});d.extend(c.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=
this.compileTemplate(a)},loadTemplate:function(a){var b=c.$(a).html();(!b||0===b.length)&&l("Could not find template: '"+a+"'","NoTemplateError");return b},compileTemplate:function(a){return d.template(a)}});c.Renderer={render:function(a,b){if(!a){var d=Error("Cannot render the template since it's false, null or undefined.");d.name="TemplateNotFoundError";throw d;}return("function"===typeof a?a:c.TemplateCache.get(a))(b)}};c.View=e.View.extend({constructor:function(a){d.bindAll(this,"render");var b=
Array.prototype.slice.apply(arguments);this.options=d.extend({},this.options,a);this.events=this.normalizeUIKeys(d.result(this,"events"));e.View.prototype.constructor.apply(this,b);c.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:c.triggerMethod,getTemplate:function(){return c.getOption(this,"template")},mixinTemplateHelpers:function(a){var a=a||{},b=c.getOption(this,"templateHelpers");d.isFunction(b)&&(b=b.call(this));return d.extend(a,b)},normalizeUIKeys:function(a){if("undefined"!==
typeof a)return d.each(d.keys(a),function(b){var c=b.split("@ui.");2===c.length&&(a[c[0]+this.ui[c[1]]]=a[b],delete a[b])},this),a},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(d.result(this,"triggers"));d.each(b,function(b,c){var e=d.isObject(b),g=e?b.event:b;a[c]=function(a){if(a){var c=a.preventDefault,d=a.stopPropagation,j=e?b.stopPropagation:d;(e?b.preventDefault:c)&&c&&c.apply(a);j&&d&&d.apply(a)}this.triggerMethod(g,{view:this,model:this.model,collection:this.collection})}},
this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);c.bindEntityEvents(this,this.model,c.getOption(this,"modelEvents"));c.bindEntityEvents(this,this.collection,c.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;d.isFunction(a)&&(a=a.call(this));var b={},c=this.configureTriggers();d.extend(b,a,c);e.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);e.View.prototype.undelegateEvents.apply(this,
a);c.unbindEntityEvents(this,this.model,c.getOption(this,"modelEvents"));c.unbindEntityEvents(this,this.collection,c.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){!this.isClosed&&!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=d.result(this,"_uiBindings");this.ui={};d.each(d.keys(a),function(b){this.ui[b]=
this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}});c.ItemView=c.View.extend({constructor:function(){c.View.prototype.constructor.apply(this,i.call(arguments))},serializeData:function(){var a={};this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()});return a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);
this.triggerMethod("item:before:render",this);var a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate(),a=c.Renderer.render(b,a);this.$el.html(a);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),c.View.prototype.close.apply(this,i.call(arguments)),this.triggerMethod("item:closed"))}});c.CollectionView=c.View.extend({itemViewEventPrefix:"itemview",
constructor:function(a){this._initChildViewStorage();c.View.prototype.constructor.apply(this,i.call(arguments));this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment()},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.appendBuffer(this,this.elBuffer);this.initRenderBuffer();this.isBuffering=!1},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,
this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),c=this.collection.indexOf(a);this.addItemView(a,b,c)},onShowCalled:function(){this.children.each(function(a){c.triggerMethod.call(a,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",
this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=!1;this.triggerBeforeRender();this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.startBuffering();this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView();this.endBuffering()},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getItemView(b);this.addItemView(b,a,c)},this)},showEmptyView:function(){var a=
this.getEmptyView();if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new e.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return c.getOption(this,"emptyView")},getItemView:function(){var a=c.getOption(this,"itemView");a||l("An `itemView` must be specified","NoItemViewError");return a},addItemView:function(a,b,f){var e=c.getOption(this,"itemViewOptions");d.isFunction(e)&&(e=
e.call(this,a,f));a=this.buildItemView(a,b,e);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,f);this._isShown&&c.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(a){var b=c.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var d=i.call(arguments);d[0]=b+":"+d[0];d.splice(1,0,a);c.triggerMethod.apply(this,d)},this)},renderItemView:function(a,b){a.render();
this.appendHtml(this,a,b)},buildItemView:function(a,b,c){a=d.extend({model:a},c);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},checkEmpty:function(){(!this.collection||0===this.collection.length)&&this.showEmptyView()},appendBuffer:function(a,b){a.$el.append(b)},appendHtml:function(a,
b){a.isBuffering?a.elBuffer.appendChild(b.el):a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new k},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),c.View.prototype.close.apply(this,i.call(arguments)))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}});c.CompositeView=c.CollectionView.extend({constructor:function(){c.CollectionView.prototype.constructor.apply(this,
i.call(arguments))},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))})},getItemView:function(){var a=c.getOption(this,"itemView")||this.constructor;a||l("An `itemView` must be specified","NoItemViewError");return a},serializeData:function(){var a={};this.model&&(a=this.model.toJSON());
return a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();this.triggerBeforeRender();var a=this.renderModel();this.$el.html(a);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");this.triggerRendered();return this},_renderChildren:function(){this.isRendered&&(c.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a=
{},a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate();return c.Renderer.render(b,a)},appendBuffer:function(a,b){this.getItemViewContainer(a).append(b)},appendHtml:function(a,b){a.isBuffering?a.elBuffer.appendChild(b.el):this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var b;(b=c.getOption(a,"itemViewContainer"))?(b=d.isFunction(b)?b():b,b=a.$(b),0>=b.length&&l("The specified `itemViewContainer` was not found: "+
a.itemViewContainer,"ItemViewContainerMissingError")):b=a.$el;return a.$itemViewContainer=b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}});c.Layout=c.ItemView.extend({regionType:c.Region,constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);c.ItemView.prototype.constructor.call(this,a)},render:function(){this.isClosed&&this._initializeRegions();this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();
var a=Array.prototype.slice.apply(arguments);return c.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);c.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=d.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){delete this.regions[a];return this.regionManager.removeRegion(a)},
_buildRegions:function(a){var b=this,d={regionType:c.getOption(this,"regionType"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,d)},_initializeRegions:function(a){this._initRegionManager();a=d.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new c.RegionManager;this.listenTo(this.regionManager,
"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}});c.AppRouter=e.Router.extend({constructor:function(a){e.Router.prototype.constructor.apply(this,i.call(arguments));this.options=a||{};var b=c.getOption(this,"appRoutes"),d=this._getController();this.processAppRoutes(d,b)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},processAppRoutes:function(a,
b){if(b){var c=d.keys(b).reverse();d.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return c.getOption(this,"controller")},_addAppRoute:function(a,b,c){var e=a[c];if(!e)throw Error("Method '"+c+"' was not found on the controller");this.route(b,c,d.bind(e,a))}});c.Application=function(a){this._initRegionManager();this._initCallbacks=new c.Callbacks;this.vent=new g.EventAggregator;this.commands=new g.Commands;this.reqres=new g.RequestResponse;this.submodules={};d.extend(this,
a);this.triggerMethod=c.triggerMethod};d.extend(c.Application.prototype,e.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",
a)},addRegions:function(a){return this._regionManager.addRegions(a)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(a){this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},module:function(a,b){var d=i.call(arguments);d.unshift(this);return c.Module.create.apply(c.Module,d)},_initRegionManager:function(){this._regionManager=new c.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,
"region:remove",function(a){delete this[a]})}});c.Application.extend=c.extend;c.Module=function(a,b){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;this.triggerMethod=c.triggerMethod};d.extend(c.Module.prototype,e.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(d.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),
this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,c.triggerMethod.call(this,"before:stop"),d.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),c.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,
b){if(a){var f=d.flatten([this,this.app,e,c,c.$,d,b]);a.apply(this,f)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new c.Callbacks;this._finalizerCallbacks=new c.Callbacks}});d.extend(c.Module,{create:function(a,b,c){var e=a,g=i.call(arguments);g.splice(0,3);var b=b.split("."),h=[];h[b.length-1]=c;d.each(b,function(b,c){var d=e;e=this._getModule(d,b,a);this._addModuleDefinition(d,e,h[c],g)},this);return e},_getModule:function(a,b,d){var e=a[b];e||(e=new c.Module(b,d),a[b]=
e,a.submodules[b]=e);return e},_addModuleDefinition:function(a,b,c,e){var g;d.isFunction(c)?(g=c,c=!0):d.isObject(c)?(g=c.define,c=c.startWithParent):c=!0;g&&b.addDefinition(g,e);b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});c.Wreqr=g;c.ChildViewContainer=k});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone', location = 'jira-issue-navigator-components-module/libs/backbone.js' */
define("jira/components/libs/backbone",["require"],function(e){"use strict";var n=e("atlassian/libs/factories/backbone-1.0.0"),r=e("jira/components/libs/underscore"),i=e("jquery");return n(r,i)});
//# sourceMappingURL=backbone-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/marionette-1.4.1.js' */
define("jira/components/libs/marionette-1.4.1",["require"],function(e){"use strict";var i=e("atlassian/libs/factories/marionette-1.4.1"),n=e("jira/components/libs/backbone"),r=e("jira/components/libs/underscore");return i(r,n)});
//# sourceMappingURL=marionette-1.4.1-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Mixins.js' */
define("jira/components/libs/marionette-1.4.1/mixins",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore");return{listenAndRethrow:function(e,i){i=[].concat(i),t.each(i,function(i){this.listenTo(e,i,function(){this.trigger.apply(this,[i].concat(t.toArray(arguments)))},this)},this)},triggerPreventable:function(e,i){var n=t.defaults({},i||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0}});return this.trigger(e,n),n}}}),AJS.namespace("JIRA.Marionette.Mixins",null,require("jira/components/libs/marionette-1.4.1/mixins"));
//# sourceMappingURL=Mixins-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/LinkRegion.js' */
define("jira/components/libs/marionette-1.4.1/linkregion",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1");return n.Region.extend({open:function(e){this.$el.append(e.$el.children()),e.setElement(this.$el)}})}),AJS.namespace("JIRA.Marionette.LinkRegion",null,require("jira/components/libs/marionette-1.4.1/linkregion"));
//# sourceMappingURL=LinkRegion-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/ReplaceRegion.js' */
define("jira/components/libs/marionette-1.4.1/replaceregion",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1");return n.Region.extend({open:function(e){this.$el.replaceWith(e.el)}})}),AJS.namespace("JIRA.Marionette.ReplaceRegion",null,require("jira/components/libs/marionette-1.4.1/replaceregion"));
//# sourceMappingURL=ReplaceRegion-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Controller.js' */
define("jira/components/libs/marionette-1.4.1/controller",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore"),r=e("jira/components/libs/marionette-1.4.1"),o=e("jira/components/libs/marionette-1.4.1/mixins"),t=r.Controller.extend({});return n.extend(t.prototype,o),t}),AJS.namespace("JIRA.Marionette.Controller",null,require("jira/components/libs/marionette-1.4.1/controller"));
//# sourceMappingURL=Controller-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/ItemView.js' */
define("jira/components/libs/marionette-1.4.1/itemview",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1");return t.ItemView.extend({renderTemplate:function(){var e=this.serializeData();e=this.mixinTemplateHelpers(e);var i=this.getTemplate(),n=t.Renderer.render(i,e);return t.$(n)},applyToDom:function(){this.delegateEvents(),this.bindUIElements(),this.triggerMethod("applyToDom")},unwrapTemplate:function(){if(this.$el.parent().length){var e=this.$el.children();this.$el.replaceWith(e),this.setElement(e)}else this.setElement(this.$el.children())}})}),AJS.namespace("JIRA.Marionette.ItemView",null,require("jira/components/libs/marionette-1.4.1/itemview"));
//# sourceMappingURL=ItemView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/CollectionView.js' */
define("jira/components/libs/marionette-1.4.1/collectionview",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1"),t=e("jira/components/libs/marionette-1.4.1/itemview");return n.CollectionView.extend({_appendHtmlWithIndex:function(e,n,t){var i=e.children(),o=i.length;t<=0?e.prepend(n.$el):!o||t>=o?e.append(n.$el):n.$el.insertBefore(i.eq(t))},appendHtml:function(e,n,t){this._appendHtmlWithIndex(e.$el,n,t)},unwrapTemplate:function(){t.prototype.unwrapTemplate.call(this)}})}),AJS.namespace("JIRA.Marionette.CollectionView",null,require("jira/components/libs/marionette-1.4.1/collectionview"));
//# sourceMappingURL=CollectionView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/CompositeView.js' */
define("jira/components/libs/marionette-1.4.1/compositeview",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1"),i=e("jira/components/libs/marionette-1.4.1/collectionview"),n=e("jira/components/libs/marionette-1.4.1/itemview");return t.CompositeView.extend({appendHtml:function(e,t,n){i.prototype._appendHtmlWithIndex(this.getItemViewContainer(e),t,n)},unwrapTemplate:function(){n.prototype.unwrapTemplate.call(this)}})}),AJS.namespace("JIRA.Marionette.CompositeView",null,require("jira/components/libs/marionette-1.4.1/compositeview"));
//# sourceMappingURL=CompositeView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Layout.js' */
define("jira/components/libs/marionette-1.4.1/layout",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jira/components/libs/marionette-1.4.1"),n=e("jira/components/libs/marionette-1.4.1/mixins"),o=i.Layout.extend({applyToDom:function(){this.delegateEvents(),this.bindUIElements(),this._reInitializeRegions(),this.triggerMethod("applyToDom")}});return t.extend(o.prototype,n),o}),AJS.namespace("JIRA.Marionette.Layout",null,require("jira/components/libs/marionette-1.4.1/layout"));
//# sourceMappingURL=Layout-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Application.js' */
define("jira/components/libs/marionette-1.4.1/application",["require"],function(t){"use strict";var i=t("jira/components/libs/underscore"),n=t("jira/components/libs/marionette-1.4.1");return n.Application.extend({constructor:function(t){n.Application.call(this,t)},start:function(t){t&&t.forceStop===!1||this.stop(),n.Application.prototype.start.call(this,t)},stop:function(){i.invoke(this.submodules,"stop")}})}),AJS.namespace("JIRA.Marionette.Application",null,require("jira/components/libs/marionette-1.4.1/application"));
//# sourceMappingURL=Application-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/AppModule.js' */
define("jira/components/libs/marionette-1.4.1/appmodule",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore"),t=e("jira/components/libs/marionette-1.4.1"),i=e("jira/components/libs/marionette-1.4.1/mixins"),r=function(){this.definition=this.definition.bind(this)};return r.extend=t.extend,n.extend(r.prototype,{create:function(){throw new Error("create() must be implemented by AppModules")},generateMasterRequest:!1,name:"",commands:{},requests:{},events:[],definition:function(e,t){var i=this.name,r=this;if(!i)throw new Error("'name' must be defined by AppModules");e.addInitializer(function(){function e(e){n.isFunction(e)&&(e=e(s));var t={};return n.each(e,function(e,n){e===!0&&(e=s[n].bind(s)),n=n&&i?i+":"+n:i,t[n]=e}),t}function o(e,t){n.isFunction(t)&&(t=t(s)),n.each(t,function(t){var r=i+":"+t;e.listenTo(s,t,function(){this.trigger.apply(this,[r].concat(n.toArray(arguments)))})})}var s=r.create.apply(r,n.toArray(arguments)),a=e(r.commands),u=e(r.requests);r.generateMasterRequest&&n.extend(u,e({"":function(){return s}})),t.commands.setHandlers(a),t.reqres.setHandlers(u),o(t,r.events)})}}),n.extend(r.prototype,i),r}),AJS.namespace("JIRA.Marionette.AppModule",null,require("jira/components/libs/marionette-1.4.1/appmodule"));
//# sourceMappingURL=AppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/DialogView.js' */
define("jira/components/libs/marionette-1.4.1/dialogview",["require"],function(i){"use strict";var e=i("jira/components/libs/underscore"),t=i("jira/components/libs/marionette-1.4.1"),o=i("jira/components/libs/marionette-1.4.1/itemview"),s=i("aui/message"),r=i("jira/dialog/form-dialog"),a=i("jquery"),n=i("jira/ajs/ajax/smart-ajax"),d=i("jira/dialog/dialog"),l=i("jira/components/utils/ajshelper");return o.extend({dialog:null,template:a.noop,_generateDialog:function(){var i=this.serializeData(),o=this.getTemplate(),s={id:this.id,content:function(e){e(o(i))},submitHandler:this._generateSubmissionXHR.bind(this)},a=t.getOption(this,"dialogOptions");return e.isFunction(a)&&(a=a.apply(this)),new r(e.extend(s,a))},render:function(){return this.isClosed=!1,this.triggerMethod("before:render",this),this.dialog=this._generateDialog(),this.dialog.show(),this.$el=this.dialog.get$popup(),a(this.dialog).on("Dialog.hide",function(i,e,t){t!==d.HIDE_REASON.cancel&&t!==d.HIDE_REASON.escape||this.close()}.bind(this)),this.triggerMethod("render",this),this},close:function(){if(!this.isClosed){var i=this.triggerMethod("before:close");i!==!1&&(a(this.dialog).off("Dialog.hide"),this.dialog.hide(!0),this.dialog.destroy(),this.isClosed=!0,this.triggerMethod("close"),this.remove())}},_generateSubmissionXHR:function(i,o){i.preventDefault();var s=this.dialog.$form,r=t.getOption(this,"formToRequestData");e.isFunction(r)&&(r=r.call(this,s));var a=n.makeRequest({type:s.attr("method"),url:s.attr("action"),contentType:"application/json",dataType:"json",processData:!1,data:JSON.stringify(r)}).done(o).done(this._onSubmitSuccess.bind(this)).fail(this._onSubmitError.bind(this));return a},_onSubmitSuccess:function(i){this.triggerMethod("submit:success",i),this.close()},_onSubmitError:function(i){this.dialog.getButtonsContainer().find("input").removeAttr("disabled"),this.dialog.hideFooterLoadingIndicator(),this.dialog.$form.removeClass("submitting"),this._showErrorFromXHR(i),this.triggerMethod("submit:error")},_displayFieldErrors:function(i){var t=this.dialog.$popup;e.each(i,function(i,e){t.find("#"+e).after("<div class='error'>"+l.escapeHtml(i)+"</div>")})},_displayGenericErrors:function(i){var t=this.dialog.$popup.find(".aui-messages");e.each(i,function(i){var e={closeable:!0,timeout:5};e.body=l.escapeHtml(i),e.shadowed=!1,s.error(t,e)})},_displayXHRErrors:function(i){var e=this.dialog.$popup.find(".aui-messages");e.append(n.buildDialogErrorContent(i,!0))},_showErrorFromXHR:function(i){this._removeErrorMessages();var e;try{e=JSON.parse(i.responseText)}catch(t){e=null}e?(this._displayFieldErrors(e.errors),this._displayGenericErrors(e.errorMessages)):this._displayXHRErrors(i)},_removeErrorMessages:function(){this.dialog.$popup.find(".error").remove(),this.dialog.$popup.find(".aui-messages").empty()}})}),AJS.namespace("JIRA.Marionette.DialogView",null,require("jira/components/libs/marionette-1.4.1/dialogview"));
//# sourceMappingURL=DialogView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/InlineDialogView.js' */
define("jira/components/libs/marionette-1.4.1/inlinedialogview",["require"],function(i){"use strict";var e=i("jira/components/libs/underscore"),t=i("jira/components/libs/marionette-1.4.1"),n=i("jira/components/libs/marionette-1.4.1/itemview"),o=i("jquery"),s=i("aui/inline-dialog");return n.extend({dialog:null,template:o.noop,_getDialogOptions:function(){var i={noBind:!0},n=t.getOption(this,"dialogOptions")||{};return e.isFunction(n)&&(n=n.apply(this)),n=e.extend({},i,n),n.hideCallback=function(){this.close()}.bind(this),n},_getTrigger:function(){var i=t.getOption(this,"trigger");return e.isFunction(i)&&(i=i.apply(this)),i},_generateDialog:function(){var i=this.serializeData(),e=this.getTemplate(),t=this._getDialogOptions(),n=this._getTrigger();return new s(n,this.id,function(t,n,o){t.html(e(i)),o()},t)},render:function(){return this.isClosed=!1,this.triggerMethod("before:render",this),this.dialog=this._generateDialog(),this.$el=this.dialog,this.id=this.dialog.id,this.dialog.show(),this.triggerMethod("render",this),this},close:function(){if(!this.isClosed){var i=this.triggerMethod("before:close");i!==!1&&(this.dialog.hide(),this.isClosed=!0,this.triggerMethod("close"),this.remove())}}})}),AJS.namespace("JIRA.Marionette.InlineDialogView",null,require("jira/components/libs/marionette-1.4.1/inlinedialogview"));
//# sourceMappingURL=InlineDialogView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:lib', location = 'jira-issue-navigator-components-module/namespaces.js' */
JIRA.Components=JIRA.Components||{},JIRA.Issues=JIRA.Issues||{},JIRA.Events=JIRA.Events||{};
//# sourceMappingURL=namespaces-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:brace-2014.09.03-factory', location = 'factories/brace/2014.09.03/brace-2104.09.03-factory.js' */
(function(j){define("atlassian/libs/factories/brace-2014.09.03",function(){return function(n,g){var c={_:n,Backbone:g};j.call(c);c=c.Brace.noConflict();c.VERSION="2014.09.03";return c}})})(function(){var j=this,n=j.Brace,g,c=j._,i=j.Backbone,o=function(a){return c.isArray(a)?c.reduce(a,function(b,a){b[a]=null;return b},{}):a},m=function(a,b){if(!a||null==b||a===String&&c.isString(b)||a===Number&&c.isNumber(b)||a===Boolean&&c.isBoolean(b))return b;if("string"===typeof a||a instanceof String){if(typeof b!==
""+a)throw"The typeof "+b+" is "+typeof b+" but expected it to be "+a;return b}if(c.isArray(a)||a===Array){if(!c.has(b,"length")||b instanceof String||c.has({string:1,"function":1},typeof b)||b instanceof i.Collection)throw"Array type expected, but nonnull, non-Array value provided.";return a===Array||!a[0]?b:c.map(b,c.bind(m,null,a[0]))}if("function"!==typeof a)throw"Invalid expected type "+a+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return b instanceof a?
b:p(a)?new a(m([a.model],b)):new a(b)},p=function(a,b){return a&&(a.__super__ instanceof(b||i.Collection)||a.__super__===(b||i.Collection).prototype||a===(b||i.Collection))},x=function(a,b){var d={};c.each(a,function(a,c){if(!b[c]||q(a,b[c]))d[c]=a;else if(a&&!q(b[c],a))throw c+" has conflicted type descriptors.";});return d},q=function(a,b){return!b||b===a?!0:!a||"string"===typeof a?!1:a instanceof Array?b===Array||b instanceof Array&&q(a[0],b[0]):"function"!==typeof b?!1:p(b)?p(a,b):a.prototype instanceof
b};g=function(a){var b=a.extend(),d=a.extend;b.extend=function w(a,b){var h,g=c.extend({},a),i;a&&a.mixins&&(i=a.mixins,delete g.mixins);h=d.call(this,g,b);this.prototype.namedEvents&&f.Mixins.applyMixin(h,{namedEvents:this.prototype.namedEvents});this.prototype.namedAttributes&&f.Mixins.applyMixin(h,{namedAttributes:this.prototype.namedAttributes});i&&c.each(a.mixins,function(a){f.Mixins.applyMixin(h,a)});h.prototype.namedEvents&&f.Mixins.applyMixin(h,f.EventsMixinCreator.create(h.prototype.namedEvents));
h.prototype.namedAttributes&&(h.prototype.namedAttributes=o(h.prototype.namedAttributes),f.Mixins.applyMixin(h,f.AttributesMixinCreator.create(h.prototype.namedAttributes,h.prototype.idAttribute)));if(h.prototype.toJSON){var j=h.prototype.toJSON;h.prototype.toJSON=function(){var a;a=j.call(this);a=c.isObject(a)?c.reduce(a,function(a,b,d){b&&c.isFunction(b.toJSON)?a[d]=b.toJSON():c.isArray(b)&&(a[d]=c.map(b,function(a){return a&&c.isFunction(a.toJSON)?a.toJSON():a}));return a},a):a;return a}}h.extend=
w;return h};return b};var f={Mixins:{createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},applyMixin:function(a,b){c.forEach(c.keys(b),function(d){var e=a.prototype;if("initialize"===d){var f=e.initialize;e.initialize=function(){f&&f.apply(this,arguments);b.initialize.apply(this,arguments)}}else if("validate"===d){var g=e.validate;e.validate=function(){if(g){var a=g.apply(this,arguments);if(a)return a}return b.validate.apply(this,arguments)}}else if("defaults"===d){var e=
e.defaults||(e.defaults={}),d=b[d],k;for(k in d){if(e.hasOwnProperty(k))throw"Mixin error: class already has default '"+k+"' defined";e[k]=d[k]}}else if("namedAttributes"===d)k=o(e.namedAttributes)||{},d=o(b[d]),e.namedAttributes=c.extend(k,x(d,k));else if("namedEvents"===d){if(!c.isArray(b[d]))throw"Expects events member on mixin to be an array";e.namedEvents||(e.namedEvents=[]);e.namedEvents=c.uniq(e.namedEvents.concat(b[d]))}else{if(e.hasOwnProperty(d))throw"Mixin error: class already has property '"+
d+"' defined";e[d]=b[d]}},this)}}};f.AttributesMixinCreator={create:function(a,b){var d={};a||(a={});c.has(a,"id")||(a.id=null);c.each(a,function(a,b){var c=f.Mixins.createMethodName("set",b);d[c]=function(a,c){return this.set(b,a,c)};c=f.Mixins.createMethodName("get",b);d[c]=function(){return this.get(b)}});if("string"===typeof b&&"undefined"!==typeof a[b]&&"id"!==b){a.id=a[b];var e=f.Mixins.createMethodName("get",b),g=f.Mixins.createMethodName("set",b);d.getId=function(){return this[e]()};d.setId=
function(a,b){return this[g](a,b)}}return d},ensureType:m};f.EventsMixinCreator={create:function(a){var b={};c.each(a,c.bind(function(a){var e=f.Mixins.createMethodName("on",a);b[e]=function(){return this.on.apply(this,[a].concat(c.toArray(arguments)))};e=f.Mixins.createMethodName("trigger",a);b[e]=function(){return this.trigger.apply(this,[a].concat(c.toArray(arguments)))}},this));return b}};var l=f,r=i.Model,s=g(r),t=r.prototype,u=s.prototype,v=t.set;u.set=function(a,b,d){var e,f=this.namedAttributes;
if(!f||null==a)return v.apply(this,arguments);c.isObject(a)?(e=c.clone(a),d=b):(e={},e[a]=b);for(var g in e)if(c.has(e,g)){if(!c.has(f,g))throw"Attribute '"+g+"' does not exist";e[g]=m(f[g],e[g])}return v.call(this,e,d)};var y=t.get;u.get=function(a){if(this.namedAttributes&&!c.has(this.namedAttributes,a))throw"Attribute '"+a+"' does not exist";return y.apply(this,arguments)};var z=r.prototype.parse;s.prototype.parse=function(a,b){return c.pick(z(a,b),c.keys(this.namedAttributes))};l.Model=s;f.Collection=
g(i.Collection);f.View=g(i.View);f.Router=g(i.Router);l=function(){this.initialize.apply(this,arguments)};c.extend(l.prototype,i.Events,{initialize:function(){}});l.extend=i.Model.extend;f.Evented=g(l);g=f;g.noConflict=function(){j.Brace=n;return this};j.Brace=g});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:brace', location = 'jira-issue-navigator-components-module/libs/brace.js' */
define("jira/components/libs/brace",["require"],function(e){"use strict";var r=e("atlassian/libs/factories/brace-2014.09.03"),s=e("jira/components/libs/backbone"),n=e("jira/components/libs/underscore");return r(n,s)}),AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));
//# sourceMappingURL=brace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'jira-issue-navigator-components-module/lib/jquery.hoverIntent.min.js' */
// jshint ignore: start
/*eslint-disable*/
/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function ($) {
  $.fn.hoverIntent = function (f, g) {
    var cfg = { sensitivity: 7, interval: 100, timeout: 0 };cfg = $.extend(cfg, g ? { over: f, out: g } : f);var cX, cY, pX, pY;var track = function track(ev) {
      cX = ev.pageX;cY = ev.pageY;
    };var compare = function compare(ev, ob) {
      ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);if (Math.abs(pX - cX) + Math.abs(pY - cY) < cfg.sensitivity) {
        $(ob).unbind("mousemove", track);ob.hoverIntent_s = 1;return cfg.over.apply(ob, [ev]);
      } else {
        pX = cX;pY = cY;ob.hoverIntent_t = setTimeout(function () {
          compare(ev, ob);
        }, cfg.interval);
      }
    };var delay = function delay(ev, ob) {
      ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s = 0;return cfg.out.apply(ob, [ev]);
    };var handleHover = function handleHover(e) {
      var ev = jQuery.extend({}, e);var ob = this;if (ob.hoverIntent_t) {
        ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
      }if (e.type == "mouseenter") {
        pX = ev.pageX;pY = ev.pageY;$(ob).bind("mousemove", track);if (ob.hoverIntent_s != 1) {
          ob.hoverIntent_t = setTimeout(function () {
            compare(ev, ob);
          }, cfg.interval);
        }
      } else {
        $(ob).unbind("mousemove", track);if (ob.hoverIntent_s == 1) {
          ob.hoverIntent_t = setTimeout(function () {
            delay(ev, ob);
          }, cfg.timeout);
        }
      }
    };return this.bind('mouseenter', handleHover).bind('mouseleave', handleHover);
  };
})(jQuery);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'jira-issue-navigator-components-module/util/TipsyView.js' */
define("jira/issues/tipsy",["require"],function(t){"use strict";var i=t("jira/components/libs/underscore"),n=t("jira/components/libs/brace"),s=t("jquery");s.fn.tooltip||(s.fn.tooltip=s.noop,s.fn.tipsy=s.noop);var o=n.View.extend({events:{click:"hide"},initialize:function(t){i.isFunction(t.showCondition)?this.shouldShow=t.showCondition:t.showCondition?this.shouldShow=function(){return this.$el.filter(t.showCondition).length>0}.bind(this):this.shouldShow=function(){return!0},this.tipsy=this.$el.tooltip(i.extend({trigger:"manual"},t.tipsy)),this.hoverIntent(t.intents)},hoverIntent:function(t){return this.tipsy&&this.tipsy.hoverIntent(i.extend({interval:200,over:this.show.bind(this),out:this.hide.bind(this)},t)),this},show:function(){this.shouldShow()&&this.tipsy&&this.$el.tipsy("show")},hide:function(){this.tipsy&&this.$el.tipsy("hide")},remove:function(){this.hide(),this.$el.removeData("tipsy")}});return o.revalidate=function(){return s.fn.tipsy.revalidate()},o.autoBounds=function(){return s.fn.tipsy.autoBounds.apply(s.fn.tipsy,arguments)},o});
//# sourceMappingURL=TipsyView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'jira-issue-navigator-components-module/util/namespace.js' */
AJS.namespace("JIRA.Issues.Tipsy",null,require("jira/issues/tipsy"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/CatchExceptions.js' */
!function(n){"use strict";var t=function(n){return function(){try{n.apply(this,arguments)}catch(t){}return this}};n.fn.htmlCatchExceptions=t(n.fn.html),n.fn.appendCatchExceptions=t(n.fn.append),n.fn.prependCatchExceptions=t(n.fn.prepend),n.catchExceptions=function(t){return n("<div>").htmlCatchExceptions(t).children()}}(AJS.$);
//# sourceMappingURL=CatchExceptions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/RecurringPromise.js' */
!function(){"use strict";jQuery.RecurringPromise=function(i){return this instanceof jQuery.RecurringPromise?(this._parent=i,this._doneCallbacks=new jQuery.Callbacks,this._failCallbacks=new jQuery.Callbacks,void(this._alwaysCallbacks=new jQuery.Callbacks)):new jQuery.RecurringPromise},jQuery.RecurringPromise.prototype={add:function(i){var n=new jQuery.Deferred;n.original=i;var t=this._getPending();return this._abortIfPending(t),this._setPending(n),i.done(function(){n===this._getPending()&&(n.resolveWith(this,arguments),this._doneCallbacks.fireWith(this,arguments))}.bind(this)),i.fail(function(){n===this._getPending()&&(n.rejectWith(this,arguments),this._failCallbacks.fireWith(this,arguments))}.bind(this)),i.always(function(){n===this._getPending()&&this._alwaysCallbacks.fireWith(this,arguments)}.bind(this)),n.promise()},done:function(i){return this._doneCallbacks.add(i),this},fail:function(i){return this._failCallbacks.add(i),this},always:function(i){return this._alwaysCallbacks.add(i),this},reset:function(){this._abortIfPending(this._getPending()),this._setPending(null)},sub:function(){return new jQuery.RecurringPromise(this)},_getPending:function(){return this._parent?this._parent._getPending():this._pending},_setPending:function(i){this._parent?this._parent._setPending(i):this._pending=i},_abortIfPending:function(i){i&&"pending"===i.state()&&(i.reject("abort"),jQuery.isFunction(i.original.abort)&&i.original.abort())}}}();
//# sourceMappingURL=RecurringPromise-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/ConcurrentDeferred.js' */
jQuery.ConcurrentDeferred=function(n){"use strict";var e,r=new jQuery.Deferred,t=function(n){e=n,n.done(function(){e===n&&r.resolve.apply(r,arguments)}).fail(function(){e===n&&r.reject.apply(r,arguments)})};return t(n),jQuery.extend(r,{update:function(n){if(!this.isPending())throw"Cannot update non-pending ConcurrentDeferred";var r=e;return t(n),jQuery.isFunction(r.abort)&&r.abort(),this},isPending:function(){return"pending"===this.state()}}),r};
//# sourceMappingURL=ConcurrentDeferred-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/ScrollLock.js' */
!function(e){"use strict";var l=30;e.fn.scrollLock=function(i,n){"string"!=typeof i&&(n=i,i=null),n||(n=l),this.on("DOMMouseScroll mousewheel",i,function(l){l.preventDefault();var i;l.originalEvent.wheelDelta&&(i=l.originalEvent.wheelDelta/120),l.originalEvent.detail&&(i=-l.originalEvent.detail/3),e.isNumeric(i)&&(this.scrollTop-=i*n)})}}(AJS.$);
//# sourceMappingURL=ScrollLock-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:uri', location = 'jira-issue-navigator-components-module/libs/uri.js' */
define("jira/components/libs/uri",["require"],function(i){"use strict";return i("atlassian/libs/uri-1.14.1")});
//# sourceMappingURL=uri-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:scrollintoview', location = 'jira-issue-navigator-components-module/lib/scrollintoview-1.8.js' */
!function(t){var e={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},o={duration:0,direction:"y"},r=/^(?:html)$/i,l=function(e,o){o=o||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var r=!(!document.defaultView||!document.defaultView.getComputedStyle),l={top:parseFloat(r?o.borderTopWidth:t.css(e,"borderTopWidth"))||0,left:parseFloat(r?o.borderLeftWidth:t.css(e,"borderLeftWidth"))||0,bottom:parseFloat(r?o.borderBottomWidth:t.css(e,"borderBottomWidth"))||0,right:parseFloat(r?o.borderRightWidth:t.css(e,"borderRightWidth"))||0};return{top:l.top,left:l.left,bottom:l.bottom,right:l.right,vertical:l.top+l.bottom,horizontal:l.left+l.right}},i=function(e){var o=t(window),i=r.test(e[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:l(e[0]),scroll:{top:(i?o:e).scrollTop(),left:(i?o:e).scrollLeft()},scrollbar:{right:i?0:e.innerWidth()-e[0].clientWidth,bottom:i?0:e.innerHeight()-e[0].clientHeight},rect:function(){var t=e[0].getBoundingClientRect();return{top:i?0:t.top,left:i?0:t.left,bottom:i?e[0].clientHeight:t.bottom,right:i?e[0].clientWidth:t.right}}()}};t.fn.extend({scrollIntoViewForAuto:function(l){l=t.extend({},o,l),l.direction=e["string"==typeof l.direction&&l.direction.toLowerCase()]||e.both;var c="";l.direction.x===!0&&(c="horizontal"),l.direction.y===!0&&(c=c?"both":"vertical");var n=this.eq(0),s=n.closest(":scrollable("+c+")");if(s.length>0){s=s.eq(0);var d={e:i(n),s:i(s)},h={top:d.e.rect.top-(d.s.rect.top+d.s.border.top),bottom:d.s.rect.bottom-d.s.border.bottom-d.s.scrollbar.bottom-d.e.rect.bottom,left:d.e.rect.left-(d.s.rect.left+d.s.border.left),right:d.s.rect.right-d.s.border.right-d.s.scrollbar.right-d.e.rect.right},a={};l.direction.y===!0&&(h.top<0?a.scrollTop=d.s.scroll.top+h.top-30:h.top>0&&h.bottom<0&&(a.scrollTop=d.s.scroll.top+Math.min(h.top,-h.bottom)+30)),l.direction.x===!0&&(h.left<0?a.scrollLeft=d.s.scroll.left+h.left:h.left>0&&h.right<0&&(a.scrollLeft=d.s.scroll.left+Math.min(h.left,-h.right))),t.isEmptyObject(a)?t.isFunction(l.complete)&&l.complete.call(s[0]):(r.test(s[0].nodeName)&&(s=t("html,body")),s.animate(a,l.duration).eq(0).queue(function(e){t.isFunction(l.complete)&&l.complete.call(s[0]),e()}))}return this}});var c={auto:!0,scroll:!0,visible:!1,hidden:!1};t.extend(t.expr[":"],{scrollable:function(t,o,l,i){var n=e["string"==typeof l[3]&&l[3].toLowerCase()]||e.both,s=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle,d={x:c[s.overflowX.toLowerCase()]||!1,y:c[s.overflowY.toLowerCase()]||!1,isRoot:r.test(t.nodeName)};if(!d.x&&!d.y&&!d.isRoot)return!1;var h={height:{scroll:t.scrollHeight,client:t.clientHeight},width:{scroll:t.scrollWidth,client:t.clientWidth},scrollableX:function(){return(d.x||d.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(d.y||d.isRoot)&&this.height.scroll>this.height.client}};return n.y&&h.scrollableY()||n.x&&h.scrollableX()}})}(jQuery);
//# sourceMappingURL=scrollintoview-1.8-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:browser', location = 'jira-issue-navigator-components-module/util/Browser.js' */
define("jira/components/util/browser",function(){"use strict";return{locationReload:function(o){window.location.reload(o)}}});
//# sourceMappingURL=Browser-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/PanelModel.js' */
define("jira/components/issueviewer/entities/panel",["require"],function(t){"use strict";var e=t("jira/components/libs/brace"),i=t("jira/util/events"),n=t("jira/components/issueviewer/eventtypes");return e.Model.extend({namedAttributes:["entity","updateLocked"],initialize:function(){i.bind(n.LOCK_PANEL_REFRESHING,function(t,e){e===this.getEntity().id&&this.set("updateLocked",!0)}.bind(this)),i.bind(n.UNLOCK_PANEL_REFRESHING,function(t,e){e===this.getEntity().id&&this.set("updateLocked",!1)}.bind(this))},update:function(t,e,i){this.getUpdateLocked()||(this.set("entity",t),this.trigger("updated",e,i))}})});
//# sourceMappingURL=PanelModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/PanelsCollection.js' */
define("jira/components/issueviewer/entities/panels",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),n=e("jira/components/libs/brace"),t=e("jira/components/issueviewer/entities/panel");return n.Collection.extend({model:t,update:function(e,n){this.each(function(n){var t=n.id,s=i.any(e,function(e){return e.id===t});s||this.remove(n)},this),i.each(e,function(e,i){var t=this.get(e.id);t?t.update(e,n.fieldsInProgress,n.fieldsSaved):this.add({id:e.id,entity:e},{at:i})},this)}})});
//# sourceMappingURL=PanelsCollection-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/PanelsGroupModel.js' */
define("jira/components/issueviewer/entities/panelsgroup",["require"],function(e){"use strict";var n=e("jira/components/libs/brace"),t=e("jira/components/issueviewer/entities/panels");return n.Model.extend({namedAttributes:["leftPanels","rightPanels","infoPanels"],defaults:function(){return{leftPanels:new t([]),rightPanels:new t([]),infoPanels:new t([])}},update:function(e,n){this.get("leftPanels").update(e.leftPanels,n),this.get("rightPanels").update(e.rightPanels,n),this.get("infoPanels").update(e.infoPanels,n)}})});
//# sourceMappingURL=PanelsGroupModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/IssueModel.js' */
define("jira/components/issueviewer/entities/issue",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),s=e("jira/components/issueviewer/entities/panelsgroup");return t.Model.extend({namedEvents:["updated"],namedAttributes:["entity","id","key","panels","projectKey","projectType","projectId"],defaults:function(){return{entity:{},panels:new s}},update:function(e,t){var s=!1;e.issue&&(this.updateFromEntity(e.issue),s=!0),e.panels&&(this.getPanels().update(e.panels,t),s=!0),s&&this.trigger("updated",t)},resetToDefault:function(){this.clear(),this.set(this.defaults())},updateFromEntity:function(e){this.set({id:e.id,key:e.key,entity:e,projectKey:e.project?e.project.key:null,projectType:e.project?e.project.projectType:null,projectId:e.project?e.project.id:null})},isCurrentIssue:function(e){return this.get("id")===e},hasIssue:function(){return this.has("id")},updateIssueQuery:function(e){this.hasIssue()&&(this.getEntity().viewIssueQuery=e)},getIssueInfo:function(){return{issueId:this.getId(),issueKey:this.getKey(),projectId:this.getProjectId(),projectKey:this.getProjectKey(),projectType:this.getProjectType()}}})});
//# sourceMappingURL=IssueModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssuePanelView.js' */
define("jira/components/issueviewer/views/issuepanel",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),t=e("jira/components/issueviewer/legacy/issuefieldutil"),n=e("jquery"),r=e("jira/components/libs/marionette-1.4.1/itemview"),l=e("jira/components/issueviewer/templates");return r.extend({template:l.Body.issuePanel,modelEvents:{updated:"update"},update:function(e,r){function l(){return i.any(e,function(e){return 1===o.find(t.getFieldSelector(e)).length})}function s(){var e=o.find(document.activeElement).length>0,i=!!n.browser.msie&&n.browser.version<=8;if(i){var t=o[0].nextSibling,r=o[0].parentNode;o.remove(),t?n(t).before(d):n(r).append(d)}else o.replaceWith(d);e&&u.trigger("replacedFocusedPanel"),u.setElement(d)}function a(e){var t=u.model.id,n=u.$el;u.trigger("panelRendered",t,n,o),i.each(e,function(e){u.trigger("individualPanelRendered",e)})}var d=this.renderTemplate(),o=this.$el,u=this;if(0!==o.find("iframe").length||d.text()!==o.text()){if(l()){var c=[];i.each(r,function(e){var i=o.find(t.getFieldSelector(e));if(1===i.length){var n=d.find(t.getFieldSelector(e));1===n.length?(i.replaceWith(n),c.push(n)):i.closest("li, dl").remove()}}),a(c)}else s(),a([u.$el]);this.bindUIElements()}},onRender:function(){this.setElement(this.$el.children());var e=this.model.getEntity().styleClass;e&&this.$el.addClass(e),this.trigger("individualPanelRendered",this.$el)},applyToDom:function(){this.trigger("individualPanelRendered",this.$el)},serializeData:function(){return this.model.getEntity()}})});
//# sourceMappingURL=IssuePanelView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssuePanelsView.js' */
define("jira/components/issueviewer/views/issuepanels",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/collectionview"),t=e("jira/components/issueviewer/views/issuepanel"),n=e("jira/components/issueviewer/entities/panel");return i.extend({itemView:t,_updatingFromDom:!1,appendHtml:function(e,i,t){var n=e.$el.children(),o=n.length;t<=0?e.$el.prepend(i.$el):!o||t>=o?e.$el.append(i.$el):i.$el.insertBefore(n.eq(t))},applyToDom:function(){var e=this;this._updatingFromDom=!0,this.$el.children().filter(".module").each(function(){var i=this.id;"addcomment"===i&&(i="addcommentmodule"),e.collection.add(new n({id:i,entity:{id:i}}))}),this._updatingFromDom=!1},renderItemView:function(e){this._updatingFromDom?e.applyToDom():i.prototype.renderItemView.apply(this,arguments)},buildItemView:function(e){var t=i.prototype.buildItemView.apply(this,arguments);return this._updatingFromDom&&t.setElement(document.getElementById(e.id)),t}})});
//# sourceMappingURL=IssuePanelsView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueBodyView.js' */
define("jira/components/issueviewer/views/issuebody",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/layout"),i=e("jira/components/libs/marionette-1.4.1/linkregion"),n=e("jira/components/issueviewer/templates");return s.extend({tagName:"div",className:"issue-body-content",regions:{leftPanels:{selector:".issue-main-column",regionType:i},rightPanels:{selector:".issue-side-column",regionType:i},infoPanels:{selector:".issue-body",regionType:i}},template:n.Body.issueBody})});
//# sourceMappingURL=IssueBodyView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueOpsbarView.js' */
define("jira/components/issueviewer/views/issueopsbar",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/itemview"),t=e("jira/components/issueviewer/templates"),n=e("jira/issues/tipsy"),s=e("jira/components/issueviewer/analytics/issueopsbar");return i.extend({template:t.IssueOpsbar.simpleOpsbar,ui:{shareButton:".viewissue-share",exportButton:"#viewissue-export",loginButton:"#ops-login-lnk",commentButton:"#comment-issue"},serializeData:function(){return{issue:this.model.getEntity()}},onApplyToDom:function(){this.onRender()},onRender:function(){new s(this),this.ui.loginButton.hide(),this.ui.commentButton.addClass("inline-comment"),new n({el:this.ui.shareButton,showCondition:":not(.active)"}),new n({el:this.ui.exportButton,showCondition:":not(.active)",tipsy:{gravity:"ne"}})}})});
//# sourceMappingURL=IssueOpsbarView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueHeaderView.js' */
define("jira/components/issueviewer/views/issueheader",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/layout"),s=e("jira/components/issueviewer/templates"),t=e("jira/components/libs/underscore"),r=e("jira/components/issueviewer/views/issueopsbar"),n=e("jira/util/data/meta"),a=e("jquery");return i.extend({className:"issue-header js-stalker",id:"stalker",tagName:"header",template:s.Header.issueHeader,modelEvents:{updated:"update"},regions:{opsbar:".command-bar",pager:"#issue-header-pager"},serializeData:function(){return{issue:this.model.getEntity(),isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}},update:function(e){if(e.initialize)this._updateWindowTitle();else{var i=t.include(e.fieldsInProgress,"summary");i?this.renderOpsBar():this.render()}this.trigger("updated")},onApplyToDom:function(){var e=new r({model:this.model});e.setElement(this.opsbar.el),this.opsbar.attachView(e),this.opsbar.currentView.applyToDom(),this._updateWindowTitle()},onBeforeRender:function(){this.previousElement=this.$el},onRender:function(){this.renderOpsBar(),this._updateWindowTitle(),this.trigger("panelRendered","header",this.$el,this.previousElement||a(""))},renderOpsBar:function(){this.opsbar.show(new r({model:this.model})),this.trigger("individualPanelRendered",this.$el)},_updateWindowTitle:function(){var e=this.model.getEntity(),i=e.key,s=e.summary,t=n.get("app-title");t&&s&&i&&(document.title="["+i+"] "+s+" - "+t)},focus:function(){this.$el.find("a").eq(0).focus()},initialFocus:function(){this.$el.focus()}})});
//# sourceMappingURL=IssueHeaderView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueView.js' */
define("jira/components/issueviewer/views/issue",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1/layout"),i=e("jira/components/issueviewer/templates"),s=e("jira/components/libs/marionette-1.4.1/replaceregion"),n=e("jira/components/issueviewer/actions"),o=e("jquery");return t.extend({template:i.layout,className:"issue-container",regions:{header:{selector:".issue-header-container",regionType:s},body:{selector:".issue-body-container",regionType:s}},modelEvents:{updated:"update"},showLoading:function(){this.$el.addClass("loading")},hideLoading:function(){this.$el.removeClass("loading")},focusComment:function(e){this.$("#activitymodule .focused").removeClass("focused"),this.$("#comment-"+e).addClass("focused"),this.$(".js-stalker").trigger("refresh")},serializeData:function(){return{isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}},update:function(e){this._closeDropdowns(),e.initialize&&!e.stopRendering&&this.render(),e.reason&&e.reason.action===n.EDIT_COMMENT&&this.focusComment(e.reason.meta.commentId),this._bringViewIssueElementIntoView()},remove:function(){return this.stopListening(),this.$el.empty(),this},onRender:function(){this.$el.addClass(this.className),this.$el.attr("tabindex","-1"),this._bringViewIssueElementIntoView()},onApplyToDom:function(){this._bringViewIssueElementIntoView(),this.trigger("render")},_bringViewIssueElementIntoView:function(){var e=this.model.get("entity").viewIssueQuery;if(e){var t;e.focusedCommentId?t="#comment-"+e.focusedCommentId:(e.attachmentSortBy||e.attachmentOrder||e.attachmentViewMode)&&(t="#attachmentmodule"),t&&o(t).scrollIntoView({marginBottom:200,marginTop:200})}},_closeDropdowns:function(){this.$el.find(".aui-dropdown2-trigger.active").trigger("aui-button-invoke")}})});
//# sourceMappingURL=IssueView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/error/ErrorView.js' */
define("jira/components/issueviewer/views/error",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/layout");return s.extend({className:"issue-container",regions:{pager:"#issue-header-pager"},remove:function(){return this.stopListening(),this.$el.empty(),this},onRender:function(){this.$el.addClass(this.className),this.$el.attr("tabindex","-1")}})});
//# sourceMappingURL=ErrorView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/error/ErrorGenericView.js' */
define("jira/components/issueviewer/views/errorgeneric",["require"],function(e){"use strict";var r=e("jira/components/issueviewer/views/error"),i=e("jira/components/issueviewer/templates"),n=e("jira/components/util/browser");return r.extend({template:i.Error.Generic,events:{"click #issue-error-reload-button":function(){n.locationReload()}}})});
//# sourceMappingURL=ErrorGenericView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/error/ErrorNotFoundView.js' */
define("jira/components/issueviewer/views/errornotfound",["require"],function(r){"use strict";var e=r("jira/components/issueviewer/views/error"),i=r("jira/components/issueviewer/templates"),n=r("jira/components/libs/underscore");return e.extend({template:i.Error.DoesNotExist,initialize:function(r){r=r||{},this.showReturnToSearchOnError=r.showReturnToSearchOnError},triggers:{"click #return-to-search":"returnToSearch"},serializeData:function(){var r=this.showReturnToSearchOnError;return n.isFunction(r)&&(r=r()),{hideReturnToSearch:!r}}})});
//# sourceMappingURL=ErrorNotFoundView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/controllers/IssueController.js' */
define("jira/components/issueviewer/controllers/issue",["require"],function(e){"use strict";var i=e("jira/issue"),s=e("jira/components/issueviewer/views/issuebody"),t=e("jira/components/issueviewer/views/issueheader"),n=e("jira/components/issueviewer/views/issuepanels"),o=e("jira/components/issueviewer/views/issue"),r=e("jira/components/libs/marionette-1.4.1/controller"),d=e("jira/components/libs/underscore"),a=e("jquery"),h=e("jira/components/issueviewer/services/breadcrumbs-project-hider"),l=i.CommentForm;return r.extend({initialize:function(e){this.model=e.model,this.shouldRenderIssueHeader="undefined"==typeof e.shouldRenderIssueHeader||e.shouldRenderIssueHeader},_createViews:function(){this.view=this._createMainView(),this.bodyView=this._createBodyView(),this.headerView=this._createHeaderView(),this.leftPanelsView=this._createPanelsView(this.model.getPanels().getLeftPanels()),this.rightPanelsView=this._createPanelsView(this.model.getPanels().getRightPanels()),this.infoPanelsView=this._createPanelsView(this.model.getPanels().getInfoPanels())},_createMainView:function(){var e=new o({model:this.model,el:this.$el});return this.listenTo(e,{render:function(){this.trigger("renderMainView",e.$el)}}),e},_createBodyView:function(){return new s({model:this.model})},_createHeaderView:function(){var e=new t({model:this.model});return this.listenAndRethrow(e,"panelRendered"),this.listenTo(e,{updated:function(){this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},this.model.getIssueInfo()),this._replaceBreadcrumbsView()},individualPanelRendered:function(e){this.trigger("individualPanelRendered",e)}}),this._replaceBreadcrumbsView(),e},_replaceBreadcrumbsView:function(){var e=function(e,i){h.bindToSidebarEvents(e,a(".issue-header-content"),i)};JIRA.API.getSidebar().done(function(i){e(i,!1)}),JIRA.API.getNavigationApi().then(function(i){e(i,!0)})},_createPanelsView:function(e){var i=new n({collection:e});return this.listenTo(i,{"itemview:replacedFocusedPanel":function(){this.trigger("replacedFocusedPanel")},"itemview:panelRendered":function(e,i,s,t){this.trigger("panelRendered",i,s,t)},"itemview:individualPanelRendered":function(e,i){this.trigger("individualPanelRendered",i)}}),i},createView:function(){this._createViews(),this.listenTo(this.view,"render",function(){var e=JIRA.Issues.Api.isNewIssueViewEnabled();this.shouldRenderIssueHeader&&(this.view.header.show(this.headerView),this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1}))),e?AJS.$("body").trigger("new-issue-body-container-for-gin-rendered"):(this.view.body.show(this.bodyView),this.bodyView.leftPanels.show(this.leftPanelsView),this.bodyView.rightPanels.show(this.rightPanelsView),this.bodyView.infoPanels.show(this.infoPanelsView))})},createViewFromDom:function(){this._createViews(),this.listenTo(this.view,"applyToDom",function(){function e(e,i,s){i.setElement(s),i.applyToDom(),e.attachView(i)}e(this.view.body,this.bodyView,this.view.$el.find(".issue-body-content")),e(this.view.body,this.headerView,this.view.$el.find("#stalker")),e(this.bodyView.leftPanels,this.leftPanelsView,this.bodyView.$el.find(this.bodyView.leftPanels.el)),e(this.bodyView.rightPanels,this.rightPanelsView,this.bodyView.$el.find(this.bodyView.rightPanels.el)),e(this.bodyView.infoPanels,this.infoPanelsView,this.bodyView.$el.find(this.bodyView.infoPanels.el)),this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!0}))})},setElement:function(e){this.$el=e,this.view&&this.view.setElement(e)},applyToDom:function(e){e.id=+e.id,this.model.updateFromEntity(e),this.createViewFromDom(),this.view.applyToDom()},show:function(){this.view?this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1})):(this.createView(),this.view.render()),this.view.hideLoading()},close:function(){this.view&&this.view.close(),this.hideLoading(),delete this.view},hideLoading:function(){this.view&&this.view.hideLoading()},showLoading:function(){this.view&&this.view.showLoading()},canDismissComment:function(){var e,i=l;if(!i.getForm().data("dismissed")&&(e=i.handleBrowseAway())){if(!confirm(e))return i.focus(),!1;i.getForm().data("dismissed",!0)}return!0},applyResponsiveDesign:function(){if(this.$el){var e=this.$el.width();this.$el.toggleClass("skinny",e<900),this.$el.toggleClass("very-skinny",e<600)}},focus:function(){this.view&&this.headerView.focus()},initialFocus:function(){this.view&&this.headerView.initialFocus()}})});
//# sourceMappingURL=IssueController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/controllers/ErrorController.js' */
define("jira/components/issueviewer/controllers/error",["require"],function(e){"use strict";var r=e("jira/components/issueviewer/views/errorgeneric"),i=e("jira/components/issueviewer/views/errornotfound"),t=e("jira/components/libs/marionette-1.4.1/controller"),o=e("jira/components/issueviewer/utils");return t.extend({initialize:function(e){this.contextPath=e.contextPath,this.showReturnToSearchOnError=e.showReturnToSearchOnError},render:function(e,t){switch(e){case"auth":this._renderErrorAuth(t);break;case"forbidden":case"notfound":this._renderErrorView(new i({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;case"generic":default:this._renderErrorView(new r)}},applyToDom:function(e,t){switch(e){case"auth":this._renderErrorAuth(t);break;case"forbidden":case"notfound":this._renderErrorViewFromDom(new i({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;case"generic":default:this._renderErrorViewFromDom(new r)}},close:function(){this.view&&(this.view.close(),delete this.view)},setElement:function(e){this._$el=e,this.view&&this.view.setElement(e)},_renderErrorAuth:function(e){var r=this.contextPath+"/login.jsp?os_destination="+encodeURIComponent("/browse/"+e);window.location.replace(r)},_renderErrorView:function(e){this.trigger("before:render"),o.hideDropdown(),this.view=e,this.view.setElement(this._$el),this.view.render(),this.listenAndRethrow(this.view,"returnToSearch"),this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!1,issueId:null})},_renderErrorViewFromDom:function(e){this.trigger("before:render"),o.hideDropdown(),this.view=e,this.view.setElement(this._$el),this.view.applyToDom(),this.listenAndRethrow(this.view,"returnToSearch"),this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!0,issueId:null})},isRendered:function(){return Boolean(this.view)}})});
//# sourceMappingURL=ErrorController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/IssueLoaderService.js' */
define("jira/components/issueviewer/services/issueloader",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/controller"),t=e("jquery"),n=e("jira/components/issueviewer/legacy/issuefieldutil");return i.extend({initialize:function(){this._promiseManager=new t.RecurringPromise,this._updatingPromise=this._promiseManager.sub(),this._updatingPromise.done(this._onUpdatingDone.bind(this)).fail(this._onUpdatingError.bind(this)),this._loadingPromise=this._promiseManager.sub(),this._loadingPromise.done(this._onLoadingDone.bind(this)).fail(this._onLoadingError.bind(this))},cancel:function(){this._promiseManager.reset()},update:function(e){function i(e){return function(){return{taskKey:e,data:arguments,startIssueLoad:new Date}}}var n,r=e.issueEntity,s=e.mergeIntoCurrent,a=e.viewIssueData,o=!!e.detailView,d=new t.Deferred;return n=this._updatingPromise.add(a.get(r.key,!0,{issueEntity:r,loadingDeferred:d,mergeIntoCurrent:s,startIssueLoad:new Date,detailView:o}).pipe(i("issue"),i("issue"))),n.fail(function(){d.reject.apply(d,arguments)}),d.promise()},load:function(e){var i=e.issueEntity,n=e.viewIssueData,r=!!i.detailView;this._currentlyLoading=!0;var s=new t.Deferred;return this._loadingPromise.add(n.get(i.key,!1,{issueEntity:i,loadFields:!1,loadingDeferred:s,startIssueLoad:new Date,detailView:r})),s.promise()},isLoading:function(){return this._currentlyLoading},_onLoadingDone:function(e,i,t){var r=t.issueEntity;r.id=e.issue.id,r.key=e.issue.key,e.pager||(e.pager=r.pager),n.transformFieldHtml(e),this._currentlyLoading=!1,i.loadDuration=new Date-t.startIssueLoad,this.trigger("issueLoaded",e,i,t),t.loadingDeferred.resolve(e,i,t)},_onUpdatingDone:function(e){var i=e.data[1];i&&(i.isUpdate=!0),this._onLoadingDone.apply(this,e.data)},_onLoadingError:function(e,i,t){var n=t.issueEntity,r={issueId:n.id,issueKey:n.key,response:e};this._currentlyLoading=!1;var s;switch(e.status){case 401:s="auth";break;case 403:s="forbidden";break;case 404:s="notfound";break;default:s="generic"}this.trigger("error",s,r),t.loadingDeferred.reject()},_onUpdatingError:function(e){this._onLoadingError.apply(this,e.data)}})});
//# sourceMappingURL=IssueLoaderService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/MetadataService.js' */
define("jira/components/issueviewer/services/metadataservice",["require"],function(e){"use strict";var t=e("jira/util/data/meta"),a=e("jira/components/libs/underscore");return{removeIssueMetadata:function(e){var s=e.getEntity();s.metadata?a.each(s.metadata,function(e,a){t.set(a,null)}):t.get("issue-key")&&t.set("issue-key",null)},addIssueMetadata:function(e){var s=e.getEntity();a.each(s.metadata,function(e,a){t.set(a,e)})}}});
//# sourceMappingURL=MetadataService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/LinksCapturer.js' */
define("jira/components/issueviewer/linkscapturer",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),t=e("jira/util/events"),n=e("jira/ajs/layer/inline-layer"),s=e("jquery"),o=e("jira/components/libs/marionette-1.4.1/controller"),a=e("jira/message"),r=e("jira/ajs/ajax/smart-ajax"),u=e("jira/components/libs/uri");return o.extend({initialize:function(){i.bindAll(this,"_onRefineViewEvents","_offRefineViewEvents","_handleReviewViewEvents")},capture:function(e){e!==this.el&&(this.el=e,this.linksToOtherIssues(),this.linksToReorderSubtasks(),this.viewOptionsForCurrentIssue())},linksToOtherIssues:function(){this._isRapidBoardPage()||s(this.el).on("simpleClick","a.issue-link[data-issue-key]",function(i){i.preventDefault();var t=s(i.target).closest("a").data("issue-key"),n=t.split("-")[0];JIRA.API.getSidebar().done(function(e){e.updateData({projectKey:n},!0)}),e("jira/navigation").then(function(e){e.setProjectRootView()}),this.trigger("linkToIssue",{issueKey:t})}.bind(this))},linksToReorderSubtasks:function(){s(this.el).on("simpleClick",".subtask-reorder a",function(e){e.target.href&&(e.preventDefault(),s.ajax({type:"GET",data:{disableRedirect:!0},url:e.target.href}).done(function(){this.trigger("reorderSubtasks")}.bind(this)).fail(function(e){a.showErrorMsg(r.buildSimpleErrorContent(e),{closeable:!0})}))}.bind(this))},_handleReviewViewEvents:function(e){var i=e.currentTarget;s(i).parents("ul").find("a.aui-checked").removeClass("aui-checked"),s(i).addClass("aui-checked");var t=new u(i.href).query(!0),n=this.triggerPreventable("refineViewer",{query:t});n.isPrevented&&e.preventDefault()},_onRefineViewEvents:function(e,i){s(i).on("simpleClick",["#attachment-sorting-options a","#attachment-sorting-order-options a","#attachment-view-mode-options a","#subtasks-show-all","#subtasks-show-open"].join(","),this._handleReviewViewEvents)},_offRefineViewEvents:function(e,i){s(i).off("simpleClick",["#attachment-sorting-options a","#attachment-sorting-order-options a","#attachment-view-mode-options a","#subtasks-show-all","#subtasks-show-open"].join(","),this._handleReviewViewEvents)},_location:function(){return window.location},_isRapidBoardPage:function(){return this._location().href.indexOf("RapidBoard.jspa")>=0},viewOptionsForCurrentIssue:function(){t.bind(n.EVENTS.show,this._onRefineViewEvents),t.bind(n.EVENTS.hide,this._offRefineViewEvents)},destroy:function(){t.unbind(n.EVENTS.show,this._onRefineViewEvents),t.unbind(n.EVENTS.hide,this._offRefineViewEvents)}})});
//# sourceMappingURL=LinksCapturer-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/BreadcrumbsProjectHider.js' */
define("jira/components/issueviewer/services/breadcrumbs-project-hider",["require"],function(e){function n(e,n){var o=n?e.isCollapsed():e.isCollapsed(!0);o?i():r()}function r(){var e=d.find(t);e.length>0&&(a=e.detach())}function i(){var e=d.find(s);a&&0===e.find(t).length&&a.prependTo(e)}var o=(e("jquery"),{}),t=".breadcrumbs-project-name",s=".aui-nav-breadcrumbs",a=null,d=null;return o.bindToSidebarEvents=function(e,o,t){if(t){if(!e.isInProjectContext())return}else if(!e.isProjectSidebar(!0))return;d=o,n(e,t),t?(e.onCollapseEnd(i),e.onExpandEnd(r)):(e.off(e.events.SIDEBAR_COLLAPSE_END,i,!0),e.on(e.events.SIDEBAR_COLLAPSE_END,i,!0),e.off(e.events.SIDEBAR_EXPAND_END,r,!0),e.on(e.events.SIDEBAR_EXPAND_END,r,!0))},o});
//# sourceMappingURL=BreadcrumbsProjectHider-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/IssueEventBus.js' */
define("jira/components/issueviewer/legacy/issueeventbus",["require"],function(e){"use strict";var s=e("jira/components/libs/brace");return s.Model.extend({namedAttributes:["issueId"],namedEvents:["save","saveSuccess","savingStarted","saveError","panelRendered","replacedFocusedPanel","fieldSubmitted","dismiss","refreshIssue","issueRefreshed","updateFromDom","updateStatusColor","quickEditKeyPressed","openFocusShifter"]})});
//# sourceMappingURL=IssueEventBus-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/AsyncData.js' */
define("jira/components/issueviewer/legacy/asyncdata",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),n=e("jira/components/libs/underscore"),i=e("jquery");return t.Evented.extend({namedEvents:["change"],initialize:function(e){this.data={},this.pendings={},this.accessIndex=0,e&&(this.disableCache=e.disableCache,this.maxCacheSize=e.maxCacheSize)},get:function(e,t,a){var r=new i.Deferred,s=this.disableCache?{}:this.data,h=function(t,i){var h=this._set(s,e,n.defaults(t,{accessIndex:this.accessIndex++}),!0,a),d=n.defaults({changed:h},i,s[e]);a&&a.mergeIntoCurrent&&(d.mergeIntoCurrent=!0),s[e]&&!s[e].error?r.resolve(s[e].value,d,a):r.reject(s[e]&&s[e].value,d,a)}.bind(this),d=function(t){var n=this.fetch(e,a);this.setPending(e,n,function(e){h({value:e,error:!1,updated:new Date},{initialLoad:t})},function(e){var n={error:!0,updated:new Date};void 0!==e&&(n.value=e),h(n,{initialLoad:t,error:!0})})}.bind(this),u=function(){h({},{fromCache:!0})},c=function(){this.pendings[e].always(n.bind(h,this,{},{initialLoad:!0}))}.bind(this);return t||this.disableCache?d(!1):this.hasCached(e)?u():this.hasPending(e)?c():d(!0),r.promise()},setPending:function(e,t,n,a){return this.hasPending(e)?this.pendings[e].update(t):this.pendings[e]=new i.ConcurrentDeferred(t),this.pendings[e].done(function(e){n(e)}).fail(function(e){a(e)})},getIdByValue:function(e){var t;for(t in this.data)if(this.data[t].value===e)return t;return null},getMeta:function(e){return this.data[e]||{}},getAllCached:function(){var e={};return n.each(this.data,function(t,n){e[n]=t.value}),e},hasCached:function(e){var t=this.getMeta(e);return void 0!==t.value||t.error===!0},hasError:function(e){var t=this.getMeta(e);return t.error===!0},hasPending:function(e){var t=this.pendings[e];return!!t&&t.isPending()},set:function(e,t){return this._set(this.data,e,{value:t,updated:new Date},!0)},remove:function(e){return!!this.data[e]&&(delete this.data[e],this.triggerChange(),!0)},setError:function(e,t){var n={error:!0,updated:new Date};return void 0!==t&&(n.value=t),this._set(this.data,e,n,!0)},setMultiple:function(e){var t=new Date,i=!1;return n.each(e,function(e,a){e=n.pick(e,"value","error"),e.updated=t,this._set(this.data,a,e,!1)&&(i=!0)}.bind(this)),i&&this.triggerChange(),i},reset:function(e){this.data={},this.pendings={},this.accessIndex=0,e?this.setMultiple(e):this.triggerChange()},_set:function(e,t,i,a,r){this.disableCache&&e===this.data&&(e={});var s=e[t]?n.clone(e[t]):{},h=this.mergeFetchedAndCached(s,i,r?r:{},e[t]);return!a||e[t]&&!h&&e[t].error===s.error||e!==this.data||this.triggerChange(),!e[t]&&this.maxCacheSize&&n.keys(e).length===this.maxCacheSize?i.accessIndex&&(this._dropItem(e),e[t]=s):e[t]=s,h},_dropItem:function(e){var t=null;for(var n in e){if(!e[n].accessIndex){t=n;break}(null===t||e[n].accessIndex<e[t].accessIndex)&&(t=n)}null!==t&&delete e[t]},fetch:function(e){var t=this.getMeta(e),n=new i.Deferred;return!this.hasCached(e)||t.error?n.reject(t.value):n.resolve(t.value),n.promise()},mergeFetchedAndCached:function(e,t,i,a){return n.extend(e,t),!a||a.value!==e.value||a.error!==e.error}})});
//# sourceMappingURL=AsyncData-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/ViewIssueData.js' */
define("jira/components/issueviewer/legacy/viewissuedata",["require","jira/featureflags/feature-manager"],function(e,s){"use strict";var i=e("jira/components/libs/underscore"),n=e("jira/components/issueviewer/legacy/asyncdata"),t=e("jira/util/data/meta"),u=e("jquery"),a=window.AJS.contextPath(),r=e("jira/featureflags/feature-manager"),o=r.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli");return n.extend({initialize:function(e){e=e||{},n.prototype.initialize.call(this,i.defaults(e||{},{disableCache:!1,maxCacheSize:t.get("viewissue-max-cache-size")}))},fetch:function(e,n){var t={issueKey:e,decorator:"none",prefetch:!!n.prefetch};if(t.shouldUpdateCurrentProject=!n.detailView,n.mergeIntoCurrent&&this.data&&this.data[e]&&this.data[e].value&&this.data[e].value.issue){t.lastReadTime=this.data[e].value.readTime,t.fields=[],i.each(this.data[e].value.fields,function(e){t.fields.push(e.id+":"+e.contentId)}),t.issue=["summary:"+this.data[e].value.issue.summaryContentId],t.links=[];var r=function f(e){i.each(e.links,function(e){t.links.push(e.id+":"+e.contentId)}),i.each(e.groups,function(e){f(e)})};i.each(this.data[e].value.issue.operations.linkGroups,function(e){r(e)}),t.panels=[];var d=this,l=function(s){i.each(d.data[e].value.panels[s],function(e){t.panels.push(e.completeKey+":"+e.contentId)})};l("leftPanels"),l("rightPanels"),l("infoPanels")}"loadFields"in n&&(t.loadFields=n.loadFields),n.issueEntity&&i.defaults(t,n.issueEntity.viewIssueQuery);var p=s.isFeatureEnabled({key:"issue-details-new-issue-view",fallback:!0})&&"true"===u('meta[name="ajs-new-jira-issue-view-gin-enabled"]').attr("content");if(p&&n.detailView){var c=u.Deferred();return c.resolve({issue:{id:void 0,key:t.issueKey,status:{name:void 0}}})}var h=u.ajax({url:a+"/secure/AjaxIssueAction!default.jspa",headers:{"X-SITEMESH-OFF":!0},data:t,type:n.mergeIntoCurrent?"POST":"GET"}),c=h.pipe(function(e){return o&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("getLegacyIssueViewData"),e},function(e){return o&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("getLegacyIssueViewData",{reason:"get-legacy-issue-view-data-failed-with-status-code",statusCode:e.status}),i.pick(e,"status","responseText","statusText")});return c.abort=function(){h.abort.apply(h,arguments)},c},mergeFetchedAndCached:function(e,s,n){if(this._skipMerging(e,s,n))return i.extend(e,s),null;i.each(i.pairs(s),function(s){"value"!==s[0]&&(e[s[0]]=s[1])});var t=s.value,u=[],a=[],r=[];i.each(t.removedContentIds,function(e,s){var n;"fields"===s?n=u:"panels"===s?n=a:"links"===s&&(n=r),n&&i.each(e,function(e){n.push(e)})});var o=t.fields,d=t.issue.operations.linkGroups,l=t.panels,p=t.issue.summary,c=t.issue.primaryActions,h=t.issue.transitions;if(this._nothingChanged(u,a,r,o,l,d,p))return null;var f={updated:{},added:{},deleted:{}},g=e.value,v=this._comparator;return(u.length>0||o.length>0)&&this._mergeFields(o,g,f,u),(a.length>0||l.leftPanels.length>0||l.rightPanels.length>0||l.infoPanels.length>0)&&this._mergePanels(l,g,f,a,v),(r.length>0||d.length>0)&&this._mergeLinks(d,g,f,r,v),p&&this._mergeSummary(t,g,f),c&&this._mergePrimaryActions(t,g,f),h&&this._mergeTransitions(t,g,f),g.issue.status=t.issue.status,f},_skipMerging:function(e,s,n){return i.isEmpty(e)||!n.mergeIntoCurrent||!e.value||!e.value.issue||s.error===!0},_nothingChanged:function(e,s,i,n,t,u,a){return 0===e.length&&0===s.length&&0===i.length&&0===n.length&&0===u.length&&0===t.leftPanels.length&&0===t.rightPanels.length&&0===t.infoPanels.length&&!a},_mergeFields:function(e,s,n,t){n.added.fields=[],n.updated.fields=[],n.deleted.fields=[],i.each(e,function(e){var t=i.find(s.fields,function(s){return s.id===e.id});t?n.updated.fields.push(e.id):n.added.fields.push(e.id)});var u=e;i.each(s.fields,function(e){i.contains(t,e.id)?n.deleted.fields.push(e.id):i.contains(n.updated.fields,e.id)||u.push(e)}),s.fields=u},_mergeSummary:function(e,s,i){i.updated.issue=["summary"],s.issue.summary=e.issue.summary,s.issue.summaryContentId=e.issue.summaryContentId},_mergePrimaryActions:function(e,s,i){i.updated.issue=["primaryActions"],s.issue.primaryActions=e.issue.primaryActions},_mergeTransitions:function(e,s,i){i.updated.issue=["transitions"],s.issue.transitions=e.issue.transitions},_mergePanels:function(e,s,n,t,u){n.added.panels={},n.updated.panels={},n.deleted.panels={};var a=function(a){n.added.panels[a]=[],n.updated.panels[a]=[],n.deleted.panels[a]=[],i.each(e[a],function(e){var t=i.find(s.panels[a],function(s){return s.id===e.id});t?n.updated.panels[a].push(e.id):n.added.panels[a].push(e.id)});var r=e[a];i.each(s.panels[a],function(e){i.contains(t,e.completeKey)?n.deleted.panels[a].push(e.id):i.contains(n.updated.panels[a],e.id)||r.push(e)}),r.sort(u),s.panels[a]=r};a("leftPanels"),a("rightPanels"),a("infoPanels")},_mergeLinks:function(e,s,i,n,t){i.added.groups={},i.updated.groups={},i.deleted.groups={};var u=[];this._mergeOperationsLinks(e,s,u,i,n,t),this._mergeToolsLinks(e,s,u,i,n,t),s.issue.operations.linkGroups=u},_mergeOperationsLinks:function(e,s,n,t,u,a){t.added.groups["view.issue.opsbar"]=[],t.updated.groups["view.issue.opsbar"]=[],t.deleted.groups["view.issue.opsbar"]=[];var r=i.find(s.issue.operations.linkGroups,function(e){return"view.issue.opsbar"===e.id}),o=i.find(e,function(e){return"view.issue.opsbar"===e.id}),d={},l={};if(o&&i.each(o.groups,function(e){var s=i.find(r.groups,function(s){return e.id===s.id});if(s?t.updated.groups["view.issue.opsbar"].push(e.id):t.added.groups["view.issue.opsbar"].push(e.id),i.each(e.links,function(s){d[s.id]=s,l[s.id]=e.id}),e.groups&&e.groups.length>0){var n=e.groups[0];i.each(n.groups,function(e){i.each(e.links,function(s){d[s.id]=s,l[s.id]=e.id})})}}),r){var p=[];o&&i.each(o.groups,function(e){i.contains(t.added.groups["view.issue.opsbar"],e.id)&&p.push(e)}),i.each(r.groups,function(e){var s=[],n=null;o&&(n=i.find(o.groups,function(s){return e.id===s.id}),n&&i.each(n.links,function(n){var t=i.find(e.links,function(e){return n.id===e.id});t||s.push(n)}));var r=!1,c=function(e,s){i.each(e.links,function(n){var t=l[n.id];t&&t!==e.id?r=!0:d[n.id]?s.push(d[n.id]):i.contains(u,n.id)?r=!0:s.push(n)})};c(e,s),s.sort(a),e.links=s;var h=null;n&&n.groups&&n.groups.length>0&&(h=n.groups[0]);var f=null;if(e.groups&&e.groups.length>0){f=e.groups[0];var g=[];h&&i.each(h.groups,function(e){var s=i.find(f.groups,function(s){return e.id===s.id});s||g.push(e)}),i.each(f.groups,function(e){var s=[];if(h){var n=i.find(h.groups,function(s){return s.id===e.id});n&&i.each(n.links,function(n){var t=i.find(e.links,function(e){return n.id===e.id});t||s.push(n)})}c(e,s),s.length>0&&(s.sort(a),e.links=s,g.push(e))}),g.length>0?(g.sort(a),f.groups=g):(f=null,r=!0)}else h&&(f=n.groups[0]);e.groups=[],f&&(e.groups[0]=f),s.length>0||f?(p.push(e),r&&!i.contains(t.updated.groups["view.issue.opsbar"],e.id)&&t.updated.groups["view.issue.opsbar"].push(e.id)):t.deleted.groups["view.issue.opsbar"].push(e.id)}),p.length>0&&(p.sort(a),r.groups=p,n.push(r))}else o&&n.push(o);t.added.groups["view.issue.opsbar"].sort(),t.deleted.groups["view.issue.opsbar"].sort(),t.updated.groups["view.issue.opsbar"].sort()},_updatedLinks:function(e,s,n,t){function u(e){return!i.contains(n,e.id)}function a(s){return!i.findWhere(e,{id:s.id})}var r=i.chain(s).filter(a).union(e).filter(u).value();return r.sort(t),r},_collectAllLinks:function(e){var s=e.links||[],n=e.groups||[];return i.chain(n).map(this._collectAllLinks.bind(this)).flatten().union(s).value()},_mergeGroupLinks:function(e,s,n,t,u){i.map(e.groups||[],this._mergeGroupLinks.bind(this));var a=[],r=null;s&&s.groups&&s.groups.length>0&&(r=i.find(s.groups,function(s){return e.id===s.id})),r&&i.each(r.links,function(s){var n=i.find(e.links,function(e){return s.id===e.id});n||a.push(s)}),i.each(e.links,function(e){n[e.id]?a.push(n[e.id]):i.contains(t,e.id)||a.push(e)}),a.length>0&&(a.sort(u),e.links=a)},_mergeToolsLinks:function(e,s,n,t,a,r){t.updated.groups["jira.issue.tools"]=!1;var o=i.find(s.issue.operations.linkGroups,function(e){return"jira.issue.tools"===e.id}),d=i.find(e,function(e){return"jira.issue.tools"===e.id}),l={};if(d&&(t.updated.groups["jira.issue.tools"]=!0,l=i.indexBy(this._collectAllLinks(d),"id")),o){var p=d&&d.links||[],c=o.links||[];o.links=this._updatedLinks(p,c,a,r),o.groups&&o.groups.length>0?i.each(o.groups,function(e){this._mergeGroupLinks(e,d,l,a,r)}.bind(this)):d.groups&&d.groups.length>0&&(o.groups=u.extend(!0,{},d.groups)),n.push(o)}else d&&n.push(d)},_comparator:function(e,s){return e.weight&&s.weight?e.weight>s.weight?1:e.weight<s.weight?-1:0:e.weight&&!s.weight?1:!e.weight&&s.weight?-1:0},updateIssue:function(e,s){var i=this.getMeta(e);i&&i.value&&(i.value.fields=s.fields||{})}})});
//# sourceMappingURL=ViewIssueData-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/IssueFieldUtil.js' */
define("jira/components/issueviewer/legacy/issuefieldutil",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jquery"),r={getFieldSelector:function(e){return"issuetype"===e?"#type-val":"fixVersions"===e?"#fixfor-val":"summary"===e?"#summary-val":"labels"===e?"#wrap-labels .value":"duedate"===e?"#due-date":"#"+e+"-val"},matchesFieldSelector:function(e){return 1===i(r.getFieldSelector(e)).length},transformFieldHtml:function(e){return e.fields=t.map(e.fields,function(e){var t=i("<div />").htmlCatchExceptions(e.editHtml);return 0!==t.find("input.radio,input.checkbox").length?t.find("legend").eq(0).remove():t.find("label").eq(0).remove(),{id:e.id,label:e.label,editHtml:t.html(),required:e.required,contentId:e.contentId}}),e},getAccessKeyModifier:function(){var e=i("#home_link_drop").attr("title"),t=/\(([\w\+]+)\+\w\)/i;return t.test(e)?t.exec(e)[1]:"Alt"}};return r});
//# sourceMappingURL=IssueFieldUtil-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/Utils.js' */
define("jira/components/issueviewer/utils",["require"],function(e){"use strict";var i=e("aui/inline-dialog"),r=e("jira/ajs/layer/inline-layer"),n=e("jquery");return{hideLightbox:function(){n.fancybox.close()},hideDropdown:function(){if(i.current&&"column-picker-dialog"!==i.current.id&&i.current.hide(),r.current){var e=r.current.options.offsetTarget();e instanceof n&&(e.is(":visible")||r.current.hide())}}}});
//# sourceMappingURL=Utils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/actions.js' */
define("jira/components/issueviewer/actions",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore");return n.extend(AJS.namespace("JIRA.Issues.Actions"),{EDIT_COMMENT:"editComment"})});
//# sourceMappingURL=actions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/eventtypes.js' */
define("jira/components/issueviewer/eventtypes",["require"],function(e){"use strict";var s=e("jira/util/events/types");return s.ISSUE_REFRESHED="issueRefreshed",s.PANEL_REFRESHED="panelRefreshed",s});
//# sourceMappingURL=eventtypes-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/analytics/IssueOpsbar.js' */
define("jira/components/issueviewer/analytics/issueopsbar",["require"],function(t){"use strict";var i=t("jira/components/libs/underscore"),e=t("jquery"),n=t("jira/viewissue/analytics-utils"),r=t("jira/components/utils/ajshelper"),s=t("jira/components/analytics-tracker/tracker"),a=function(t){this.issueId=t.model.get("id"),this.$el=t.$el,this.bindEventsToOpsbar()};return a.prototype.triggerEvent=function(t){s.trackEvent("viewissue","opsbar.operation",t),r.trigger("analyticsEvent",{name:"kickass.opsbar.operation",data:t})},a.prototype._getParamsButtonMain=function(t,e,n){return i.extend(this._getParamsCommon(t),{issueId:this.issueId,id:e.attr("id"),idx:n})},a.prototype._getParamsButtonSubmenu=function(t,e,n,r,s){return i.extend(this._getParamsCommon(t),{issueId:this.issueId,id:e.attr("id"),idx:n,parentId:r.attr("id"),parentIdx:s})},a.prototype._getParamsCommon=function(){return{context:n.context()}},a.prototype.bindEventsToOpsbar=function(){var t=this.$el.find(".toolbar-analytics");t.each(function(t,i){var n=e(i),r=n.find("a.toolbar-trigger");r.click(function(i){this.triggerEvent(this._getParamsButtonMain(i,r,t))}.bind(this));var s=n.find("li.aui-list-item a");s.length>=1&&s.each(function(i,n){var s=e(n);s.click(function(e){this.triggerEvent(this._getParamsButtonSubmenu(e,s,i,r,t))}.bind(this))}.bind(this))}.bind(this))},a});
//# sourceMappingURL=IssueOpsbar-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/analytics/IssueUxMetrics.js' */
define("jira/components/issueviewer/analytics/issue-uxmetrics",["jquery","jira/components/analytics-tracker/tracker"],function(t,e){"use strict";return{trackPageMetrics:function(){var s=t("#assignee-val").text().trim().search("Unassigned")===-1,n=0!==t("#reporter-val").text().trim().length,i=t("#opsbar-opsbar-transitions .issueaction-workflow-transition").length,o=t("#description-val"),l=o.text().trim().length,a=o.height(),u=t("#details-module ul#issuedetails>li").length,r=t("#customfield-tabs ul.property-list>li.item").length,c=t("#customfield-tabs ul.property-list").length,m=t("#details-module #wrap-labels ul>li").length,d=m>0?m-1:0,h=t("#details-module ul#issuedetails>li li").length,p=t("#customfield-tabs ul.property-list>li.item li").length,g=t("ol#attachment_thumbnails>li").length,C=t(".issue-body-content .module.toggle-wrap"),b=C.not(":has(.ap-container)").length,v=C.has(".ap-container").length,y=t("#opsbar-operations_more_drop .aui-dropdown2-section .aui-list-item").length,w=t("#peoplemodule ul dl").length,f=t("#datesmodule ul dl").length,F={isAssigned:s,hasReporter:n,transitionsCount:i,descriptionCharacterCount:l,descriptionBlockHeight:a,customFieldTabsCount:c,systemFieldsCount:u,customFieldsCount:r,labelsCount:d,systemFieldChildItemsCount:h,customFieldChildItemsCount:p,attachmentsCount:g,nonConnectWebPanelsCount:b,connectWebPanelsCount:v,moreMenuItemCount:y,peopleModuleFieldsCount:w,datesModuleFieldsCount:f},_=t("#comment-tabpanel.active").length>0;_&&(F.visibleCommentsCount=t("#issue_actions_container .activity-comment").length,F.collapsedCommentsCount=t("#issue_actions_container .show-more-comments").attr("data-collapsed-count")||0),e.trackEvent("viewissue","uxmetrics",F)}}});
//# sourceMappingURL=IssueUxMetrics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/IssueViewer.js' */
define("jira/components/issueviewer",["require"],function(e){"use strict";var s=e("jira/components/libs/underscore"),i=e("jira/components/issueviewer/actions"),r=e("jira/components/issueviewer/controllers/error"),t=e("jira/util/events"),o=e("jira/components/issueviewer/controllers/issue"),n=e("jira/components/issueviewer/legacy/issueeventbus"),u=e("jira/components/issueviewer/services/issueloader"),a=e("jira/components/issueviewer/entities/issue"),d=e("jquery"),l=e("jira/components/issueviewer/linkscapturer"),h=e("jira/components/libs/marionette-1.4.1/controller"),c=e("jira/util/data/meta"),m=e("jira/components/issueviewer/services/metadataservice"),g=e("jira/util/events/reasons"),p=window.JIRA,f=e("jira/components/issueviewer/eventtypes"),I=e("jira/components/issueviewer/utils"),C=e("jira/components/issueviewer/legacy/viewissuedata"),v=e("wrm/data"),w=e("jira/components/issueviewer/analytics/issue-uxmetrics"),E=(e("jira/featureflags/feature-manager"),window.AJS.contextPath()),R=function(){p.trace.apply(p,arguments)};return h.extend({namedEvents:["loadComplete","loadError","close","replacedFocusedPanel","linkToIssue"],initialize:function(e){var i=this;e=e||{},e.useJIRAEvents=e.useJIRAEvents!==!1,this.shouldRenderIssueHeader=e.shouldRenderIssueHeader,this.model=new a,this.eventBus=new n,this.viewIssueData=new C,this._buildIssueLoader(),this._buildLinksCapturer(),this._buildErrorController({showReturnToSearchOnError:e.showReturnToSearchOnError}),this._buildIssueController(),t.bind(f.REFRESH_ISSUE_PAGE,function(e,s,i){this.model.isCurrentIssue(s)&&this.refreshIssue(i)}.bind(this)),this.memoizedUxMetricsTracker=s.memoize(w.trackPageMetrics,function(){return i.model.getId()})},_buildIssueLoader:function(){this.issueLoader=new u,this.listenTo(this.issueLoader,"error",function(e,s){this.trigger("loadError",s),this.errorController.render(e,s.issueKey),this.removeIssueMetadata(),R("jira.issue.refreshed",{id:s.issueId}),this.options.useJIRAEvents&&t.trigger(f.ISSUE_REFRESHED,[s.issueId])}),this.listenTo(this.issueLoader,"issueLoaded",this._onIssueLoaded)},_buildLinksCapturer:function(){this.linksCapturer=new l,this.listenTo(this.linksCapturer,{linkToIssue:function(e){this.trigger("linkToIssue",e)},refineViewer:function(e){this.trigger("refineViewer",e)},reorderSubtasks:function(){this.issueController.showLoading(),this.refreshIssue({reason:i.UPDATE}).always(function(){this.issueController.hideLoading()}.bind(this))}})},_buildErrorController:function(e){e=e||{},this.errorController=new r({contextPath:E,showReturnToSearchOnError:e.showReturnToSearchOnError}),this.listenTo(this.errorController,"before:render",function(){this.issueController.close()}),this.listenTo(this.errorController,"returnToSearch",function(){this.trigger("close")}),this.listenAndRethrow(this.errorController,"render")},_buildIssueController:function(){this.issueController=new o({shouldRenderIssueHeader:this.shouldRenderIssueHeader,model:this.model}),this.listenAndRethrow(this.issueController,"replacedFocusedPanel"),this.listenTo(this.issueController,{render:function(e,s){I.hideDropdown(),this.errorController.close(),this.trigger("render",e,s),R("jira.psycho.issue.refreshed",{id:this.model.getId()}),this.memoizedUxMetricsTracker()},renderMainView:function(e){this.options.useJIRAEvents&&(t.trigger(f.NEW_CONTENT_ADDED,[e,g.pageLoad]),t.trigger(f.REFRESH_TOGGLE_BLOCKS,[this.model.getId()])),this.trigger("renderMainView",e,this.model.getId())},panelRendered:function(e,s,i){this.eventBus.triggerPanelRendered(e,s),this.options.useJIRAEvents&&t.trigger(f.PANEL_REFRESHED,[e,s,i]),this.trigger("panelRendered",e,s,i)},close:function(){I.hideDropdown()},individualPanelRendered:function(e){this.options.useJIRAEvents&&t.trigger(f.NEW_CONTENT_ADDED,[e,g.panelRefreshed]),this.trigger("individualPanelRendered",e)}})},_updateModel:function(e,s){this.model.update(e,s)},_onIssueLoaded:function(e,s,i){var r=i.issueEntity,o=!s.mergeIntoCurrent&&i.initialize!==!1,n=!this.model.isCurrentIssue(r.id),u=!!r.detailView,a=!JIRA.Issues.Api.isNewIssueViewEnabled();s.isUpdate&&!o||(this.model.resetToDefault(),this.errorController.close()),this._updateModel(e,{initialize:o,changed:s.changed,mergeIntoCurrent:s.mergeIntoCurrent,stopRendering:a}),s.isUpdate&&!o||this.issueController.close(),this.issueController.show(),s.fromCache&&this.refreshIssue(r,{fromCache:!0,mergeIntoCurrent:!s.error,detailView:u}),m.addIssueMetadata(this.model),r.bringToFocus&&r.bringToFocus(),this._triggerLoadComplete(n,s,r);var d={id:r.id};s.fromCache?R("jira.issue.loadFromCache",d):R("jira.issue.loadFromServer",d),R("jira.issue.refreshed",d),this.options.useJIRAEvents&&t.trigger(f.ISSUE_REFRESHED,[r.id])},_triggerLoadComplete:function(e,s,i){this.trigger("loadComplete",this.model,{isNewIssue:e,issueId:i.id,issueKey:i.key,duration:s.loadDuration,loadReason:s.fromCache?"issues-cache-refresh":void 0,fromCache:s.fromCache,issueRefreshedEvent:!!this.options.useJIRAEvents})},abortPending:function(){this.issueLoader.cancel()},canDismissComment:function(){return this.issueController.canDismissComment()},beforeHide:function(){I.hideLightbox(),I.hideDropdown(),this.abortPending(),this.removeIssueMetadata()},beforeShow:function(){m.addIssueMetadata(this.model)},getIssueId:function(){return this.model.getEntity().id||null},getIssueKey:function(){return this.model.getEntity().key||null},getProjectKey:function(){return this.model.get("projectKey")||null},getProjectType:function(){return this.model.get("projectType")||null},getProjectId:function(){return this.model.get("projectId")||null},_loadIssueFromDom:function(e){e.id&&e.id!==-1?this.issueController.applyToDom(s.extend({id:-1},e)):(this.errorController.applyToDom("notfound",e.key),this.trigger("loadError")),c.set("serverRenderedViewIssue",null);var i={id:this.getIssueId()};R("jira.issue.refreshed",i)},loadIssue:function(e){var s=c.get("serverRenderedViewIssue");return s?(e.project={id:v.claim("projectId"),key:v.claim("projectKey"),projectType:v.claim("projectType")},this.loadIssueRenderedByTheServer(e)):this.canDismissComment()&&e.key?(this.issueController.showLoading(),this.issueLoader.load({issueEntity:e,viewIssueData:this.viewIssueData})):(new d.Deferred).reject()},loadIssueRenderedByTheServer:function(e){var s=d("#key-val"),i=d("#summary-val");return e.id=s.attr("rel")||-1,e.summary=i.text(),this._loadIssueFromDom(e),this.trigger("loadComplete",this.model,{isNewIssue:!1,issueId:e.id,issueKey:e.key,duration:0,loadReason:void 0,fromCache:!1}),(new d.Deferred).resolve().promise()},refreshIssue:function(e){var i;return e=s.defaults({},e,{mergeIntoCurrent:!0}),this.model.hasIssue()?(i=this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:e.mergeIntoCurrent,detailView:e.detailView}),e.complete&&(i=i.done(e.complete).fail(e.complete)),this.issueController.showLoading()):i=(new d.Deferred).resolve().promise(),i},removeIssueMetadata:function(){m.removeIssueMetadata(this.model)},setContainer:function(e){this.linksCapturer.capture(e),this.errorController.setElement(e),this.issueController.setElement(e)},isCurrentlyLoading:function(){return this.issueLoader.isLoading()},updateIssueWithQuery:function(e){this.model.updateIssueQuery(e),this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:!0})},dismiss:function(){this.model.resetToDefault(),this.errorController.close(),this.issueController.close(),this.linksCapturer.destroy()},close:function(){this.canDismissComment()&&(this.dismiss(),this.trigger("close"))},applyResponsiveDesign:function(){this.issueController.applyResponsiveDesign()},isShowingError:function(){return this.errorController.isRendered()},focus:function(){this.issueController.focus()},initialFocus:function(){this.issueController.initialFocus()}})});
//# sourceMappingURL=IssueViewer-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/IssueViewerAppModule.js' */
define("jira/components/issueviewer/appmodule",["require"],function(e){"use strict";var r=e("jira/components/libs/underscore"),n=e("jira/components/issueviewer"),s=e("jira/components/libs/marionette-1.4.1/appmodule");return s.extend({name:"issueViewer",generateMasterRequest:!0,create:function(e){return e=r.defaults({},e,{showReturnToSearchOnError:function(){return!1}}),new n({showReturnToSearchOnError:e.showReturnToSearchOnError})},commands:function(){return{abortPending:!0,beforeHide:!0,beforeShow:!0,removeIssueMetadata:!0,updateIssueWithQuery:!0,close:!0,setContainer:!0,dismiss:!0}},requests:function(){return{loadIssue:!0,canDismissComment:!0,getIssueId:!0,getIssueKey:!0,refreshIssue:!0,isCurrentlyLoading:!0}},events:function(){return["loadComplete","loadError","close","render","replacedFocusedPanel","linkToIssue","refineViewer"]}})});
//# sourceMappingURL=IssueViewerAppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/Issue.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),JIRA.Components.IssueViewer.Templates.layout=function(e,s){return'<div id="issue-content" class="issue-edit-form">'+(e.serverRenderedViewIssue?'<header id="stalker" class="issue-header js-stalker" tabindex="-1">'+JIRA.Components.IssueViewer.Templates.Header.issueHeader(e)+'</header><div class="issue-body-content">'+JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels(e)+"</div>":'<div class="issue-header-container" />'+(e.isNewIssueViewEnabled?'<div id="new-issue-body-container" />':'<div class="issue-body-container" id="legacy-issue-body-container" />'))+"</div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueHeader.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.Header&&(JIRA.Components.IssueViewer.Templates.Header={}),JIRA.Components.IssueViewer.Templates.Header.issueHeader=function(e,s){return'<div class="issue-header-content">'+aui.page.pageHeader({content:""+(e.issue.project?aui.page.pageHeaderImage({content:""+JIRA.Templates.Headers.projectAvatar({id:""+soy.$$escapeHtml(e.issue.project.id),projectKey:""+soy.$$escapeHtml(e.issue.project.key),projectName:""+soy.$$escapeHtml(e.issue.project.name),avatarUrl:""+soy.$$escapeHtml(e.issue.project.avatarUrls["48x48"]),avatarAlt:""+soy.$$escapeHtml(e.issue.project.name),isSystemAvatar:e.issue.project.systemAvatar})})+(e.isNewIssueViewEnabled?aui.page.pageHeaderMain({content:'<div id="key-val" rel="'+soy.$$escapeHtml(e.issue.id)+'" class="hidden">'+soy.$$escapeHtml(e.issue.key)+"</div>"}):aui.page.pageHeaderMain({content:'<ol class="aui-nav aui-nav-breadcrumbs"><li class="breadcrumbs-project-name"><a id="project-name-val" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issue.project.key)+'">'+soy.$$escapeHtml(e.issue.project.name)+"</a></li>"+(e.issue.parent&&e.issue.parent.id?'<li><a class="issue-link" data-issue-key="'+soy.$$escapeHtml(e.issue.parent.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issue.parent.key)+'" id="parent_issue_summary" title="'+soy.$$escapeHtml(e.issue.parent.summary)+'">'+soy.$$escapeHtml(e.issue.parent.key)+" "+soy.$$escapeHtml(e.issue.parent.summary)+"</a></li>":"")+'<li><a class="issue-link" data-issue-key="'+soy.$$escapeHtml(e.issue.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issue.key)+'" id="key-val" rel="'+soy.$$escapeHtml(e.issue.id)+'">'+soy.$$escapeHtml(e.issue.key)+'</a></li></ol><h1 id="summary-val">'+soy.$$escapeHtml(e.issue.summary)+"</h1>"})):"")+aui.page.pageHeaderActions({content:'<div id="issue-header-pager">'+(e.pager?JIRA.Components.IssueViewer.Templates.Header.pager(e.pager):"")+"</div>"})})+(e.isNewIssueViewEnabled?"":'<div class="command-bar">'+(e.serverRenderedViewIssue?JIRA.Components.IssueViewer.Templates.IssueOpsbar.simpleOpsbar(e):"")+"</div>")+"</div>"},JIRA.Components.IssueViewer.Templates.Header.titleAttr=function(e,s){return""+(e.title?'title="'+soy.$$escapeHtml(e.title)+'"':e.label&&e.label.length&&e.label.length>25?'title="'+soy.$$escapeHtml(e.label)+'"':"")};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueBody.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.Body&&(JIRA.Components.IssueViewer.Templates.Body={}),JIRA.Components.IssueViewer.Templates.Body.issueBody=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels({panels:!1,serverRenderedViewIssue:!1})},JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels=function(e,s){var i='<div class="aui-group issue-body"><div class="aui-item issue-main-column">';if(e.serverRenderedViewIssue)for(var a=e.panels.leftPanels,l=a.length,o=0;o<l;o++){var n=a[o];i+=JIRA.Components.IssueViewer.Templates.Body.issuePanel(n)}if(i+='</div><div id="viewissuesidebar" class="aui-item issue-side-column">',e.serverRenderedViewIssue)for(var t=e.panels.rightPanels,r=t.length,d=0;d<r;d++){var u=t[d];i+=JIRA.Components.IssueViewer.Templates.Body.issuePanel(u)}return i+="</div></div>"},JIRA.Components.IssueViewer.Templates.Body.issuePanel=function(e,s){var i="";if(e.renderHeader){i+="<div id="+soy.$$escapeHtml(e.id)+' class="module toggle-wrap"><div id="'+soy.$$escapeHtml(e.id)+'_heading" class="mod-header"><ul class="ops">';for(var a=e.headerLinks.links,l=a.length,o=0;o<l;o++){var n=a[o];i+="<li>"+JIRA.Components.IssueViewer.Templates.Body.simpleLink({link:n})+"</li>"}if(e.headerLinks.groups.length>0){i+='<li class="drop"><div class="aui-dd-parent"><a href="#" class="more-menu aui-button aui-button-subtle aui-icon aui-icon-small aui-iconfont-more js-default-dropdown" title="'+soy.$$escapeHtml("Options")+'"><span>'+soy.$$escapeHtml("Options")+'</span></a><div class="aui-dropdown-content aui-list">';for(var t=e.headerLinks.groups,r=t.length,d=0;d<r;d++){var u=t[d];i+=(u.header&&u.header.label?"<h5>"+soy.$$escapeHtml(u.header.label)+"</h5>":"")+"<ul "+(u.header&&u.header.id?'id="'+soy.$$escapeHtml(u.header.id)+'"':"")+'class="aui-list-section'+(u.header&&u.header.styleClass?" "+soy.$$escapeHtml(u.header.styleClass):"")+(0==d?" aui-first":"")+(d==r-1?" aui-last":"")+'">';for(var m=u.links,p=m.length,c=0;c<p;c++){var f=m[c];i+='<li class="aui-list-item">'+JIRA.Components.IssueViewer.Templates.Body.simpleLink({link:f,additionalStyleClass:"aui-list-item-link"})+"</li>"}i+="</ul>"}i+="</div></div></li>"}if(i+="</ul>",e.subpanelHtmls.length>0){i+='<div class="mod-header-panels">';for(var y=e.subpanelHtmls,v=y.length,I=0;I<v;I++){var h=y[I];i+='<div class="mod-header-panel">'+soy.$$filterNoAutoescape(h)+"</div>"}i+="</div>"}i+='<h2 class="toggle-title">'+soy.$$escapeHtml(e.label)+'</h2></div><div class="mod-content">'+soy.$$filterNoAutoescape(e.html)+"</div></div>"}else i+=soy.$$filterNoAutoescape(e.html);return i},JIRA.Components.IssueViewer.Templates.Body.errorsLoading=function(e,s){e=e||{};var i=""+(e.isTimeout?soy.$$escapeHtml("The Jira server could not be contacted. This may be a temporary glitch or the server may be down."):soy.$$escapeHtml("There were errors loading the issue."));if(e.errorMessages){i+="<ul>";for(var a=e.errorMessages,l=a.length,o=0;o<l;o++){var n=a[o];i+="<li>"+soy.$$escapeHtml(n)+"</li>"}i+="</ul>"}return i},JIRA.Components.IssueViewer.Templates.Body.focusShifter=function(e,s){return'<div class="aui-message closeable" id="focus-shifter"><label><span>'+soy.$$escapeHtml("viewissue.focusshifter")+'</span><div id="focus-shifter-content"></div></label><span class="aui-icon icon-close"></span></div>'},JIRA.Components.IssueViewer.Templates.Body.simpleLink=function(e,s){return"<a "+(e.link.id?' id="'+soy.$$escapeHtml(e.link.id)+'"':"")+'href="'+(e.link.href?soy.$$escapeHtml(e.link.href):"#")+'"'+(e.link.styleClass||e.additionalStyleClass?'class="'+soy.$$escapeHtml(e.link.styleClass)+(e.additionalStyleClass?" "+soy.$$escapeHtml(e.additionalStyleClass):"")+'"':"")+(e.link.title?'title="'+soy.$$escapeHtml(e.link.title)+'"':"")+"><span>"+soy.$$escapeHtml(e.link.label)+"</span></a>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueError.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.Error&&(JIRA.Components.IssueViewer.Templates.Error={}),JIRA.Components.IssueViewer.Templates.Error.NoPermission=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.Generic(null)},JIRA.Components.IssueViewer.Templates.Error.DoesNotExist=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title:"This issue can\'t be viewed",body:"The issue you\'re trying to view can\'t be displayed.",bodyAfter:"It may have been deleted or you don\'t have permission to view it right now.",error:"canNotBeViewed",showReloadButton:!1})},JIRA.Components.IssueViewer.Templates.Error.Generic=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title:"This issue can\'t be displayed right now",body:"It could be for a variety of reasons, like a network or application error.",bodyAfter:"Try reloading the page.",error:"genericError",showReloadButton:!0})},JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header:'<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>',body:'<div class="issue-error"><span class="error-image error-image-'+soy.$$escapeHtml(e.error)+'"></span><h1>'+soy.$$escapeHtml(e.title)+"</h1><p>"+soy.$$escapeHtml(e.body)+"<br />"+soy.$$escapeHtml(e.bodyAfter)+"</p>"+(e.showReloadButton?'<p><button id="issue-error-reload-button" class="aui-button aui-button-primary">Reload</button></p>':"")+"</div>"})},JIRA.Components.IssueViewer.Templates.Error.viewIssueError=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header:'<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-main"><h1>'+soy.$$escapeHtml(e.title)+'</h1></div><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>',body:'<div class="aui-message '+soy.$$escapeHtml(e.error)+'"><span class="aui-icon icon-'+soy.$$escapeHtml(e.error)+'"></span><p>'+soy.$$escapeHtml(e.body)+"</p><p>"+soy.$$escapeHtml("If you think this message is wrong, please contact your")+' <a href="'+soy.$$escapeHtml(AJS.contextPath())+'/secure/ContactAdministrators!default.jspa">'+soy.$$escapeHtml("Jira administrators")+"</a>.</p>"+(e.returnToSearch?'<p><a id="return-to-search" class="push-state" href="'+soy.$$escapeHtml(AJS.contextPath())+'/issues/" title="'+soy.$$escapeHtml("Return to search")+'">'+soy.$$escapeHtml("Return to search")+"</a></p>":"")+"</div>"})},JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError=function(e,s){return'<div id="issue-content"><header class="issue-header issue-error-header"><div class="issue-header-content">'+soy.$$filterNoAutoescape(e.header)+'</div></header><div class="issue-body-content issue-error-content">'+soy.$$filterNoAutoescape(e.body)+"</div></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueOpsbar.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.IssueOpsbar&&(JIRA.Components.IssueViewer.Templates.IssueOpsbar={}),JIRA.Components.IssueViewer.Templates.IssueOpsbar.opsbar=function(e,s){var o='<div class="ops-cont"><div class="ops-menus aui-toolbar">';if(e.issue.operations)for(var r=e.issue.operations.linkGroups,a=r.length,l=0;l<a;l++){var t=r[l];if(t.id&&"view.issue.opsbar"==t.id){o+='<div class="toolbar-split toolbar-split-left">';for(var p=t.groups,i=p.length,n=0;n<i;n++){var u=p[n];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:u,parentGroup:t})}o+="</div>"}else t.id&&"jira.issue.tools"==t.id&&(o+='<div class="toolbar-split toolbar-split-right">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:t})+"</div>")}return o+="</div></div>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.simpleOpsbar=function(e,s){var o='<div class="ops-cont"><div class="ops-menus aui-toolbar">';if(e.issue.operations)for(var r=e.issue.operations.linkGroups,a=r.length,l=0;l<a;l++){var t=r[l];if(t.id&&"view.issue.opsbar"==t.id){o+='<div class="toolbar-split toolbar-split-left">';for(var p=t.groups,i=p.length,n=0;n<i;n++){var u=p[n];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:u,parentGroup:t})}o+="</div>"}else t.id&&"jira.issue.tools"==t.id&&(o+='<div class="toolbar-split toolbar-split-right">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.separatedLinks({group:t})+"</div>")}return o+="</div></div>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup=function(e,s){var o="";if(e.group.header&&(e.group.links.length>0||e.group.groups.length>0))o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownLink(e.group);else{o+="<ul "+(e.group.id?'id="opsbar-'+soy.$$escapeHtml(e.group.id)+'" ':"")+'class="toolbar-group pluggable-ops">';for(var r=e.group.links,a=r.length,l=0;l<a;l++){var t=r[l];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem({link:t})}if(1==e.group.groups.length&&0==e.group.groups[0].links.length&&1==e.group.groups[0].groups.length&&1==e.group.groups[0].groups[0].links.length)o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem({link:e.group.groups[0].groups[0].links[0]});else for(var p=e.group.groups,i=p.length,n=0;n<i;n++){var u=p[n];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:u})}o+="</ul>"}return o},JIRA.Components.IssueViewer.Templates.IssueOpsbar.separatedLinks=function(e,s){for(var o="",r=e.group.links,a=r.length,l=0;l<a;l++){var t=r[l];o+='<ul class="toolbar-group pluggable-ops">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem({link:t})+"</ul>"}for(var p=e.group.groups,i=p.length,n=0;n<i;n++){var u=p[n];o+=u.groups.length>0||u.links.length>0?'<ul class="toolbar-group pluggable-ops">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownLink(soy.$$augmentMap(u,{shouldHideLabel:!0}))+"</ul>":""}return o},JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownLink=function(e,s){var o='<li class="toolbar-item toolbar-analytics"><div><a href="#"'+(e.header.id?'id="'+soy.$$escapeHtml(e.header.id)+'"':"")+'aria-owns="'+(e.header.id?soy.$$escapeHtml(e.header.id)+"_drop":"")+'" aria-haspopup="true"'+JIRA.Components.IssueViewer.Templates.Header.titleAttr({title:e.header.title,label:e.header.label})+'class="toolbar-trigger aui-button aui-style-default'+(e.links.length>0||e.groups.length>0?" aui-dropdown2-trigger":"")+(e.header.styleClass?" "+soy.$$escapeHtml(e.header.styleClass):"")+'">'+(e.header.iconClass?'<span class="icon '+soy.$$escapeHtml(e.header.iconClass)+'"></span> ':"")+'<span class="dropdown-text">'+(!e.shouldHideLabel&&e.header.label?soy.$$truncate(soy.$$escapeHtml(e.header.label),25,!0):"")+"</span></a><div "+(e.header.id?'id="'+soy.$$escapeHtml(e.header.id)+'_drop"':"")+' class="aui-style-default aui-dropdown2">';if(e.links.length>0){o+="<ul>";for(var r=e.links,a=r.length,l=0;l<a;l++){var t=r[l];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownItem(t)}o+="</ul>"}for(var p=e.groups,i=p.length,n=0;n<i;n++){var u=p[n];if(u.links.length>0){o+='<div class="aui-dropdown2-section"><ul>';for(var d=u.links,I=d.length,m=0;m<I;m++){var g=d[m];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownItem(g)}o+="</ul></div>"}}return o+="</div></div></li>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownItem=function(e,s){return'<li class="aui-list-item"><a  href="'+(e.href?soy.$$escapeHtml(e.href):"#")+'"'+(e.styleClass?'class="'+soy.$$escapeHtml(e.styleClass)+'"':"")+JIRA.Components.IssueViewer.Templates.Header.titleAttr(e)+(e.id?'id="'+soy.$$escapeHtml(e.id)+'"':"")+'><span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(e.label),25,!0)+"</span></a></li>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem=function(e,s){return'<li class="toolbar-item toolbar-analytics"><a id="'+soy.$$escapeHtml(e.link.id)+'"'+JIRA.Components.IssueViewer.Templates.Header.titleAttr({title:e.link.title,label:e.link.label})+'class="toolbar-trigger'+(e.link.styleClass?" "+soy.$$escapeHtml(e.link.styleClass):"")+'" href="'+(e.link.href?soy.$$escapeHtml(e.link.href):"#")+'">'+(e.link.iconClass?'<span class="icon '+soy.$$escapeHtml(e.link.iconClass)+'"></span> <span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(e.link.label),25,!0)+"</span>":'<span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(e.link.label),25,!0)+"</span>")+"</a></li>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueActionsBar.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.IssueActionsBar&&(JIRA.Components.IssueViewer.Templates.IssueActionsBar={}),JIRA.Components.IssueViewer.Templates.IssueActionsBar.container=function(s,e){for(var t='<div class="actions-bar"><div class="ops-menus">'+(s.issue.transitions.length?JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusDropdown({workflowName:s.issue.workflowName,status:s.issue.status,transitions:s.issue.transitions}):""),n=s.issue.primaryActions,a=n.length,o=0;o<a;o++)for(var i=n[o],r=i.links,l=r.length,u=0;u<l;u++){var p=r[u];t+=JIRA.Components.IssueViewer.Templates.IssueActionsBar.topLevelLink({link:p})}return t+="</div></div>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusDropdown=function(s,e){for(var t='<button class="actions-bar-status-trigger aui-button aui-dropdown2-trigger aui-dropdown2-trigger-arrowless status-lozenge-'+soy.$$escapeHtml(s.status.statusColor)+'" aria-owns="actions-bar-status-dropdown">'+soy.$$escapeHtml(s.status.name)+'<span class="aui-icon aui-icon-small aui-iconfont-expanded"></span></button><div id="actions-bar-status-dropdown" class="aui-style-default aui-dropdown2"><div class="aui-dropdown2-section"><div class="actions-bar-status-list">',n=s.transitions,a=n.length,o=0;o<a;o++){var i=n[o];t+=JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusItem({transitionName:i.transitionName,statusName:i.destinationStatusName,statusColor:i.destinationStatusColor,link:i.url})}return t+='</div></div><div class="aui-dropdown2-section"><ul><li><a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/admin/workflows/ViewWorkflowSteps.jspa?workflowMode=live&workflowName="+soy.$$escapeHtml(s.workflowName)+'" class="issueaction-viewworkflow jira-workflow-designer-link new-workflow-designer">'+soy.$$escapeHtml("View workflow")+"</a></li></ul></div></div>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusItem=function(s,e){return'<a href="'+(s.link.href?soy.$$escapeHtml(s.link.href):"#")+'" class="actions-bar-status-item issueaction-workflow-transition"><span>'+soy.$$escapeHtml(s.transitionName)+'</span><span><span class="aui-icon aui-icon-small aui-iconfont-up"></span></span><span>'+JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusLozenge({name:s.statusName,color:null!=s.statusColor?s.statusColor:"medium-gray"})+"</span></a>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusLozenge=function(s,e){return'<span class="jira-issue-status-lozenge aui-lozenge status-lozenge-'+soy.$$escapeHtml(s.color)+'">'+soy.$$escapeHtml(s.name)+"</span>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.topLevelLink=function(s,e){return'<a id="'+soy.$$escapeHtml(s.link.id)+'"'+JIRA.Components.IssueViewer.Templates.Header.titleAttr({title:s.link.title,label:s.link.label})+'class="aui-button '+soy.$$escapeHtml(s.link.styleClass)+'" href="'+(s.link.href?soy.$$escapeHtml(s.link.href):"#")+'" ><span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(s.link.label),25,!0)+"</span></a>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/amd-wrapper.js' */
define("jira/components/issueviewer/templates",function(){"use strict";return JIRA.Components.IssueViewer.Templates}),AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueViewer",null,require("jira/components/issueviewer")),AJS.namespace("JIRA.Components.IssueViewer.AppModule",null,require("jira/components/issueviewer/appmodule")),AJS.namespace("JIRA.Components.IssueViewer.Utils",null,require("jira/components/issueviewer/utils")),AJS.namespace("JIRA.Components.IssueViewer.Controllers.Error",null,require("jira/components/issueviewer/controllers/error")),AJS.namespace("JIRA.Components.IssueViewer.Controllers.Issue",null,require("jira/components/issueviewer/controllers/issue")),AJS.namespace("JIRA.Components.IssueViewer.Models.Issue",null,require("jira/components/issueviewer/entities/issue")),AJS.namespace("JIRA.Components.IssueViewer.Models.Panel",null,require("jira/components/issueviewer/entities/panel")),AJS.namespace("JIRA.Components.IssueViewer.Collections.Panels",null,require("jira/components/issueviewer/entities/panels")),AJS.namespace("JIRA.Components.IssueViewer.Models.PanelsGroup",null,require("jira/components/issueviewer/entities/panelsgroup")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.AsyncData",null,require("jira/components/issueviewer/legacy/asyncdata")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueEventBus",null,require("jira/components/issueviewer/legacy/issueeventbus")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueFieldUtil",null,require("jira/components/issueviewer/legacy/issuefieldutil")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.ViewIssueData",null,require("jira/components/issueviewer/legacy/viewissuedata")),AJS.namespace("JIRA.Components.IssueViewer.Services.IssueLoader",null,require("jira/components/issueviewer/services/issueloader")),AJS.namespace("JIRA.Components.IssueViewer.Services.Metadata",null,require("jira/components/issueviewer/services/metadataservice")),AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorGeneric",null,require("jira/components/issueviewer/views/errorgeneric")),AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorNotFound",null,require("jira/components/issueviewer/views/errornotfound")),AJS.namespace("JIRA.Components.IssueViewer.Views.Error",null,require("jira/components/issueviewer/views/error")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssueBody",null,require("jira/components/issueviewer/views/issuebody")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssueHeader",null,require("jira/components/issueviewer/views/issueheader")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssueOpsbar",null,require("jira/components/issueviewer/views/issueopsbar")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanels",null,require("jira/components/issueviewer/views/issuepanels")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanel",null,require("jira/components/issueviewer/views/issuepanel")),AJS.namespace("JIRA.Components.IssueViewer.Views.Issue",null,require("jira/components/issueviewer/views/issue")),AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-attachment-plugin:integrate-attachment-upload', location = 'jira-attachment-module/jira-attachments.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=r(i),a=n(78),s=r(a),u=n(79),c=r(u),l=n(84),f=r(l),d=n(86),h=r(d),p=n(87),v=r(p),m=n(90),y=r(m),b=n(4),g=r(b),_=n(91),w=r(_),x=n(9),k=r(x);g.default.areAttachmentsEnabled()&&((0,w.default)(),k.default.install(),h.default.registerAttachmentMenuHandlerFactory(c.default),h.default.registerBrowseLinkHandlerFactory(c.default),h.default.registerAttachmentsZoneCreator(o.default),h.default.registerTemporaryAttachmentCreatorFactory(f.default),h.default.registerTemporaryAttachmentZoneCreator(s.default),h.default.registerTemporaryBinaryUploadHandler(v.default),h.default.registerConnectedTemporaryBinaryUploadHandler(y.default))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(16),a=r(o),s=n(10),u=r(s),c=n(20),l=r(c);t.default=function(e){var t="view-issue/drop-zone",n=(0,i.dropzone)(e).then(function(e){return e.on("drop",function(){a.default.triggerAttachRequested("viewIssueDropZone")}),e}),r=!1;return{activate:function(){return n.then(function(e){r||(r=!0,e.activate(),u.default.publish("upload/switch-context",{name:t}))})},deactivate:function(){return n.then(function(e){r&&(e.deactivate(),r=!1)})},drop:function(){return n.catch(function(e){a.default.triggerInitialisationException((0,l.default)(e)),u.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.connectedTemporaryBinary=t.binary=t.dropzone=t.popup=t.browser=t.temporaryAttachmentDropzone=t.temporaryAttachmentPopup=t.temporaryAttachmentBrowser=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=r(o),s=n(16),u=r(s),c=n(17),l=r(c),f=n(25),d=n(20),h=r(d),p=n(77),v=n(19),m=r(v),y="user_token_fetch_fail",b=3e4,g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.getApiUrl,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.authProvider,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default.getUploadParameters,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.connectToIssueChanges;return n().then(function(t){m.default.mark("attachments.media.components."+e+".credentials.received");var n=i({},{apiUrl:t},{authProvider:r});return n}).then(function(n){return(0,f.MediaPicker)(e,n,t)}).then(function(t){return m.default.mark("attachments.media.components."+e+".component.created"),t}).then(p.connect).then(s).then(function(e){return o().then(function(t){return e.setUploadParams(t)}),e})}},_=function(e){return new Promise(function(t,n){var r=l.default.schedule(function(){u.default.triggerInitializationTimeout(),n({message:"Initialisation Timeout",logged:!0})},b);e.on("ready",function(){m.default.mark("attachments.media.components.popup.ready"),l.default.cancel(r),u.default.triggerPopupInitialized(),u.default.triggerPopupMetrics(),t(e)}),e.on("upload-error",function(t){var i=t.error;i.logged=!0,i.name===y?(u.default.triggerUserNotLoggedIn(),m.default.mark("attachments.media.components.popup.user.not.logged"),l.default.cancel(r),e.teardown(),n(i)):u.default.triggerPopupError((0,h.default)(i))})})},w=g("browser",{multiple:!0}),x=function(e){return g("popup",{userAuthProvider:e})().then(_)},k=function(e){return g("dropzone",{headless:!0,container:e})()},A=(t.temporaryAttachmentBrowser=function(e){return function(){return w(a.default.getApiUrl,a.default.temporaryAuthProvider,a.default.getTemporaryAttachmentUploadParameters.bind(null,e),p.connectToProjectChanges)}},t.temporaryAttachmentPopup=function(e){return function(t){return g("popup",{userAuthProvider:t})(a.default.getApiUrl,a.default.temporaryAuthProvider,a.default.getTemporaryAttachmentUploadParameters.bind(null,e),p.connectToProjectChanges).then(_)}},t.temporaryAttachmentDropzone=function(e,t){return g("dropzone",{headless:!0,container:t})(a.default.getApiUrl,a.default.temporaryAuthProvider,a.default.getTemporaryAttachmentUploadParameters.bind(null,e),p.connectToProjectChanges)},function(e){return a.default.getApiUrl().then(function(t){var n=i({},{apiUrl:t},{authProvider:function(){return a.default.temporaryAuthProviderGetter(e)}});return n}).then(function(e){return(0,f.MediaPicker)("binary",e)}).then(function(t){return a.default.getTemporaryAttachmentUploadParameters(e).then(function(e){return t.setUploadParams(e),t})})}),S=function(e){return g("binary")(a.default.getApiUrl,a.default.temporaryAuthProvider,a.default.getTemporaryAttachmentUploadParameters.bind(null,e),p.connectToProjectChanges)};t.browser=w,t.popup=x,t.dropzone=k,t.binary=A,t.connectedTemporaryBinary=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4),s=r(a),u=n(8),c=r(u),l=n(9),f=r(l),d=n(11),h=r(d),p=n(16),v=r(p),m=n(20),y=r(m),b=n(23),g=r(b),_=n(7),w=r(_);n(24);var x=(0,c.default)(),k=function(e){return e.ok?e.json():e.text().then(function(t){t=t||"Unexpected error",t="Credentials request failure: "+t+" (http status code: "+e.status+")";var n=new Error(t);throw n.description=t,n})},A=function(e){return[x+"/rest/api/2/attachment/upload/issue/"+e+"/credentials",{credentials:"same-origin"}]},S=function(e){return[x+"/rest/api/2/attachment/upload/project/"+e+"/credentials",{credentials:"same-origin"}]},P=function(e,t){return[x+"/rest/api/2/attachment/upload/issue/"+e,{credentials:"same-origin",method:"POST",body:JSON.stringify({fileId:t}),headers:{"Content-Type":"application/json"}}]},O=function(e,t,n){return[x+"/rest/api/2/attachment/upload/project/"+e,{credentials:"same-origin",method:"POST",body:JSON.stringify({fileId:t,formToken:n}),headers:{"Content-Type":"application/json"}}]},I=function(){return new Request(x+"/rest/internal/latest/media/user/credentials",{credentials:"same-origin"})},E={fetchMetadata:!1,autoFinalize:!0},j=function(e){return Promise.resolve(e).then(F).then(k).then(function(e){var t=e.token,n=e.targetCollection,r=e.tokenDurationInMins;return o({},{token:t,targetCollection:n},isNaN(r)?{}:{tokenDurationInMins:r})})},T=function(e){return Promise.resolve(e).then(fetch).then(k).then(function(e){var t=e.id,n=e.token,r=e.tokenDurationInMins;return o({},{clientId:t,token:n},isNaN(r)?{}:{tokenDurationInMins:r})})},C=function(e){return 60*((e.tokenDurationInMins||10)-1)*1e3},M=(0,g.default)(function(e){return Promise.resolve(e).then(A).then(j)},C),U=(0,g.default)(function(e){return Promise.resolve(e).then(S).then(j)},C),L=(0,g.default)(function(e){return Promise.resolve(e).then(I).then(T)},C),F=function(e){var t=i(e,2),n=t[0],r=t[1];return fetch(n,r)},R=w.default.memoize(function(){return new Promise(function(e){e(s.default.getMediaCredentials())}).then(function(e){if(e&&e.apiClientId)return e.apiClientId;throw new Error("Media clientId is missing or have unexpected format")}).catch(function(e){return Promise.reject({name:"Could not retrieve clientId",description:(0,y.default)(e)})})}),N=function(e){return R().then(function(t){return U.get(e).then(function(e){return{clientId:t,token:e.token}})}).catch(function(e){v.default.triggerTokenFetchFailed((0,y.default)(e))})};t.default={getClientId:R,getApiUrl:w.default.memoize(function(){return new Promise(function(e){e(s.default.getMediaCredentials())}).then(function(e){if(e&&e.apiUrl)return e.apiUrl;throw new Error("Media apiUrl is missing or have unexpected format")}).catch(function(e){return Promise.reject({name:"Could not retrieve apiUrl",description:(0,y.default)(e)})})}),authProvider:function(){return R().then(function(e){return h.default.getIssueId().then(function(e){return M.get(e)}).then(function(t){return{clientId:e,token:t.token}})}).catch(function(e){v.default.triggerTokenFetchFailed((0,y.default)(e))})},userAuthProvider:function(){return Promise.resolve("userAuth").then(L.get).catch(function(e){v.default.triggerUserAuthFetchFailed((0,y.default)(e))})},temporaryAuthProvider:function(){return f.default.getProjectContext().then(function(e){return N(e)}).catch(function(e){v.default.triggerTokenFetchFailed((0,y.default)(e))})},temporaryAuthProviderGetter:N,getUploadParameters:function(){return h.default.getIssueId().then(function(e){return M.get(e)}).then(function(e){return o({},E,{collection:e.targetCollection})}).catch(function(e){return v.default.triggerUploadParametersFetchFailed((0,y.default)(e)),E})},createAttachment:function(e,t){return Promise.resolve(P(e,t)).then(F).then(k)},createTemporaryAttachment:function(e,t,n){return Promise.resolve(O(e,t,n)).then(F).then(k)},getTemporaryAttachmentUploadParameters:function(e){return Promise.resolve(e).then(U.get).then(function(e){return o({},E,{collection:e.targetCollection})}).catch(function(e){return v.default.triggerUploadParametersFetchFailed((0,y.default)(e)),E})},reset:function(){M.clear()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(6),s=r(a),u=n(7),c=r(u),l="com.atlassian.jira.jira-attachment-plugin:integrate-attachment-upload.integration-configuration",f=["\\","/",'"',":","?","*","<","|",">"],d=o.default.getWRM("upload-limit")||1/0,h=o.default.getWRM("thumbnail-mime-types"),p=c.default.memoize(function(){return s.default.claim(l)});t.default={getInvalidChars:function(){return f},getMaxFileSize:function(){return d},getThumbnailMimeType:function(){return h},getMediaCredentials:function(){var e=p(),t=e.apiUrl,n=e.apiClientId;return{apiUrl:t,apiClientId:n}},areAttachmentsEnabled:function(){return p().attachmentsEnabled===!0}}},function(e,t){e.exports=require("dndattachment/util/Configuration")},function(e,t){e.exports=require("wrm/data")},function(e,t){e.exports=require("underscore")},function(e,t){e.exports=require("wrm/context-path")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=r(i),a={uploadContext:null,projectId:null};t.default={getProjectContext:function(){return a.projectId?Promise.resolve(a.projectId):Promise.reject(new Error("Project id wasn't set"))},getUploadContextName:function(){return a.uploadContext&&a.uploadContext.name},getUploadContextSettings:function(){return a.uploadContext&&a.uploadContext.uploadSettings},install:function(){o.default.subscribe("upload/switch-context",function(e){a.uploadContext=e}),o.default.subscribe("project/changed",function(e){a.projectId=e})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Map;t.default={subscribe:function(e,t){n.has(e)||n.set(e,[]),n.get(e).push(t)},publish:function(e,t){n.has(e)&&n.get(e).forEach(function(e){e(t)})},unsubscribe:function(e){n.forEach(function(t){for(var n=0,r=t.length;n<r;n++)t[n]===e&&(t.splice(n,1),n--)})},reset:function(){n=new Map}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(12),s=r(a),u=n(13),c=r(u),l=n(14),f=r(l),d=n(15),h=r(d),p=2e3,v=function(){return new Promise(function(e,t){var n=s.default.getSelectedIssueId(),r=void 0;n?e(n):r=setInterval(function(){n=s.default.getSelectedIssueId(),n&&(clearInterval(r),e(n))},p)})},m=void 0;c.default.bind(f.default.ISSUE_REFRESHED,function(e,t){m=Promise.resolve(t),o.default.publish("issue/changed",t)}),t.default={getIssueId:function(){return m=m||v()},getIssueKey:function(){return s.default.getSelectedIssueKey()},getIssuePermlink:function(){return h.default.get("viewissue-permlink")}}},function(e,t){e.exports=require("jira/issues/api")},function(e,t){e.exports=require("jira/util/events")},function(e,t){e.exports=require("jira/components/issueviewer/eventtypes")},function(e,t){e.exports=require("jira/util/data/meta")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(17),a=r(o),s=n(19),u=r(s),c=n(20),l=r(c),f=n(21),d=r(f),h=n(22),p=r(h),v={stopInitialising:function(e){this.initialising=!1,this.popupInitialised=e},startRequest:function(e){this.requestStartedTime=a.default.current(),this.source=e},getData:function(e){var t=e.error,n=e.fileSize,r=e.uploadId;return{msSinceLastUserAction:a.default.since(this.requestStartedTime),initialising:this.initialising,popupInitialised:this.popupInitialised,source:this.source,error:(0,d.default)(t),fileSize:n,uploadId:r}},reset:function(){this.initialising=!0,this.popupInitialised=!1,this.requestStartedTime=Number.MAX_VALUE}};v.reset();var m=function(e,t){return AJS.trigger("analytics",{name:e,data:t})},y=function(e,t){return m(e,v.getData(t||{}))},b=function(e,t){return m(e,i({},{source:v.source},t))};t.default={triggerPopupInitialized:function(){v.stopInitialising(!0),y("issue.attachment.media-picker.popup-initialized")},triggerUserNotLoggedIn:function(){v.stopInitialising(!1),y("issue.attachment.media-picker.user-not-logged")},triggerPopupError:function(e){y("issue.attachment.media-picker.popup-error",{error:e})},triggerGenericPopupInitialisationError:function(e){y("issue.attachment.media-picker.generic-popup-initialisation-error",{error:e})},triggerAttachRequested:function(e){v.startRequest(e);var t="issue.attachment.media-picker.attach-requested";y(t),p.default.trigger("legacy-gas-v2-event",t)},triggerPopupShown:function(){y("issue.attachment.media-picker.popup-shown")},triggerPopupFailedToShow:function(e){y("issue.attachment.media-picker.popup-failed-to-show",{error:e})},triggerAttachFileBrowserShown:function(){y("issue.attachment.media-picker.browse-shown")},triggerAttachFileBrowserFailedToShow:function(e){y("issue.attachment.media-picker.browse-failed-to-show",{error:e})},triggerInitialisationException:function(e){e=(0,l.default)(e),v.stopInitialising(!1),y("issue.attachment.media-picker.initialisation-exception",{error:e})},triggerFileUploadFinished:function(e){y("issue.attachment.media-picker.file-upload-finished",{uploadId:e})},triggerAttachmentCreatedInJIRA:function(e){y("issue.attachment.media-picker.attachment-created-in-jira",{uploadId:e})},triggerCantCreateAttachmentInJIRA:function(e,t){y("issue.attachment.media-picker.cant-create-attachment-in-jira",{error:e,uploadId:t})},triggerUploadStarted:function(e,t){y("issue.attachment.media-picker.upload-started",{uploadId:e,fileSize:t})},triggerUploadError:function(e,t){y("issue.attachment.media-picker.upload-error",{error:e,uploadId:t})},triggerUploadCancelled:function(e){y("issue.attachment.media-picker.upload-cancelled",{uploadId:e})},triggerUploadValidationFailed:function(e,t){y("issue.attachment.media-picker.upload-validation-failed",{error:e,uploadId:t})},triggerInitializationTimeout:function(){y("issue.attachment.media-picker.initialization-timeout")},triggerTokenFetchFailed:function(e){y("issue.attachment.media-picker.error.token-fetch",{error:e})},triggerUserAuthFetchFailed:function(e){y("issue.attachment.media-picker.popup-error.user-auth-fetch",{error:e})},triggerUploadParametersFetchFailed:function(e){y("issue.attachment.media-picker.error.upload-params-fetch",{error:e})},triggerUploadRequestedWhenNotInitialised:function(){y("issue.attachment.media-picker.upload-request.not-initialised")},triggerBrowserRequestedWhenNotInitialised:function(){y("issue.attachment.media-picker.upload-request.browser.not-initialised")},triggerTemporaryAttachmentCreatedInJIRA:function(e){b("issue.attachment.media-picker.temporary.attachment-created-in-jira",{uploadId:e})},triggerCantCreateTemporaryAttachmentInJIRA:function(e,t){b("issue.attachment.media-picker.temporary.cant-create-attachment-in-jira",{error:e,uploadId:t})},triggerPopupMetrics:function(){var e=i({"dom.loaded":u.default.getDomContentLoadedTiming()},u.default.getMarksForNamespace("attachments.media.components.popup"));AJS.trigger("analytics",{name:"issue.attachment.media-picker.popup-metrics",data:e})},getRequestIdentifier:function(){return v.requestIdentifier},reset:function(){v.reset()}}},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={current:function(){return Math.round(e&&e.performance&&e.performance.now())},since:function(e){return Math.round(this.current()-e)},schedule:function(e,t){return setTimeout(e,t)},cancel:function(e){clearTimeout(e)}}}).call(t,n(18))},function(e,t,n){(function(t){"use strict";e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(t,n(18))},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mark:function(t){return e&&e.performance&&e.performance.mark(t)},getMarksForNamespace:function(t){var n={};if(e&&e.performance){e.performance.getEntriesByType("mark").filter(function(e){return 0===e.name.indexOf(t)}).forEach(function(e){var t=e.name,r=e.startTime;return n[t]=parseInt(r,10)})}return n},getDomContentLoadedTiming:function(){var t=e&&e.performance&&e.performance.timing;return t?parseInt(t.domContentLoadedEventStart-t.navigationStart,10):0}}}).call(t,n(18))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(e){return"undefined"!=typeof e},i=function(e){return r(e.config)&&r(e.config.headers)&&r(e.response)&&r(e.response.config)&&r(e.response.config.headers)};t.default=function(e){if(r(e.name)&&r(e.message))return e.toString();if(r(e.name)&&r(e.description))return e.name+": "+e.description;if(r(e.message))return e.message;if("string"==typeof e)return e;if(i(e)){var t=n({},e);return delete t.config.headers.Authorization,delete t.response.config.headers.Authorization,""+e}return""+e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&e.indexOf("Authorization")!==-1?"Error sanitized":e}},function(e,t){e.exports=require("jira/customevents/trigger-custom-event")},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1},n=new Map;return{get:function(i){if(!n.has(i)){var o=e(i).then(function(e){var o=t(e);return o&&setTimeout(function(){return r(n,i)},o),e}).catch(function(e){throw r(n,i),e});n.set(i,o)}return n.get(i)},clear:function(){n.clear()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=function(e,t){return e.has(t)&&e.delete(t)}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];m.redirect=function(e,t){if(x.indexOf(t)===-1)throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=h,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,r){var i=new h(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&y.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="lib/",t(t.s=149)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(159),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(61)("wks"),i=n(42),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(4),i=n(2),o=n(14),a=n(15),s=function(e,t,n){var u,c,l,f=e&s.F,d=e&s.G,h=e&s.S,p=e&s.P,v=e&s.B,m=e&s.W,y=d?i:i[t]||(i[t]={}),b=y.prototype,g=d?r:h?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&g&&void 0!==g[u])&&u in y||(l=c?g[u]:n[u],y[u]=d&&"function"!=typeof g[u]?n[u]:v&&c?o(l,r):m&&g[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):p&&"function"==typeof l?o(Function.call,l):l,p&&((y.virtual||(y.virtual={}))[u]=l,e&s.R&&b&&!b[u]&&a(b,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){"use strict";function r(e){return"[object Array]"===k.call(e)}function i(e){return"[object ArrayBuffer]"===k.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===k.call(e)}function d(e){return"[object File]"===k.call(e)}function h(e){return"[object Blob]"===k.call(e)}function p(e){return"[object Function]"===k.call(e)}function v(e){return l(e)&&p(e.pipe)}function m(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function b(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function g(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function _(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=_(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)g(arguments[n],e);return t}function w(e,t,n){return g(t,function(t,r){e[r]=n&&"function"==typeof t?x(t,n):t}),e}var x=n(117),k=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isFormData:o,isArrayBufferView:a,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:d,isBlob:h,isFunction:p,isStream:v,isURLSearchParams:m,isStandardBrowserEnv:b,forEach:g,merge:_,extend:w,trim:y}},function(e,t,n){(function(t,n){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   4.1.1
	 */
!function(t,r){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function o(e){V=e}function a(e){J=e}function s(){return void 0!==$?function(){$(c)}:u()}function u(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<q;e+=2)(0,X[e])(X[e+1]),X[e]=void 0,X[e+1]=void 0;q=0}function l(e,t){var n=arguments,r=this,i=new this.constructor(d);void 0===i[ee]&&T(i);var o=r._state;return o?function(){var e=n[o-1];J(function(){return I(o,i,e,r._result)})}():A(r,i,e,t),i}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return _(n,e),n}function d(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(e){return ie.error=e,ie}}function m(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function y(e,t,n){J(function(e){var r=!1,i=m(n,t,function(n){r||(r=!0,t!==n?_(e,n):x(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function b(e,t){t._state===ne?x(e,t._result):t._state===re?k(e,t._result):A(t,void 0,function(t){return _(e,t)},function(t){return k(e,t)})}function g(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===f?b(e,t):n===ie?(k(e,ie.error),ie.error=null):void 0===n?x(e,t):i(n)?y(e,t,n):x(e,t)}function _(t,n){t===n?k(t,h()):e(n)?g(t,n,v(n)):x(t,n)}function w(e){e._onerror&&e._onerror(e._result),S(e)}function x(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&J(S,e))}function k(e,t){e._state===te&&(e._state=re,e._result=t,J(w,e))}function A(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ne]=n,i[o+re]=r,0===o&&e._state&&J(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?I(n,r,i,o):i(o);e._subscribers.length=0}}function P(){this.error=null}function O(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function I(e,t,n,r){var o=i(n),a=void 0,s=void 0,u=void 0,c=void 0;if(o){if(a=O(n,r),a===oe?(c=!0,s=a.error,a.error=null):u=!0,t===a)return void k(t,p())}else a=r,u=!0;t._state!==te||(o&&u?_(t,a):c?k(t,s):e===ne?x(t,a):e===re&&k(t,a))}function E(e,t){try{t(function(t){_(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}function j(){return ae++}function T(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function C(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[ee]||T(this.promise),H(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):k(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function U(e){return new C(this,e).promise}function L(e){var t=this;return new t(H(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function F(e){var t=this,n=new t(d);return k(n,e),n}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[ee]=j(),this._result=this._state=void 0,this._subscribers=[],d!==e&&("function"!=typeof e&&R(),this instanceof z?E(this,e):N())}function D(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=z}var B=void 0;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=B,q=0,$=void 0,V=void 0,J=function(e,t){X[q]=e,X[q+1]=t,2===(q+=2)&&(V?V(c):Z())},W="undefined"!=typeof window?window:void 0,K=W||{},G=K.MutationObserver||K.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Z=void 0;Z=Y?function(){return function(){return t.nextTick(c)}}():G?function(){var e=0,t=new G(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():Q?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===W?function(){try{var e=r(209);return $=e.runOnLoop||e.runOnContext,s()}catch(e){return u()}}():u();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ie=new P,oe=new P,ae=0;return C.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},C.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===f){var i=v(e);if(i===l&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===z){var o=new n(d);g(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},C.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?k(r,n):this._result[t]=n),0===this._remaining&&x(r,this._result)},C.prototype._willSettleAt=function(e,t){var n=this;A(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},z.all=U,z.race=L,z.resolve=f,z.reject=F,z._setScheduler=o,z._setAsap=a,z._asap=J,z.prototype={constructor:z,then:l,catch:function(e){return this.then(null,e)}},z.polyfill=D,z.Promise=z,z}()}()}).call(t,n(78),n(52))},function(e,t,n){var r=n(140)("wks"),i=n(141),o=n(13).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(10),i=n(92),o=n(63),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(29);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(9),i=n(43);e.exports=n(12)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(156),__esModule:!0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(93),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(178),o=r(i),a=n(182),s=r(a),u=n(93),c=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(187),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(110),i=n(25);t.handleError=function(e,t){var n=Error().stack||"",o=t||"",a=e+": "+o+" \n "+n;(new r.UserTracker).track()(new i.ErrorException(e,n,t)),console.error(a)}},function(e,t){e.exports={}},function(e,t,n){var r=n(66),i=n(59);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=n(0),f=r(l),d=n(1),h=r(d);Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(t,n){(0,f.default)(this,e),this.prefix="files.mediapicker-web.",this.name=this.prefix+t,this.properties=n}return(0,h.default)(e,[{key:"toJSON",value:function(){return{name:this.name,properties:this.properties}}}]),e}();t.UserEvent=p;var v=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"library.loaded",{}))}return(0,c.default)(t,e),t}(p);t.MediaPickerLoaded=v;var m=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"browser.loaded",{}))}return(0,c.default)(t,e),t}(p);t.MPBrowserLoaded=m;var y=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"dropzone.loaded",{}))}return(0,c.default)(t,e),t}(p);t.MPDropzoneLoaded=y;var b=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"cliboard.loaded",{}))}return(0,c.default)(t,e),t}(p);t.MPClipboardLoaded=b;var g=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.loaded",{}))}return(0,c.default)(t,e),t}(p);t.MPPopupLoaded=g;var _=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.shown",{}))}return(0,c.default)(t,e),t}(p);t.MPPopupShown=_;var w=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.hidden",{}))}return(0,c.default)(t,e),t}(p);t.MPPopupHidden=w;var x=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.upload.ended",{}))}return(0,c.default)(t,e),t}(p);t.MPFileUploadEnded=x;var k=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.upload.started",{}))}return(0,c.default)(t,e),t}(p);t.MPFileUploadStarted=k;var A=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.processing.started",{}))}return(0,c.default)(t,e),t}(p);t.MPFileProcessingStarted=A;var S=function(e){function t(e,n,r){(0,f.default)(this,t);var i={alias:e,description:r,stacktrace:n};return(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"files.mediapicker-web.library.exception.fired",i))}return(0,c.default)(t,e),t}(p);t.ErrorException=S},function(e,t){e.exports=n(26)},function(e,t,n){var r=n(55),i=n(138);e.exports=n(37)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(56);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(164)(!0);n(65)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(9).f,i=n(17),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(169);for(var r=n(4),i=n(15),o=n(23),a=n(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){var r=n(14),i=n(189),o=n(190),a=n(10),s=n(67),u=n(102),c={},l={},t=e.exports=function(e,t,n,f,d){var h,p,v,m,y=d?function(){return e}:u(e),b=r(n,f,t?2:1),g=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(h=s(e.length);h>g;g++)if((m=t?b(a(p=e[g])[0],p[1]):b(e[g]))===c||m===l)return m}else for(v=y.call(e);!(p=v.next()).done;)if((m=i(v,b,p.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(80),o=n(122),a=n(112),s=function(e,t){return o.checkWebpSupport().then(function(t){return e.accept=t?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8",e})},u=function(t,n,i,o){var u=r.__assign({},n,{"Content-Type":"application/json"});return i||(a.isAsapBasedAuth(t)?u["X-Issuer"]=t.asapIssuer:a.isClientBasedAuth(t)&&(u["X-Client-Id"]=t.clientId),u.Authorization="Bearer "+t.token),"image"===o?s(u):e.resolve(u)},c=function(t,n,i,o){var s={};return i&&(s.token=t.token,a.isClientBasedAuth(t)?s.client=t.clientId:a.isAsapBasedAuth(t)&&(s.issuer=t.asapIssuer)),e.resolve(r.__assign({collection:o},n,s))},l=function(e){return e=e||"json",{image:"blob",json:"json"}[e]};t.default=function(t){var n=t.preventPreflight,r=t.collectionName,o=t.config,a=o.authProvider,s=o.serviceHost;return function(t){var o=t.url,f=t.headers,d=t.params,h=t.responseType,p=t.method,v=t.data,m=a({collectionName:r}),y=function(t){return e.all([u(t,f,n,h),c(t,d,n,r)])},b=function(e){var t=e[0],n=e[1];return i.default({method:p||"get",url:o,baseURL:s,headers:t,params:n,data:v,responseType:l(h)})};return m.then(y).then(b).then(function(e){return e.data})}}}).call(t,n(7))},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(137)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports={}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],t));d[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function i(e,t){var n=v(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var n,r,i;if(t.singleton){var u=y++;n=m||(m=a(t)),r=c.bind(null,n,u,!1),i=c.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=f.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=l.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function l(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},p=h(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,b=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=p()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],u=d[s.id];u.refs--,o.push(u)}e&&n(r(e),t);for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(59);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!0},function(e,t,n){var r=n(10),i=n(166),o=n(68),a=n(60)("IE_PROTO"),s=function(){},u=function(){var e,t=n(62)("iframe"),r=o.length;for(t.style.display="none",n(96).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(95),i=n(68);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),h=r(d);Object.defineProperty(t,"__esModule",{value:!0});var p=n(185),v=n(132),m=n(271),y=function(e){function t(e,n){var r=n.apiUrl,i=n.authProvider,a=n.uploadParams;(0,s.default)(this,t);var u=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return u.onFilesAdded=function(e){var t=e.files;u.emitUploadsStart(t)},u.onFileAdded=function(e){var t=e.file;u.emitUploadStart(t),t.raw&&t.type.match(/^image\//)&&m.default(t.raw).then(function(e){u.emitUploadPreviewUpdate(t,e)})},u.onFileUploading=function(e){var t=e.file,n=e.progress;u.emitUploadProgress(t,n)},u.onFileFinalizeReady=function(e){var t=e.file,n=e.finalize;u.emitUploadFinalizeReady(t,n)},u.onFileConverting=function(e){var t=e.file;u.emitUploadProcessing(t)},u.onFileConverted=function(e){var t=e.file,n=e.progress,r=e.metadata;u.emitUploadProgress(t,n),u.emitUploadEnd(t,r)},u.onUploadError=function(e){var t=e.file,n=e.error;u.emitUploadError(t,n)},u.uploadService=new p.UploadService(r,i,a||{}),u.uploadService.on("files-added",u.onFilesAdded),u.uploadService.on("file-added",u.onFileAdded),u.uploadService.on("file-uploading",u.onFileUploading),u.uploadService.on("file-finalize-ready",u.onFileFinalizeReady),u.uploadService.on("file-converting",u.onFileConverting),u.uploadService.on("file-converted",u.onFileConverted),u.uploadService.on("file-upload-error",u.onUploadError),u}return(0,h.default)(t,e),(0,c.default)(t,[{key:"cancel",value:function(e){this.uploadService.cancel(e)}},{key:"setUploadParams",value:function(e){this.uploadService.setUploadParams(e)}}]),t}(v.MPComponent);t.MediaLocalUpload=y},function(e,t,n){var r=n(31),i=n(3)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){e.exports={default:n(203),__esModule:!0}},function(e,t,n){var r=n(207),i=n(208),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";(function(t){e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(t,n(52))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})}function c(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function l(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function p(e){return this instanceof p?(this.v=e,this):new p(e)}function v(t,n,r){function i(t){f[t]&&(l[t]=function(n){return new e(function(e,r){d.push([t,n,e,r])>1||o(t,n)})})}function o(e,t){try{a(f[e](t))}catch(e){c(d[0][3],e)}}function a(t){t.value instanceof p?e.resolve(t.value.v).then(s,u):c(d[0][2],t)}function s(e){o("next",e)}function u(e){o("throw",e)}function c(e,t){e(t),d.shift(),d.length&&o(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,f=r.apply(t,n||[]),d=[];return l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l}function m(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:p(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof f?f(e):e[Symbol.iterator]()}t.__extends=r,n.d(t,"__assign",function(){return g}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=c,t.__exportStar=l,t.__values=f,t.__read=d,t.__spread=h,t.__await=p,t.__asyncGenerator=v,t.__asyncDelegator=m,t.__asyncValues=y;/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}}.call(t,n(7))},function(e,t,n){var r=n(86);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(28),i=n(276),o=n(277),a=Object.defineProperty;t.f=n(37)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(61)("keys"),i=n(42);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(4),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(11),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(44),i=n(5),o=n(94),a=n(15),s=n(17),u=n(23),c=n(165),l=n(32),f=n(91),d=n(3)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,m,y,b){c(n,t,v);var g,_,w,x=function(e){if(!h&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",A="values"==m,S=!1,P=e.prototype,O=P[d]||P["@@iterator"]||m&&P[m],I=O||x(m),E=m?A?x("entries"):I:void 0,j="Array"==t?P.entries||O:O;if(j&&(w=f(j.call(new e)))!==Object.prototype&&w.next&&(l(w,k,!0),r||s(w,d)||a(w,d,p)),A&&O&&"values"!==O.name&&(S=!0,I=function(){return O.call(this)}),r&&!b||!h&&!S&&P[d]||a(P,d,I),u[t]=I,u[k]=p,m)if(g={values:A?I:x("values"),keys:y?I:x("keys"),entries:E},b)for(_ in g)_ in P||o(P,_,g[_]);else i(i.P+i.F*(h||S),t,g);return g}},function(e,t,n){var r=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(64),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.f=n(3)},function(e,t,n){var r=n(42)("meta"),i=n(11),o=n(17),a=n(9).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(18)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&p.NEED&&u(e)&&!o(e,r)&&l(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(e,t,n){var r=n(4),i=n(2),o=n(44),a=n(69),s=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(29);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(15);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){(function(r,i){var o;!function(a){function s(){this._events={},this._conf&&u.call(this,this._conf)}function u(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==a?e.maxListeners:p,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=p}function c(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.emitWarning(i)}else console.error(n),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,u.call(this,e)}function f(e,t,n,r){if(!n)return[];var i,o,a,s,u,c,l,d=[],h=t.length,p=t[r],v=t[r+1];if(r===h&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(d=d.concat(f(e,t,n[a],r+1)));return d}if("**"===p){(l=r+1===h||r+2===h&&"*"===v)&&n._listeners&&(d=d.concat(f(e,t,n,h)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!l&&(d=d.concat(f(e,t,n[a],h))),d=d.concat(f(e,t,n[a],r))):d=a===v?d.concat(f(e,t,n[a],r+2)):d.concat(f(e,t,n[a],r)));return d}d=d.concat(f(e,t,n[p],r+1))}if(s=n["*"],s&&f(e,t,s,r+1),u=n["**"])if(r<h){u._listeners&&f(e,t,u,h);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===v?f(e,t,u[a],r+2):a===p?f(e,t,u[a],r+1):(c={},c[a]=u[a],f(e,t,{"**":c},r+1)))}else u._listeners?f(e,t,u,h):u["*"]&&u["*"]._listeners&&f(e,t,u["*"],h);return d}function d(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,o=e.shift();o!==a;){if(i[o]||(i[o]={}),i=i[o],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,c.call(this,i._listeners.length,o))):i._listeners=t,!0;o=e.shift()}return!0}var h=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=10;l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){e!==a&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},l.prototype._many=function(e,t,n,r){function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return i._origin=n,this._on(e,i,r),o},l.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,o,u,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return i.resolve([!1]);var t,n,r,o,a,u=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),o=1;o<c;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,c){case 1:u.push(this._all[r].call(this,e));break;case 2:u.push(this._all[r].call(this,e,arguments[1]));break;case 3:u.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:u.push(this._all[r].apply(this,t))}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,a,l,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,c){case 1:u.push(a.call(this));break;case 2:u.push(a.call(this,arguments[1]));break;case 3:u.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];u.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),c>3)for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];for(r=0,n=a.length;r<n;r++)switch(this.event=e,c){case 1:u.push(a[r].call(this));break;case 2:u.push(a[r].call(this,arguments[1]));break;case 3:u.push(a[r].call(this,arguments[1],arguments[2]));break;default:u.push(a[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?i.reject(arguments[1]):i.reject("Uncaught, unspecified 'error' event.");return i.all(u)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(e,t){function n(e){if(e!==a){var t=Object.keys(e);for(var r in t){var i=t[r],o=e[i];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&n(e[i]),0===Object.keys(o).length&&delete e[i])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();i=f.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;s<i.length;s++){var u=i[s];if(r=u._listeners,h(r)){for(var c=-1,l=0,d=r.length;l<d;l++)if(r[l]===t||r[l].listener&&r[l].listener===t||r[l]._origin&&r[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?u._listeners.splice(c,1):this._events[e].splice(c,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete u._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},l.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=f.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return f.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),h(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},(o=function(){return l}.call(t,n,t,e))!==a&&(e.exports=o)}()}).call(t,n(78),n(7))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):m=-1,p.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=p.length;t;){for(h=p,p=[];++m<t;)h&&h[m].run();m=-1,t=p.length}h=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],v=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){e.exports=n(40)},function(e,t,n){e.exports=n(220)},function(e,t,n){"use strict";(function(t){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(6),o=n(222),a=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(118):void 0!==t&&(e=n(118)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(a,"");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){u.headers[e]={}}),i.forEach(["post","put","patch"],function(e){u.headers[e]=i.merge(s)}),e.exports=u}).call(t,n(78))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.referenceCountById={},this.referencesById={}}return e.prototype.acquire=function(e,t){return this.referenceCountById[e]||(this.referencesById[e]=t(),this.referenceCountById[e]=0),this.referenceCountById[e]=this.referenceCountById[e]+1,this.referencesById[e]},e.prototype.release=function(e){this.referenceCountById[e]>0&&(this.referenceCountById[e]=this.referenceCountById[e]-1),this.referenceCountById[e]||delete this.referencesById[e]},e}();t.Pool=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(21),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(50),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(80),h=n(111);t.isTokenError=function(e){if(e&&e.error){var t=e.error.code;return"JwtAuthoriser:TokenExpiredError"===t||"JwtAuthoriser:AuthenticationError"===t}return!1},t.addAuthToHeaders=function(e,t){var n=e.headers||{};return(0,f.default)({},e,{headers:(0,f.default)({},n,h.mapAuthToAuthHeaders(t))})},t.addAuthToQueryParameters=function(e,t){return(0,f.default)({},e,{parameters:(0,f.default)({},e.parameters,h.mapAuthToQueryParameters(t))})};var p=function(){function e(t,n,r){(0,s.default)(this,e),this.apiUrl=t,this.authProvider=n,this.collection=r}return(0,c.default)(e,[{key:"refreshAuth",value:function(){var e=this;return this.authProvider({collectionName:this.collection}).then(function(t){return e.auth=t,t})}},{key:"call",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.addAuthToHeaders;return this.makeCall(e,r).catch(function(i){if(!(i&&i.response&&t.isTokenError(i.response.data)))throw i;return n.makeCall(e,r,!0)})}},{key:"makeCall",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getAuth(r).then(function(r){return n.makeCallWithToken(e,t,r)})}},{key:"getAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.auth&&!e?o.default.resolve(this.auth):this.refreshAuth()}},{key:"makeCallWithToken",value:function(e,t,n){var r=t(e,n),i=this.getAxiosRequestConfig(r);return d.default.request(i).then(function(e){return e.data})}},{key:"getAxiosRequestConfig",value:function(e){var t=e.httpMethod,n=e.mediaApiMethod,r=e.parameters,i=e.headers,o=e.data;return{url:this.apiUrl+"/"+n,method:t,headers:(0,f.default)({},i,o?{"Content-Type":"application/json; charset=utf-8"}:{}),params:r,data:o}}},{key:"storedAuth",get:function(){return this.auth}}]),e}();t.MediaClient=p},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(56),i=n(13).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(284),i=n(85);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(140)("keys"),i=n(141);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(55).f,i=n(57),o=n(8)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(17),i=n(41),o=n(60)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){e.exports=!n(12)&&!n(18)(function(){return 7!=Object.defineProperty(n(62)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(162),o=r(i),a=n(171),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){e.exports=n(15)},function(e,t,n){var r=n(17),i=n(24),o=n(167)(!1),a=n(60)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(31);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(95),i=n(68).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(47),i=n(43),o=n(24),a=n(63),s=n(17),u=n(92),c=Object.getOwnPropertyDescriptor;t.f=n(12)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(186),__esModule:!0}},function(e,t,n){var r=n(49),i=n(3)("iterator"),o=n(23);e.exports=n(2).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(10),i=n(29),o=n(3)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(14),s=n(191),u=n(96),c=n(62),l=n(4),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,m=0,y={},b=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},g=function(e){b.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},h=function(e){delete y[e]},"process"==n(31)(f)?r=function(e){f.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(10),i=n(11),o=n(75);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(9),a=n(12),s=n(3)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(52))},function(e,t){function n(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(50),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(210),f=function(){function e(){(0,s.default)(this,e),this.defaults={storage_key:"media-picker.herment.storage",product:"media-picker",subproduct:"library",version:"1.0"},this.queue=[],this.queueProcessor=l.default((0,o.default)({},this.defaults,{queue:this.queue})),this.queueProcessor&&this.queueProcessor.start(),this.defaultProperties={}}return(0,c.default)(e,[{key:"track",value:function(){var e=this;return function(t){var n=t.toJSON();n.properties=(0,o.default)({},e.defaultProperties,n.properties),e.queue.push(n)}}}]),e}();t.UserTracker=f},function(e,t,n){"use strict";function r(e){return o.isClientBasedAuth(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}function i(e){return o.isClientBasedAuth(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(212);t.mapAuthToAuthHeaders=r,t.mapAuthToQueryParameters=i},function(e,t,n){"use strict";function r(e){return!!e.clientId}function i(e){return!!e.asapIssuer}Object.defineProperty(t,"__esModule",{value:!0}),t.isClientBasedAuth=r,t.isAsapBasedAuth=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(114);t.RemoteMediaCollectionProvider=r.RemoteMediaCollectionProvider;var i=n(116);t.FileProvider=i.FileProvider;var o=n(123);t.LinkProvider=o.LinkProvider;var a=n(239);t.MediaItemProvider=a.MediaItemProvider;var s=n(240);t.MediaUrlPreviewProvider=s.MediaUrlPreviewProvider;var u=n(126);t.UrlPreviewProvider=u.UrlPreviewProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(115);n(79);var i=function(){function e(e,t,n,i){this.collectionService=e,this.collectionName=t,this.pageSize=n,this.sortDirection=i,this.subject=new r.Subject,this.connectableObservable=this.subject.publishReplay(1),this.items=[],this.nextInclusiveStartKey=void 0,this.isLoading=!1,this.connectableObservable.connect(),this.loadNextPage()}return e.prototype.observable=function(){return this.connectableObservable},e.prototype.loadNextPageUntil=function(e){var t=this;if(!this.items.some(e))var n=this.connectableObservable.subscribe({next:function(r){!t.nextInclusiveStartKey||r.items.some(e)?n.unsubscribe():t.loadNextPage()},complete:function(){return n.unsubscribe()},error:function(e){return n.unsubscribe()}})},e.prototype.loadNextPage=function(){var e=this;this.isLoading||(this.isLoading=!0,this.collectionService.getCollectionItems(this.collectionName,this.pageSize,this.nextInclusiveStartKey,this.sortDirection,"full").then(function(t){e.isLoading=!1,(r=e.items).push.apply(r,t.items);var n={id:e.collectionName,items:e.items};e.nextInclusiveStartKey=t.nextInclusiveStartKey,e.subject.next(n);var r},function(t){e.isLoading=!1,e.subject.error(t)}))},e.prototype.refresh=function(){var e=this;if(!this.isLoading){this.isLoading=!0;var t,n=this.items[0]&&this.items[0].details,r=n&&n.id,i=n&&n.occurrenceKey,o=[],a=function(){e.collectionService.getCollectionItems(e.collectionName,e.pageSize,t,e.sortDirection,"full").then(function(n){for(var s=!1,u=0,c=n.items;u<c.length;u++){var l=c[u],f=l.details,d=f.id,h=f.occurrenceKey;if(d===r&&h===i){s=!0;break}o.push(l)}s?(e.isLoading=!1,e.items=o.concat(e.items),e.subject.next({id:e.collectionName,items:e.items})):n.nextInclusiveStartKey&&(t=n.nextInclusiveStartKey,a())},function(t){e.isLoading=!1,e.subject.error(t)})};a()}},e}();t.RemoteMediaCollectionProvider=i},function(e,t){e.exports=n(43)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(219),i=n(26);n(79),t.FILE_PROVIDER_RETRY_INTERVAL=2e3;var o=function(){function e(){}return e.fromMediaApi=function(t,n,i,o,a){return e.fromFileService(new r.MediaFileService(t,n),i,o,a)},e.fromFileService=function(e,t,n,r){return{observable:function(){var o=new i.Observable(function(i){var o,a=r||1e3,s=function(){e.getFileItem(t,n).then(function(e){"pending"!==e.details.processingStatus?(i.next(e),i.complete()):(i.next(e),o=setTimeout(function(){return s()},a))},function(e){i.error(e)})};return s(),function(){null!==o&&clearTimeout(o)}}).publishReplay(1);return o.connect(),o}}},e}();t.FileProvider=o},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";(function(t){var r=n(6),i=n(223),o=n(225),a=n(226),s=n(227),u=n(119),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(228);e.exports=function(e){return new t(function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||s(e.url)||(h=new window.XDomainRequest,p="onload",v=!0,h.onprogress=function(){},h.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+c(m+":"+y)}if(h.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h[p]=function(){if(h&&(4===h.readyState||v)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?h.response:h.responseText,o={data:r,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:e,request:h};i(t,l,o),h=null}},h.onerror=function(){l(u("Network Error",e)),h=null},h.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),h=null},r.isStandardBrowserEnv()){var b=n(229),g=(e.withCredentials||s(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)}),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(e){if("json"!==h.responseType)throw e}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){h&&(h.abort(),l(e),h=null)}),void 0===f&&(f=null),h.send(f)})}}).call(t,n(7))},function(e,t,n){"use strict";var r=n(224);e.exports=function(e,t,n,i){var o=new Error(e);return r(o,t,n,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(237)),r(n(238))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(124),i=n(26);n(79);var o=function(){function e(){}return e.fromMediaApi=function(t,n,i){return e.fromLinkService(new r.MediaLinkService(t),n,i)},e.fromLinkService=function(e,t,n){return{observable:function(){
var r=new i.Observable(function(r){return e.getLinkItem(t,n).then(function(e){r.next(e),r.complete()},function(e){r.error(e)}),function(){}}).publishReplay(1);return r.connect(),r}}},e}();t.LinkProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function e(e){this.config=e}return e.prototype.getLinkItem=function(e,t){return r.default({config:this.config,collectionName:t,preventPreflight:!0})({url:"/link/"+e}).then(function(e){return e.data}).then(function(e){return{type:"link",details:{id:e.id,url:e.url,type:e.metadata.type,title:e.metadata.title,description:e.metadata.description,site:e.metadata.site,author:e.metadata.author,date:e.metadata.date,resources:e.metadata.resources}}})},e.prototype.addLinkItem=function(e,t,n){return r.default({config:this.config,collectionName:t})({method:"post",url:"/link",data:{url:e,metadata:n}}).then(function(e){return e.data.id})},e}();t.MediaLinkService=i},function(e,t,n){"use strict";function r(e,t,n){return new i.Observable(function(r){var i=e.acquire(t,n),o=i.subscribe(r);return function(){o.unsubscribe(),e.release(t)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(26);t.observableFromObservablePool=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(241),i=n(26),o=function(){function e(){}return e.fromMediaApi=function(t,n){return e.fromUrlPreviewService(new r.MediaUrlPreviewService(t),n)},e.fromUrlPreviewService=function(e,t){return{observable:function(){return new i.Observable(function(n){return e.getUrlPreview(t).then(function(e){n.next(e),n.complete()},function(e){n.error(e)}),function(){}})}}},e}();t.UrlPreviewProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(35);t.DEFAULT_COLLECTION_PAGE_SIZE=10;var o=function(){function e(e){this.config=e}return e.prototype.mapToMediaCollectionItem=function(e){var t=e.id,n=e.type,i=e.occurrenceKey,o=e.details;if("file"===n){var a=o;return{type:"file",details:r.__assign({id:t,occurrenceKey:i},a)}}var s=o;return{type:"link",details:r.__assign({id:t,type:"link",occurrenceKey:i,title:s.title||""},s)}},e.prototype.getCollectionItems=function(e,n,r,o,a){var s=this;return void 0===n&&(n=t.DEFAULT_COLLECTION_PAGE_SIZE),i.default({config:this.config,preventPreflight:!0,collectionName:e})({url:"/collection/"+e+"/items",params:{limit:n,inclusiveStartKey:r,sortDirection:o,details:a}}).then(function(e){return{items:e.data.contents.map(s.mapToMediaCollectionItem),nextInclusiveStartKey:e.data.nextInclusiveStartKey}})},e}();t.MediaCollectionService=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_NAMES={OBJ_CREATE_FAIL:"object_create_fail",METADATA_FETCH_FAIL:"metadata_fetch_fail",TOKEN_FETCH_FAIL:"token_fetch_fail",TOKEN_UPDATE_FAIL:"token_update_fail",TOKEN_SOURCE_EMPTY:"token_source_empty",UPLOAD_FAIL:"upload_fail",USER_TOKEN_FETCH_FAIL:"user_token_fetch_fail"};var u=function(){function e(t,n,r){(0,o.default)(this,e),this.fileId=t,this.name=n,this.description=r}return(0,s.default)(e,[{key:"toJSON",value:function(){return{fileId:this.fileId,name:this.name,description:this.description}}}]),e}();t.MediaError=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(246),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(22),f=function(){function e(t,n,r,i,o,a,u){(0,s.default)(this,e),e.isValidFileId(t)||l.handleError("wrong_file_id","Passed fileId is incorrect."),e.isValidName(n)||l.handleError("wrong_file_name","Passed file name is incorrect."),e.isValidSize(r)||l.handleError("wrong_file_size","Passed file size is incorrect."),e.isValidCreationDate(i)||l.handleError("wrong_file_date","Passed file creation date is incorrect."),e.isValidType(o)||l.handleError("wrong_file_type","Passed file type is incorrect."),this.id=t,this.name=n,this.size=r,this.creationDate=i,this.type=o,this.publicId=a,this.resumableFile=u}return(0,c.default)(e,[{key:"toJSON",value:function(){return{id:this.id,name:this.name,size:this.size,creationDate:this.creationDate,type:this.type,publicId:this.publicId,chunks:this.chunks,toPureJSON:this.toPureJSON.bind(this)}}},{key:"toPureJSON",value:function(){return{id:this.id,name:this.name,size:this.size,creationDate:this.creationDate,type:this.type,publicId:this.publicId}}},{key:"_isImage",value:function(){return new o.default(["image/png","image/jpeg","image/jpg","image/gif"]).has(this.type)}},{key:"chunks",get:function(){return this.resumableFile?this.resumableFile.chunks:void 0}},{key:"raw",get:function(){return this.resumableFile?this.resumableFile.file:void 0}},{key:"preview",get:function(){return this._isImage()?this.raw:void 0}}],[{key:"isValidFileId",value:function(e){return"string"==typeof e&&e.length>0}},{key:"isValidName",value:function(e){return"string"==typeof e}},{key:"isValidType",value:function(e){return"string"==typeof e}},{key:"isValidSize",value:function(e){return"number"==typeof e&&e>=0}},{key:"isValidCreationDate",value:function(e){return"number"==typeof e&&e>0}}]),e}();t.MediaFile=f},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUploadParams={collection:void 0,fetchMetadata:!0,autoFinalize:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(270),c=n(77),l=n(22),f=n(25),d=function(){function e(t){(0,o.default)(this,e),this.context=t,this.emitter=new c.EventEmitter2({wildcard:!0})}return(0,s.default)(e,[{key:"once",value:function(e,t){this.emitter.once(e,t)}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"onAny",value:function(e){this.emitter.onAny(e)}},{key:"addListener",value:function(e,t){this.emitter.addListener(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"removeListener",value:function(e,t){this.emitter.removeListener(e,t)}},{key:"removeAllListeners",value:function(e){this.emitter.removeAllListeners(e)}},{key:"emit",value:function(e,t){return this.emitter.emit(e,t)}},{key:"emitUploadsStart",value:function(e){this.emit("uploads-start",{files:e.map(function(e){return e.toJSON()})})}},{key:"emitUploadStart",value:function(e){this.emit("upload-start",{file:e.toJSON()}),this.context.trackEvent(new f.MPFileUploadStarted)}},{key:"emitUploadProgress",value:function(e,t){this.emit("upload-status-update",{file:e.toJSON(),progress:t})}},{key:"emitUploadFinalizeReady",value:function(e,t){this.emit("upload-finalize-ready",{file:e.toJSON(),finalize:t})}},{key:"emitUploadPreviewUpdate",value:function(e,t){this.emit("upload-preview-update",{file:e.toJSON(),preview:t})}},{key:"emitUploadProcessing",value:function(e){this.emit("upload-processing",{file:e.toJSON()}),this.context.trackEvent(new f.MPFileProcessingStarted)}},{key:"emitUploadEnd",value:function(e,t){this.emit("upload-end",{file:e.toJSON(),public:t}),this.context.trackEvent(new f.MPFileUploadEnded)}},{key:"emitUploadError",value:function(e,t){this.emit("upload-error",{file:e.toJSON(),error:t.toJSON()})}},{key:"getStaticAssetUrl",value:function(e){return void 0===u.html[e]&&l.handleError("wrong_static_asset","The passet static asset does not exist"),!0===u.usingVersions?u.baseUrl+"/"+u.version+"/"+u.html[e]:u.baseUrl+"/"+u.html[e]}}]),e}();t.MPComponent=d},function(e,t,n){e.exports={default:n(272),__esModule:!0}},function(e,t,n){"use strict";var r=n(135),i=n(136),o=n(278),a=n(27),s=n(57),u=n(38),c=n(279),l=n(90),f=n(287),d=n(8)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,m,y,b){c(n,t,v);var g,_,w,x=function(e){if(!h&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",A="values"==m,S=!1,P=e.prototype,O=P[d]||P["@@iterator"]||m&&P[m],I=O||x(m),E=m?A?x("entries"):I:void 0,j="Array"==t?P.entries||O:O;if(j&&(w=f(j.call(new e)))!==Object.prototype&&(l(w,k,!0),r||s(w,d)||a(w,d,p)),A&&O&&"values"!==O.name&&(S=!0,I=function(){return O.call(this)}),r&&!b||!h&&!S&&P[d]||a(P,d,I),u[t]=I,u[k]=p,m)if(g={values:A?I:x("values"),keys:y?I:x("keys"),entries:E},b)for(_ in g)_ in P||o(P,_,g[_]);else i(i.P+i.F*(h||S),t,g);return g}},function(e,t){e.exports=!0},function(e,t,n){var r=n(13),i=n(36),o=n(54),a=n(27),s=function(e,t,n){var u,c,l,f=e&s.F,d=e&s.G,h=e&s.S,p=e&s.P,v=e&s.B,m=e&s.W,y=d?i:i[t]||(i[t]={}),b=y.prototype,g=d?r:h?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&g&&void 0!==g[u])&&u in y||(l=c?g[u]:n[u],y[u]=d&&"function"!=typeof g[u]?n[u]:v&&c?o(l,r):m&&g[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):p&&"function"==typeof l?o(Function.call,l):l,p&&((y.virtual||(y.virtual={}))[u]=l,e&s.R&&b&&!b[u]&&a(b,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(84),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(13),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){e.exports=n(13).document&&document.documentElement},function(e,t,n){var r=n(58),i=n(8)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r,i,o,a=n(54),s=n(300),u=n(143),c=n(87),l=n(13),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},h=function(e){delete m[e]},"process"==n(58)(f)?r=function(e){f.nextTick(a(y,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){var r=n(307);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){/*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
!function(t,n){e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}}()}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHTML=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]}},function(e,t,n){e.exports=n(150)},function(e,t,n){"use strict";function r(e,t,n){if(!t)return{binary:i.BinaryUploader,browser:o.Browser,clipboard:a.Clipboard,dropzone:s.Dropzone,popup:u.Popup}[e];var r={trackEvent:f};switch(e){case"binary":return new i.BinaryUploader(r,t);case"browser":return new o.Browser(r,t,n);case"clipboard":return new a.Clipboard(r,t);case"dropzone":return new s.Dropzone(r,t,n);case"popup":return new u.Popup(r,t,n);default:var c="The component "+e+" does not exist";throw l.handleError("wrong_component",c),new Error(c)}}Object.defineProperty(t,"__esModule",{value:!0}),n(151),n(153);var i=n(155);t.BinaryUploader=i.BinaryUploader;var o=n(306);t.Browser=o.Browser;var a=n(308);t.Clipboard=a.Clipboard;var s=n(309);t.Dropzone=s.Dropzone;var u=n(313);t.Popup=u.Popup;var c=n(110),l=n(22),f=(new c.UserTracker).track();t.MediaPicker=r},function(e,t,n){var r=n(152);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,'.mpAUI{color:#333;font-family:Arial,sans-serif;font-size:14px;line-height:1.42857143}.mpAUI h2{color:#333;font-size:24px;font-weight:400;line-height:1.25;text-transform:none;margin:30px 0 0}.mpAUI .aui-dialog2-header-close img{width:16px!important;height:16px!important;position:relative;top:2px;opacity:.5}.mpAUI .aui-dialog2-header-close:hover img{opacity:1}.mpAUI .aui-dialog2{box-sizing:border-box;position:relative;left:0;right:0;visibility:hidden}.mpAUI .aui-dialog2-xlarge{width:980px;min-height:431px}.mpAUI .aui-dialog2-small .aui-dialog2-content{min-height:80px}.mpAUI .aui-dialog2-medium .aui-dialog2-content{min-height:180px}.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:380px}@media (max-height:700px){.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:180px}.mpAUI .aui-dialog2-large,.mpAUI .aui-dialog2-xlarge{min-height:131px;height:-120%}}@media (max-height:500px){.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-medium .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:80px}.mpAUI .aui-dialog2-medium{min-height:131px;height:-120%}}@media (max-width:1000px){.mpAUI .aui-dialog2-xlarge{width:100%;height:-20%}.mpAUI .aui-dialog2-xlarge.aui-layer{top:69px}.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{height:100%}}@media (max-width:820px){.mpAUI .aui-dialog2-large{width:100%;height:-20%}.mpAUI .aui-dialog2-large.aui-layer{top:69px}.mpAUI .aui-dialog2-large .aui-dialog2-content{height:100%}}@media (max-width:620px){.mpAUI .aui-dialog2-medium{width:100%;height:-20%}.mpAUI .aui-dialog2-medium.aui-layer{top:69px}.mpAUI .aui-dialog2-medium .aui-dialog2-content{height:100%}}@media (max-width:420px){.mpAUI .aui-dialog2-small{width:100%;height:-20%}.mpAUI .aui-dialog2-small.aui-layer{top:69px}.mpAUI .aui-dialog2-small .aui-dialog2-content{height:100%}}.mpAUI .aui-dialog2-footer,.mpAUI .aui-dialog2-header{background:#f5f5f5;visibility:visible}.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-content,.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-footer,.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-header{opacity:0;transition:opacity .2s,visibility .2s;transition-delay:0s;visibility:hidden}.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-content,.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-footer,.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-header{opacity:1;transition:opacity .2s;transition-delay:0s;visibility:visible}.mpAUI .aui-dialog2 .aui-dialog2-content{max-height:100%}.mpAUI .aui-dialog2-content{border-radius:3px;background-color:#fff;box-sizing:border-box;overflow:auto;padding:20px;visibility:visible}.mpAUI .aui-dialog2 .aui-dialog2-header{margin-top:-69px}.mpAUI .aui-dialog2-header{border-bottom:1px solid #ccc;border-radius:5px 5px 0 0;box-sizing:border-box;color:#333;font-weight:400;height:69px;padding:0 20px;width:100%;display:table}.mpAUI .aui-dialog2-header-actions{width:100%}.mpAUI .aui-dialog2-header-actions,.mpAUI .aui-dialog2-header-close,.mpAUI .aui-dialog2-header-main,.mpAUI .aui-dialog2-header-secondary{display:table-cell;vertical-align:middle}.mpAUI .aui-dialog2[data-aui-modal=true] .aui-dialog2-header-close{display:none}.mpAUI .aui-dialog2-footer-hint{color:#707070;line-height:31px}.mpAUI .aui-dialog2-footer-hint,.mpAUI .aui-dialog2-header-main{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:10px}.mpAUI .aui-dialog2-header-main{max-width:400px}.mpAUI .aui-dialog2-footer-actions,.mpAUI .aui-dialog2-header-close,.mpAUI .aui-dialog2-header-secondary{text-align:right}.mpAUI .aui-dialog2-footer-actions{float:right}.mpAUI .aui-dialog2-header-close{width:20px;height:20px;padding-left:5px;text-align:right;vertical-align:middle;line-height:100%;cursor:pointer;color:#707070}.mpAUI .aui-iconfont-close-dialog:before{content:"\\F11B"}.mpAUI .aui-dialog2-warning .aui-dialog2-header{background-color:#d04437;border-bottom-color:#d04437;color:#fff}.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-actions a,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-close,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-main,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-secondary a{color:inherit}.mpAUI .aui-dialog2-header-close .aui-icon{vertical-align:middle}.mpAUI .aui-dialog2-footer{border-top:1px solid #ccc;box-sizing:border-box;height:51px;overflow:hidden;padding:10px 20px;width:100%;border-radius:0 0 5px 5px}.mpAUI .aui-dialog2-footer:empty{height:5px;padding:0}.mpAUI .aui-button,.mpAUI .aui-button:visited,.mpAUI a.aui-button{box-sizing:border-box;background:#f5f5f5;border:1px solid #ccc;border-radius:3.01px;color:#333;cursor:pointer;display:inline-block;font-family:inherit;font-size:14px;font-variant:normal;font-weight:400;height:2.14285714em;line-height:1.42857143;margin:0;padding:4px 10px;text-decoration:none;vertical-align:baseline;white-space:nowrap}.mpAUI .aui-button.aui-button-light,.mpAUI .aui-button:visited.aui-button-light,.mpAUI a.aui-button.aui-button-light{background:#fff}.mpAUI .aui-button~.aui-button{margin-left:10px}.mpAUI a.aui-button:active,.mpAUI a.aui-button:focus,.mpAUI a.aui-button:hover{text-decoration:none}.mpAUI .aui-button:focus,.mpAUI form.aui .button:focus,.mpAUI form.aui .cancel:focus{outline:1px dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:1px}.mpAUI .aui-button::-moz-focus-inner{border:0;padding:0}.mpAUI .aui-button-subtle.aui-button:focus,.mpAUI .aui-button-subtle.aui-button:hover,.mpAUI .aui-button:focus,.mpAUI .aui-button:hover{background:#e9e9e9;border-color:#999;color:#000;text-decoration:none}.mpAUI .aui-button.aui-button-subtle.active,.mpAUI .aui-button.aui-button-subtle:active{border-color:#999}.mpAUI .aui-button-subtle.aui-button.active,.mpAUI .aui-button-subtle.aui-button:active,.mpAUI .aui-button.active,.mpAUI .aui-button:active,.mpAUI .aui-header .aui-button-split-more.active{box-shadow:inset 0 3px 6px 0 rgba(0,0,0,.1);background-image:none;background:#f5f5f5;text-decoration:none}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(:active){border-right-color:transparent}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:active:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:focus:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:hover:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):active+.aui-button-split-more:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):focus+.aui-button-split-more:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):hover+.aui-button-split-more:before{visibility:hidden}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):hover+.aui-button-split-more{border-left:1px solid #999;margin-left:-2px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more{margin-left:-1px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more:focus,.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more:hover{margin-left:-2px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more.aui-dropdown2-trigger:before{content:"";border-left:1px solid #ccc;bottom:4px;display:block;left:-1px;position:absolute;top:4px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more.aui-dropdown2-trigger.aui-button-primary:before{border-color:#fff}.mpAUI .aui-button.aui-button-primary,.mpAUI .aui-button.aui-button-primary:visited{background:#3572b0;border-color:transparent;color:#fff;font-weight:700;-webkit-font-smoothing:antialiased}.mpAUI .aui-button.aui-button-primary:focus,.mpAUI .aui-button.aui-button-primary:hover{background:#2a67a5;border-color:transparent;color:#fff}.mpAUI .aui-button.aui-button-primary:active{box-shadow:inset 0 3px 6px 0 rgba(0,0,0,.1);background-image:none;background:#3572b0;text-decoration:none}.mpAUI .aui-button.aui-button-link,.mpAUI .aui-button.aui-button-link:visited,.mpAUI .aui-button.aui-button-text,.mpAUI .aui-button.aui-button-text:visited{background:transparent;border-color:transparent;color:#3572b0;padding:4px 0;text-decoration:none;box-shadow:none}.mpAUI .aui-button.aui-button-link:active,.mpAUI .aui-button.aui-button-link:focus,.mpAUI .aui-button.aui-button-link:hover,.mpAUI .aui-button.aui-button-text:active,.mpAUI .aui-button.aui-button-text:focus,.mpAUI .aui-button.aui-button-text:hover,.mpAUI .aui-buttons .aui-button.aui-button-link:active,.mpAUI .aui-buttons .aui-button.aui-button-link:focus,.mpAUI .aui-buttons .aui-button.aui-button-link:hover,.mpAUI .aui-buttons .aui-button.aui-button-link[aria-pressed=true],.mpAUI .aui-buttons .aui-button.aui-button-text:active,.mpAUI .aui-buttons .aui-button.aui-button-text:focus,.mpAUI .aui-buttons .aui-button.aui-button-text:hover,.mpAUI .aui-buttons .aui-button.aui-button-text[aria-pressed=true]{background:transparent;border-color:transparent;box-shadow:none;text-decoration:underline}.mpAUI .aui-button.aui-button-text,.mpAUI .aui-button.aui-button-text:visited{border:none;font-size:inherit;height:inherit;line-height:normal;padding:0}.mpAUI .aui-button.aui-button-subtle{background:transparent;border-color:transparent;color:#707070}.mpAUI .aui-buttons .aui-button.aui-button-subtle{border-radius:3.01px}.mpAUI .aui-button.aui-button-subtle .aui-icon{margin-right:1px}.mpAUI .aui-button>.aui-icon+.aui-button-label{margin-left:4px}',""])},function(e,t,n){var r=n(154);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,".mediaPickerPopup .aui-dialog2-large{width:845px;height:530px;position:fixed;left:calc(50% - 845px/2);top:calc(50% - 530px/2);margin:0;overflow:visible}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),h=r(d);Object.defineProperty(t,"__esModule",{value:!0});var p=n(48),v=function(e){function t(e,n){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"upload",value:function(e,t){var n=t||"file",r=this._urltoFile(e,n);this.uploadService.addFile(r)}},{key:"_urltoFile",value:function(e,t){var n=e.split(","),r=n[0].match(/:(.*?);/);if(!r||r.length<2)throw new Error("Failed to retrieve file from data URL");for(var i=r[1],o=atob(n[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var u=new Blob([s],{type:i});return u.name=t,u}}]),t}(p.MediaLocalUpload);t.BinaryUploader=v},function(e,t,n){n(157),e.exports=n(2).Object.getPrototypeOf},function(e,t,n){var r=n(41),i=n(91);n(158)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(5),i=n(2),o=n(18);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){e.exports={default:n(160),__esModule:!0}},function(e,t,n){n(161);var r=n(2).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(5);r(r.S+r.F*!n(12),"Object",{defineProperty:n(9).f})},function(e,t,n){e.exports={default:n(163),__esModule:!0}},function(e,t,n){n(30),n(33),e.exports=n(69).f("iterator")},function(e,t,n){var r=n(64),i=n(59);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(45),i=n(43),o=n(32),a={};n(15)(a,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(9),i=n(10),o=n(46);e.exports=n(12)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(24),i=n(67),o=n(168);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(64),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(170),i=n(97),o=n(23),a=n(24);e.exports=n(65)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){e.exports={default:n(172),__esModule:!0}},function(e,t,n){n(173),n(73),n(176),n(177),e.exports=n(2).Symbol},function(e,t,n){"use strict";var r=n(4),i=n(17),o=n(12),a=n(5),s=n(94),u=n(70).KEY,c=n(18),l=n(61),f=n(32),d=n(42),h=n(3),p=n(69),v=n(71),m=n(174),y=n(98),b=n(10),g=n(24),_=n(63),w=n(43),x=n(45),k=n(175),A=n(100),S=n(9),P=n(46),O=A.f,I=S.f,E=k.f,j=r.Symbol,T=r.JSON,C=T&&T.stringify,M=h("_hidden"),U=h("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),R=l("symbols"),N=l("op-symbols"),z=Object.prototype,D="function"==typeof j,B=r.QObject,H=!B||!B.prototype||!B.prototype.findChild,q=o&&c(function(){return 7!=x(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(z,t);r&&delete z[t],I(e,t,n),r&&e!==z&&I(z,t,r)}:I,$=function(e){var t=R[e]=x(j.prototype);return t._k=e,t},V=D&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},J=function(e,t,n){return e===z&&J(N,t,n),b(e),t=_(t,!0),b(n),i(R,t)?(n.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),n=x(n,{enumerable:w(0,!1)})):(i(e,M)||I(e,M,w(1,{})),e[M][t]=!0),q(e,t,n)):I(e,t,n)},W=function(e,t){b(e);for(var n,r=m(t=g(t)),i=0,o=r.length;o>i;)J(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?x(e):W(x(e),t)},G=function(e){var t=L.call(this,e=_(e,!0));return!(this===z&&i(R,e)&&!i(N,e))&&(!(t||!i(this,e)||!i(R,e)||i(this,M)&&this[M][e])||t)},Y=function(e,t){if(e=g(e),t=_(t,!0),e!==z||!i(R,t)||i(N,t)){var n=O(e,t);return!n||!i(R,t)||i(e,M)&&e[M][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=E(g(e)),r=[],o=0;n.length>o;)i(R,t=n[o++])||t==M||t==u||r.push(t);return r},X=function(e){for(var t,n=e===z,r=E(n?N:g(e)),o=[],a=0;r.length>a;)!i(R,t=r[a++])||n&&!i(z,t)||o.push(R[t]);return o};D||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(N,n),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),q(this,e,w(1,n))};return o&&H&&q(z,e,{configurable:!0,set:t}),$(e)},s(j.prototype,"toString",function(){return this._k}),A.f=Y,S.f=J,n(99).f=k.f=Q,n(47).f=G,n(72).f=X,o&&!n(44)&&s(z,"propertyIsEnumerable",G,!0),p.f=function(e){return $(h(e))}),a(a.G+a.W+a.F*!D,{Symbol:j});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)h(Z[ee++]);for(var te=P(h.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!D,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=j(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!D,"Object",{create:K,defineProperty:J,defineProperties:W,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),T&&a(a.S+a.F*(!D||c(function(){var e=j();return"[null]"!=C([e])||"{}"!=C({a:e})||"{}"!=C(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!V(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,C.apply(T,r)}}}),j.prototype[U]||n(15)(j.prototype,U,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(46),i=n(72),o=n(47);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(24),i=n(99).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){n(71)("asyncIterator")},function(e,t,n){n(71)("observable")},function(e,t,n){e.exports={default:n(179),__esModule:!0}},function(e,t,n){n(180),e.exports=n(2).Object.setPrototypeOf},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(181).set})},function(e,t,n){var r=n(11),i=n(10),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(14)(Function.call,n(100).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(183),__esModule:!0}},function(e,t,n){n(184);var r=n(2).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(5);r(r.S,"Object",{create:n(45)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(101),o=r(i),a=n(21),s=r(a),u=n(196),c=r(u),l=n(50),f=r(l),d=n(0),h=r(d),p=n(1),v=r(p);Object.defineProperty(t,"__esModule",{value:!0});var m=n(206),y=n(51),b=n(77),g=n(22),_=n(211),w=n(111),x=n(128),k=n(129),A=n(261),S=n(131),P=n(262),O=n(83),I=n(267),E=n(268),j=function(){function e(t,n,r){var i=this;(0,h.default)(this,e),this.uploads={},this.retry=0,this.emit=function(e,t){i.emitter.emit(e,t)},this.getQueryParameters=function(e,t){var n=i.getMediaClient(e),r=n.storedAuth;if(r)return(0,f.default)({hash:t.hash},w.mapAuthToQueryParameters(r));throw new Error("auth required")},this.generateTarget=function(e){var t=e.map(function(e){return e.split("=")}).reduce(function(e,t){var n=(0,c.default)(t,2),r=n[0],i=n[1];return e[r]=i,e},{}),n=t.hash,r=t.resumableCurrentChunkSize,o=t.client,a=t.issuer,s=t.token,u=void 0;return u=a?"issuer="+a+"&token="+s:"client="+o+"&token="+s,i.uploadChunkUrl+"/"+n+"-"+r+"?"+u},this.onFilesAdded=function(e){if(0!==e.length){var t=i.uploadParams;e.forEach(function(e){i.uploads[e.uniqueIdentifier]={creationDate:Date.now(),uploadParams:t}});var n=t.collection;i.mediaClientPool.getMediaClient(n).refreshAuth().then(function(){i.retry=0;var t=e.map(function(e){return i.mapResumableFileToMediaFile(e)});i.emit("files-added",{files:t}),t.forEach(function(e){return i.emit("file-added",{file:e})}),i.resumable.upload()},function(){e.forEach(function(e){return i.onError(e,x.ERROR_NAMES.TOKEN_FETCH_FAIL)}),e.forEach(function(e){return e.cancel()}),e.forEach(i.cleanupResumableFile)})}},this.onChunkingComplete=function(e){e.chunks.forEach(function(t){var n=t.callback;t.callback=function(t,r){return"error"===t?(i.retry++,e.abort(),e.pause(!0),void i.resumable.fire("fileError",e,r||"")):("success"===t&&(i.retry=0),void n(t,r))}})},this.onFileProgress=function(e){var t=e.progress(),n=i.mapResumableFileToMediaFile(e);if(t>0&&t<1){var r=new A.MediaProgress(n.size,n.size*t,n.creationDate,Date.now());i.emit("file-uploading",{file:n,progress:r})}},this.onFileSuccess=function(e){return i.getResumableFileUploadParams(e).autoFinalize?void i.finalizeFile(e):void i.emit("file-finalize-ready",{file:i.mapResumableFileToMediaFile(e),finalize:function(){i.finalizeFile(e)}})},this.onFileError=function(e,t){var n=i.getMediaClient(e);i.onUploadError(e,x.ERROR_NAMES.UPLOAD_FAIL,t,n).then(function(){e._prevProgress=0,e.pause(!1),e.chunks.forEach(function(e){"error"===e.status()&&(e.preprocessState=0,e.send()),"pending"===e.status()&&2===e.preprocessState&&(e.preprocessState=0)})}).catch(function(){e.cancel()})},this.onDrop=function(e){e.preventDefault(),e.stopPropagation(),i.emit("file-dropped",e)},this.mapResumableFileToMediaFile=function(e,t){return new k.MediaFile(e.uniqueIdentifier,e.file.name,e.file.size,i.getResumableFileCreationDate(e),e.file.type,t,e)},this.getResumableFileCreationDate=function(e){return i.uploads[e.uniqueIdentifier].creationDate},this.getResumableFileUploadParams=function(e){return i.uploads[e.uniqueIdentifier].uploadParams},this.cleanupResumableFile=function(e){delete i.uploads[e.uniqueIdentifier]},this.emitter=new b.EventEmitter2,this.uploadChunkUrl=t+"/chunk",this.mediaClientPool=new I.MediaClientPool(t,n),this.api=new E.MediaApi,this.setUploadParams(r),this.resumable=new m({target:this.generateTarget,uploadMethod:"PUT",testMethod:"HEAD",chunkSize:4194304,chunkRetryInterval:2500,maxChunkRetries:5,simultaneousUploads:3,forceChunkSize:!0,permanentErrors:[400,403,404,415,500,501],method:"octet",minFileSize:0,query:this.getQueryParameters,preprocess:function(t){return e.hasher.hash(t)},generateUniqueIdentifier:function(){return y.v4()}}),this.resumable.on("filesAdded",this.onFilesAdded),this.resumable.on("chunkingComplete",this.onChunkingComplete),this.resumable.on("fileProgress",this.onFileProgress),this.resumable.on("fileSuccess",this.onFileSuccess),this.resumable.on("fileError",this.onFileError)}return(0,v.default)(e,[{key:"setUploadParams",value:function(e){this.uploadParams=(0,f.default)({},S.defaultUploadParams,e)}},{key:"getUploadParams",value:function(){return this.uploadParams}},{key:"addBrowse",value:function(e){this.resumable.assignBrowse(e)}},{key:"addDropzone",value:function(e){this.dropzoneElement||(this.dropzoneElement=e,this.dropzoneElement.addEventListener("drop",this.onDrop),this.resumable.assignDrop(this.dropzoneElement))}},{key:"removeDropzone",value:function(){this.dropzoneElement&&(this.dropzoneElement.removeEventListener("drop",this.onDrop),this.resumable.unAssignDrop(this.dropzoneElement),this.dropzoneElement=void 0)}},{key:"addFile",value:function(e){this.resumable.addFile(e)}},{key:"cancel",value:function(e){if(e){var t=this.resumable.getFromUniqueIdentifier(e);t&&t.cancel()}else this.resumable.cancel()}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"getMediaClient",value:function(e){var t=this.getResumableFileUploadParams(e),n=t.collection;return this.mediaClientPool.getMediaClient(n)}},{key:"finalizeFile",value:function(e){var t=this,n=e.fileName,r=e.file,i=this.getResumableFileUploadParams(e),o=i.collection,a=e.chunks.map(function(e){return e.hash+"-"+(e.endByte-e.startByte)}),s=this.getMediaClient(e);this.api.createUpload(s).then(function(e){return t.appendChunksToUpload(s,e,a,1e3)}).then(function(e){return t.api.createFileFromUpload(s,n,r.type,e,o)}).then(function(n){return t.processFile(s,n,e)}).catch(function(n){t.onError(e,x.ERROR_NAMES.OBJ_CREATE_FAIL,n)})}},{key:"appendChunksToUpload",value:function(e,t,n,r){var i=this;return _.sliceByChunks(n,r).map(function(n,o){var a=o*r;return function(){return i.api.appendChunksToUpload(e,t,n,a)}}).reduce(function(e,t){return e.then(t)},s.default.resolve()).then(function(){return t})}},{key:"processFile",value:function(e,t,n){var r=this;return this.fetchFileMetadata(e,t,n).then(function(e){var t=r.mapResumableFileToMediaFile(n,e.id),i=new A.MediaProgress(t.size,t.size,t.creationDate,Date.now());r.emit("file-converted",{file:t,progress:i,metadata:e})}).catch(function(e){r.onError(n,x.ERROR_NAMES.METADATA_FETCH_FAIL,e)})}},{key:"fetchFileMetadata",value:function(e,t,n){var r=this.getResumableFileUploadParams(n),i=r.collection;return r.fetchMetadata?(this.emit("file-converting",{file:this.mapResumableFileToMediaFile(n,t)}),this.api.pollForFileMetadata(e,t,i)):s.default.resolve({id:t})}},{key:"onUploadError",value:function(e,t,n,r){var i=this;return new s.default(function(o,a){var s=e.uniqueIdentifier,u=void 0;try{u=JSON.parse(n)}catch(e){}return O.isTokenError(u)&&i.retry<=1?void r.refreshAuth().then(function(){return o()}).catch(function(){i.emit("file-upload-error",{file:i.mapResumableFileToMediaFile(e),error:new x.MediaError(s,x.ERROR_NAMES.TOKEN_UPDATE_FAIL,n)}),g.handleError(t,n),a()}):(u&&u.error&&u.error.title&&(n=u.error.title),i.emit("file-upload-error",{file:i.mapResumableFileToMediaFile(e),error:new x.MediaError(s,t,n)}),g.handleError(t,n),a(),void 0)})}},{key:"onError",value:function(e,t,n){var r=void 0;r=n&&n.error&&n.error.title?n.error.title:(0,o.default)(n||{}),this.emit("file-upload-error",{file:this.mapResumableFileToMediaFile(e),error:new x.MediaError(e.uniqueIdentifier,t,r)}),g.handleError(t,r)}}]),e}();j.hasher=P.createHasher(),t.UploadService=j},function(e,t,n){var r=n(2),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(73),n(30),n(33),n(188),n(194),n(195),e.exports=n(2).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(44),u=n(4),c=n(14),l=n(49),f=n(5),d=n(11),h=n(29),p=n(74),v=n(34),m=n(103),y=n(104).set,b=n(192)(),g=n(75),_=n(105),w=n(106),x=u.TypeError,k=u.process,A=u.Promise,S="process"==l(k),P=function(){},O=i=g.f,I=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(3)("species")]=function(e){e(P,P)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t}catch(e){}}(),E=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&M(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(x("Promise-chain cycle")):(o=E(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){y.call(u,function(){var t,n,r,i=e._v,o=C(e);if(o&&(t=_(function(){S?k.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=S||C(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},C=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!C(t.promise))return!1;return!0},M=function(e){y.call(u,function(){var t;S?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=E(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,c(L,r,1),c(U,r,1))}catch(e){U.call(r,e)}}):(n._v=e,n._s=1,j(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};I||(A=function(e){p(this,A,"Promise","_h"),h(e),r.call(this);try{e(c(L,this,1),c(U,this,1))}catch(e){U.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(76)(A.prototype,{then:function(e,t){var n=O(m(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(L,e,1),this.reject=c(U,e,1)},g.f=O=function(e){return e===A||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!I,{Promise:A}),n(32)(A,"Promise"),n(107)("Promise"),a=n(2).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(e){return w(s&&this===a?A:this,e)}}),f(f.S+f.F*!(I&&n(193)(function(e){A.all(e).catch(P)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(23),i=n(3)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(4),i=n(104).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(31)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(3)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(5),i=n(2),o=n(4),a=n(103),s=n(106);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(5),i=n(75),o=n(105);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;
var i=n(197),o=r(i),a=n(200),s=r(a);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(198),__esModule:!0}},function(e,t,n){n(33),n(30),e.exports=n(199)},function(e,t,n){var r=n(49),i=n(3)("iterator"),o=n(23);e.exports=n(2).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(201),__esModule:!0}},function(e,t,n){n(33),n(30),e.exports=n(202)},function(e,t,n){var r=n(10),i=n(102);e.exports=n(2).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(204),e.exports=n(2).Object.assign},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(205)})},function(e,t,n){"use strict";var r=n(46),i=n(72),o=n(47),a=n(41),s=n(66),u=Object.assign;e.exports=!u||n(18)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var d,h=s(arguments[c++]),p=l?r(h).concat(l(h)):r(h),v=p.length,m=0;v>m;)f.call(h,d=p[m++])&&(n[d]=h[d]);return n}:u},function(e,t,n){!function(){"use strict";var t=function(e){function n(e,t,n){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.webkitRelativePath||t.relativePath||i.fileName,i.uniqueIdentifier=n,i._pause=!1,i.container="";var a=void 0!==n,s=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i);break;case"error":i.abort(),a=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(a)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i)}};return i.chunks=[],i.abort=function(){var e=0;o.each(i.chunks,function(t){"uploading"==t.status()&&(t.abort(),e++)}),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],o.each(e,function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())}),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",function(){e||i.resumableObj.upload(),e=!0})},i.bootstrap=function(){i.abort(),a=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),n=0;n<t;n++)!function(e){window.setTimeout(function(){i.chunks.push(new r(i.resumableObj,i,e,s)),i.resumableObj.fire("chunkingProgress",i,e/t)},0)}(n);window.setTimeout(function(){i.resumableObj.fire("chunkingComplete",i)},0)},i.progress=function(){if(a)return 1;var e=0,t=!1;return o.each(i.chunks,function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return o.each(i.chunks,function(t){if("uploading"==t.status())return e=!0,!1}),e},i.isComplete=function(){var e=!1;return o.each(i.chunks,function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1}),!e},i.pause=function(e){i._pause=void 0===e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function r(e,t,n,r){var i=this;i.opts={},i.getOpt=e.getOpt,i.resumableObj=e,i.fileObj=t,i.fileObjSize=t.size,i.fileObjType=t.file.type,i.offset=n,i.callback=r,i.lastProgressCallback=new Date,i.tested=!1,i.retries=0,i.pendingRetry=!1,i.preprocessState=0;var a=i.getOpt("chunkSize");return i.loaded=0,i.startByte=i.offset*a,i.endByte=Math.min(i.fileObjSize,(i.offset+1)*a),i.fileObjSize-i.endByte<a&&!i.getOpt("forceChunkSize")&&(i.endByte=i.fileObjSize),i.xhr=null,i.test=function(){i.xhr=new XMLHttpRequest;var e=function(e){i.tested=!0;var t=i.status();"success"==t?(i.callback(t,i.message()),i.resumableObj.uploadNextChunk()):i.send()};i.xhr.addEventListener("load",e,!1),i.xhr.addEventListener("error",e,!1),i.xhr.addEventListener("timeout",e,!1);var t=[],n=i.getOpt("parameterNamespace"),r=i.getOpt("query");"function"==typeof r&&(r=r(i.fileObj,i)),o.each(r,function(e,r){t.push([encodeURIComponent(n+e),encodeURIComponent(r)].join("="))}),t.push([n+"resumableChunkNumber",encodeURIComponent(i.offset+1)].join("=")),t.push([n+"resumableChunkSize",encodeURIComponent(i.getOpt("chunkSize"))].join("=")),t.push([n+"resumableCurrentChunkSize",encodeURIComponent(i.endByte-i.startByte)].join("=")),t.push([n+"resumableTotalSize",encodeURIComponent(i.fileObjSize)].join("=")),t.push([n+"resumableType",encodeURIComponent(i.fileObjType)].join("=")),t.push([n+"resumableIdentifier",encodeURIComponent(i.fileObj.uniqueIdentifier)].join("=")),t.push([n+"resumableFilename",encodeURIComponent(i.fileObj.fileName)].join("=")),t.push([n+"resumableRelativePath",encodeURIComponent(i.fileObj.relativePath)].join("=")),t.push([n+"resumableTotalChunks",encodeURIComponent(i.fileObj.chunks.length)].join("=")),i.xhr.open(i.getOpt("testMethod"),o.getTarget(t)),i.xhr.timeout=i.getOpt("xhrTimeout"),i.xhr.withCredentials=i.getOpt("withCredentials");var a=i.getOpt("headers");"function"==typeof a&&(a=a(i.fileObj,i)),o.each(a,function(e,t){i.xhr.setRequestHeader(e,t)}),i.xhr.send(null)},i.preprocessFinished=function(){i.preprocessState=2,i.send()},i.send=function(){var e=i.getOpt("preprocess");if("function"==typeof e)switch(i.preprocessState){case 0:return i.preprocessState=1,void e(i);case 1:return}if(i.getOpt("testChunks")&&!i.tested)return void i.test();i.xhr=new XMLHttpRequest,i.xhr.upload.addEventListener("progress",function(e){new Date-i.lastProgressCallback>1e3*i.getOpt("throttleProgressCallbacks")&&(i.callback("progress"),i.lastProgressCallback=new Date),i.loaded=e.loaded||0},!1),i.loaded=0,i.pendingRetry=!1,i.callback("progress");var t=function(e){var t=i.status();if("success"==t||"error"==t)i.callback(t,i.message()),i.resumableObj.uploadNextChunk();else{i.callback("retry",i.message()),i.abort(),i.retries++;var n=i.getOpt("chunkRetryInterval");void 0!==n?(i.pendingRetry=!0,setTimeout(i.send,n)):i.send()}};i.xhr.addEventListener("load",t,!1),i.xhr.addEventListener("error",t,!1),i.xhr.addEventListener("timeout",t,!1);var n={resumableChunkNumber:i.offset+1,resumableChunkSize:i.getOpt("chunkSize"),resumableCurrentChunkSize:i.endByte-i.startByte,resumableTotalSize:i.fileObjSize,resumableType:i.fileObjType,resumableIdentifier:i.fileObj.uniqueIdentifier,resumableFilename:i.fileObj.fileName,resumableRelativePath:i.fileObj.relativePath,resumableTotalChunks:i.fileObj.chunks.length},r=i.getOpt("query");"function"==typeof r&&(r=r(i.fileObj,i)),o.each(r,function(e,t){n[e]=t});var a=i.fileObj.file.slice?"slice":i.fileObj.file.mozSlice?"mozSlice":i.fileObj.file.webkitSlice?"webkitSlice":"slice",s=i.fileObj.file[a](i.startByte,i.endByte),u=null,c=i.getOpt("target"),l=i.getOpt("parameterNamespace");if("octet"===i.getOpt("method")){u=s;var f=[];o.each(n,function(e,t){f.push([encodeURIComponent(l+e),encodeURIComponent(t)].join("="))}),c=o.getTarget(f)}else u=new FormData,o.each(n,function(e,t){u.append(l+e,t)}),u.append(l+i.getOpt("fileParameterName"),s);var d=i.getOpt("uploadMethod");i.xhr.open(d,c),"octet"===i.getOpt("method")&&i.xhr.setRequestHeader("Content-Type","binary/octet-stream"),i.xhr.timeout=i.getOpt("xhrTimeout"),i.xhr.withCredentials=i.getOpt("withCredentials");var h=i.getOpt("headers");"function"==typeof h&&(h=h(i.fileObj,i)),o.each(h,function(e,t){i.xhr.setRequestHeader(e,t)}),i.xhr.send(u)},i.abort=function(){i.xhr&&i.xhr.abort(),i.xhr=null},i.status=function(){return i.pendingRetry?"uploading":i.xhr?i.xhr.readyState<4?"uploading":200==i.xhr.status||201==i.xhr.status?"success":o.contains(i.getOpt("permanentErrors"),i.xhr.status)||i.retries>=i.getOpt("maxChunkRetries")?"error":(i.abort(),"pending"):"pending"},i.message=function(){return i.xhr?i.xhr.responseText:""},i.progress=function(e){void 0===e&&(e=!1);var t=e?(i.endByte-i.startByte)/i.fileObjSize:1;if(i.pendingRetry)return 0;switch(i.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return i.loaded/(i.endByte-i.startByte)*t}},this}if(!(this instanceof t))return new t(e);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var i=this;i.files=[],i.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:void 0,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,maxFilesErrorCallback:function(e,t){var n=i.getOpt("maxFiles");alert("Please upload no more than "+n+" file"+(1===n?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+o.formatSize(i.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+o.formatSize(i.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+i.getOpt("fileType")+".")}},i.opts=e||{},i.getOpt=function(e){var i=this;if(e instanceof Array){var a={};return o.each(e,function(e){a[e]=i.getOpt(e)}),a}if(i instanceof r){if(void 0!==i.opts[e])return i.opts[e];i=i.fileObj}if(i instanceof n){if(void 0!==i.opts[e])return i.opts[e];i=i.resumableObj}if(i instanceof t)return void 0!==i.opts[e]?i.opts[e]:i.defaults[e]},i.events=[],i.on=function(e,t){i.events.push(e.toLowerCase(),t)},i.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);for(var n=e[0].toLowerCase(),t=0;t<=i.events.length;t+=2)i.events[t]==n&&i.events[t+1].apply(i,e.slice(1)),"catchall"==i.events[t]&&i.events[t+1].apply(null,e);"fileerror"==n&&i.fire("error",e[2],e[1]),"fileprogress"==n&&i.fire("progress")};var o={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if(void 0!==e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e){var t=i.getOpt("generateUniqueIdentifier");if("function"==typeof t)return t(e);var n=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return o.each(e,function(e){return e!=t||(n=!0,!1)}),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e){var t=i.getOpt("target");return"function"==typeof t?t(e):(t+=t.indexOf("?")<0?"?":"&",t+e.join("&"))}},a=function(e){o.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?u(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&u(e.dataTransfer.files,e)},s=function(e){e.preventDefault()},u=function(e,t,n,r){n||(n={total:0,files:[],event:t}),c(e.length,n);for(var i=0;i<e.length;i++){var o,a,s=e[i];if(s.isFile||s.isDirectory)o=s;else if(s.getAsEntry)o=s.getAsEntry();else{if(!s.webkitGetAsEntry){if("function"==typeof s.getAsFile){l(s.getAsFile(),n,r);continue}if(File&&s instanceof File){l(s,n,r);continue}c(-1,n);continue}o=s.webkitGetAsEntry()}if(o){if(o.isFile)o.file(function(e){l(e,n,r)},function(e){console.warn(e)});else if(o.isDirectory){a=o.createReader();var f=[],d=function(e){a.readEntries(function(r){if(r.length>0){for(var i=0;i<r.length;i++)f.push(r[i]);d(o.fullPath)}else u(f,t,n,e),c(-1,n)},function(e){c(-1,n),console.warn(e)})};d(o.fullPath)}}else c(-1,n)}},c=function(e,t){t.total+=e,t.files.length===t.total&&f(t.files,t.event)},l=function(e,t,n){n&&(e.relativePath=n+"/"+e.name),t.files.push(e),t.files.length===t.total&&f(t.files,t.event)},f=function(e,t){var r=0,a=i.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(void 0!==a.maxFiles&&a.maxFiles<e.length+i.files.length){if(1!==a.maxFiles||1!==i.files.length||1!==e.length)return a.maxFilesErrorCallback(e,r++),!1;i.removeFile(i.files[0])}var s=[];o.each(e,function(e){function u(r){i.getFromUniqueIdentifier(r)||function(){e.uniqueIdentifier=r;var o=new n(i,e,r);i.files.push(o),s.push(o),o.container=void 0!==t?t.srcElement:null,window.setTimeout(function(){i.fire("fileAdded",o,t)},0)}()}var c=e.name;if(a.fileType.length>0){var l=!1;for(var f in a.fileType){var d="."+a.fileType[f];if(-1!==c.indexOf(d,c.length-d.length)){l=!0;break}}if(!l)return a.fileTypeErrorCallback(e,r++),!1}if(void 0!==a.minFileSize&&e.size<a.minFileSize)return a.minFileSizeErrorCallback(e,r++),!1;if(void 0!==a.maxFileSize&&e.size>a.maxFileSize)return a.maxFileSizeErrorCallback(e,r++),!1;var h=o.generateUniqueIdentifier(e);h&&"function"==typeof h.done&&"function"==typeof h.fail?h.done(function(e){u(e)}).fail(function(){u()}):u(h)}),window.setTimeout(function(){i.fire("filesAdded",s)},0)};return i.uploadNextChunk=function(){var e=!1;if(i.getOpt("prioritizeFirstAndLastChunk")&&(o.each(i.files,function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return!0;if(o.each(i.files,function(t){if(!1===t.isPaused()&&o.each(t.chunks,function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1}),e)return!1}),e)return!0;var t=!1;return o.each(i.files,function(e){if(!e.isComplete())return t=!0,!1}),t||i.fire("complete"),!1},i.assignBrowse=function(e,t){void 0===e.length&&(e=[e]),o.each(e,function(e){var n;"INPUT"===e.tagName&&"file"===e.type?n=e:(n=document.createElement("input"),n.setAttribute("type","file"),n.style.display="none",e.addEventListener("click",function(){n.style.opacity=0,n.style.display="block",n.focus(),n.click(),n.style.display="none"},!1),e.appendChild(n));var r=i.getOpt("maxFiles");void 0===r||1!=r?n.setAttribute("multiple","multiple"):n.removeAttribute("multiple"),t?n.setAttribute("webkitdirectory","webkitdirectory"):n.removeAttribute("webkitdirectory"),n.addEventListener("change",function(e){f(e.target.files,e),e.target.value=""},!1)})},i.assignDrop=function(e){void 0===e.length&&(e=[e]),o.each(e,function(e){e.addEventListener("dragover",s,!1),e.addEventListener("dragenter",s,!1),e.addEventListener("drop",a,!1)})},i.unAssignDrop=function(e){void 0===e.length&&(e=[e]),o.each(e,function(e){e.removeEventListener("dragover",s),e.removeEventListener("dragenter",s),e.removeEventListener("drop",a)})},i.isUploading=function(){var e=!1;return o.each(i.files,function(t){if(t.isUploading())return e=!0,!1}),e},i.upload=function(){if(!i.isUploading()){i.fire("uploadStart");for(var e=1;e<=i.getOpt("simultaneousUploads");e++)i.uploadNextChunk()}},i.pause=function(){o.each(i.files,function(e){e.abort()}),i.fire("pause")},i.cancel=function(){for(var e=i.files.length-1;e>=0;e--)i.files[e].cancel();i.fire("cancel")},i.progress=function(){var e=0,t=0;return o.each(i.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},i.addFile=function(e,t){f([e],t)},i.removeFile=function(e){for(var t=i.files.length-1;t>=0;t--)i.files[t]===e&&i.files.splice(t,1)},i.getFromUniqueIdentifier=function(e){var t=!1;return o.each(i.files,function(n){n.uniqueIdentifier==e&&(t=n)}),t},i.getSize=function(){var e=0;return o.each(i.files,function(t){e+=t.size}),e},this};e.exports=t}()},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:u,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,h=f-c+(d-l)/1e4;if(h<0&&void 0===e.clockseq&&(a=a+1&16383),(h<0||f>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=d,u=a,f+=122192928e5;var p=(1e4*(268435455&f)+d)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var v=f/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var m=e.node||s,y=0;y<6;++y)i[r+y]=m[y];return t||o(i)}var i=n(108),o=n(109),a=i(),s=[1|a[0],a[1],a[2],a[3],a[4],a[5]],u=16383&(a[6]<<8|a[7]),c=0,l=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}var i=n(108),o=n(109);e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(101),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l={internalStorage:{storage:{},getItem:function(e){return this.storage[e]},setItem:function(e,t){this.storage[e]=t},clear:function(){this.storage={}}},getLocalStorage:function(){return window.localStorage},getSessionStorage:function(){return window.sessionStorage},getInternalStorage:function(){return this.internalStorage},getStorage:function(){try{var e=this.getLocalStorage();if(e)return e;var t=this.getSessionStorage();if(t)return t}catch(e){return this.getInternalStorage()}},isCORSRequest:function(e){var t=document.createElement("a");return t.href=e,t.host!==window.location.host},getCookieValue:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}},f=function(){function e(t){var n=this;(0,s.default)(this,e),this.STORAGE_KEY_PREAMBLE="herment",this.MAXEVENTS=100,this.PUBLISH_INTERVAL=5e3,this.SAVE_INTERVAL=1e3,this.isStarted=!1,this.config=this.parseConfig(t),this.storage=l.getStorage(),window.addEventListener("unload",function(){return n.moveQueueToStorage()})}return(0,c.default)(e,[{key:"getAtlPath",value:function(){return l.getCookieValue("__atl_path")}},{key:"getServerName",value:function(){return document.location.hostname}},{key:"getProductNameFromServerName",value:function(e){return void 0!==e?e.replace(".com","").replace(".net","").replace(".org","").replace(".au","").replace(".io",""):"-"}},{key:"getSubdomain",value:function(e){if(e.match(/^([a-z0-9\.]*)[\-\.]{1}([a-z0-9]+)+\.([a-z]{2,6})$/i)){var t=e.split(".");if(t=2===t[t.length-1].length?t.slice(0,t.length-3):t.slice(0,t.length-2),0!==t.length)return t.join(".")}return"-"}},{key:"generateRandomStorageKey",value:function(){var e=(Math.random()+"").slice(2,12),t=(Math.random()+"").slice(2,12);return e.concat(t)}},{key:"ajaxPost",value:function(e,t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Accept","application/json, text/javascript, */*;"),n.send(t)}},{key:"parseConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window,n=t.AJS?t.AJS.EventQueue:[],r=e.queue||n,i=e.analyticsscheme||"https",o=e.analyticsserver||"analytics.atlassian.com",a=e.analyticsurl||"/analytics/events",s=e.server||this.getServerName();return{queue:r,gasScheme:i,gasServer:o,gasUrl:a,serverName:s,productName:e.product||this.getProductNameFromServerName(s),subProductName:e.subproduct||this.getSubdomain(s)||"-",version:e.version,session:e.session,sen:e.sen,sourceIP:e.sourceIP,atlPath:e.atlpath||this.getAtlPath(),post:e.ajax||this.ajaxPost,maxevents:e.maxevents||this.MAXEVENTS,storageKey:e.storage_key||this.STORAGE_KEY_PREAMBLE+this.generateRandomStorageKey()+this.generateRandomStorageKey(),user:e.user||"default",publishInterval:e.publish_interval||this.PUBLISH_INTERVAL,saveInterval:e.save_interval||this.SAVE_INTERVAL}}},{key:"pushToServer",value:function(e,t){var n=this.config,r=n.gasScheme,i=n.gasServer,a=n.gasUrl;(t||this.config.post)(r+"://"+i+a,(0,o.default)({events:e}))}},{key:"addEventsToArray",value:function(e,t,n){if(n&&n.server&&n.product&&n.subproduct&&n.user)for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(t.length>=this.config.maxevents)return;if(i.name&&i.properties){var o={name:i.name,properties:i.properties,serverTime:i.time||(new Date).getTime(),server:n.server,user:n.user,product:n.product,subproduct:n.subproduct,version:n.version,session:n.session,sen:n.sen,sourceIP:n.sourceIP,atlPath:n.atlPath};t.push(o)}}}},{key:"publishFromQueueAndStorage",value:function(e){try{var t=e||this.pushToServer.bind(this),n=[];if(this.config.queue.length<1&&(void 0===this.storage||this.storage.length<1))return;var r={server:this.config.serverName,user:this.config.user,product:this.config.productName,subproduct:this.config.subProductName,version:this.config.version,session:this.config.session,sen:this.config.sen,sourceIP:this.config.sourceIP,atlPath:this.config.atlPath};this.addEventsToArray(this.config.queue,n,r);var i=this.popEventsFromStorage();this.addEventsToArray(i,n,r),this.config.queue.length=0,n&&n.length&&t(n)}catch(e){}}},{key:"serialiseEventsToString",value:function(e){return(0,o.default)(e)}},{key:"deserialiseEvents",value:function(e){return JSON.parse(e)}},{key:"storeEvents",value:function(e){if(this.storage)try{if(this.storage[this.config.storageKey]){var t=this.deserialiseEvents(this.storage[this.config.storageKey])||[];t.length<this.config.maxevents&&t.push.apply(t,e),e=t}this.storage.setItem(this.config.storageKey,this.serialiseEventsToString(e))}catch(e){}}},{key:"popEventsFromStorage",value:function(){if(!this.storage)return[];try{if(this.storage[this.config.storageKey]){var e=this.deserialiseEvents(this.storage[this.config.storageKey]);return this.storage[this.config.storageKey]=this.serialiseEventsToString([]),e}}catch(e){}return[]}},{key:"moveQueueToStorage",value:function(){0!==this.config.queue.length&&this.storage&&(this.storeEvents(this.config.queue),this.config.queue.length=0)}},{key:"start",value:function(){var e=this;this.isStarted=!0;var t=Array.prototype.push;this.config.queue.push=function(n){n.time=(new Date).getTime(),t.call(e.config.queue,n)},this.initialSaveTimeout=setTimeout(this.publishFromQueueAndStorage.bind(this),this.config.saveInterval),this.publishInterval=setInterval(this.publishFromQueueAndStorage.bind(this),this.config.publishInterval),this.saveInterval=setInterval(this.moveQueueToStorage.bind(this),this.config.saveInterval)}},{key:"stop",value:function(){this.isStarted=!1,this.publishFromQueueAndStorage(),clearTimeout(this.initialSaveTimeout),clearInterval(this.saveInterval),clearInterval(this.publishInterval)}},{key:"destroy",value:function(){this.stop()}}]),e}(),d=void 0,h=function(){return function(e){return d?(d.stop(),void(d.config=d.parseConfig(e))):d=new f(e)}}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceByChunks=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(213)),r(n(112)),r(n(214)),r(n(216)),r(n(113)),r(n(122))},function(e,t,n){"use strict";function r(e,t){return{type:"FETCHING_COLLECTION_SUCCEEDED",collection:e,hasNextPage:t}}function i(e){return{type:"FETCHING_COLLECTION_FAILED",error:e}}Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e[e.click=0]="click",e[e.delete=1]="delete",e[e.download=2]="download",e[e.retry=3]="retry",e[e.custom=4]="custom"}(o=t.CardActionType||(t.CardActionType={})),t.CardClick=function(e){return{type:o.click,handler:e}},t.CardDelete=function(e){return{label:"Delete",type:o.delete,handler:e}},t.ListCardClick=function(e){return{type:o.click,handler:e}},t.ListCardDelete=function(e){return{label:"Delete",type:o.delete,handler:e}},t.CollectionCardClick=function(e){return{type:o.click,handler:e}},t.fetchingCollectionSucceeded=r,t.fetchingCollectionFailed=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(215);t.DefaultMediaStateManager=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=function(){function e(){this.subscribers={},this.state=new Map}return e.prototype.getState=function(e){return this.state.get(e)},e.prototype.updateState=function(e,t){var n=this.subscribers[e],i=r.__assign({},this.state.get(e)||{},t);this.state.set(e,i),void 0!==n&&Array.from(n).forEach(function(e){return e.call(e,i)})},e.prototype.subscribe=function(e,t){var n=this.subscribers,r=n[e];void 0===r&&(r=[],n[e]=r),r.indexOf(t)>-1||r.push(t)},e.prototype.unsubscribe=function(e,t){var n=this.subscribers[e];if(void 0!==n){var r=n.indexOf(t);r>-1&&n.splice(r,1)}},e.prototype.destroy=function(){this.subscribers={}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);n(217),n(218);var i=n(113),o=n(242),a=n(244),s=n(124),u=n(245),c=n(127),l=200,f=function(){function e(){}return e.create=function(e){return new d(e)},e}();t.ContextFactory=f;var d=function(){function e(e){this.config=e,this.collectionPool=o.RemoteMediaCollectionProviderFactory.createPool(),this.itemPool=i.MediaItemProvider.createPool(),this.urlPreviewPool=i.MediaUrlPreviewProvider.createPool(),this.fileItemCache=new u.LRUCache(e.cacheSize||l)}return e.prototype.getMediaItemProvider=function(e,t,n,o){var a=o&&"link"===o.type,s=o&&"file"===o.type&&"pending"!==o.details.processingStatus;if(o&&(a||s))return{observable:function(){return r.Observable.of(o)}};var u=i.MediaItemProvider.fromPool(this.itemPool,this.apiConfig,this.fileItemCache,t,e,n);return o?{observable:function(){return u.observable().startWith(o)}}:u},e.prototype.getMediaCollectionProvider=function(e,t){return void 0===t&&(t=c.DEFAULT_COLLECTION_PAGE_SIZE),o.RemoteMediaCollectionProviderFactory.fromPool(this.collectionPool,this.apiConfig,e,t)},e.prototype.getDataUriService=function(e){return new a.MediaDataUriService(this.config.authProvider,this.config.serviceHost,e)},e.prototype.getUrlPreviewProvider=function(e){return i.MediaUrlPreviewProvider.fromPool(this.urlPreviewPool,this.apiConfig,e)},e.prototype.addLinkItem=function(e,t,n){return new s.MediaLinkService(this.apiConfig).addLinkItem(e,t,n)},e.prototype.refreshCollection=function(e,t){this.getMediaCollectionProvider(e,t).refresh()},Object.defineProperty(e.prototype,"apiConfig",{get:function(){return{serviceHost:this.config.serviceHost,authProvider:this.config.authProvider}},enumerable:!0,configurable:!0}),e}()},function(e,t){e.exports=n(57)},function(e,t){e.exports=n(63)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function t(e,t){this.config=e,this.fileItemCache=t}return t.prototype.getFileItem=function(t,n){var i=this,o=[t,"file"].join("-"),a=this.fileItemCache.get(o);return a?e.resolve(a):r.default({config:this.config,collectionName:n,preventPreflight:!0})({url:"/file/"+t}).then(function(e){return e.data}).then(function(e){var t={type:"file",details:{id:e.id,mediaType:e.mediaType,mimeType:e.mimeType,name:e.name,processingStatus:e.processingStatus,size:e.size,artifacts:e.artifacts}};return"succeeded"===e.processingStatus&&i.fileItemCache.set(o,t),t})},t}();t.MediaFileService=i}).call(t,n(7))},function(e,t,n){"use strict";(function(t){function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(6),o=n(117),a=n(221),s=n(81),u=r(s);u.Axios=a,u.create=function(e){return r(i.merge(s,e))},u.Cancel=n(121),u.CancelToken=n(235),u.isCancel=n(120),u.all=function(e){return t.all(e)},u.spread=n(236),e.exports=u,e.exports.default=u}).call(t,n(7))},function(e,t,n){"use strict";(function(t){function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var i=n(81),o=n(6),a=n(230),s=n(231),u=n(233),c=n(234);r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url));var n=[s,void 0],r=t.resolve(e);for(this.interceptors.request.forEach(function(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},o.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r}).call(t,n(7))},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(119);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(6);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!==e&&void 0!==e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),function(e){i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)}),o):o}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function i(e){for(var t,n,i=String(e),a="",s=0,u=o;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;t=t<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=i},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){
var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(6);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";(function(t){function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(6),o=n(232),a=n(120),s=n(81);e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(n){return a(n)||(r(e),n&&n.response&&(n.response.data=o(n.response.data,n.response.headers,e.transformResponse))),t.reject(n)})}}).call(t,n(7))},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";(function(t){function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new t(function(e){n=e});var r=this;e(function(e){r.reason||(r.reason=new i(e),n(r.reason))})}var i=n(121);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r}).call(t,n(7))},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isImageRemote=function(e,t){if(void 0===t&&(t=window.location.origin),URL&&URL.prototype){var n=new URL(e);return!!n.host&&n.origin!==t}return!0}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n;t.checkWebpSupport=function(){return void 0!==n?e.resolve(n):new e(function(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){n=2===t.height,e(n)}})}}).call(t,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),i=n(123),o=n(82),a=n(125),s=function(){function e(){}return e.fromMediaApi=function(e,t,n,o,a){switch(n){case"file":return r.FileProvider.fromMediaApi(e,t,o,a,r.FILE_PROVIDER_RETRY_INTERVAL);case"link":return i.LinkProvider.fromMediaApi(e,o,a);default:throw new Error("invalid media type "+n)}},e.fromPool=function(t,n,r,i,o,s){return{observable:function(){var u=[i,o,s].join("-");return a.observableFromObservablePool(t,u,function(){return e.fromMediaApi(n,r,i,o,s).observable()})}}},e.createPool=function(){return new o.Pool},e}();t.MediaItemProvider=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(126),o=n(82),a=n(125),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.fromMediaApi=function(e,t){return i.UrlPreviewProvider.fromMediaApi(e,t)},t.fromPool=function(e,n,r){return{observable:function(){return a.observableFromObservablePool(e,r,function(){return t.fromMediaApi(n,r).observable()})}}},t.createPool=function(){return new o.Pool},t}(i.UrlPreviewProvider);t.MediaUrlPreviewProvider=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function e(e){this.config=e}return e.prototype.getUrlPreview=function(e){return r.default({config:this.config})({url:"/link/preview",params:{url:e}}).then(function(e){var t=e.data,n=t.preview,r=t.previewError;if(r)throw new Error(r.code+": "+r.name);return n})},e}();t.MediaUrlPreviewService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(114),i=n(127),o=n(243),a=n(82),s=function(){function e(){}return e.fromCollectionService=function(e,t,n,i){return void 0===i&&(i="desc"),new r.RemoteMediaCollectionProvider(e,t,n,i)},e.fromMediaAPI=function(t,n,r,o){return void 0===o&&(o="desc"),e.fromCollectionService(new i.MediaCollectionService(t),n,r,o)},e.fromPool=function(e,t,n,a,s){void 0===s&&(s="desc");var u=[n,a,s].join("-"),c=function(){var e=new i.MediaCollectionService(t);return new r.RemoteMediaCollectionProvider(e,n,a,s)};return o.mediaCollectionProviderFromPool(e,u,c)},e.createPool=function(){return new a.Pool},e}();t.RemoteMediaCollectionProviderFactory=s},function(e,t,n){"use strict";function r(e,t,n){return e.acquire(t,function(){var r=n(),o=r.observable;return r.observable=function(){return new i.Observable(function(n){var i=o.bind(r)(),a=i.subscribe(n);return function(){a.unsubscribe(),e.release(t)}})},r})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(26);t.mediaCollectionProviderFromPool=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function t(e,t,n){this.authProvider=e,this.serviceHost=t,this.collectionName=n,this.request=r.default({config:{serviceHost:this.serviceHost,authProvider:this.authProvider},collectionName:this.collectionName})}return t.prototype.fetchOriginalDataUri=function(e){return this.fetchSomeDataUri("/file/"+e.details.id+"/binary",{"max-age":3600,collection:this.collectionName})},t.prototype.fetchImageDataUri=function(e,t,n,r){return void 0===r&&(r="crop"),this.fetchSomeDataUri("/file/"+e.details.id+"/image",{width:t,height:n,mode:r,"max-age":3600,collection:this.collectionName})},t.prototype.fetchSomeDataUri=function(e,t){return this.request({url:e,params:t,responseType:"image"}).then(this.readBlob)},t.prototype.readBlob=function(t){return new e(function(e,n){var r=new FileReader;r.addEventListener("load",function(){return e(r.result)}),r.addEventListener("error",function(){return n(r.error)}),r.readAsDataURL(t)})},t}();t.MediaDataUriService=i}).call(t,n(7))},function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var r;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(r=this.newest;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.oldest;r;)e.call(t,r.key,r.value,this),r=r.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},function(e,t,n){e.exports={default:n(247),__esModule:!0}},function(e,t,n){n(73),n(30),n(33),n(248),n(254),n(257),n(259),e.exports=n(2).Set},function(e,t,n){"use strict";var r=n(249),i=n(130);e.exports=n(250)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(9).f,i=n(45),o=n(76),a=n(14),s=n(74),u=n(34),c=n(65),l=n(97),f=n(107),d=n(12),h=n(70).fastKey,p=n(130),v=d?"_s":"size",m=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=p(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(p(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return p(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(70),a=n(18),s=n(15),u=n(76),c=n(34),l=n(74),f=n(11),d=n(32),h=n(9).f,p=n(251)(0),v=n(12);e.exports=function(e,t,n,m,y,b){var g=r[e],_=g,w=y?"set":"add",x=_&&_.prototype,k={};return v&&"function"==typeof _&&(b||x.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,n){l(t,_,e,"_c"),t._c=new g,void 0!=n&&c(n,y,t[w],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!b||"clear"!=e)&&s(_.prototype,e,function(n,r){if(l(this,_,e),!t&&b&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),b||h(_.prototype,"size",{get:function(){return this._c.size}})):(_=m.getConstructor(t,e,y,w),u(_.prototype,n),o.NEED=!0),d(_,e),k[e]=_,i(i.G+i.W+i.F,k),b||m.setStrong(_,e,y),_}},function(e,t,n){var r=n(14),i=n(66),o=n(41),a=n(67),s=n(252);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var v,m,y=o(t),b=i(y),g=r(s,p,3),_=a(b.length),w=0,x=n?h(t,_):u?h(t,0):void 0;_>w;w++)if((d||w in b)&&(v=b[w],m=g(v,w,y),e))if(n)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(l)return!1;return f?-1:c||l?l:x}}},function(e,t,n){var r=n(253);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(11),i=n(98),o=n(3)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);r(r.P+r.R,"Set",{toJSON:n(255)("Set")})},function(e,t,n){var r=n(49),i=n(256);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(34);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(258)("Set")},function(e,t,n){"use strict";var r=n(5);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(260)("Set")},function(e,t,n){"use strict";var r=n(5),i=n(29),o=n(14),a=n(34);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(22),c=function(){function e(t,n,r,i){return(0,o.default)(this,e),this.size=t,this.progress=n,this.startTime=r,this.measureTime=i,e.isValidSize(t)?e.isValidProgress(t,n)?e.isValidStartTime(r)?e.isValidMeasureTime(r,i)?(this.size=t,this.progress=n,this.startTime=r,void(this.measureTime=i)):void u.handleError("wrong_measure_time","The progress measure time has incorrect format."):void u.handleError("wrong_start_time","The progress start time has incorrect format."):void u.handleError("wrong_progress","The progress format is incorrect."):void u.handleError("wrong_file_size","Passed file size is incorrect.")}return(0,s.default)(e,[{key:"toJSON",value:function(){return{absolute:this.absolute,portion:this.portion,max:this.max,overallTime:this.overallTime,expectedFinishTime:this.expectedFinishTime,timeLeft:this.timeLeft}}},{key:"absolute",get:function(){return this.progress}},{key:"portion",get:function(){return this.progress/this.size}},{key:"max",get:function(){return this.size}},{key:"overallTime",get:function(){return(this.measureTime-this.startTime)/this.portion}},{key:"expectedFinishTime",get:function(){return this.startTime+this.overallTime}},{key:"timeLeft",get:function(){return this.expectedFinishTime-this.measureTime}}],[{key:"isValidSize",value:function(e){return"number"==typeof e&&e>0}},{key:"isValidProgress",value:function(t,n){return e.isValidSize(t)&&"number"==typeof n&&n>=0&&n<=t}},{key:"isValidStartTime",value:function(e){return"number"==typeof e&&e>0}},{key:"isValidMeasureTime",value:function(t,n){return e.isValidStartTime(t)&&"number"==typeof n&&n>=t}}]),e}();t.MediaProgress=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(263),i=n(265);t.createHasher=function(){var e=void 0;try{e=new i.WorkerHasher(3)}catch(t){e=new r.SimpleHasher}return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(264),c=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"hash",value:function(e){var t=e.fileObj.file,n=t.slice(e.startByte,e.endByte),r=new FileReader;r.onload=function(t){var n=t.target.result;e.hash=new u(4194304).digestFromArrayBuffer(n),e.preprocessFinished()},r.readAsArrayBuffer(n)}}]),e}();t.SimpleHasher=c},function(e,t,n){(function(t){!function(){function n(e){"use strict";for(var t={fill:0},o=function(e){for(e+=9;e%64>0;e+=1);return e},a=function(e,t){var n=new Uint8Array(e.buffer),r=t%4,i=t-r;switch(r){case 0:n[i+3]=0;case 1:n[i+2]=0;case 2:n[i+1]=0;case 3:n[i+0]=0}for(var o=1+(t>>2);o<e.length;o++)e[o]=0},s=function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[14+(2+(t>>2)&-16)]=n/(1<<29)|0,e[15+(2+(t>>2)&-16)]=n<<3},u=function(e,t,n,r,i){var o,a=this,s=i%4,u=(r+s)%4,c=r-u;switch(s){case 0:e[i]=a.charCodeAt(n+3);case 1:e[i+1-(s<<1)|0]=a.charCodeAt(n+2);case 2:e[i+2-(s<<1)|0]=a.charCodeAt(n+1);case 3:e[i+3-(s<<1)|0]=a.charCodeAt(n)}if(!(r<u+s)){for(o=4-s;o<c;o=o+4|0)t[i+o>>2]=a.charCodeAt(n+o)<<24|a.charCodeAt(n+o+1)<<16|a.charCodeAt(n+o+2)<<8|a.charCodeAt(n+o+3);switch(u){case 3:e[i+c+1|0]=a.charCodeAt(n+c+2);case 2:e[i+c+2|0]=a.charCodeAt(n+c+1);case 1:e[i+c+3|0]=a.charCodeAt(n+c)}}},c=function(e,t,n,r,i){var o,a=this,s=i%4,u=(r+s)%4,c=r-u;switch(s){case 0:e[i]=a[n+3];case 1:e[i+1-(s<<1)|0]=a[n+2];case 2:e[i+2-(s<<1)|0]=a[n+1];case 3:e[i+3-(s<<1)|0]=a[n]}if(!(r<u+s)){for(o=4-s;o<c;o=o+4|0)t[i+o>>2|0]=a[n+o]<<24|a[n+o+1]<<16|a[n+o+2]<<8|a[n+o+3];switch(u){case 3:e[i+c+1|0]=a[n+c+2];case 2:e[i+c+2|0]=a[n+c+1];case 1:e[i+c+3|0]=a[n+c]}}},l=function(e,t,n,r,o){var a,s=this,u=o%4,c=(r+u)%4,l=r-c,f=new Uint8Array(i.readAsArrayBuffer(s.slice(n,n+r)));switch(u){case 0:e[o]=f[3];case 1:e[o+1-(u<<1)|0]=f[2];case 2:e[o+2-(u<<1)|0]=f[1];case 3:e[o+3-(u<<1)|0]=f[0]}if(!(r<c+u)){for(a=4-u;a<l;a=a+4|0)t[o+a>>2|0]=f[a]<<24|f[a+1]<<16|f[a+2]<<8|f[a+3];switch(c){case 3:e[o+l+1|0]=f[l+2];case 2:e[o+l+2|0]=f[l+1];case 1:e[o+l+3|0]=f[l]}}},f=function(e){switch(r.getDataType(e)){case"string":return u.bind(e);case"array":case"buffer":return c.bind(e);case"arraybuffer":return c.bind(new Uint8Array(e));case"view":return c.bind(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));case"blob":return l.bind(e)}},d=new Array(256),h=0;h<256;h++)d[h]=(h<16?"0":"")+h.toString(16);var p=function(e){for(var t=new Uint8Array(e),n=new Array(e.byteLength),r=0;r<n.length;r++)n[r]=d[t[r]];return n.join("")},v=function(e){var t;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t};!function(e){if(e%64>0)throw new Error("Chunk size must be a multiple of 128 bit");t.offset=0,t.maxChunkLen=e,t.padMaxChunkLen=o(e),t.heap=new ArrayBuffer(v(t.padMaxChunkLen+320+20)),t.h32=new Int32Array(t.heap),t.h8=new Int8Array(t.heap),t.core=new n._core({Int32Array:Int32Array,DataView:DataView},{},t.heap),t.buffer=null}(e||65536);var m=function(e,n){t.offset=0;var r=new Int32Array(e,n+320,5);r[0]=1732584193,r[1]=-271733879,r[2]=-1732584194,r[3]=271733878,r[4]=-1009589776},y=function(e,n){var r=o(e),i=new Int32Array(t.heap,0,r>>2);return a(i,e),s(i,e,n),r},b=function(e,n,r,i){f(e)(t.h8,t.h32,n,r,i||0)},g=function(e,n,r,i,o){var a=r;b(e,n,r),o&&(a=y(r,i)),t.core.hash(a,t.padMaxChunkLen)},_=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),i=new DataView(r.buffer);return i.setInt32(0,n[0],!1),i.setInt32(4,n[1],!1),i.setInt32(8,n[2],!1),i.setInt32(12,n[3],!1),i.setInt32(16,n[4],!1),r},w=this.rawDigest=function(e){var n=e.byteLength||e.length||e.size||0;m(t.heap,t.padMaxChunkLen);var r=0,i=t.maxChunkLen;for(r=0;n>r+i;r+=i)g(e,r,i,n,!1);return g(e,r,n-r,n,!0),_(t.heap,t.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(e){return p(w(e).buffer)},this.resetState=function(){return m(t.heap,t.padMaxChunkLen),this},this.append=function(e){var n,r=0,i=e.byteLength||e.length||e.size||0,o=t.offset%t.maxChunkLen;for(t.offset+=i;r<i;)n=Math.min(i-r,t.maxChunkLen-o),b(e,r,n,o),o+=n,r+=n,o===t.maxChunkLen&&(t.core.hash(t.maxChunkLen,t.padMaxChunkLen),o=0);return this},this.getState=function(){var e;if(t.offset%t.maxChunkLen)e=t.heap.slice(0);else{var n=new Int32Array(t.heap,t.padMaxChunkLen+320,5);e=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}return{offset:t.offset,heap:e}},this.setState=function(e){return t.offset=e.offset,20===e.heap.byteLength?new Int32Array(t.heap,t.padMaxChunkLen+320,5).set(new Int32Array(e.heap)):t.h32.set(new Int32Array(e.heap)),this};var x=this.rawEnd=function(){var e=t.offset,n=e%t.maxChunkLen,r=y(n,e);t.core.hash(r,t.padMaxChunkLen);var i=_(t.heap,t.padMaxChunkLen);return m(t.heap,t.padMaxChunkLen),i};this.end=function(){return p(x().buffer)}}var r={getDataType:function(e){if("string"==typeof e)return"string";if(e instanceof Array)return"array";if(void 0!==t&&t.Buffer&&t.Buffer.isBuffer(e))return"buffer";if(e instanceof ArrayBuffer)return"arraybuffer";if(e.buffer instanceof ArrayBuffer)return"view";if(e instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};if(n._core=function(e,t,n){"use asm";var r=new e.Int32Array(n);function i(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=0,d=0,h=0,p=0,v=0,m=0;o=r[t+320>>2]|0;s=r[t+324>>2]|0;c=r[t+328>>2]|0;f=r[t+332>>2]|0;h=r[t+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){a=o;u=s;l=c;d=f;p=h;for(i=0;(i|0)<64;i=i+4|0){m=r[n+i>>2]|0;v=((o<<5|o>>>27)+(s&c|~s&f)|0)+((m+h|0)+1518500249|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[e+i>>2]=m}for(i=e+64|0;(i|0)<(e+80|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s&c|~s&f)|0)+((m+h|0)+1518500249|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}for(i=e+80|0;(i|0)<(e+160|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s^c^f)|0)+((m+h|0)+1859775393|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}for(i=e+160|0;(i|0)<(e+240|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s&c|s&f|c&f)|0)+((m+h|0)-1894007588|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}for(i=e+240|0;(i|0)<(e+320|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s^c^f)|0)+((m+h|0)-899497514|0)|0;h=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}o=o+a|0;s=s+u|0;c=c+l|0;f=f+d|0;h=h+p|0}r[t+320>>2]=o;r[t+324>>2]=s;r[t+328>>2]=c;r[t+332>>2]=f;r[t+336>>2]=h}return{hash:i}},e.exports=n,"undefined"!=typeof FileReaderSync){var i=new FileReaderSync,o=function(e,t,n){try{return n(null,e.digest(t))}catch(e){return n(e)}},a=function(e,t,n,r,i){var o=new self.FileReader;o.onloadend=function(){var s=o.result;t+=o.result.byteLength;try{e.append(s)}catch(e){return void i(e)}t<r.size?a(e,t,n,r,i):i(null,e.end())},o.readAsArrayBuffer(r.slice(t,t+n))};self.onmessage=function(e){var t=e.data.data,r=e.data.file,i=e.data.id;if(void 0!==i&&(r||t)){var s=e.data.blockSize||4194304,u=new n(s);u.resetState();var c=function(e,t){e?self.postMessage({id:i,error:e.name}):self.postMessage({id:i,hash:t})};t&&o(u,t,c),r&&a(u,0,s,r,c)}}}}()}).call(t,n(52))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(266),c=function(){function e(t){(0,o.default)(this,e),this.workers=[],this.jobs={};for(var n=0;n<t;++n)this.workers.push(this.createWorker())}return(0,s.default)(e,[{key:"hash",value:function(e){this.calculateHashInWorker(e)}},{key:"createWorker",value:function(){var e=this,t=new Blob([u]),n=URL.createObjectURL(t),r=new Worker(n),i={worker:r,activeJobs:0};return r.addEventListener("message",function(t){e.handleWorkerMessage(t,i)}),i}},{key:"handleWorkerMessage",value:function(e,t){var n=e.data.id,r=this.jobs[n];r&&(delete this.jobs[n],t.activeJobs--,e.data.error?this.calculateHashInWorker(r):(r.hash=e.data.hash,r.preprocessFinished()))}},{key:"calculateHashInWorker",value:function(e){var t=e.fileObj.file,n=t.slice(e.startByte,e.endByte),r=e.fileObj.fileName+e.fileObjSize+e.startByte;this.jobs[r]=e;var i=this.getWorker();this.dispatch(r,i,n)}},{key:"dispatch",value:function(e,t,n){t.activeJobs++;var r=t.worker;if(navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")){var i=new FileReader;return i.onload=function(){r.postMessage({id:e,data:i.result})},void i.readAsBinaryString(n)}r.postMessage({id:e,data:n})}},{key:"getWorker",value:function(){return this.workers.reduce(function(e,t){return t.activeJobs<e.activeJobs?t:e},this.workers[0])}}]),e}();t.WorkerHasher=c},function(e,t){e.exports="(function () {\n    var /*\n * Rusha, a JavaScript implementation of the Secure Hash Algorithm, SHA-1,\n * as defined in FIPS PUB 180-1, tuned for high performance with large inputs.\n * (http://github.com/srijs/rusha)\n *\n * Inspired by Paul Johnstons implementation (http://pajhome.org.uk/crypt/md5).\n *\n * Copyright (c) 2013 Sam Rijs (http://awesam.de).\n * Released under the terms of the MIT license as follows:\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n    util = {\n        getDataType: function (data) {\n            if (typeof data === 'string') {\n                return 'string';\n            }\n            if (data instanceof Array) {\n                return 'array';\n            }\n            if (typeof global !== 'undefined' && global.Buffer && global.Buffer.isBuffer(data)) {\n                return 'buffer';\n            }\n            if (data instanceof ArrayBuffer) {\n                return 'arraybuffer';\n            }\n            if (data.buffer instanceof ArrayBuffer) {\n                return 'view';\n            }\n            if (data instanceof Blob) {\n                return 'blob';\n            }\n            throw new Error('Unsupported data type.');\n        }\n    };\n    function Rusha(chunkSize) {\n        'use strict';\n        var // Private object structure.\n        self$2 = { fill: 0 };\n        var // Calculate the length of buffer that the sha1 routine uses\n        // including the padding.\n        padlen = function (len) {\n            for (len += 9; len % 64 > 0; len += 1);\n            return len;\n        };\n        var padZeroes = function (bin, len) {\n            var h8 = new Uint8Array(bin.buffer);\n            var om = len % 4, align = len - om;\n            switch (om) {\n            case 0:\n                h8[align + 3] = 0;\n            case 1:\n                h8[align + 2] = 0;\n            case 2:\n                h8[align + 1] = 0;\n            case 3:\n                h8[align + 0] = 0;\n            }\n            for (var i$2 = (len >> 2) + 1; i$2 < bin.length; i$2++)\n                bin[i$2] = 0;\n        };\n        var padData = function (bin, chunkLen, msgLen) {\n            bin[chunkLen >> 2] |= 128 << 24 - (chunkLen % 4 << 3);\n            // To support msgLen >= 2 GiB, use a float division when computing the\n            // high 32-bits of the big-endian message length in bits.\n            bin[((chunkLen >> 2) + 2 & ~15) + 14] = msgLen / (1 << 29) | 0;\n            bin[((chunkLen >> 2) + 2 & ~15) + 15] = msgLen << 3;\n        };\n        var // Convert a binary string and write it to the heap.\n        // A binary string is expected to only contain char codes < 256.\n        convStr = function (H8, H32, start, len, off) {\n            var str = this, i$2, om = off % 4, lm = (len + om) % 4, j = len - lm;\n            switch (om) {\n            case 0:\n                H8[off] = str.charCodeAt(start + 3);\n            case 1:\n                H8[off + 1 - (om << 1) | 0] = str.charCodeAt(start + 2);\n            case 2:\n                H8[off + 2 - (om << 1) | 0] = str.charCodeAt(start + 1);\n            case 3:\n                H8[off + 3 - (om << 1) | 0] = str.charCodeAt(start);\n            }\n            if (len < lm + om) {\n                return;\n            }\n            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 + 4 | 0) {\n                H32[off + i$2 >> 2] = str.charCodeAt(start + i$2) << 24 | str.charCodeAt(start + i$2 + 1) << 16 | str.charCodeAt(start + i$2 + 2) << 8 | str.charCodeAt(start + i$2 + 3);\n            }\n            switch (lm) {\n            case 3:\n                H8[off + j + 1 | 0] = str.charCodeAt(start + j + 2);\n            case 2:\n                H8[off + j + 2 | 0] = str.charCodeAt(start + j + 1);\n            case 1:\n                H8[off + j + 3 | 0] = str.charCodeAt(start + j);\n            }\n        };\n        var // Convert a buffer or array and write it to the heap.\n        // The buffer or array is expected to only contain elements < 256.\n        convBuf = function (H8, H32, start, len, off) {\n            var buf = this, i$2, om = off % 4, lm = (len + om) % 4, j = len - lm;\n            switch (om) {\n            case 0:\n                H8[off] = buf[start + 3];\n            case 1:\n                H8[off + 1 - (om << 1) | 0] = buf[start + 2];\n            case 2:\n                H8[off + 2 - (om << 1) | 0] = buf[start + 1];\n            case 3:\n                H8[off + 3 - (om << 1) | 0] = buf[start];\n            }\n            if (len < lm + om) {\n                return;\n            }\n            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 + 4 | 0) {\n                H32[off + i$2 >> 2 | 0] = buf[start + i$2] << 24 | buf[start + i$2 + 1] << 16 | buf[start + i$2 + 2] << 8 | buf[start + i$2 + 3];\n            }\n            switch (lm) {\n            case 3:\n                H8[off + j + 1 | 0] = buf[start + j + 2];\n            case 2:\n                H8[off + j + 2 | 0] = buf[start + j + 1];\n            case 1:\n                H8[off + j + 3 | 0] = buf[start + j];\n            }\n        };\n        var convBlob = function (H8, H32, start, len, off) {\n            var blob = this, i$2, om = off % 4, lm = (len + om) % 4, j = len - lm;\n            var buf = new Uint8Array(reader.readAsArrayBuffer(blob.slice(start, start + len)));\n            switch (om) {\n            case 0:\n                H8[off] = buf[3];\n            case 1:\n                H8[off + 1 - (om << 1) | 0] = buf[2];\n            case 2:\n                H8[off + 2 - (om << 1) | 0] = buf[1];\n            case 3:\n                H8[off + 3 - (om << 1) | 0] = buf[0];\n            }\n            if (len < lm + om) {\n                return;\n            }\n            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 + 4 | 0) {\n                H32[off + i$2 >> 2 | 0] = buf[i$2] << 24 | buf[i$2 + 1] << 16 | buf[i$2 + 2] << 8 | buf[i$2 + 3];\n            }\n            switch (lm) {\n            case 3:\n                H8[off + j + 1 | 0] = buf[j + 2];\n            case 2:\n                H8[off + j + 2 | 0] = buf[j + 1];\n            case 1:\n                H8[off + j + 3 | 0] = buf[j];\n            }\n        };\n        var convFn = function (data) {\n            switch (util.getDataType(data)) {\n            case 'string':\n                return convStr.bind(data);\n            case 'array':\n                return convBuf.bind(data);\n            case 'buffer':\n                return convBuf.bind(data);\n            case 'arraybuffer':\n                return convBuf.bind(new Uint8Array(data));\n            case 'view':\n                return convBuf.bind(new Uint8Array(data.buffer, data.byteOffset, data.byteLength));\n            case 'blob':\n                return convBlob.bind(data);\n            }\n        };\n        var slice = function (data, offset) {\n            switch (util.getDataType(data)) {\n            case 'string':\n                return data.slice(offset);\n            case 'array':\n                return data.slice(offset);\n            case 'buffer':\n                return data.slice(offset);\n            case 'arraybuffer':\n                return data.slice(offset);\n            case 'view':\n                return data.buffer.slice(offset);\n            }\n        };\n        var // Precompute 00 - ff strings\n        precomputedHex = new Array(256);\n        for (var i = 0; i < 256; i++) {\n            precomputedHex[i] = (i < 16 ? '0' : '') + i.toString(16);\n        }\n        var // Convert an ArrayBuffer into its hexadecimal string representation.\n        hex = function (arrayBuffer) {\n            var binarray = new Uint8Array(arrayBuffer);\n            var res = new Array(arrayBuffer.byteLength);\n            for (var i$2 = 0; i$2 < res.length; i$2++) {\n                res[i$2] = precomputedHex[binarray[i$2]];\n            }\n            return res.join('');\n        };\n        var ceilHeapSize = function (v) {\n            // The asm.js spec says:\n            // The heap object's byteLength must be either\n            // 2^n for n in [12, 24) or 2^24 * n for n  1.\n            // Also, byteLengths smaller than 2^16 are deprecated.\n            var p;\n            if (// If v is smaller than 2^16, the smallest possible solution\n                // is 2^16.\n                v <= 65536)\n                return 65536;\n            if (// If v < 2^24, we round up to 2^n,\n                // otherwise we round up to 2^24 * n.\n                v < 16777216) {\n                for (p = 1; p < v; p = p << 1);\n            } else {\n                for (p = 16777216; p < v; p += 16777216);\n            }\n            return p;\n        };\n        var // Initialize the internal data structures to a new capacity.\n        init = function (size) {\n            if (size % 64 > 0) {\n                throw new Error('Chunk size must be a multiple of 128 bit');\n            }\n            self$2.offset = 0;\n            self$2.maxChunkLen = size;\n            self$2.padMaxChunkLen = padlen(size);\n            // The size of the heap is the sum of:\n            // 1. The padded input message size\n            // 2. The extended space the algorithm needs (320 byte)\n            // 3. The 160 bit state the algoritm uses\n            self$2.heap = new ArrayBuffer(ceilHeapSize(self$2.padMaxChunkLen + 320 + 20));\n            self$2.h32 = new Int32Array(self$2.heap);\n            self$2.h8 = new Int8Array(self$2.heap);\n            self$2.core = new Rusha._core({\n                Int32Array: Int32Array,\n                DataView: DataView\n            }, {}, self$2.heap);\n            self$2.buffer = null;\n        };\n        // Iinitializethe datastructures according\n        // to a chunk siyze.\n        init(chunkSize || 64 * 1024);\n        var initState = function (heap, padMsgLen) {\n            self$2.offset = 0;\n            var io = new Int32Array(heap, padMsgLen + 320, 5);\n            io[0] = 1732584193;\n            io[1] = -271733879;\n            io[2] = -1732584194;\n            io[3] = 271733878;\n            io[4] = -1009589776;\n        };\n        var padChunk = function (chunkLen, msgLen) {\n            var padChunkLen = padlen(chunkLen);\n            var view = new Int32Array(self$2.heap, 0, padChunkLen >> 2);\n            padZeroes(view, chunkLen);\n            padData(view, chunkLen, msgLen);\n            return padChunkLen;\n        };\n        var // Write data to the heap.\n        write = function (data, chunkOffset, chunkLen, off) {\n            convFn(data)(self$2.h8, self$2.h32, chunkOffset, chunkLen, off || 0);\n        };\n        var // Initialize and call the RushaCore,\n        // assuming an input buffer of length len * 4.\n        coreCall = function (data, chunkOffset, chunkLen, msgLen, finalize) {\n            var padChunkLen = chunkLen;\n            write(data, chunkOffset, chunkLen);\n            if (finalize) {\n                padChunkLen = padChunk(chunkLen, msgLen);\n            }\n            self$2.core.hash(padChunkLen, self$2.padMaxChunkLen);\n        };\n        var getRawDigest = function (heap, padMaxChunkLen) {\n            var io = new Int32Array(heap, padMaxChunkLen + 320, 5);\n            var out = new Int32Array(5);\n            var arr = new DataView(out.buffer);\n            arr.setInt32(0, io[0], false);\n            arr.setInt32(4, io[1], false);\n            arr.setInt32(8, io[2], false);\n            arr.setInt32(12, io[3], false);\n            arr.setInt32(16, io[4], false);\n            return out;\n        };\n        var // Calculate the hash digest as an array of 5 32bit integers.\n        rawDigest = this.rawDigest = function (str) {\n            var msgLen = str.byteLength || str.length || str.size || 0;\n            initState(self$2.heap, self$2.padMaxChunkLen);\n            var chunkOffset = 0, chunkLen = self$2.maxChunkLen;\n            for (chunkOffset = 0; msgLen > chunkOffset + chunkLen; chunkOffset += chunkLen) {\n                coreCall(str, chunkOffset, chunkLen, msgLen, false);\n            }\n            coreCall(str, chunkOffset, msgLen - chunkOffset, msgLen, true);\n            return getRawDigest(self$2.heap, self$2.padMaxChunkLen);\n        };\n        // The digest and digestFrom* interface returns the hash digest\n        // as a hex string.\n        this.digest = this.digestFromString = this.digestFromBuffer = this.digestFromArrayBuffer = function (str) {\n            return hex(rawDigest(str).buffer);\n        };\n        this.resetState = function () {\n            initState(self$2.heap, self$2.padMaxChunkLen);\n            return this;\n        };\n        this.append = function (chunk) {\n            var chunkOffset = 0;\n            var chunkLen = chunk.byteLength || chunk.length || chunk.size || 0;\n            var turnOffset = self$2.offset % self$2.maxChunkLen;\n            var inputLen;\n            self$2.offset += chunkLen;\n            while (chunkOffset < chunkLen) {\n                inputLen = Math.min(chunkLen - chunkOffset, self$2.maxChunkLen - turnOffset);\n                write(chunk, chunkOffset, inputLen, turnOffset);\n                turnOffset += inputLen;\n                chunkOffset += inputLen;\n                if (turnOffset === self$2.maxChunkLen) {\n                    self$2.core.hash(self$2.maxChunkLen, self$2.padMaxChunkLen);\n                    turnOffset = 0;\n                }\n            }\n            return this;\n        };\n        this.getState = function () {\n            var turnOffset = self$2.offset % self$2.maxChunkLen;\n            var heap;\n            if (!turnOffset) {\n                var io = new Int32Array(self$2.heap, self$2.padMaxChunkLen + 320, 5);\n                heap = io.buffer.slice(io.byteOffset, io.byteOffset + io.byteLength);\n            } else {\n                heap = self$2.heap.slice(0);\n            }\n            return {\n                offset: self$2.offset,\n                heap: heap\n            };\n        };\n        this.setState = function (state) {\n            self$2.offset = state.offset;\n            if (state.heap.byteLength === 20) {\n                var io = new Int32Array(self$2.heap, self$2.padMaxChunkLen + 320, 5);\n                io.set(new Int32Array(state.heap));\n            } else {\n                self$2.h32.set(new Int32Array(state.heap));\n            }\n            return this;\n        };\n        var rawEnd = this.rawEnd = function () {\n            var msgLen = self$2.offset;\n            var chunkLen = msgLen % self$2.maxChunkLen;\n            var padChunkLen = padChunk(chunkLen, msgLen);\n            self$2.core.hash(padChunkLen, self$2.padMaxChunkLen);\n            var result = getRawDigest(self$2.heap, self$2.padMaxChunkLen);\n            initState(self$2.heap, self$2.padMaxChunkLen);\n            return result;\n        };\n        this.end = function () {\n            return hex(rawEnd().buffer);\n        };\n    }\n    ;\n    // The low-level RushCore module provides the heart of Rusha,\n    // a high-speed sha1 implementation working on an Int32Array heap.\n    // At first glance, the implementation seems complicated, however\n    // with the SHA1 spec at hand, it is obvious this almost a textbook\n    // implementation that has a few functions hand-inlined and a few loops\n    // hand-unrolled.\n    Rusha._core = function RushaCore(stdlib, foreign, heap) {\n        'use asm';\n        var H = new stdlib.Int32Array(heap);\n        function hash(k, x) {\n            // k in bytes\n            k = k | 0;\n            x = x | 0;\n            var i = 0, j = 0, y0 = 0, z0 = 0, y1 = 0, z1 = 0, y2 = 0, z2 = 0, y3 = 0, z3 = 0, y4 = 0, z4 = 0, t0 = 0, t1 = 0;\n            y0 = H[x + 320 >> 2] | 0;\n            y1 = H[x + 324 >> 2] | 0;\n            y2 = H[x + 328 >> 2] | 0;\n            y3 = H[x + 332 >> 2] | 0;\n            y4 = H[x + 336 >> 2] | 0;\n            for (i = 0; (i | 0) < (k | 0); i = i + 64 | 0) {\n                z0 = y0;\n                z1 = y1;\n                z2 = y2;\n                z3 = y3;\n                z4 = y4;\n                for (j = 0; (j | 0) < 64; j = j + 4 | 0) {\n                    t1 = H[i + j >> 2] | 0;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | ~y1 & y3) | 0) + ((t1 + y4 | 0) + 1518500249 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[k + j >> 2] = t1;\n                }\n                for (j = k + 64 | 0; (j | 0) < (k + 80 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | ~y1 & y3) | 0) + ((t1 + y4 | 0) + 1518500249 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                for (j = k + 80 | 0; (j | 0) < (k + 160 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 ^ y2 ^ y3) | 0) + ((t1 + y4 | 0) + 1859775393 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                for (j = k + 160 | 0; (j | 0) < (k + 240 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | y1 & y3 | y2 & y3) | 0) + ((t1 + y4 | 0) - 1894007588 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                for (j = k + 240 | 0; (j | 0) < (k + 320 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 ^ y2 ^ y3) | 0) + ((t1 + y4 | 0) - 899497514 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                y0 = y0 + z0 | 0;\n                y1 = y1 + z1 | 0;\n                y2 = y2 + z2 | 0;\n                y3 = y3 + z3 | 0;\n                y4 = y4 + z4 | 0;\n            }\n            H[x + 320 >> 2] = y0;\n            H[x + 324 >> 2] = y1;\n            H[x + 328 >> 2] = y2;\n            H[x + 332 >> 2] = y3;\n            H[x + 336 >> 2] = y4;\n        }\n        return { hash: hash };\n    };\n    if (// If we'e running in Node.JS, export a module.\n        typeof module !== 'undefined') {\n        module.exports = Rusha;\n    } else if (// If we're running in a DOM context, export\n        // the Rusha object to toplevel.\n        typeof window !== 'undefined') {\n        window.Rusha = Rusha;\n    }\n    if (// If we're running in a webworker, accept\n        // messages containing a jobid and a buffer\n        // or blob object, and return the hash result.\n        typeof FileReaderSync !== 'undefined') {\n        var reader = new FileReaderSync();\n        var hashData = function hash(hasher, data, cb) {\n            try {\n                return cb(null, hasher.digest(data));\n            } catch (e) {\n                return cb(e);\n            }\n        };\n        var hashFile = function hashArrayBuffer(hasher, readTotal, blockSize, file, cb) {\n            var reader$2 = new self.FileReader();\n            reader$2.onloadend = function onloadend() {\n                var buffer = reader$2.result;\n                readTotal += reader$2.result.byteLength;\n                try {\n                    hasher.append(buffer);\n                } catch (e) {\n                    cb(e);\n                    return;\n                }\n                if (readTotal < file.size) {\n                    hashFile(hasher, readTotal, blockSize, file, cb);\n                } else {\n                    cb(null, hasher.end());\n                }\n            };\n            reader$2.readAsArrayBuffer(file.slice(readTotal, readTotal + blockSize));\n        };\n        self.onmessage = function onMessage(event) {\n            var data = event.data.data, file = event.data.file, id = event.data.id;\n            if (typeof id === 'undefined')\n                return;\n            if (!file && !data)\n                return;\n            var blockSize = event.data.blockSize || 4 * 1024 * 1024;\n            var hasher = new Rusha(blockSize);\n            hasher.resetState();\n            var done = function done$2(err, hash) {\n                if (!err) {\n                    self.postMessage({\n                        id: id,\n                        hash: hash\n                    });\n                } else {\n                    self.postMessage({\n                        id: id,\n                        error: err.name\n                    });\n                }\n            };\n            if (data)\n                hashData(hasher, data, done);\n            if (file)\n                hashFile(hasher, 0, blockSize, file, done);\n        };\n    }\n}());";
},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=function e(t,n){var r=this;(0,i.default)(this,e),this.apiUrl=t,this.authProvider=n,this.clients={},this.getMediaClient=function(e){return r.getStoredClient(e)||r.createNewClient(e)},this.createNewClient=function(e){var t=new o.MediaClient(r.apiUrl,r.authProvider,e);return r.setClient(t,e),t},this.getStoredClient=function(e){return void 0===e?r.clientForAbsentCollection:r.clients[e]},this.setClient=function(e,t){return void 0===t?void(r.clientForAbsentCollection=e):void(r.clients[t]=e)}};t.MediaClientPool=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(51),c=n(83),l=n(269),f=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"createUpload",value:function(e){var t={httpMethod:"POST",mediaApiMethod:"upload",parameters:{createUpTo:1,safariCacheBuster:u.v4()}};return l.retryTask(function(){return e.call(t,c.addAuthToQueryParameters).then(function(e){var t=e.data;if(0===t.length)throw new Error("No uploads were created");return t[0].id})},5,1e3,2)}},{key:"appendChunksToUpload",value:function(e,t,n,r){var i={httpMethod:"PUT",mediaApiMethod:"upload/"+t+"/chunks",data:{chunks:n,offset:r}};return e.call(i)}},{key:"createFileFromUpload",value:function(e,t,n,r,i){var o={httpMethod:"POST",mediaApiMethod:"file/upload",parameters:i?{collection:i}:{},data:{name:t,mimeType:n,uploadId:r}};return e.call(o).then(function(e){return e.data.id})}},{key:"pollForFileMetadata",value:function(e,t,n){var r={httpMethod:"GET",mediaApiMethod:"file/"+t,parameters:n?{collection:n}:{}};return l.retryTask(function(){return e.call(r,c.addAuthToQueryParameters).then(function(e){var t=e.data;if("succeeded"===t.processingStatus||"failed"===t.processingStatus)return t;throw new Error("Processing not finished")})},10,1e3,2)}}]),e}();t.MediaApi=f},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new o.default(function(i,o){!function t(n,a){n>0?e().then(i).catch(function(e){setTimeout(function(){t(n-1,a*r)},a)}):e().then(i).catch(o)}(t,n)})}var i=n(21),o=function(e){return e&&e.__esModule?e:{default:e}}(i);Object.defineProperty(t,"__esModule",{value:!0}),t.retryTask=r},function(e,t){e.exports={baseUrl:"https://d2lmxj1uc02uys.cloudfront.net",usingVersions:!0,html:{popup:"./html/popup.html",popupInject:"./html/popup/popup.html",dropzone:"./html/dropzone.html",redirectUrl:"./html/link-account-handler/handler.html",userMethodsHelperUrl:"./html/user-methods-helper/helper.html"},version:"11.1.11"}},function(e,t,n){"use strict";var r=n(133),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=n(305);t.default=function(e){return new i.default(function(t,n){o.fileToBase64(e).then(function(e){var r=new Image;r.src=e,r.onload=function(){return t({src:r.src,width:r.width,height:r.height})},r.onerror=n})})}},function(e,t,n){n(273),n(274),n(289),n(293),e.exports=n(36).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(275)(!0);n(134)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(84),i=n(85);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){e.exports=!n(37)&&!n(137)(function(){return 7!=Object.defineProperty(n(87)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(56);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=n(27)},function(e,t,n){"use strict";var r=n(280),i=n(138),o=n(90),a={};n(27)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(28),i=n(281),o=n(142),a=n(89)("IE_PROTO"),s=function(){},u=function(){var e,t=n(87)("iframe"),r=o.length;for(t.style.display="none",n(143).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(55),i=n(28),o=n(282);e.exports=n(37)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(283),i=n(142);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(57),i=n(88),o=n(285)(!1),a=n(89)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(58);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(88),i=n(139),o=n(286);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(84),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(57),i=n(288),o=n(89)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(85);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(290);for(var r=n(13),i=n(27),o=n(38),a=n(8)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(291),i=n(292),o=n(38),a=n(88);e.exports=n(134)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a=n(135),s=n(13),u=n(54),c=n(144),l=n(136),f=n(56),d=n(86),h=n(294),p=n(295),v=n(299),m=n(145).set,y=n(301)(),b=s.TypeError,g=s.process,_=s.Promise,g=s.process,w="process"==c(g),x=function(){},k=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(x,x)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t}catch(e){}}(),A=function(e,t){return e===t||e===_&&t===o},S=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e){return A(_,e)?new O(e):new i(e)},O=i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw b("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},I=function(e){try{e()}catch(e){return{error:e}}},E=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&C(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(b("Promise-chain cycle")):(o=S(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){m.call(s,function(){var t,n,r,i=e._v;if(T(e)&&(t=I(function(){w?g.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=w||T(e)?2:1),e._a=void 0,t)throw t.error})},T=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!T(t.promise))return!1;return!0},C=function(e){m.call(s,function(){var t;w?g.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw b("Promise can't be resolved itself");(t=S(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(U,r,1),u(M,r,1))}catch(e){M.call(r,e)}}):(n._v=e,n._s=1,E(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};k||(_=function(e){h(this,_,"Promise","_h"),d(e),r.call(this);try{e(u(U,this,1),u(M,this,1))}catch(e){M.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(302)(_.prototype,{then:function(e,t){var n=P(v(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?g.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),O=function(){var e=new r;this.promise=e,this.resolve=u(U,e,1),this.reject=u(M,e,1)}),l(l.G+l.W+l.F*!k,{Promise:_}),n(90)(_,"Promise"),n(303)("Promise"),o=n(36).Promise,l(l.S+l.F*!k,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!k),"Promise",{resolve:function(e){if(e instanceof _&&A(e.constructor,this))return e;var t=P(this);return(0,t.resolve)(e),t.promise}}),l(l.S+l.F*!(k&&n(304)(function(e){_.all(e).catch(x)})),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=I(function(){var n=[],o=0,a=1;p(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=I(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(54),i=n(296),o=n(297),a=n(28),s=n(139),u=n(298),c={},l={},t=e.exports=function(e,t,n,f,d){var h,p,v,m,y=d?function(){return e}:u(e),b=r(n,f,t?2:1),g=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(h=s(e.length);h>g;g++)if((m=t?b(a(p=e[g])[0],p[1]):b(e[g]))===c||m===l)return m}else for(v=y.call(e);!(p=v.next()).done;)if((m=i(v,b,p.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(28);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(38),i=n(8)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(144),i=n(8)("iterator"),o=n(38);e.exports=n(36).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(28),i=n(86),o=n(8)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(13),i=n(145).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(58)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(27);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(13),i=n(36),o=n(55),a=n(37),s=n(8)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(8)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(133),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.fileToBase64=function(e){return new i.default(function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onabort=function(){return n("abort")},r.onerror=n,r.readAsDataURL(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),h=r(d);Object.defineProperty(t,"__esModule",{value:!0}),n(146);var p=n(48),v=n(25),m=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return i.browseElem=document.createElement("INPUT"),i.browseElem.setAttribute("type","file"),i.browseElem.style.display="none",r.multiple&&i.browseElem.setAttribute("multiple",""),r.fileExtensions&&i.browseElem.setAttribute("accept",r.fileExtensions.join(",")),document.body.appendChild(i.browseElem),i.uploadService.addBrowse(i.browseElem),i.context.trackEvent(new v.MPBrowserLoaded),i}return(0,h.default)(t,e),(0,c.default)(t,[{key:"browse",value:function(){this.browseElem.click()}},{key:"teardown",value:function(){var e=this.browseElem.parentNode;e&&e.removeChild(this.browseElem)}}]),t}(p.MediaLocalUpload);t.Browser=m},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,".mediaPickerPopup{display:none;position:fixed;z-index:2147483647;left:0;top:0;width:100%;height:100%;background-color:rgba(9,30,66,.44);transition:opacity .2s;transition-delay:.1s}.mediaPickerPopup .aui-dialog2-header{height:50px!important}.mediaPickerPopup .aui-dialog2-content{padding:0!important;height:100%;position:relative!important;overflow:hidden!important}.mediaPickerPopup .aui-dialog2-content iframe{width:100%;height:100%;border-width:0;position:absolute}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),h=r(d);Object.defineProperty(t,"__esModule",{value:!0});var p=n(48),v=n(25),m=n(147),y=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.pasteHandler=function(e){for(var t=e.clipboardData.files,n=0;n<t.length;++n){var i=t[n];r.uploadService.addFile(i)}},r.context.trackEvent(new v.MPClipboardLoaded),r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"activate",value:function(){var e=this;m(function(){e.deactivate(),document.addEventListener("paste",e.pasteHandler,!1)})}},{key:"deactivate",value:function(){document.removeEventListener("paste",this.pasteHandler)}}]),t}(p.MediaLocalUpload);t.Clipboard=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(21),o=r(i),a=n(16),s=r(a),u=n(0),c=r(u),l=n(1),f=r(l),d=n(19),h=r(d),p=n(20),v=r(p);Object.defineProperty(t,"__esModule",{value:!0}),n(310);var m=n(80),y=n(48),b=n(22),g=n(25),_=n(148),w=n(312),x=function(e){return[].slice.call(e,0)},k=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,c.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n));i.onDragOver=function(e){if(e.preventDefault(),i.instance&&t.dragContainsFiles(e)){var n=e.dataTransfer,r=void 0;try{r=n.effectAllowed}catch(e){}n.dropEffect="move"===r||"linkMove"===r?"move":"copy",i.instance.classList.add("active");var o=i.getDraggedItemsLength(n);i.emitDragOver({length:o})}},i.onDragLeave=function(e){i.instance&&(e.preventDefault(),i.instance.classList.remove("active"),i.emitDragLeave())},i.onDrop=function(e){var n=i.instance;n&&t.dragContainsFiles(e)&&(n.classList.remove("active"),i.emit("drop",void 0),i.emitDragLeave())};var o=r;return i.container=o.container||document.body,i.headless=o.headless||!1,i.uiActive=!1,i.context.trackEvent(new g.MPDropzoneLoaded),i}return(0,v.default)(t,e),(0,f.default)(t,[{key:"activate",value:function(){var e=this;return w.whenDomReady.then(function(){if(e.container=e.container||document.body,!e.instance)return e.createInstance()}).then(function(){e.deactivate(),e.container.addEventListener("dragover",e.onDragOver,!1),e.container.addEventListener("dragleave",e.onDragLeave,!1),e.uploadService.addDropzone(e.container)})}},{key:"deactivate",value:function(){this.container.removeEventListener("dragover",this.onDragOver,!1),this.container.removeEventListener("dragleave",this.onDragLeave,!1),this.uploadService.removeDropzone()}},{key:"getDraggedItemsLength",value:function(e){return e.items?x(e.items).filter(function(e){return"file"===e.kind}).length:e.files.length}},{key:"createInstance",value:function(){var e=this;return this.getDropzoneUI().then(function(t){e.instance=t,e.container.appendChild(e.instance),e.uploadService.on("file-dropped",e.onDrop)})}},{key:"getDropzoneUI",value:function(){var e=this;return this.headless?o.default.resolve(document.createElement("DIV")):new o.default(function(t,n){return m.default.get(e.getStaticAssetUrl("dropzone")).then(function(e){t(_.parseHTML(e.data))},function(e){b.handleError("dropzone_load_fail",e),n(e)})})}},{key:"emitDragOver",value:function(e){this.uiActive||(this.uiActive=!0,this.emit("drag-enter",e))}},{key:"emitDragLeave",value:function(){var e=this;this.uiActive&&(this.uiActive=!1,window.setTimeout(function(){e.uiActive||e.emit("drag-leave",void 0)},50))}}],[{key:"dragContainsFiles",value:function(e){var t=e.dataTransfer.types;return x(t).indexOf("Files")>-1}}]),t}(y.MediaLocalUpload);t.Dropzone=k},function(e,t,n){var r=n(311);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,".mediaPickerDropzone{position:fixed;left:0;top:0;width:100%;height:0;overflow:hidden;margin:auto;font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;pointer-events:none}@keyframes atlassian-doc{0%{transform:rotate(0deg)}to{transform:rotate(-18deg)}}@keyframes spreadsheet{0%{transform:rotate(0deg)}to{transform:rotate(20deg)}}.mediaPickerDropzone .mp-content{width:100vw;height:100vh}.mediaPickerDropzone .mp-content .mp-circle{transition:width .2s ease,height .2s ease,top .2s ease,left .2s ease;width:0;height:0;transform:scale(1);background-color:#0052cc;border-radius:50%;margin:auto;position:absolute;overflow:hidden;color:#fff;top:50%;left:50%}.mediaPickerDropzone .mp-content .mp-circle .mp-title{font-weight:500;font-size:40px;margin-bottom:20px}.mediaPickerDropzone .mp-content .mp-circle .mp-description{font-size:16px;font-weight:500}.mediaPickerDropzone .mp-content .mp-circle .mp-text{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;left:0;right:0;top:130px;position:absolute;text-align:center}.mediaPickerDropzone .mp-content .mp-circle .mp-text span{display:block}.mediaPickerDropzone .mp-content .mp-circle .mp-fileIcon{width:auto;height:200px;position:absolute;bottom:0;margin:auto;transform-origin:bottom;left:150px}.mediaPickerDropzone.active{height:100%;background-color:hsla(0,0%,100%,.7);position:fixed;z-index:500}.mediaPickerDropzone.active .mp-circle{width:500px;height:500px;top:calc(50% - 250px);left:calc(50% - 250px)}.mediaPickerDropzone.active .mp-circle .mp-iconAtlassianDoc{left:100px;width:183px;height:212px;bottom:-15px;animation:atlassian-doc .75s .2s forwards}.mediaPickerDropzone.active .mp-circle .mp-iconOtherDoc{left:170px;z-index:1;width:173px;height:224px}.mediaPickerDropzone.active .mp-circle .mp-iconPageSpreadsheet{left:250px;animation:spreadsheet .75s .2s forwards}",""])},function(e,t,n){"use strict";var r=n(21),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.whenDomReady=function(){return"complete"===document.readyState?i.default.resolve():new i.default(function(e){window.addEventListener("load",e)})}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.id,n=e.name,r=e.size,i=e.creationDate,o=e.type,a=e.publicId;return new S.MediaFile(t,n,r,i,o,a)}var o=n(21),a=r(o),s=n(50),u=r(s),c=n(16),l=r(c),f=n(0),d=r(f),h=n(1),p=r(h),v=n(19),m=r(v),y=n(20),b=r(y);Object.defineProperty(t,"__esModule",{value:!0}),n(146);var g=n(51),_=n(132),w=n(314),x=n(22),k=n(315),A=n(25),S=n(129),P=n(128),O=n(131),I=n(147),E=n(148),j=n(316);t.USER_RECENTS_COLLECTION="recents";var T=function(e){function t(e,n,r){var i=r.userAuthProvider,o=r.container;(0,d.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.config=n,a.context.trackEvent(new A.MPPopupLoaded),a.uploadParams=(0,u.default)({},O.defaultUploadParams,n.uploadParams),a.userAuthProvider=i,a.container=o||document.body,I(function(){a.init()}),a}return(0,b.default)(t,e),(0,p.default)(t,[{key:"init",value:function(){this.popupReady=!1;var e=g.v4(),t={channelName:e,apiUrl:this.config.apiUrl,redirectUrl:this.getStaticAssetUrl("redirectUrl")};this.instance=this._createInstance(t),this.container.appendChild(this.instance),this.popupIframe=this._createInteractionLayer(e)}},{key:"show",value:function(){var e=this;return this.instance||this.init(),this.config.authProvider({collectionName:this.uploadParams.collection}).then(function(t){return e.popupIframe.setTenant({auth:t,uploadParams:e.uploadParams}),e.popupIframe.resetView(),e._show(),a.default.resolve()})}},{key:"cancel",value:function(e){this.popupIframe.cancelUpload(e)}},{key:"teardown",value:function(){this.instance&&(this.instance.parentNode&&this.instance.parentNode.removeChild(this.instance),delete this.instance),this.localFileBrowser&&this.localFileBrowser.teardown()}},{key:"hide",value:function(){this.instance&&(this.instance.style.display="none"),this.emit("closed",void 0),this.context.trackEvent(new A.MPPopupHidden)}},{key:"setUploadParams",value:function(e){this.uploadParams=(0,u.default)({},O.defaultUploadParams,e)}},{key:"_show",value:function(){this.popupReady&&(this.instance.style.display="block",this.context.trackEvent(new A.MPPopupShown))}},{key:"_createInstance",value:function(e){var t=e.apiUrl,n=e.channelName,r=e.redirectUrl,i="?channelName="+encodeURIComponent(n)+"&apiUrl="+encodeURIComponent(t)+"&redirectUrl="+encodeURIComponent(r);return E.parseHTML('<div class="mediaPickerPopup mpAUI">\n        <section role="dialog" id="demo-dialog" class="aui-layer aui-dialog2 aui-dialog2-large" aria-hidden="false">\n            <div class="aui-dialog2-content">\n                <iframe class="mpApp" src="'+this.getStaticAssetUrl("popupInject")+i+'"></iframe>\n            </div>\n        </section>\n      </div>')}},{key:"_createInteractionLayer",value:function(e){var t=this,n=this.instance.querySelector(".mpApp"),r=n.contentWindow,o=w({window:r,scope:e});this.messageService=new j.PostisMessageService(o),this.messageService.handle("uploadFinalizeReady",function(e){return new a.default(function(n){t.emitUploadFinalizeReady(i(e),function(){return n()})})}),this.messageService.handle("getUserAuth",function(e){return t.userAuthProvider(e)});var s=new k.InteractionLayer(this,o);return s.on("uploadEvent",function(e){switch(e.name){case"upload-start":t.emitUploadStart(i(e.data.file));break;case"upload-status-update":t.emitUploadProgress(i(e.data.file),e.data.progress);break;case"upload-preview-update":var n=e.data,r=n.file,o=n.preview;t.emitUploadPreviewUpdate(i(r),o);break;case"upload-processing":t.emitUploadProcessing(i(e.data.file));break;case"upload-end":t.emitUploadEnd(i(e.data.file),e.data.public);break;case"upload-error":var a=e.data,s=a.file,u=a.error;t.emitUploadError(i(s),new P.MediaError(u.fileId,u.name,u.description)),x.handleError(u.name,u.description)}}),s.on("ready",function(){t.emit("ready",void 0),t.popupReady=!0}),s.initProtocol(),s}}]),t}(_.MPComponent);t.Popup=T},function(e,t){function n(e){var t,n=e.scope,r=e.window,i=e.windowForEventListening||window,o={},a=[],s={},u=!1,c=function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}if(t.postis&&t.scope===n){var r=o[t.method];if(r)for(var i=0;i<r.length;i++)r[i].call(null,t.params);else s[t.method]=s[t.method]||[],s[t.method].push(t.params)}};i.addEventListener("message",c,!1);var l={listen:function(e,t){o[e]=o[e]||[],o[e].push(t);var n=s[e];if(n)for(var r=o[e],i=0;i<r.length;i++)for(var a=0;a<n.length;a++)r[i].call(null,n[a]);delete s[e]},send:function(e){var t=e.method;(u||"__ready__"===e.method)&&r&&"function"==typeof r.postMessage?r.postMessage(JSON.stringify({postis:!0,scope:n,method:t,params:e.params}),"*"):a.push(e)},ready:function(e){u?e():setTimeout(function(){l.ready(e)},50)},destroy:function(e){clearInterval(t),u=!1,i&&"function"==typeof i.removeEventListener&&i.removeEventListener("message",c),e&&e()}},f=+new Date+Math.random()+"";return t=setInterval(function(){l.send({method:"__ready__",params:f})},50),l.listen("__ready__",function(e){if(e===f){clearInterval(t),u=!0;for(var n=0;n<a.length;n++)l.send(a[n]);a=[]}else l.send({method:"__ready__",params:e})}),l}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(77),c=function(){function e(t,n){(0,o.default)(this,e),this.popup=t,this.channel=n,this.sanitizeUploadParams=function(e){return{collection:e.collection,fetchMetadata:e.fetchMetadata,autoFinalize:e.autoFinalize}},this.emitter=new u.EventEmitter2}return(0,s.default)(e,[{key:"initProtocol",value:function(){var e=this;this.channel.ready(function(){e.channel.listen("hidePopup",function(){e.popup.hide()}),e.channel.listen("showPopup",function(){e.popup.show()}),e.channel.listen("ready",function(){e.emit("ready",void 0)}),e.channel.listen("uploadEvent",function(t){e.emit("uploadEvent",t.event)})})}},{key:"resetView",value:function(){this.channel.send({method:"resetView"})}},{key:"cancelUpload",value:function(e){this.channel.send({method:"cancelUpload",params:{uploadId:e}})}},{key:"setTenant",value:function(e){var t=e.auth,n=e.uploadParams;this.channel.send({method:"setTenant",params:{auth:t,uploadParams:this.sanitizeUploadParams(n)}})}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"emit",value:function(e,t){this.emitter.emit(e,t)}}]),e}();t.InteractionLayer=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(21),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(115);n(317),n(318);var f=n(51),d=function(){function e(t){(0,s.default)(this,e),this.channel=t,this.requests=this.observeChannelRequests(t),this.responses=this.observeChannelResponses(t)}return(0,c.default)(e,[{key:"post",value:function(e){var t=this;return new o.default(function(n,r){var i=f.v4(),o=t.responses.filter(function(e){return e.traceId===i}).subscribe({next:function(e){var t=e.response,i=e.error;i?r(i):n(t),o.unsubscribe()}});t.channel.send({method:"REQUEST",params:{traceId:i,message:e}})})}},{key:"handle",value:function(e,t){var n=this;this.requests.filter(function(t){return t.message.type===e}).subscribe({next:function(e){var r=e.traceId,i=e.message;t(i.payload).then(function(e){n.channel.send({method:"RESPONSE",params:{traceId:r,response:e}})}).catch(function(e){n.channel.send({method:"RESPONSE",params:{traceId:r,error:e}})})}})}},{key:"observeChannelRequests",value:function(e){var t=new l.Subject;return e.ready(function(){e.listen("REQUEST",function(e){t.next(e)})}),t}},{key:"observeChannelResponses",value:function(e){var t=new l.Subject;return e.ready(function(){e.listen("RESPONSE",function(e){t.next(e)})}),t}}]),e}();t.PostisMessageService=d},function(e,t){e.exports=n(73)},function(e,t){e.exports=n(75)}]))},function(e,t,n){"use strict";var r=n(27),i=n(28),o=n(39),a=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(r?r.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.create=function(t){return new e(t)},e}();t.Observable=a},function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof e&&e,o=n||i||r;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n(18))},function(e,t,n){"use strict";function r(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(a.empty)}var i=n(29),o=n(38),a=n(37);t.toSubscriber=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(30),o=n(31),a=n(37),s=n(38),u=function(e){function t(n,r,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof t?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},
t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this,t=e._parent,n=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=n,this},t}(o.Subscription);t.Subscriber=u;var c=function(e){function t(t,n,r,o){e.call(this),this._parentSubscriber=t;var s,u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t){"use strict";function n(e){return"function"==typeof e}t.isFunction=n},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)},[])}var i=n(32),o=n(33),a=n(30),s=n(34),u=n(35),c=n(36),l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,l=n._parent,f=n._parents,d=n._unsubscribe,h=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,v=f?f.length:0;l;)l.remove(this),l=++p<v&&f[p]||null;if(a.isFunction(d)){var m=s.tryCatch(d).call(this);m===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(h))for(p=-1,v=h.length;++p<v;){var y=h[p];if(o.isObject(y)){var m=s.tryCatch(y.unsubscribe).call(y);if(m===u.errorObject){t=!0,e=e||[];var b=u.errorObject.e;b instanceof c.UnsubscriptionError?e=e.concat(r(b.errors)):e.push(b)}}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=this._subscriptions||(this._subscriptions=[]);return i.push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this,n=t._parent,r=t._parents;n&&n!==e?r?r.indexOf(e)===-1&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();t.Subscription=l},function(e,t){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t){"use strict";function n(e){return null!=e&&"object"==typeof e}t.isObject=n},function(e,t,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(e){return a.errorObject.e=e,a.errorObject}}function i(e){return o=e,r}var o,a=n(35);t.tryCatch=i},function(e,t){"use strict";t.errorObject={e:{}}},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return n(t,e),t}(Error);t.UnsubscriptionError=r},function(e,t){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=n(27),i=r.root.Symbol;t.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var i=n(27);t.getSymbolObservable=r,t.observable=r(i.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=n(26),i=n(41);r.Observable.prototype.publishReplay=i.publishReplay},function(e,t,n){"use strict";function r(e,t,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(e,t,n))}var i=n(42),o=n(55);t.publishReplay=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(43),o=n(46),a=n(31),s=n(53),u=n(44),c=n(45),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=r,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return r(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new f(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?t=a.Subscription.EMPTY:this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new c.SubjectSubscription(this,e)),r&&e.add(e=new s.ObserveOnSubscriber(e,r));for(var i=n.length,o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.Subject);t.ReplaySubject=l;var f=function(){function e(e,t){this.time=e,this.value=t}return e}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(29),a=n(31),s=n(44),u=n(45),c=n(38),l=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(o.Subscriber);t.SubjectSubscriber=l;var f=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[c.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.Observable);t.Subject=f;var d=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):a.Subscription.EMPTY},t}(f);t.AnonymousSubject=d},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);t.ObjectUnsubscribedError=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(31),o=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);n!==-1&&t.splice(n,1)}}},t}(i.Subscription);t.SubjectSubscription=o},function(e,t,n){"use strict";var r=n(47),i=n(50);t.queue=new i.QueueScheduler(r.QueueAction)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(48),o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(i.AsyncAction);t.QueueAction=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(27),o=n(49),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n,this.pending=!1}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&this.pending===!1?t:i.root.clearInterval(t)&&void 0||void 0},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);return n?n:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,r!==-1&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(o.Action);t.AsyncAction=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(31),o=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i.Subscription);t.Action=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(51),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(i.AsyncScheduler);t.QueueScheduler=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(52),o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)return void t.push(e);var n;this.active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}},t}(i.Scheduler);t.AsyncScheduler=o},function(e,t){"use strict";var n=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=n},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=0),this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(29),a=n(54);t.observeOn=r;var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var u=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return i(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=u;var c=function(){function e(e,t){this.notification=e,this.destination=t}return e}();t.ObserveOnMessage=c},function(e,t,n){"use strict";var r=n(26),i=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){var r=this.kind;switch(r){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",(void 0),t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",(void 0)),e}();t.Notification=i},function(e,t,n){"use strict";function r(e,t){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof t)return this.lift(new o(n,t));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n(56);t.multicast=r;var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}();t.MulticastOperator=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(43),o=n(26),a=n(29),s=n(31),u=function(e){function t(t,n){e.call(this),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.Subscription,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed?(this._connection=null,e=s.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return this.lift(new f(this))},t}(o.Observable);t.ConnectableObservable=u;var c=u.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var l=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber),f=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new d(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),d=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},t}(a.Subscriber)},function(e,t,n){"use strict";var r=n(26),i=n(58);r.Observable.of=i.of},function(e,t,n){"use strict";var r=n(59);t.of=r.ArrayObservable.of},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=n(60),a=n(61),s=n(62),u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var i=e.length;return i>1?new t(e,r):1===i?new o.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,i=e.subscriber;return n>=r?void i.complete():(i.next(t[n]),void(i.closed||(e.index=n+1,this.schedule(e))))},t.prototype._subscribe=function(e){var n=0,r=this.array,i=r.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:r,index:n,count:i,subscriber:e});for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);e.complete()},t}(i.Observable);t.ArrayObservable=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;return t?void r.complete():(r.next(n),void(r.closed||(e.done=!0,this.schedule(e))))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;return r?r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e}):(e.next(n),void(e.closed||e.complete()))},t}(i.Observable);t.ScalarObservable=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(26),o=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){var t=e.subscriber;t.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;return n?n.schedule(t.dispatch,0,{subscriber:e}):void e.complete()},t}(i.Observable);t.EmptyObservable=o},function(e,t){"use strict";function n(e){return e&&"function"==typeof e.schedule}t.isScheduler=n},function(e,t,n){"use strict";var r=n(26),i=n(64);r.Observable.prototype.startWith=i.startWith},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];u.isScheduler(n)?e.pop():n=null;var r=e.length;return 1===r?s.concatStatic(new o.ScalarObservable(e[0],n),this):r>1?s.concatStatic(new i.ArrayObservable(e,n),this):s.concatStatic(new a.EmptyObservable(n),this)}var i=n(59),o=n(60),a=n(61),s=n(65),u=n(62);t.startWith=r},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null,r=e;return a.isScheduler(r[e.length-1])&&(n=r.pop()),null===n&&1===e.length&&e[0]instanceof o.Observable?e[0]:new s.ArrayObservable(e,n).lift(new u.MergeAllOperator(1))}var o=n(26),a=n(62),s=n(59),u=n(66);t.concat=r,t.concatStatic=i},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(67),a=n(68);t.mergeAll=r;var s=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.concurrent))},e}();t.MergeAllOperator=s;var u=function(e){function t(t,n){e.call(this,t),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeAllSubscriber=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(29),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i.Subscriber);t.OuterSubscriber=o},function(e,t,n){"use strict";function r(e,t,n,r){var d=new l.InnerSubscriber(e,n,r);if(d.closed)return null;if(t instanceof u.Observable)return t._isScalar?(d.next(t.value),d.complete(),null):t.subscribe(d);if(o.isArrayLike(t)){for(var h=0,p=t.length;h<p&&!d.closed;h++)d.next(t[h]);d.closed||d.complete()}else{if(a.isPromise(t))return t.then(function(e){d.closed||(d.next(e),d.complete())},function(e){return d.error(e)}).then(null,function(e){i.root.setTimeout(function(){throw e})}),d;if(t&&"function"==typeof t[c.iterator])for(var v=t[c.iterator]();;){var m=v.next();if(m.done){d.complete();break}if(d.next(m.value),d.closed)break}else if(t&&"function"==typeof t[f.observable]){var y=t[f.observable]();if("function"==typeof y.subscribe)return y.subscribe(new l.InnerSubscriber(e,n,r));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var b=s.isObject(t)?"an invalid object":"'"+t+"'",g="You provided "+b+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(g))}}return null}var i=n(27),o=n(69),a=n(70),s=n(33),u=n(26),c=n(71),l=n(72),f=n(39);t.subscribeToResult=r},function(e,t){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},function(e,t){"use strict";function n(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=n},function(e,t,n){"use strict";function r(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(27);t.symbolIteratorPonyfill=r,t.iterator=r(i.root),t.$$iterator=t.iterator},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(29),o=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i.Subscriber);t.InnerSubscriber=o},function(e,t,n){"use strict";var r=n(26),i=n(74);r.Observable.prototype.filter=i.filter},function(e,t,n){"use strict";function r(e,t){return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(29);t.filter=r;var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.thisArg=r,this.count=0}return i(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.Subscriber)},function(e,t,n){"use strict";var r=n(26),i=n(76);r.Observable.prototype.map=i.map},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(29);t.map=r;var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=a;var s=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.on("upload-start",function(e){return u.default.publish(f+"new",e)}),e.on("upload-preview-update",function(e){return u.default.publish(f+"preview",e)}),e.on("upload-status-update",function(e){return u.default.publish(f+"progress",e)}),e.on("upload-error",function(e){return u.default.publish(f+"error",e)}),e.on("upload-processing",function(e){return u.default.publish(f+"done",e)}),e.on("upload-end",function(e){return u.default.publish(f+"done",e)}),u.default.subscribe(f+"cancel",function(t){e.cancel&&e.cancel(t)}),e}function o(e){return u.default.subscribe("issue/changed",function(t){l.default.getUploadParameters().then(e.setUploadParams.bind(e))}),e}function a(e){return u.default.subscribe("project/changed",function(t){l.default.getTemporaryAttachmentUploadParameters(t).then(e.setUploadParams.bind(e))}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.connect=i,t.connectToIssueChanges=o,t.connectToProjectChanges=a;var s=n(10),u=r(s),c=n(3),l=r(c),f="upload/"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),a=n(16),s=r(a),u=n(10),c=r(u),l=n(20),f=r(l);t.default=function(e,t,n,r,a){var u="create-issue/drop-zone",l=(0,o.temporaryAttachmentDropzone)(e,r).then(function(e){return e.on("drop",function(){s.default.triggerAttachRequested(u)}),e}),d=!1;return{activate:function(){return l.then(function(r){d||(d=!0,r.activate(),c.default.publish("upload/switch-context",{name:u,uploadSettings:i({},{projectId:e,formToken:t,panelNode:n},a)}),c.default.publish("project/changed",e))})},deactivate:function(){return l.then(function(e){d&&(e.deactivate(),d=!1)})},drop:function(){return l.catch(function(e){s.default.triggerInitialisationException((0,f.default)(e)),c.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(80),o=r(i),a=n(20),s=r(a),u=n(16),c=r(u),l=n(10),f=r(l),d=n(83),h=r(d),p="jira.issue.media-picker.show",v={
blockWikiEditorMarkupInsert:!1},m=void 0,y=function(e){var t="view-issue/"+e;return(0,o.default)().then(function(e){m=e}).catch(function(e){c.default.triggerInitialisationException((0,s.default)(e))}),function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;n&&n.preventDefault(),h.default.start({key:p,isInitial:!1,threshold:250}),c.default.triggerAttachRequested(e),m?m.show().then(function(){return h.default.end({key:p})}).then(function(){return f.default.publish("upload/switch-context",{name:t,uploadSettings:r})}).catch(function(){f.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")}):c.default.triggerUploadRequestedWhenNotInitialised()}};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(81),a=r(o),s=n(82),u=r(s),c=n(7),l=r(c),f=function(){return u.default.then(function(){return new a.default(i.popup,i.browser)})};t.default=l.default.memoize(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(16),u=r(s),c=n(20),l=r(c),f=n(3),d=r(f),h=function(){function e(t,n){var r=this;i(this,e);var o=d.default.userAuthProvider;o().then(function(e){e?r.componentPromise=t(o).then(function(e){return[e,"popup"]}).catch(function(e){return e.logged||u.default.triggerGenericPopupInitialisationError((0,l.default)(e)),n().then(function(e){return[e,"browser"]})}).then(r.handleComponentInitSuccess.bind(r)).catch(r.handleComponentInitFailure.bind(r)):r.componentPromise=r.initializeBrowser.call(r,n)})}return a(e,[{key:"initializeBrowser",value:function(e){return e().then(function(e){return[e,"browser"]}).then(this.handleComponentInitSuccess.bind(this)).catch(this.handleComponentInitFailure.bind(this))}},{key:"handleComponentInitSuccess",value:function(e){var t=o(e,2),n=t[0],r=t[1];return this.mediaComponent=n,this.componentType=r,[n,r]}},{key:"handleComponentInitFailure",value:function(e){u.default.triggerInitialisationException((0,l.default)(e)),this.componentType="none"}},{key:"show",value:function(){var e=this;switch(this.componentType){case"browser":return this.showBrowser();case"popup":return this.showPopup();case"none":return Promise.reject("Component initialisation error");default:return d.default.userAuthProvider().then(function(){return e.componentPromise}).then(function(){return"popup"===e.componentType?e.showPopup():(u.default.triggerBrowserRequestedWhenNotInitialised(),Promise.resolve())})}}},{key:"showPopup",value:function(){return this.mediaComponent.show().then(function(){return u.default.triggerPopupShown()}).catch(function(e){return u.default.triggerPopupFailedToShow((0,l.default)(e)),Promise.reject(e)})}},{key:"showBrowser",value:function(){var e=this;return new Promise(function(t,n){try{e.mediaComponent.browse(),u.default.triggerAttachFileBrowserShown(),t()}catch(e){u.default.triggerAttachFileBrowserFailedToShow((0,l.default)(e)),n(e)}})}}]),e}();t.default=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Promise(function(e,t){"undefined"==typeof document?t("Document is not available"):/^loaded|^interactive|^complete/.test(document.readyState)?e():document.addEventListener("DOMContentLoaded",function(t){return e()})})},function(e,t){e.exports=require("internal/browser-metrics")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return _||(0,u.default)(e).then(function(e){_=e}).catch(function(e){d.default.triggerInitialisationException((0,l.default)(e))}),p.default.publish("project/changed",e),function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return r&&r.preventDefault(),m.default.start({key:y,isInitial:!1,threshold:250}),d.default.triggerAttachRequested(b),_?(i=a({},i,{projectId:e,formToken:t,panelNode:n}),p.default.publish("project/changed",e),_.show().then(function(){return m.default.end({key:y})}).then(function(){return p.default.publish("upload/switch-context",{name:b,uploadSettings:i})}).catch(function(){p.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})):void d.default.triggerUploadRequestedWhenNotInitialised()}}function o(){_=null}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i,t.resetMediaComponent=o;var s=n(85),u=r(s),c=n(20),l=r(c),f=n(16),d=r(f),h=n(10),p=r(h),v=n(83),m=r(v),y="jira.create.issue.media-picker.show",b="create-issue/link",g={blockWikiEditorMarkupInsert:!1},_=void 0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(81),a=r(o),s=n(82),u=r(s),c=n(7),l=r(c),f=function(e){var t=(0,i.temporaryAttachmentPopup)(e),n=(0,i.temporaryAttachmentBrowser)(e);return u.default.then(function(){return new a.default(t,n)})};t.default=l.default.memoize(f)},function(e,t){e.exports=require("dndattachment/integration-register")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(3),a=r(o),s=n(88),u=r(s),c=n(16),l=r(c),f=n(20),d=r(f),h=n(89),p=r(h);t.default=function(e,t,n,r){var o="view-issue/attach-screenshot",s=p.default.Deferred();(0,i.binary)(e).then(function(t){return t.on("upload-start",function(e){s.notify("init"),l.default.triggerUploadStarted(e.file.id,e.file.size)}),t.on("upload-status-update",function(e){s.notify({loaded:e.progress.absolute,total:e.progress.max})}),t.on("upload-end",function(t){return a.default.createTemporaryAttachment(e,t.file.publicId,r).then(function(e){s.resolve({id:e.attachmentId})})}),t.on("upload-processing",function(e){s.notify({loaded:e.absolute,total:e.max})}),t.on("upload-error",function(e){s.reject(null,e.name,e.description,{}),l.default.triggerUploadError(e.name,e.fileId)}),t}).then(function(e){return l.default.triggerAttachRequested(o),(0,u.default)(t).then(function(t){e.upload(t,n)})}).catch(function(e){return l.default.triggerInitialisationException((0,d.default)(e))});return s}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(){n(this)},r.readAsDataURL(e)})}},function(e,t){e.exports=require("jquery")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),a=n(88),s=r(a),u=n(10),c=r(u),l=n(16),f=r(l),d=n(20),h=r(d),p={blockWikiEditorMarkupInsert:!0},v=function(e,t,n){var r="create-issue/attach-screenshot",a=(0,o.connectedTemporaryBinary)(e).catch(function(e){f.default.triggerInitialisationException((0,h.default)(e))});return function(o){return a.then(function(a){return(0,s.default)(o).then(function(s){f.default.triggerAttachRequested(r),c.default.publish("project/changed",e),c.default.publish("upload/switch-context",{name:r,uploadSettings:i({},{projectId:e,formToken:t,panelNode:n},p)}),a.upload(s,o.name)})}).catch(function(){c.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})}};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(10),a=r(o),s=n(92),u=r(s),c=n(109),l=r(c);n(24),t.default=function(){a.default.subscribe("upload/new",function(e){var t=e.file;u.default.startUpload(t)}),a.default.subscribe("upload/preview",function(e){var t=e.file,n=e.preview,r=l.default.decodeBase64DataUri(n.src),i=new Blob([r],{type:t.type});i.name=t.name,u.default.updatePreview(t,i)}),a.default.subscribe("upload/progress",function(e){var t=e.file,n=e.progress;u.default.progress(t,n)}),a.default.subscribe("upload/error",function(e){var t=e.error;t.isMediaError=!0,u.default.error(t)}),a.default.subscribe("upload/done",function(e){var t=e.file.publicId?e.file:i({},e.file,{publicId:e.public.id});u.default.done(t)}),a.default.subscribe("media/error",u.default.globalError)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(93),s=r(a),u=n(99),c=r(u),l=n(101),f=r(l),d=n(102),h=r(d),p=n(11),v=r(p),m=n(9),y=r(m),b=n(3),g=r(b),_=n(104),w=r(_),x=n(10),k=r(x),A=n(105),S=r(A),P=n(16),O=r(P),I=n(107),E=r(I),j=n(108),T=r(j),C=new Map,M=function(e){return e&&0===e.indexOf("create-issue")};t.default={startUpload:function(e){var t=y.default.getUploadContextSettings()||{blockWikiEditorMarkupInsert:!1};O.default.triggerUploadStarted(e.id,e.size);var n=this._createUpload(e);C.set(e.id,n),t.onFileUploadStarted&&t.onFileUploadStarted.call(e,e),n.then(function(e){var t=e.view,n=e.uploadContext,r=e.uploadSettings;M(n)?f.default.insertUpload(r.panelNode,t.$node):c.default.insertUpload(t.$node)}),this._validate(e)},updatePreview:function(e,t){t&&C.get(e.id)&&C.get(e.id).then(function(e){e.preview=t,e.view.loadThumbnail(t)})},progress:function(e,t){C.get(e.id)&&C.get(e.id).then(function(e){var n=e.view;return n.progress(t.portion)})},error:function(e){e.fileId&&C.get(e.fileId)&&C.get(e.fileId).then(function(t){var n=t.view,r=t.file,i=t.uploadContext,o=t.uploadSettings;e.logged||O.default.triggerUploadError(e.description,e.fileId),e.isMediaError&&(e.description="We could not connect to the file storage service. Please try again in a moment."),n.fail(e),M(i)||c.default.uploadError(r.name,e.description,function(){n.destroy(),C.delete(r.id)}),o.onFileUploadFinished&&o.onFileUploadFinished.call(r,r)})},globalError:function(e){c.default.globalError(e)},done:function(e){var t=this;O.default.triggerFileUploadFinished(e.id),C.get(e.id).then(function(n){var r=n.view,i=n.uploadContext,o=n.uploadSettings;return r.done(),M(i)?t.createTemporaryAttachment(e,o):t.createAttachment(o.issueId,e)})},createTemporaryAttachment:function(e,t){var n=this;Promise.all([t.projectId,t.formToken]).then(function(t){var n=o(t,2),r=n[0],i=n[1];if(!r||!i)throw new Error("Missing form data associated with upload");return g.default.createTemporaryAttachment(r,e.publicId,i)}).then(this.temporaryAttachmentCreated.bind(this,e)).catch(function(t){var r=t.message;O.default.triggerCantCreateTemporaryAttachmentInJIRA(r,e.id),n.error({fileId:e.id,description:r||"Couldn't create attachment"})})},createAttachment:function(e,t){var n=this;g.default.createAttachment(e,t.publicId).then(this.attachmentCreated.bind(this,t)).catch(function(e){var r=e.message;O.default.triggerCantCreateAttachmentInJIRA(r,t.id),n.error({fileId:t.id,description:r||"Couldn't create attachment"})})},attachmentCreated:function(e,t){var n=this;C.get(e.id).then(function(r){var i=r.view,o=r.wikiFieldsContext,a=r.issueLinkHTML,s=r.uploadSettings;O.default.triggerAttachmentCreatedInJIRA(e.id),n.updateViewWithCreatedAttachment(e,t,i,s.issueId,o),c.default.notifyUserOfCreatedAttachment(e,a),C.delete(e.id)})},temporaryAttachmentCreated:function(e,t){var n=this;C.get(e.id).then(function(e){var r=e.view,i=e.wikiFieldsContext,o=e.uploadSettings,a=e.preview,s=e.file;O.default.triggerTemporaryAttachmentCreatedInJIRA(s.id),n.addAttachmentToDndStore(t.attachmentId,s,a),r.attachmentCreated(t.attachmentId),i.isWikiFieldFocused&&S.default.insertWikiMarkup(i.focusedField,s.name),o.onFileUploadFinished&&o.onFileUploadFinished.call(s,s),C.delete(s.id)})},addAttachmentToDndStore:function(e,t,n){return T.default.putAttachment(e,n?n:t)},updateViewWithCreatedAttachment:function(e,t,n,r,i){var o=h.default.create(e,t,{viewType:c.default.getViewType(),issueId:r});n.$node.replaceWith(o),i.isWikiFieldFocused&&S.default.insertWikiMarkup(i.focusedField,e.name)},cancel:function(e){C.has(e.id)&&C.get(e.id).then(function(t){var n=t.uploadSettings;O.default.triggerUploadCancelled(e.id),k.default.publish("upload/cancel",e.id),C.delete(e.id),n.onFileUploadFinished&&onFileUploadFinished.call(e,e)})},_createUpload:function(e){var t=this,n=y.default.getUploadContextName(),r=y.default.getUploadContextSettings()||{blockWikiEditorMarkupInsert:!1},o=void 0;return o=M(n)?Promise.resolve(r):v.default.getIssueId().then(function(e){return i({},r,{issueId:e})}),o.then(function(r){var i=S.default.getWikiFieldsContextInformation(),o=void 0;i&&i.isWikiFieldFocused&&r.blockWikiEditorMarkupInsert&&(i.isWikiFieldFocused=!1),o=M(n)?s.default.createIssue(e,{},function(){t.cancel(e)}):s.default.viewIssue(e,{viewType:c.default.getViewType()},function(){t.cancel(e)});var a=v.default.getIssuePermlink(),u=v.default.getIssueKey(),l=E.default.getHtml(u,a);return{view:o,file:e,wikiFieldsContext:i,issueLinkHTML:l,uploadContext:n,uploadSettings:r}})},_validate:function(e){var t=w.default.validateFile(e),n=t.valid,r=t.message;n||(O.default.triggerUploadValidationFailed(r,e.id),this.error({fileId:e.id,description:r,logged:!0}),k.default.publish("upload/cancel",e.id))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(94),o=r(i),a=n(98),s=r(a);t.default={viewIssue:function(e,t,n){return new o.default(e,t,n)},createIssue:function(e,t,n){return new s.default(e,t,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(95),s=r(a),u=n(96),c=r(u),l=n(97),f=r(l),d=n(89),h=r(d),p=function(){function e(t,n,r){i(this,e),this.file=t,this.context=n,this.onCancel=r,this.$node=(0,h.default)('<div class="attachments-upload-progress-bar"/>'),this.$node.data("viewMode",this.context.viewType),this.render()}return o(e,[{key:"render",value:function(){var e=s.default.AttachmentsUploadProgressBar({isImageType:"gallery"===this.context.viewType});"list"===this.context.viewType&&this.$node.addClass("attachment-content"),this.$node.html(e),this.renderFileProperties()}},{key:"renderFileProperties",value:function(){var e=this;"gallery"==this.context.viewType?(0,h.default)(c.default.renderThumbnailIcon({mimetype:this.file.type})).appendTo(this.thumbnailNode):(0,h.default)(c.default.renderAttachmentIcon({mimetype:this.file.type})).appendTo(this.thumbnailNode),this.$node.find(".upload-progress-bar__file-name").text(this.file.name),this.$node.find(".upload-progress-bar__upload-control span").on("click",function(){e.onCancel(),e.destroy()}),this.file.size>=0&&this.$node.find(".upload-progress-bar__file-size").html((0,f.default)(this.file.size))}},{key:"loadThumbnail",value:function(e){if("gallery"===this.context.viewType){var t=URL.createObjectURL(e);this.thumbnailNode.addClass("upload-progress-bar__thumbnail_image"),this.thumbnailNode.find(".attachment-thumbnail-icon").detach(),(0,h.default)("<img/>").attr("src",t).appendTo(this.thumbnailNode)}}},{key:"progress",value:function(e){this.progressPortion=e,this.progressNode.toggleClass("UploadProgressBar_progressUnknown",this.progressPortion===!1),this.progressPortion>=0&&this.progressNode.find(".upload-progress-bar__bar").css("width",100*this.progressPortion+"%")}},{key:"done",value:function(){this.$node.find(".upload-progress-bar__upload-control").hide(),this.$node.addClass("upload-progress-bar__upload-finished")}},{key:"fail",value:function(e){this.$node.addClass("upload-progress-bar__upload-error"),this.$node.removeClass("upload-progress-bar__upload-finished"),this.progressNode.find(".upload-progress-bar__bar").css("width","100%")}},{key:"destroy",value:function(){this.$node.remove()}},{key:"thumbnailNode",get:function(){return this.$node.find(".upload-progress-bar__thumbnail")}},{key:"progressNode",get:function(){return this.$node.find(".upload-progress-bar__progress-bar")}}]),e}();t.default=p},function(e,t){e.exports=JIRA.Templates.DnDAttachmentPlugin},function(e,t){e.exports=JIRA.Templates.ViewIssue},function(e,t){"use strict";function n(e){var t=e/a;return t.toFixed(2)+u}function r(e){var t=Math.round(e/o);return t+s}function i(e){var t=e/o;return t.toFixed(1)+s}Object.defineProperty(t,"__esModule",{value:!0});var o=1024,a=o*o,s=" kB",u=" MB";t.default=function(e){return e>a?n(e):e>o?r(e):i(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(95),s=r(a),u=n(96),c=r(u),l=n(97),f=r(l),d=n(89),h=r(d),p=["aui-iconfont-close-dialog","aui-iconfont-success","aui-iconfont-error"],v=function(){function e(t,n,r){i(this,e),this.file=t,this.context=n,this.onCancel=r,this.$node=(0,h.default)('<div class="upload-progress-bar"/>'),this.render()}return o(e,[{key:"render",value:function(){var e=this,t=s.default.UploadProgressBar({isImageType:!0});this.$node.html(t),this.$node.find(".upload-progress-bar__file-name").text(this.file.name),this.$node.find(".upload-progress-bar__control button").on("click",function(){e.onCancel(),e.destroy()}),this.file.size>=0&&this.$node.find(".upload-progress-bar__file-size").html((0,f.default)(this.file.size)),(0,h.default)(c.default.renderThumbnailIcon({mimetype:this.file.type})).appendTo(this.thumbnailNode),this.thumbnailNode.removeClass("upload-progress-bar__thumbnail_image").addClass("upload-progress-bar__thumbnail_icon").addClass("upload-progress-bar__thumbnail_icon_aui")}},{key:"loadThumbnail",value:function(e){var t=URL.createObjectURL(e);this.thumbnailNode.addClass("upload-progress-bar__thumbnail_image"),this.thumbnailNode.find(".attachment-thumbnail-icon").detach(),(0,h.default)("<img/>").attr("src",t).appendTo(this.thumbnailNode)}},{key:"progress",value:function(e){this.progressPortion=e,this.progressNode.toggleClass("UploadProgressBar_progressUnknown",this.progressPortion===!1),this.progressPortion>=0&&this.progressNode.find(".upload-progress-bar__bar").css("width",100*this.progressPortion+"%")}},{key:"done",value:function(){this.setIcon("aui-iconfont-success"),this.progress(1)}},{key:"attachmentCreated",value:function(e){this.$checkbox=(0,h.default)('<input type="checkbox" name="filetoconvert"/>').addClass("upload-progress-bar__checkbox").attr("value",e).attr("id","filetoconvert-"+e).prop("checked",!0).insertBefore(this.$node),this.$node.addClass("upload-progress-bar__upload-ready").addClass("upload-progress-bar__upload-finished"),this.setIcon("aui-iconfont-close-dialog")}},{key:"fail",value:function(e){this.$node.addClass("upload-progress-bar__upload-error"),this.$node.removeClass("upload-progress-bar__upload-finished"),this.progressNode.find(".upload-progress-bar__bar").css("width","100%"),this.$node.find(".upload-progress-bar__error-message").text(e.description)}},{key:"destroy",value:function(){this.$checkbox&&this.$checkbox.prop("checked",!1).prop("value",null),this.$node.remove()}},{key:"setIcon",value:function(e){var t=this.$node.find(".upload-progress-bar__control button .aui-icon");p.forEach(function(n){t.toggleClass(n,n===e)})}},{key:"thumbnailNode",get:function(){return this.$node.find(".upload-progress-bar__thumbnail")}},{key:"progressNode",get:function(){return this.$node.find(".upload-progress-bar__progress-bar")}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=r(i),a=n(100),s=r(a),u="#file_attachments, #attachment_thumbnails",c=function(){return(0,o.default)(u)};t.default={getViewType:function(){return"file_attachments"===c().attr("id")?"list":"gallery"},insertUpload:function(e){if(0===c().length)throw new Error("Attachment List is not present");c().prepend(e)},uploadError:function(e,t,n){var r=s.default.showErrorMsg(AJS.format("\"{0}\" was not uploaded.",AJS.escapeHtml(e)),AJS.escapeHtml(t));(0,o.default)(r).on("aui-flag-close",n)},globalError:function(e){return s.default.showErrorMsg("Cannot upload attachments",AJS.escapeHtml(e))},notifyUserOfCreatedAttachment:function(e,t){s.default.showSuccessMsg("",AJS.format("{0} was attached successfully to {1}.",AJS.escapeHtml(e.name),t))}}},function(e,t){e.exports=require("jira/flag")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=r(i);t.default={insertUpload:function(e,t){var n=(0,o.default)(e);if(0===n.length)throw new Error("Cannot find temp attachment dropzone");n.after((0,o.default)(t))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(96),o=r(i),a=n(8),s=r(a),u=n(97),c=r(u),l=n(103),f=n(89),d=r(f),h=function(){return"undefined"==typeof window?"":window&&window.location&&window.location.origin}(),p=(0,s.default)(),v=""+h+p,m=function(e){return encodeURIComponent(e)},y=function(e,t){var n=m(e.name);return"secure/attachment/"+t.attachmentId+"/"+n},b=function(e,t){var n=m(e.name);return(0,l.isImageType)(e)?v+"/secure/thumbnail/"+t.attachmentId+"/"+n+"?default=false":null},g=function(e,t){var n=m(e.name);return t.expandable?null:v+"/secure/thumbnail/"+t.attachmentId+"/"+n};t.default={create:function(e,t,n){var r=[{id:t.attachmentId,attachmentUrl:y(e,t),thumbnailUrl:b(e,t),jiraThumbnailUrl:g(e,t),fileName:e.name,mimeType:e.type,expandable:t.expandable,deletable:t.deletable,fileSize:(0,c.default)(e.size),createdIso8601:e.creationDate,createdDateTime:e.creationDate}];return(0,d.default)(o.default.renderAttachments({baseurl:p,fullBaseUrl:v,issue:{id:n.issueId},attachments:r,viewMode:n.viewType})).find(".attachment-content")}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=u.default.getThumbnailMimeType().split(",");return e&&e.type&&a.default.contains(t,e.type)}Object.defineProperty(t,"__esModule",{value:!0}),t.isImageType=void 0;var o=n(7),a=r(o),s=n(4),u=r(s);t.isImageType=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(97),o=r(i),a=n(4),s=r(a);t.default={validateFile:function(e){var t=this.fileNameContainsInvalidCharacter(e.name),n=void 0;return""!==t&&(n=AJS.format("{0} contains the invalid character \'\'{1}\'\'. Please rename the file and try again.",e.name,t)),this.sizeExceedsMaximum(e.size)&&(n="File exceeds maximum size limit set by the administrator ({0}).".replace("{0}",(0,o.default)(s.default.getMaxFileSize()))),n?{valid:!1,message:n}:{valid:!0}},fileNameContainsInvalidCharacter:function(e){return s.default.getInvalidChars().reduce(function(t,n){return e.indexOf(n)!==-1?n:t},"")},sizeExceedsMaximum:function(e){return e>s.default.getMaxFileSize()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=r(i),a=n(106),s=r(a);t.default={getWikiFieldsContextInformation:function(){var e=(0,o.default)("textarea.wiki-textfield:visible:focus");return e?{isWikiFieldFocused:e.length>0,focusedField:e[0]}:void 0},insertWikiMarkup:function(e,t){var n=(0,o.default)(e);s.default.insertWikiMarkup(t,e,e.selectionStart,e.selectionStart),n.is(":focus")||n.focus()}}},function(e,t){e.exports=require("dndattachment/ctrlv/utility")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=r(i),a=n(95),s=r(a);t.default={getHtml:function(e,t){var n=(0,o.default)("#summary-val input"),r=(0,o.default)("#summary-val"),i=n&&n.attr("value")||r&&r.text();return s.default.SuccessMessageLink({issueLink:t,issueKey:e,issueSummary:i})}}},function(e,t){e.exports=require("dndattachment/TemporaryAttachments")},function(e,t){e.exports=require("dndattachment/ctrlv/base64decode")}]);;
;
/* module-key = 'com.atlassian.jira.plugin.system.comment-panel:expandablecomments', location = 'js/plugin/comment/init-comments-expanding.js' */
require(["jira/util/formatter","jira/util/logger","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/ajax/smart-ajax","jquery"],function(e,t,a,n,i,s,o){o(document).on("simpleClick",".collapsed-comments",function(r){function c(){d.find(".show-more-comments").text("Loading...")}function l(){var e=d.attr("href");s.makeRequest({url:e,method:"GET",headers:{"X-PJAX":!0}}).done(m)}function m(e){var s=o(e).find(".activity-comment").slice(v,v+j);u.replaceWith(s),t.trace("jira.issue.comment.expanded"),a.trigger(n.NEW_CONTENT_ADDED,[p,i.panelRefreshed]),f.find(".activity-comment:first").removeClass("collapsed").addClass("expanded")}r.preventDefault();var d=o(this),u=d.closest(".message-container"),f=d.closest(".issuePanelContainer"),p=d.closest(".module"),v=u.prevAll(".activity-comment").length,j=d.find(".show-more-comments").data("collapsed-count");c(),l()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-resources', location = 'templates/viewissue/devstatus-panel.soy' */
// This file was automatically generated from devstatus-panel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }


JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon = function(opt_data, opt_ignored) {
  return '' + aui.message.info({content: '' + JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages({errorInstances: opt_data.instances, notConfiguredInstances: opt_data.notConfiguredInstances, showContactAdminForm: opt_data.showContactAdminForm})});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon';
}


JIRA.Templates.DevStatus.connectionProblemAsWarning = function(opt_data, opt_ignored) {
  return '' + aui.message.warning({content: '' + JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages({errorInstances: opt_data.instances, notConfiguredInstances: opt_data.notConfiguredInstances, showContactAdminForm: opt_data.showContactAdminForm})});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemAsWarning.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemAsWarning';
}


JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages = function(opt_data, opt_ignored) {
  return '' + (((! opt_data.errorInstances || opt_data.errorInstances.length == 0) && (! opt_data.notConfiguredInstances || opt_data.notConfiguredInstances.length == 0)) ? '<p class="connection-error">' + soy.$$filterNoAutoescape('JIRA is having difficulty contacting the applications that supply development status information.') + ' ' + JIRA.Templates.DevStatus.contactAdmin(opt_data) + '</p>' : ((opt_data.errorInstances.length > 0) ? '<p class="connection-error">' + JIRA.Templates.DevStatus.connectionProblemMultipleInstances({instances: opt_data.errorInstances}) + ' ' + JIRA.Templates.DevStatus.contactAdmin(opt_data) + '</p>' : '') + ((opt_data.notConfiguredInstances && opt_data.notConfiguredInstances.length > 0) ? '<p class="config-errors">' + JIRA.Templates.DevStatus.configProblem(opt_data) + '</p>' : ''));
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages.soyTemplateName = 'JIRA.Templates.DevStatus.connectionAndConfigErrorsMessages';
}


JIRA.Templates.DevStatus.contactAdmin = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + soy.$$filterNoAutoescape(AJS.format('If this condition persists, please contact your {0}JIRA administrators{1}.',opt_data.showContactAdminForm ? '<a id="contact-admin" href="' + "" + '/secure/ContactAdministrators!default.jspa">' : '',opt_data.showContactAdminForm ? '</a>' : ''));
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.contactAdmin.soyTemplateName = 'JIRA.Templates.DevStatus.contactAdmin';
}


JIRA.Templates.DevStatus.connectionProblem = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.adminError) {
    output += JIRA.Templates.DevStatus.connectionProblemAdminError(opt_data);
  } else {
    output += '<p class="connection-error">' + ((! opt_data.instances || opt_data.instances.length == 0) ? soy.$$filterNoAutoescape('JIRA is having difficulty contacting the applications that supply development status information.') : JIRA.Templates.DevStatus.connectionProblemMultipleInstances(opt_data)) + ' ';
    var contactAdminAnchor__soy57 = '<a id="contact-admin" href="' + soy.$$escapeHtml("") + '/secure/ContactAdministrators!default.jspa">';
    output += soy.$$filterNoAutoescape(AJS.format('If this condition persists, please contact your {0}JIRA administrators{1}.',opt_data.showContactAdminForm ? contactAdminAnchor__soy57 : '',opt_data.showContactAdminForm ? '</a>' : '')) + '</p>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblem.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblem';
}


JIRA.Templates.DevStatus.connectionProblemAdminError = function(opt_data, opt_ignored) {
  var output = '<p class="connection-error admin-error">' + soy.$$escapeHtml(opt_data.adminError.message) + '</p><p class="configure-applinks-link"><a href="' + soy.$$escapeHtml("") + '/plugins/servlet/applinks/listApplicationLinks">' + soy.$$escapeHtml('Configure Application Links') + '</a></p>';
  if (opt_data.adminError.details) {
    output += '<p class="connection-error"><a id="replace-text-trigger" data-replace-text="' + soy.$$escapeHtml('Hide error details') + '" class="aui-expander-trigger" aria-controls="expander-with-replace-text-content">' + soy.$$escapeHtml('Show error details') + '</a></p><div id="expander-with-replace-text-content" class="aui-expander-content admin-error-details"><ul>';
    var detailList79 = opt_data.adminError.details;
    var detailListLen79 = detailList79.length;
    for (var detailIndex79 = 0; detailIndex79 < detailListLen79; detailIndex79++) {
      var detailData79 = detailList79[detailIndex79];
      output += '<li>' + soy.$$escapeHtml(detailData79) + '</li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemAdminError.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemAdminError';
}


JIRA.Templates.DevStatus.configProblem = function(opt_data, opt_ignored) {
  var output = '';
  var servers__soy86 = opt_data.notConfiguredInstances;
  output += '<span class="description">';
  var server0__soy88 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: servers__soy86[0]});
  if (servers__soy86.length == 1) {
    output += soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0}.',server0__soy88));
  } else {
    var server1__soy96 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: servers__soy86[1]});
    if (servers__soy86.length == 2) {
      output += soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0} and {1}.',server0__soy88,server1__soy96));
    } else {
      var server2__soy104 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: servers__soy86[2]});
      output += (servers__soy86.length == 3) ? soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0}, {1}, and {2}.',server0__soy88,server1__soy96,server2__soy104)) : soy.$$filterNoAutoescape(AJS.format('Couldn\x27\x27t read data from {0}, {1}, {2}, and {3} other {3,choice,1#application|1\x3capplications}.',server0__soy88,server1__soy96,server2__soy104,servers__soy86.length - 3));
    }
  }
  output += '</span> <span class="hints">';
  var helpUrl__soy115 = ({"alt":"Get help!","title":"JIRA Application Development panel displays error - Couldn't read data","url":"https://confluence.atlassian.com/display/JIRAKB/JIRA+Application+Development+panel+displays+error+-+Couldn%27t+read+data"});
  output += soy.$$filterNoAutoescape(AJS.format('Learn {0}about this issue{1} or go to {2}application links{3} to fix it.','<a href="' + helpUrl__soy115.url + '" target="_blank">','</a>','<a href="' + "" + '/plugins/servlet/applinks/listApplicationLinks">','</a>')) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.configProblem.soyTemplateName = 'JIRA.Templates.DevStatus.configProblem';
}


JIRA.Templates.DevStatus.connectionProblemMultipleInstances = function(opt_data, opt_ignored) {
  var output = '';
  var instance0__soy120 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: opt_data.instances[0]});
  if (opt_data.instances.length == 1) {
    output += soy.$$filterNoAutoescape(AJS.format('JIRA is having difficulty contacting {0}.',instance0__soy120));
  } else {
    var instance1__soy128 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: opt_data.instances[1]});
    if (opt_data.instances.length == 2) {
      output += soy.$$filterNoAutoescape(AJS.format('JIRA is having difficulty contacting {0} and {1}.',instance0__soy120,instance1__soy128));
    } else {
      var instance2__soy136 = '' + JIRA.Templates.DevStatus.connectionProblemSingleInstance({instance: opt_data.instances[2]});
      output += soy.$$filterNoAutoescape(AJS.format('JIRA is having difficulty contacting {0}, {1}, {3,choice,0#and {2}|1#{2}, and another application|1\x3c{2}, and {3} more applications}.',instance0__soy120,instance1__soy128,instance2__soy136,opt_data.instances.length - 3));
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemMultipleInstances.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemMultipleInstances';
}


JIRA.Templates.DevStatus.connectionProblemSingleInstance = function(opt_data, opt_ignored) {
  return '<span class="instance" data-name="' + soy.$$escapeHtml(opt_data.instance.name) + '"><a href="' + soy.$$escapeHtml(opt_data.instance.baseUrl) + '" title="' + soy.$$escapeHtml(opt_data.instance.name) + '">' + soy.$$escapeHtml(opt_data.instance.name) + '</a></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.connectionProblemSingleInstance.soyTemplateName = 'JIRA.Templates.DevStatus.connectionProblemSingleInstance';
}


JIRA.Templates.DevStatus.lastUpdated = function(opt_data, opt_ignored) {
  return '' + ((opt_data.lastUpdated) ? '<dd class="sub-text' + ((opt_data.extraClass) ? ' ' + soy.$$escapeHtml(opt_data.extraClass) : '') + '">' + JIRA.Templates.DevStatus.transitionContainer({content: '<div>' + soy.$$escapeHtml(opt_data.text) + ' <time class="livestamp date user-tz allow-future" ' + ((opt_data.datetimeFormat) ? 'data-datetime-format="' + soy.$$escapeHtml(opt_data.datetimeFormat) + '" ' : '') + 'datetime="' + soy.$$escapeHtml(opt_data.lastUpdated) + '">$' + soy.$$escapeHtml(opt_data.lastUpdated) + '</time></div>'}) + '</dd>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.lastUpdated.soyTemplateName = 'JIRA.Templates.DevStatus.lastUpdated';
}


JIRA.Templates.DevStatus.transitionContainer = function(opt_data, opt_ignored) {
  return '<div class="rolling-container sliding-container"><div class="rolling-content">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.transitionContainer.soyTemplateName = 'JIRA.Templates.DevStatus.transitionContainer';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-resources', location = 'templates/viewissue/devstatus-cta-dialog.soy' */
// This file was automatically generated from devstatus-cta-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Dialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Dialog == 'undefined') { JIRA.Templates.DevStatus.Dialog = {}; }


JIRA.Templates.DevStatus.Dialog.content = function(opt_data, opt_ignored) {
  var output = '<div class="jira-dialog-heading">' + ((opt_data.prompt) ? '<h2>' + soy.$$escapeHtml(opt_data.prompt) + '</h2>' : '') + '</div><div class="jira-dialog-content"><ul class="targets">';
  var remoteAppList10 = opt_data.remoteApps;
  var remoteAppListLen10 = remoteAppList10.length;
  for (var remoteAppIndex10 = 0; remoteAppIndex10 < remoteAppListLen10; remoteAppIndex10++) {
    var remoteAppData10 = remoteAppList10[remoteAppIndex10];
    output += '<li>' + JIRA.Templates.DevStatus.Dialog.remoteApp(remoteAppData10) + '</li>';
  }
  output += '</ul><div class="buttons-container"><div class="buttons"><button class="aui-button aui-button-link cancel" id="aui-dialog-close">' + soy.$$escapeHtml('Cancel') + '</button></div></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Dialog.content.soyTemplateName = 'JIRA.Templates.DevStatus.Dialog.content';
}


JIRA.Templates.DevStatus.Dialog.remoteApp = function(opt_data, opt_ignored) {
  return '<a class="target ' + ((opt_data.primary) ? 'primary' : '') + '" data-application-type="' + soy.$$escapeHtml(opt_data.applicationType) + '" href="' + soy.$$escapeHtml(opt_data.url) + '">' + ((opt_data.iconUrl) ? '<img class="application-icon" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '">' : '<span class="application-icon ' + soy.$$escapeHtml(opt_data.iconClass) + '"></span>') + '<div class="title" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</div><div class="base-url" title="' + soy.$$escapeHtml(opt_data.baseUrl) + '">' + soy.$$escapeHtml(opt_data.baseUrl) + '</div></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Dialog.remoteApp.soyTemplateName = 'JIRA.Templates.DevStatus.Dialog.remoteApp';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-resources', location = 'templates/common/devstatus-common.soy' */
// This file was automatically generated from devstatus-common.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Common.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Common == 'undefined') { JIRA.Templates.DevStatus.Common = {}; }


JIRA.Templates.DevStatus.Common.learnMoreLink = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.devToolsLearnMoreLink) ? ' <a href="' + soy.$$escapeHtml(opt_data.devToolsLearnMoreLink) + '" class="learn-more-link" target="_blank">' + soy.$$escapeHtml('Learn more') + '</a>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Common.learnMoreLink.soyTemplateName = 'JIRA.Templates.DevStatus.Common.learnMoreLink';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-backbone-define', location = 'js/util/DevStatusBackboneDefine.js' */
"use strict";Backbone&&!Backbone.define&&(Backbone.define=function(name,ctor){eval("Backbone['Class: "+name+"'] = function() { Backbone['Class: "+name+"'].__ctor.apply(this, arguments); }");var cls=Backbone["Class: "+name];cls.__ctor=ctor,ctor.prototype.name=name,cls.prototype=ctor.prototype,_.extend(cls,ctor),_.each(ctor.prototype,function(t,e){"function"==typeof t&&(t.displayName=name+"."+e)});var context=window,parts=name.split(".");return _.each(parts,function(t,e){e===parts.length-1?context[t]=cls:context=null==context[t]?context[t]={}:context[t]}),cls});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:event-publisher', location = 'js/util/EventPublisher.js' */
"use strict";define("jira-development-status/util/event-publisher",function(){return{trigger:AJS.trigger}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-wrm', location = 'js/util/DevStatusWRM.js' */
"use strict";define("jira-development-status/util/WRM",["underscore","jira-development-status/util/event-publisher"],function(e,r){var n="wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-resources-ctx",i="jira.devsummary.dialog-resources.wrm.load",t=function(){return window.performance.now()},a=function(e){var r=t();WRM.require([n],function(){o(r),e&&e()})},u=function(e){var n=Math.round(t()-e);r.trigger("analyticsEvent",{name:i,data:{durationInMillis:n}})},o=e.once(u);return{ANALYTIC_EVENT:i,requireDetailDialogResources:a}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-analytics-resources', location = 'js/analytics/devstatus-analytics.js' */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("jira/dev-status/analytics",["require","exports"],function(e,i){var n=e("jira/util/events"),t=e("jira/util/events/types"),a=e("jira/util/data/meta"),l=e("jquery"),c=e("underscore"),r=".edit-permission-link";i.Analytics={fireEvent:function(e,i){var n="devstatus."+e,t="object"!==("undefined"==typeof i?"undefined":_typeof(i))?{}:i;AJS.trigger("analyticsEvent",{name:n,data:t})},fireAgileDevStatusLinkClicked:function(){return i.Analytics.fireEvent("panel.agile.icon.clicked")}},i.SummaryAnalytics={fireSummaryShownEvent:function(e){var n=e.isAssignee,t=e.eventProperties,a=n?"assignee":"nonassignee";return i.Analytics.fireEvent("summary.shown."+a,t)},fireSummaryClickedEvent:function(e,n){var t=a.get("fusion-analytics-new-context-link"),l=".clicked";return t&&(a.set("fusion-analytics-new-context-link",void 0),l+=".newcontext"),i.Analytics.fireEvent(e+".summary"+l,n)},fireDetailTabClicked:function(e,n){return i.Analytics.fireEvent(n+".detail.tab.clicked",{applicationName:e})}},i.BuildsAnalytics={fireSummaryClickedEvent:function(e){return i.SummaryAnalytics.fireSummaryClickedEvent("builds",e)},fireDetailProjectClicked:function(){return i.Analytics.fireEvent("builds.detail.project.clicked")},fireDetailPlanClicked:function(){return i.Analytics.fireEvent("builds.detail.plan.clicked")},fireDetailBuildClicked:function(){return i.Analytics.fireEvent("builds.detail.build.clicked")}},i.DeploymentsAnalytics={fireSummaryClickedEvent:function(e){return i.SummaryAnalytics.fireSummaryClickedEvent("deployments",e)},fireDetailProjectClicked:function(){return i.Analytics.fireEvent("deployments.detail.project.clicked")},fireDetailEnvironmentClicked:function(){return i.Analytics.fireEvent("deployments.detail.environment.clicked")},fireDetailReleaseClicked:function(){return i.Analytics.fireEvent("deployments.detail.release.clicked")}},i.CommitsAnalytics={fireSummaryClickedEvent:function(e){return i.SummaryAnalytics.fireSummaryClickedEvent("commits",e)},fireDetailRepoClicked:function(e){return i.Analytics.fireEvent("commits.detail.repo.clicked",{applicationName:e})},fireDetailCommitClicked:function(e){return i.Analytics.fireEvent("commits.detail.commit.clicked",{applicationName:e})},fireDetailTabClicked:function(e){return i.SummaryAnalytics.fireDetailTabClicked(e,"commits")},fireDetailFileExpandedClicked:function(e){return i.Analytics.fireEvent("commits.detail.file.expanded.clicked",{applicationName:e})},fireDetailFilesExpandedClicked:function(e){return i.Analytics.fireEvent("commits.detail.files.expanded.clicked",{applicationName:e})},fireDetailFileClicked:function(e){return i.Analytics.fireEvent("commits.detail.file.clicked",{applicationName:e})},fireDetailReviewsShown:function(e){return i.Analytics.fireEvent("commits.detail.reviews.shown",{applicationName:e})},fireDetailReviewClicked:function(e){return i.Analytics.fireEvent("commits.detail.review.clicked",{applicationName:e})},fireDetailBranchesShown:function(e){return i.Analytics.fireEvent("commits.detail.branches.shown",{applicationName:e})},fireDetailCreateReviewClicked:function(e,n){return i.Analytics.fireEvent("commits.detail.review.create"+(n?".all":""),{applicationName:e})}},i.ReviewsAnalytics={fireSummaryClickedEvent:function(e){return i.SummaryAnalytics.fireSummaryClickedEvent("reviews",e)},fireDetailReviewClicked:function(){return i.Analytics.fireEvent("reviews.detail.review.clicked")}},i.BranchesAnalytics={fireSummaryClickedEvent:function(e){return i.SummaryAnalytics.fireSummaryClickedEvent("branches",e)},_fireDetailClickedEvent:function(e,n){return i.Analytics.fireEvent("branches.detail."+n+".clicked",{applicationName:e})},_fireDetailClickedEventAssignable:function(e,i,n,t){"undefined"!=typeof n&&"undefined"!=typeof t&&(n?e+=".assignee":(e+=".nonassignee",e+=t?".assignable":".nonassignable")),this._fireDetailClickedEvent(i,e)},fireDetailRepoClicked:function(e){this._fireDetailClickedEvent(e,"repo")},fireDetailBranchClicked:function(e){this._fireDetailClickedEvent(e,"branch")},fireDetailPullRequestLozengeClick:function(e){this._fireDetailClickedEvent(e,"pullrequest.lozenge")},fireDetailReviewLozengeClick:function(e){this._fireDetailClickedEvent(e,"review.lozenge")},fireDetailTabClicked:function(e){return i.SummaryAnalytics.fireDetailTabClicked(e,"branches")},fireDetailCreatePullRequestClicked:function(e,i,n){this._fireDetailClickedEventAssignable("pullrequest.create",e,i,n)},fireDetailCreateReviewClicked:function(e,i,n){this._fireDetailClickedEventAssignable("review.create",e,i,n)}},i.PullRequestsAnalytics={fireSummaryClickedEvent:function(e){return i.SummaryAnalytics.fireSummaryClickedEvent("pullrequests",e)},fireDetailPullRequestClicked:function(e){return i.Analytics.fireEvent("pullrequests.detail.pullrequest.clicked",{applicationName:e})},fireDetailTabClicked:function(e){return i.SummaryAnalytics.fireDetailTabClicked(e,"pullrequests")}},i.LearnMoreAnalytics={fireLearnMoreEvent:function(e,n){return i.Analytics.fireEvent("learnmore."+e,n)}},i.CtaDialogAnalytics={issueDetails:{},fireCreateBranchEvent:function(e,n){n="object"!==("undefined"==typeof n?"undefined":_typeof(n))?{}:n;var t=l.extend({issueStatus:this.issueDetails.status,issueType:this.issueDetails.type},n);return i.Analytics.fireEvent("createbranch."+e+"."+(this.issueDetails.isAssignee?"assignee":"nonassignee"),t)},_populateIssueDetails:function(e){this.issueDetails={status:""+e.data("issueStatus"),type:""+e.data("issueType"),isAssignee:e.data("isAssignee")}},_initHandler:function(e,i,n,t){if(n&&i.not(document).is(n)){var a=this;i.find(t).on("simpleClick",function(){var e=l(this);a._fireCreateBranchEvent(e)})}},_fireCreateBranchEvent:function(e){this._populateIssueDetails(e);var i="click",n=a.get("fusion-analytics-new-context-link");n&&(a.set("fusion-analytics-new-context-link",void 0),i+=".newcontext"),this.fireCreateBranchEvent(i)},initialize:function(e,a,r){var s=this;n.bind(t.NEW_CONTENT_ADDED,c.bind(function(i,n){this._initHandler(i,n,e,a)},this)),n.bind("GH.DetailView.updated",c.bind(function(i){this._initHandler(i,l(e),e,a)},this)),l(a).on("simpleClick",function(){var e=l(this);s._fireCreateBranchEvent(e)}),l(document).on("click","#"+r+" .jira-dialog-content .target",function(){var e=l(this);s.fireCreateBranchEvent("dialog.click",{title:e.find(".title").attr("title"),applicationType:e.data("applicationType")})}),l(document).on("click","#"+r+" .jira-dialog-content button.cancel",function(){s.fireCreateBranchEvent("dialog.cancel")}),l(document).on("click",".cta-tooltip .cta-learn-more-link",function(){i.LearnMoreAnalytics.fireLearnMoreEvent("click.ctahelptipbranching")})}},i.AdminAnalytics={fireAdminEvent:function(e,n){return i.Analytics.fireEvent("admin."+e,n)},initialize:function(){var e=this,n=l("#project-config-panel-dev-status");n.find(r).on("click",function(){e.fireAdminEvent("editpermissionlink.config."+(l("ul.permissions-list li.devstatus-admin-permission-item").length>0?"withpermissions":"nopermissions"))}),n.find(".learn-more-link").on("click",function(){i.LearnMoreAnalytics.fireLearnMoreEvent("click.adminappvertisementlink")}),n.find("#project-config-applinks-connect").on("click",function(){e.fireAdminEvent("connect")}),n.find(".devstatus-admin-connect-button-option").on("click",function(){var i=l(this).data("key")||"unknown";e.fireAdminEvent("connect."+i)})}},i.AdminSummaryAnalytics={initialize:function(){l("#project-config-webpanel-devstatus-admin-summary-panel").find(r).on("click",function(){i.AdminAnalytics.fireAdminEvent("editpermissionlink.summary.nopermissions")})}}}),function(e){AJS.namespace("JIRA.DevStatus.AdminAnalytics",null,e.AdminAnalytics),AJS.namespace("JIRA.DevStatus.AdminSummaryAnalytics",null,e.AdminSummaryAnalytics),AJS.namespace("JIRA.DevStatus.Analytics",null,e.Analytics),AJS.namespace("JIRA.DevStatus.BranchesAnalytics",null,e.BranchesAnalytics),AJS.namespace("JIRA.DevStatus.BuildsAnalytics",null,e.BuildsAnalytics),AJS.namespace("JIRA.DevStatus.CommitsAnalytics",null,e.CommitsAnalytics),AJS.namespace("JIRA.DevStatus.CtaDialogAnalytics",null,e.CtaDialogAnalytics),AJS.namespace("JIRA.DevStatus.DeploymentsAnalytics",null,e.DeploymentsAnalytics),AJS.namespace("JIRA.DevStatus.LearnMoreAnalytics",null,e.LearnMoreAnalytics),AJS.namespace("JIRA.DevStatus.PullRequestsAnalytics",null,e.PullRequestsAnalytics),AJS.namespace("JIRA.DevStatus.ReviewsAnalytics",null,e.ReviewsAnalytics),AJS.namespace("JIRA.DevStatus.SummaryAnalytics",null,e.SummaryAnalytics)}(require("jira/dev-status/analytics"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-analytics-resources', location = 'js/analytics/devstatus-rest-duration-analytics.js' */
"use strict";define("jira/dev-status/rest-duration-analytics",["jquery","underscore","jira/dev-status/time-tracking-analytics-event"],function(e,r,t){var n={ISSUE_SUMMARY_EVENT:"issue.summary.fetch.duration",ISSUE_DETAIL_EVENT:"issue.detail.fetch.duration",RR_TAB_EVENT:"release.report.tab.content.fetch.duration",ISSUE_BULK_SUMMARY_EVENT:"issue.bulksummary.fetch.duration",STALE_ISSUE_EVENT:"issue.stale.issue.fetch.duration"},s={},u=function(e){return e.indexOf("rest/dev-status/1.0/")>=0},a=function(e){return e.indexOf("rest/release-report/1.0")>=0},i=function(e){return e&&e.responseText?e.responseText.length:0},E=function(e,t){if(t){r.isArray(t)||(t=[t]);var n={};return e.split("?")[1].split("&").map(function(e){return e.split("=")}).filter(function(e){return r.include(t,e[0])}).reduce(function(e,t){var s=n[t[0]];s?r.isArray(s)?s.push(t[1]):n[t[0]]=[s,t[1]]:n[t[0]]=t[1]},{}),n}},o=function(e){return e.indexOf("issue/detail")>=0?n.ISSUE_DETAIL_EVENT:e.indexOf("issue/summary")>=0?n.ISSUE_SUMMARY_EVENT:e.indexOf("issue/bulksummary")>=0?n.ISSUE_BULK_SUMMARY_EVENT:e.indexOf("issue/stale-issues")>=0?n.STALE_ISSUE_EVENT:e.indexOf("release-report/1.0/tab/content")>=0?n.RR_TAB_EVENT:void 0},c=function(e,n,u){n||(n=[]),r.isArray(n)||(n=[n]),n.push("_");var a=E(e,n),i=new t(o(e),a._,r.extend(a,u));i.start(),s[i.getFullId()]=i},l=function(e){var r=o(e);if(r){var n=E(e,"_");return s[t.generateFullId(r,n?n._:void 0)]}},d=function(e,r){var t=l(e);t&&(t.endAndFire(r),delete s[t.getFullId()])},S=function(e){return e.status>=200&&e.status<300},_=function(e,r,t){c(t.url)},f=function(e,r,t){var n=S(r),s=n?JSON.parse(r.responseText):void 0,u={successful:n,contentLength:i(r),hasData:!(!s||!s.summary),hasErrors:!!(s&&s.errors&&s.errors.length)};d(t.url,u)},T=function(e,r,t){c(t.url,["applicationType","dataType"])},h=function(e,r,t){var n=S(r),s=n?JSON.parse(r.responseText):void 0,u={successful:n,contentLength:i(r),hasData:!!(s&&s.detail&&s.detail.length),hasErrors:!!(s&&s.errors&&s.errors.length)};d(t.url,u)},v=function(e,t,n){var s=E(n.url,["issueId"]).issueId,u=s?r.isArray(s)?s.length:1:0;c(n.url,[],{issues:u})},I=function(e,r,t){var n=S(r),s=n?JSON.parse(r.responseText):void 0,u={successful:n,contentLength:i(r),hasErrors:!!(s&&s.errors&&s.errors.length),changedIssues:n&&s.changedIssues?s.changedIssues.length:0,changed:n&&s.changed,devSummaryStale:n&&s.devSummaryStale};d(t.url,u)},U=function(e,r,t){c(t.url)},A=function(e,r,t){var n=S(r),s=n?JSON.parse(r.responseText):void 0,u={successful:n,contentLength:i(r),issues:n&&s?s.length:0};d(t.url,u)},p=function(e,r,t){c(t.url,"selectedTab")},N=function(e,r,t){var n=S(r),s={successful:n,contentLength:i(r)};d(t.url,s)},g={};g[n.ISSUE_DETAIL_EVENT]=T,g[n.ISSUE_SUMMARY_EVENT]=_,g[n.ISSUE_BULK_SUMMARY_EVENT]=v,g[n.STALE_ISSUE_EVENT]=U,g[n.RR_TAB_EVENT]=p;var V={};V[n.ISSUE_DETAIL_EVENT]=h,V[n.ISSUE_SUMMARY_EVENT]=f,V[n.ISSUE_BULK_SUMMARY_EVENT]=I,V[n.STALE_ISSUE_EVENT]=A,V[n.RR_TAB_EVENT]=N;var m=function(e,r,t,n){if(u(n.url)||a(n.url)){var s=e?g:V,i=s[o(n.url)];i&&i(r,t,n)}};e(document).ajaxSend(m.bind(null,!0)),e(document).ajaxComplete(m.bind(null,!1))});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-analytics-resources', location = 'js/analytics/time-tracking-analytics-event.js' */
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();define("jira/dev-status/time-tracking-analytics-event",["underscore","jquery","jira/dev-status/analytics"],function(t,e,n){return function(){function e(t,n,r){_classCallCheck(this,e),this.category=t,2===arguments.length&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&(r=n,n=void 0),this.id=n,this.data=r||{}}return _createClass(e,[{key:"start",value:function(t){return this.addData(t),this.startTime=window.performance.now(),this}},{key:"end",value:function(t){return this.addData(t),this.endTime=window.performance.now(),this.data.timeElapsed=Math.round(this.endTime-this.startTime),this}},{key:"endAndFire",value:function(t){return this.end(t).fire()}},{key:"fire",value:function(){return n.Analytics.fireEvent(this.category,this.data),this}},{key:"addData",value:function(e){return t.extend(this.data,e),this}},{key:"getFullId",value:function(){return this.constructor.generateFullId(this.category,this.id)}}],[{key:"generateFullId",value:function(t,e){return t+(e?"_"+e:"")}}]),e}()});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-analytics-resources', location = 'js/analytics/AnalyticsModel.js' */
"use strict";define("jira/devstatus/analytics-model",["backbone","underscore","jira/dev-status/rest-duration-analytics"],function(t,e){return t.Model.extend({TO_ANALYTIC_KEY_OVERRIDE:{repository:"commit"},DEV_INFO_TYPES_WITH_INSTANCE_TYPE_DATA:["build"],properties:["issue","summary","instanceType"],initialize:function(t){this.devStatusContainer=t.devStatusContainer,this.devStatusData=t.devStatusData,this._getAllAnalyticData()},getIssue:function(){return this.get("issue")},getSummary:function(){return this.get("summary")},getInstanceType:function(){return this.get("instanceType")},_getAllAnalyticData:function(){this.set("issue",this._getAnalyticIssueData()),this._initListenerToData()},_getAnalyticIssueData:function(){return{isAssignee:this.devStatusContainer.data("is-assignee"),isAssignable:this.devStatusContainer.data("is-assignable"),issueStatus:this.devStatusContainer.data("issue-status"),issueType:this.devStatusContainer.data("issue-type"),issueId:this.devStatusContainer.data("issue-id"),projectId:this.devStatusContainer.data("project-id")}},_getAnalyticSummaryData:function(t){var a=this,s={};return e.each(t.summary,function(t,e){s[a.TO_ANALYTIC_KEY_OVERRIDE[e]||e]=t.overall.count>0}),s},_getAnalyticInstanceTypeData:function(t){var a=this,s={};return e.each(t.summary,function(t,n){a.DEV_INFO_TYPES_WITH_INSTANCE_TYPE_DATA.indexOf(n)>-1&&void 0!==t.byInstanceType&&e.each(t.byInstanceType,function(t,e){s[(a.TO_ANALYTIC_KEY_OVERRIDE[n]||n)+"_"+e+"_count"]=t.count})}),s},_initListenerToData:function(){var t=this;this.devStatusData.on("requestSuccess",function(){t.set("summary",t._getAnalyticSummaryData(t.devStatusData.get("aggregatedData"))),t.set("instanceType",t._getAnalyticInstanceTypeData(t.devStatusData.get("aggregatedData")))})}})}),Backbone.define("JIRA.DevStatus.AnalyticsModel",require("jira/devstatus/analytics-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/DateUtils.js' */
"use strict";define("jira/dev-status/util/date",["jquery"],function(t){return{addTooltip:function(a){var e=a.find("time.livestamp");e.livestamp(),e.each(function(){var a=t(this),e=a.attr("datetime"),i=isNaN(e)?e:+e,r=moment(i);a.attr("title",r.format(JIRA.DevStatus.Date.format))})},format:"LLL"}}),function(t){AJS.namespace("JIRA.DevStatus.Date",null,t)}(require("jira/dev-status/util/date"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/dev-status-console.js' */
"use strict";define("jira-development-status/util/console",[],function(){if(console)return console;var e=function(){};return{log:e,info:e,warn:e,debug:e,error:e}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/dev-status-constants.js' */
"use strict";define("jira-development-status/util/constants",function(){return{PLUGIN_KEY:"com.atlassian.jira.plugins.jira-development-integration-plugin",RELEASE_REPORT_SELECTED_TAB:"release-report-selected-tab"}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/LocalStorage.js' */
"use strict";define("jira-development-status/util/local-storage",[],function(){return localStorage?localStorage:{setItem:function(){},getItem:function(){},removeItem:function(){},clear:function(){}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/ApplinksUtils.js' */
"use strict";define("jira-development-status/util/applinks-utils",[],function(){return ApplinksUtils});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/DevStatusLocalStorage.js' */
"use strict";define("jira-development-status/util/dev-status-local-storage",["underscore","jira-development-status/util/console","jira-development-status/util/local-storage"],function(e,t,r){var o=e.extend({},r);return o.setItem=function(e,o){try{r.setItem(e,o)}catch(a){var l="";(22===a.code||1014===a.code&&"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&(l=". Browser local storage is full. For more information please follow https://confluence.atlassian.com/jirakb/functionality-in-jira-fails-due-to-exceeding-chrome-quota-762874705.html"),t.error("Couldn't store '"+e+"' & '"+o+"' key-value pair locally: "+a.name+l)}},o.getItem=function(e){try{return r.getItem(e)}catch(o){t.error("Couldn't retrieve locally stored value for key '"+e+"': "+o.name)}},o.removeItem=function(e){try{r.removeItem(e)}catch(o){t.error("Couldn't remove locally stored value for key '"+e+"': "+o.name)}},o.clear=function(){try{r.clear()}catch(e){t.error("Couldn't clear local storage: "+e.name)}},o});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/Listeners.js' */
"use strict";define("jira/devstatus/util/listeners",["underscore"],function(t){return Class.extend({init:function(){this._listening=[]},startListening:function(t,i,n,s){var e={start:function(){return t.on(i,n,s),this},stop:function(){return t.off(i,n,s),this}};this._listening.push(e.start())},stopListening:function(){t.each(this._listening,function(t){t.stop()}),this._listening=[]}})}),Backbone.define("JIRA.DevStatus.Util.Listeners",require("jira/devstatus/util/listeners"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/DevStatusNavigation.js' */
"use strict";define("jira-development-status/util/navigate",["underscore"],function(n){return{getUrl:function(){return window.location.href},reload:function(){n.defer(function(){window.location.reload()})},navigate:function(t){n.defer(function(){window.location=t})},redirectToLogin:function(){this.navigate(AJS.contextPath()+"/login.jsp?permissionViolation=true&os_destination="+encodeURIComponent(window.location.href))}}}),function(n){AJS.namespace("JIRA.DevStatus.Navigate",null,n)}(require("jira-development-status/util/navigate"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/DevStatusURLUtils.js' */
"use strict";define("jira/dev-status/util/url",["jquery","underscore"],function(e,t){return{getDetailDialogParam:function(){var e=this._removeKickAssIHashFromUrl(JIRA.DevStatus.Navigate.getUrl()),t=parseUri(e);return t&&t.queryKey&&t.queryKey.devStatusDetailDialog},getUrlWithDetailDialogParam:function(e){var t=this._removeKickAssIHashFromUrl(JIRA.DevStatus.Navigate.getUrl()),r=parseUri(t);return r.queryKey.devStatusDetailDialog=encodeURIComponent(e),this.createUrlFromParsedUri(r)},getCreateReviewDetailUrl:function(e){return this.getUrlWithDetailDialogParam("create-review-"+e)},isCreateReviewDetailDialogLink:function(e){return e&&e.lastIndexOf&&0===e.lastIndexOf("create-review-",0)},getCreateReviewDetailDialogApplicationType:function(e){return e.substring("create-review-".length)},_removeKickAssIHashFromUrl:function(e){return e.replace("i#","")},createUrlFromParsedUri:function(r){var a=[];e.each(r.queryKey,function(r,i){t.isObject(i)?e.each(i,function(e,t){a.push(r+"="+t)}):a.push(r+"="+i)});var i="";return r.protocol&&(i+=r.protocol+"://"),r.authority&&(i+=r.authority),r.path&&(i+=r.path),a.length>0&&(i+="?"+a.join("&")),r.anchor&&(i+="#"+r.anchor),i}}}),function(e){AJS.namespace("JIRA.DevStatus.URL",null,e)}(require("jira/dev-status/util/url"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/Sanitize.js' */
"use strict";define("jira-development-status/util/sanitize",["underscore"],function(t){function n(t){return c.indexOf(t[0])>-1}function r(t){if(!t)return"about:blank";var r,e,i=t.replace(u,"").trim();return n(i)?i:(e=i.match(o))?(r=e[0],a.test(r)?"about:blank":i):"about:blank"}function e(n,e){for(var i=t.clone(n),a=e||[],u=0;u<a.length;u++){var o=a[u];n.hasOwnProperty(o)&&"string"==typeof i[o]&&(i[o]=r(i[o]))}return i}function i(n,r){return t.map(n,function(t){return e(t,r)})}var a=/^(%20|\s)*(javascript|data)/im,u=/[^\x20-\x7E]/gim,o=/^([^:]+):/gm,c=[".","/"];return{sanitizeUrl:r,sanitizeObject:e,sanitizeCollection:i}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'js/util/ES6Utils.js' */
"use strict";define("jira/dev-status/util/es6",["exports"],function(e){e.stringStartsWith=function(e,t){return e.slice(0,0+t.length)===t},e.findIndex=function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},e.requestIdleCallback=function(e){"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:fusion-widget-common-clientside', location = 'templates/fusion-widget/fusion-widget-common.soy' */
// This file was automatically generated from fusion-widget-common.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.FusionWidget.Common.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.FusionWidget == 'undefined') { JIRA.Templates.FusionWidget = {}; }
if (typeof JIRA.Templates.FusionWidget.Common == 'undefined') { JIRA.Templates.FusionWidget.Common = {}; }


JIRA.Templates.FusionWidget.Common.branches = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#branch|1\x3cbranches}','<span class="count">',opt_data.count,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.branches.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.branches';
}


JIRA.Templates.FusionWidget.Common.buildsText = function(opt_data, opt_ignored) {
  var output = '';
  var tagStart__soy6 = '<span class="count">';
  var tagEnd__soy7 = '</span>';
  output += (opt_data.successfulBuildCount > 0) ? (opt_data.failedBuildCount > 0) ? soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} failing',tagStart__soy6,opt_data.failedBuildCount,tagEnd__soy7)) : (opt_data.unknownBuildCount > 0) ? soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds}',tagStart__soy6,opt_data.successfulBuildCount,tagEnd__soy7)) : soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds}',tagStart__soy6,opt_data.count,tagEnd__soy7)) : (opt_data.failedBuildCount > 0) ? (opt_data.unknownBuildCount > 0) ? soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} failing',tagStart__soy6,opt_data.failedBuildCount,tagEnd__soy7)) : soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} failing',tagStart__soy6,opt_data.count,tagEnd__soy7)) : soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#build|1\x3cbuilds} incomplete',tagStart__soy6,opt_data.count,tagEnd__soy7));
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.buildsText.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.buildsText';
}


JIRA.Templates.FusionWidget.Common.buildsIconClass = function(opt_data, opt_ignored) {
  return '' + ((opt_data.failedBuildCount > 0) ? 'aui-iconfont-error' : (opt_data.successfulBuildCount > 0) ? 'aui-iconfont-approve' : (opt_data.unknownBuildCount > 0) ? 'aui-iconfont-devtools-task-cancelled' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.buildsIconClass.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.buildsIconClass';
}


JIRA.Templates.FusionWidget.Common.commits = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#commit|1\x3ccommits}','<span class="count">',opt_data.count,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.commits.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.commits';
}


JIRA.Templates.FusionWidget.Common.deployments = function(opt_data, opt_ignored) {
  var output = '';
  var instanceOne__soy43 = '' + JIRA.Templates.FusionWidget.Common.deploymentsInstance({environment: opt_data.topEnvironments[0], showProjects: opt_data.showProjects});
  var instanceTwo__soy47 = '' + JIRA.Templates.FusionWidget.Common.deploymentsInstance({environment: opt_data.topEnvironments[1], showProjects: opt_data.showProjects});
  var instanceThree__soy51 = '' + JIRA.Templates.FusionWidget.Common.deploymentsInstance({environment: opt_data.topEnvironments[2], showProjects: opt_data.showProjects});
  output += soy.$$filterNoAutoescape(AJS.format('{5}Deployed{6} to {0,choice,1#{1}|2#{1} and {2}|3#{1}, {2} and {3}|3\x3c{1}, {2}, {3}, and {4} more}',opt_data.successfulCount,instanceOne__soy43,instanceTwo__soy47,instanceThree__soy51,opt_data.successfulCount - 3,opt_data.anchorStart,opt_data.anchorEnd));
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.deployments.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.deployments';
}


JIRA.Templates.FusionWidget.Common.deploymentsInstance = function(opt_data, opt_ignored) {
  return '' + ((opt_data.environment) ? '<span class="environment" ' + ((opt_data.showProjects) ? 'title="' + soy.$$escapeHtml(AJS.format('Project: {0}',opt_data.environment.project)) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.environment.title) + '</span>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.deploymentsInstance.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.deploymentsInstance';
}


JIRA.Templates.FusionWidget.Common.pullRequestsText = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#pull request|1\x3cpull requests}','<span class="count">',opt_data.stateCount,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.pullRequestsText.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.pullRequestsText';
}


JIRA.Templates.FusionWidget.Common.reviewsText = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('{0}{1}{2} {1,choice,1#review|1\x3creviews}','<span class="count">',opt_data.stateCount,'</span>'));
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsText.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsText';
}


JIRA.Templates.FusionWidget.Common.reviewsState = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.stateLozenge({isSubtle: opt_data.isSubtle, lozengeClass: opt_data.stateClasses[opt_data.state], text: opt_data.stateText[opt_data.state], classes: opt_data.classes, tooltip: opt_data.tooltip, tooltipClass: opt_data.tooltipClass, tooltipText: opt_data.tooltipText});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsState.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsState';
}


JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {OPEN: 'aui-lozenge-complete', MERGED: 'aui-lozenge-success', DECLINED: 'aui-lozenge-error'}, stateText: {OPEN: 'OPEN', MERGED: 'MERGED', DECLINED: 'DECLINED'}, classes: 'pullrequest-state'});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue';
}


JIRA.Templates.FusionWidget.Common.pullRequestsStateReleaseReport = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {OPEN: 'aui-lozenge-complete', MERGED: 'aui-lozenge-success', DECLINED: 'aui-lozenge-error'}, stateText: {OPEN: 'Under Review', MERGED: 'MERGED', DECLINED: 'DECLINED'}, tooltip: true, tooltipClass: 'fusion-widget-tooltip', tooltipText: opt_data.tooltipText});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.pullRequestsStateReleaseReport.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.pullRequestsStateReleaseReport';
}


JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {REVIEW: 'aui-lozenge-complete', CLOSED: 'aui-lozenge-success', DRAFT: 'aui-lozenge-complete', DEAD: 'aui-lozenge-error', REJECTED: 'aui-lozenge-error', UNKNOWN: 'aui-lozenge-error', APPROVAL: 'aui-lozenge-current', SUMMARIZE: 'aui-lozenge-complete'}, stateText: {REVIEW: 'Open', CLOSED: 'Closed', DRAFT: 'Draft', DEAD: 'Abandoned', REJECTED: 'Rejected', UNKNOWN: 'Unknown', APPROVAL: 'Approval', SUMMARIZE: 'Summarize'}});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue';
}


JIRA.Templates.FusionWidget.Common.reviewsStateReleaseReport = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: true, state: opt_data.state, stateClasses: {REVIEW: 'aui-lozenge-complete', CLOSED: 'aui-lozenge-success', DRAFT: 'aui-lozenge-complete', DEAD: 'aui-lozenge-error', REJECTED: 'aui-lozenge-error', UNKNOWN: 'aui-lozenge-error', APPROVAL: 'aui-lozenge-complete', SUMMARIZE: 'aui-lozenge-complete'}, stateText: {REVIEW: 'Under Review', CLOSED: 'Closed', DRAFT: 'Draft', DEAD: 'Abandoned', REJECTED: 'Rejected', UNKNOWN: 'Unknown', APPROVAL: 'Under Review', SUMMARIZE: 'Under Review'}, tooltip: true, tooltipClass: 'fusion-widget-tooltip', tooltipText: opt_data.tooltipText});
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.reviewsStateReleaseReport.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.reviewsStateReleaseReport';
}


JIRA.Templates.FusionWidget.Common.stateLozenge = function(opt_data, opt_ignored) {
  return '<span class="aui-lozenge aui-lozenge-overflow ' + ((opt_data.isSubtle) ? 'aui-lozenge-subtle' : '') + ' ' + soy.$$escapeHtml(opt_data.lozengeClass) + ' ' + ((opt_data.tooltip) ? soy.$$escapeHtml(opt_data.tooltipClass) : '') + ' ' + ((opt_data.classes) ? soy.$$escapeHtml(opt_data.classes) : '') + '"' + ((opt_data.tooltip) ? 'data-tooltip="' + soy.$$escapeHtml(opt_data.tooltipText) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.FusionWidget.Common.stateLozenge.soyTemplateName = 'JIRA.Templates.FusionWidget.Common.stateLozenge';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-instance-picker-view', location = 'js/viewissue/dialog/InstancePickerView.js' */
"use strict";define("jira/devstatus/instance-picker-view",["backbone","jquery","underscore","jira-development-status/util/navigate","jira-development-status/util/sanitize"],function(e,t,s,i,n){return e.View.extend({ARROW_KEY_UP_CODE:38,ARROW_KEY_DOWN_CODE:40,template:JIRA.Templates.DevStatus.Dialog.content,events:{"keydown .jira-dialog-content":"_onTargetKeyboardSelect","focus .target":"_onTargetFocus"},initialize:function(e){this.currentSelected=null,this.link=e.activeTrigger,this.cta=e.cta,this.processTargets=e.processTargets,this.issueId=e.issueId,this.uniqueResultAction=e.uniqueResultAction||function(e){i.navigate(e.url)}},render:function(){var e=this._getIssueId(this.link),i=t.Deferred();return this._fetchTargets(this.cta,e).done(s.bind(function(e){this.processTargets&&(e.remoteApps=this.processTargets(e.remoteApps));var s=this._isUniqueResult(e);if(s)this.uniqueResultAction(s);else{var n=t(this.template(e));i.resolve(n)}},this)).fail(function(e){i.resolve(e)}),i.promise()},_fetchTargets:function(e,s){var i=t.Deferred();return t.ajax({url:contextPath+"/rest/dev-status/1.0/issue/targets?cta="+encodeURIComponent(e)+"&issueId="+encodeURIComponent(s)}).done(function(e){e.remoteApps=n.sanitizeCollection(e.remoteApps,["baseUrl","iconUrl","url"]),i.resolve(e)}).fail(function(e,t){i.reject(JIRA.SmartAjax.buildDialogErrorContent(e).html())}),i.promise()},_getIssueId:function(e){return this.issueId||e&&e.data("issueid")||t("#devstatus-container").data("issue-id")},_isUniqueResult:function(e){return 1===e.remoteApps.length&&e.remoteApps[0]},_toggleEntry:function(e,t,s){var i=e.eq(t);s&&i.focus(),i.addClass("selected"),this.currentSelected=i},_removeSelected:function(){this.currentSelected&&(this.currentSelected.removeClass("selected"),this.currentSelected=null)},_onTargetKeyboardSelect:function(e){if("keydown"===e.type){var t=0;if(e.keyCode===this.ARROW_KEY_UP_CODE?t=-1:e.keyCode===this.ARROW_KEY_DOWN_CODE&&(t=1),0!==t){e.preventDefault();var s=this.$el.find(".target"),i=s.index(this.$el.find(".selected"));i!==-1&&s.eq((i+t)%s.size()).focus()}}},_onTargetFocus:function(e){this._removeSelected(),this._toggleEntry(t(e.target),0,!1)}})}),Backbone.define("JIRA.DevStatus.InstancePickerView",require("jira/devstatus/instance-picker-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/dialog/CreateBranchFormDialog.js' */
"use strict";define("jira/devstatus/create-branch-form-dialog",["backbone","jquery","require","jira/dialog/form-dialog","jira-development-status/util/WRM"],function(e,t,i,a,r){return e.View.extend({initialize:function(e){AJS.namespace("JIRA.DevStatus.CtaDialog"),this.parentContainerSelector=e.parentContainerSelector,this.panelSelector=e.panelSelector,this.linkSelector=e.linkSelector,this.dialogId="devstatus-cta-dialog",JIRA.DevStatus.CtaDialogAnalytics.initialize(this.parentContainerSelector,this.linkSelector,this.dialogId),this._initFormDialog()},_initFormDialog:function(){var e=this,n=JIRA.DevStatus.CtaDialog.dialog=new a({id:this.dialogId,width:560,content:function(a){var o=this;r.requireDetailDialogResources(function(){var r=i("jira/devstatus/instance-picker-view");o.pickerView=new r({el:o.$popup,activeTrigger:o.$activeTrigger,cta:e._getCta(o.$activeTrigger)}),o.pickerView.render().always(function(e){a(e),t(n.$popup).find(".target").eq(0).focus(),JIRA.DevStatus.CtaDialogAnalytics.fireCreateBranchEvent("dialog.open")})})},trigger:this.linkSelector,autoClose:!0})},_getCta:function(e){var t=e.data("cta");if(t)return t;var i=e.attr("href"),a=i&&/\#([a-zA-Z\.]+)/.exec(i);return a&&a[1]}})}),Backbone.define("JIRA.DevStatus.CreateBranchFormDialog",require("jira/devstatus/create-branch-form-dialog"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/DevStatusModule.js' */
"use strict";define("jira/devstatus/dev-status-module",["backbone","jquery","require","underscore","jira/util/data/meta"],function(t,e,i,a,s){return t.Model.extend({initialize:function(t){a.defaults(this,t),this._listeners=new JIRA.DevStatus.Util.Listeners;var e=i("jira/devstatus/create-branch-form-dialog");this.createBranchFormDialog=new e(t),this.devSummaryJson=null,this.triggerHelpTipShown=!1,this.aitHelptip=null,this._initFocusHandler()},initializePanel:function(t){return this._listeners.stopListening(),this._renderedData=null,this._getContainers(t),this._createCreateBranchView(t),this.devSummaryJson=this.devStatusContainer.find(".dev-summary.json-blob").data("json"),this._createDevStatusData(t),this._createAnalyticsModel(t),this._createSummaryViews(t),this._setupDataEventHandlers(),this.devStatusPanelVisibilityToggler=t.devStatusPanelVisibilityToggler,this._startDevStatus(),this},_createCreateBranchView:function(t){var e=i("jira/devstatus/create-branch-view");this.createBranchView=new e({el:this.createBranchContainer,showTooltip:t.showTooltip})},_createDevStatusData:function(t){this.devStatusData=new JIRA.DevStatus.DevStatusData({issueId:this.devStatusContainer.data("issue-id"),issueKey:this.devStatusContainer.data("issue-key")})},_createSummaryViews:function(t){var i=this,s=this.devStatusContainer.data();this._summaryModules=a.clone(this.statusPanelContainer.find(".status-panel").map(function(){var t=e(this);return new(JIRA.DevStatus[t.data("module")])({dataAttrs:s,el:t,analyticsModel:i.analyticsModel})})),this._errorModule=new JIRA.DevStatus.SummaryErrorModule({el:this.messagePanelContainer,dataAttrs:s})},_createAnalyticsModel:function(t){this.analyticsModel=new JIRA.DevStatus.AnalyticsModel({devStatusContainer:this.devStatusContainer,devStatusData:this.devStatusData})},_getContainers:function(t){this.devStatusContainer=t.container,this.parentContainer=t.container.closest(this.parentContainerSelector),this.createBranchContainer=t.container.find(this.linkSelector),this.statusPanelContainer=t.container.find(this.statusPanelSelector),this.headerContainer=this.parentContainer.find(t.headerSelector),this.messagePanelContainer=t.container.find(".message-panel")},_onLoadingStarted:function(){this._startLoadingModuleData()},_onLoadingSuccess:function(t,e,i){var a=this.devStatusData.get("aggregatedData");this._renderModules({success:!0,renderData:a}),this._postRender(!e,i,a)},_onLoadingFailure:function(){this._renderModules({success:!1}),this._postRender(!1,!0)},_setupDataEventHandlers:function(){this._listeners.startListening(this.devStatusData,"beforeRequest",this._onLoadingStarted,this),this._listeners.startListening(this.devStatusData,"requestSuccess",this._onLoadingSuccess,this),this._listeners.startListening(this.devStatusData,"requestFail",this._onLoadingFailure,this)},_startDevStatus:function(){var t=!this.devSummaryJson||this.devSummaryJson.isStale===!0;this.devSummaryJson&&this.devStatusData.setAggregateData(this.devSummaryJson.cachedValue,!0,!t),t&&(this._startLoadingModuleData(),this.devStatusData.retrieveAggregateData())},_initFocusHandler:function(){var t=JIRA.DevStatus.DevStatusModule.MAX_REFRESH_WINDOW;e(window).on("focus",a.throttle(a.bind(this.refreshSummaryData,this),t,{trailing:!1}))},refreshSummaryData:function(){this.devStatusData&&this.devStatusData.retrieveAggregateData()},_postRender:function(t,e,i){function s(){e&&(u.addClass("js-animation-completed"),r._attachAutomaticTransitionsHelpTip(i))}var n=this._isAnySummaryViewVisibleOnPanel()||this._isAnyErrorViewVisible(),r=this;if(n){var o=this.analyticsModel.getIssue();JIRA.DevStatus.SummaryAnalytics.fireSummaryShownEvent({isAssignee:o.isAssignee,eventProperties:a.extend({},o,this.analyticsModel.getSummary(),this.analyticsModel.getInstanceType())}),this._openDetailDialogUrlLink()}this._togglePanelEmptyStatus(!this._isAnySummaryViewVisibleOnPanel());var u=this.parentContainer,l=n||this.createBranchContainer.size()>0;this.devStatusPanelVisibilityToggler&&u.is(":visible")!==l?(this.devStatusPanelVisibilityToggler(this.parentContainer,l,t,s),!l&&this.aitHelptip&&this.aitHelptip.isVisible()&&this.aitHelptip.hide()):s()},_attachAutomaticTransitionsHelpTip:function(t){var i=this.parentContainer.is(":visible"),s=this._shouldRenderAITTooltip(t);!s&&this.aitHelptip&&this.aitHelptip.isVisible()?this.aitHelptip.hide():s&&!this.triggerHelpTipShown&&JIRA.DevStatus.showAITTooltip&&i&&(a.defer(a.bind(function(){this.aitHelptip=new AJS.HelpTip({id:"automaticTransitionDevSummaryTooltip",title:"Automate your status updates",bodyHtml:JIRA.Templates.DevStatus.Tooltip.automaticTransitions({aitHelpLinkUrl:this.devStatusContainer.data("ait-help-url-json")}),anchor:"#viewissue-devstatus-panel_heading .toggle-title",isSequence:!0,callbacks:{init:function(){e("#trigger-docs-link").on("click",function(){AJS.trigger("analyticsEvent",{name:"devstatus.automatic.transitions.learn.more.clicked",data:{}})})}},inlineDialogOpts:{width:400}}),AJS.HelpTip.Manager.showSequences()},this)),this.triggerHelpTipShown=!0)},_shouldRenderAITTooltip:function(t){return!!t&&(t.summary.branch.overall.count>0||t.summary.repository.overall.count>0||t.summary.pullrequest.overall.count>0||t.summary.review.overall.count>0)},_getModuleByType:function(t){return a.find(this._summaryModules,function(e){return e.data&&e.data.getType&&a.isEqual(e.data.getType(),t)})},_openDetailDialogUrlLink:function(){var t=s.get("fusion-open-detail-dialog");if(t){var e;if(JIRA.DevStatus.URL.isCreateReviewDetailDialogLink(t)?e=this._getModuleByType("repository"):(e=this._getModuleByType(t),e&&s.set("fusion-open-detail-dialog",void 0)),e){var i=e.view;i&&i.isVisible()&&(s.set("fusion-analytics-new-context-link",!0),i.getSummaryLink().click())}}},_togglePanelEmptyStatus:function(t){this.statusPanelContainer&&this.statusPanelContainer.toggleClass("empty-status",t)},_isAnySummaryViewVisibleOnPanel:function(){return!!a.find(this._summaryModules,function(t){return t.isViewVisible()})},_isAnyErrorViewVisible:function(){return this._errorModule.isViewVisible()},_renderModules:function(t){var e=this._renderedData=t.renderData||this._renderedData;a.each(this._summaryModules,function(t){t.render(e)}),this._errorModule.render(t.success?e:void 0)},_startLoadingModuleData:function(){a.each(this._summaryModules,function(t){t.startLoading()})}},{MAX_REFRESH_WINDOW:3e4})}),Backbone.define("JIRA.DevStatus.DevStatusModule",require("jira/devstatus/dev-status-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/DevStatusData.js' */
"use strict";define("jira/devstatus/dev-status-data",["backbone","jquery","underscore"],function(e,t,s){return e.Model.extend({properties:["aggregatedData"],namedEvents:["beforeRequest","requestFail","requestSuccess"],initialize:function(e){this.issueId=e.issueId,this.issueKey=e.issueKey},retrieveAggregateData:function(){var e=AJS.contextPath()+"/rest/dev-status/1.0/issue/summary?issueId="+this.issueId;return this.trigger("beforeRequest"),t.ajax(e).done(s.bind(this.setAggregateData,this)).fail(s.bind(this.setAggregateDataError,this)).promise()},setAggregateData:function(e,t,s){this.set("aggregatedData",e),this.trigger("requestSuccess",this,t===!0,!!s)},setAggregateDataError:function(e,t){this.set("aggregatedData",void 0),this.trigger("requestFail",this,e)}})}),Backbone.define("JIRA.DevStatus.DevStatusData",require("jira/devstatus/dev-status-data"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/CreateBranchView.js' */
"use strict";define("jira/devstatus/create-branch-view",["backbone","underscore","jira/util/data/meta"],function(t,e,i){return t.View.extend({initialize:function(t){this.tooltipShown=!t.showTooltip,this.linkTextSelector=".devstatus-cta-link-text",this.issueContainer=".issue-container",this._processLinkForNavigableURL(),this._initTooltip(),e.defer(e.bind(this._openCreateBranchDialog,this))},getCreateBranchLink:function(){return this.$el},_processLinkForNavigableURL:function(){this.getCreateBranchLink().data("cta",this._getCta(this.$el)),this.getCreateBranchLink().attr("href",JIRA.DevStatus.URL.getUrlWithDetailDialogParam("create-branch"))},_openCreateBranchDialog:function(){var t=i.get("fusion-open-detail-dialog");"create-branch"===t&&(i.set("fusion-open-detail-dialog",void 0),i.set("fusion-analytics-new-context-link",!0),this.getCreateBranchLink().click())},_initTooltip:function(){!this.tooltipShown&&this.$el.length>0&&e.defer(e.bind(function(){var t=this.$el.data("cta");t&&(new AJS.HelpTip({id:t+".tooltip",title:"Start development",bodyHtml:JIRA.Templates.DevStatus.Tooltip.createBranch(),anchor:this.$el.find(this.linkTextSelector),isSequence:!0,inlineDialogOpts:{container:this.issueContainer,width:400}}),this.tooltipShown=!0,AJS.HelpTip.Manager.showSequences())},this))},_getCta:function(t){var e=t.attr("href"),i=e&&/\#([a-zA-Z\.]+)/.exec(e);return i&&i[1]}})}),Backbone.define("JIRA.DevStatus.CreateBranchView",require("jira/devstatus/create-branch-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/BasePanelModule.js' */
"use strict";define("jira/devstatus/base-panel-module",["backbone","underscore"],function(e,t){return e.Model.extend({initialize:function(e){this.options=t.defaults({},e),this.data=this.createModel()},render:function(e){this.startViews(),this.data.updateData(e),this.view.render()},startLoading:function(){this.data.startLoadingData&&this.data.startLoadingData()},startViews:function(){this.view||(this.view=this.createView())},stopViews:function(){this.view&&(this.view.undelegateEvents(),this.view.$el.empty(),this.view.hide(),this.view=null)},isViewVisible:function(){return this.view&&this.view.isVisible()},createView:function(){},createModel:function(){}})}),Backbone.define("JIRA.DevStatus.BasePanelModule",require("jira/devstatus/base-panel-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/BaseSummaryView.js' */
"use strict";define("jira/devstatus/base-summary-view",["backbone","jquery","underscore"],function(t,e,i){return t.View.extend({template:void 0,events:{"simpleClick .summary":"_onSummaryLinkClick"},initialize:function(t){this.options=i.clone(t),this.model.on("change:hasData",this._addOrRemoveHasDataClass,this),this.model.on("change:dataLoading",this._addOrRemoveDataLoadingClass,this),this.transitionView=new JIRA.DevStatus.SummaryTransitionView({model:this.model,el:this.$el})},render:function(){var t=this.isVisible();if(t){var s=e(this.template(i.extend({issueKey:this.options.dataAttrs.issueKey},this.model.getOverall())));this._shouldAnimateDataTransition()?this.transitionView.renderVisible(s):(this.$el.html(s),JIRA.DevStatus.Date.addTooltip(s)),this._renderNavigableSummaryLink(),this.show()}else this._isHidden()||(this._shouldAnimateDataTransition()?this.transitionView.renderHidden(i.bind(this.hide,this)):this.hide());this._addOrRemoveDataLoadingClass(),this._addOrRemoveHasDataClass()},getDefaultDetailDialogParameters:function(){return{issueKey:this.options.dataAttrs.issueKey,issueId:this.options.dataAttrs.issueId,tabs:this.model.get("byInstanceType"),dataType:this.model.getType(),showContactAdminForm:this.options.dataAttrs&&this.options.dataAttrs.showContactAdminForm}},getSummaryLink:function(){return this.$el.find("a.summary")},isVisible:function(){return this.model.getOverall().count>0},_addOrRemoveHasDataClass:function(){var t=this.model.get("hasData");this.$el.toggleClass("js-has-data",t)},_renderNavigableSummaryLink:function(){this.getSummaryLink().attr("href",JIRA.DevStatus.URL.getUrlWithDetailDialogParam(this.model.getType()))},_addOrRemoveDataLoadingClass:function(){var t=this.model.get("dataLoading");this.$el.toggleClass("data-loading",t)},_onSummaryLinkClick:function(t){t.preventDefault(),console.log("Summary view not supported: ",this)},_shouldAnimateDataTransition:function(){return!!this.model.getPreviousOverall()},_isHidden:function(){return this.$el.hasClass("hidden")},show:function(){this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden")}})}),Backbone.define("JIRA.DevStatus.BaseSummaryView",require("jira/devstatus/base-summary-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/SummaryTransitionView.js' */
"use strict";define("jira/devstatus/summary-transition-view",["backbone","jquery","underscore","jira/dev-status/util/date"],function(i,t,n,s){return i.View.extend({slideTransitionTime:500,initialize:function(){},renderVisible:function(i){var e=!t.contains(document,this.$el[0]);this._hasPreviousData()?this._hasDataChanged()&&(this._prepareContentsForTransition(i,this.$el),this.$el.addClass("roll-transition")):(this._preStartSlideTransition(),this.$el.addClass("slide-down-transition"),e=!0),this.$el.html(i),s.addTooltip(i),e?n.defer(n.bind(this._initiateTransition,this)):this._initiateTransition()},renderHidden:function(i){var t=this;this.$el.slideUp(this.slideTransitionTime,function(){t.$el.css("display",""),i()})},_initiateTransition:function(){if(this.$el.hasClass("slide-down-transition"))this._postStartSlideTransition(),this.$el.removeClass("slide-down-transition"),this._startSlideDownTransition(this.$el,0);else{this.$el.hasClass("roll-transition")&&(this.$el.removeClass("roll-transition"),this._startRollTransition());var i=this.$el.find(".sliding-container");if(i.length>0){var n=this;i.each(function(i,s){var e=t(s),a=e.data("prevHeight");n._startSlideDownTransition(e,a)})}}},_startSlideDownTransition:function(i,t){var n=i.height();t!==n&&i.height(t).animate({height:n},this.slideTransitionTime,function(){i.css("height","auto"),i.find(".rolling-content").removeClass("transit")})},_startRollTransition:function(){this.$el.find(".rolling-container").each(n.bind(function(i,n){var s=t(n),e=s.find(".rolling-content"),a=e.find(":not(.old-content)"),r=a.height();s.height(r),e.addClass("transit"),a.css("margin-top","-"+r+"px").animate({"margin-top":"0"},this.slideTransitionTime,function(){s.css("height","auto"),s.find(".old-content").remove(),e.removeClass("transit"),a.css("margin-top","")})},this))},_prepareContentsForTransition:function(i,n){i=t("<div></div>").append(i);var s=i.find(".sliding-container"),e=n.find(".sliding-container");s.each(function(i,n){var s=e.get(i);if(s){var a=t(s);t(n).data("prevHeight",a.height())}});var a=i.find(".rolling-container"),r=n.find(".rolling-container");a.each(function(i,n){var s=t(n).find(".rolling-content"),e=r.get(i);if(e){var a=t(e).find(".rolling-content").children();a.addClass("old-content"),s.append(a)}})},_hasPreviousData:function(){var i=this.model.getPreviousOverall();return i&&i.count>0},_hasDataChanged:function(){return!n.isEqual(this.model.getOverall(),this.model.getPreviousOverall())},_preStartSlideTransition:function(){this.$el.css("height","0"),this.$el.css("opacity","0")},_postStartSlideTransition:function(){this.$el.css("height",""),this.$el.css("opacity","")}})}),Backbone.define("JIRA.DevStatus.SummaryTransitionView",require("jira/devstatus/summary-transition-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/BaseSummaryModule.js' */
"use strict";define("jira/devstatus/base-summary-module",["underscore","jira/devstatus/base-panel-module"],function(e,t){return t.extend({model:void 0,viewType:void 0,createModel:function(){return new this.model({})},createView:function(){return new this.viewType(e.extend(e.clone(this.options),{model:this.data}))}})}),Backbone.define("JIRA.DevStatus.BaseSummaryModule",require("jira/devstatus/base-summary-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/BaseSummaryModel.js' */
"use strict";define("jira/devstatus/base-summary-model",["backbone"],function(e){return e.Model.extend({typeId:void 0,properties:["byInstanceType","overall","previousOverall","hasData","dataLoading"],startLoadingData:function(){this.set("dataLoading",!0)},updateData:function(e){if(this.set("hasData",void 0!==e),this.set("dataLoading",!1),this.set("previousOverall",this.getOverall()),e&&e.summary&&e.summary[this.typeId]){var t=e.summary[this.typeId];this.set("byInstanceType",t.byInstanceType),this.set("overall",t.overall)}else this.set("byInstanceType",{}),this.set("overall",{count:0})},getType:function(){return this.typeId},getOverall:function(){return this.get("overall")},getPreviousOverall:function(){return this.get("previousOverall")}})}),Backbone.define("JIRA.DevStatus.BaseSummaryModel",require("jira/devstatus/base-summary-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/SummaryErrorModule.js' */
"use strict";define("jira/devstatus/summary-error-module",["jira/devstatus/base-panel-module"],function(t){return t.extend({createModel:function(){return new JIRA.DevStatus.SummaryErrorModel({})},createView:function(){var t=this.options.dataAttrs&&this.options.dataAttrs.showContactAdminForm;return new JIRA.DevStatus.SummaryErrorView({model:this.data,el:this.options.el,showContactAdminForm:t})}})}),Backbone.define("JIRA.DevStatus.SummaryErrorModule",require("jira/devstatus/summary-error-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/SummaryErrorModel.js' */
"use strict";define("jira/devstatus/summary-error-model",["backbone","underscore"],function(r,e){return r.Model.extend({properties:["hasErrors","errorInstances","configInstances"],defaults:function(){return{hasErrors:!1,errorInstances:[],configInstances:[]}},updateData:function(r){var t=this._extractErrors(r&&r.errors),s=this._extractErrors(r&&r.configErrors);this.set("hasErrors",!r||!e.isEmpty(t)||!e.isEmpty(s)),this.set("errorInstances",t),this.set("configInstances",s)},_extractErrors:function(r){return r?e.map(e.filter(r,function(r){return r.error}),function(r){return r.instance}):[]}})}),Backbone.define("JIRA.DevStatus.SummaryErrorModel",require("jira/devstatus/summary-error-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/summary/SummaryErrorView.js' */
"use strict";define("jira/devstatus/summary-error-view",["jira/devstatus/base-summary-view","underscore"],function(e,r){return e.extend({initialize:function(e){this.showContactAdminForm=e.showContactAdminForm},render:function(){return this.isVisible()?(this.$el.html(JIRA.Templates.DevStatus.connectionProblemAsInfoWithoutIcon({instances:this.hasForceGenericErrorMessage()?null:this.model.get("errorInstances"),notConfiguredInstances:this.model.get("configInstances"),showContactAdminForm:this.showContactAdminForm})),this.show()):this.hide(),this},hasForceGenericErrorMessage:function(){return r.some(this.model.get("errorInstances"),function(e){return!!e.forceGenericErrorMessage})},isVisible:function(){return this.model.get("hasErrors")}})}),Backbone.define("JIRA.DevStatus.SummaryErrorView",require("jira/devstatus/summary-error-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-panel-and-dialog-resources', location = 'js/viewissue/DevStatusInit.js' */
"use strict";!function(){JIRA.DevStatus.setDetailDialogParam=function(){AJS.Meta.set("fusion-open-detail-dialog",JIRA.DevStatus.URL.getDetailDialogParam())},JIRA.DevStatus.setDetailDialogParam()}(),AJS.$(function(){function e(e){return e.find("body").hasClass("page-type-dashboard")}function t(e){return e.find("body").hasClass("ghx-agile")}function a(e){return e.find("body").hasClass("ka ajax-issue-search-and-view")}function i(){return AJS.Meta.get("is-servicedesk-rendered")}function n(e,t,a){JIRA.DevStatus.devStatusModule.initializePanel({container:e,showTooltip:JIRA.DevStatus.showTooltip,headerSelector:t,devStatusPanelVisibilityToggler:a})}function s(e,t,a,i){_.defer(function(){var n=a?1e3:0,s={duration:n,complete:i};t?e.slideDown(s):e.slideUp(s)})}JIRA.DevStatus.showTooltip=!0,JIRA.DevStatus.showAITTooltip=!0;var o={devStatusContainer:"#devstatus-container",parentContainer:"[id$='devstatus-panel']",link:"a.devstatus-cta-link",statusPanel:".status-panels",viewIssueHeader:".mod-header",agileHeader:".ghx-header",agileNavMenuLink:'a[href="#ghx-tab-com-atlassian-jira-plugins-jira-development-integration-plugin-greenhopper-devstatus-panel"]'};JIRA.DevStatus.documentReadyInit=function(u){if(JIRA.DevStatus.devStatusModule=new JIRA.DevStatus.DevStatusModule({parentContainerSelector:o.parentContainer,linkSelector:o.link,panelSelector:o.devStatusContainer,statusPanelSelector:o.statusPanel}),e(u)||t(u)){var r=require("jira/featureflags/feature-manager"),l=r.isFeatureEnabled("endeavour.rapidboards-wrm.spa-enabled");l?u.find("body").on("click.rapidboardSpa",o.agileNavMenuLink,JIRA.DevStatus.Analytics.fireAgileDevStatusLinkClicked):u.find("body").on("click",o.agileNavMenuLink,JIRA.DevStatus.Analytics.fireAgileDevStatusLinkClicked),JIRA.DevStatus.showTooltip=!1,JIRA.DevStatus.showAITTooltip=!1}else if(a(u)&&JIRA.Issues.Api.isFullScreenIssueVisible()){var d=AJS.$(o.devStatusContainer);d.length>0&&n(d,o.viewIssueHeader,s)}i()&&(JIRA.DevStatus.showTooltip=!1,JIRA.DevStatus.showAITTooltip=!1),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,t){return!!t.not(document).is(o.parentContainer)&&(n(t.find(o.devStatusContainer),o.viewIssueHeader,s),JIRA.DevStatus.showTooltip=!1,!0)}),JIRA.bind("GH.DetailView.updated",function(e,t){var a=AJS.$(o.devStatusContainer);a.length&&n(a,o.agileHeader)}),require(["jira-development-status/util/WRM"],function(e){e.requireDetailDialogResources()})},AJS.$(function(){JIRA.DevStatus.documentReadyInit(AJS.$(document))})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-commit-panel-resources', location = 'js/viewissue/summary/commit/CommitModel.js' */
"use strict";define("jira/devstatus/commit-model",["jira/devstatus/base-summary-model"],function(e){return e.extend({typeId:"repository"})}),Backbone.define("JIRA.DevStatus.CommitModel",require("jira/devstatus/commit-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-commit-panel-resources', location = 'templates/viewissue/commit/devstatus-panel-commit.soy' */
// This file was automatically generated from devstatus-panel-commit.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Commit.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Commit == 'undefined') { JIRA.Templates.DevStatus.Commit = {}; }


JIRA.Templates.DevStatus.Commit.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Commits related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.commits(opt_data) + '</a></div>'}) + '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Latest', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Commit.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Commit.summaryPanel';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-commit-panel-resources', location = 'js/viewissue/summary/commit/CommitView.js' */
"use strict";define("jira/devstatus/commit-view",["underscore","jira/devstatus/base-summary-view","jira-development-status/util/WRM"],function(e,t,i){return t.extend({template:JIRA.Templates.DevStatus.Commit.summaryPanel,_onSummaryLinkClick:function(t){t.preventDefault();var a=this;i.requireDetailDialogResources(function(){var t=require("jira/devstatus/detail-dialog-commit-view");a.detailDialogCommitView=new t(e.extend(a.getDefaultDetailDialogParameters(),{id:"devstatus-commit-detail-dialog",count:a.model.getOverall().count})),JIRA.DevStatus.CommitsAnalytics.fireSummaryClickedEvent(a.options.analyticsModel.getSummary()),a.detailDialogCommitView.show()})}})}),Backbone.define("JIRA.DevStatus.CommitView",require("jira/devstatus/commit-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-commit-panel-resources', location = 'js/viewissue/summary/commit/CommitModule.js' */
"use strict";define("jira/devstatus/commit-module",["jira/devstatus/base-summary-module","jira/devstatus/commit-model","jira/devstatus/commit-view"],function(e,t,i){return e.extend({model:t,viewType:i})}),Backbone.define("JIRA.DevStatus.CommitModule",require("jira/devstatus/commit-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-pullrequest-panel-resources', location = 'js/viewissue/summary/pullrequest/PullRequestModel.js' */
"use strict";define("jira/devstatus/pull-request-model",["jira/devstatus/base-summary-model"],function(e){return e.extend({typeId:"pullrequest"})}),Backbone.define("JIRA.DevStatus.PullRequestModel",require("jira/devstatus/pull-request-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-pullrequest-panel-resources', location = 'templates/viewissue/pullrequest/devstatus-panel-pullrequest.soy' */
// This file was automatically generated from devstatus-panel-pullrequest.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.PullRequest.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.PullRequest == 'undefined') { JIRA.Templates.DevStatus.PullRequest = {}; }


JIRA.Templates.DevStatus.PullRequest.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Pull requests related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.pullRequestsText(opt_data) + '</a> ' + JIRA.Templates.FusionWidget.Common.pullRequestsStateViewIssue(opt_data) + '</div>'}) + '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Updated', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.PullRequest.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.PullRequest.summaryPanel';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-pullrequest-panel-resources', location = 'js/viewissue/summary/pullrequest/PullRequestView.js' */
"use strict";define("jira/devstatus/pull-request-view",["underscore","jira/devstatus/base-summary-view","jira-development-status/util/WRM"],function(e,t,u){return t.extend({template:JIRA.Templates.DevStatus.PullRequest.summaryPanel,_onSummaryLinkClick:function(t){t.preventDefault();var a=this;u.requireDetailDialogResources(function(){var t=require("jira/devstatus/detail-dialog-pull-request-view");a.detailDialogPullRequestView=new t(e.extend(a.getDefaultDetailDialogParameters(),{id:"devstatus-pullrequest-detail-dialog",count:a.model.getOverall().count,reviewersThreshold:2})),JIRA.DevStatus.PullRequestsAnalytics.fireSummaryClickedEvent(a.options.analyticsModel.getSummary()),a.detailDialogPullRequestView.show()})}})}),Backbone.define("JIRA.DevStatus.PullRequestView",require("jira/devstatus/pull-request-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-pullrequest-panel-resources', location = 'js/viewissue/summary/pullrequest/PullRequestModule.js' */
"use strict";define("jira/devstatus/pull-request-module",["jira/devstatus/base-summary-module","jira/devstatus/pull-request-model","jira/devstatus/pull-request-view"],function(e,u,t){return e.extend({model:u,viewType:t})}),Backbone.define("JIRA.DevStatus.PullRequestModule",require("jira/devstatus/pull-request-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-review-panel-resources', location = 'js/viewissue/summary/review/ReviewModel.js' */
"use strict";define("jira/devstatus/review-model",["jira/devstatus/base-summary-model"],function(e){return e.extend({typeId:"review"})}),Backbone.define("JIRA.DevStatus.ReviewModel",require("jira/devstatus/review-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-review-panel-resources', location = 'templates/viewissue/review/devstatus-panel-review.soy' */
// This file was automatically generated from devstatus-panel-review.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Review.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Review == 'undefined') { JIRA.Templates.DevStatus.Review = {}; }


JIRA.Templates.DevStatus.Review.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Reviews related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.reviewsText(opt_data) + '</a> ' + JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue(opt_data) + '</div>'}) + '</dt>' + JIRA.Templates.DevStatus.Review.reviewDate(soy.$$augmentMap(opt_data, {showUpdatedText: true})) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Review.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Review.summaryPanel';
}


JIRA.Templates.DevStatus.Review.reviewDate = function(opt_data, opt_ignored) {
  return '' + ((opt_data.dueDate && ! opt_data.completed) ? JIRA.Templates.DevStatus.lastUpdated({text: 'Due', lastUpdated: opt_data.dueDate, extraClass: opt_data.overDue ? 'overdue' : undefined, datetimeFormat: 'fullAge'}) : (opt_data.lastUpdated) ? JIRA.Templates.DevStatus.lastUpdated({text: opt_data.showUpdatedText ? 'Updated' : '', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Review.reviewDate.soyTemplateName = 'JIRA.Templates.DevStatus.Review.reviewDate';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-review-panel-resources', location = 'js/viewissue/summary/review/ReviewView.js' */
"use strict";define("jira/devstatus/review-view",["underscore","jira/devstatus/base-summary-view","jira-development-status/util/WRM"],function(e,t,i){return t.extend({template:JIRA.Templates.DevStatus.Review.summaryPanel,_onSummaryLinkClick:function(t){t.preventDefault();var a=this;i.requireDetailDialogResources(function(){var t=require("jira/devstatus/detail-dialog-review-view");a.detailDialogReviewView=new t(e.extend(a.getDefaultDetailDialogParameters(),{id:"devstatus-review-detail-dialog",count:a.model.getOverall().count,reviewersThreshold:2,completed:a.model.getOverall().completed})),JIRA.DevStatus.ReviewsAnalytics.fireSummaryClickedEvent(a.options.analyticsModel.getSummary()),a.detailDialogReviewView.show()})}})}),Backbone.define("JIRA.DevStatus.ReviewView",require("jira/devstatus/review-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-review-panel-resources', location = 'js/viewissue/summary/review/ReviewModule.js' */
"use strict";define("jira/devstatus/review-module",["jira/devstatus/base-summary-module","jira/devstatus/review-model","jira/devstatus/review-view"],function(e,i,t){return e.extend({model:i,viewType:t})}),Backbone.define("JIRA.DevStatus.ReviewModule",require("jira/devstatus/review-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-branch-panel-resources', location = 'js/viewissue/summary/branch/BranchModel.js' */
"use strict";define("jira/devstatus/branch-model",["jira/devstatus/base-summary-model"],function(e){return e.extend({typeId:"branch"})}),Backbone.define("JIRA.DevStatus.BranchModel",require("jira/devstatus/branch-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-branch-panel-resources', location = 'templates/viewissue/branch/devstatus-panel-branch.soy' */
// This file was automatically generated from devstatus-panel-branch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Branches.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Branches == 'undefined') { JIRA.Templates.DevStatus.Branches = {}; }


JIRA.Templates.DevStatus.Branches.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dt>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Branches related to {0}',opt_data.issueKey)) + '">' + JIRA.Templates.FusionWidget.Common.branches(opt_data) + '</a></div>'}) + '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Updated', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Branches.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Branches.summaryPanel';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-branch-panel-resources', location = 'js/viewissue/summary/branch/BranchView.js' */
"use strict";define("jira/devstatus/branch-view",["require","underscore","jira/devstatus/base-summary-view","jira-development-status/util/WRM"],function(e,a,t,i){return t.extend({template:JIRA.Templates.DevStatus.Branches.summaryPanel,_onSummaryLinkClick:function(t){t.preventDefault();var r=this;i.requireDetailDialogResources(function(){var t=e("jira/devstatus/detail-dialog-branch-view");r.detailDialogBranchView=new t(a.extend(r.getDefaultDetailDialogParameters(),{id:"devstatus-branch-detail-dialog",count:r.model.getOverall().count,analyticIssueData:r.options.analyticsModel.getIssue()})),JIRA.DevStatus.BranchesAnalytics.fireSummaryClickedEvent(r.options.analyticsModel.getSummary()),r.detailDialogBranchView.show()})}})}),Backbone.define("JIRA.DevStatus.BranchView",require("jira/devstatus/branch-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-branch-panel-resources', location = 'js/viewissue/summary/branch/BranchModule.js' */
"use strict";define("jira/devstatus/branch-module",["jira/devstatus/base-summary-module","jira/devstatus/branch-model","jira/devstatus/branch-view"],function(e,a,t){return e.extend({model:a,viewType:t})}),Backbone.define("JIRA.DevStatus.BranchModule",require("jira/devstatus/branch-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-build-panel-resources', location = 'js/viewissue/summary/build/BuildModel.js' */
"use strict";define("jira/devstatus/build-model",["jira/devstatus/base-summary-model"],function(e){return e.extend({typeId:"build"})}),Backbone.define("JIRA.DevStatus.BuildModel",require("jira/devstatus/build-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-build-panel-resources', location = 'templates/viewissue/build/devstatus-panel-build.soy' */
// This file was automatically generated from devstatus-panel-build.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Build.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Build == 'undefined') { JIRA.Templates.DevStatus.Build = {}; }


JIRA.Templates.DevStatus.Build.summaryPanel = function(opt_data, opt_ignored) {
  var output = '<dl><dt>';
  var param4 = '<div class="summary-content"><a class="summary" href="#" title="' + soy.$$escapeHtml(AJS.format('Builds related to {0}',opt_data.issueKey)) + '">';
  var countText__soy8 = '' + JIRA.Templates.FusionWidget.Common.buildsText(opt_data);
  param4 += soy.$$filterNoAutoescape(countText__soy8) + '</a> ' + JIRA.Templates.DevStatus.Build.statusIcon(opt_data) + '</div>';
  output += JIRA.Templates.DevStatus.transitionContainer({content: param4});
  output += '</dt>' + JIRA.Templates.DevStatus.lastUpdated({text: 'Latest', lastUpdated: opt_data.lastUpdated, datetimeFormat: 'fullAge'}) + '</dl>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Build.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Build.summaryPanel';
}


JIRA.Templates.DevStatus.Build.statusIcon = function(opt_data, opt_ignored) {
  var output = '';
  var iconClass__soy27 = '' + JIRA.Templates.FusionWidget.Common.buildsIconClass(opt_data);
  output += '<span class="aui-icon aui-icon-small ' + soy.$$escapeHtml(iconClass__soy27) + '">' + soy.$$escapeHtml(opt_data.iconText) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Build.statusIcon.soyTemplateName = 'JIRA.Templates.DevStatus.Build.statusIcon';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-build-panel-resources', location = 'js/viewissue/summary/build/BuildView.js' */
"use strict";define("jira/devstatus/build-view",["underscore","jira/devstatus/base-summary-view","jira-development-status/util/WRM"],function(e,i,t){return i.extend({template:JIRA.Templates.DevStatus.Build.summaryPanel,_onSummaryLinkClick:function(i){i.preventDefault();var a=this;t.requireDetailDialogResources(function(){var i=require("jira/devstatus/detail-dialog-build-view");a.detailDialogBuildView=new i(e.extend(a.getDefaultDetailDialogParameters(),{id:"devstatus-build-detail-dialog",count:a.model.getOverall().count})),JIRA.DevStatus.BuildsAnalytics.fireSummaryClickedEvent(a.options.analyticsModel.getSummary()),a.detailDialogBuildView.show()})}})}),Backbone.define("JIRA.DevStatus.BuildView",require("jira/devstatus/build-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-build-panel-resources', location = 'js/viewissue/summary/build/BuildModule.js' */
"use strict";define("jira/devstatus/build-module",["jira/devstatus/base-summary-module","jira/devstatus/build-model","jira/devstatus/build-view"],function(e,u,d){return e.extend({model:u,viewType:d})}),Backbone.define("JIRA.DevStatus.BuildModule",require("jira/devstatus/build-module"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-deployment-panel-resources', location = 'js/viewissue/summary/deployment/DeploymentModel.js' */
"use strict";define("jira/devstatus/deployment-model",["jira/devstatus/base-summary-model"],function(e){return e.extend({typeId:"deployment-environment"})}),Backbone.define("JIRA.DevStatus.DeploymentModel",require("jira/devstatus/deployment-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-deployment-panel-resources', location = 'templates/viewissue/deployment/devstatus-panel-deployment.soy' */
// This file was automatically generated from devstatus-panel-deployment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Deployment.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Deployment == 'undefined') { JIRA.Templates.DevStatus.Deployment = {}; }


JIRA.Templates.DevStatus.Deployment.summaryPanel = function(opt_data, opt_ignored) {
  return '<dl><dd>' + JIRA.Templates.DevStatus.transitionContainer({content: '<div class="summary-content" title="' + soy.$$escapeHtml(AJS.format('Deployments related to {0}',opt_data.issueKey)) + '">' + ((opt_data.topEnvironments.length) ? JIRA.Templates.FusionWidget.Common.deployments({anchorStart: '<a class="summary">', anchorEnd: '</a>', showProjects: opt_data.showProjects, successfulCount: opt_data.successfulCount, topEnvironments: opt_data.topEnvironments}) : soy.$$escapeHtml('No deployments contain latest commits')) + '</div>'}) + '</dd></dl>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Deployment.summaryPanel.soyTemplateName = 'JIRA.Templates.DevStatus.Deployment.summaryPanel';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-deployment-panel-resources', location = 'js/viewissue/summary/deployment/DeploymentView.js' */
"use strict";define("jira/devstatus/deployment-view",["underscore","jira/devstatus/base-summary-view","jira-development-status/util/WRM"],function(e,t,a){return t.extend({template:JIRA.Templates.DevStatus.Deployment.summaryPanel,_onSummaryLinkClick:function(t){t.preventDefault();var i=this;a.requireDetailDialogResources(function(){var t=require("jira/devstatus/detail-dialog-deployment-view");i.detailDialogDeploymentView=new t(e.extend(i.getDefaultDetailDialogParameters(),{id:"devstatus-deployment-detail-dialog",count:i.model.getOverall().count})),JIRA.DevStatus.DeploymentsAnalytics.fireSummaryClickedEvent(i.options.analyticsModel.getSummary()),i.detailDialogDeploymentView.show()})}})}),Backbone.define("JIRA.DevStatus.DeploymentView",require("jira/devstatus/deployment-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-deployment-panel-resources', location = 'js/viewissue/summary/deployment/DeploymentModule.js' */
"use strict";define("jira/devstatus/deployment-module",["jira/devstatus/base-summary-module","jira/devstatus/deployment-model","jira/devstatus/deployment-view"],function(e,t,d){return e.extend({model:t,viewType:d})}),Backbone.define("JIRA.DevStatus.DeploymentModule",require("jira/devstatus/deployment-module"));;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:analytics', location = 'jira-help-tips-module/util/analytics.js' */
define("jira-help-tips/util/analytics",function(){"use strict";function t(t){return t=""+(t||""),t.replace(/\./g,"-")}function e(){return AJS&&AJS.EventQueue}function i(i,n){if(e()&&n&&n.attributes.id){var r={},u=t(n.attributes.id),a="";n.attributes.eventPrefix&&(a=n.attributes.eventPrefix,"."!==a.charAt(a.length-1)&&(a+=".")),r.name=a+"helptips."+u+"."+i,r.properties={},e().push(r)}}return{clean:t,send:i}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager', location = 'jira-help-tips-module/js/HelpTipManager.js' */
define("jira-help-tips/feature/help-tip-manager",["require"],function(s){var e=s("jquery"),i=s("underscore"),t=s("wrm/context-path"),n=s("wrm/data"),r=t()+"/rest/helptips/1.0/tips",d=n.claim("com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"),a={dismissedTipIds:[],sequences:[],loaded:e.Deferred(),url:function(){return r},sync:function(s,i){var t=e.Deferred();return s||(s="get"),i||(i=null),"get"===s&&d&&d.dismissed?t.resolve(d.dismissed):e.ajax(this.url(),{type:s,dataType:"json",contentType:"application/json",data:i&&JSON.stringify(i),processData:!1}).done(function(s){t.resolve(s)}).fail(function(){t.reject()}),t.promise()},fetch:function(){var s=this.sync();return s.done(e.proxy(function(s){e.merge(this.dismissedTipIds,s),this.loaded.resolve()},this)),s.promise()},show:function(s){this.loaded.done(s)},dismiss:function(s){var e=s.attributes.id;e?(this.dismissedTipIds.push(e),this.sync("post",{id:e})):s._dismissed=!0},undismiss:function(s){var i=s.attributes.id;i?(this.dismissedTipIds.splice(e.inArray(i,this.dismissedTipIds),1),this.sync("delete",{id:i})):s._dismissed=!1},isDismissed:function(s){var i=s.attributes.id;return i?e.inArray(i,this.dismissedTipIds)>=0:s._dismissed},clearSequences:function(){this.sequences=[]},hideSequences:function(){i.each(this.sequences,function(s){s.view.dismiss()})},showSequences:function(){if(!this._showStarted){var s=this,t=0;this._showStarted=!0,e.when(this.loaded).done(function(){s.sequences.sort(function(s,e){return s.attributes.weight-e.attributes.weight}),s.sequences=i.filter(s.sequences,function(e){var n=i.indexOf(s.dismissedTipIds,e.attributes.id)===-1;return n&&(e.attributes.position=t++),n}),s.sequences.length>0&&(i.last(s.sequences).attributes.showCloseButton=!0,s.sequences[0].show({force:!0})),s._showStarted=!1})}}};return a});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'jira-help-tips-module/templates/HelpTip.soy.js' */
if("undefined"==typeof AJS)var AJS={};"undefined"==typeof AJS.Templates&&(AJS.Templates={}),"undefined"==typeof AJS.Templates.HelpTip&&(AJS.Templates.HelpTip={}),AJS.Templates.HelpTip.tipContent=function(e,t){return(e.title?'<h2 class="helptip-title">'+soy.$$escapeHtml(e.title)+"</h2>":"")+'<p class="helptip-body">'+soy.$$filterNoAutoescape(e.bodyHtml)+"</p>"+(e.url?'<p><a class="helptip-link" href="'+soy.$$escapeHtml(e.url)+'" target="_blank">'+(e.linkText?soy.$$escapeHtml(e.linkText):soy.$$escapeHtml("Learn more"))+"</a></p>":"")+AJS.Templates.HelpTip.tipFooter(e)},AJS.Templates.HelpTip.tipFooter=function(e,t){return'<form class="tip-footer">'+AJS.Templates.HelpTip.nextButton(e)+AJS.Templates.HelpTip.closeButton(e)+AJS.Templates.HelpTip.sequencePaging(e)+"</form>"},AJS.Templates.HelpTip.nextButton=function(e,t){return""+(e.showNextButton?'<button class="aui-button helptip-next" type="button">'+(e.nextButtonText?soy.$$escapeHtml(e.nextButtonText):soy.$$escapeHtml("Next"))+"</button>":"")},AJS.Templates.HelpTip.closeButton=function(e,t){return""+(e.showCloseButton?'<button class="aui-button '+(e.showNextButton?" aui-button-link ":"")+' helptip-close" type="button">'+(e.closeButtonText?soy.$$escapeHtml(e.closeButtonText):soy.$$escapeHtml("Close"))+"</button>":"")},AJS.Templates.HelpTip.sequencePaging=function(e,t){return""+(e.isSequence&&e.length>1?'<span class="helptip-sequence-paging">'+soy.$$escapeHtml(e.position+1)+"/"+soy.$$escapeHtml(e.length)+"</span>":"")};;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'jira-help-tips-module/js/HelpTip.js' */
define("jira-help-tips/feature/help-tip",["require"],function(i){"use strict";function t(){return!1}function e(){return!0}function s(){return"jira-help-tip-"+d+c++}var n=i("jquery"),o=i("underscore"),h=i("jira-help-tips/feature/help-tip-manager"),l=i("jira-help-tips/util/analytics"),r=i("aui/inline-dialog"),a=AJS.Popups,u=AJS.Templates.HelpTip,c=0,d=(new Date).getTime(),p="jira-help-tip aui-help",f=function(i){var t;this.attributes=n.extend({},i),this.attributes.id||(this.attributes.id=!1),this.attributes.callbacks||(this.attributes.callbacks={}),this.attributes.isSequence&&(this.attributes.weight||(this.attributes.weight=Number.MAX_VALUE),h.sequences.push(this)),this.attributes.body&&(this.attributes.bodyHtml=this.attributes.body,delete this.attributes.body),this.cid=s(),t=this.attributes.anchor,delete this.attributes.anchor,this.view=t?new b(this,t):new m(this)};n.extend(f.prototype,{show:function(i){i=i||{};var t=this,e=n.Deferred();if(this.attributes.callbacks.beforeShow){var s=this.attributes.callbacks.beforeShow();s&&o.isFunction(s.done)?s.done(e.resolve):e.resolve()}else e.resolve();e.done(function(){h.show(function(){t.isDismissed()||(!i.force&&a&&a.DisplayController?a.DisplayController.request({name:t.id,weight:1e3,show:function(){t.view.show()}}):t.view.show(),l.send("shown",t))})})},dismiss:function(){var i=l.clean(arguments[0]||"programmatically");this.view.dismiss(),"close-button"===i&&this.attributes.isSequence&&h.clearSequences(),this.isDismissed()||(h.dismiss(this),l.send("dismissed."+i,this))},isVisible:function(){return this.view.$el.is(":visible")},isDismissed:function(){return h.isDismissed(this)},refresh:function(){this.isDismissed()||this.view.refresh()},hide:function(){this.isDismissed()||this.view.dismiss()},showNextHelpTipInSequence:function(){this.view.clickNext()}});var b=function(i,t){this.initialize(i,t)};n.extend(b.prototype,{initialize:function(i,e){this.model=i,this.anchorSelector=e,this.anchor=n(e),this._initDialog(e),n(document).bind("showLayer",function(e,s,o){"inlineDialog"===s&&o.id===i.cid&&(r.current=null,n(document.body).unbind("click."+i.cid+".inline-dialog-check"),o._validateClickToClose=t,o.hide=t)})},show:function(){this.beforeHide=t,this.popup.show()},refresh:function(){var i=n(this.anchorSelector);i.is(":visible")?i.get(0)!==this.anchor.get(0)?this.changeAnchor(i):this.isVisible()?this.popup.refresh():this.show():this.dismiss()},changeAnchor:function(i){var t=this.isVisible();this.dismiss(),this.$el.remove(),this.anchor=i,this._initDialog(i),t&&this.show()},dismiss:function(){this.beforeHide=e,this._popupHide()},clickNext:function(){var i=n(this.$el).find(".helptip-next");i.length>0&&i.click()},isVisible:function(){return this.$el.is(":visible")},_initDialog:function(i){var e=this,s=this.model;this.popup=r(n(i),s.cid,o.bind(this._createDialog,this),o.extend({container:"#content",noBind:!0,preHideCallback:function(){return e.beforeHide()},calculatePositions:function(i,t,e,s){var o=r.opts.calculatePositions(i,t,e,s),h=n(this.container),l=h.offset();return"auto"!==o.popupCss.left&&(o.popupCss.left-=l.left,o.popupCss.right="auto"),o.popupCss.top-=l.top,o},addActiveClass:!1,initCallback:s.attributes.callbacks.init,hideCallback:s.attributes.callbacks.hide,persistent:!0},s.attributes.inlineDialogOpts)),this._popupHide=this.popup.hide,this.popup.hide=t,this.$el=n(this.popup[0]),this.$el.addClass(p)},_createDialog:function(i,t,e){var s=this,r=h.sequences,a=this.model.attributes.position,c=this.model.attributes.isSequence;i.removeClass("contents"),i.html(n(u.tipContent(o.extend({showNextButton:c&&r.length>1&&a+1<r.length,length:r.length,position:a,showCloseButton:!0},this.model.attributes)))),i.unbind("mouseover mouseout"),i.find(".helptip-link").click(function(){l.send("learn-more.clicked",s.model)}),i.find(".helptip-close").click(function(i){i.preventDefault(),s.model.dismiss("close-button")}),i.find(".helptip-next").click(function(i){i.preventDefault(),s.model.dismiss("next-button");var t=a+1;r[t]&&r[t].show({force:!0})}),e()}});var m=function(i){this.initialize(i)};return n.extend(m.prototype,{initialize:function(){this.$el=n("<div></div>"),this.$el.addClass(p)},show:function(){},dismiss:function(){}}),f});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:initialiser', location = 'jira-help-tips-module/js/initialiser.js' */
define("jira-help-tips/page/initialiser",["jira-help-tips/feature/help-tip-manager","jira/util/users/logged-in-user","underscore"],function(e,i,n){function r(){i.isAnonymous()||e.fetch()}return{init:n.once(r)}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:common', location = 'jira-help-tips-module/js/legacy.js' */
!function(){"use strict";AJS.namespace("AJS.HelpTip",null,require("jira-help-tips/feature/help-tip")),AJS.namespace("AJS.HelpTip.Manager",null,require("jira-help-tips/feature/help-tip-manager")),require("jira-help-tips/page/initialiser").init()}();;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-cta-tooltip-resources', location = 'templates/viewissue/devstatus-cta-tooltips.soy' */
// This file was automatically generated from devstatus-cta-tooltips.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.Tooltip.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.Tooltip == 'undefined') { JIRA.Templates.DevStatus.Tooltip = {}; }


JIRA.Templates.DevStatus.Tooltip.createBranch = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.DevStatus.Tooltip.tooltipLayout({extraClasses: 'create-branch', content: '<span class="branch-illustration"></span><div class="branch-text"><p>' + soy.$$escapeHtml('Create a branch for this issue in your source repository') + '.<br /> <a class="cta-learn-more-link" href="https://www.atlassian.com/git/workflows" target="_blank">' + soy.$$escapeHtml('Learn more about branching strategies') + '.</a></p></div>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Tooltip.createBranch.soyTemplateName = 'JIRA.Templates.DevStatus.Tooltip.createBranch';
}


JIRA.Templates.DevStatus.Tooltip.automaticTransitions = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.DevStatus.Tooltip.tooltipLayout({extraClasses: 'dev-summary-automatic-transitions', content: '<p>' + soy.$$escapeHtml('Now JIRA can automatically update your issue status when pull requests and other actions occur.') + '</p><p><a href="' + soy.$$escapeHtml(opt_data.aitHelpLinkUrl.url) + '" id="trigger-docs-link" target="_blank" title="' + soy.$$escapeHtml('Learn about automating your workflow') + '">' + soy.$$escapeHtml('Learn about automating your workflow') + '</a></p>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Tooltip.automaticTransitions.soyTemplateName = 'JIRA.Templates.DevStatus.Tooltip.automaticTransitions';
}


JIRA.Templates.DevStatus.Tooltip.tooltipLayout = function(opt_data, opt_ignored) {
  return '<div class="cta-tooltip' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '">' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.Tooltip.tooltipLayout.soyTemplateName = 'JIRA.Templates.DevStatus.Tooltip.tooltipLayout';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-dialog2', location = 'node_modules/@atlassian/aui/src/js/aui/dialog2.js' */
("undefined"===typeof window?global:window).__bdbf9d213bf319eb4577ef21ac6c491c=function(){function f(a){return a&&a.__esModule?a:{"default":a}}function e(a){var c=this.$el=a?(0,g.default)(a):(0,g.default)(aui.dialog.dialog2({}));g.default.each(i,function(a,b){var d="data-"+a;c[0].hasAttribute(d)||c.attr(d,b)})}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var g=f(__307d3e18fd611f85395c67cddeb1fe24),j=f(__574ac67f906effeb9d8ec2753b23cf28),k=f(__4d02fe17b8e885a34493e34af3d145dd),
b=f(__fe0cd0a7ef176e2ef4e0e105d1ce31f5),l=f(__e3152236c406a356c24f20f7bfcccf21),i={"aui-focus":"false","aui-blanketed":"true"};e.prototype.on=function(a,c){(0,b.default)(this.$el).on(a,c);return this};e.prototype.off=function(a,c){(0,b.default)(this.$el).off(a,c);return this};e.prototype.show=function(){(0,b.default)(this.$el).show();return this};e.prototype.hide=function(){(0,b.default)(this.$el).hide();return this};e.prototype.remove=function(){(0,b.default)(this.$el).remove();return this};e.prototype.isVisible=
function(){return(0,b.default)(this.$el).isVisible()};var d=(0,l.default)("dialog2",e);d.on=function(a,c){b.default.on(a,".aui-dialog2",c);return this};d.off=function(a,c){b.default.off(a,".aui-dialog2",c);return this};(0,g.default)(document).on("click",".aui-dialog2-header-close",function(a){a.preventDefault();d((0,g.default)(this).closest(".aui-dialog2")).hide()});d.on("show",function(a,c){var b;[".aui-dialog2-content",".aui-dialog2-footer",".aui-dialog2-header"].some(function(a){b=c.find(a+" :aui-tabbable");
return b.length});b&&b.first().focus()});d.on("hide",function(a,c){var d=(0,b.default)(c);c.data("aui-remove-on-hide")&&d.remove()});(0,j.default)("aui/dialog2",d);(0,k.default)("dialog2",d);h.default=d;return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:dialog2', location = 'src/soy/dialog2.soy' */
// This file was automatically generated from dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dialog.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dialog == 'undefined') { aui.dialog = {}; }


aui.dialog.dialog2 = function(opt_data, opt_ignored) {
  return '' + aui.dialog.dialog2Chrome({id: opt_data.id, titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, modal: opt_data.modal, tagName: opt_data.tagName, removeOnHide: opt_data.removeOnHide, visible: opt_data.visible, size: opt_data.size, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.dialog.dialog2Content({id: null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, headerActionContent: opt_data.headerActionContent, headerSecondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal, content: opt_data.content, footerHintText: opt_data.footerHintText, footerHintContent: opt_data.footerHintContent, footerActionContent: opt_data.footerActionContent})});
};
if (goog.DEBUG) {
  aui.dialog.dialog2.soyTemplateName = 'aui.dialog.dialog2';
}


aui.dialog.dialog2Chrome = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.titleId) ? ' aria-labelledby="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' role="dialog" class=" aui-layer aui-dialog2 aui-dialog2-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'medium') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.modal) ? 'data-aui-modal="true"' : '') + ((opt_data.removeOnHide) ? 'data-aui-remove-on-hide="true"' : '') + ((opt_data.visible != true) ? 'aria-hidden="true"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Chrome.soyTemplateName = 'aui.dialog.dialog2Chrome';
}


aui.dialog.dialog2Content = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.dialog.dialog2Header({titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, actionContent: opt_data.headerActionContent, secondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal}) + aui.dialog.dialog2Panel(opt_data) + aui.dialog.dialog2Footer({hintText: opt_data.footerHintText, hintContent: opt_data.footerHintContent, actionContent: opt_data.footerActionContent});
};
if (goog.DEBUG) {
  aui.dialog.dialog2Content.soyTemplateName = 'aui.dialog.dialog2Content';
}


aui.dialog.dialog2Header = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<header' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-header' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><h2 ' + ((opt_data.titleId) ? ' id="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' class="aui-dialog2-header-main">' + ((opt_data.titleText) ? soy.$$escapeHtml(opt_data.titleText) : '') + ((opt_data.titleContent) ? soy.$$filterNoAutoescape(opt_data.titleContent) : '') + '</h2>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-header-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.secondaryContent) ? '<div class="aui-dialog2-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryContent) + '</div>' : '') + ((opt_data.modal != true) ? '<a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Close') + '</span></a>' : '') + '</header>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Header.soyTemplateName = 'aui.dialog.dialog2Header';
}


aui.dialog.dialog2Footer = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<footer' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-footer' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-footer-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.hintText || opt_data.hintContent) ? '<div class="aui-dialog2-footer-hint">' + ((opt_data.hintText) ? soy.$$escapeHtml(opt_data.hintText) : '') + ((opt_data.hintContent) ? soy.$$filterNoAutoescape(opt_data.hintContent) : '') + '</div>' : '') + '</footer>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Footer.soyTemplateName = 'aui.dialog.dialog2Footer';
}


aui.dialog.dialog2Panel = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Panel.soyTemplateName = 'aui.dialog.dialog2Panel';
}
;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-api', location = 'jira-projects-module/sidebar/api.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar"),AJS.namespace("JIRA.API");var e=AJS.$.Deferred();JIRA.API.getSidebar=JIRA.API.getSidebar||function(){return e.promise()},JIRA.Projects.Sidebar.initAPI=function(r){JIRA.API.Sidebar=r,e.resolve(JIRA.API.Sidebar)}}();;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-expander', location = 'node_modules/@atlassian/aui/src/js/aui/expander.js' */
("undefined"===typeof window?global:window).__1f32101163c43c11907101e4c1c0413f=function(){"use strict";var c=__307d3e18fd611f85395c67cddeb1fe24,d=c&&c.__esModule?c:{"default":c},e=(0,d.default)(document),f=function(a){var b={};b.$trigger=(0,d.default)(a.currentTarget);b.$content=e.find("#"+b.$trigger.attr("aria-controls"));b.triggerIsParent=0!==b.$content.parent().filter(b.$trigger).length;b.$shortContent=b.triggerIsParent?b.$trigger.find(".aui-expander-short-content"):null;b.height=b.$content.css("min-height");
b.isCollapsible=!1!==b.$trigger.data("collapsible");b.replaceText=b.$trigger.attr("data-replace-text");b.replaceSelector=b.$trigger.data("replace-selector");return b},g=function(a){if(a.replaceText){var b=a.replaceSelector?a.$trigger.find(a.replaceSelector):a.$trigger;a.$trigger.attr("data-replace-text",b.text());b.text(a.replaceText)}};e.on({"aui-expander-invoke":function(a){var a=(0,d.default)(a.currentTarget),b=e.find("#"+a.attr("aria-controls")),c=!1!==a.data("collapsible");"true"===b.attr("aria-expanded")&&
c?a.trigger("aui-expander-collapse"):a.trigger("aui-expander-expand")},"aui-expander-expand":function(a){a=f(a);"true"!==a.$content.attr("aria-expanded")&&(a.$content.attr("aria-expanded","true"),a.$trigger.attr("aria-expanded","true"),0<a.$content.outerHeight()&&a.$content.attr("aria-hidden","false"),g(a),a.triggerIsParent&&a.$shortContent.hide(),a.$trigger.trigger("aui-expander-expanded"))},"aui-expander-collapse":function(a){a=f(a);"true"===a.$content.attr("aria-expanded")&&(g(a),a.$content.attr("aria-expanded",
"false"),a.$trigger.attr("aria-expanded","false"),a.triggerIsParent&&a.$shortContent.show(),0===a.$content.outerHeight()&&a.$content.attr("aria-hidden","true"),a.$trigger.trigger("aui-expander-collapsed"))},"click.aui-expander":function(a){(0,d.default)(a.currentTarget).trigger("aui-expander-invoke",a.currentTarget)}},".aui-expander-trigger");return{}}.call(this);;
;
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.10.3', location = 'libs/moment/2.10.3/moment-2.10.3.js' */
(function(h){define("atlassian/libs/moment-2.10.3",function(){var G={};h.call(G);return G.moment})})(function(){var h=function(){return Ia.apply(null,arguments)},G=function(a){return"[object Array]"===Object.prototype.toString.call(a)},ba=function(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)},H=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},ca=function(a,b){for(var c in b)H(b,c)&&(a[c]=b[c]);H(b,"toString")&&(a.toString=b.toString);H(b,"valueOf")&&
(a.valueOf=b.valueOf);return a},V=function(a,b,c,d){return Ja(a,b,c,d,!0).utc()},m=function(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1});return a._pf},Ka=function(a){if(null==a._isValid){var b=m(a);a._isValid=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated;a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&
0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid},La=function(a){var b=V(NaN);null!=a?ca(m(b),a):m(b).userInvalidated=!0;return b},Ma=function(a,b){var c,d,j;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&
(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=m(b));"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<oa.length)for(c in oa)d=oa[c],j=b[d],"undefined"!==typeof j&&(a[d]=j);return a},W=function(a){Ma(this,a);this._d=new Date(+a._d);!1===pa&&(pa=!0,h.updateOffset(this),pa=!1)},C=function(a){return a instanceof W||null!=a&&null!=a._isAMomentObject},o=function(a){var a=+a,b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));
return b},Na=function(a,b,c){var d=Math.min(a.length,b.length),j=Math.abs(a.length-b.length),f=0,p;for(p=0;p<d;p++)(c&&a[p]!==b[p]||!c&&o(a[p])!==o(b[p]))&&f++;return f+j},Oa=function(){},Pa=function(a){var b=null;if(!I[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=da._abbr,require("./locale/"+a),X(b)}catch(c){}return I[a]},X=function(a,b){var c;a&&(c="undefined"===typeof b?J(a):Qa(a,b))&&(da=c);return da._abbr},Qa=function(a,b){if(null!==b)return b.abbr=a,I[a]||(I[a]=new Oa),I[a].set(b),
X(a),I[a];delete I[a];return null},J=function(a){var b;a&&(a._locale&&a._locale._abbr)&&(a=a._locale._abbr);if(!a)return da;if(!G(a)){if(b=Pa(a))return b;a=[a]}a:{b=0;for(var c,d,j,f;b<a.length;){f=(a[b]?a[b].toLowerCase().replace("_","-"):a[b]).split("-");c=f.length;for(d=(d=a[b+1]?a[b+1].toLowerCase().replace("_","-"):a[b+1])?d.split("-"):null;0<c;){if(j=Pa(f.slice(0,c).join("-"))){a=j;break a}if(d&&d.length>=c&&Na(f,d,!0)>=c-1)break;c--}b++}a=null}return a},s=function(a,b){var c=a.toLowerCase();
Y[c]=Y[c+"s"]=Y[b]=a},v=function(a){return"string"===typeof a?Y[a]||Y[a.toLowerCase()]:void 0},Ra=function(a){var b={},c,d;for(d in a)H(a,d)&&(c=v(d))&&(b[c]=a[d]);return b},Q=function(a,b){return function(c){return null!=c?(this._d["set"+(this._isUTC?"UTC":"")+a](c),h.updateOffset(this,b),this):ea(this,a)}},ea=function(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()},Sa=function(a,b){var c;if("object"===typeof a)for(c in a)this.set(c,a[c]);else if(a=v(a),"function"===typeof this[a])return this[a](b);
return this},qa=function(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d},i=function(a,b,c,d){var j=d;"string"===typeof d&&(j=function(){return this[d]()});a&&(R[a]=j);b&&(R[b[0]]=function(){return qa(j.apply(this,arguments),b[1],b[2])});c&&(R[c]=function(){return this.localeData().ordinal(j.apply(this,arguments),a)})},sa=function(a,b){if(!a.isValid())return a.localeData().invalidDate();b=Ta(b,a.localeData());if(!ra[b]){var c=ra,d=b,j=b,f=j.match(Ua),p,e;p=0;for(e=
f.length;p<e;p++)f[p]=R[f[p]]?R[f[p]]:f[p].match(/\[[\s\S]/)?f[p].replace(/^\[|\]$/g,""):f[p].replace(/\\/g,"");c[d]=function(a){var b="";for(p=0;p<e;p++)b+=f[p]instanceof Function?f[p].call(a,j):f[p];return b}}return ra[b](a)},Ta=function(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(fa.lastIndex=0;0<=d&&fa.test(a);)a=a.replace(fa,c),fa.lastIndex=0,d-=1;return a},g=function(a,b,c){ta[a]="function"===typeof b?b:function(a){return a&&c?c:b}},tb=function(a,b){return!H(ta,a)?RegExp(a.replace("\\",
"").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,j,f,e){return b||j||f||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")):ta[a](b._strict,b._locale)},r=function(a,b){var c,d=b;"string"===typeof a&&(a=[a]);"number"===typeof b&&(d=function(a,c){c[b]=o(a)});for(c=0;c<a.length;c++)ua[a[c]]=d},Z=function(a,b){r(a,function(a,d,j,f){j._w=j._w||{};b(a,j._w,j,f)})},va=function(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},Va=function(a,b){var c;if("string"===typeof b&&(b=a.localeData().monthsParse(b),
"number"!==typeof b))return a;c=Math.min(a.date(),va(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a},Wa=function(a){return null!=a?(Va(this,a),h.updateOffset(this,!0),this):ea(this,"Month")},wa=function(a){var b;if((b=a._a)&&-2===m(a).overflow){b=0>b[z]||11<b[z]?z:1>b[x]||b[x]>va(b[A],b[z])?x:0>b[t]||24<b[t]||24===b[t]&&(0!==b[K]||0!==b[L]||0!==b[M])?t:0>b[K]||59<b[K]?K:0>b[L]||59<b[L]?L:0>b[M]||999<b[M]?M:-1;if(m(a)._overflowDayOfYear&&(b<A||b>x))b=x;m(a).overflow=b}return a},
Xa=function(a){!1===h.suppressDeprecationWarnings&&("undefined"!==typeof console&&console.warn)&&console.warn("Deprecation warning: "+a)},w=function(a,b){var c=!0,d=a+"\n"+Error().stack;return ca(function(){c&&(Xa(d),c=!1);return b.apply(this,arguments)},b)},Ya=function(a){var b,c,d=a._i,j=ub.exec(d);if(j){m(a).iso=!0;b=0;for(c=xa.length;b<c;b++)if(xa[b][1].exec(d)){a._f=xa[b][0]+(j[6]||" ");break}b=0;for(c=ya.length;b<c;b++)if(ya[b][1].exec(d)){a._f+=ya[b][0];break}d.match(ga)&&(a._f+="Z");za(a)}else a._isValid=
!1},vb=function(a,b,c,d,j,f,e){b=new Date(a,b,c,d,j,f,e);1970>a&&b.setFullYear(a);return b},Aa=function(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b},Ba=function(a){return 0===a%4&&0!==a%100||0===a%400},N=function(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=n(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}},S=function(a,b,c){return null!=a?a:null!=b?b:c},Ca=function(a){var b,c,d=[],j;if(!a._d){j=new Date;j=a._useUTC?[j.getUTCFullYear(),
j.getUTCMonth(),j.getUTCDate()]:[j.getFullYear(),j.getMonth(),j.getDate()];if(a._w&&null==a._a[x]&&null==a._a[z]){var f,e,g;f=a._w;null!=f.GG||null!=f.W||null!=f.E?(b=1,g=4,c=S(f.GG,a._a[A],N(n(),1,4).year),e=S(f.W,1),f=S(f.E,1)):(b=a._locale._week.dow,g=a._locale._week.doy,c=S(f.gg,a._a[A],N(n(),b,g).year),e=S(f.w,1),null!=f.d?(f=f.d,f<b&&++e):f=null!=f.e?f.e+b:b);var h=Aa(c,0,1).getUTCDay(),h=0===h?7:h;g=7*(e-1)+((null!=f?f:b)-b)+(b-h+(h>g?7:0)-(h<b?7:0))+1;b=0<g?c:c-1;c=0<g?g:(Ba(c-1)?366:365)+
g;a._a[A]=b;a._dayOfYear=c}if(a._dayOfYear){c=S(a._a[A],j[A]);if(a._dayOfYear>(Ba(c)?366:365))m(a)._overflowDayOfYear=!0;c=Aa(c,0,a._dayOfYear);a._a[z]=c.getUTCMonth();a._a[x]=c.getUTCDate()}for(c=0;3>c&&null==a._a[c];++c)a._a[c]=d[c]=j[c];for(;7>c;c++)a._a[c]=d[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[t]&&(0===a._a[K]&&0===a._a[L]&&0===a._a[M])&&(a._nextDay=!0,a._a[t]=0);a._d=(a._useUTC?Aa:vb).apply(null,d);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[t]=24)}},
za=function(a){if(a._f===h.ISO_8601)Ya(a);else{a._a=[];m(a).empty=!0;var b=""+a._i,c,d,j,f,e,g=b.length,i=0;j=Ta(a._f,a._locale).match(Ua)||[];for(c=0;c<j.length;c++){f=j[c];if(d=(b.match(tb(f,a))||[])[0])e=b.substr(0,b.indexOf(d)),0<e.length&&m(a).unusedInput.push(e),b=b.slice(b.indexOf(d)+d.length),i+=d.length;if(R[f]){if(d?m(a).empty=!1:m(a).unusedTokens.push(f),e=a,null!=d&&H(ua,f))ua[f](d,e._a,e,f)}else a._strict&&!d&&m(a).unusedTokens.push(f)}m(a).charsLeftOver=g-i;0<b.length&&m(a).unusedInput.push(b);
!0===m(a).bigHour&&(12>=a._a[t]&&0<a._a[t])&&(m(a).bigHour=void 0);b=a._a;c=t;g=a._locale;j=a._a[t];i=a._meridiem;null!=i&&(null!=g.meridiemHour?j=g.meridiemHour(j,i):null!=g.isPM&&((g=g.isPM(i))&&12>j&&(j+=12),!g&&12===j&&(j=0)));b[c]=j;Ca(a);wa(a)}},Ja=function(a,b,c,d,j){var f={};"boolean"===typeof c&&(d=c,c=void 0);f._isAMomentObject=!0;f._useUTC=f._isUTC=j;f._l=c;f._i=a;f._f=b;f._strict=d;a=f._i;b=f._f;f._locale=f._locale||J(f._l);if(null===a||void 0===b&&""===a)f=La({nullInput:!0});else if("string"===
typeof a&&(f._i=a=f._locale.preparse(a)),C(a))f=new W(wa(a));else{if(G(b)){var e,g,i;if(0===f._f.length)m(f).invalidFormat=!0,f._d=new Date(NaN);else{for(a=0;a<f._f.length;a++)if(b=0,e=Ma({},f),null!=f._useUTC&&(e._useUTC=f._useUTC),e._f=f._f[a],za(e),Ka(e))if(b+=m(e).charsLeftOver,b+=10*m(e).unusedTokens.length,m(e).score=b,null==i||b<i)i=b,g=e;ca(f,g||e)}}else if(b)za(f);else if(ba(a))f._d=a;else if(e=f._i,void 0===e)f._d=new Date;else if(ba(e))f._d=new Date(+e);else if("string"===typeof e)e=wb.exec(f._i),
null!==e?f._d=new Date(+e[1]):(Ya(f),!1===f._isValid&&(delete f._isValid,h.createFromInputFallback(f)));else if(G(e)){e=e.slice(0);g=[];for(i=0;i<e.length;++i)g.push(parseInt(e[i],10));f._a=g;Ca(f)}else"object"===typeof e?f._d||(e=Ra(f._i),f._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Ca(f)):"number"===typeof e?f._d=new Date(e):h.createFromInputFallback(f);f=new W(wa(f));f._nextDay&&(f.add(1,"d"),f._nextDay=void 0)}return f},n=function(a,b,c,d){return Ja(a,b,c,d,!1)},
Za=function(a,b){var c,d;1===b.length&&G(b[0])&&(b=b[0]);if(!b.length)return n();c=b[0];for(d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c},ha=function(a){var a=Ra(a),b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=J();this._bubble()},Da=function(a){return a instanceof ha},$a=function(a,b){i(a,0,0,function(){var a=this.utcOffset(),
d="+";0>a&&(a=-a,d="-");return d+qa(~~(a/60),2)+b+qa(~~a%60,2)})},Ea=function(a){var a=(a||"").match(ga)||[],a=((a[a.length-1]||[])+"").match(xb)||["-",0,0],b=+(60*a[1])+o(a[2]);return"+"===a[0]?b:-b},Fa=function(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(C(a)||ba(a)?+a:+n(a))-+c,c._d.setTime(+c._d+d),h.updateOffset(c,!1),c):n(a).local()},ab=function(){return this._isUTC&&0===this._offset},D=function(a,b){var c=a,d=null;if(Da(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c=
{},b?c[b]=a:c.milliseconds=a;else if(d=yb.exec(a))c="-"===d[1]?-1:1,c={y:0,d:o(d[x])*c,h:o(d[t])*c,m:o(d[K])*c,s:o(d[L])*c,ms:o(d[M])*c};else if(d=zb.exec(a))c="-"===d[1]?-1:1,c={y:O(d[2],c),M:O(d[3],c),d:O(d[4],c),h:O(d[5],c),m:O(d[6],c),s:O(d[7],c),w:O(d[8],c)};else if(null==c)c={};else if("object"===typeof c&&("from"in c||"to"in c))d=n(c.from),c=n(c.to),c=Fa(c,d),d.isBefore(c)?c=bb(d,c):(c=bb(c,d),c.milliseconds=-c.milliseconds,c.months=-c.months),d=c,c={},c.ms=d.milliseconds,c.M=d.months;c=new ha(c);
Da(a)&&H(a,"_locale")&&(c._locale=a._locale);return c},O=function(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b},bb=function(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c},eb=function(a,b){return function(c,d){var e;null!==d&&!isNaN(+d)&&(cb[b]||(Xa("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),
cb[b]=!0),e=c,c=d,d=e);e=D("string"===typeof c?+c:c,d);db(this,e,a);return this}},db=function(a,b,c,d){var e=b._milliseconds,f=b._days,b=b._months,d=null==d?!0:d;e&&a._d.setTime(+a._d+e*c);f&&(e=ea(a,"Date")+f*c,a._d["set"+(a._isUTC?"UTC":"")+"Date"](e));b&&Va(a,ea(a,"Month")+b*c);d&&h.updateOffset(a,f||b)},y=function(a){return 0>a?Math.ceil(a):Math.floor(a)},fb=function(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():
sa(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):sa(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},gb=function(a){if(void 0===a)return this._locale._abbr;a=J(a);null!=a&&(this._locale=a);return this},hb=function(){return this._locale},ia=function(a,b){i(0,[a,a.length],0,b)},ib=function(a,b,c){return N(n([a,11,31+b-c]),b,c).week},jb=function(a,b){i(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})},kb=function(a,b){return b._meridiemParse},lb=function(a){return a},mb=function(a,b,c,d){var e=
J(),b=V().set(d,b);return e[c](b,a)},$=function(a,b,c,d,e){"number"===typeof a&&(b=a,a=void 0);a=a||"";if(null!=b)return mb(a,b,c,e);for(var f=[],b=0;b<d;b++)f[b]=mb(a,b,c,e);return f},nb=function(a,b,c,d){b=D(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()},E=function(a){return function(){return this.as(a)}},P=function(a){return function(){return this._data[a]}},Ab=function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)},ja=function(){var a=T(this.years()),
b=T(this.months()),c=T(this.days()),d=T(this.hours()),e=T(this.minutes()),f=T(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return!g?"P0D":(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":"")},Ia,oa=h.momentProperties=[],pa=!1,I={},da,Y={},Ua=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,fa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
ra={},R={},ob=/\d/,u=/\d\d/,pb=/\d{3}/,Ga=/\d{4}/,ka=/[+-]?\d{6}/,q=/\d\d?/,la=/\d{1,3}/,Ha=/\d{1,4}/,ma=/[+-]?\d{1,6}/,na=/[+-]?\d+/,ga=/Z|[+-]\d\d:?\d\d/gi,aa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ta={},ua={},A=0,z=1,x=2,t=3,K=4,L=5,M=6;i("M",["MM",2],"Mo",function(){return this.month()+1});i("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});i("MMMM",0,0,function(a){return this.localeData().months(this,
a)});s("month","M");g("M",q);g("MM",q,u);g("MMM",aa);g("MMMM",aa);r(["M","MM"],function(a,b){b[z]=o(a)-1});r(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[z]=d:m(c).invalidMonth=a});var cb={};h.suppressDeprecationWarnings=!1;var ub=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",
/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ya=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wb=/^\/?Date\((\-?\d+)/i;h.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});
i(0,["YY",2],0,function(){return this.year()%100});i(0,["YYYY",4],0,"year");i(0,["YYYYY",5],0,"year");i(0,["YYYYYY",6,!0],0,"year");s("year","y");g("Y",na);g("YY",q,u);g("YYYY",Ha,Ga);g("YYYYY",ma,ka);g("YYYYYY",ma,ka);r(["YYYY","YYYYY","YYYYYY"],A);r("YY",function(a,b){b[A]=h.parseTwoDigitYear(a)});h.parseTwoDigitYear=function(a){return o(a)+(68<o(a)?1900:2E3)};var qb=Q("FullYear",!1);i("w",["ww",2],"wo","week");i("W",["WW",2],"Wo","isoWeek");s("week","w");s("isoWeek","W");g("w",q);g("ww",q,u);g("W",
q);g("WW",q,u);Z(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=o(a)});i("DDD",["DDDD",3],"DDDo","dayOfYear");s("dayOfYear","DDD");g("DDD",la);g("DDDD",pb);r(["DDD","DDDD"],function(a,b,c){c._dayOfYear=o(a)});h.ISO_8601=function(){};var Bb=w("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=n.apply(null,arguments);return a<this?this:a}),Cb=w("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(){var a=n.apply(null,arguments);return a>this?this:a});$a("Z",":");$a("ZZ","");g("Z",ga);g("ZZ",ga);r(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=Ea(a)});var xb=/([\+\-]|\d\d)/gi;h.updateOffset=function(){};var yb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;D.fn=ha.prototype;var Db=eb(1,"add"),Eb=eb(-1,"subtract");h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
var rb=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});i(0,["gg",2],0,function(){return this.weekYear()%100});i(0,["GG",2],0,function(){return this.isoWeekYear()%100});ia("gggg","weekYear");ia("ggggg","weekYear");ia("GGGG","isoWeekYear");ia("GGGGG","isoWeekYear");s("weekYear","gg");s("isoWeekYear","GG");g("G",na);g("g",na);g("GG",q,u);
g("gg",q,u);g("GGGG",Ha,Ga);g("gggg",Ha,Ga);g("GGGGG",ma,ka);g("ggggg",ma,ka);Z(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=o(a)});Z(["gg","GG"],function(a,b,c,d){b[d]=h.parseTwoDigitYear(a)});i("Q",0,0,"quarter");s("quarter","Q");g("Q",ob);r("Q",function(a,b){b[z]=3*(o(a)-1)});i("D",["DD",2],"Do","date");s("date","D");g("D",q);g("DD",q,u);g("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});r(["D","DD"],x);r("Do",function(a,b){b[x]=o(a.match(q)[0],10)});var sb=
Q("Date",!0);i("d",0,"do","day");i("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});i("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});i("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});i("e",0,0,"weekday");i("E",0,0,"isoWeekday");s("day","d");s("weekday","e");s("isoWeekday","E");g("d",q);g("e",q);g("E",q);g("dd",aa);g("ddd",aa);g("dddd",aa);Z(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:m(c).invalidWeekday=
a});Z(["d","e","E"],function(a,b,c,d){b[d]=o(a)});i("H",["HH",2],0,"hour");i("h",["hh",2],0,function(){return this.hours()%12||12});jb("a",!0);jb("A",!1);s("hour","h");g("a",kb);g("A",kb);g("H",q);g("h",q);g("HH",q,u);g("hh",q,u);r(["H","HH"],t);r(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});r(["h","hh"],function(a,b,c){b[t]=o(a);m(c).bigHour=!0});var Fb=Q("Hours",!0);i("m",["mm",2],0,"minute");s("minute","m");g("m",q);g("mm",q,u);r(["m","mm"],K);var Gb=Q("Minutes",!1);i("s",
["ss",2],0,"second");s("second","s");g("s",q);g("ss",q,u);r(["s","ss"],L);var Hb=Q("Seconds",!1);i("S",0,0,function(){return~~(this.millisecond()/100)});i(0,["SS",2],0,function(){return~~(this.millisecond()/10)});i(0,["SSS",3],0,"millisecond");i(0,["SSSS",3],0,"millisecond");s("millisecond","ms");g("S",la,ob);g("SS",la,u);g("SSS",la,pb);g("SSSS",/\d+/);r(["S","SS","SSS","SSSS"],function(a,b){b[M]=o(1E3*("0."+a))});var Ib=Q("Milliseconds",!1);i("z",0,0,"zoneAbbr");i("zz",0,0,"zoneName");var e=W.prototype;
e.add=Db;e.calendar=function(a){var a=a||n(),b=Fa(a,this).startOf("day"),b=this.diff(b,"days",!0);return this.format(this.localeData().calendar(-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse",this,n(a)))};e.clone=function(){return new W(this)};e.diff=function(a,b,c){var a=Fa(a,this),d=6E4*(a.utcOffset()-this.utcOffset()),b=v(b);if("year"===b||"month"===b||"quarter"===b){var d=12*(a.year()-this.year())+(a.month()-this.month()),e=this.clone().add(d,
"months"),f;0>a-e?(f=this.clone().add(d-1,"months"),a=(a-e)/(e-f)):(f=this.clone().add(d+1,"months"),a=(a-e)/(f-e));a=-(d+a);"quarter"===b?a/=3:"year"===b&&(a/=12)}else a=this-a,a="second"===b?a/1E3:"minute"===b?a/6E4:"hour"===b?a/36E5:"day"===b?(a-d)/864E5:"week"===b?(a-d)/6048E5:a;return c?a:y(a)};e.endOf=function(a){a=v(a);return void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};e.format=function(a){a=sa(this,a||h.defaultFormat);return this.localeData().postformat(a)};
e.from=function(a,b){return!this.isValid()?this.localeData().invalidDate():D({to:this,from:a}).locale(this.locale()).humanize(!b)};e.fromNow=function(a){return this.from(n(),a)};e.to=function(a,b){return!this.isValid()?this.localeData().invalidDate():D({from:this,to:a}).locale(this.locale()).humanize(!b)};e.toNow=function(a){return this.to(n(),a)};e.get=Sa;e.invalidAt=function(){return m(this).overflow};e.isAfter=function(a,b){b=v("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=
C(a)?a:n(a),+this>+a):(C(a)?+a:+n(a))<+this.clone().startOf(b)};e.isBefore=function(a,b){var c,b=v("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=C(a)?a:n(a),+this<+a;c=C(a)?+a:+n(a);return+this.clone().endOf(b)<c};e.isBetween=function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)};e.isSame=function(a,b){var c,b=v(b||"millisecond");if("millisecond"===b)return a=C(a)?a:n(a),+this===+a;c=+n(a);return+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)};e.isValid=function(){return Ka(this)};
e.lang=rb;e.locale=gb;e.localeData=hb;e.max=Cb;e.min=Bb;e.parsingFlags=function(){return ca({},m(this))};e.set=Sa;e.startOf=function(a){a=v(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this};e.subtract=
Eb;e.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};e.toDate=function(){return this._offset?new Date(+this):this._d};e.toISOString=fb;e.toJSON=fb;e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};e.unix=function(){return Math.floor(+this/1E3)};e.valueOf=function(){return+this._d-6E4*(this._offset||0)};e.year=qb;e.isLeapYear=function(){return Ba(this.year())};e.weekYear=function(a){var b=
N(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")};e.isoWeekYear=function(a){var b=N(this,1,4).year;return null==a?b:this.add(a-b,"y")};e.quarter=e.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};e.month=Wa;e.daysInMonth=function(){return va(this.year(),this.month())};e.week=e.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};e.isoWeek=e.isoWeeks=function(a){var b=
N(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};e.weeksInYear=function(){var a=this.localeData()._week;return ib(this.year(),a.dow,a.doy)};e.isoWeeksInYear=function(){return ib(this.year(),1,4)};e.date=sb;e.day=e.days=function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b};e.weekday=function(a){var b=
(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};e.isoWeekday=function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)};e.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};e.hour=e.hours=Fb;e.minute=e.minutes=Gb;e.second=e.seconds=Hb;e.millisecond=e.milliseconds=Ib;e.utcOffset=function(a,b){var c=this._offset||0,d;return null!=a?("string"===typeof a&&(a=Ea(a)),
16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(d=15*-Math.round(this._d.getTimezoneOffset()/15)),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),c!==a&&(!b||this._changeInProgress?db(this,D(a-c,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?c:15*-Math.round(this._d.getTimezoneOffset()/15)};e.utc=function(a){return this.utcOffset(0,a)};e.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*
-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};e.parseZone=function(){this._tzm?this.utcOffset(this._tzm):"string"===typeof this._i&&this.utcOffset(Ea(this._i));return this};e.hasAlignedHourOffset=function(a){a=a?n(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};e.isDSTShifted=function(){if(this._a){var a=this._isUTC?V(this._a):n(this._a);return this.isValid()&&
0<Na(this._a,a.toArray())}return!1};e.isLocal=function(){return!this._isUTC};e.isUtcOffset=function(){return this._isUTC};e.isUtc=ab;e.isUTC=ab;e.zoneAbbr=function(){return this._isUTC?"UTC":""};e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};e.dates=w("dates accessor is deprecated. Use date instead.",sb);e.months=w("months accessor is deprecated. Use month instead",Wa);e.years=w("years accessor is deprecated. Use year instead",qb);e.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});var k=Oa.prototype;k._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};k.calendar=function(a,b,c){a=this._calendar[a];return"function"===typeof a?a.call(b,c):a};k._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"};
k.longDateFormat=function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b};k._invalidDate="Invalid date";k.invalidDate=function(){return this._invalidDate};k._ordinal="%d";k.ordinal=function(a){return this._ordinal.replace("%d",a)};k._ordinalParse=/\d{1,2}/;k.preparse=lb;k.postformat=lb;k._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};k.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,d):e.replace(/%d/i,a)};k.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)};k.set=function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=RegExp(this._ordinalParse.source+
"|"+/\d{1,2}/.source)};k.months=function(a){return this._months[a.month()]};k._months="January February March April May June July August September October November December".split(" ");k.monthsShort=function(a){return this._monthsShort[a.month()]};k._monthsShort="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");k.monthsParse=function(a,b,c){var d,e;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(e=V([2E3,d]),c&&!this._longMonthsParse[d]&&
(this._longMonthsParse[d]=RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),!c&&!this._monthsParse[d]&&(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};k.week=function(a){return N(a,this._week.dow,this._week.doy).week};
k._week={dow:0,doy:6};k.firstDayOfYear=function(){return this._week.doy};k.firstDayOfWeek=function(){return this._week.dow};k.weekdays=function(a){return this._weekdays[a.day()]};k._weekdays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");k.weekdaysMin=function(a){return this._weekdaysMin[a.day()]};k._weekdaysMin="Su Mo Tu We Th Fr Sa".split(" ");k.weekdaysShort=function(a){return this._weekdaysShort[a.day()]};k._weekdaysShort="Sun Mon Tue Wed Thu Fri Sat".split(" ");k.weekdaysParse=
function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=n([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b};k.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};k._meridiemParse=/[ap]\.?m?\.?/i;k.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};X("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,
ordinal:function(a){var b=a%10,b=1===o(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});h.lang=w("moment.lang is deprecated. Use moment.locale instead.",X);h.langData=w("moment.langData is deprecated. Use moment.localeData instead.",J);var B=Math.abs,Jb=E("ms"),Kb=E("s"),Lb=E("m"),Mb=E("h"),Nb=E("d"),Ob=E("w"),Pb=E("M"),Qb=E("y"),Rb=P("milliseconds"),Sb=P("seconds"),Tb=P("minutes"),Ub=P("hours"),Vb=P("days"),Wb=P("months"),Xb=P("years"),U=Math.round,F={s:45,m:45,h:22,d:26,M:11},
T=Math.abs,l=ha.prototype;l.abs=function(){var a=this._data;this._milliseconds=B(this._milliseconds);this._days=B(this._days);this._months=B(this._months);a.milliseconds=B(a.milliseconds);a.seconds=B(a.seconds);a.minutes=B(a.minutes);a.hours=B(a.hours);a.months=B(a.months);a.years=B(a.years);return this};l.add=function(a,b){return nb(this,a,b,1)};l.subtract=function(a,b){return nb(this,a,b,-1)};l.as=function(a){var b,c=this._milliseconds,a=v(a);if("month"===a||"year"===a)return b=this._days+c/864E5,
b=this._months+12*(400*b/146097),"month"===a?b:b/12;b=this._days+Math.round(146097*(this._months/12)/400);switch(a){case "week":return b/7+c/6048E5;case "day":return b+c/864E5;case "hour":return 24*b+c/36E5;case "minute":return 1440*b+c/6E4;case "second":return 86400*b+c/1E3;case "millisecond":return Math.floor(864E5*b)+c;default:throw Error("Unknown unit "+a);}};l.asMilliseconds=Jb;l.asSeconds=Kb;l.asMinutes=Lb;l.asHours=Mb;l.asDays=Nb;l.asWeeks=Ob;l.asMonths=Pb;l.asYears=Qb;l.valueOf=function(){return this._milliseconds+
864E5*this._days+2592E6*(this._months%12)+31536E6*o(this._months/12)};l._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data,e=0;d.milliseconds=a%1E3;a=y(a/1E3);d.seconds=a%60;a=y(a/60);d.minutes=a%60;a=y(a/60);d.hours=a%24;b+=y(a/24);e=y(400*b/146097);b-=y(146097*e/400);c+=y(b/30);b%=30;e+=y(c/12);d.days=b;d.months=c%12;d.years=e;return this};l.get=function(a){a=v(a);return this[a+"s"]()};l.milliseconds=Rb;l.seconds=Sb;l.minutes=Tb;l.hours=Ub;l.days=Vb;l.weeks=function(){return y(this.days()/
7)};l.months=Wb;l.years=Xb;l.humanize=function(a){var b=this.localeData(),c;c=!a;var d=D(this).abs(),e=U(d.as("s")),f=U(d.as("m")),g=U(d.as("h")),h=U(d.as("d")),i=U(d.as("M")),d=U(d.as("y")),e=e<F.s&&["s",e]||1===f&&["m"]||f<F.m&&["mm",f]||1===g&&["h"]||g<F.h&&["hh",g]||1===h&&["d"]||h<F.d&&["dd",h]||1===i&&["M"]||i<F.M&&["MM",i]||1===d&&["y"]||["yy",d];e[2]=c;e[3]=0<+this;e[4]=b;c=Ab.apply(null,e);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};l.toISOString=ja;l.toString=ja;l.toJSON=ja;l.locale=
gb;l.localeData=hb;l.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ja);l.lang=rb;i("X",0,0,"unix");i("x",0,0,"valueOf");g("x",na);g("X",/[+-]?\d+(\.\d{1,3})?/);r("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});r("x",function(a,b,c){c._d=new Date(o(a))});h.version="2.10.3";Ia=n;h.fn=e;h.min=function(){var a=[].slice.call(arguments,0);return Za("isBefore",a)};h.max=function(){var a=[].slice.call(arguments,0);return Za("isAfter",a)};h.utc=
V;h.unix=function(a){return n(1E3*a)};h.months=function(a,b){return $(a,b,"months",12,"month")};h.isDate=ba;h.locale=X;h.invalid=La;h.duration=D;h.isMoment=C;h.weekdays=function(a,b){return $(a,b,"weekdays",7,"day")};h.parseZone=function(){return n.apply(null,arguments).parseZone()};h.localeData=J;h.isDuration=Da;h.monthsShort=function(a,b){return $(a,b,"monthsShort",12,"month")};h.weekdaysMin=function(a,b){return $(a,b,"weekdaysMin",7,"day")};h.defineLocale=Qa;h.weekdaysShort=function(a,b){return $(a,
b,"weekdaysShort",7,"day")};h.normalizeUnits=v;h.relativeTimeThreshold=function(a,b){if(void 0===F[a])return!1;if(void 0===b)return F[a];F[a]=b;return!0};this.moment=h});;
;
/* module-key = 'com.atlassian.plugin.jslibs:d3-3.5.5', location = 'libs/d3/3.5.5/d3-3.5.5.js' */
!function(){function Ca(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function ab(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function Oa(a){return null===a?NaN:+a}function ra(a){return!isNaN(a)}function be(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0<
a(b[f],c)?e=f:d=f+1}return d}}}function Vg(a){return a.length}function ce(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function sa(){this._=Object.create(null)}function rb(a){return(a+="")===Wg||a[0]===Ic?Ic+a:a}function Gb(a){return(a+="")[0]===Ic?a.slice(1):a}function de(a){return rb(a)in this._}function ee(a){return(a=rb(a))in this._&&delete this._[a]}function fe(){var a=[],b;for(b in this._)a.push(Gb(b));return a}function ge(){var a=0,b;for(b in this._)++a;
return a}function he(){for(var a in this._)return!1;return!0}function Jc(){this._=Object.create(null)}function P(a){return a}function Xg(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function Kc(a,b){if(b in a)return b;for(var b=b.charAt(0).toUpperCase()+b.slice(1),c=0,d=ie.length;c<d;++c){var e=ie[c]+b;if(e in a)return e}}function M(){}function Lc(){}function je(a){function b(){for(var b=c,d=-1,g=b.length,h;++d<g;)(h=b[d].on)&&h.apply(this,arguments);return a}var c=[],d=new sa;
b.on=function(b,f){var g=d.get(b),h;if(2>arguments.length)return g&&g.on;g&&(g.on=null,c=c.slice(0,h=c.indexOf(g)).concat(c.slice(h+1)),d.remove(b));f&&c.push(d.set(b,{on:f}));return a};return b}function Da(){i.event.preventDefault()}function Mc(){for(var a=i.event,b;b=a.sourceEvent;)a=b;return a}function Nc(a){for(var b=new Lc,c=0,d=arguments.length;++c<d;)b[arguments[c]]=je(b);b.of=function(c,d){return function(g){try{var h=g.sourceEvent=i.event;g.target=a;i.event=g;b[g.type].apply(c,d)}finally{i.event=
h}}};return b}function Ea(a){Hb(a,E);return a}function Oc(a){return"function"===typeof a?a:function(){return Pc(a,this)}}function ke(a){return"function"===typeof a?a:function(){return Qc(a,this)}}function le(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=
b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=i.ns.qualify(a);return null==b?a.local?d:c:"function"===typeof b?a.local?h:g:a.local?f:e}function me(a){return a.trim().replace(/\s+/g," ")}function ne(a){return RegExp("(?:^|\\s+)"+i.requote(a)+"(?:\\s+|$)","g")}function oe(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}var a=(a+"").trim().split(/^|\s+/).map(Yg),
e=a.length;return"function"===typeof b?d:c}function Yg(a){var b=ne(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",me(e+" "+a))):c.setAttribute("class",me(e.replace(b," ")))}}function pe(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==
b?d:"function"===typeof b?f:e}function qe(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function re(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"===typeof a?a:(a=i.ns.qualify(a)).local?c:b}function Zg(){var a=this.parentNode;
a&&a.removeChild(this)}function se(a){return function(){return Ib(this,a)}}function $g(a){arguments.length||(a=ab);return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function ta(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function te(a){Hb(a,ua);return a}function ue(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=j(b,Fa(arguments));d.call(this);this.addEventListener(a,
this[g]=e,e.$=c);e._=b}function f(){var b=RegExp("^__on([^.]+)"+i.requote(a)+"$"),c,d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var g="__on"+a,h=a.indexOf("."),j=ve;0<h&&(a=a.slice(0,h));var k=Rc.get(a);k&&(a=k,j=ah);return h?b?e:d:b?M:f}function ve(a,b){return function(c){var d=i.event;i.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{i.event=d}}}function ah(a,b){var c=ve(a,b);return function(a){var b=a.relatedTarget;(!b||b!==this&&!(b.compareDocumentPosition(this)&
8))&&c.call(this,a)}}function Jb(a){var b=".dragsuppress-"+ ++bh,c="click"+b,d=i.select(Ca(a)).on("touchmove"+b,Da).on("dragstart"+b,Da).on("selectstart"+b,Da);null==Pa&&(Pa="onselectstart"in a?!1:Kc(a.style,"userSelect"));if(Pa){var e=(a&&(a.ownerDocument||a.document||a).documentElement).style,f=e[Pa];e[Pa]="none"}return function(a){d.on(b,null);Pa&&(e[Pa]=f);if(a){var h=function(){d.on(c,null)};d.on(c,function(){Da();h()},!0);setTimeout(h,0)}}}function Sc(a,b){b.changedTouches&&(b=b.changedTouches[0]);
var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>Tc&&(c=Ca(a),c.scrollX||c.scrollY)){var c=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=c[0][0].getScreenCTM();Tc=!(e.f||e.e);c.remove()}Tc?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY);d=d.matrixTransform(a.getScreenCTM().inverse());return[d.x,d.y]}d=a.getBoundingClientRect();return[b.clientX-d.left-a.clientLeft,b.clientY-d.top-a.clientTop]}
function ch(){return i.event.changedTouches[0].identifier}function Uc(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Ga(a){return 1<a?K:-1>a?-K:Math.asin(a)}function we(a){return((a=Math.exp(a))+1/a)/2}function xe(a){return(a=Math.sin(a/2))*a}function Qa(){}function la(a,b,c){return this instanceof la?void(this.h=+a,this.s=+b,this.l=+c):2>arguments.length?a instanceof la?new la(a.h,a.s,a.l):ye(""+a,ze,la):new la(a,b,c)}function Vc(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=
360);return 60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f,a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,c=0>c?0:1<c?1:c;f=0.5>=c?c*(1+b):c+b-c*b;e=2*c-f;return new U(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function ga(a,b,c){return this instanceof ga?void(this.h=+a,this.c=+b,this.l=+c):2>arguments.length?a instanceof ga?new ga(a.h,a.c,a.l):a instanceof ha?Ae(a.l,a.a,a.b):Ae((a=Be((a=i.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ga(a,b,c)}function Wc(a,
b,c){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return new ha(c,Math.cos(a*=z)*b,Math.sin(a)*b)}function ha(a,b,c){return this instanceof ha?void(this.l=+a,this.a=+b,this.b=+c):2>arguments.length?a instanceof ha?new ha(a.l,a.a,a.b):a instanceof ga?Wc(a.h,a.c,a.l):Be((a=U(a)).r,a.g,a.b):new ha(a,b,c)}function Ce(a,b,c){a=(a+16)/116;c=a-c/200;b=Xc(a+b/500)*De;a=Xc(a)*Ee;c=Xc(c)*Fe;return new U(Yc(3.2404542*b-1.5371385*a-0.4985314*c),Yc(-0.969266*b+1.8760108*a+0.041556*c),Yc(0.0556434*b-0.2040259*a+1.0572252*c))}
function Ae(a,b,c){return 0<a?new ga(Math.atan2(c,b)*I,Math.sqrt(b*b+c*c),a):new ga(NaN,NaN,a)}function Xc(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function Zc(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Yc(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function U(a,b,c){return this instanceof U?void(this.r=~~a,this.g=~~b,this.b=~~c):2>arguments.length?a instanceof U?new U(a.r,a.g,a.b):ye(""+a,U,Vc):new U(a,b,c)}function Kb(a){return new U(a>>
16,a>>8&255,a&255)+""}function bb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function ye(a,b,c){var d=0,e=0,f=0,g,h;if(g=/([a-z]+)\((.*)\)/i.exec(a))switch(h=g[2].split(","),g[1]){case "hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case "rgb":return b($c(h[0]),$c(h[1]),$c(h[2]))}if(c=Lb.get(a.toLowerCase()))return b(c.r,c.g,c.b);if(null!=a&&"#"===a.charAt(0)&&!isNaN(c=parseInt(a.slice(1),16)))4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=
e>>4,f=c&15,f|=f<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,f=c&255);return b(d,e,f)}function ze(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g=(e+d)/2;f?(d=0.5>g?f/(e+d):f/(2-e-d),a=60*(a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-b)/f+4)):(a=NaN,d=0<g&&1>g?0:a);return new la(a,d,g)}function Be(a,b,c){var a=ad(a),b=ad(b),c=ad(c),d=Zc((0.4124564*a+0.3575761*b+0.1804375*c)/De),e=Zc((0.2126729*a+0.7151522*b+0.072175*c)/Ee),a=Zc((0.0193339*a+0.119192*b+0.9503041*c)/Fe);return ha(116*
e-16,500*(d-e),200*(e-a))}function ad(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function $c(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function H(a){return"function"===typeof a?a:function(){return a}}function bd(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return Mb(b,c,a,d)}}function Mb(a,b,c,d){function e(){var a=j.status,b,d;if(d=!a)d=(d=j.responseType)&&"text"!==d?j.response:j.responseText;if(d||200<=
a&&300>a||304===a){try{b=c.call(f,j)}catch(e){g.error.call(f,e);return}g.load.call(f,b)}else g.error.call(f,j)}var f={},g=i.dispatch("beforesend","progress","load","error"),h={},j=new XMLHttpRequest,k=null;this.XDomainRequest&&(!("withCredentials"in j)&&/^(http(s)?:)?\/\//.test(a))&&(j=new XDomainRequest);"onload"in j?j.onload=j.onerror=e:j.onreadystatechange=function(){3<j.readyState&&e()};j.onprogress=function(a){var b=i.event;i.event=a;try{g.progress.call(f,j)}finally{i.event=b}};f.header=function(a,
b){a=(a+"").toLowerCase();if(2>arguments.length)return h[a];null==b?delete h[a]:h[a]=b+"";return f};f.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return f};f.responseType=function(a){if(!arguments.length)return k;k=a;return f};f.response=function(a){c=a;return f};["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Fa(arguments)))}});f.send=function(c,d,e){2===arguments.length&&"function"===typeof d&&(e=d,d=null);j.open(c,a,!0);null!=b&&!("accept"in
h)&&(h.accept=b+",*/*");if(j.setRequestHeader)for(var i in h)j.setRequestHeader(i,h[i]);null!=b&&j.overrideMimeType&&j.overrideMimeType(b);null!=k&&(j.responseType=k);if(null!=e)f.on("error",e).on("load",function(a){e(null,a)});g.beforesend.call(f,j);j.send(null==d?null:d);return f};f.abort=function(){j.abort();return f};i.rebind(f,g,"on");return null==d?f:f.get(dh(d))}function dh(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function cd(){var a=Ge(),a=He()-a;24<a?(isFinite(a)&&(clearTimeout(Nb),
Nb=setTimeout(cd,a)),Ob=0):(Ob=1,Ie(cd))}function Ge(){var a=Date.now();for(va=Pb;va;)a>=va.t&&(va.f=va.c(a-va.t)),va=va.n;return a}function He(){for(var a,b=Pb,c=Infinity;b;)b.f?b=a?a.n=b.n:Pb=b.n:(b.t<c&&(c=b.t),b=(a=b).n);Qb=a;return c}function dd(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function eh(a){return a+""}function wa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Ra(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){b(c=
a(new R(c-1)),1);return c}function f(a,c){b(a=new R(+a),c);return a}function g(a,d,f){var a=e(a),h=[];if(1<f)for(;a<d;)c(a)%f||h.push(new Date(+a)),b(a,1);else for(;a<d;)h.push(new Date(+a)),b(a,1);return h}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=g;var h=a.utc=Rb(a);h.floor=h;h.round=Rb(d);h.ceil=Rb(e);h.offset=Rb(f);h.range=function(a,b,c){try{R=wa;var d=new wa;d._=a;return g(d,b,c)}finally{R=Date}};return a}function Rb(a){return function(b,c){try{R=wa;var d=new wa;d._=b;return a(d,c)._}finally{R=
Date}}}function V(a,b,c){var d=0>a?"-":"",a=(d?-a:a)+"",e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function Sb(a){return RegExp("^(?:"+a.map(i.requote).join("|")+")","i")}function Tb(a){for(var b=new sa,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function fh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function gh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):-1}function hh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c)))?
(a.W=+b[0],c+b[0].length):-1}function ih(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function jh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function kh(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function lh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function Je(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):
-1}function mh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function Ke(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function nh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function oh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function ph(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function qh(a){var b=a.getTimezoneOffset(),
a=0<b?"-":"+",c=x(b)/60|0,b=x(b)%60;return a+V(c,"0",2)+V(b,"0",2)}function rh(a,b,c){Le.lastIndex=0;return(a=Le.exec(b.slice(c,c+1)))?c+a[0].length:-1}function sh(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,f=a[c];!f[1](b);)f=a[++c];return f[0](b)}}function ed(){}function Me(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function Ub(a,b){if(a&&Ne.hasOwnProperty(a.type))Ne[a.type](a,b)}function fd(a,b,c){var d=-1,c=a.length-c,e;for(b.lineStart();++d<c;)e=a[d],
b.point(e[0],e[1],e[2]);b.lineEnd()}function Oe(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)fd(a[c],b,1);b.polygonEnd()}function th(){function a(a,b){var a=a*z,b=b*z/2+C/4,c=a-d,k=0<=c?1:-1,l=k*c,c=Math.cos(b),m=Math.sin(b),n=f*m,i=e*c+n*Math.cos(l),k=n*k*Math.sin(l);Sa.add(Math.atan2(k,i));d=a;e=c;f=m}var b,c,d,e,f;X.point=function(g,h){X.point=a;d=(b=g)*z;e=Math.cos(h=(c=h)*z/2+C/4);f=Math.sin(h)};X.lineEnd=function(){a(b,c)}}function Ta(a){var b=a[0],a=a[1],c=Math.cos(a);return[c*Math.cos(b),
c*Math.sin(b),Math.sin(a)]}function Vb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function gd(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Wb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Xb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Yb(a){return[Math.atan2(a[1],a[0]),Ga(a[2])]}function Zb(a,b){return x(a[0]-b[0])<t&&x(a[1]-b[1])<t}function hd(a,b){var a=a*z,c=Math.cos(b*=z);
sb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function sb(a,b,c){++tb;xa+=(a-xa)/tb;ya+=(b-ya)/tb;ma+=(c-ma)/tb}function Pe(){function a(a,f){var a=a*z,g=Math.cos(f*=z),h=g*Math.cos(a),g=g*Math.sin(a),j=Math.sin(f),k=Math.atan2(Math.sqrt((k=c*j-d*g)*k+(k=d*h-b*j)*k+(k=b*g-c*h)*k),b*h+c*g+d*j);db+=k;ba+=k*(b+(b=h));ca+=k*(c+(c=g));W+=k*(d+(d=j));sb(b,c,d)}var b,c,d;ia.point=function(e,f){var e=e*z,g=Math.cos(f*=z);b=g*Math.cos(e);c=g*Math.sin(e);d=Math.sin(f);ia.point=a;sb(b,c,d)}}function Qe(){ia.point=
hd}function uh(){function a(a,b){var a=a*z,c=Math.cos(b*=z),k=c*Math.cos(a),c=c*Math.sin(a),l=Math.sin(b),m=e*l-f*c,n=f*k-d*l,i=d*c-e*k,q=Math.sqrt(m*m+n*n+i*i),r=d*k+e*c+f*l,s=q&&-(1<r?0:-1>r?C:Math.acos(r))/q,q=Math.atan2(q,r);Ha+=s*m;Ia+=s*n;na+=s*i;db+=q;ba+=q*(d+(d=k));ca+=q*(e+(e=c));W+=q*(f+(f=l));sb(d,e,f)}var b,c,d,e,f;ia.point=function(g,h){b=g;c=h;ia.point=a;var g=g*z,j=Math.cos(h*=z);d=j*Math.cos(g);e=j*Math.sin(g);f=Math.sin(h);sb(d,e,f)};ia.lineEnd=function(){a(b,c);ia.lineEnd=Qe;ia.point=
hd}}function Re(a,b){function c(c,e){return c=a(c,e),b(c[0],c[1])}a.invert&&b.invert&&(c.invert=function(c,e){return c=b.invert(c,e),c&&a.invert(c[0],c[1])});return c}function eb(){return!0}function Se(a,b,c,d,e){var f=[],g=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(Zb(c,d)){e.lineStart();for(d=0;d<b;++d)e.point((c=a[d])[0],c[1]);e.lineEnd()}else b=new $b(c,a,null,!0),c=new $b(c,null,b,!1),b.o=c,f.push(b),g.push(c),b=new $b(d,a,null,!1),c=new $b(d,null,b,!0),b.o=c,f.push(b),
g.push(c)}});g.sort(b);Te(f);Te(g);if(f.length){a=0;b=c;for(c=g.length;a<c;++a)g[a].e=b=!b;for(var b=f[0],h,j;;){for(var k=b,l=!0;k.v;)if((k=k.n)===b)return;h=k.z;e.lineStart();do{k.v=k.o.v=!0;if(k.e){if(l){a=0;for(c=h.length;a<c;++a)e.point((j=h[a])[0],j[1])}else d(k.x,k.n.x,1,e);k=k.n}else{if(l){h=k.p.z;for(a=h.length-1;0<=a;--a)e.point((j=h[a])[0],j[1])}else d(k.x,k.p.x,-1,e);k=k.p}k=k.o;h=k.z;l=!l}while(!k.v);e.lineEnd()}}}function Te(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],
e.p=d,d=e;d.n=e=a[0];e.p=d}}function $b(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function Ue(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);o.point(c[0],c[1])}function j(){r.point=h;o.lineStart()}function k(){r.point=g;o.lineEnd()}function l(a,b){B.push([a,b]);var c=e(a,b);w.point(c[0],c[1])}function m(){w.lineStart();B=[]}function n(){l(B[0][0],B[0][1]);w.lineEnd();var a=w.clean(),b=u.buffer(),
c=b.length;B.pop();y.push(B);B=null;if(c)if(a&1){var a=b[0],c=a.length-1,b=-1,d;if(0<c){p||(f.polygonStart(),p=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),s.push(b.filter(vh))}var o=b(f),q=e.invert(d[0],d[1]),r={point:g,lineStart:j,lineEnd:k,polygonStart:function(){r.point=l;r.lineStart=m;r.lineEnd=n;s=[];y=[]},polygonEnd:function(){r.point=g;r.lineStart=j;r.lineEnd=k;s=i.merge(s);var a,b=q;a=y;var d=b[0],e=b[1],h=[Math.sin(d),
-Math.cos(d),0],l=0,m=0;Sa.reset();for(var n=0,o=a.length;n<o;++n){var u=a[n],w=u.length;if(w)for(var B=u[0],ea=B[0],b=B[1]/2+C/4,oa=Math.sin(b),v=Math.cos(b),z=1;;){z===w&&(z=0);var b=u[z],x=b[0],ub=b[1]/2+C/4,Xe=Math.sin(ub),ub=Math.cos(ub),gb=x-ea,id=0<=gb?1:-1,jd=id*gb,E=jd>C,oa=oa*Xe;Sa.add(Math.atan2(oa*id*Math.sin(jd),v*ub+oa*Math.cos(jd)));l+=E?gb+id*Z:gb;if(E^ea>=d^x>=d&&(B=cb(Ta(B),Ta(b)),Xb(B),ea=cb(h,B),Xb(ea),ea=(E^0<=gb?-1:1)*Ga(ea[2]),e>ea||e===ea&&(B[0]||B[1])))m+=E^0<=gb?1:-1;if(!z++)break;
ea=x;oa=Xe;v=ub;B=b}}a=(l<-t||l<t&&0>Sa)^m&1;s.length?(p||(f.polygonStart(),p=!0),Se(s,wh,a,c,f)):a&&(p||(f.polygonStart(),p=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());p&&(f.polygonEnd(),p=!1);s=y=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},s,u=Ye(),w=b(u),p=!1,y,B;return r}}function vh(a){return 1<a.length}function Ye(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,d){b.push([a,d])},lineEnd:M,buffer:function(){var c=
a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}function wh(a,b){return(0>(a=a.x)[0]?a[1]-K-t:K-a[1])-(0>(b=b.x)[0]?b[1]-K-t:K-b[1])}function Ze(a,b,c,d){return function(e){var f=e.a,g=e.b,h=f.x,f=f.y,j=0,k=1,l=g.x-h,g=g.y-f,m;m=a-h;if(l||!(0<m)){m/=l;if(0>l){if(m<j)return;m<k&&(k=m)}else if(0<l){if(m>k)return;m>j&&(j=m)}m=c-h;if(l||!(0>m)){m/=l;if(0>l){if(m>k)return;m>j&&(j=m)}else if(0<l){if(m<j)return;m<k&&(k=m)}m=b-f;if(g||!(0<m)){m/=g;if(0>g){if(m<j)return;
m<k&&(k=m)}else if(0<g){if(m>k)return;m>j&&(j=m)}m=d-f;if(g||!(0>m)){m/=g;if(0>g){if(m>k)return;m>j&&(j=m)}else if(0<g){if(m<j)return;m<k&&(k=m)}0<j&&(e.a={x:h+j*l,y:f+j*g});1>k&&(e.b={x:h+k*l,y:f+k*g});return e}}}}}}function $e(a,b,c,d){function e(d,e){return x(d[0]-a)<t?0<e?0:3:x(d[0]-c)<t?0<e?2:1:x(d[1]-b)<t?0<e?1:0:0<e?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function j(f,
h,j,k){var l=0,m=0;if(null==f||(l=e(f,j))!==(m=e(h,j))||0>g(f,h)^0<j){do k.point(0===l||3===l?a:c,1<l?d:b);while((l=(l+j+4)%4)!==m)}else k.point(h[0],h[1])}function k(e,f){a<=e&&(e<=c&&b<=f&&f<=d)&&h.point(e,f)}function l(e,f){var e=Math.max(-ac,Math.min(ac,e)),f=Math.max(-ac,Math.min(ac,f)),g=a<=e&&e<=c&&b<=f&&f<=d;r&&s.push([e,f]);if(Y)w=e,p=f,y=g,Y=!1,g&&(h.lineStart(),h.point(e,f));else if(g&&A)h.point(e,f);else{var j={a:{x:B,y:D},b:{x:e,y:f}};o(j)?(A||(h.lineStart(),h.point(j.a.x,j.a.y)),h.point(j.b.x,
j.b.y),g||h.lineEnd(),J=!1):g&&(h.lineStart(),h.point(e,f),J=!1)}B=e;D=f;A=g}var m=h,n=Ye(),o=Ze(a,b,c,d),q,r,s,u={point:k,lineStart:function(){u.point=l;r&&r.push(s=[]);Y=!0;A=!1;B=D=NaN},lineEnd:function(){q&&(l(w,p),y&&A&&n.rejoin(),q.push(n.buffer()));u.point=k;A&&h.lineEnd()},polygonStart:function(){h=n;q=[];r=[];J=!0},polygonEnd:function(){h=m;q=i.merge(q);var b;b=[a,d];for(var c=0,e=r.length,g=b[1],k=0;k<e;++k)for(var l=1,n=r[k],p=n.length,o=n[0],u;l<p;++l)u=n[l],o[1]<=g?u[1]>g&&0<Uc(o,u,b)&&
++c:u[1]<=g&&0>Uc(o,u,b)&&--c,o=u;b=0!==c;c=J&&b;e=q.length;if(c||e)h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Se(q,f,b,j,h),h.polygonEnd();q=r=s=null}},w,p,y,B,D,A,Y,J;return u}}function kd(a){var b=0,c=C/3,d=ld(a),a=d(b,c);a.parallels=function(a){return!arguments.length?[180*(b/C),180*(c/C)]:d(b=a[0]*C/180,c=a[1]*C/180)};return a}function af(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/
2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,Ga((f-(a*a+c*c)*e*e)/(2*e))]};return c}function xh(){function a(a,b){bc+=e*a-d*b;d=a;e=b}var b,c,d,e;Ja.point=function(f,g){Ja.point=a;b=d=f;c=e=g};Ja.lineEnd=function(){a(b,c)}}function yh(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b);h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=bf(4.5),g=[],h={point:a,lineStart:function(){h.point=
b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d;h.point=a},pointRadius:function(a){f=bf(a);return h},result:function(){if(g.length){var a=g.join("");g=[];return a}}};return h}function bf(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ua(a,b){xa+=a;ya+=b;++ma}function cf(){function a(a,e){var f=a-b,g=e-c,f=Math.sqrt(f*f+g*g);ba+=f*(b+a)/2;ca+=f*(c+e)/2;W+=f;Ua(b=a,c=e)}var b,c;ja.point=function(d,e){ja.point=a;Ua(b=d,c=e)}}
function df(){ja.point=Ua}function zh(){function a(a,b){var c=a-d,j=b-e,c=Math.sqrt(c*c+j*j);ba+=c*(d+a)/2;ca+=c*(e+b)/2;W+=c;c=e*a-d*b;Ha+=c*(d+a);Ia+=c*(e+b);na+=3*c;Ua(d=a,e=b)}var b,c,d,e;ja.point=function(f,g){ja.point=a;Ua(b=d=f,c=e=g)};ja.lineEnd=function(){a(b,c)}}function Ah(a){function b(b,c){a.moveTo(b+g,c);a.arc(b,c,g,0,Z)}function c(b,c){a.moveTo(b,c);h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=
c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e;h.point=b},pointRadius:function(a){g=a;return h},result:M};return h}function ef(a){function b(a){return(h?d:c)(a)}function c(b){return ff(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,e){d=a(d,e);b.point(d[0],d[1])}function d(){A=NaN;F.point=f;b.lineStart()}function f(c,d){var g=Ta([c,d]),k=a(c,d);e(A,Y,D,J,S,G,A=k[0],Y=k[1],D=c,J=g[0],S=g[1],G=g[2],h,b);b.point(A,Y)}function g(){F.point=
c;b.lineEnd()}function i(){d();F.point=q;F.lineEnd=r}function q(a,b){f(s=a,b);u=A;w=Y;p=J;y=S;B=G;F.point=f}function r(){e(A,Y,D,J,S,G,u,w,s,p,y,B,h,b);F.lineEnd=g;g()}var s,u,w,p,y,B,D,A,Y,J,S,G,F={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart();F.lineStart=i},polygonEnd:function(){b.polygonEnd();F.lineStart=d}};return F}function e(b,c,d,h,n,i,q,r,s,u,w,p,y,B){var D=q-b,A=r-c,Y=D*D+A*A;if(Y>4*f&&y--){var J=h+u,S=n+w,G=i+p,F=Math.sqrt(J*J+S*S+G*G),fb=Math.asin(G/=F),v=x(x(G)-
1)<t||x(d-s)<t?(d+s)/2:Math.atan2(S,J),da=a(v,fb),fb=da[0],da=da[1],Ve=fb-b,We=da-c,ea=A*Ve-D*We;if(ea*ea/Y>f||0.3<x((D*Ve+A*We)/Y-0.5)||h*u+n*w+i*p<g)e(b,c,d,h,n,i,fb,da,v,J/=F,S/=F,G,y,B),B.point(fb,da),e(fb,da,v,J,S,G,q,r,s,u,w,p,y,B)}}var f=0.5,g=Math.cos(30*z),h=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(f);h=0<(f=a*a)&&16;return b};return b}function gf(a){this.stream=a}function ff(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},
polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Ka(a){return ld(function(){return a})()}function ld(a){function b(a){a=h(a[0]*z,a[1]*z);return[a[0]*k+u,w-a[1]*k]}function c(a){return(a=h.invert((a[0]-u)/k,(w-a[1])/k))&&[a[0]*I,a[1]*I]}function d(){h=Re(g=md(q,r,s),f);var a=f(n,o);u=l-a[0]*k;w=m+a[1]*k;return e()}function e(){A&&(A.valid=!1,A=null);return b}var f,g,h,j=ef(function(a,b){a=f(a,b);return[a[0]*k+u,w-a[1]*k]}),k=150,l=480,m=250,n=0,o=0,q=0,r=0,
s=0,u,w,p=hf,y=P,B=null,D=null,A;b.stream=function(a){A&&(A.valid=!1);A=jf(p(g,j(y(a))));A.valid=!0;return A};b.clipAngle=function(a){if(!arguments.length)return B;var b;if(null==a)b=(B=a,hf);else{var c=(B=+a)*z,d=function(a,b){return Math.cos(a)*Math.cos(b)>g},f=function(a,b,c){var d=Ta(a),e=Ta(b),f=[1,0,0],e=cb(d,e),h=Vb(e,e),d=e[0],j=h-d*d;if(!j)return!c&&a;h=g*h/j;j=-g*d/j;d=cb(f,e);f=Wb(f,h);e=Wb(e,j);gd(f,e);e=Vb(f,d);h=Vb(d,d);j=e*e-h*(Vb(f,f)-1);if(!(0>j)){var k=Math.sqrt(j),j=Wb(d,(-e-k)/
h);gd(j,f);j=Yb(j);if(!c)return j;var c=a[0],l=b[0],a=a[1],b=b[1],m;l<c&&(m=c,c=l,l=m);var n=l-c,i=x(n-C)<t,p=i||n<t;!i&&b<a&&(m=a,a=b,b=m);if(p?i?0<a+b^j[1]<(x(j[0]-c)<t?a:b):a<=j[1]&&j[1]<=b:n>C^(c<=j[0]&&j[0]<=l))return b=Wb(d,(-e+k)/h),gd(b,f),[j,Yb(b)]}},h=function(a,b){var d=j?c:C-c,e=0;a<-d?e|=1:a>d&&(e|=2);b<-d?e|=4:b>d&&(e|=8);return e},g=Math.cos(c),j=0<g,k=x(g)>t;b=nd(c,6*z);b=Ue(d,function(a){var b,c,e,g,l;return{lineStart:function(){g=e=!1;l=1},point:function(m,n){var i=[m,n],p,s=d(m,
n),r=j?s?0:h(m,n):s?h(m+(0>m?C:-C),n):0;!b&&(g=e=s)&&a.lineStart();if(s!==e&&(p=f(b,i),Zb(b,p)||Zb(i,p)))i[0]+=t,i[1]+=t,s=d(i[0],i[1]);if(s!==e)l=0,s?(a.lineStart(),p=f(i,b),a.point(p[0],p[1])):(p=f(b,i),a.point(p[0],p[1]),a.lineEnd()),b=p;else if(k&&b&&j^s){var o;if(!(r&c)&&(o=f(i,b,!0)))l=0,j?(a.lineStart(),a.point(o[0][0],o[0][1]),a.point(o[1][0],o[1][1]),a.lineEnd()):(a.point(o[1][0],o[1][1]),a.lineEnd(),a.lineStart(),a.point(o[0][0],o[0][1]))}s&&(!b||!Zb(b,i))&&a.point(i[0],i[1]);b=i;e=s;c=
r},lineEnd:function(){e&&a.lineEnd();b=null},clean:function(){return l|(g&&e)<<1}}},b,j?[0,-c]:[-C,c-C])}p=b;return e()};b.clipExtent=function(a){if(!arguments.length)return D;y=(D=a)?$e(a[0][0],a[0][1],a[1][0],a[1][1]):P;return e()};b.scale=function(a){if(!arguments.length)return k;k=+a;return d()};b.translate=function(a){if(!arguments.length)return[l,m];l=+a[0];m=+a[1];return d()};b.center=function(a){if(!arguments.length)return[n*I,o*I];n=a[0]%360*z;o=a[1]%360*z;return d()};b.rotate=function(a){if(!arguments.length)return[q*
I,r*I,s*I];q=a[0]%360*z;r=a[1]%360*z;s=2<a.length?a[2]%360*z:0;return d()};i.rebind(b,j,"precision");return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function jf(a){return ff(a,function(b,c){a.point(b*z,c*z)})}function vb(a,b){return[a,b]}function kf(a,b){return[a>C?a-Z:a<-C?a+Z:a,b]}function md(a,b,c){return a?b||c?Re(lf(a),mf(b,c)):lf(a):b||c?mf(b,c):kf}function nf(a){return function(b,c){return b+=a,[b>C?b-Z:b<-C?b+Z:b,c]}}function lf(a){var b=nf(a);b.invert=nf(-a);
return b}function mf(a,b){function c(a,b){var c=Math.cos(b),l=Math.cos(a)*c,c=Math.sin(a)*c,m=Math.sin(b),i=m*d+l*e;return[Math.atan2(c*f-i*g,l*d-m*e),Ga(i*f+c*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);c.invert=function(a,b){var c=Math.cos(b),l=Math.cos(a)*c,c=Math.sin(a)*c,m=Math.sin(b),i=m*f-c*g;return[Math.atan2(c*f+m*g,l*d+i*e),Ga(i*d-l*e)]};return c}function nd(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var j=g*b;if(null!=e){if(e=of(c,e),f=of(c,f),0<g?
e<f:e>f)e+=g*Z}else e=a+g*Z,f=a-0.5*j;for(var k;0<g?e>f:e<f;e-=j)h.point((k=Yb([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],k[1])}}function of(a,b){var c=Ta(b);c[0]-=a;Xb(c);var d=1<-c[1]?0:-1>-c[1]?C:Math.acos(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-t)%(2*Math.PI)}function pf(a,b,c){var d=i.range(a,b-t,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function qf(a,b,c){var d=i.range(a,b-t,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function od(a){return a.source}
function pd(a){return a.target}function wb(a,b){function c(b,c){var f=Math.cos(b),g=Math.cos(c),f=a(f*g);return[f*g*Math.sin(b),f*Math.sin(c)]}c.invert=function(a,c){var f=Math.sqrt(a*a+c*c),g=b(f),h=Math.sin(g),g=Math.cos(g);return[Math.atan2(a*h,f*g),Math.asin(f&&c*h/f)]};return c}function rf(a,b){function c(a,b){0<f?b<-K+t&&(b=-K+t):b>K-t&&(b=K-t);var c=f/Math.pow(Math.tan(C/4+b/2),e);return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(C/
4+b/2)/Math.tan(C/4+a/2)),f=d*Math.pow(Math.tan(C/4+a/2),e)/e;if(!e)return cc;c.invert=function(a,b){var c=f-b,d=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-K]};return c}function sf(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;if(x(e)<t)return vb;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return c}function cc(a,
b){return[a,Math.log(Math.tan(C/4+b/2))]}function tf(a){var b=Ka(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var h=e.apply(b,arguments);if(h===b){if(f=null==a){var j=C*c(),k=d();e([[k[0]-j,k[1]-j],[k[0]+j,k[1]+j]])}}else f&&(h=null);return h};return b.clipExtent(null)}function qd(a,b){return[Math.log(Math.tan(C/
4+b/2)),-a]}function hb(a){return a[0]}function xb(a){return a[1]}function uf(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=Uc(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function Bh(a,b){return a[0]-b[0]||a[1]-b[1]}function rd(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function sd(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,a=a[1],c=c[1],b=b[1]-a,d=d[1]-c,f=(h*(a-c)-d*(e-f))/(d*g-h*b);return[e+f*g,a+f*b]}function vf(a){var b=a[0],a=a[a.length-1];return!(b[0]-
a[0]||b[1]-a[1])}function Ch(){dc(this);this.edge=this.site=this.circle=null}function wf(a){var b=xf.pop()||new Ch;b.site=a;return b}function td(a){ib(a);jb.remove(a);xf.push(a);dc(a)}function yf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-Infinity;var c=g.site,g=c.x,c=c.y,h=c-b;if(!h)return g;var j=g-d,k=1/f-1/h,l=j/h;return k?(-l+Math.sqrt(l*l-2*k*(j*j/(-2*h)-c+h/2+e-f/2)))/k+d:(d+g)/2}function zf(a){this.site=a;this.edges=[]}function Af(a,b){return b.angle-a.angle}
function Dh(){dc(this);this.x=this.y=this.arc=this.site=this.cy=null}function kb(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,g=d.x-c,h=d.y-f,d=e.x-c,e=e.y-f,j=2*(g*e-h*d);if(!(j>=-ud)){var k=g*g+h*h,l=d*d+e*e,h=(e*k-h*l)/j,g=(g*l-d*k)/j,e=g+f,f=Bf.pop()||new Dh;f.arc=a;f.site=b;f.x=h+c;f.y=e+Math.sqrt(h*h+g*g);f.cy=e;a.circle=f;a=null;for(b=yb._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}yb.insert(a,f);
a||(vd=f)}}}}function ib(a){var b=a.circle;b&&(b.P||(vd=b.N),yb.remove(b),Bf.push(b),dc(b),a.circle=null)}function Eh(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],f=b[0][1],g=b[1][1],h=a.l,j=a.r,k=h.x,h=h.y,l=j.x,j=j.y,m=(k+l)/2,i;if(j===h){if(m<c||m>=e)return;if(k>l){if(d){if(d.y>=g)return}else d={x:m,y:f};c={x:m,y:g}}else{if(d){if(d.y<f)return}else d={x:m,y:g};c={x:m,y:f}}}else if(i=(k-l)/(j-h),m=(h+j)/2-i*m,-1>i||1<i)if(k>l){if(d){if(d.y>=g)return}else d={x:(f-m)/i,y:f};c={x:(g-m)/
i,y:g}}else{if(d){if(d.y<f)return}else d={x:(g-m)/i,y:g};c={x:(f-m)/i,y:f}}else if(h<j){if(d){if(d.x>=e)return}else d={x:c,y:i*c+m};c={x:e,y:i*e+m}}else{if(d){if(d.x<c)return}else d={x:e,y:i*e+m};c={x:c,y:i*c+m}}a.a=d;a.b=c;return!0}function Cf(a,b){this.l=a;this.r=b;this.a=this.b=null}function zb(a,b,c,d){var e=new Cf(a,b);lb.push(e);c&&ec(e,a,b,c);d&&ec(e,b,a,d);Va[a.i].edges.push(new fc(e,a,b));Va[b.i].edges.push(new fc(e,b,a));return e}function Fh(a,b,c){a=new Cf(a,null);a.a=b;a.b=c;lb.push(a);
return a}function ec(a,b,c,d){!a.a&&!a.b?(a.a=d,a.l=b,a.r=c):a.l===c?a.b=d:a.a=d}function fc(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function wd(){this._=null}function dc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Ab(a,b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Bb(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&
(b.L.U=b);c.R=b}function Df(a){for(;a.L;)a=a.L;return a}function xd(a,b){var c=a.sort(Gh).pop(),d,e,f;lb=[];Va=Array(a.length);jb=new wd;for(yb=new wd;;)if(f=vd,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){Va[c.i]=new zf(c);d=c;for(var g=d.x,h=d.y,j=f=e=void 0,k=void 0,l=jb._;l;)if(j=yf(l,h)-g,j>t)l=l.L;else{var k=g,m;var i=l;m=h;var o=i.N;o?m=yf(o,m):(i=i.site,m=i.y===m?i.x:Infinity);k-=m;if(k>t){if(!l.R){e=l;break}l=l.R}else{j>-t?(e=l.P,f=l):k>-t?(e=l,f=l.N):e=f=l;break}}g=wf(d);jb.insert(e,
g);if(e||f)if(e===f)ib(e),f=wf(e.site),jb.insert(g,f),g.edge=f.edge=zb(e.site,g.site),kb(e),kb(f);else if(f){ib(e);ib(f);h=e.site;l=h.x;k=h.y;m=d.x-l;var i=d.y-k,j=f.site,o=j.x-l,q=j.y-k,r=2*(m*q-i*o),s=m*m+i*i,u=o*o+q*q,l={x:(q*s-i*u)/r+l,y:(m*u-o*s)/r+k};ec(f.edge,h,j,l);g.edge=zb(h,d,null,l);f.edge=zb(d,j,null,l);kb(e);kb(f)}else g.edge=zb(e.site,g.site);d=c.x;e=c.y}c=a.pop()}else if(f){j=f.arc;f=j.circle;h=f.x;l=f.cy;f={x:h,y:l};m=j.P;k=j.N;g=[j];td(j);for(j=m;j.circle&&x(h-j.circle.x)<t&&x(l-
j.circle.cy)<t;)m=j.P,g.unshift(j),td(j),j=m;g.unshift(j);ib(j);for(m=k;m.circle&&x(h-m.circle.x)<t&&x(l-m.circle.cy)<t;)k=m.N,g.push(m),td(m),m=k;g.push(m);ib(m);h=g.length;l=void 0;for(l=1;l<h;++l)m=g[l],j=g[l-1],ec(m.edge,j.site,m.site,f);j=g[0];m=g[h-1];m.edge=zb(j.site,m.site,null,f);kb(j);kb(m)}else break;if(b){c=lb;d=Ze(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=c.length;e--;)if(f=c[e],!Eh(f,b)||!d(f)||x(f.a.x-f.b.x)<t&&x(f.a.y-f.b.y)<t)f.a=f.b=null,c.splice(e,1);c=b[0][0];d=b[1][0];e=b[0][1];
f=b[1][1];l=Va;for(k=l.length;k--;)if((m=l[k])&&m.prepare()){o=m.edges;q=o.length;for(i=0;i<q;)if(r=o[i].end(),h=r.x,j=r.y,s=o[++i%q].start(),g=s.x,s=s.y,x(h-g)>t||x(j-s)>t)o.splice(i,0,new fc(Fh(m.site,r,x(h-c)<t&&f-j>t?{x:c,y:x(g-c)<t?s:f}:x(j-f)<t&&d-h>t?{x:x(s-f)<t?g:d,y:f}:x(h-d)<t&&j-e>t?{x:d,y:x(g-d)<t?s:e}:x(j-e)<t&&h-c>t?{x:x(s-e)<t?g:c,y:e}:null),m.site,null)),++q}}c={cells:Va,edges:lb};jb=yb=lb=Va=null;return c}function Gh(a,b){return b.y-a.y||b.x-a.x}function Hh(a){return a.x}function Ih(a){return a.y}
function Ef(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Cb(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=0.5*(c+e),h=0.5*(d+f),b=b.nodes;b[0]&&Cb(a,b[0],c,d,g,h);b[1]&&Cb(a,b[1],g,d,e,h);b[2]&&Cb(a,b[2],c,h,g,f);b[3]&&Cb(a,b[3],g,h,e,f)}}function yd(a,b){var a=i.rgb(a),b=i.rgb(b),c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+bb(Math.round(c+f*a))+bb(Math.round(d+g*a))+bb(Math.round(e+h*a))}}function Ff(a,b){var c={},d={},e;for(e in a)e in b?c[e]=Wa(a[e],b[e]):d[e]=
a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function za(a,b){a=+a;b=+b;return function(c){return a*(1-c)+b*c}}function Gf(a,b){for(var c=zd.lastIndex=Ad.lastIndex=0,d,e,f,g=-1,h=[],j=[],a=a+"",b=b+"";(d=zd.exec(a))&&(e=Ad.exec(b));){if((f=e.index)>c)f=b.slice(c,f),h[g]?h[g]+=f:h[++g]=f;(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,j.push({i:g,x:za(d,e)}));c=Ad.lastIndex}c<b.length&&(f=b.slice(c),h[g]?h[g]+=f:h[++g]=f);return 2>h.length?j[0]?(b=
j[0].x,function(a){return b(a)+""}):function(){return b}:(b=j.length,function(a){for(var c=0,d;c<b;++c)h[(d=j[c]).i]=d.x(a);return h.join("")})}function Wa(a,b){for(var c=i.interpolators.length,d;0<=--c&&!(d=i.interpolators[c](a,b)););return d}function gc(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(Wa(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function Hf(a){return function(b){return 1-
a(1-b)}}function If(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function Jh(a){return a*a}function Kh(a){return a*a*a}function Lh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)}function Mh(a){return 1-Math.cos(a*K)}function Nh(a){return Math.pow(2,10*(a-1))}function Oh(a){return 1-Math.sqrt(1-a*a)}function Ph(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+
0.984375}function Jf(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function Kf(a){var b=[a.a,a.b],c=[a.c,a.d],d=Lf(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]+=f*b[0];c[1]+=f*b[1];f=Lf(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*I;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*I:0}function Lf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function Mf(a,b){var c=[],d=[],e,f=i.transform(a),
g=i.transform(b),h=f.translate,j=g.translate,k=f.rotate,l=g.rotate,m=f.skew,n=g.skew,f=f.scale,g=g.scale;h[0]!=j[0]||h[1]!=j[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:za(h[0],j[0])},{i:3,x:za(h[1],j[1])})):j[0]||j[1]?c.push("translate("+j+")"):c.push("");k!=l?(180<k-l?l+=360:180<l-k&&(k+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:za(k,l)})):l&&c.push(c.pop()+"rotate("+l+")");m!=n?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:za(m,n)}):n&&c.push(c.pop()+"skewX("+n+")");
f[0]!=g[0]||f[1]!=g[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:za(f[0],g[0])},{i:e-2,x:za(f[1],g[1])})):(1!=g[0]||1!=g[1])&&c.push(c.pop()+"scale("+g+")");e=d.length;return function(a){for(var b=-1,f;++b<e;)c[(f=d[b]).i]=f.x(a);return c.join("")}}function Qh(a,b){b=(b-=a=+a)||1/b;return function(c){return(c-a)/b}}function Rh(a,b){b=(b-=a=+a)||1/b;return function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Sh(a){var b=a.source,a=a.target,c;var d=a;if(b===d)c=b;else{c=
Nf(b);for(var d=Nf(d),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();c=g}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function Nf(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function Th(a){a.fixed|=2}function Uh(a){a.fixed&=-7}function Vh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Wh(a){a.fixed&=-5}function Of(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var f=a.nodes,g=f.length,h=-1,j;++h<g;)j=f[h],null!=
j&&(Of(j,b,c),a.charge+=j.charge,d+=j.charge*j.cx,e+=j.charge*j.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Db(a,b){i.rebind(a,b,"sort","children","value");a.nodes=a;a.links=Xh;return a}function Eb(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function pa(a,b){for(var c=[a],d=[];null!=
(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var e=-1,f,g;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function Yh(a){return a.children}function Zh(a){return a.value}function $h(a,b){return b.value-a.value}function Xh(a){return i.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function ai(a){return a.x}function bi(a){return a.y}function ci(a,b,c){a.y0=b;a.y=c}function Bd(a){return i.range(a.length)}function Cd(a){for(var b=-1,a=a[0].length,
c=[];++b<a;)c[b]=0;return c}function di(a){for(var b=1,c=0,d=a[0][1],e,f=a.length;b<f;++b)if((e=a[b][1])>d)c=b,d=e;return c}function ei(a){return a.reduce(fi,0)}function fi(a,b){return a+b[1]}function gi(a,b){return Pf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Pf(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function hi(a){return[i.min(a),i.max(a)]}function ii(a,b){return a.value-b.value}function Dd(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=
c;c._pack_prev=b}function Qf(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return 0.999*e*e>c*c+d*d}function Rf(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);g=Math.max(a.y+a.r,g)}if((c=a.children)&&(o=c.length)){var c,d=Infinity,e=-Infinity,f=Infinity,g=-Infinity,h,j,k,l,i,n,o;c.forEach(ji);h=c[0];h.x=-h.r;h.y=0;b(h);if(1<o&&(j=c[1],j.x=j.r,j.y=0,b(j),2<o)){k=c[2];Sf(h,j,k);b(k);Dd(h,k);h._pack_prev=k;Dd(k,j);j=h._pack_next;for(l=3;l<o;l++){Sf(h,j,k=c[l]);var q=0,r=
1,s=1;for(i=j._pack_next;i!==j;i=i._pack_next,r++)if(Qf(i,k)){q=1;break}if(1==q)for(n=h._pack_prev;n!==i._pack_prev&&!Qf(n,k);n=n._pack_prev,s++);q?(r<s||r==s&&j.r<h.r?(k=h,i=j=i):(k=h=n,i=j),k._pack_next=i,i._pack_prev=k,l--):(Dd(h,k),j=k,b(k))}}h=(d+e)/2;j=(f+g)/2;for(l=n=0;l<o;l++)k=c[l],k.x-=h,k.y-=j,n=Math.max(n,k.r+Math.sqrt(k.x*k.x+k.y*k.y));a.r=n;c.forEach(ki)}}function ji(a){a._pack_next=a._pack_prev=a}function ki(a){delete a._pack_next;delete a._pack_prev}function Tf(a,b,c,d){var e=a.children;
a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e)for(var a=-1,f=e.length;++a<f;)Tf(e[a],b,c,d)}function Sf(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f,g=g*g,d=d*d,b=0.5+(d-g)/(2*h),g=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+b*e+g*f;c.y=a.y+b*f-g*e}else c.x=a.x+d,c.y=a.y}function Uf(a,b){return a.parent==b.parent?1:2}function Ed(a){var b=a.children;return b.length?b[0]:a.t}function Fd(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Vf(a){var b=
a.children;return b&&b.length?Vf(b[0]):a}function Wf(a){var b=a.children,c;return b&&(c=b.length)?Wf(b[c-1]):a}function Gd(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Xf(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>f&&(d+=f/2,f=0);return{x:c,y:d,dx:e,dy:f}}function mb(a){var b=a[0],a=a[a.length-1];return b<a?[b,a]:[a,b]}function hc(a){return a.rangeExtent?a.rangeExtent():mb(a.range())}function li(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}
function ic(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);a[c]=b.floor(e);a[d]=b.ceil(f);return a}function Yf(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:mi}function ni(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=i.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Zf(a,
b,c,d){function e(){var e=2<Math.min(a.length,b.length)?ni:li,k=d?Rh:Qh;g=e(a,b,k,c);h=e(b,a,k,Wa);return f}function f(a){return g(a)}var g,h;f.invert=function(a){return h(a)};f.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};f.range=function(a){if(!arguments.length)return b;b=a;return e()};f.rangeRound=function(a){return f.range(a).interpolate(Jf)};f.clamp=function(a){if(!arguments.length)return d;d=a;return e()};f.interpolate=function(a){if(!arguments.length)return c;
c=a;return e()};f.ticks=function(b){return i.range.apply(i,La(a,b))};f.tickFormat=function(b,c){return Hd(a,b,c)};f.nice=function(b){ic(a,Yf(La(a,b)[2]));return e()};f.copy=function(){return Zf(a,b,c,d)};return e()}function Id(a,b){return i.rebind(a,b,"range","rangeRound","interpolate","clamp")}function La(a,b){null==b&&(b=10);var c=mb(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;0.15>=d?e*=10:0.35>=d?e*=5:0.75>=d&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/
e)*e+0.5*e;c[2]=e;return c}function Hd(a,b,c){b=La(a,b);if(c){a=$f.exec(c);a.shift();if("s"===a[8]){var d=i.formatPrefix(Math.max(x(b[0]),x(b[1])));a[7]||(a[7]="."+jc(d.scale(b[2])));a[8]="f";c=i.format(a.join(""));return function(a){return c(d.scale(a))+d.symbol}}if(!a[7]){var e=a[8],f=jc(b[2]),b=e in oi?Math.abs(f-jc(Math.max(x(b[0]),x(b[1]))))+ +("e"!==e):f-2*("%"===e);a[7]="."+b}c=a.join("")}else c=",."+jc(b[2])+"f";return i.format(c)}function jc(a){return-Math.floor(Math.log(a)/Math.LN10+0.01)}
function ag(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}g.invert=function(b){return f(a.invert(b))};g.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return g};g.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return g};g.nice=function(){var b=ic(d.map(e),c?Math:pi);a.domain(b);d=b.map(f);return g};g.ticks=function(){var a=
mb(d),g=[],k=a[0],a=a[1],l=Math.floor(e(k)),i=Math.ceil(e(a)),n=b%1?2:b;if(isFinite(i-l)){if(c){for(;l<i;l++)for(var o=1;o<n;o++)g.push(f(l)*o);g.push(f(l))}else for(g.push(f(l));l++<i;)for(o=n-1;0<o;o--)g.push(f(l)*o);for(l=0;g[l]<k;l++);for(i=g.length;g[i-1]>a;i--);g=g.slice(l,i)}return g};g.tickFormat=function(a,b){if(!arguments.length)return bg;2>arguments.length?b=bg:"function"!==typeof b&&(b=i.format(b));var d=Math.max(0.1,a/g.ticks().length),l=c?(m=1E-12,Math.ceil):(m=-1E-12,Math.floor),m;
return function(a){return a/f(l(e(a)+m))<=d?b(a):""}};g.copy=function(){return ag(a.copy(),b,c,d)};return Id(g,a)}function cg(a,b,c){function d(b){return a(e(b))}var e=kc(b),f=kc(1/b);d.invert=function(b){return f(a.invert(b))};d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return i.range.apply(i,La(c,a))};d.tickFormat=function(a,b){return Hd(c,a,b)};d.nice=function(a){return d.domain(ic(c,Yf(La(c,a)[2])))};d.exponent=function(g){if(!arguments.length)return b;
e=kc(b=g);f=kc(1/b);a.domain(c.map(e));return d};d.copy=function(){return cg(a.copy(),b,c)};return Id(d,a)}function kc(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function dg(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return i.range(a.length).map(function(a){return b+c*a})}var e,f,g;c.domain=function(d){if(!arguments.length)return a;a=[];e=new sa;for(var f=-1,g=d.length,l;++f<g;)e.has(l=d[f])||e.set(l,a.push(l));
return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return f;f=a;g=0;b={t:"range",a:arguments};return c};c.rangePoints=function(e,j){2>arguments.length&&(j=0);var k=e[0],l=e[1],l=2>a.length?(k=(k+l)/2,0):(l-k)/(a.length-1+j);f=d(k+l*j/2,l);g=0;b={t:"rangePoints",a:arguments};return c};c.rangeRoundPoints=function(e,j){2>arguments.length&&(j=0);var k=e[0],l=e[1],i=2>a.length?(k=l=Math.round((k+l)/2),0):(l-k)/(a.length-1+j)|0;f=d(k+Math.round(i*j/2+(l-k-(a.length-1+j)*i)/2),i);g=0;b=
{t:"rangeRoundPoints",a:arguments};return c};c.rangeBands=function(e,j,k){2>arguments.length&&(j=0);3>arguments.length&&(k=j);var l=e[1]<e[0],i=e[l-0],n=(e[1-l]-i)/(a.length-j+2*k);f=d(i+n*k,n);l&&f.reverse();g=n*(1-j);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,j,k){2>arguments.length&&(j=0);3>arguments.length&&(k=j);var l=e[1]<e[0],i=e[l-0],n=e[1-l],o=Math.floor((n-i)/(a.length-j+2*k));f=d(i+Math.round((n-i-(a.length-j)*o)/2),o);l&&f.reverse();g=Math.round(o*(1-j));b={t:"rangeRoundBands",
a:arguments};return c};c.rangeBand=function(){return g};c.rangeExtent=function(){return mb(b.a[0])};c.copy=function(){return dg(a,b)};return c.domain(a)}function eg(a,b){function c(){var c=0,g=b.length;for(e=[];++c<g;)e[c-1]=i.quantile(a,c/g);return d}function d(a){if(!isNaN(a=+a))return b[i.bisect(e,a)]}var e;d.domain=function(b){if(!arguments.length)return a;a=b.map(Oa).filter(ra).sort(ab);return c()};d.range=function(a){if(!arguments.length)return b;b=a;return c()};d.quantiles=function(){return e};
d.invertExtent=function(c){c=b.indexOf(c);return 0>c?[NaN,NaN]:[0<c?e[c-1]:a[0],c<e.length?e[c]:a[a.length-1]]};d.copy=function(){return eg(a,b)};return c()}function fg(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){f=c.length/(b-a);g=c.length-1;return d}var f,g;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};d.invertExtent=function(b){b=c.indexOf(b);
b=0>b?NaN:b/f+a;return[b,b+1/f]};d.copy=function(){return fg(a,b,c)};return e()}function gg(a,b){function c(c){if(c<=c)return b[i.bisect(a,c)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return gg(a,b)};return c}function hg(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};
b.ticks=function(b){return i.range.apply(i,La(a,b))};b.tickFormat=function(b,d){return Hd(a,b,d)};b.copy=function(){return hg(a)};return b}function qi(){return 0}function ri(a){return a.innerRadius}function si(a){return a.outerRadius}function ig(a){return a.startAngle}function jg(a){return a.endAngle}function ti(a){return a&&a.padAngle}function lc(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],e=(e?d:-d)/Math.sqrt(f*f+g*g),g=e*g,f=-e*f,h=a[0]+g,j=a[1]+f,k=b[0]+g,l=b[1]+f,a=(h+k)/2,b=(j+l)/2,e=k-h,i=l-j,n=
e*e+i*i,d=c-d,l=h*l-k*j,o=(0>i?-1:1)*Math.sqrt(d*d*n-l*l),h=(l*i-e*o)/n,j=(-l*e-i*o)/n,k=(l*i+e*o)/n,e=(-l*e+i*o)/n,i=h-a,n=j-b,a=k-a,b=e-b;i*i+n*n>a*a+b*b&&(h=k,j=e);return[[h-g,j-f],[h*c/d,j*c/d]]}function kg(a){function b(b){function g(){l.push("M",f(a(i),h))}for(var l=[],i=[],n=-1,o=b.length,q,r=H(c),s=H(d);++n<o;)e.call(this,q=b[n],n)?i.push([+r.call(this,q,n),+s.call(this,q,n)]):i.length&&(g(),i=[]);i.length&&g();return l.length?l.join(""):null}var c=hb,d=xb,e=eb,f=$,g=f.key,h=0.7;b.x=function(a){if(!arguments.length)return c;
c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?f=a:(f=Jd.get(a)||$).key;return b};b.tension=function(a){if(!arguments.length)return h;h=a;return b};return b}function $(a){return a.join("L")}function Kd(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Ld(a){for(var b=
0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function mc(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return $(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,j=1;c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],j=2);if(1<b.length){h=b[1];f=a[j];j++;d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(e=2;e<b.length;e++,j++)f=a[j],h=b[e],d+="S"+(f[0]-h[0])+","+(f[1]-
h[1])+","+f[0]+","+f[1]}c&&(c=a[j],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+c[0]+","+c[1]);return d}function Md(a,b){for(var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,j=a.length;++h<j;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function lg(a){if(3>a.length)return $(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],e=[e,",",f,"L",fa(Ma,g),",",fa(Ma,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Nd(e,g,h);a.pop();e.push("L",
d);return e.join("")}function fa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Nd(a,b,c){a.push("C",fa(mg,b),",",fa(mg,c),",",fa(ng,b),",",fa(ng,c),",",fa(Ma,b),",",fa(Ma,c))}function Od(a,b){return(b[1]-a[1])/(b[0]-a[0])}function og(a){for(var b,c=-1,d=a.length,e,f;++c<d;)b=a[c],e=b[0],f=b[1]-K,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function pg(a){function b(b){function j(){q.push("M",h(a(s),i),l,k(a(r.reverse()),i),"Z")}for(var q=[],r=[],s=[],u=-1,w=b.length,p,y=H(c),B=H(e),
D=c===d?function(){return t}:H(d),A=e===f?function(){return J}:H(f),t,J;++u<w;)g.call(this,p=b[u],u)?(r.push([t=+y.call(this,p,u),J=+B.call(this,p,u)]),s.push([+D.call(this,p,u),+A.call(this,p,u)])):r.length&&(j(),r=[],s=[]);r.length&&j();return q.length?q.join(""):null}var c=hb,d=hb,e=0,f=xb,g=eb,h=$,j=h.key,k=h,l="L",i=0.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;
return b};b.y=function(a){if(!arguments.length)return f;e=f=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return f;f=a;return b};b.defined=function(a){if(!arguments.length)return g;g=a;return b};b.interpolate=function(a){if(!arguments.length)return j;j="function"===typeof a?h=a:(h=Jd.get(a)||$).key;k=h.reverse||h;l=h.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return i;i=a;return b};return b}function ui(a){return a.radius}
function qg(a){return[a.x,a.y]}function vi(){return 64}function wi(){return"circle"}function rg(a){a=Math.sqrt(a/C);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function sg(a){return function(){var b,c;if((b=this[a])&&(c=b[b.active]))--b.count?delete b[b.active]:delete this[a],b.active+=0.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index)}}function Fb(a,b,c){Hb(a,N);a.namespace=b;a.id=c;return a}function Pd(a,b,c,d){var e=a.id,f=a.namespace;return ta(a,"function"===
typeof c?function(a,h,j){a[f][e].tween.set(b,d(c.call(a,a.__data__,h,j)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function xi(a){null==a&&(a="");return function(){this.textContent=a}}function Qd(a){return null==a?"__transition__":"__transition_"+a+"__"}function nc(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),g=f[d];if(!g){var h=e.time,g=f[d]={tween:new sa,time:h,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null;++f.count;i.timer(function(e){function k(c){if(f.active>d)return m();
var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));f.active=d;g.event&&g.event.start.call(a,a.__data__,b);g.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&s.push(d)});q=g.ease;o=g.duration;i.timer(function(){r.c=l(c||1)?eb:l;return 1},0,h)}function l(c){if(f.active!==d)return 1;for(var c=c/o,e=q(c),h=s.length;0<h;)s[--h].call(a,e);if(1<=c)return g.event&&g.event.end.call(a,a.__data__,b),m()}function m(){--f.count?delete f[d]:delete a[c];
return 1}var n=g.delay,o,q,r=va,s=[];r.t=n+h;if(n<=e)return k(e-n);r.c=k},0,h)}}function yi(a,b,c){a.attr("transform",function(a){var e=b(a);return"translate("+(isFinite(e)?e:c(a))+",0)"})}function zi(a,b,c){a.attr("transform",function(a){var e=b(a);return"translate(0,"+(isFinite(e)?e:c(a))+")"})}function Rd(a){return a.toISOString()}function Sd(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,e=i.bisect(oc,d);return e==oc.length?[b.year,La(a.map(function(a){return a/31536E6}),
c)[2]]:!e?[Ai,La(a,c)[2]]:b[d/oc[e-1]<oc[e]/d?e-1:e]}d.invert=function(b){return Xa(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(Xa);a.domain(b);return d};d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,Xa(+d+1),b).length}var j=d.domain(),k=mb(j);if(k=null==a?e(k,10):"number"===typeof a&&e(k,a))a=k[0],b=k[1];return d.domain(ic(j,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=Xa(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=Xa(+b+1);return b}}:
a))};d.ticks=function(a,b){var c=mb(d.domain()),j=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];j&&(a=j[0],b=j[1]);return a.range(c[0],Xa(+c[1]+1),1>b?1:b)};d.tickFormat=function(){return c};d.copy=function(){return Sd(a.copy(),b,c)};return Id(d,a)}function Xa(a){return new Date(a)}function Bi(a){return JSON.parse(a.responseText)}function Ci(a){var b=T.createRange();b.selectNode(T.body);return b.createContextualFragment(a.responseText)}var i={version:"3.5.5"},tg=[].slice,Fa=function(a){return tg.call(a)},
T=this.document;if(T)try{Fa(T.documentElement.childNodes)[0].nodeType}catch(dj){Fa=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}Date.now||(Date.now=function(){return+new Date});if(T)try{T.createElement("DIV").style.setProperty("opacity",0,"")}catch(ej){var pc=this.Element.prototype,Di=pc.setAttribute,Ei=pc.setAttributeNS,ug=this.CSSStyleDeclaration.prototype,Fi=ug.setProperty;pc.setAttribute=function(a,b){Di.call(this,a,b+"")};pc.setAttributeNS=function(a,b,c){Ei.call(this,a,
b,c+"")};ug.setProperty=function(a,b,c){Fi.call(this,a,b+"",c)}}i.ascending=ab;i.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};i.min=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){for(;++c<d;)if((f=a[c])!=null&&f>=f){e=f;break}for(;++c<d;)if((f=a[c])!=null&&e>f)e=f}else{for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>=f){e=f;break}for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&e>f)e=f}return e};i.max=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){for(;++c<d;)if((f=
a[c])!=null&&f>=f){e=f;break}for(;++c<d;)if((f=a[c])!=null&&f>e)e=f}else{for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>=f){e=f;break}for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>e)e=f}return e};i.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(arguments.length===1){for(;++c<d;)if((f=a[c])!=null&&f>=f){e=g=f;break}for(;++c<d;)if((f=a[c])!=null){e>f&&(e=f);g<f&&(g=f)}}else{for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>=f){e=g=f;break}for(;++c<d;)if((f=b.call(a,a[c],c))!=null){e>f&&(e=f);g<f&&(g=f)}}return[e,
g]};i.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(arguments.length===1)for(;++f<d;){if(ra(e=+a[f]))c=c+e}else for(;++f<d;)if(ra(e=+b.call(a,a[f],f)))c=c+e;return c};i.mean=function(a,b){var c=0,d=a.length,e,f=-1,g=d;if(arguments.length===1)for(;++f<d;)ra(e=Oa(a[f]))?c=c+e:--g;else for(;++f<d;)ra(e=Oa(b.call(a,a[f],f)))?c=c+e:--g;if(g)return c/g};i.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c=c-d)?e+c*(a[d]-e):e};i.median=function(a,b){var c=[],d=a.length,e,f=
-1;if(arguments.length===1)for(;++f<d;)ra(e=Oa(a[f]))&&c.push(e);else for(;++f<d;)ra(e=Oa(b.call(a,a[f],f)))&&c.push(e);if(c.length)return i.quantile(c.sort(ab),0.5)};i.variance=function(a,b){var c=a.length,d=0,e,f,g=0,h=-1,j=0;if(arguments.length===1)for(;++h<c;){if(ra(e=Oa(a[h]))){f=e-d;d=d+f/++j;g=g+f*(e-d)}}else for(;++h<c;)if(ra(e=Oa(b.call(a,a[h],h)))){f=e-d;d=d+f/++j;g=g+f*(e-d)}if(j>1)return g/(j-1)};i.deviation=function(){var a=i.variance.apply(this,arguments);return a?Math.sqrt(a):a};var vg=
be(ab);i.bisectLeft=vg.left;i.bisect=i.bisectRight=vg.right;i.bisector=function(a){return be(a.length===1?function(b,c){return ab(a(b),c)}:a)};i.shuffle=function(a,b,c){if((d=arguments.length)<3){c=a.length;d<2&&(b=0)}for(var d=c-b,e,f;d;){f=Math.random()*d--|0;e=a[d+b];a[d+b]=a[f+b];a[f+b]=e}return a};i.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};i.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(c<0?0:c);b<c;)e[b]=[d,d=a[++b]];return e};i.zip=function(){if(!(e=
arguments.length))return[];for(var a=-1,b=i.min(arguments,Vg),c=Array(b);++a<b;)for(var d=-1,e,f=c[a]=Array(e);++d<e;)f[d]=arguments[d][a];return c};i.transpose=function(a){return i.zip.apply(i,a)};i.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};i.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};i.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};i.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,f;++c<b;)d=d+a[c].length;for(e=Array(d);--b>=
0;){f=a[b];for(c=f.length;--c>=0;)e[--d]=f[c]}return e};var x=Math.abs;i.range=function(a,b,c){if(arguments.length<3){c=1;if(arguments.length<2){b=a;a=0}}if((b-a)/c===Infinity)throw Error("infinite range");var d=[],e;e=x(c);for(var f=1;e*f%1;)f=f*10;e=f;var f=-1,g,a=a*e,b=b*e,c=c*e;if(c<0)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d};i.map=function(a,b){var c=new sa;if(a instanceof sa)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d=-1,e=a.length,
f;if(arguments.length===1)for(;++d<e;)c.set(d,a[d]);else for(;++d<e;)c.set(b.call(a,f=a[d],d),f)}else for(d in a)c.set(d,a[d]);return c};var Wg="__proto__",Ic="\x00";ce(sa,{has:de,get:function(a){return this._[rb(a)]},set:function(a,b){return this._[rb(a)]=b},remove:ee,keys:fe,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],b;for(b in this._)a.push({key:Gb(b),value:this._[b]});return a},size:ge,empty:he,forEach:function(a){for(var b in this._)a.call(this,
Gb(b),this._[b])}});i.nest=function(){function a(b,e,k){if(k>=d.length)return g?g.call(c,e):f?e.sort(f):e;for(var i=-1,m=e.length,n=d[k++],o,q,r=new sa,s;++i<m;)(s=r.get(o=n(q=e[i])))?s.push(q):r.set(o,[q]);if(b){q=b();e=function(c,d){q.set(c,a(b,d,k))}}else{q={};e=function(c,d){q[c]=a(b,d,k)}}r.forEach(e);return q}function b(a,c){if(c>=d.length)return a;var f=[],g=e[c++];a.forEach(function(a,d){f.push({key:a,values:b(d,c)})});return g?f.sort(function(a,b){return g(a.key,b.key)}):f}var c={},d=[],
e=[],f,g;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(i.map,c,0),0)};c.key=function(a){d.push(a);return c};c.sortKeys=function(a){e[d.length-1]=a;return c};c.sortValues=function(a){f=a;return c};c.rollup=function(a){g=a;return c};return c};i.set=function(a){var b=new Jc;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};ce(Jc,{has:de,add:function(a){this._[rb(a=a+"")]=true;return a},remove:ee,values:fe,size:ge,empty:he,forEach:function(a){for(var b in this._)a.call(this,
Gb(b))}});i.behavior={};i.rebind=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=Xg(a,b,b[e]);return a};var ie="webkit ms moz Moz o O".split(" ");i.dispatch=function(){for(var a=new Lc,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=je(a);return a};Lc.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0){d=a.slice(c+1);a=a.slice(0,c)}if(a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(arguments.length===2){if(b==null)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,
null);return this}};i.event=null;i.requote=function(a){return a.replace(Gi,"\\$&")};var Gi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Hb={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},Pc=function(a,b){return b.querySelector(a)},Qc=function(a,b){return b.querySelectorAll(a)},Ib=function(a,b){var c=a.matches||a[Kc(a,"matchesSelector")];Ib=function(a,b){return c.call(a,b)};return Ib(a,b)};"function"===typeof Sizzle&&(Pc=function(a,b){return Sizzle(a,b)[0]||null},Qc=Sizzle,Ib=
Sizzle.matchesSelector);i.selection=function(){return i.select(T.documentElement)};var E=i.selection.prototype=[];E.select=function(a){for(var b=[],c,d,e,f,a=Oc(a),g=-1,h=this.length;++g<h;){b.push(c=[]);c.parentNode=(e=this[g]).parentNode;for(var j=-1,k=e.length;++j<k;)if(f=e[j]){c.push(d=a.call(f,f.__data__,j,g));if(d&&"__data__"in f)d.__data__=f.__data__}else c.push(null)}return Ea(b)};E.selectAll=function(a){for(var b=[],c,d,a=ke(a),e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,j=g.length;++h<
j;)if(d=g[h]){b.push(c=Fa(a.call(d,d.__data__,h,e)));c.parentNode=d}return Ea(b)};var Td={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:Td,qualify:function(a){var b=a.indexOf(":"),c=a;if(b>=0){c=a.slice(0,b);a=a.slice(b+1)}return Td.hasOwnProperty(c)?{space:Td[c],local:a}:a}};E.attr=function(a,b){if(arguments.length<2){if(typeof a==="string"){var c=
this.node(),a=i.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(le(b,a[b]));return this}return this.each(le(a,b))};E.classed=function(a,b){if(arguments.length<2){if(typeof a==="string"){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return false}else for(b=c.getAttribute("class");++e<d;)if(!ne(a[e]).test(b))return false;return true}for(b in a)this.each(oe(b,a[b]));return this}return this.each(oe(a,
b))};E.style=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=="string"){d<2&&(b="");for(c in a)this.each(pe(c,a[c],b));return this}if(d<2){d=this.node();return Ca(d).getComputedStyle(d,null).getPropertyValue(a)}c=""}return this.each(pe(a,b,c))};E.property=function(a,b){if(arguments.length<2){if(typeof a==="string")return this.node()[a];for(b in a)this.each(qe(b,a[b]));return this}return this.each(qe(a,b))};E.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=
a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};E.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};E.append=function(a){a=re(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};E.insert=
function(a,b){a=re(a);b=Oc(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};E.remove=function(){return this.each(Zg)};E.data=function(a,b){function c(a,c){var d,e=a.length,f=c.length,g=Math.min(e,f),i=Array(f),u=Array(f),w=Array(e),p,y;if(b){var g=new sa,B=Array(e),D;for(d=-1;++d<e;){g.has(D=b.call(p=a[d],p.__data__,d))?w[d]=p:g.set(D,p);B[d]=D}for(d=-1;++d<f;){if(p=g.get(D=b.call(c,y=c[d],d))){if(p!==true){i[d]=p;p.__data__=y}}else u[d]=
{__data__:y};g.set(D,true)}for(d=-1;++d<e;)g.get(B[d])!==true&&(w[d]=a[d])}else{for(d=-1;++d<g;){p=a[d];y=c[d];if(p){p.__data__=y;i[d]=p}else u[d]={__data__:y}}for(;d<f;++d)u[d]={__data__:c[d]};for(;d<e;++d)w[d]=a[d]}u.update=i;u.parentNode=i.parentNode=w.parentNode=a.parentNode;h.push(u);j.push(i);k.push(w)}var d=-1,e=this.length,f,g;if(!arguments.length){for(a=Array(e=(f=this[0]).length);++d<e;)if(g=f[d])a[d]=g.__data__;return a}var h=te([]),j=Ea([]),k=Ea([]);if(typeof a==="function")for(;++d<e;)c(f=
this[d],a.call(f,f.parentNode.__data__,d));else for(;++d<e;)c(f=this[d],a);j.enter=function(){return h};j.exit=function(){return k};return j};E.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};E.filter=function(a){var b=[],c,d,e;typeof a!=="function"&&(a=se(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);c.parentNode=(d=this[f]).parentNode;for(var h=0,j=d.length;h<j;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return Ea(b)};E.order=function(){for(var a=
-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;--d>=0;)if(f=c[d]){e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e);e=f}return this};E.sort=function(a){for(var a=$g.apply(this,arguments),b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};E.each=function(a){return ta(this,function(b,c,d){a.call(b,b.__data__,c,d)})};E.call=function(a){var b=Fa(arguments);a.apply(b[0]=this,b);return this};E.empty=function(){return!this.node()};E.node=function(){for(var a=0,b=this.length;a<
b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null};E.size=function(){var a=0;ta(this,function(){++a});return a};var ua=[];i.selection.enter=te;i.selection.enter.prototype=ua;ua.append=E.append;ua.empty=E.empty;ua.node=E.node;ua.call=E.call;ua.size=E.size;ua.select=function(a){for(var b=[],c,d,e,f,g,h=-1,j=this.length;++h<j;){e=(f=this[h]).update;b.push(c=[]);c.parentNode=f.parentNode;for(var k=-1,i=f.length;++k<i;)if(g=f[k]){c.push(e[k]=d=a.call(f.parentNode,g.__data__,
k,h));d.__data__=g.__data__}else c.push(null)}return Ea(b)};ua.insert=function(a,b){if(arguments.length<2)var c=this,d,e,b=function(a,b,h){var a=c[h].update,j=a.length;if(h!=e){e=h;d=0}for(b>=d&&(d=b+1);!(b=a[d])&&++d<j;);return b};return E.insert.call(this,a,b)};i.select=function(a){var b;if(typeof a==="string"){b=[Pc(a,T)];b.parentNode=T.documentElement}else{b=[a];b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement}return Ea([b])};i.selectAll=function(a){if(typeof a==="string"){a=Fa(Qc(a,
T));a.parentNode=T.documentElement}else a.parentNode=null;return Ea([a])};E.on=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=="string"){d<2&&(b=false);for(c in a)this.each(ue(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=false}return this.each(ue(a,b,c))};var Rc=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});T&&Rc.forEach(function(a){"on"+a in T&&Rc.remove(a)});var Pa,bh=0;i.mouse=function(a){return Sc(a,Mc())};var Tc=this.navigator&&/WebKit/.test(this.navigator.userAgent)?
-1:0;i.touch=function(a,b,c){if(arguments.length<3){c=b;b=Mc().changedTouches}if(b)for(var d=0,e=b.length,f;d<e;++d)if((f=b[d]).identifier===c)return Sc(a,f)};i.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,b,e,f,l){return function(){var m=i.event.target,n=this.parentNode,o=c.of(this,arguments),q=0,r=a(),s=".drag"+(r==null?"":"-"+r),u,w=i.select(e(m)).on(f+s,function(){var a=b(n,r),c,d;if(a){c=a[0]-y[0];d=a[1]-y[1];q=q|c|d;y=a;o({type:"drag",
x:a[0]+u[0],y:a[1]+u[1],dx:c,dy:d})}}).on(l+s,function(){if(b(n,r)){w.on(f+s,null).on(l+s,null);p(q&&i.event.target===m);o({type:"dragend"})}}),p=Jb(m),y=b(n,r);if(d){u=d.apply(this,arguments);u=[u.x-y[0],u.y-y[1]]}else u=[0,0];o({type:"dragstart"})}}var c=Nc(a,"drag","dragstart","dragend"),d=null,e=b(M,i.mouse,Ca,"mousemove","mouseup"),f=b(ch,i.touch,P,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return d;d=b;return a};return i.rebind(a,c,"on")};i.touches=function(a,b){if(arguments.length<
2)b=Mc().touches;return b?Fa(b).map(function(b){var d=Sc(a,b);d.identifier=b.identifier;return d}):[]};var t=1E-6,ud=t*t,C=Math.PI,Z=2*C,Hi=Z-t,K=C/2,z=C/180,I=180/C,qc=Math.SQRT2,Ud=2;i.interpolateZoom=function(a,b){function c(a){var b=a*q;if(o){var a=we(n),c=f/(Ud*i),g,k=qc*b+n;g=((k=Math.exp(2*k))-1)/(k+1);g=a*g;var m=n,k=((m=Math.exp(m))-1/m)/2,c=c*(g-k);return[d+c*h,e+c*j,f*a/we(qc*b+n)]}return[d+a*h,e+a*j,f*Math.exp(qc*b)]}var d=a[0],e=a[1],f=a[2],g=b[2],h=b[0]-d,j=b[1]-e,k=h*h+j*j,i=Math.sqrt(k),
m=(g*g-f*f+4*k)/(2*f*Ud*i),k=(g*g-f*f-4*k)/(2*g*Ud*i),n=Math.log(Math.sqrt(m*m+1)-m),o=Math.log(Math.sqrt(k*k+1)-k)-n,q=(o||Math.log(g/f))/qc;c.duration=q*1E3;return c};i.behavior.zoom=function(){function a(a){a.on(B,k).on(Vd+".zoom",m).on("dblclick.zoom",n).on(J,l)}function b(a){return[(a[0]-o.x)/o.k,(a[1]-o.y)/o.k]}function c(a){o.k=Math.max(w[0],Math.min(w[1],a))}function d(a,b){b=[b[0]*o.k+o.x,b[1]*o.k+o.y];o.x=o.x+(a[0]-b[0]);o.y=o.y+(a[1]-b[1])}function e(b,e,f,g){b.__chart__={x:o.x,y:o.y,k:o.k};
c(Math.pow(2,g));d(r=e,f);b=i.select(b);p>0&&(b=b.transition().duration(p));b.call(a.event)}function f(){v&&v.domain(F.range().map(function(a){return(a-o.x)/o.k}).map(F.invert));da&&da.domain(z.range().map(function(a){return(a-o.y)/o.k}).map(z.invert))}function g(a){y++||a({type:"zoomstart"})}function h(a){f();a({type:"zoom",scale:o.k,translate:[o.x,o.y]})}function j(a){--y||a({type:"zoomend"});r=null}function k(){var a=this,c=i.event.target,e=G.of(a,arguments),f=0,k=i.select(Ca(a)).on(D,function(){f=
1;d(i.mouse(a),l);h(e)}).on(A,function(){k.on(D,null).on(A,null);m(f&&i.event.target===c);j(e)}),l=b(i.mouse(a)),m=Jb(a);rc.call(a);g(e)}function l(){function a(){var c=i.touches(p);u=o.k;c.forEach(function(a){a.identifier in r&&(r[a.identifier]=b(a))});return c}function f(){var b=i.event.target;i.select(b).on(y,m).on(D,n);F.push(b);for(var b=i.event.changedTouches,c=0,d=b.length;c<d;++c)r[b[c].identifier]=null;c=a();d=Date.now();if(c.length===1){if(d-S<500){b=c[0];e(p,b,r[b.identifier],Math.floor(Math.log(o.k)/
Math.LN2)+1);Da()}S=d}else if(c.length>1){b=c[0];d=c[1];c=b[0]-d[0];b=b[1]-d[1];q=c*c+b*b}}function m(){var a=i.touches(p),b,e,f,g;rc.call(p);for(var j=0,k=a.length;j<k;++j,g=null){f=a[j];if(g=r[f.identifier]){if(e)break;b=f;e=g}}if(g){var l=(l=f[0]-b[0])*l+(l=f[1]-b[1])*l,a=q&&Math.sqrt(l/q);b=[(b[0]+f[0])/2,(b[1]+f[1])/2];e=[(e[0]+g[0])/2,(e[1]+g[1])/2];c(a*u)}S=null;d(b,e);h(s)}function n(){if(i.event.touches.length){for(var b=i.event.changedTouches,c=0,d=b.length;c<d;++c)delete r[b[c].identifier];
for(var e in r)return void a()}i.selectAll(F).on(w,null);A.on(B,k).on(J,l);t();j(s)}var p=this,s=G.of(p,arguments),r={},q=0,u,w=".zoom-"+i.event.changedTouches[0].identifier,y="touchmove"+w,D="touchend"+w,F=[],A=i.select(p),t=Jb(p);f();g(s);A.on(B,null).on(J,f)}function m(){var a=G.of(this,arguments);if(t)clearTimeout(t);else{q=b(r=s||i.mouse(this));rc.call(this);g(a)}t=setTimeout(function(){t=null;j(a)},50);Da();c(Math.pow(2,sc()*0.002)*o.k);d(r,q);h(a)}function n(){var a=i.mouse(this),c=Math.log(o.k)/
Math.LN2;e(this,a,b(a),i.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var o={x:0,y:0,k:1},q,r,s,u=[960,500],w=wg,p=250,y=0,B="mousedown.zoom",D="mousemove.zoom",A="mouseup.zoom",t,J="touchstart.zoom",S,G=Nc(a,"zoomstart","zoom","zoomend"),F,v,z,da;Vd||(Vd="onwheel"in T?(sc=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in T?(sc=function(){return i.event.wheelDelta},"mousewheel"):(sc=function(){return-i.event.detail},"MozMousePixelScroll"));a.event=function(a){a.each(function(){var a=
G.of(this,arguments),b=o;if(Ya)i.select(this).transition().each("start.zoom",function(){o=this.__chart__||{x:0,y:0,k:1};g(a)}).tween("zoom:zoom",function(){var c=u[0],d=u[1],e=r?r[0]:c/2,f=r?r[1]:d/2,g=i.interpolateZoom([(e-o.x)/o.k,(f-o.y)/o.k,c/o.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var b=g(b),d=c/b[2];this.__chart__=o={x:e-b[0]*d,y:f-b[1]*d,k:d};h(a)}}).each("interrupt.zoom",function(){j(a)}).each("end.zoom",function(){j(a)});else{this.__chart__=o;g(a);h(a);j(a)}})};a.translate=
function(b){if(!arguments.length)return[o.x,o.y];o={x:+b[0],y:+b[1],k:o.k};f();return a};a.scale=function(b){if(!arguments.length)return o.k;o={x:o.x,y:o.y,k:+b};f();return a};a.scaleExtent=function(b){if(!arguments.length)return w;w=b==null?wg:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return s;s=b&&[+b[0],+b[1]];return a};a.size=function(b){if(!arguments.length)return u;u=b&&[+b[0],+b[1]];return a};a.duration=function(b){if(!arguments.length)return p;p=+b;return a};a.x=function(b){if(!arguments.length)return v;
v=b;F=b.copy();o={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return da;da=b;z=b.copy();o={x:0,y:0,k:1};return a};return i.rebind(a,G,"on")};var wg=[0,Infinity],sc,Vd;i.color=Qa;Qa.prototype.toString=function(){return this.rgb()+""};i.hsl=la;var Wd=la.prototype=new Qa;Wd.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return new la(this.h,this.s,this.l/a)};Wd.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new la(this.h,this.s,a*this.l)};Wd.rgb=function(){return Vc(this.h,
this.s,this.l)};i.hcl=ga;var Xd=ga.prototype=new Qa;Xd.brighter=function(a){return new ga(this.h,this.c,Math.min(100,this.l+tc*(arguments.length?a:1)))};Xd.darker=function(a){return new ga(this.h,this.c,Math.max(0,this.l-tc*(arguments.length?a:1)))};Xd.rgb=function(){return Wc(this.h,this.c,this.l).rgb()};i.lab=ha;var tc=18,De=0.95047,Ee=1,Fe=1.08883,Yd=ha.prototype=new Qa;Yd.brighter=function(a){return new ha(Math.min(100,this.l+tc*(arguments.length?a:1)),this.a,this.b)};Yd.darker=function(a){return new ha(Math.max(0,
this.l-tc*(arguments.length?a:1)),this.a,this.b)};Yd.rgb=function(){return Ce(this.l,this.a,this.b)};i.rgb=U;var uc=U.prototype=new Qa;uc.brighter=function(a){var a=Math.pow(0.7,arguments.length?a:1),b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return new U(30,30,30);b&&b<30&&(b=30);c&&c<30&&(c=30);d&&d<30&&(d=30);return new U(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))};uc.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new U(a*this.r,a*this.g,a*this.b)};uc.hsl=function(){return ze(this.r,
this.g,this.b)};uc.toString=function(){return"#"+bb(this.r)+bb(this.g)+bb(this.b)};var Lb=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,
darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,
slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Lb.forEach(function(a,b){Lb.set(a,new U(b>>16,b>>8&255,b&255))});i.functor=H;i.xhr=bd(P);i.dsv=function(a,b){function c(a,c,f){if(arguments.length<3){f=c;c=null}var g=Mb(a,b,c==null?d:e(c),f);g.row=function(a){return arguments.length?g.response((c=a)==null?
d:e(a)):c};return g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=RegExp('["'+a+"\n]"),j=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),
c)}:e})};c.parseRows=function(a,b){function c(){if(h>=g)return e;if(p)return p=false,d;var b=h;if(a.charCodeAt(b)===34){for(var f=b;f++<g;)if(a.charCodeAt(f)===34){if(a.charCodeAt(f+1)!==34)break;++f}h=f+2;var i=a.charCodeAt(f+1);if(i===13){p=true;a.charCodeAt(f+2)===10&&++h}else i===10&&(p=true);return a.slice(b+1,f).replace(/""/g,'"')}for(;h<g;){i=a.charCodeAt(h++);f=1;if(i===10)p=true;else if(i===13){p=true;if(a.charCodeAt(h)===10){++h;++f}}else if(i!==j)continue;return a.slice(b,h-f)}return a.slice(b)}
for(var d={},e={},f=[],g=a.length,h=0,i=0,w,p;(w=c())!==e;){for(var y=[];w!==d&&w!==e;){y.push(w);w=c()}b&&(y=b(y,i++))==null||f.push(y)}return f};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new Jc,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")};c.formatRows=function(a){return a.map(f).join("\n")};return c};i.csv=i.dsv(",","text/csv");
i.tsv=i.dsv("\t","text/tab-separated-values");var Pb,Qb,Ob,Nb,va,Ie=this[Kc(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};i.timer=function(a,b,c){var d=arguments.length;d<2&&(b=0);d<3&&(c=Date.now());d={c:a,t:c+b,f:false,n:null};Qb?Qb.n=d:Pb=d;Qb=d;if(!Ob){Nb=clearTimeout(Nb);Ob=1;Ie(cd)}};i.timer.flush=function(){Ge();He()};i.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var Ii="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=
Math.pow(10,x(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}});i.formatPrefix=function(a,b){var c=0;if(a){a<0&&(a=a*-1);b&&(a=i.round(a,dd(a,b)));c=1+Math.floor(1E-12+Math.log(a)/Math.LN10);c=Math.max(-24,Math.min(24,Math.floor((c-1)/3)*3))}return Ii[8+c/3]};var $f=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ji=i.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},
x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=i.round(a,dd(a,b))).toFixed(Math.max(0,Math.min(20,dd(a*(1+1E-15),b))))}}),v=i.time={},R=Date;wa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},
getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Aa.setUTCDate.apply(this._,arguments)},setDay:function(){Aa.setUTCDay.apply(this._,arguments)},setFullYear:function(){Aa.setUTCFullYear.apply(this._,
arguments)},setHours:function(){Aa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Aa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Aa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Aa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Aa.setUTCSeconds.apply(this._,arguments)},setTime:function(){Aa.setTime.apply(this._,arguments)}};var Aa=Date.prototype;v.year=Ra(function(a){a=v.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+
b)},function(a){return a.getFullYear()});v.years=v.year.range;v.years.utc=v.year.utc.range;v.day=Ra(function(a){var b=new R(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});v.days=v.day.range;v.days.utc=v.day.utc.range;v.dayOfYear=function(a){var b=v.year(a);return Math.floor((a-b-(a.getTimezoneOffset()-b.getTimezoneOffset())*6E4)/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,
b){var b=7-b,c=v[a]=Ra(function(a){(a=v.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+Math.floor(b)*7)},function(a){var c=v.year(a).getDay();return Math.floor((v.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});v[a+"s"]=c.range;v[a+"s"].utc=c.utc.range;v[a+"OfYear"]=function(a){var c=v.year(a).getDay();return Math.floor((v.dayOfYear(a)+(c+b)%7)/7)}});v.week=v.sunday;v.weeks=v.sunday.range;v.weeks.utc=v.sunday.utc.range;v.weekOfYear=v.sundayOfYear;var xg={"-":"",_:" ",
"0":"0"},L=/^\s*\d+/,Le=/^%/;i.locale=function(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],j=0;e>0&&h>0;){j+h+1>b&&(h=Math.max(1,b-j));f.push(a.substring(e=e-h,e+h));if((j=j+(h+1))>b)break;h=d[g=(g+1)%d.length]}return f.reverse().join(c)}:P,g=function(a){function b(d){for(var e=[],f=-1,g=0,h,j;++f<c;)if(a.charCodeAt(f)===37){e.push(a.slice(g,f));if((h=xg[g=a.charAt(++f)])!=null)g=a.charAt(++f);if(j=J[g])g=j(d,h==null?g==="e"?" ":
"0":h);e.push(g);g=f+1}e.push(a.slice(g,f));return e.join("")}var c=a.length;b.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(c,a,b,0)!=b.length)return null;if("p"in c)c.H=c.H%12+c.p*12;var b=c.Z!=null&&R!==wa,d=new (b?wa:R);if("j"in c)d.setFullYear(c.y,0,c.j);else if("w"in c&&("W"in c||"U"in c)){d.setFullYear(c.y,0,1);d.setFullYear(c.y,0,"W"in c?(c.w+6)%7+c.W*7-(d.getDay()+5)%7:c.w+c.U*7-(d.getDay()+6)%7)}else d.setFullYear(c.y,c.m,c.d);d.setHours(c.H+(c.Z/100|0),c.M+c.Z%100,
c.S,c.L);return b?d._:d};b.toString=function(){return a};return b},h=function(a,b,c,d){for(var e,f=0,g=b.length,h=c.length;f<g;){if(d>=h)return-1;e=b.charCodeAt(f++);if(e===37){e=b.charAt(f++);e=S[e in xg?b.charAt(f++):e];if(!e||(d=e(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d},j=a.dateTime,k=a.date,l=a.time,m=a.periods,n=a.days,o=a.shortDays,q=a.months,r=a.shortMonths;g.utc=function(a){function b(a){try{R=wa;var d=new R;d._=a;return c(d)}finally{R=Date}}var c=g(a);b.parse=function(a){try{R=
wa;var b=c.parse(a);return b&&b._}finally{R=Date}};b.toString=c.toString;return b};g.multi=g.utc.multi=sh;var s=i.map(),u=Sb(n),w=Tb(n),p=Sb(o),y=Tb(o),B=Sb(q),D=Tb(q),A=Sb(r),t=Tb(r);m.forEach(function(a,b){s.set(a.toLowerCase(),b)});var J={a:function(a){return o[a.getDay()]},A:function(a){return n[a.getDay()]},b:function(a){return r[a.getMonth()]},B:function(a){return q[a.getMonth()]},c:g(j),d:function(a,b){return V(a.getDate(),b,2)},e:function(a,b){return V(a.getDate(),b,2)},H:function(a,b){return V(a.getHours(),
b,2)},I:function(a,b){return V(a.getHours()%12||12,b,2)},j:function(a,b){return V(1+v.dayOfYear(a),b,3)},L:function(a,b){return V(a.getMilliseconds(),b,3)},m:function(a,b){return V(a.getMonth()+1,b,2)},M:function(a,b){return V(a.getMinutes(),b,2)},p:function(a){return m[+(a.getHours()>=12)]},S:function(a,b){return V(a.getSeconds(),b,2)},U:function(a,b){return V(v.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return V(v.mondayOfYear(a),b,2)},x:g(k),X:g(l),y:function(a,b){return V(a.getFullYear()%
100,b,2)},Y:function(a,b){return V(a.getFullYear()%1E4,b,4)},Z:qh,"%":function(){return"%"}},S={a:function(a,b,c){p.lastIndex=0;return(b=p.exec(b.slice(c)))?(a.w=y.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){u.lastIndex=0;return(b=u.exec(b.slice(c)))?(a.w=w.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){A.lastIndex=0;return(b=A.exec(b.slice(c)))?(a.m=t.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){B.lastIndex=0;return(b=B.exec(b.slice(c)))?(a.m=D.get(b[0].toLowerCase()),
c+b[0].length):-1},c:function(a,b,c){return h(a,J.c.toString(),b,c)},d:Je,e:Je,H:Ke,I:Ke,j:mh,L:ph,m:lh,M:nh,p:function(a,b,c){b=s.get(b.slice(c,c=c+2).toLowerCase());return b==null?-1:(a.p=b,c)},S:oh,U:gh,w:fh,W:hh,x:function(a,b,c){return h(a,J.x.toString(),b,c)},X:function(a,b,c){return h(a,J.X.toString(),b,c)},y:jh,Y:ih,Z:kh,"%":rh};return{numberFormat:function(a){var a=$f.exec(a),c=a[1]||" ",d=a[2]||">",g=a[3]||"-",h=a[4]||"",j=a[5],k=+a[6],l=a[7],m=a[8],p=a[9],n=1,s="",r="",o=false,q=true;m&&
(m=+m.substring(1));if(j||c==="0"&&d==="="){j=c="0";d="="}switch(p){case "n":l=true;p="g";break;case "%":n=100;r="%";p="f";break;case "p":n=100;r="%";p="r";break;case "b":case "o":case "x":case "X":h==="#"&&(s="0"+p.toLowerCase());case "c":q=false;case "d":o=true;m=0;break;case "s":n=-1;p="r"}if(h==="$"){s=e[0];r=e[1]}p=="r"&&!m&&(p="g");if(m!=null)if(p=="g")m=Math.max(1,Math.min(21,m));else if(p=="e"||p=="f")m=Math.max(0,Math.min(20,m));var p=Ji.get(p)||eh,u=j&&l;return function(a){var e=r;if(o&&
a%1)return"";var h=a<0||a===0&&1/a<0?(a=-a,"-"):g==="-"?"":g;if(n<0){e=i.formatPrefix(a,m);a=e.scale(a);e=e.symbol+r}else a=a*n;var a=p(a,m),w=a.lastIndexOf("."),y;if(w<0){w=q?a.lastIndexOf("e"):-1;if(w<0){y=a;a=""}else{y=a.substring(0,w);a=a.substring(w)}}else{y=a.substring(0,w);a=b+a.substring(w+1)}!j&&l&&(y=f(y,Infinity));var w=s.length+y.length+a.length+(u?0:h.length),B=w<k?Array(w=k-w+1).join(c):"";u&&(y=f(B+y,B.length?k-a.length:Infinity));h=h+s;a=y+a;return(d==="<"?h+a+B:d===">"?B+h+a:d===
"^"?B.substring(0,w=w>>1)+h+a+B.substring(w):h+(u?a:B+a))+e}},timeFormat:g}};var yg=i.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
i.format=yg.numberFormat;i.geo={};ed.prototype={s:0,t:0,add:function(a){Me(a,this.t,vc);Me(vc.s,this.s,this);this.s?this.t=this.t+vc.t:this.s=vc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vc=new ed;i.geo.stream=function(a,b){if(a&&zg.hasOwnProperty(a.type))zg[a.type](a,b);else Ub(a,b)};var zg={Feature:function(a,b){Ub(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)Ub(c[d].geometry,b)}},Ne={Sphere:function(a,b){b.sphere()},
Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;){a=c[d];b.point(a[0],a[1],a[2])}},LineString:function(a,b){fd(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)fd(c[d],b,0)},Polygon:function(a,b){Oe(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Oe(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<
e;)Ub(c[d],b)}};i.geo.area=function(a){nb=0;i.geo.stream(a,X);return nb};var nb,Sa=new ed,X={sphere:function(){nb=nb+4*C},point:M,lineStart:M,lineEnd:M,polygonStart:function(){Sa.reset();X.lineStart=th},polygonEnd:function(){var a=2*Sa;nb=nb+(a<0?4*C+a:a);X.lineStart=X.lineEnd=X.point=M}},wc=function(a,b){Za.push(Na=[O=a,Q=a]);b<ka&&(ka=b);b>qa&&(qa=b)},Ag=function(a,b){var c=Ta([a*z,b*z]);if(ob){var d=cb(ob,c),d=cb([d[1],-d[0],0],d);Xb(d);var d=Yb(d),e=a-$a,f=e>0?1:-1,g=d[0]*I*f,e=x(e)>180;if(e^
(f*$a<g&&g<f*a)){d=d[1]*I;d>qa&&(qa=d)}else if(g=(g+360)%360-180,e^(f*$a<g&&g<f*a)){d=-d[1]*I;d<ka&&(ka=d)}else{b<ka&&(ka=b);b>qa&&(qa=b)}if(e)a<$a?aa(O,a)>aa(O,Q)&&(Q=a):aa(a,Q)>aa(O,Q)&&(O=a);else if(Q>=O){a<O&&(O=a);a>Q&&(Q=a)}else a>$a?aa(O,a)>aa(O,Q)&&(Q=a):aa(a,Q)>aa(O,Q)&&(O=a)}else wc(a,b);ob=c;$a=a},Bg=function(){Ba.point=Ag},Cg=function(){Na[0]=O;Na[1]=Q;Ba.point=wc;ob=null},Fg=function(a,b){if(ob){var c=a-$a;pb=pb+(x(c)>180?c+(c>0?360:-360):c)}else{Dg=a;Eg=b}X.point(a,b);Ag(a,b)},Ki=function(){X.lineStart()},
Li=function(){Fg(Dg,Eg);X.lineEnd();x(pb)>t&&(O=-(Q=180));Na[0]=O;Na[1]=Q;ob=null},aa=function(a,b){return(b=b-a)<0?b+360:b},Mi=function(a,b){return a[0]-b[0]},Gg=function(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a},O,ka,Q,qa,$a,Dg,Eg,ob,pb,Za,Na,Ba={point:wc,lineStart:Bg,lineEnd:Cg,polygonStart:function(){Ba.point=Fg;Ba.lineStart=Ki;Ba.lineEnd=Li;pb=0;X.polygonStart()},polygonEnd:function(){X.polygonEnd();Ba.point=wc;Ba.lineStart=Bg;Ba.lineEnd=Cg;if(Sa<0){O=-(Q=180);ka=-(qa=90)}else pb>
t?qa=90:pb<-t&&(ka=-90);Na[0]=O;Na[1]=Q}};i.geo.bounds=function(a){qa=Q=-(O=ka=Infinity);Za=[];i.geo.stream(a,Ba);if(a=Za.length){Za.sort(Mi);for(var b=1,c=Za[0],d,e=[c];b<a;++b){d=Za[b];if(Gg(d[0],c)||Gg(d[1],c)){aa(c[0],d[1])>aa(c[0],c[1])&&(c[1]=d[1]);aa(d[0],c[1])>aa(c[0],c[1])&&(c[0]=d[0])}else e.push(c=d)}for(var f=-Infinity,g,a=e.length-1,b=0,c=e[a];b<=a;c=d,++b){d=e[b];if((g=aa(c[1],d[0]))>f){f=g;O=d[0];Q=c[1]}}}Za=Na=null;return O===Infinity||ka===Infinity?[[NaN,NaN],[NaN,NaN]]:[[O,ka],[Q,
qa]]};i.geo.centroid=function(a){tb=db=xa=ya=ma=ba=ca=W=Ha=Ia=na=0;i.geo.stream(a,ia);var a=Ha,b=Ia,c=na,d=a*a+b*b+c*c;if(d<ud){a=ba;b=ca;c=W;if(db<t){a=xa;b=ya;c=ma}d=a*a+b*b+c*c;if(d<ud)return[NaN,NaN]}return[Math.atan2(b,a)*I,Ga(c/Math.sqrt(d))*I]};var tb,db,xa,ya,ma,ba,ca,W,Ha,Ia,na,ia={sphere:M,point:hd,lineStart:Pe,lineEnd:Qe,polygonStart:function(){ia.lineStart=uh},polygonEnd:function(){ia.lineStart=Pe}},hf=Ue(eb,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();
e=1},point:function(f,g){var h=f>0?C:-C,j=x(f-b);if(x(j-C)<t){a.point(b,c=(c+g)/2>0?K:-K);a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);a.point(f,c);e=0}else if(d!==h&&j>=C){x(b-d)<t&&(b=b-d*t);x(f-h)<t&&(f=f-h*t);var j=b,k=c,i=f,m,n,o=Math.sin(j-i);c=x(o)>t?Math.atan((Math.sin(k)*(n=Math.cos(g))*Math.sin(i)-Math.sin(g)*(m=Math.cos(k))*Math.sin(j))/(m*n*o)):(k+g)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);e=0}a.point(b=f,c=g);d=h},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-
e}}},function(a,b,c,d){if(a==null){c=c*K;d.point(-C,c);d.point(0,c);d.point(C,c);d.point(C,0);d.point(C,-c);d.point(0,-c);d.point(-C,-c);d.point(-C,0);d.point(-C,c)}else if(x(a[0]-b[0])>t){a=a[0]<b[0]?C:-C;c=c*a/2;d.point(-a,c);d.point(0,c);d.point(a,c)}else d.point(b[0],b[1])},[-C,-C/2]),ac=1E9;i.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){if(e)e.valid=false;e=f(a);e.valid=true;return e},extent:function(h){if(!arguments.length)return[[a,b],[c,d]];f=$e(a=+h[0][0],b=+h[0][1],c=
+h[1][0],d=+h[1][1]);if(e){e.valid=false;e=null}return g}};return g.extent([[0,0],[960,500]])};(i.geo.conicEqualArea=function(){return kd(af)}).raw=af;i.geo.albers=function(){return i.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};i.geo.albersUsa=function(){function a(a){var b=a[0],a=a[1];e=null;(g(b,a),e)||(h(b,a),e)||j(b,a);return e}var b=i.geo.albers(),c=i.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=i.geo.conicEqualArea().rotate([157,
0]).center([-3,19.9]).parallels([8,18]),e,f={point:function(a,b){e=[a,b]}},g,h,j;a.invert=function(a){var e=b.scale(),f=b.translate(),g=(a[0]-f[0])/e,e=(a[1]-f[1])/e;return(e>=0.12&&e<0.234&&g>=-0.425&&g<-0.214?c:e>=0.166&&e<0.234&&g>=-0.214&&g<-0.115?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,b);f.point(a,b);g.point(a,b)},sphere:function(){e.sphere();f.sphere();g.sphere()},lineStart:function(){e.lineStart();f.lineStart();
g.lineStart()},lineEnd:function(){e.lineEnd();f.lineEnd();g.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();g.polygonStart()},polygonEnd:function(){e.polygonEnd();f.polygonEnd();g.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);c.scale(e*0.35);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();
var i=b.scale(),m=+e[0],n=+e[1];g=b.translate(e).clipExtent([[m-0.455*i,n-0.238*i],[m+0.455*i,n+0.238*i]]).stream(f).point;h=c.translate([m-0.307*i,n+0.201*i]).clipExtent([[m-0.425*i+t,n+0.12*i+t],[m-0.214*i-t,n+0.234*i-t]]).stream(f).point;j=d.translate([m-0.205*i,n+0.212*i]).clipExtent([[m-0.214*i+t,n+0.166*i+t],[m-0.115*i-t,n+0.234*i-t]]).stream(f).point;return a};return a.scale(1070)};var xc,bc,Ja={point:M,lineStart:M,lineEnd:M,polygonStart:function(){bc=0;Ja.lineStart=xh},polygonEnd:function(){Ja.lineStart=
Ja.lineEnd=Ja.point=M;xc=xc+x(bc/2)}},yc,zc,Ac,Bc,Ni={point:function(a,b){a<yc&&(yc=a);a>Ac&&(Ac=a);b<zc&&(zc=b);b>Bc&&(Bc=b)},lineStart:M,lineEnd:M,polygonStart:M,polygonEnd:M},ja={point:Ua,lineStart:cf,lineEnd:df,polygonStart:function(){ja.lineStart=zh},polygonEnd:function(){ja.point=Ua;ja.lineStart=cf;ja.lineEnd=df}};i.geo.path=function(){function a(a){if(a){typeof c==="function"&&g.pointRadius(+c.apply(this,arguments));if(!h||!h.valid)h=f(g);i.geo.stream(a,h)}return g.result()}function b(){h=
null;return a}var c=4.5,d,e,f,g,h;a.area=function(a){xc=0;i.geo.stream(a,f(Ja));return xc};a.centroid=function(a){xa=ya=ma=ba=ca=W=Ha=Ia=na=0;i.geo.stream(a,f(ja));return na?[Ha/na,Ia/na]:W?[ba/W,ca/W]:ma?[xa/ma,ya/ma]:[NaN,NaN]};a.bounds=function(a){Ac=Bc=-(yc=zc=Infinity);i.geo.stream(a,f(Ni));return[[yc,zc],[Ac,Bc]]};a.projection=function(a){if(!arguments.length)return d;var c;if(d=a){if(!(c=a.stream)){var e=ef(function(b,c){return a([b*I,c*I])});c=function(a){return jf(e(a))}}}else c=P;f=c;return b()};
a.context=function(a){if(!arguments.length)return e;g=(e=a)==null?new yh:new Ah(a);typeof c!=="function"&&g.pointRadius(c);return b()};a.pointRadius=function(b){if(!arguments.length)return c;c=typeof b==="function"?b:(g.pointRadius(+b),+b);return a};return a.projection(i.geo.albersUsa()).context(null)};i.geo.transform=function(a){return{stream:function(b){var b=new gf(b),c;for(c in a)b[c]=a[c];return b}}};gf.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},
lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};i.geo.projection=Ka;i.geo.projectionMutator=ld;(i.geo.equirectangular=function(){return Ka(vb)}).raw=vb.invert=vb;i.geo.rotation=function(a){function b(b){b=a(b[0]*z,b[1]*z);return b[0]=b[0]*I,b[1]=b[1]*I,b}a=md(a[0]%360*z,a[1]*z,a.length>2?a[2]*z:0);b.invert=function(b){b=a.invert(b[0]*z,b[1]*z);return b[0]=b[0]*
I,b[1]=b[1]*I,b};return b};kf.invert=vb;i.geo.circle=function(){function a(){var a=typeof b==="function"?b.apply(this,arguments):b,c=md(-a[0]*z,-a[1]*z,0).invert,d=[];e(null,null,1,{point:function(a,b){d.push(a=c(a,b));a[0]=a[0]*I;a[1]=a[1]*I}});return{type:"Polygon",coordinates:[d]}}var b=[0,0],c,d=6,e;a.origin=function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=nd((c=+b)*z,d*z);return a};a.precision=function(b){if(!arguments.length)return d;
e=nd(c*z,(d=+b)*z);return a};return a.angle(90)};i.geo.distance=function(a,b){var c=(b[0]-a[0])*z,d=a[1]*z,e=b[1]*z,f=Math.sin(c),c=Math.cos(c),g=Math.sin(d),d=Math.cos(d),h=Math.sin(e),e=Math.cos(e),j;return Math.atan2(Math.sqrt((j=e*f)*j+(j=d*h-g*e*c)*j),g*h+d*e*c)};i.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return i.range(Math.ceil(f/n)*n,e,n).map(s).concat(i.range(Math.ceil(k/o)*o,j,o).map(u)).concat(i.range(Math.ceil(d/l)*l,c,l).filter(function(a){return x(a%
n)>t}).map(q)).concat(i.range(Math.ceil(h/m)*m,g,m).filter(function(a){return x(a%o)>t}).map(r))}var c,d,e,f,g,h,j,k,l=10,m=l,n=90,o=360,q,r,s,u,w=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[s(f).concat(u(j).slice(1),s(e).reverse().slice(1),u(k).reverse().slice(1))]}};a.extent=function(b){return!arguments.length?a.minorExtent():a.majorExtent(b).minorExtent(b)};a.majorExtent=function(b){if(!arguments.length)return[[f,
k],[e,j]];f=+b[0][0];e=+b[1][0];k=+b[0][1];j=+b[1][1];if(f>e){b=f;f=e;e=b}if(k>j){b=k;k=j;j=b}return a.precision(w)};a.minorExtent=function(b){if(!arguments.length)return[[d,h],[c,g]];d=+b[0][0];c=+b[1][0];h=+b[0][1];g=+b[1][1];if(d>c){b=d;d=c;c=b}if(h>g){b=h;h=g;g=b}return a.precision(w)};a.step=function(b){return!arguments.length?a.minorStep():a.majorStep(b).minorStep(b)};a.majorStep=function(b){if(!arguments.length)return[n,o];n=+b[0];o=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[l,
m];l=+b[0];m=+b[1];return a};a.precision=function(b){if(!arguments.length)return w;w=+b;q=pf(h,g,90);r=qf(d,c,w);s=pf(k,j,90);u=qf(f,e,w);return a};return a.majorExtent([[-180,-90+t],[180,90-t]]).minorExtent([[-180,-80-t],[180,80+t]])};i.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}var b=od,c,d=pd,e;a.distance=function(){return i.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;
b=d;c=typeof d==="function"?null:d;return a};a.target=function(b){if(!arguments.length)return d;d=b;e=typeof b==="function"?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};i.geo.interpolate=function(a,b){var c=a[0]*z,d=a[1]*z,e=b[0]*z,f=b[1]*z,g=Math.cos(d),h=Math.sin(d),j=Math.cos(f),i=Math.sin(f),l=g*Math.cos(c),m=g*Math.sin(c),n=j*Math.cos(e),o=j*Math.sin(e),q=2*Math.asin(Math.sqrt(xe(f-d)+g*j*xe(e-c))),r=1/Math.sin(q),e=q?function(a){var b=Math.sin(a=a*q)*r,c=Math.sin(q-
a)*r,a=c*l+b*n,d=c*m+b*o,b=c*h+b*i;return[Math.atan2(d,a)*I,Math.atan2(b,Math.sqrt(a*a+d*d))*I]}:function(){return[c*I,d*I]};e.distance=q;return e};i.geo.length=function(a){Cc=0;i.geo.stream(a,qb);return Cc};var Cc,qb={sphere:M,point:M,lineStart:function(){function a(a,f){var g=Math.sin(f=f*z),h=Math.cos(f),j=x((a=a*z)-b),i=Math.cos(j);Cc=Cc+Math.atan2(Math.sqrt((j=h*Math.sin(j))*j+(j=d*g-c*h*i)*j),c*g+d*h*i);b=a;c=g;d=h}var b,c,d;qb.point=function(e,f){b=e*z;c=Math.sin(f=f*z);d=Math.cos(f);qb.point=
a};qb.lineEnd=function(){qb.point=qb.lineEnd=M}},lineEnd:M,polygonStart:M,polygonEnd:M},Hg=wb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(i.geo.azimuthalEqualArea=function(){return Ka(Hg)}).raw=Hg;var Ig=wb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},P);(i.geo.azimuthalEquidistant=function(){return Ka(Ig)}).raw=Ig;(i.geo.conicConformal=function(){return kd(rf)}).raw=rf;(i.geo.conicEquidistant=function(){return kd(sf)}).raw=sf;var Jg=wb(function(a){return 1/
a},Math.atan);(i.geo.gnomonic=function(){return Ka(Jg)}).raw=Jg;cc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-K]};(i.geo.mercator=function(){return tf(cc)}).raw=cc;var Kg=wb(function(){return 1},Math.asin);(i.geo.orthographic=function(){return Ka(Kg)}).raw=Kg;var Lg=wb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(i.geo.stereographic=function(){return Ka(Lg)}).raw=Lg;qd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-K]};(i.geo.transverseMercator=function(){var a=
tf(qd),b=a.center,c=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90])}).raw=qd;i.geom={};i.geom.hull=function(a){function b(a){if(a.length<3)return[];var b=H(c),g=H(d),h,j=a.length,i=[],l=[];for(h=0;h<j;h++)i.push([+b.call(this,a[h],h),+g.call(this,a[h],h),h]);i.sort(Bh);for(h=0;h<j;h++)l.push([i[h][0],-i[h][1]]);var b=uf(i),l=uf(l),g=l[0]===b[0],j=l[l.length-
1]===b[b.length-1],m=[];for(h=b.length-1;h>=0;--h)m.push(a[i[b[h]][2]]);for(h=+g;h<l.length-j;++h)m.push(a[i[l[h]][2]]);return m}var c=hb,d=xb;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};i.geom.polygon=function(a){Hb(a,Dc);return a};var Dc=i.geom.polygon.prototype=[];Dc.area=function(){for(var a=-1,b=this.length,c,d=this[b-1],e=0;++a<b;){c=d;d=this[a];e=e+(c[1]*d[0]-c[0]*d[1])}return e*0.5};Dc.centroid=
function(a){var b=-1,c=this.length,d=0,e=0,f,g=this[c-1],h;for(arguments.length||(a=-1/(6*this.area()));++b<c;){f=g;g=this[b];h=f[0]*g[1]-g[0]*f[1];d=d+(f[0]+g[0])*h;e=e+(f[1]+g[1])*h}return[d*a,e*a]};Dc.clip=function(a){for(var b,c=vf(a),d=-1,e=this.length-vf(this),f,g,h=this[e-1],j,i,l;++d<e;){b=a.slice();a.length=0;j=this[d];i=b[(g=b.length-c)-1];for(f=-1;++f<g;){l=b[f];if(rd(l,h,j)){rd(i,h,j)||a.push(sd(i,l,h,j));a.push(l)}else rd(i,h,j)&&a.push(sd(i,l,h,j));i=l}c&&a.push(a[0]);h=j}return a};
var lb,Va,jb,xf=[],vd,yb,Bf=[];zf.prototype.prepare=function(){for(var a=this.edges,b=a.length,c;b--;){c=a[b].edge;(!c.b||!c.a)&&a.splice(b,1)}a.sort(Af);return a.length};fc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};wd.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else if(this._){a=Df(this._);b.P=null;b.N=
a;a.P=a.L=b;c=a}else{b.P=b.N=null;this._=b;c=null}b.L=b.R=null;b.U=c;b.C=true;for(a=b;c&&c.C;){d=c.U;if(c===d.L)if((e=d.R)&&e.C){c.C=e.C=false;d.C=true;a=d}else{if(a===c.R){Ab(this,c);a=c;c=a.U}c.C=false;d.C=true;Bb(this,d)}else if((e=d.L)&&e.C){c.C=e.C=false;d.C=true;a=d}else{if(a===c.L){Bb(this,c);a=c;c=a.U}c.C=false;d.C=true;Ab(this,d)}c=a.U}this._.C=false},remove:function(a){if(a.N)a.N.P=a.P;if(a.P)a.P.N=a.N;a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,f;e=c?d?Df(d):c:d;b?b.L===a?b.L=e:b.R=e:this._=e;
if(c&&d){f=e.C;e.C=a.C;e.L=c;c.U=e;if(e!==d){b=e.U;e.U=a.U;a=e.R;b.L=a;e.R=d;d.U=e}else{e.U=b;b=e;a=e.R}}else{f=a.C;a=e}if(a)a.U=b;if(!f)if(a&&a.C)a.C=false;else{do{if(a===this._)break;if(a===b.L){a=b.R;if(a.C){a.C=false;b.C=true;Ab(this,b);a=b.R}if(a.L&&a.L.C||a.R&&a.R.C){if(!a.R||!a.R.C){a.L.C=false;a.C=true;Bb(this,a);a=b.R}a.C=b.C;b.C=a.R.C=false;Ab(this,b);a=this._;break}}else{a=b.L;if(a.C){a.C=false;b.C=true;Bb(this,b);a=b.L}if(a.L&&a.L.C||a.R&&a.R.C){if(!a.L||!a.L.C){a.R.C=false;a.C=true;Ab(this,
a);a=b.L}a.C=b.C;b.C=a.L.C=false;Bb(this,b);a=this._;break}}a.C=true;a=b;b=b.U}while(!a.C);if(a)a.C=false}}};i.geom.voronoi=function(a){function b(a){var b=Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];xd(c(a),h).cells.forEach(function(c,h){var i=c.edges,u=c.site;(b[h]=i.length?i.map(function(a){a=a.start();return[a.x,a.y]}):u.x>=d&&u.x<=f&&u.y>=e&&u.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[]).point=a[h]});return b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/t)*t,y:Math.round(g(a,
b)/t)*t,i:b}})}var d=hb,e=xb,f=d,g=e,h=Ec;if(a)return b(a);b.links=function(a){return xd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};b.triangles=function(a){var b=[];xd(c(a)).cells.forEach(function(c,d){for(var e=c.site,f=c.edges.sort(Af),g=-1,h=f.length,i,u=f[h-1].edge,u=u.l===e?u.r:u.l;++g<h;){i=u;u=f[g].edge;u=u.l===e?u.r:u.l;d<i.i&&(d<u.i&&(e.x-u.x)*(i.y-e.y)-(e.x-i.x)*(u.y-e.y)<0)&&b.push([a[d],a[i.i],a[u.i]])}});return b};b.x=function(a){return arguments.length?
(f=H(d=a),b):d};b.y=function(a){return arguments.length?(g=H(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return h===Ec?null:h;h=a==null?Ec:a;return b};b.size=function(a){return!arguments.length?h===Ec?null:h&&h[1]:b.clipExtent(a&&[[0,0],a])};return b};var Ec=[[-1E6,-1E6],[1E6,1E6]];i.geom.delaunay=function(a){return i.geom.voronoi().triangles(a)};i.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,g,h,j){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var k=a.x,l=a.y;if(k!=null){if(!(x(k-
c)+x(l-d)<0.01)){var n=a.point;a.x=a.y=a.point=null;i(a,n,k,l,e,g,h,j)}i(a,b,c,d,e,g,h,j)}else{a.x=c;a.y=d;a.point=b}}else i(a,b,c,d,e,g,h,j)}function i(a,b,c,d,e,g,h,j){var k=(e+h)*0.5,m=(g+j)*0.5,n=c>=k,p=d>=m,s=p<<1|n;a.leaf=false;a=a.nodes[s]||(a.nodes[s]=Ef());n?e=k:h=k;p?g=m:j=m;f(a,b,c,d,e,g,h,j)}var n,o=H(g),q=H(h),r,s,u,w,p,y,B,D;if(b!=null){p=b;y=c;B=d;D=e}else{B=D=-(p=y=Infinity);r=[];s=[];w=a.length;if(j)for(u=0;u<w;++u){n=a[u];if(n.x<p)p=n.x;if(n.y<y)y=n.y;if(n.x>B)B=n.x;if(n.y>D)D=n.y;
r.push(n.x);s.push(n.y)}else for(u=0;u<w;++u){var A=+o(n=a[u],u);n=+q(n,u);A<p&&(p=A);n<y&&(y=n);A>B&&(B=A);n>D&&(D=n);r.push(A);s.push(n)}}A=B-p;n=D-y;A>n?D=y+A:B=p+n;var t=Ef();t.add=function(a){f(t,a,+o(a,++u),+q(a,u),p,y,B,D)};t.visit=function(a){Cb(a,t,p,y,B,D)};t.find=function(a){var b=a[0],c=a[1],d=p,e=y,f=B,g=D,h=Infinity,j;(function oa(a,i,k,l,m){if(!(i>f||k>g||l<d||m<e)){if(n=a.point){var n,p=b-a.x,s=c-a.y,p=p*p+s*s;if(p<h){p=Math.sqrt(h=p);d=b-p;e=c-p;f=b+p;g=c+p;j=n}}n=a.nodes;for(var p=
(i+l)*0.5,s=(k+m)*0.5,r=(c>=s)<<1|b>=p,o=r+4;r<o;++r)if(a=n[r&3])switch(r&3){case 0:oa(a,i,k,p,s);break;case 1:oa(a,p,k,l,s);break;case 2:oa(a,i,s,p,m);break;case 3:oa(a,p,s,l,m)}}})(t,d,e,f,g);return j};u=-1;if(b==null){for(;++u<w;)f(t,a[u],r[u],s[u],p,y,B,D);--u}else a.forEach(t.add);r=s=a=n=null;return t}var g=hb,h=xb,j;if(j=arguments.length){g=Hh;h=Ih;if(j===3){e=c;d=b;c=b=0}return f(a)}f.x=function(a){return arguments.length?(g=a,f):g};f.y=function(a){return arguments.length?(h=a,f):h};f.extent=
function(a){if(!arguments.length)return b==null?null:[[b,c],[d,e]];if(a==null)b=c=d=e=null;else{b=+a[0][0];c=+a[0][1];d=+a[1][0];e=+a[1][1]}return f};f.size=function(a){if(!arguments.length)return b==null?null:[d-b,e-c];if(a==null)b=c=d=e=null;else{b=c=0;d=+a[0];e=+a[1]}return f};return f};i.interpolateRgb=yd;i.interpolateObject=Ff;i.interpolateNumber=za;i.interpolateString=Gf;var zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ad=RegExp(zd.source,"g");i.interpolate=Wa;i.interpolators=[function(a,
b){var c=typeof b;return(c==="string"?Lb.has(b)||/^(#|rgb\(|hsl\()/.test(b)?yd:Gf:b instanceof Qa?yd:Array.isArray(b)?gc:c==="object"&&isNaN(b)?Ff:za)(a,b)}];i.interpolateArray=gc;var Mg=function(){return P},Oi=i.map({linear:Mg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Jh},cubic:function(){return Kh},sin:function(){return Mh},exp:function(){return Nh},circle:function(){return Oh},elastic:function(a,b){var c;arguments.length<2&&(b=0.45);if(arguments.length)c=
b/Z*Math.asin(1/a);else{a=1;c=b/4}return function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Z/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return Ph}}),Pi=i.map({"in":P,out:Hf,"in-out":If,"out-in":function(a){return If(Hf(a))}});i.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,b=b>=0?a.slice(b+1):"in",c=Oi.get(c)||Mg,b=Pi.get(b)||P,d=b(c.apply(null,tg.call(arguments,1)));return function(a){return a<=0?0:a>=1?1:d(a)}};i.interpolateHcl=
function(a,b){var a=i.hcl(a),b=i.hcl(b),c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;if(isNaN(g)){g=0;d=isNaN(d)?b.c:d}if(isNaN(f)){f=0;c=isNaN(c)?b.h:c}else f>180?f=f-360:f<-180&&(f=f+360);return function(a){return Wc(c+f*a,d+g*a,e+h*a)+""}};i.interpolateHsl=function(a,b){var a=i.hsl(a),b=i.hsl(b),c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;if(isNaN(g)){g=0;d=isNaN(d)?b.s:d}if(isNaN(f)){f=0;c=isNaN(c)?b.h:c}else f>180?f=f-360:f<-180&&(f=f+360);return function(a){return Vc(c+f*a,d+g*a,e+h*a)+""}};i.interpolateLab=
function(a,b){var a=i.lab(a),b=i.lab(b),c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return Ce(c+f*a,d+g*a,e+h*a)+""}};i.interpolateRound=Jf;i.transform=function(a){var b=T.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(a){if(a!=null){b.setAttribute("transform",a);var d=b.transform.baseVal.consolidate()}return new Kf(d?d.matrix:Qi)})(a)};Kf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+
")"};var Qi={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Mf;i.layout={};i.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Sh(a[c]));return b}};i.layout.chord=function(){function a(){var a={},c=[],o=i.range(g),q=[],r,s,u,w,p;d=[];e=[];r=0;for(w=-1;++w<g;){s=0;for(p=-1;++p<g;)s=s+f[w][p];c.push(s);q.push(i.range(g));r=r+s}j&&o.sort(function(a,b){return j(c[a],c[b])});k&&q.forEach(function(a,b){a.sort(function(a,c){return k(f[b][a],f[b][c])})});r=(Z-h*g)/r;
s=0;for(w=-1;++w<g;){u=s;for(p=-1;++p<g;){var y=o[w],B=q[y][p],D=f[y][B],A=s,t=s=s+D*r;a[y+"-"+B]={index:y,subindex:B,startAngle:A,endAngle:t,value:D}}e[y]={index:y,startAngle:u,endAngle:s,value:(s-u)/r};s=s+h}for(w=-1;++w<g;)for(p=w-1;++p<g;){o=a[w+"-"+p];q=a[p+"-"+w];if(o.value||q.value)d.push(o.value<q.value?{source:q,target:o}:{source:o,target:q})}l&&b()}function b(){d.sort(function(a,b){return l((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,g,h=0,j,k,l;
c.matrix=function(a){if(!arguments.length)return f;g=(f=a)&&f.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return h;h=a;d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return j;j=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return k;k=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return l;l=a;d&&b();return c};c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};i.layout.force=function(){function a(a){return function(b,
c,d,e){if(b.point!==a){var d=b.cx-a.x,f=b.cy-a.y,c=e-c,e=d*d+f*f;if(c*c/o<e){if(e<m){c=b.charge/e;a.px=a.px-d*c;a.py=a.py-f*c}return true}if(b.point&&e&&e<m){c=b.pointCharge/e;a.px=a.px-d*c;a.py=a.py-f*c}}return!b.charge}}function b(a){a.px=i.event.x;a.py=i.event.y;c.resume()}var c={},d=i.dispatch("start","tick","end"),e=[1,1],f,g,h=0.9,j=Ri,k=Si,l=-30,m=Ti,n=0.1,o=0.64,q=[],r=[],s,u,w;c.tick=function(){if((g=g*0.99)<0.005){d.end({type:"end",alpha:g=0});return true}var b=q.length,c=r.length,f,j,k,
m,o,t,v;for(f=0;f<c;++f){j=r[f];k=j.source;m=j.target;t=m.x-k.x;v=m.y-k.y;if(o=t*t+v*v){o=g*u[f]*((o=Math.sqrt(o))-s[f])/o;t=t*o;v=v*o;m.x=m.x-t*(o=k.weight/(m.weight+k.weight));m.y=m.y-v*o;k.x=k.x+t*(o=1-o);k.y=k.y+v*o}}if(o=g*n){t=e[0]/2;v=e[1]/2;f=-1;if(o)for(;++f<b;){j=q[f];j.x=j.x+(t-j.x)*o;j.y=j.y+(v-j.y)*o}}if(l){Of(c=i.geom.quadtree(q),g,w);for(f=-1;++f<b;)(j=q[f]).fixed||c.visit(a(j))}for(f=-1;++f<b;){j=q[f];if(j.fixed){j.x=j.px;j.y=j.py}else{j.x=j.x-(j.px-(j.px=j.x))*h;j.y=j.y-(j.py-(j.py=
j.y))*h}}d.tick({type:"tick",alpha:g})};c.nodes=function(a){if(!arguments.length)return q;q=a;return c};c.links=function(a){if(!arguments.length)return r;r=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return j;j=typeof a==="function"?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return k;k=typeof a==="function"?a:+a;return c};c.friction=function(a){if(!arguments.length)return h;
h=+a;return c};c.charge=function(a){if(!arguments.length)return l;l=typeof a==="function"?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(m);m=a*a;return c};c.gravity=function(a){if(!arguments.length)return n;n=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(o);o=a*a;return c};c.alpha=function(a){if(!arguments.length)return g;a=+a;if(g)g=a>0?a:0;else if(a>0){d.start({type:"start",alpha:g=a});i.timer(c.tick)}return c};c.start=function(){function a(c,
e){if(!i){i=Array(d);for(h=0;h<d;++h)i[h]=[];for(h=0;h<f;++h){var g=r[h];i[g.source.index].push(g.target);i[g.target.index].push(g.source)}}for(var g=i[b],h=-1,j=g.length,k;++h<j;)if(!isNaN(k=g[h][c]))return k;return Math.random()*e}var b,d=q.length,f=r.length,g=e[0],h=e[1],i,m;for(b=0;b<d;++b){(m=q[b]).index=b;m.weight=0}for(b=0;b<f;++b){m=r[b];if(typeof m.source=="number")m.source=q[m.source];if(typeof m.target=="number")m.target=q[m.target];++m.source.weight;++m.target.weight}for(b=0;b<d;++b){m=
q[b];if(isNaN(m.x))m.x=a("x",g);if(isNaN(m.y))m.y=a("y",h);if(isNaN(m.px))m.px=m.x;if(isNaN(m.py))m.py=m.y}s=[];if(typeof j==="function")for(b=0;b<f;++b)s[b]=+j.call(this,r[b],b);else for(b=0;b<f;++b)s[b]=j;u=[];if(typeof k==="function")for(b=0;b<f;++b)u[b]=+k.call(this,r[b],b);else for(b=0;b<f;++b)u[b]=k;w=[];if(typeof l==="function")for(b=0;b<d;++b)w[b]=+l.call(this,q[b],b);else for(b=0;b<d;++b)w[b]=l;return c.resume()};c.resume=function(){return c.alpha(0.1)};c.stop=function(){return c.alpha(0)};
c.drag=function(){f||(f=i.behavior.drag().origin(P).on("dragstart.force",Th).on("drag.force",b).on("dragend.force",Uh));if(!arguments.length)return f;this.on("mouseover.force",Vh).on("mouseout.force",Wh).call(f)};return i.rebind(c,d,"on")};var Ri=20,Si=1,Ti=Infinity;i.layout.hierarchy=function(){function a(e){var f=[e],g=[],h;for(e.depth=0;(h=f.pop())!=null;){g.push(h);if((i=c.call(a,h,h.depth))&&(j=i.length)){for(var j,i,l;--j>=0;){f.push(l=i[j]);l.parent=h;l.depth=h.depth+1}if(d)h.value=0;h.children=
i}else{if(d)h.value=+d.call(a,h,h.depth)||0;delete h.children}}pa(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);if(d&&(e=a.parent))e.value=e.value+a.value});return g}var b=$h,c=Yh,d=Zh;a.sort=function(c){if(!arguments.length)return b;b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){if(d){Eb(b,function(a){if(a.children)a.value=0});pa(b,function(b){var c;if(!b.children)b.value=
+d.call(a,b,b.depth)||0;if(c=b.parent)c.value=c.value+b.value})}return b};return a};i.layout.partition=function(){function a(b,c,d,e){var i=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(i&&(m=i.length))for(var l=-1,m,n,d=b.value?d/b.value:0;++l<m;){a(n=i[l],c,b=n.value*d,e);c=c+b}}function b(a){var a=a.children,c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(c,g){var h=d.call(this,c,g);a(h[0],0,e[0],e[1]/b(h[0]));return h}var d=i.layout.hierarchy(),e=[1,
1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return Db(c,d)};i.layout.pie=function(){function a(g){var h=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+(typeof d==="function"?d.apply(this,arguments):d),l=(typeof e==="function"?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/h,+(typeof f==="function"?f.apply(this,arguments):f)),n=m*(l<0?-1:1),o=(l-h*n)/i.sum(j),h=i.range(h),q=[],r;c!=null&&h.sort(c===Ng?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],
g[b])});h.forEach(function(a){q[a]={data:g[a],value:r=j[a],startAngle:k,endAngle:k=k+(r*o+n),padAngle:m}});return q}var b=Number,c=Ng,d=0,e=Z,f=0;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return d;d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};a.padAngle=function(b){if(!arguments.length)return f;f=b;return a};return a};var Ng={};i.layout.stack=
function(){function a(h,j){if(!(o=h.length))return h;var k=h.map(function(c,d){return b.call(a,c,d)}),l=k.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),m=c.call(a,l,j),k=i.permute(k,m),l=i.permute(l,m),m=d.call(a,l,j),n=k[0].length,o,q,r,s;for(r=0;r<n;++r){e.call(a,k[0][r],s=m[r],l[0][r][1]);for(q=1;q<o;++q)e.call(a,k[q][r],s=s+l[q-1][r][1],l[q][r][1])}return h}var b=P,c=Bd,d=Cd,e=ci,f=ai,g=bi;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=
function(b){if(!arguments.length)return c;c=typeof b==="function"?b:Ui.get(b)||Bd;return a};a.offset=function(b){if(!arguments.length)return d;d=typeof b==="function"?b:Vi.get(b)||Cd;return a};a.x=function(b){if(!arguments.length)return f;f=b;return a};a.y=function(b){if(!arguments.length)return g;g=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var Ui=i.map({"inside-out":function(a){for(var b=a.length,c,d=a.map(di),e=a.map(ei),f=i.range(b).sort(function(a,b){return d[a]-
d[b]}),g=0,h=0,j=[],k=[],a=0;a<b;++a){c=f[a];if(g<h){g=g+e[c];j.push(c)}else{h=h+e[c];k.push(c)}}return k.reverse().concat(j)},reverse:function(a){return i.range(a.length).reverse()},"default":Bd}),Vi=i.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,j=[];for(g=0;g<c;++g){for(h=f=0;f<b;f++)h=h+a[f][g][1];h>e&&(e=h);d.push(h)}for(g=0;g<c;++g)j[g]=(e-d[g])/2;return j},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,g,h,j,i,l,m,n,o=[];o[0]=m=n=0;for(f=1;f<d;++f){for(h=
e=0;e<b;++e)h=h+a[e][f][1];j=e=0;for(l=c[f][0]-c[f-1][0];e<b;++e){g=0;for(i=(a[e][f][1]-a[e][f-1][1])/(2*l);g<e;++g)i=i+(a[g][f][1]-a[g][f-1][1])/l;j=j+i*a[e][f][1]}o[f]=m=m-(h?j/h*l:0);m<n&&(n=m)}for(f=0;f<d;++f)o[f]=o[f]-n;return o},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(g=e=0;e<b;e++)g=g+a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]=a[e][f][1]/g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:Cd});i.layout.histogram=function(){function a(a,
g){for(var h=[],j=a.map(c,this),k=d.call(this,j,g),l=e.call(this,k,j,g),m,g=-1,n=j.length,o=l.length-1,q=b?1:1/n;++g<o;){m=h[g]=[];m.dx=l[g+1]-(m.x=l[g]);m.y=0}if(o>0)for(g=-1;++g<n;){m=j[g];if(m>=k[0]&&m<=k[1]){m=h[i.bisect(l,m,1,o)-1];m.y=m.y+q;m.push(a[g])}}return h}var b=true,c=Number,d=hi,e=gi;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=H(b);return a};a.bins=function(b){if(!arguments.length)return e;e=typeof b==="number"?
function(a){return Pf(a,b)}:H(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};i.layout.pack=function(){function a(a,g){var h=b.call(this,a,g),j=h[0],i=d[0],l=d[1],m=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};j.x=j.y=0;pa(j,function(a){a.r=+m(a.value)});pa(j,Rf);if(c){var n=c*(e?1:Math.max(2*j.r/i,2*j.r/l))/2;pa(j,function(a){a.r=a.r+n});pa(j,Rf);pa(j,function(a){a.r=a.r-n})}Tf(j,i/2,l/2,e?1:1/Math.max(2*j.r/i,2*j.r/l));return h}var b=
i.layout.hierarchy().sort(ii),c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=b==null||typeof b==="function"?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return Db(a,b)};i.layout.tree=function(){function a(a,i){var l=e.call(this,a,i),m=l[0],n;n={A:null,children:[m]};for(var o=[n],q;(q=o.pop())!=null;)for(var r=q.children,s,u=0,w=r.length;u<w;++u)o.push((r[u]=s={_:r[u],parent:q,children:(s=
r[u].children)&&s.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=s);n=n.children[0];pa(n,b);n.parent.m=-n.z;Eb(n,c);if(h)Eb(m,d);else{var p=m,y=m,t=m;Eb(m,function(a){a.x<p.x&&(p=a);a.x>y.x&&(y=a);a.depth>t.depth&&(t=a)});var v=f(p,y)/2-p.x,A=g[0]/(y.x+f(y,p)/2+v),z=g[1]/(t.depth||1);Eb(m,function(a){a.x=(a.x+v)*A;a.y=a.depth*z})}return l}function b(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){for(var e=0,g=0,h=a.children,i=h.length,s;--i>=0;){s=h[i];s.z=s.z+
e;s.m=s.m+e;e=e+(s.s+(g=g+s.c))}b=(b[0].z+b[b.length-1].z)/2;if(d){a.z=d.z+f(a._,d._);a.m=a.z-b}else a.z=b}else if(d)a.z=d.z+f(a._,d._);b=a.parent;c=a.parent.A||c[0];if(d){g=e=a;h=e.parent.children[0];i=e.m;s=g.m;for(var u=d.m,w=h.m,p;d=Fd(d),e=Ed(e),d&&e;){h=Ed(h);g=Fd(g);g.a=a;p=d.z+u-e.z-i+f(d._,e._);if(p>0){var y=d.a.parent===a.parent?d.a:c,t=a,v=p,A=v/(t.i-y.i);t.c=t.c-A;t.s=t.s+v;y.c=y.c+A;t.z=t.z+v;t.m=t.m+v;i=i+p;s=s+p}u=u+d.m;i=i+e.m;w=w+h.m;s=s+g.m}if(d&&!Fd(g)){g.t=d;g.m=g.m+(u-s)}if(e&&
!Ed(h)){h.t=e;h.m=h.m+(i-w);c=a}}b.A=c}function c(a){a._.x=a.z+a.parent.m;a.m=a.m+a.parent.m}function d(a){a.x=a.x*g[0];a.y=a.depth*g[1]}var e=i.layout.hierarchy().sort(null).value(null),f=Uf,g=[1,1],h=null;a.separation=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return h?null:g;h=(g=b)==null?d:null;return a};a.nodeSize=function(b){if(!arguments.length)return h?g:null;h=(g=b)==null?null:d;return a};return Db(a,e)};i.layout.cluster=function(){function a(a,
g){var h=b.call(this,a,g),j=h[0],k,l=0;pa(j,function(a){var b=a.children;if(b&&b.length){a.x=b.reduce(function(a,b){return a+b.x},0)/b.length;a.y=1+i.max(b,function(a){return a.y})}else{a.x=k?l=l+c(a,k):0;a.y=0;k=a}});var m=Vf(j),n=Wf(j),o=m.x-c(m,n)/2,q=n.x+c(n,m)/2;pa(j,e?function(a){a.x=(a.x-j.x)*d[0];a.y=(j.y-a.y)*d[1]}:function(a){a.x=(a.x-o)/(q-o)*d[0];a.y=(1-(j.y?a.y/j.y:1))*d[1]});return h}var b=i.layout.hierarchy().sort(null).value(null),c=Uf,d=[1,1],e=false;a.separation=function(b){if(!arguments.length)return c;
c=b;return a};a.size=function(b){if(!arguments.length)return e?null:d;e=(d=b)==null;return a};a.nodeSize=function(b){if(!arguments.length)return e?d:null;e=(d=b)!=null;return a};return Db(a,b)};i.layout.treemap=function(){function a(a,b){for(var c=-1,d=a.length,e,f;++c<d;){f=(e=a[c]).value*(b<0?0:b);e.area=isNaN(f)||f<=0?0:f}}function b(c){var e=c.children;if(e&&e.length){var f=k(c),g=[],h=e.slice(),i=Infinity,j,l=n==="slice"?f.dx:n==="dice"?f.dy:n==="slice-dice"?c.depth&1?f.dy:f.dx:Math.min(f.dx,
f.dy);a(h,f.dx*f.dy/c.value);for(g.area=0;(c=h.length)>0;){g.push(c=h[c-1]);g.area=g.area+c.area;if(!(c=n!=="squarify")){j=l;for(var c=g.area,m=void 0,t=0,v=Infinity,z=-1,x=g.length;++z<x;)if(m=g[z].area){m<v&&(v=m);m>t&&(t=m)}c=c*c;j=j*j;c=(j=c?Math.max(j*t*o/c,c/(j*v*o)):Infinity)<=i}if(c){h.pop();i=j}else{g.area=g.area-g.pop().area;d(g,l,f,false);l=Math.min(f.dx,f.dy);g.length=g.area=0;i=Infinity}}if(g.length){d(g,l,f,true);g.length=g.area=0}e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=
k(b),g=e.slice(),h=[];a(g,f.dx*f.dy/b.value);for(h.area=0;b=g.pop();){h.push(b);h.area=h.area+b.area;if(b.z!=null){d(h,b.z?f.dx:f.dy,f,!g.length);h.length=h.area=0}}e.forEach(c)}}function d(a,b,c,d){var e=-1,f=a.length,h=c.x,i=c.y,j=b?g(a.area/b):0,k;if(b==c.dx){if(d||j>c.dy)j=c.dy;for(;++e<f;){k=a[e];k.x=h;k.y=i;k.dy=j;h=h+(k.dx=Math.min(c.x+c.dx-h,j?g(k.area/j):0))}k.z=true;k.dx=k.dx+(c.x+c.dx-h);c.y=c.y+j;c.dy=c.dy-j}else{if(d||j>c.dx)j=c.dx;for(;++e<f;){k=a[e];k.x=h;k.y=i;k.dx=j;i=i+(k.dy=Math.min(c.y+
c.dy-i,j?g(k.area/j):0))}k.z=false;k.dy=k.dy+(c.y+c.dy-i);c.x=c.x+j;c.dx=c.dx-j}}function e(d){var d=m||f(d),e=d[0];e.x=0;e.y=0;e.dx=h[0];e.dy=h[1];m&&f.revalue(e);a([e],e.dx*e.dy/e.value);(m?c:b)(e);l&&(m=d);return d}var f=i.layout.hierarchy(),g=Math.round,h=[1,1],j=null,k=Gd,l=false,m,n="squarify",o=0.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return h;h=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);return d==null?Gd(c):Xf(c,typeof d==="number"?[d,d,d,
d]:d)}function c(b){return Xf(b,a)}if(!arguments.length)return j;var d;k=(j=a)==null?Gd:(d=typeof a)==="function"?b:d==="number"?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return l;l=a;m=null;return e};e.ratio=function(a){if(!arguments.length)return o;o=a;return e};e.mode=function(a){if(!arguments.length)return n;n=a+"";return e};return Db(e,f)};i.random={normal:function(a,b){var c=
arguments.length;c<2&&(b=1);c<1&&(a=0);return function(){var c,e;do{c=Math.random()*2-1;e=Math.random()*2-1;e=c*c+e*e}while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=i.random.normal.apply(i,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=i.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b=b+Math.random();return b}}};i.scale={};var mi={floor:P,ceil:P};i.scale.linear=
function(){return Zf([0,1],[0,1],Wa,false)};var oi={s:1,g:1,p:1,r:1,e:1};i.scale.log=function(){return ag(i.scale.linear().domain([0,1]),10,true,[1,10])};var bg=i.format(".0e"),pi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};i.scale.pow=function(){return cg(i.scale.linear(),1,[0,1])};i.scale.sqrt=function(){return i.scale.pow().exponent(0.5)};i.scale.ordinal=function(){return dg([],{t:"range",a:[[]]})};i.scale.category10=function(){return i.scale.ordinal().range(Wi)};
i.scale.category20=function(){return i.scale.ordinal().range(Xi)};i.scale.category20b=function(){return i.scale.ordinal().range(Yi)};i.scale.category20c=function(){return i.scale.ordinal().range(Zi)};var Wi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Kb),Xi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Kb),Yi=[3750777,5395619,
7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Kb),Zi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Kb);i.scale.quantile=function(){return eg([],[])};i.scale.quantize=function(){return fg(0,1,[0,1])};i.scale.threshold=function(){return gg([0.5],[0,1])};i.scale.identity=
function(){return hg([0,1])};i.svg={};i.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),l=Math.max(0,+d.apply(this,arguments)),m=g.apply(this,arguments)-K,n=h.apply(this,arguments)-K,o=Math.abs(n-m),q=m>n?0:1;if(l<a){r=l;l=a;a=r}if(o>=Hi)return b(l,q)+(a?b(a,1-q):"")+"Z";var r,s,u,w,p=r=0,t,v,D,A,z,o=[];if(w=(+i.apply(this,arguments)||0)/2){u=f===Fc?Math.sqrt(a*a+l*l):+f.apply(this,arguments);q||(p=p*-1);l&&(p=Ga(u/l*Math.sin(w)));a&&(r=Ga(u/a*Math.sin(w)))}if(l){u=l*Math.cos(m+
p);w=l*Math.sin(m+p);t=l*Math.cos(n-p);v=l*Math.sin(n-p);s=Math.abs(n-m-2*p)<=C?0:1;if(p&&((u-t)*w-(w-v)*u>0?0:1)===q^s){t=(m+n)/2;u=l*Math.cos(t);w=l*Math.sin(t);t=v=null}}else u=w=0;if(a){p=a*Math.cos(n-r);D=a*Math.sin(n-r);A=a*Math.cos(m+r);z=a*Math.sin(m+r);var x=Math.abs(m-n+2*r)<=C?0:1;if(r&&((p-A)*D-(D-z)*p>0?0:1)===1-q^x){A=(m+n)/2;p=a*Math.cos(A);D=a*Math.sin(A);A=z=null}}else p=D=0;if((r=Math.min(Math.abs(l-a)/2,+e.apply(this,arguments)))>0.001){s=a<l^q?0:1;var x=A==null?[p,D]:t==null?[u,
w]:sd([u,w],[A,z],[t,v],[p,D]),m=u-x[0],n=w-x[1],E=t-x[0],G=v-x[1],m=1/Math.sin(Math.acos((m*E+n*G)/(Math.sqrt(m*m+n*n)*Math.sqrt(E*E+G*G)))/2),x=Math.sqrt(x[0]*x[0]+x[1]*x[1]);if(t!=null){n=Math.min(r,(l-x)/(m+1));E=lc(A==null?[p,D]:[A,z],[u,w],l,n,q);G=lc([t,v],[p,D],l,n,q);r===n?o.push("M",E[0],"A",n,",",n," 0 0,",s," ",E[1],"A",l,",",l," 0 ",1-q^((E[1][0]-G[1][0])*E[1][1]-(E[1][1]-G[1][1])*E[1][0]>0?0:1),",",q," ",G[1],"A",n,",",n," 0 0,",s," ",G[0]):o.push("M",E[0],"A",n,",",n," 0 1,",s," ",
G[0])}else o.push("M",u,",",w);if(A!=null){l=Math.min(r,(a-x)/(m-1));A=lc([u,w],[A,z],a,-l,q);t=lc([p,D],t==null?[u,w]:[t,v],a,-l,q);r===l?o.push("L",t[0],"A",l,",",l," 0 0,",s," ",t[1],"A",a,",",a," 0 ",q^((t[1][0]-A[1][0])*t[1][1]-(t[1][1]-A[1][1])*t[1][0]>0?0:1),",",1-q," ",A[1],"A",l,",",l," 0 0,",s," ",A[0]):o.push("L",t[0],"A",l,",",l," 0 0,",s," ",A[0])}else o.push("L",p,",",D)}else{o.push("M",u,",",w);t!=null&&o.push("A",l,",",l," 0 ",s,",",q," ",t,",",v);o.push("L",p,",",D);A!=null&&o.push("A",
a,",",a," 0 ",x,",",1-q," ",A,",",z)}o.push("Z");return o.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=ri,d=si,e=qi,f=Fc,g=ig,h=jg,i=ti;a.innerRadius=function(b){if(!arguments.length)return c;c=H(b);return a};a.outerRadius=function(b){if(!arguments.length)return d;d=H(b);return a};a.cornerRadius=function(b){if(!arguments.length)return e;e=H(b);return a};a.padRadius=function(b){if(!arguments.length)return f;f=b==Fc?Fc:H(b);return a};a.startAngle=
function(b){if(!arguments.length)return g;g=H(b);return a};a.endAngle=function(b){if(!arguments.length)return h;h=H(b);return a};a.padAngle=function(b){if(!arguments.length)return i;i=H(b);return a};a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-K;return[Math.cos(b)*a,Math.sin(b)*a]};return a};var Fc="auto";i.svg.line=function(){return kg(P)};var Jd=i.map({linear:$,"linear-closed":function(a){return $(a)+
"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);c>1&&e.push("H",d[0]);return e.join("")},"step-before":Kd,"step-after":Ld,basis:lg,"basis-open":function(a){if(a.length<4)return $(a);for(var b=[],c=-1,d=a.length,e,f=[0],g=[0];++c<3;){e=a[c];f.push(e[0]);g.push(e[1])}b.push(fa(Ma,f)+","+fa(Ma,g));for(--c;++c<d;){e=a[c];f.shift();f.push(e[0]);g.shift();g.push(e[1]);Nd(b,f,g)}return b.join("")},"basis-closed":function(a){for(var b,
c=-1,d=a.length,e=d+4,f,g=[],h=[];++c<4;){f=a[c%d];g.push(f[0]);h.push(f[1])}b=[fa(Ma,g),",",fa(Ma,h)];for(--c;++c<e;){f=a[c%d];g.shift();g.push(f[0]);h.shift();h.push(f[1]);Nd(b,g,h)}return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,i,k;++h<=c;){i=a[h];k=h/c;i[0]=b*i[0]+(1-b)*(d+k*f);i[1]=b*i[1]+(1-b)*(e+k*g)}return lg(a)},cardinal:function(a,b){return a.length<3?$(a):a[0]+mc(a,Md(a,b))},"cardinal-open":function(a,b){return a.length<
4?$(a):a[1]+mc(a.slice(1,-1),Md(a,b))},"cardinal-closed":function(a,b){return a.length<3?$(a):a[0]+mc((a.push(a[0]),a),Md([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(a.length<3)a=$(a);else{var b=a[0],c=[],d,e,f,g;d=0;e=a.length-1;var h=[];f=a[1];for(g=h[0]=Od(a[0],f);++d<e;)h[d]=(g+(g=Od(f,f=a[d+1])))/2;h[d]=g;for(var i=-1,k=a.length-1;++i<k;){d=Od(a[i],a[i+1]);if(x(d)<t)h[i]=h[i+1]=0;else{e=h[i]/d;f=h[i+1]/d;g=e*e+f*f;if(g>9){g=d*3/Math.sqrt(g);h[i]=g*e;h[i+1]=g*f}}}for(i=-1;++i<=
k;){g=(a[Math.min(k,i+1)][0]-a[Math.max(0,i-1)][0])/(6*(1+h[i]*h[i]));c.push([g||0,h[i]*g||0])}a=b+mc(a,c)}return a}});Jd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var mg=[0,2/3,1/3,0],ng=[0,1/3,2/3,0],Ma=[0,1/6,2/3,1/6];i.svg.line.radial=function(){var a=kg(og);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Kd.reverse=Ld;Ld.reverse=Kd;i.svg.area=function(){return pg(P)};i.svg.area.radial=function(){var a=pg(og);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=
a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};i.svg.chord=function(){function a(a,e){var f=b(this,c,a,e),g=b(this,d,a,e);return"M"+f.p0+("A"+f.r+","+f.r+" 0 "+ +(f.a1-f.a0>C)+",1 "+f.p1)+(f.a0==g.a0&&f.a1==g.a1?"Q 0,0 "+f.p0:"Q 0,0 "+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>C)+",1 "+g.p1)+("Q 0,0 "+f.p0))+"Z"}function b(a,b,c,d){var i=b.call(a,c,d),b=e.call(a,i,d),c=f.call(a,i,d)-K,a=g.call(a,i,d)-K;return{r:b,a0:c,a1:a,p0:[b*Math.cos(c),
b*Math.sin(c)],p1:[b*Math.cos(a),b*Math.sin(a)]}}var c=od,d=pd,e=ui,f=ig,g=jg;a.radius=function(b){if(!arguments.length)return e;e=H(b);return a};a.source=function(b){if(!arguments.length)return c;c=H(b);return a};a.target=function(b){if(!arguments.length)return d;d=H(b);return a};a.startAngle=function(b){if(!arguments.length)return f;f=H(b);return a};a.endAngle=function(b){if(!arguments.length)return g;g=H(b);return a};return a};i.svg.diagonal=function(){function a(a,f){var g=b.call(this,a,f),h=
c.call(this,a,f),i=(g.y+h.y)/2,g=[g,{x:g.x,y:i},{x:h.x,y:i},h],g=g.map(d);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=od,c=pd,d=qg;a.source=function(c){if(!arguments.length)return b;b=H(c);return a};a.target=function(b){if(!arguments.length)return c;c=H(b);return a};a.projection=function(b){if(!arguments.length)return d;d=b;return a};return a};i.svg.diagonal.radial=function(){var a=i.svg.diagonal(),b=qg,c=a.projection;a.projection=function(a){var e;if(arguments.length){var f=b=a;e=c(function(){var a=
f.apply(this,arguments),b=a[0],a=a[1]-K;return[b*Math.cos(a),b*Math.sin(a)]})}else e=b;return e};return a};i.svg.symbol=function(){function a(a,e){return(Og.get(b.call(this,a,e))||rg)(c.call(this,a,e))}var b=wi,c=vi;a.type=function(c){if(!arguments.length)return b;b=H(c);return a};a.size=function(b){if(!arguments.length)return c;c=H(b);return a};return a};var Og=i.map({circle:rg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+
-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){var a=Math.sqrt(a/(2*Pg)),b=a*Pg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){var a=Math.sqrt(a/Gc),b=a*Gc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){var a=Math.sqrt(a/Gc),b=a*Gc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});i.svg.symbolTypes=Og.keys();var Gc=Math.sqrt(3),Pg=Math.tan(30*z);E.transition=
function(a){for(var b=Ya||++Qg,a=Qd(a),c=[],d,e,f=Hc||{time:Date.now(),ease:Lh,delay:0,duration:250},g=-1,h=this.length;++g<h;){c.push(d=[]);for(var i=this[g],k=-1,l=i.length;++k<l;){(e=i[k])&&nc(e,k,a,b,f);d.push(e)}}return Fb(c,a,b)};E.interrupt=function(a){return this.each(a==null?rc:sg(Qd(a)))};var rc=sg(Qd()),N=[],Qg=0,Ya,Hc;N.call=E.call;N.empty=E.empty;N.node=E.node;N.size=E.size;i.transition=function(a,b){return a&&a.transition?Ya?a.transition(b):a:i.selection().transition(a)};i.transition.prototype=
N;N.select=function(a){for(var b=this.id,c=this.namespace,d=[],e,f,g,a=Oc(a),h=-1,i=this.length;++h<i;){d.push(e=[]);for(var k=this[h],l=-1,m=k.length;++l<m;)if((g=k[l])&&(f=a.call(g,g.__data__,l,h))){if("__data__"in g)f.__data__=g.__data__;nc(f,l,c,b,g[c][b]);e.push(f)}else e.push(null)}return Fb(d,c,b)};N.selectAll=function(a){for(var b=this.id,c=this.namespace,d=[],e,f,g,h,a=ke(a),i=-1,k=this.length;++i<k;)for(var l=this[i],m=-1,n=l.length;++m<n;)if(e=l[m]){h=e[c][b];f=a.call(e,e.__data__,m,i);
d.push(e=[]);for(var o=-1,q=f.length;++o<q;){(g=f[o])&&nc(g,o,c,b,h);e.push(g)}}return Fb(d,c,b)};N.filter=function(a){var b=[],c,d,e;typeof a!=="function"&&(a=se(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);d=this[f];for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return Fb(b,this.namespace,this.id)};N.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):ta(this,b==null?function(b){b[d][c].tween.remove(a)}:
function(e){e[d][c].tween.set(a,b)})};N.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return a==null?c:(a=a+"",function(){var b=this.getAttribute(h),c;return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,c(a))})})}function f(a){return a==null?d:(a=a+"",function(){var b=this.getAttributeNS(h.space,h.local),c;return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(arguments.length<2){for(b in a)this.attr(b,
a[b]);return this}var g=a=="transform"?Mf:Wa,h=i.ns.qualify(a);return Pd(this,"attr."+a,b,h.local?f:e)};N.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=i.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};N.style=function(a,b,c){function d(){this.style.removeProperty(a)}
var e=arguments.length;if(e<3){if(typeof a!=="string"){e<2&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Pd(this,"style."+a,b,function(b){return b==null?d:(b=b+"",function(){var d=Ca(this).getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=Wa(d,b),function(b){this.style.setProperty(a,e(b),c)})})})};N.styleTween=function(a,b,c){arguments.length<3&&(c="");return this.tween("style."+a,function(d,e){var f=b.call(this,d,e,Ca(this).getComputedStyle(this,null).getPropertyValue(a));
return f&&function(b){this.style.setProperty(a,f(b),c)}})};N.text=function(a){return Pd(this,"text",a,xi)};N.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})};N.ease=function(a){var b=this.id,c=this.namespace;if(arguments.length<1)return this.node()[c][b].ease;typeof a!=="function"&&(a=i.ease.apply(i,arguments));return ta(this,function(d){d[c][b].ease=a})};N.delay=function(a){var b=this.id,c=this.namespace;
return arguments.length<1?this.node()[c][b].delay:ta(this,typeof a==="function"?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))};N.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:ta(this,typeof a==="function"?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))};N.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<
2){var e=Hc,f=Ya;try{Ya=c;ta(this,function(b,e,f){Hc=b[d][c];a.call(b,b.__data__,e,f)})}finally{Hc=e;Ya=f}}else ta(this,function(e){e=e[d][c];(e.event||(e.event=i.dispatch("start","end","interrupt"))).on(a,b)});return this};N.transition=function(){for(var a=this.id,b=++Qg,c=this.namespace,d=[],e,f,g,h,i=0,k=this.length;i<k;i++){d.push(e=[]);f=this[i];for(var l=0,m=f.length;l<m;l++){if(g=f[l]){h=g[c][a];nc(g,l,c,b,{time:h.time,ease:h.ease,delay:h.delay+h.duration,duration:h.duration})}e.push(g)}}return Fb(d,
c,b)};i.svg.axis=function(){function a(a){a.each(function(){var a=i.select(this),k=this.__chart__||b,n=this.__chart__=b.copy(),o=h==null?n.ticks?n.ticks.apply(n,g):n.domain():h,q=j==null?n.tickFormat?n.tickFormat.apply(n,g):P:j,r=a.selectAll(".tick").data(o,n),o=r.enter().insert("g",".domain").attr("class","tick").style("opacity",t),s=i.transition(r.exit()).style("opacity",t).remove(),u=i.transition(r.order()).style("opacity",1),w=Math.max(d,0)+f,p=hc(n),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class",
"domain"),i.transition(a));o.append("line");o.append("text");var v=o.select("line"),B=u.select("line"),r=r.select("text").text(q),z=o.select("text"),A=u.select("text"),x=c==="top"||c==="left"?-1:1,C,E,G,F;if(c==="bottom"||c==="top"){q=yi;C="x";G="y";E="x2";F="y2";r.attr("dy",x<0?"0em":".71em").style("text-anchor","middle");a.attr("d","M"+p[0]+","+x*e+"V0H"+p[1]+"V"+x*e)}else{q=zi;C="y";G="x";E="y2";F="x2";r.attr("dy",".32em").style("text-anchor",x<0?"end":"start");a.attr("d","M"+x*e+","+p[0]+"H0V"+
p[1]+"H"+x*e)}v.attr(F,x*d);z.attr(G,x*w);B.attr(E,0).attr(F,x*d);A.attr(C,0).attr(G,x*w);if(n.rangeBand)var H=n,I=H.rangeBand()/2,k=n=function(a){return H(a)+I};else k.rangeBand?k=n:s.call(q,n,k);o.call(q,k,n);u.call(q,n,n)})}var b=i.scale.linear(),c=Rg,d=6,e=6,f=3,g=[10],h=null,j;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;c=b in $i?b+"":Rg;return a};a.ticks=function(){if(!arguments.length)return g;g=arguments;return a};a.tickValues=
function(b){if(!arguments.length)return h;h=b;return a};a.tickFormat=function(b){if(!arguments.length)return j;j=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};
var Rg="bottom",$i={top:1,right:1,bottom:1,left:1};i.svg.brush=function(){function a(f){f.each(function(){var f=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),j=f.selectAll(".background").data([0]);j.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor",
"move");var k=f.selectAll(".resize").data(q,P);k.exit().remove();k.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return aj[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");k.style("display",a.empty()?"none":null);f=i.transition(f);j=i.transition(j);if(g){k=hc(g);j.attr("x",k[0]).attr("width",k[1]-k[0]);c(f)}if(h){k=
hc(h);j.attr("y",k[0]).attr("height",k[1]-k[0]);d(f)}b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+j[+/e$/.test(a)]+","+k[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",j[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",j[1]-j[0])}function d(a){a.select(".extent").attr("y",k[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function e(){function e(){var a=i.mouse(q),f=false;if(H){a[0]=a[0]+H[0];a[1]=a[1]+H[1]}if(!C)if(i.event.altKey){G||
(G=[(j[0]+j[1])/2,(k[0]+k[1])/2]);F[0]=j[+(a[0]<G[0])];F[1]=k[+(a[1]<G[1])]}else G=null;if(A&&s(a,g,0)){c(v);f=true}if(z&&s(a,h,1)){d(v);f=true}if(f){b(v);t({type:"brush",mode:C?"move":"resize"})}}function s(a,b,c){var d=hc(b),b=d[0],e=d[1],d=F[c],f=c?k:j,g=f[1]-f[0];if(C){b=b-d;e=e-(g+d)}a=(c?o:n)?Math.max(b,Math.min(e,a[c])):a[c];if(C)b=(a=a+d)+g;else{G&&(d=Math.max(b,Math.min(e,2*G[c]-a)));if(d<a){b=a;a=d}else b=d}if(f[0]!=a||f[1]!=b){c?m=null:l=null;f[0]=a;f[1]=b;return true}}function u(){e();
v.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);i.select("body").style("cursor",null);I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);E();t({type:"brushend"})}var q=this,p=i.select(i.event.target),t=f.of(q,arguments),v=i.select(q),x=p.datum(),A=!/^(n|s)$/.test(x)&&g,z=!/^(e|w)$/.test(x)&&h,C=p.classed("extent"),E=Jb(q),G,F=i.mouse(q),H,I=i.select(Ca(q)).on("keydown.brush",
function(){if(i.event.keyCode==32){if(!C){G=null;F[0]=F[0]-j[1];F[1]=F[1]-k[1];C=2}Da()}}).on("keyup.brush",function(){if(i.event.keyCode==32&&C==2){F[0]=F[0]+j[1];F[1]=F[1]+k[1];C=0;Da()}});if(i.event.changedTouches)I.on("touchmove.brush",e).on("touchend.brush",u);else I.on("mousemove.brush",e).on("mouseup.brush",u);v.interrupt().selectAll("*").interrupt();if(C){F[0]=j[0]-F[0];F[1]=k[0]-F[1]}else if(x){var K=+/w$/.test(x),x=+/^n/.test(x);H=[j[1-K]-F[0],k[1-x]-F[1]];F[0]=j[K];F[1]=k[x]}else i.event.altKey&&
(G=F.slice());v.style("pointer-events","none").selectAll(".resize").style("display",null);i.select("body").style("cursor",p.style("cursor"));t({type:"brushstart"});e()}var f=Nc(a,"brushstart","brush","brushend"),g=null,h=null,j=[0,0],k=[0,0],l,m,n=true,o=true,q=Zd[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),b={x:j,y:k,i:l,j:m},c=this.__chart__||b;this.__chart__=b;if(Ya)i.select(this).transition().each("start.brush",function(){l=c.i;m=c.j;j=c.x;k=c.y;a({type:"brushstart"})}).tween("brush:brush",
function(){var c=gc(j,b.x),d=gc(k,b.y);l=m=null;return function(e){j=b.x=c(e);k=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){l=b.i;m=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})});else{a({type:"brushstart"});a({type:"brush",mode:"resize"});a({type:"brushend"})}})};a.x=function(b){if(!arguments.length)return g;g=b;q=Zd[!g<<1|!h];return a};a.y=function(b){if(!arguments.length)return h;h=b;q=Zd[!g<<1|!h];return a};a.clamp=function(b){if(!arguments.length)return g&&
h?[n,o]:g?n:h?o:null;if(g&&h){n=!!b[0];o=!!b[1]}else g?n=!!b:h&&(o=!!b);return a};a.extent=function(b){var c,d,e,f,i;if(!arguments.length){if(g)if(l){c=l[0];d=l[1]}else{c=j[0];d=j[1];if(g.invert){c=g.invert(c);d=g.invert(d)}if(d<c){i=c;c=d;d=i}}if(h)if(m){e=m[0];f=m[1]}else{e=k[0];f=k[1];if(h.invert){e=h.invert(e);f=h.invert(f)}if(f<e){i=e;e=f;f=i}}return g&&h?[[c,e],[d,f]]:g?[c,d]:h&&[e,f]}if(g){c=b[0];d=b[1];if(h){c=c[0];d=d[0]}l=[c,d];if(g.invert){c=g(c);d=g(d)}if(d<c){i=c;c=d;d=i}if(c!=j[0]||
d!=j[1])j=[c,d]}if(h){e=b[0];f=b[1];if(g){e=e[1];f=f[1]}m=[e,f];if(h.invert){e=h(e);f=h(f)}if(f<e){i=e;e=f;f=i}if(e!=k[0]||f!=k[1])k=[e,f]}return a};a.clear=function(){if(!a.empty()){j=[0,0];k=[0,0];l=m=null}return a};a.empty=function(){return!!g&&j[0]==j[1]||!!h&&k[0]==k[1]};return i.rebind(a,f,"on")};var aj={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zd=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],$d=
v.format=yg.timeFormat,Sg=$d.utc,Tg=Sg("%Y-%m-%dT%H:%M:%S.%LZ");$d.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Rd:Tg;Rd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Rd.toString=Tg.toString;v.second=Ra(function(a){return new R(Math.floor(a/1E3)*1E3)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1E3)},function(a){return a.getSeconds()});v.seconds=v.second.range;v.seconds.utc=v.second.utc.range;v.minute=Ra(function(a){return new R(Math.floor(a/6E4)*6E4)},function(a,
b){a.setTime(a.getTime()+Math.floor(b)*6E4)},function(a){return a.getMinutes()});v.minutes=v.minute.range;v.minutes.utc=v.minute.utc.range;v.hour=Ra(function(a){var b=a.getTimezoneOffset()/60;return new R((Math.floor(a/36E5-b)+b)*36E5)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*36E5)},function(a){return a.getHours()});v.hours=v.hour.range;v.hours.utc=v.hour.utc.range;v.month=Ra(function(a){a=v.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});
v.months=v.month.range;v.months.utc=v.month.utc.range;var oc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],ae=[[v.second,1],[v.second,5],[v.second,15],[v.second,30],[v.minute,1],[v.minute,5],[v.minute,15],[v.minute,30],[v.hour,1],[v.hour,3],[v.hour,6],[v.hour,12],[v.day,1],[v.day,2],[v.week,1],[v.month,1],[v.month,3],[v.year,1]],bj=$d.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],
["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&a.getDate()!=1}],["%b %d",function(a){return a.getDate()!=1}],["%B",function(a){return a.getMonth()}],["%Y",eb]]),Ai={range:function(a,b,c){return i.range(Math.ceil(a/c)*c,+b,c).map(Xa)},floor:P,ceil:P};ae.year=v.year;v.scale=function(){return Sd(i.scale.linear(),ae,bj)};var Ug=ae.map(function(a){return[a[0].utc,a[1]]}),cj=Sg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],
["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],["%b %d",function(a){return a.getUTCDate()!=1}],["%B",function(a){return a.getUTCMonth()}],["%Y",eb]]);Ug.year=v.year.utc;v.scale.utc=function(){return Sd(i.scale.linear(),Ug,cj)};i.text=bd(function(a){return a.responseText});i.json=function(a,b){return Mb(a,"application/json",Bi,b)};i.html=function(a,b){return Mb(a,"text/html",Ci,b)};i.xml=bd(function(a){return a.responseXML});
define("atlassian/libs/d3-3.5.5",i)}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:data', location = 'jira-projects-module/data/web-resource-manager.js' */
define("jira/projects/data/WRM",window.WRM);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:projects-api', location = 'jira-projects-module/page/projects-api.js' */
define("jira/api/projects",["jira/projects/data/WRM"],function(e){"use strict";function r(r,t){if(void 0!==r)return r;var a=e.data.claim(t);return void 0!==a?a:AJS.Meta.get(t)}function t(e){return AJS.$('meta[name="'+e+'"]').attr("content")}var a=require("jira/featureflags/feature-manager"),n=a.isFeatureEnabled("endeavour.rapidboards-wrm.spa-enabled"),i=e.data.claim("project-key"),c=e.data.claim("project-id"),o=e.data.claim("project-name"),u=e.data.claim("project-type"),j=e.data.claim("is-project-admin"),p=e.data.claim("project-simplified");return{ProjectType:Object.freeze({SOFTWARE:"software",BUSINESS:"business"}),getCurrentProjectId:function(){return c=r(c,"project-id"),null==c&&n&&(c=t("ghx-project-id")),c},getCurrentProjectKey:function(){return i=r(i,"project-key"),null==i&&n&&(i=t("ghx-project-key")),i},getCurrentProjectName:function(){return o=r(o,"project-name")},getCurrentProjectType:function(){return u=r(u,"project-type")},isCurrentUserProjectAdmin:function(){return j=r(j,"is-project-admin")},isCurrentProjectSimplified:function(){return p=r(p,"project-simplified")}}}),AJS.namespace("JIRA.API.Projects",null,require("jira/api/projects"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-comment-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/CommentDialogDropZone.js' */
define("dndattachment/dropzones/CommentDialogDropZone",["dndattachment/Parser","dndattachment/dropzones/FormDropZone","jquery","dndattachment/aui","dndattachment/i18n","dndattachment/JIRA","dndattachment/util/DataTransfer","dndattachment/util/FileSizeUtil"],function(t,e,n,r,a,o,i,s){var d=e.extend({eventGroup:"commentdialogdropzone",progressBarType:"dndattachment/progressbars/TempUploadProgressBar",init:function(t,e){this._super.apply(this,arguments),e&&(this.uploadLimit=e,this.uploadSize=s.format(e))},render:function(){this.$node.html(o.Templates.DnDAttachmentPlugin.CommentDialogDropZoneContainer({}))},getContainerNode:function(){return n(this.$node.parents(".dialog2-content-container"))},placeUploadProgressBar:function(t){return t.prependTo(this.$node.find(".issue-drop-zone__target"))},attachUploadedFiles:function(){this.attachFileUrl=contextPath+"/rest/jddap/1.0/attachment";var t=_.map(_.filter(this.progressBars,function(t){return t.isSuccessful()}),function(t){return t.getFileID()});return this.attachFile(t)},getFileNames:function(){return _.map(_.filter(this.progressBars,function(t){return t.isSuccessful()}),function(t){return t.getFileName()})}});return d});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-comment-drop-zone', location = 'jira-dnd-attachment-module/js/progressbars/TempUploadProgressBar.js' */
define("dndattachment/progressbars/TempUploadProgressBar",["dndattachment/progressbars/UploadProgressBar","jira/flag","jquery","dndattachment/util/FileSizeUtil","dndattachment/i18n"],function(e,r,a,o,t){return e.extend({init:function(){this._super.apply(this,arguments),this.bind("onDestroy",this.hideTooltips.bind(this))},render:function(){this.$node.html(JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar()),this.afterRender()},loadThumbnail:function(r){e.prototype.isImageType.call(this)?this._super.apply(this,arguments):a(JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:r.type})).appendTo(this.getThumbnailNode().addClass("upload-progress-bar__other-file-thumbnail"))},showErrorMessage:function(e){this.$node.find(".upload-progress-bar__error").show(),this.$node.find(".upload-progress-bar__thumbnail").hide(),this.$node.find(".upload-progress-bar__control .error-message").attr("aria-label",e),this.$node.find(".temp-upload-progress-bar__container .upload-progress-bar__error-indicator").attr("title",e),this.$node.find(".temp-upload-progress-bar__container .upload-progress-bar__error-indicator").tooltip({title:"title",delayIn:0})},setFileName:function(e){var r=this.$node.find(".upload-progress-bar__file-name");r.text(e),r.attr("title",e),this.$node.find(".upload-progress-bar__file-name").tooltip({title:"title"}),this.$node.find(".upload-progress-bar__control .file-name").attr("aria-label",e)},setFileSize:function(e){if(e>=0){var r=this.$node.find(".upload-progress-bar__file-name").attr("original-title"),a=r?" | ":"";this.$node.find(".upload-progress-bar__file-name").attr("title",r+a+o.format(e))}},setFinished:function(){this.$node.addClass("upload-progress-bar__upload-finished"),this.$node.find(".temp-upload-progress-bar__uploading").removeClass("temp-upload-progress-bar__uploading"),this.$node.find(".upload-progress-bar__progress-bar").addClass("upload-progress-bar__progress-bar-fade"),this.$node.find(".upload-progress-bar__control .button-text").attr("aria-label",t("dnd.attachment.upload.remove")),this.getThumbnailNode().removeClass("upload-progress-bar__thumbnail-uploading"),this.finished=!0,this.trigger("onFinished")},setFailed:function(){this.$node.addClass("UploadProgressBar_uploadFailed"),this.$node.find(".temp-upload-progress-bar__uploading").removeClass("temp-upload-progress-bar__uploading"),this.$node.find(".upload-progress-bar__progress-bar").hide(),this.finished=!0,this.failed=!0,this.trigger("onFailed")},hideTooltips:function(){this.$node.find(".upload-progress-bar__file-name").tooltip("hide"),this.$node.find(".temp-upload-progress-bar__container .upload-progress-bar__error-indicator").tooltip("hide")}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-comment-drop-zone', location = 'jira-dnd-attachment-module/templates/CommentDialogDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.CommentDialogDropZoneContainer=function(e,t){return'<div class="issue-drop-zone__target comment-dialog-drop-zone"><div class="temp-upload-progress-bar__parent-container"><div class="temp-upload-progress-bar__container"><span class="issue-drop-zone__text"><span class="issue-drop-zone__drop-icon"> </span><br> '+soy.$$escapeHtml("Drag files or paste screenshots to attach them")+" </span></div></div></div>"};;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-jira.view.issue', location = 'jira.view.issue.bundle.js' */
sdJsonp([25],[function(e,t,i){var n,s;n=[i(19)],void 0!==(s=function(e){return e}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n;void 0!==(n=function(){return jQuery}.call(t,i,t,e))&&(e.exports=n)},function(e,t,i){var n,s;n=[i(0),i(10),i(25)],void 0!==(s=function(e,t,i){var n=i(e,t);return n.Model.prototype.ignoreUnknownAttributes=!0,n}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("jira/featureflags/feature-manager")},function(e,t,i){var n,s;n=[i(0),i(1),i(27),t],void 0!==(s=function(e,t,i,n){function s(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){return""+s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()}function a(){if(window.trackingSession.setTimeoutId)clearTimeout(window.trackingSession.setTimeoutId);window.trackingSession.setTimeoutId=setTimeout(function(){if(!window.trackingSession.isUserActive)n.trackEvent("servicedesk.inactive-timeout",{lastEvent:window.trackingSession.actionBeforeInactive},!1,!0)},m)}function o(){window.trackingSession.timeLoaded=Math.round(performance.now()),window.trackingSession.isUserActive=!1,a()}function c(){window.trackingSession={actionBeforeInactive:"pageLoad",sessionIdentifier:r(),isUserActive:!1},o(),a(window.trackingSession)}function l(){if(!window.trackingSession)c()}function u(){if(AJS&&AJS.Meta)return AJS.Meta.get("projectId");else return t("body").data("projectId")||null}function d(e,t){if(h)AJS.log("Tracking page view: "+e,t);var i=e.replace(/^\/?/,"").replace(/\//g,".");this.trackEvent("page.view."+i,t)}function p(t,n,s,r){if(l(),"string"==typeof n)t=[t,n].join("."),n=arguments[2];if(h)AJS.log("TrackEvent: "+t,n);if(!s&&0!==t.indexOf("servicedesk."))t="servicedesk."+t;var a={};if(void 0!==n)if(!e.isObject(n)||e.isArray(n)){var o="A tracking call was made with invalid properties. Data should be key-value pairs. Event name is '"+t+"' and data is: ";AJS.warn(o,n)}else e.extend(a,n);var c=i.getPluginVersion();if(c)a.sdVersion=c;else a.sdVersion=a.sdVersion||"unknown";var d=u();if(d)a.projectId=a.projectId||d;if(window.trackingSession)a.sessionId=window.trackingSession.sessionIdentifier;if(r&&!window.trackingSession.isUserActive)window.trackingSession.timeLoaded=window.trackingSession.timeLoaded||Math.round(performance.now()),a.timeToFirstAction=Math.round(performance.now())-window.trackingSession.timeLoaded;var p={name:t,properties:a};AJS.EventQueue.push(p)}function f(e,t,i){window.trackingSession.actionBeforeInactive=e,p(e,t,i,!0),window.trackingSession.isUserActive=!0}var h=!1,m=3e5;AJS.EventQueue=AJS.EventQueue||[],l(),n.trackEvent=p,n.trackPageview=d,n.trackAction=f,n.resetTimer=o}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n;void 0!==(n=function(){return AJS.Meta}.call(t,i,t,e))&&(e.exports=n)},function(e,t,i){var n,s;n=[i(1),i(0),t],void 0!==(s=function(e,t,i){function n(e,t){var i=void 0;if("timeout"===t)i="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.";else if(401===e.status)i="You are not authorized to perform this operation.  Please log in.";else if(e.responseText&&e.responseText.length>0)i="The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.";else i="The Jira server could not be contacted. This may be a temporary glitch or the server may be down.";return i}function s(e){return e.then(null,function(e){return t.extend(e,i.getErrorCollection(e))}),e}function r(e,i,n,s,r){return t.extend({},m,{url:e,type:i,dataType:n,contentType:s,timeout:M,headers:r||{}})}function a(i,n){var a=r(i,"GET","json","application/json",n);if(t.isObject(i))a=t.extend(a,i);else a.url=i;return s(e.ajax(a))}function o(t,i,n,a,o,c){var l=r(n,"POST",t,i,o);if("application/json"===i)l.data=JSON.stringify(a);else l.data=a;if(c)l.timeout=c;return s(e.ajax(l))}function c(e,t,i,n){return s(o("json","application/json",e,t,i,n))}function l(e,t,i,n){return s(o("html","application/json",e,t,i,n))}function u(e,t,i,n,r){return s(o("json",e,t,i,n,r))}function d(t,i,n){var a=r(t,"PUT","json","application/json",n);return a.data=JSON.stringify(i),s(e.ajax(a))}function p(t,i){var n=r(t,"DELETE","json","application/json",i);return s(e.ajax(n))}function f(t){e(document).ajaxSuccess(t)}function h(t){e(document).off("ajaxSuccess",t)}var m={traditional:!0},M=18e4;i.get=a,i.post=c,i.postForHtml=l,i.postWithContentType=u,i.put=d,i.del=p,i.registerGlobalAjaxSuccessHandler=f,i.unregisterGlobalAjaxSuccessHandler=h,i.markupWithErrors=s,i.getErrorCollection=function(e){var t=void 0;try{t=JSON.parse(e.responseText)}catch(e){t={errors:[{errorMessage:"Something has gone wrong with your request. If symptoms persist contact your System Administrator."}]}}return t},i.getErrorMessage=function(e){try{return JSON.parse(e.responseText).errors[0].errorMessage}catch(e){return "Something has gone wrong with your request. If symptoms persist contact your System Administrator."}},i.buildSimpleErrorContent=n}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(12)],void 0!==(s=function(e){var t=e.get("context-path");if(void 0===t)if(AJS&&AJS.contextPath)t=AJS.contextPath();return t}.apply(t,n))&&(e.exports=s)},function(e,t,i){"use strict";e.exports=i(14).polyfill()},function(e,t,i){var n,s;n=[i(28)],void 0!==(s=function(e){return e}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(1),i(24)],void 0!==(s=function(e,t,i){return i(e,t)}.apply(t,n))&&(e.exports=s)},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){if("object"==typeof window)i=window}e.exports=i},function(e,t,i){var n,s;n=[i(1),i(0),t],void 0!==(s=function(e,t,i){function n(e,t){l[e]=t}function s(e){var t=e?e.toLowerCase():"";if("true"===t)return!0;if("false"===t)return!1;else return e}function r(t){if(void 0!==l[t])return l[t];var i=e("meta[name='ajs-"+t+"']");if(i.length){return s(i.attr("content"))}}function a(e){return!0===this.get(e)}function o(e){return+this.get(e)}function c(){var t={};return e("meta[name^=ajs-]").each(function(){t[this.name.substring(4)]=this.content}),e.extend(t,l)}var l={};i.set=n,i.get=r,i.getBoolean=a,i.getNumber=o,i.getAllAsMap=c}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if(void 0===r)var r={};if(r.table=function(e,t){return"<table"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+(e.columnsContent?soy.$$filterNoAutoescape(e.columnsContent):"")+(e.captionContent?"<caption>"+soy.$$filterNoAutoescape(e.captionContent)+"</caption>":"")+(e.theadContent?"<thead>"+soy.$$filterNoAutoescape(e.theadContent)+"</thead>":"")+(e.tfootContent?"<tfoot>"+soy.$$filterNoAutoescape(e.tfootContent)+"</tfoot>":"")+(!e.contentIncludesTbody?"<tbody>":"")+soy.$$filterNoAutoescape(e.content)+(!e.contentIncludesTbody?"</tbody>":"")+"</table>"},goog.DEBUG)r.table.soyTemplateName="aui.table";n=[],void 0!==(s=function(){return r}.apply(t,n))&&(e.exports=s)},function(e,t,i){(function(t,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(t,i){!0?e.exports=i():"function"==typeof define&&define.amd?define(i):t.ES6Promise=i()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function r(e){J=e}function a(e){G=e}function o(){return function(){return t.nextTick(p)}}function c(){if(void 0!==V)return function(){V(p)};else return d()}function l(){var e=0,t=new Z(p),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=p,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(p,1)}}function p(){for(var e=0;e<K;e+=2){(0,ie[e])(ie[e+1]),ie[e]=void 0,ie[e+1]=void 0}K=0}function f(){try{var e=i(16);return V=e.runOnLoop||e.runOnContext,c()}catch(e){return d()}}function h(e,t){var i=arguments,n=this,s=new this.constructor(M);if(void 0===s[se])B(s);var r=n._state;if(r)!function(){var e=i[r-1];G(function(){return D(r,s,e,n._result)})}();else N(n,s,e,t);return s}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(M);return z(i,e),i}function M(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(e){return ce.error=e,ce}}function A(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}function S(e,t,i){G(function(e){var n=!1,s=A(i,t,function(i){if(!n)if(n=!0,t!==i)z(e,i);else O(e,i)},function(t){if(!n)n=!0,L(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&s)n=!0,L(e,s)},e)}function y(e,t){if(t._state===ae)O(e,t._result);else if(t._state===oe)L(e,t._result);else N(t,void 0,function(t){return z(e,t)},function(t){return L(e,t)})}function T(e,t,i){if(t.constructor===e.constructor&&i===h&&t.constructor.resolve===m)y(e,t);else if(i===ce)L(e,ce.error),ce.error=null;else if(void 0===i)O(e,t);else if(s(i))S(e,t,i);else O(e,t)}function z(t,i){if(t===i)L(t,g());else if(e(i))T(t,i,v(i));else O(t,i)}function k(e){if(e._onerror)e._onerror(e._result);E(e)}function O(e,t){if(e._state===re)if(e._result=t,e._state=ae,0!==e._subscribers.length)G(E,e)}function L(e,t){if(e._state===re)e._state=oe,e._result=t,G(k,e)}function N(e,t,i,n){var s=e._subscribers,r=s.length;if(e._onerror=null,s[r]=t,s[r+ae]=i,s[r+oe]=n,0===r&&e._state)G(E,e)}function E(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,s=void 0,r=e._result,a=0;a<t.length;a+=3)if(n=t[a],s=t[a+i],n)D(i,n,s,r);else s(r);e._subscribers.length=0}}function w(){this.error=null}function C(e,t){try{return e(t)}catch(e){return le.error=e,le}}function D(e,t,i,n){var r=s(i),a=void 0,o=void 0,c=void 0,l=void 0;if(r){if((a=C(i,n))===le)l=!0,o=a.error,a.error=null;else c=!0;if(t===a)return void L(t,b())}else a=n,c=!0;if(t._state!==re);else if(r&&c)z(t,a);else if(l)L(t,o);else if(e===ae)O(t,a);else if(e===oe)L(t,a)}function q(e,t){try{t(function(t){z(e,t)},function(t){L(e,t)})}catch(t){L(e,t)}}function I(){return ue++}function B(e){e[se]=ue++,e._state=void 0,e._result=void 0,e._subscribers=[]}function x(e,t){if(this._instanceConstructor=e,this.promise=new e(M),!this.promise[se])B(this.promise);if(F(t)){if(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length)O(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)O(this.promise,this._result)}else L(this.promise,_())}function _(){return new Error("Array Methods must be provided an Array")}function W(e){return new x(this,e).promise}function R(e){var t=this;if(!F(e))return new t(function(e,t){return t(new TypeError("You must pass an array to race."))});else return new t(function(i,n){for(var s=e.length,r=0;r<s;r++)t.resolve(e[r]).then(i,n)})}function P(e){var t=this,i=new t(M);return L(i,e),i}function X(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(e){if(this[se]=I(),this._result=this._state=void 0,this._subscribers=[],M!==e)"function"!=typeof e&&X(),this instanceof j?q(this,e):$()}function U(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=j}var H=void 0;if(!Array.isArray)H=function(e){return"[object Array]"===Object.prototype.toString.call(e)};else H=Array.isArray;var F=H,K=0,V=void 0,J=void 0,G=function(e,t){if(ie[K]=e,ie[K+1]=t,2===(K+=2))if(J)J(p);else ne()},Q="undefined"!=typeof window?window:void 0,Y=Q||{},Z=Y.MutationObserver||Y.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3),ne=void 0;if(ee)ne=o();else if(Z)ne=l();else if(te)ne=u();else if(void 0===Q)ne=f();else ne=d();var se=Math.random().toString(36).substring(16),re=void 0,ae=1,oe=2,ce=new w,le=new w,ue=0;return x.prototype._enumerate=function(){for(var e=this.length,t=this._input,i=0;this._state===re&&i<e;i++)this._eachEntry(t[i],i)},x.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===m){var s=v(e);if(s===h&&e._state!==re)this._settledAt(e._state,t,e._result);else if("function"!=typeof s)this._remaining--,this._result[t]=e;else if(i===j){var r=new i(M);T(r,e,s),this._willSettleAt(r,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},x.prototype._settledAt=function(e,t,i){var n=this.promise;if(n._state===re)if(this._remaining--,e===oe)L(n,i);else this._result[t]=i;if(0===this._remaining)O(n,this._result)},x.prototype._willSettleAt=function(e,t){var i=this;N(e,void 0,function(e){return i._settledAt(ae,t,e)},function(e){return i._settledAt(oe,t,e)})},j.all=W,j.race=R,j.resolve=m,j.reject=P,j._setScheduler=r,j._setAsap=a,j._asap=G,j.prototype={constructor:j,then:h,catch:function(e){return this.then(null,e)}},j.polyfill=U,j.Promise=j,j})}).call(t,i(15),i(11))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){if(m&&f){if(m=!1,f.length)h=f.concat(h);else M=-1;if(h.length)o()}}function o(){if(!m){var e=s(a);m=!0;for(var t=h.length;t;){for(f=h,h=[];++M<t;)if(f)f[M].run();M=-1,t=h.length}f=null,m=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,p=e.exports={};!function(){try{if("function"==typeof setTimeout)u=setTimeout;else u=i}catch(e){u=i}try{if("function"==typeof clearTimeout)d=clearTimeout;else d=n}catch(e){d=n}}();var f,h=[],m=!1,M=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(h.push(new c(e,t)),1===h.length&&!m)s(o)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){},function(e,t,i){var n;void 0!==(n=function(){return function(){if(window.JIRA&&window.JIRA.trace)window.JIRA.trace.apply(this,arguments)}}.call(t,i,t,e))&&(e.exports=n)},function(e,t,i){var n,s;if(void 0===r)var r={};if(void 0===r.buttons)r.buttons={};if(r.buttons.button=function(e,t){return e.href?'<a href="'+soy.$$escapeHtml(e.href)+'"'+r.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:"a"}))+">"+r.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</a>":"input"==e.tagName?'<input type="'+soy.$$escapeHtml(e.inputType?e.inputType:"button")+'" '+r.buttons.buttonAttributes(e)+' value="'+soy.$$escapeHtml(e.text)+'" />':"<"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+r.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:e.tagName?e.tagName:"button"}))+">"+r.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+">"},goog.DEBUG)r.buttons.button.soyTemplateName="aui.buttons.button";if(r.buttons.buttons=function(e,t){return"<div"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-buttons'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+soy.$$filterNoAutoescape(e.content)+"</div>"},goog.DEBUG)r.buttons.buttons.soyTemplateName="aui.buttons.buttons";if(r.buttons.buttonAttributes=function(e,t){e=e||{};var i=(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-button'+("main"==e.splitButtonType?" aui-button-split-main":"")+(e.dropdown2Target?" aui-dropdown2-trigger"+("more"==e.splitButtonType?" aui-button-split-more":""):"");switch(e.type){case"primary":i+=" aui-button-primary";break;case"link":i+=" aui-button-link";break;case"subtle":i+=" aui-button-subtle"}return i+=r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+(e.isPressed?' aria-pressed="'+soy.$$escapeHtml(e.isPressed)+'"':"")+(e.isDisabled?' aria-disabled="'+soy.$$escapeHtml(e.isDisabled)+'"'+(1==e.isDisabled?"button"==e.tagName||"input"==e.tagName?' disabled="disabled" ':"":""):"")+(e.dropdown2Target?' aria-owns="'+soy.$$escapeHtml(e.dropdown2Target)+'" aria-haspopup="true"':"")+("a"==e.tagName?' tabindex="0"':"")},goog.DEBUG)r.buttons.buttonAttributes.soyTemplateName="aui.buttons.buttonAttributes";if(r.buttons.buttonIcon=function(e,t){return e=e||{},e.iconType?'<span class="'+("aui"==e.iconType?"aui-icon":"")+(e.iconClass?" "+soy.$$escapeHtml(e.iconClass):"")+'">'+(e.iconText?soy.$$escapeHtml(e.iconText)+" ":"")+"</span>":""},goog.DEBUG)r.buttons.buttonIcon.soyTemplateName="aui.buttons.buttonIcon";if(r.buttons.splitButton=function(e,t){return""+r.buttons.button(soy.$$augmentMap(e.splitButtonMain,{splitButtonType:"main"}))+r.buttons.button(soy.$$augmentMap(e.splitButtonMore,{splitButtonType:"more"}))},goog.DEBUG)r.buttons.splitButton.soyTemplateName="aui.buttons.splitButton";n=[i(13)],void 0!==(s=function(){return r.buttons}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;(function(){function i(e){function t(t,i,n,s,r,a){for(;r>=0&&r<a;r+=e){var o=s?s[r]:r;n=i(n,t[o],o,t)}return n}return function(i,n,s,r){n=T(n,r,4);var a=!w(i)&&y.keys(i),o=(a||i).length,c=e>0?0:o-1;if(arguments.length<3)s=i[a?a[c]:c],c+=e;return t(i,n,s,a,c,o)}}function r(e){return function(t,i,n){i=z(i,n);for(var s=E(t),r=e>0?0:s-1;r>=0&&r<s;r+=e)if(i(t[r],r,t))return r;return-1}}function a(e,t,i){return function(n,s,r){var a=0,o=E(n);if("number"==typeof r)if(e>0)a=r>=0?r:Math.max(r+o,a);else o=r>=0?Math.min(r+1,o):r+o+1;else if(i&&r&&o)return r=i(n,s),n[r]===s?r:-1;if(s!==s)return r=t(h.call(n,a,o),y.isNaN),r>=0?r+a:-1;for(r=e>0?a:o-1;r>=0&&r<o;r+=e)if(n[r]===s)return r;return-1}}function o(e,t){var i=B.length,n=e.constructor,s=y.isFunction(n)&&n.prototype||d,r="constructor";if(y.has(e,r)&&!y.contains(t,r))t.push(r);for(;i--;)if((r=B[i])in e&&e[r]!==s[r]&&!y.contains(t,r))t.push(r)}var c=this,l=c._,u=Array.prototype,d=Object.prototype,p=Function.prototype,f=u.push,h=u.slice,m=d.toString,M=d.hasOwnProperty,g=Array.isArray,b=Object.keys,v=p.bind,A=Object.create,S=function(){},y=function(e){if(e instanceof y)return e;if(!(this instanceof y))return new y(e);else return void(this._wrapped=e)};if(!0){if(void 0!==e&&e.exports)t=e.exports=y;t._=y}else c._=y;y.VERSION="1.8.3";var T=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)};case 4:return function(i,n,s,r){return e.call(t,i,n,s,r)}}return function(){return e.apply(t,arguments)}},z=function(e,t,i){if(null==e)return y.identity;if(y.isFunction(e))return T(e,t,i);if(y.isObject(e))return y.matcher(e);else return y.property(e)};y.iteratee=function(e,t){return z(e,t,1/0)};var k=function(e,t){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var s=1;s<n;s++)for(var r=arguments[s],a=e(r),o=a.length,c=0;c<o;c++){var l=a[c];if(!t||void 0===i[l])i[l]=r[l]}return i}},O=function(e){if(!y.isObject(e))return{};if(A)return A(e);S.prototype=e;var t=new S;return S.prototype=null,t},L=function(e){return function(t){return null==t?void 0:t[e]}},N=Math.pow(2,53)-1,E=L("length"),w=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=N};y.each=y.forEach=function(e,t,i){t=T(t,i);var n,s;if(w(e))for(n=0,s=e.length;n<s;n++)t(e[n],n,e);else{var r=y.keys(e);for(n=0,s=r.length;n<s;n++)t(e[r[n]],r[n],e)}return e},y.map=y.collect=function(e,t,i){t=z(t,i);for(var n=!w(e)&&y.keys(e),s=(n||e).length,r=Array(s),a=0;a<s;a++){var o=n?n[a]:a;r[a]=t(e[o],o,e)}return r},y.reduce=y.foldl=y.inject=i(1),y.reduceRight=y.foldr=i(-1),y.find=y.detect=function(e,t,i){var n;if(w(e))n=y.findIndex(e,t,i);else n=y.findKey(e,t,i);if(void 0!==n&&-1!==n)return e[n]},y.filter=y.select=function(e,t,i){var n=[];return t=z(t,i),y.each(e,function(e,i,s){if(t(e,i,s))n.push(e)}),n},y.reject=function(e,t,i){return y.filter(e,y.negate(z(t)),i)},y.every=y.all=function(e,t,i){t=z(t,i);for(var n=!w(e)&&y.keys(e),s=(n||e).length,r=0;r<s;r++){var a=n?n[r]:r;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,i){t=z(t,i);for(var n=!w(e)&&y.keys(e),s=(n||e).length,r=0;r<s;r++){var a=n?n[r]:r;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,i,n){if(!w(e))e=y.values(e);if("number"!=typeof i||n)i=0;return y.indexOf(e,t,i)>=0},y.invoke=function(e,t){var i=h.call(arguments,2),n=y.isFunction(t);return y.map(e,function(e){var s=n?t:e[t];return null==s?s:s.apply(e,i)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,i){var n,s,r=-1/0,a=-1/0;if(null==t&&null!=e){e=w(e)?e:y.values(e);for(var o=0,c=e.length;o<c;o++)if((n=e[o])>r)r=n}else t=z(t,i),y.each(e,function(e,i,n){if((s=t(e,i,n))>a||s===-1/0&&r===-1/0)r=e,a=s});return r},y.min=function(e,t,i){var n,s,r=1/0,a=1/0;if(null==t&&null!=e){e=w(e)?e:y.values(e);for(var o=0,c=e.length;o<c;o++)if((n=e[o])<r)r=n}else t=z(t,i),y.each(e,function(e,i,n){if((s=t(e,i,n))<a||s===1/0&&r===1/0)r=e,a=s});return r},y.shuffle=function(e){for(var t,i=w(e)?e:y.values(e),n=i.length,s=Array(n),r=0;r<n;r++){if((t=y.random(0,r))!==r)s[r]=s[t];s[t]=i[r]}return s},y.sample=function(e,t,i){if(null==t||i){if(!w(e))e=y.values(e);return e[y.random(e.length-1)]}return y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,i){return t=z(t,i),y.pluck(y.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,i,n){var s={};return i=z(i,n),y.each(t,function(n,r){var a=i(n,r,t);e(s,n,a)}),s}};y.groupBy=C(function(e,t,i){if(y.has(e,i))e[i].push(t);else e[i]=[t]}),y.indexBy=C(function(e,t,i){e[i]=t}),y.countBy=C(function(e,t,i){if(y.has(e,i))e[i]++;else e[i]=1}),y.toArray=function(e){if(!e)return[];if(y.isArray(e))return h.call(e);if(w(e))return y.map(e,y.identity);else return y.values(e)},y.size=function(e){if(null==e)return 0;else return w(e)?e.length:y.keys(e).length},y.partition=function(e,t,i){t=z(t,i);var n=[],s=[];return y.each(e,function(e,i,r){(t(e,i,r)?n:s).push(e)}),[n,s]},y.first=y.head=y.take=function(e,t,i){if(null!=e)if(null==t||i)return e[0];else return y.initial(e,e.length-t)},y.initial=function(e,t,i){return h.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},y.last=function(e,t,i){if(null!=e)if(null==t||i)return e[e.length-1];else return y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,i){return h.call(e,null==t||i?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var D=function(e,t,i,n){for(var s=[],r=0,a=n||0,o=E(e);a<o;a++){var c=e[a];if(w(c)&&(y.isArray(c)||y.isArguments(c))){if(!t)c=D(c,t,i);var l=0,u=c.length;for(s.length+=u;l<u;)s[r++]=c[l++]}else if(!i)s[r++]=c}return s};y.flatten=function(e,t){return D(e,t,!1)},y.without=function(e){return y.difference(e,h.call(arguments,1))},y.uniq=y.unique=function(e,t,i,n){if(!y.isBoolean(t))n=i,i=t,t=!1;if(null!=i)i=z(i,n);for(var s=[],r=[],a=0,o=E(e);a<o;a++){var c=e[a],l=i?i(c,a,e):c;if(t){if(!a||r!==l)s.push(c);r=l}else if(i){if(!y.contains(r,l))r.push(l),s.push(c)}else if(!y.contains(s,c))s.push(c)}return s},y.union=function(){return y.uniq(D(arguments,!0,!0))},y.intersection=function(e){for(var t=[],i=arguments.length,n=0,s=E(e);n<s;n++){var r=e[n];if(!y.contains(t,r)){for(var a=1;a<i&&y.contains(arguments[a],r);a++);if(a===i)t.push(r)}}return t},y.difference=function(e){var t=D(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,E).length||0,i=Array(t),n=0;n<t;n++)i[n]=y.pluck(e,n);return i},y.object=function(e,t){for(var i={},n=0,s=E(e);n<s;n++)if(t)i[e[n]]=t[n];else i[e[n][0]]=e[n][1];return i},y.findIndex=r(1),y.findLastIndex=r(-1),y.sortedIndex=function(e,t,i,n){i=z(i,n,1);for(var s=i(t),r=0,a=E(e);r<a;){var o=Math.floor((r+a)/2);if(i(e[o])<s)r=o+1;else a=o}return r},y.indexOf=a(1,y.findIndex,y.sortedIndex),y.lastIndexOf=a(-1,y.findLastIndex),y.range=function(e,t,i){if(null==t)t=e||0,e=0;i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),s=Array(n),r=0;r<n;r++,e+=i)s[r]=e;return s};var q=function(e,t,i,n,s){if(!(n instanceof t))return e.apply(i,s);var r=O(e.prototype),a=e.apply(r,s);if(y.isObject(a))return a;else return r};y.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,h.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var i=h.call(arguments,2),n=function(){return q(e,n,t,this,i.concat(h.call(arguments)))};return n},y.partial=function(e){var t=h.call(arguments,1),i=function(){for(var n=0,s=t.length,r=Array(s),a=0;a<s;a++)r[a]=t[a]===y?arguments[n++]:t[a];for(;n<arguments.length;)r.push(arguments[n++]);return q(e,i,this,this,r)};return i},y.bindAll=function(e){var t,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)i=arguments[t],e[i]=y.bind(e[i],e);return e},y.memoize=function(e,t){var i=function(n){var s=i.cache,r=""+(t?t.apply(this,arguments):n);if(!y.has(s,r))s[r]=e.apply(this,arguments);return s[r]};return i.cache={},i},y.delay=function(e,t){var i=h.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,i){var n,s,r,a=null,o=0;if(!i)i={};var c=function(){if(o=!1===i.leading?0:y.now(),a=null,r=e.apply(n,s),!a)n=s=null};return function(){var l=y.now();if(!o&&!1===i.leading)o=l;var u=t-(l-o);if(n=this,s=arguments,u<=0||u>t){if(a)clearTimeout(a),a=null;if(o=l,r=e.apply(n,s),!a)n=s=null}else if(!a&&!1!==i.trailing)a=setTimeout(c,u);return r}},y.debounce=function(e,t,i){var n,s,r,a,o,c=function(){var l=y.now()-a;if(l<t&&l>=0)n=setTimeout(c,t-l);else if(n=null,!i)if(o=e.apply(r,s),!n)r=s=null};return function(){r=this,s=arguments,a=y.now();var l=i&&!n;if(!n)n=setTimeout(c,t);if(l)o=e.apply(r,s),r=s=null;return o}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var i;return function(){if(--e>0)i=t.apply(this,arguments);if(e<=1)t=null;return i}},y.once=y.partial(y.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(b)return b(e);var t=[];for(var i in e)if(y.has(e,i))t.push(i);if(I)o(e,t);return t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var i in e)t.push(i);if(I)o(e,t);return t},y.values=function(e){for(var t=y.keys(e),i=t.length,n=Array(i),s=0;s<i;s++)n[s]=e[t[s]];return n},y.mapObject=function(e,t,i){t=z(t,i);for(var n,s=y.keys(e),r=s.length,a={},o=0;o<r;o++)n=s[o],a[n]=t(e[n],n,e);return a},y.pairs=function(e){for(var t=y.keys(e),i=t.length,n=Array(i),s=0;s<i;s++)n[s]=[t[s],e[t[s]]];return n},y.invert=function(e){for(var t={},i=y.keys(e),n=0,s=i.length;n<s;n++)t[e[i[n]]]=i[n];return t},y.functions=y.methods=function(e){var t=[];for(var i in e)if(y.isFunction(e[i]))t.push(i);return t.sort()},y.extend=k(y.allKeys),y.extendOwn=y.assign=k(y.keys),y.findKey=function(e,t,i){t=z(t,i);for(var n,s=y.keys(e),r=0,a=s.length;r<a;r++)if(n=s[r],t(e[n],n,e))return n},y.pick=function(e,t,i){var n,s,r={},a=e;if(null==a)return r;if(y.isFunction(t))s=y.allKeys(a),n=T(t,i);else s=D(arguments,!1,!1,1),n=function(e,t,i){return t in i},a=Object(a);for(var o=0,c=s.length;o<c;o++){var l=s[o],u=a[l];if(n(u,l,a))r[l]=u}return r},y.omit=function(e,t,i){if(y.isFunction(t))t=y.negate(t);else{var n=y.map(D(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(n,t)}}return y.pick(e,t,i)},y.defaults=k(y.allKeys,!0),y.create=function(e,t){var i=O(e);if(t)y.extendOwn(i,t);return i},y.clone=function(e){if(!y.isObject(e))return e;else return y.isArray(e)?e.slice():y.extend({},e)},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var i=y.keys(t),n=i.length;if(null==e)return!n;for(var s=Object(e),r=0;r<n;r++){var a=i[r];if(t[a]!==s[a]||!(a in s))return!1}return!0};var x=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e instanceof y)e=e._wrapped;if(t instanceof y)t=t._wrapped;var s=m.call(e);if(s!==m.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!=+e)return+t!=+t;else return 0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var r="[object Array]"===s;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,o=t.constructor;if(a!==o&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var c=i.length;c--;)if(i[c]===e)return n[c]===t;if(i.push(e),n.push(t),r){if((c=e.length)!==t.length)return!1;for(;c--;)if(!x(e[c],t[c],i,n))return!1}else{var l,u=y.keys(e);if(c=u.length,y.keys(t).length!==c)return!1;for(;c--;)if(l=u[c],!y.has(t,l)||!x(e[l],t[l],i,n))return!1}return i.pop(),n.pop(),!0};if(y.isEqual=function(e,t){return x(e,t)},y.isEmpty=function(e){if(null==e)return!0;if(w(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e)))return 0===e.length;else return 0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=g||function(e){return"[object Array]"===m.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),!y.isArguments(arguments))y.isArguments=function(e){return y.has(e,"callee")};if("function"!=typeof/./&&"object"!=typeof Int8Array)y.isFunction=function(e){return"function"==typeof e||!1};y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===m.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&M.call(e,t)},y.noConflict=function(){return c._=l,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=L,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,i){var n=Array(Math.max(0,e));t=T(t,i,1);for(var s=0;s<e;s++)n[s]=t(s);return n},y.random=function(e,t){if(null==t)t=e,e=0;return e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=y.invert(_),R=function(e){var t=function(t){return e[t]},i="(?:"+y.keys(e).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(s,t):e}};y.escape=R(_),y.unescape=R(W),y.result=function(e,t,i){var n=null==e?void 0:e[t];if(void 0===n)n=i;return y.isFunction(n)?n.call(e):n};var P=0;y.uniqueId=function(e){var t=++P+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+$[e]};y.template=function(e,t,i){if(!t&&i)t=i;t=y.defaults({},t,y.templateSettings);var n=RegExp([(t.escape||X).source,(t.interpolate||X).source,(t.evaluate||X).source].join("|")+"|$","g"),s=0,r="__p+='";if(e.replace(n,function(t,i,n,a,o){if(r+=e.slice(s,o).replace(j,U),s=o+t.length,i)r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'";else if(n)r+="'+\n((__t=("+n+"))==null?'':__t)+\n'";else if(a)r+="';\n"+a+"\n__p+='";return t}),r+="';\n",!t.variable)r="with(obj||{}){\n"+r+"}\n";r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var o=function(e){return a.call(this,e,y)},c=t.variable||"obj";return o.source="function("+c+"){\n"+r+"}",o},y.chain=function(e){var t=y(e);return t._chain=!0,t};var H=function(e,t){return e._chain?y(t).chain():t};if(y.mixin=function(e){y.each(y.functions(e),function(t){var i=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),H(this,i.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];y.prototype[e]=function(){var i=this._wrapped;if(t.apply(i,arguments),("shift"===e||"splice"===e)&&0===i.length)delete i[0];return H(this,i)}}),y.each(["concat","join","slice"],function(e){var t=u[e];y.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},!0)n=[],void 0!==(s=function(){return y}.apply(t,n))&&(e.exports=s)}).call(this)},function(e,t,i){var n,s;n=[t],void 0!==(s=function(e){window.wrmDataCache=window.wrmDataCache||{},e.claim=function(e){if(window.wrmDataCache[e])return window.wrmDataCache[e];var t=window.WRM.data.claim(e);return window.wrmDataCache[e]=t,t}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(29),i(30),i(40)],void 0!==(s=function(e,t,i){return{applySDErrorsShimToField:function(e,i,n){t.each(i.errors,function(t){if(!t.field)t.field=e}),this.applyErrors(i,null,!1,!1,n||{})},handleSubmit:function(i,n){n=n||{};var s=e.Deferred();return this.showSpinner(),this.disableSubmit(),i.done(t.bind(function(){var e=this,t=arguments;if(n.showSuccess||n.alwaysHideSpinner)this.hideSpinner();if(n.showSuccess)this.showSuccess(function(){if(!n.redirectAfterSuccess)e.enableSubmit();s.resolve.apply(s,t)});else{if(!n.redirectAfterSuccess)this.enableSubmit();s.resolve.apply(s,t)}},this)).fail(t.bind(function(e,t){var i=arguments;if(this.hideSpinner(),this.enableSubmit(),"abort"!==t||!n.doNotHandleErrorsOnAbort){var r=n.selector||"";this.applyErrors(e,r,!1,!1,n)}s.reject.apply(s,i)},this)),s},applyErrors:function(e,i,n,s,r){if(r=r||{},n=!!n,this.$(".error").remove(),e){if(e.errors){var a=t.filter(e.errors,function(e){return!e.field}),o=t.filter(e.errors,function(e){return!!e.field});this.applyFieldErrors(o,t.extend(r,{selector:i})),this.applyErrorMessage(a,n,s,i,r)}if(e["status-code"]&&e["status-code"]>400&&e.message)this.applyError(e.message)}},removeError:function(t){e(t.currentTarget).closest(".error").remove(),t.preventDefault()},removeFieldError:function(t,i){i=i||".field-container, .field-group";var n=this._getFieldByName(t),s=n.closest(i);e(".error",s).remove()},removeWarning:function(){this.$(".warning").remove()},applyError:function(t){var i=e(ServiceDesk.Templates.Shared.Form.error({error:t}));this._bindRemoveErrorOnClick(i),this.$(".aui-message.error.shadowed.closeable").remove(),this.$("form").prepend(i),i.find(".icon-close")},applyErrorMessage:function(t,i,n,s,r){if(r=r||{},t.length)if(r.errorsHandler)r.errorsHandler(t);else{var a=e(ServiceDesk.Templates.Shared.Form.errorMessage({errors:t,isNotAdmin:i}));if(this._bindRemoveErrorOnClick(a),this.$(".aui-message.error.shadowed.closeable").remove(),s)this.$(s).prepend(a);else this.$("form").prepend(a);if(!n)a[0].scrollIntoView();a.find(".icon-close"),this._bindReloadClick()}},_bindRemoveErrorOnClick:function(e){var t=e.find(".icon-close");if(t)t.click(this.removeError);else e.click(this.removeError)},_bindReloadClick:function(){this.$(".js-sd-reload-page").click(function(e){e.preventDefault(),location.reload()})},_getFieldByName:function(e){return this.$(":input[name='"+e+"'], [data-select2-name='"+e+"']")},applyFieldErrors:function(n,s){s=s||{},s.selector=s.selector||".field-container, .field-group";var r=i.defaultsWithNull(s,{clearPassword:!0});t.each(n,function(t){this.removeFieldError(t.field,r.selector);var i=e("<div class='error' />").attr("data-field",t.field).text(t.errorMessage),n=this._getFieldByName(t.field);if(!0===r.clearPassword&&n.is(":password"))n.val("");n.closest(r.selector).append(i)},this)},applyFieldWarnings:function(i,n,s){n=n||".field-container, .field-group",this.$(".warning").remove(),t.each(i,function(t){var i=e("<div class='error warning' />").attr("data-field",t.field);if(!0===s)i.html(t.errorMessage);else i.text(t.errorMessage);var r=this._getFieldByName(t.field);if(r.is(":password"))r.val("");r.closest(n).append(i)},this)},showSpinner:function(t){if(t)e(t).spin("small");else this.$(".js-status").addClass("loading")},hideSpinner:function(t){if(t)e(t).spinStop();else this.$(".js-status").removeClass("loading")},showSuccess:function(e,i,n){var s=this.$(n||".js-status");if(this.hideSpinner(n?s:void 0),s.addClass("success"),e)t.delay(t.bind(e,i),800)},disableSubmit:function(){this.$(":input[type='submit']").attr({"aria-disabled":"aria-disabled",disabled:!0})},enableSubmit:function(){this.$(":input[type='submit']").removeAttr("aria-disabled disabled")},isSubmitEnabled:function(){return!(this.$(":input[type='submit']").attr("aria-disabled")||this.$(":input[type='submit']").attr("disabled"))}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(74)],void 0!==(s=function(e){return e}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(41),i(5)],void 0!==(s=function(e,t){function i(e){var i={containerType:"project",containerId:""+t.get("projectId"),attributes:{nextGenProject:t.getBoolean("isSimplifiedProject"),openAccess:t.getBoolean("openAccess"),publicSignup:t.getBoolean("publicSignup"),jsdRole:t.get("userRole"),initialProjectTemplate:t.get("initialProjectTemplate"),demoProject:t.getBoolean("demoProject"),environment:t.get("region")}};return r({},i,e,{attributes:r({},i.attributes,e.attributes)})}var n={MODAL:"Modal",SCREEN:"Screen",INLINE_DIALOG:"InlineDialog",DRAWER:"Drawer",TAB:"Tab"},s={INVITE_TEAM:"InviteTeam",KNOWLEDGE_BASE:"KnowledgeBase",CUSTOMER_CHANNELS:"CustomerChannels",CUSTOMERS:"Customers",CUSTOMER_NOTIFICATION_SETTINGS:"CustomerNotificationSettings",LANGUAGE_SUPPORT_SETTINGS:"LanguageSupportSettings",ONBOARDING_WIZARD:"OnboardingWizard",KNOWLEDGE_BASE_SETTINGS:"KnowledgeBaseSettings",REQUEST_TYPE_SETTINGS:"RequestTypeSettings",QUEUES:"Queues",GETTING_STARTED:"GettingStarted",PORTAL_SETTINGS:"PortalSettings",CUSTOMER_PERMISSIONS_SETTINGS:"CustomerPermissionsSettings",SATISFACTION_SETTINGS:"SatisfactionSettings",SLA_SETTINGS:"SlaSettings",EMAIL_REQUEST_SETTINGS:"EmailRequestSettings",JIRA_EMAIL_REQUEST_SETTINGS:"JiraEmailRequestSettings",AUTOMATION_SETTINGS:"AutomationSettings",REPORTS:"Reports",JIRA_WORKFLOW_SETTINGS:"JiraWorkflowSettings"},a={TRACK:{objectTypes:{ISSUE_OBJECT_TYPE:"issue",QUEUES_OBJECT_TYPE:"queue",APPROVAL_OBJECT_TYPE:"approval"},actionSubjects:{ISSUE_ACTION_SUBJECT:"issue",QUEUES_ACTION_SUBJECT:"queue",APPROVAL_ACTION_SUBJECT:"approval"},actionTypes:{CREATED_ACTION_TYPE:"created",DELETED_ACTION_TYPE:"deleted",DISABLED_ACTION_TYPE:"disabled",ENABLED_ACTION_TYPE:"enabled",UPDATED_ACTION_TYPE:"updated",VIEWED_ACTION_TYPE:"viewed",CONFIGURATION_UPDATED_ACTION_TYPE:"configurationUpdated",CONFIGURATION_REMOVED_ACTION_TYPE:"configurationRemoved",CONFIGURATION_CREATED_ACTION_TYPE:"configurationCreated"}},UI:{actionSubjects:{TOGGLE_ACTION_SUBJECT:"toggle",BUTTON_ACTION_SUBJECT:"button",ACTIVITY_ITEM_ACTION_SUBJECT:"activityItem",LINK_ACTION_SUBJECT:"link",NAVIGATION_ITEM_ACTION_SUBJECT:"navigationItem"},actionTypes:{CLICKED_ACTION_TYPE:"clicked"}},OPERATIONAL:{actionSubjects:{GETTING_STARTED_EXPERIMENT_ACTION_SUBJECT:"gettingStartedExperiment",QUEUE_TABLE_ACTION_SUBJECT:"queueTable"},actionTypes:{EXPOSE_ACTION_TYPE:"expose",INITIALIZED_ACTION_TYPE:"initialized"}}};return{fireScreenEvent:function(t){var s=t.name,r=t.attributes,a=s.split(/(?=[A-Z][^A-Z]+$)/);if(!n[a])console.warn("Unrecognised screen type "+a+"}!");if(!r.context)console.warn("You didn't provide a context for your screen event!");try{e.sendScreenEvent(i(t))}catch(e){console.warn(e)}},fireUIEvent:function(t){try{e.sendUIEvent(i(t))}catch(e){console.warn(e)}},fireTrackEvent:function(t){try{e.sendTrackEvent(i(t))}catch(e){console.warn(e)}},fireOperationalEvent:function(t){try{e.sendOperationalEvent(i(t))}catch(e){console.warn(e)}},fireErrorEvent:function(e,t,i){try{var n=r({action:"failed",actionSubject:e,source:t||"unknownErrorSource"},i);this.fireOperationalEvent(n)}catch(e){console.warn(e)}},CONTEXTS:s,EVENT_CONSTANTS:a}}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("atlassian/libs/factories/backbone-1.0.0")},function(e,t){e.exports=window.require("atlassian/libs/factories/brace-1.1.0")},function(e,t,i){var n,s;n=[i(0),i(9)],void 0!==(s=function(e,t){var i=void 0;return function(){var n=this,s=e.toArray(arguments);return{install:e.once(function(){try{i=t.apply(n,s)}catch(e){console.log("Failed to install skate component, maybe it has already been installed")}return i})}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(12),t],void 0!==(s=function(e,t){t.getPluginVersion=function(){return(AJS.Meta||e).get("sdPluginVersion")}}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("atlassian/libs/skate-0.12.6")},function(e,t,i){var n,s;n=[i(0),t],void 0!==(s=function(e,t){t.defaultsWhen=function(t,i,n){if(!t||e.isEqual(t,{}))return e.extend({},i);var s=e.union(e.keys(t),e.keys(i));return e.reduce(s,function(e,s){var r=t[s];if(!t.hasOwnProperty(s))e[s]=i[s];else{var a=i.hasOwnProperty(s)&&n(r,s);e[s]=a?i[s]:r}return e},{})},t.defaultsWithNull=function(e,i){return t.defaultsWhen(e,i,function(e){return null==e})},t.uniqueBy=function(t,i){if(!t)return[];else return e.reduce(t,function(t,n){if(-1===e.findIndex(t,e.partial(i,n)))t.push(n);return t},[])}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Form)ServiceDesk.Templates.Shared.Form={};if(ServiceDesk.Templates.Shared.Form.errorMessage=function(e,t){for(var i='<div class="aui-message error shadowed closeable"><p class="title">'+soy.$$escapeHtml("Error")+'</p><span class="aui-icon icon-error"></span>',n=e.errors,s=n.length,r=0;r<s;r++){var a=n[r];i+="<p>"+soy.$$filterNoAutoescape(a.errorMessage)+"</p>"}return i+=(e.isNotAdmin?"<p>"+soy.$$escapeHtml("Please contact the system administrator.")+"</p>":"")+'<span class="aui-icon icon-close" role="button" tabindex="0"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Shared.Form.errorMessage.soyTemplateName="ServiceDesk.Templates.Shared.Form.errorMessage";if(ServiceDesk.Templates.Shared.Form.error=function(e,t){return'<div class="aui-message error shadowed closeable"><p class="title">'+soy.$$escapeHtml("Error")+'</p><span class="aui-icon icon-error"></span><p>'+soy.$$escapeHtml(e.error)+"</p><p>"+soy.$$escapeHtml("Please contact the system administrator.")+'</p><span class="aui-icon icon-close" role="button" tabindex="0"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Shared.Form.error.soyTemplateName="ServiceDesk.Templates.Shared.Form.error";if(ServiceDesk.Templates.Shared.Form.withKeyboardTooltip=function(e,t){return'<span class="js-tooltip" data-delay-in="500"'+(e.isCancel?'title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel",e.key,e.modifierKey))+'"':'title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form",e.key,e.modifierKey))+'"')+">"+soy.$$filterNoAutoescape(e.html)+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Form.withKeyboardTooltip.soyTemplateName="ServiceDesk.Templates.Shared.Form.withKeyboardTooltip";if(ServiceDesk.Templates.Shared.Form.extraAttributes=function(e,t){for(var i="",n=soy.$$getMapKeys(e.extraAttributes),s=n.length,r=0;r<s;r++){var a=n[r];i+=soy.$$escapeHtml(a)+'="'+soy.$$escapeHtml(e.extraAttributes[a])+'"'}return i},goog.DEBUG)ServiceDesk.Templates.Shared.Form.extraAttributes.soyTemplateName="ServiceDesk.Templates.Shared.Form.extraAttributes";if(ServiceDesk.Templates.Shared.Form.submitButton=function(e,t){var i="",n='<button type="submit" accesskey="'+(e.accessKey?soy.$$escapeHtml(e.accessKey):"s")+'"'+(e.extraAttributes?ServiceDesk.Templates.Shared.Form.extraAttributes(e):"")+'class="aui-button '+(e.extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'">'+soy.$$escapeHtml(e.label)+"</button>";return i+=e.modifierKey?ServiceDesk.Templates.Shared.Form.withKeyboardTooltip({html:n,modifierKey:e.modifierKey,key:""+(e.accessKey?soy.$$escapeHtml(e.accessKey):"s")}):soy.$$filterNoAutoescape(n)},goog.DEBUG)ServiceDesk.Templates.Shared.Form.submitButton.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitButton";if(ServiceDesk.Templates.Shared.Form.cancelButton=function(e,t){e=e||{};var i="",n='<button type="button" accesskey="`" class="aui-button aui-button-link cancel '+(e.extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'"'+(e.extraAttributes?ServiceDesk.Templates.Shared.Form.extraAttributes(e):"")+">"+(e.text?soy.$$escapeHtml(e.text):soy.$$escapeHtml("Cancel"))+"</button>";return i+=e.modifierKey?ServiceDesk.Templates.Shared.Form.withKeyboardTooltip({html:n,modifierKey:e.modifierKey,key:"`",isCancel:!0}):soy.$$filterNoAutoescape(n)},goog.DEBUG)ServiceDesk.Templates.Shared.Form.cancelButton.soyTemplateName="ServiceDesk.Templates.Shared.Form.cancelButton";if(ServiceDesk.Templates.Shared.Form.submitButtons=function(e,t){return""+("left"==e.alignment&&!e.hideSubmitStatus?ServiceDesk.Templates.Shared.Form.submitStatus(null):"")+ServiceDesk.Templates.Shared.Form.submitButton({modifierKey:e.modifierKey,extraClasses:e.submitExtraClasses,extraAttributes:e.submitExtraAttributes,label:e.submitButtonLabel})+ServiceDesk.Templates.Shared.Form.cancelButton({modifierKey:e.modifierKey,extraClasses:e.cancelExtraClasses,text:e.cancelText,extraAttributes:e.cancelExtraAttributes})+("left"!=e.alignment&&!e.hideSubmitStatus?ServiceDesk.Templates.Shared.Form.submitStatus(null):"")},goog.DEBUG)ServiceDesk.Templates.Shared.Form.submitButtons.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitButtons";if(ServiceDesk.Templates.Shared.Form.submitStatus=function(e,t){return'<span class="cv-sd-status js-status"></span>'},goog.DEBUG)ServiceDesk.Templates.Shared.Form.submitStatus.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitStatus";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Form}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(20),t],void 0!==(s=function(e,t){var i=e.claim("com.atlassian.servicedesk.core-ui:util-help-links.help-links");t.getUrl=function(e){var t=i&&i.help&&i.help[e];if(t)return t},t.getKBUrl=function(e){var t=i&&i.kb&&i.kb[e];if(t)return t}}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("jira/ajs/list/item-descriptor")},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.Util)ServiceDesk.Internal.Util={};if(void 0===ServiceDesk.Internal.Util.Rebranding)ServiceDesk.Internal.Util.Rebranding={};if(ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText=function(e,t){return""+(i(3).isFeatureEnabled("jsd-mystique")?soy.$$escapeHtml(e.jsmText):soy.$$escapeHtml(e.jsdText))},goog.DEBUG)ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText.soyTemplateName="ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText";if(ServiceDesk.Internal.Util.Rebranding.getJSMRebrandTextNoAutoEscape=function(e,t){return""+(i(3).isFeatureEnabled("jsd-mystique")?e.jsmText:e.jsdText)},goog.DEBUG)ServiceDesk.Internal.Util.Rebranding.getJSMRebrandTextNoAutoEscape.soyTemplateName="ServiceDesk.Internal.Util.Rebranding.getJSMRebrandTextNoAutoEscape";n=[],void 0!==(s=function(){return ServiceDesk.Internal.Util.Rebranding}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[],void 0!==(s=function(){return AJS.dialog2}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("jira/ajs/select/multi-select")},function(e,t,i){var n,s;n=[i(0),i(7),i(5),i(3),t],void 0!==(s=function(e,t,i,n,s){function r(e){if(window.__SPA__)return[t,"jira/servicedesk/projects",e].join("/");else return[t,"projects",e].join("/")}function a(e){if(i.get("isSimplifiedProject"))return t+"/jira/servicedesk/projects/"+e+"/settings";else return[t,"servicedesk/admin",e].join("/")}function o(t){return e.compact(t).join("/")}var c={QUEUES:{BASE:"queues",CUSTOM:"custom"},REPORTS:{BASE:"reports",ISSUE:"issue",CUSTOM:"custom",TIMESCALE:"timescale"},ISSUE:{BASE:"issue"},KNOWLEDGE:{BASE:"knowledge"},SETTINGS:{BASE:"settings",SLA:"sla"}},l=function(e){return[t,"plugins/servlet/project-config",e].join("/")};s.projectUrl=function(e,t){var i=r(e),n=t?i+t:i;return encodeURI(n)},s.projectSettingsUrl=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var s=i&&i.join("/"),r=a(e),o=s?r+"/"+s:r;return encodeURI(o)},s.projectSettingsJiraUrl=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var s=i&&i.join("/"),r=l(e),a=s?r+"/"+s:r;return encodeURI(a)},s.portalUrl=function(e){return t+"/servicedesk/customer/portal/"+e},s.requestTypesUrl=function(e,t){if(i.get("isSimplifiedProject")){var n=t?"issuetypes/"+t:"issuetypes";return s.projectSettingsUrl(e,n)}var r=t?"request-types/request-type/"+t:"request-types";return s.projectSettingsUrl(e,r)},s.requestTypesFormUrl=function(e,t){if(i.get("isSimplifiedProject")){var n=t?"issuetypes/"+t:"issuetypes";return s.projectSettingsUrl(e,n)}var r=t?"request-types/request-type/"+t+"/request-form":"request-types";return s.projectSettingsUrl(e,r)},s.requestSecurityUrl=function(e){if(i.get("isSimplifiedProject"))return s.projectSettingsUrl(e,"channels","customer-permissions");else return s.projectSettingsUrl(e,"customer-permissions")},s.customSlaUrl=function(e,t){var i=s.projectSettingsUrl(e,"sla"),n=t?i+"/custom/"+t:i;return encodeURI(n)},s.customersUrl=function(e){return s.projectUrl(e,"/customers")},s.organisationUrl=function(e,t){var i=r(e),n=t?i+"/organization/"+t:i;return encodeURI(n)},s.queuesFragment=function(e,t){var i=[c.QUEUES.BASE];if(e)i.push(c.QUEUES.CUSTOM,e);if(t)i.push(t);return o(i)},s.queuesUrl=function(e){return s.projectUrl(e,"/queues")},s.reportsFragment=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!0,n=arguments[3],s=[c.REPORTS.BASE];if(i)s.push(c.REPORTS.CUSTOM);if(e)s.push(e);if(t)s.push(c.REPORTS.TIMESCALE,t);if(n)s.push(n);return o(s)},s.reportsFragmentWithDateRange=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[c.REPORTS.BASE];if(n)r.push(c.REPORTS.CUSTOM);if(r.push(t),r.push(c.REPORTS.TIMESCALE,i.id),s)r.push(s);var a=o(r),l=[];if(i.startTime)l.push("startTime="+i.startTime);if(i.startTime)l.push("endTime="+i.endTime);if(i.timeBreakdown)l.push("timeBreakdown="+i.timeBreakdown);var u=e.compact(l).join("&");if(u)return a+"?"+u;else return a},s.csatReportFragment=function(t,i,n,s){var r=[];if(r.push(c.REPORTS.BASE),r.push("all-rating"),r.push(c.REPORTS.TIMESCALE,t),s)r.push(s);var a=o(r),l=[];if(i)l.push("startTime="+i);if(n)l.push("endTime="+n);var u=e.compact(l).join("&");if(u)return a+"?"+u;else return a},s.issueFragment=function(e){return o([c.ISSUE.BASE,e])},s.knowledgeUrl=function(e){return s.projectUrl(e,"/"+c.KNOWLEDGE.BASE)},s.metricsFragment=function(e){return o([c.SETTINGS.BASE,c.SETTINGS.SLA,e])},s.automationUrl=function(e){return s.projectSettingsUrl(e,"automation")},s.automationRuleUrl=function(e,t){if(void 0===t||null===t)return s.projectSettingsUrl(e,"automation","ruleset");else return s.projectSettingsUrl(e,"automation","ruleset",t)},s.portalSettingsUrl=function(e){if(i.get("isSimplifiedProject"))return s.projectSettingsUrl(e,"channels","portal-settings");else return s.projectSettingsUrl(e,"portal-settings")},s.emailSettingsUrl=function(e){if(i.get("isSimplifiedProject"))return s.projectSettingsUrl(e,"channels","email");else return s.projectSettingsUrl(e,"email-settings")},s.jsdGlobalConfigurationUrl=function(){return t+"/secure/admin/SDConfiguration.jspa"},s.globalUserManagementUrl=function(){return t+"/secure/admin/user/UserBrowser.jspa"},s.workflowsUrl=function(e){if(i.get("isSimplifiedProject"))throw"workflow cannot be directly linked for next gen projects in this manner";return s.projectSettingsJiraUrl(e,"workflows")},s.peoplePageUrl=function(e){if(i.get("isSimplifiedProject"))return s.projectSettingsUrl(e,"people");else return s.projectSettingsJiraUrl(e,"people")},s.helpCenterUrl=function(){return t+"/servicedesk/customer/portals"},s.feedbackSettingsUrl=function(e){return s.projectSettingsUrl(e,"feedback-settings")},s.slaSettingsUrl=function(e){return s.projectSettingsUrl(e,"sla")},s.kbSettingsUrl=function(e){return s.projectSettingsUrl(e,"confluence-kb")},s.customerNotificationsSettingsUrl=function(e){return s.projectSettingsUrl(e,"customer-notifications")},s.inviteCustomerNotificationTemplateUrl=function(e){return s.projectSettingsUrl(e,"customer-notifications","account-notification","invite-customer")},s.customerNotificationTemplateUrl=function(e){return s.projectSettingsUrl(e,"customer-notifications","template")}}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("jira/util/events")},function(e,t){e.exports=window.require("jira/ajs/control")},function(e,t,i){var n,s;if(void 0===r)var r={};if(void 0===r.icons)r.icons={};if(r.icons.icon=function(e,t){return"<"+soy.$$escapeHtml(e.tagName?e.tagName:"span")+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-icon'+(e.useIconFont?" aui-icon-"+soy.$$escapeHtml(e.size?e.size:"small"):"")+" aui"+soy.$$escapeHtml(e.useIconFont?"-iconfont":"-icon")+soy.$$escapeHtml(e.iconFontSet?"-"+e.iconFontSet:"")+"-"+soy.$$escapeHtml(e.icon)+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+(e.accessibilityText?soy.$$escapeHtml(e.accessibilityText):"")+"</"+soy.$$escapeHtml(e.tagName?e.tagName:"span")+">"},goog.DEBUG)r.icons.icon.soyTemplateName="aui.icons.icon";n=[i(13)],void 0!==(s=function(){return r.icons}.apply(t,n))&&(e.exports=s)},function(e,t){},function(e,t){e.exports=window.require("jira/analytics/web-client")},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Utils)ServiceDesk.Templates.Shared.Utils={};if(ServiceDesk.Templates.Shared.Utils.helpLinkStart=function(e,t){return'<a class="sd-help-link-docs'+(e.extraClasses?" "+soy.$$escapeHtml(e.extraClasses):"")+'" href="'+soy.$$escapeHtml(i(31).getUrl(e.helpLinkKey))+'" data-analytics-key="page.view.help.docs.'+soy.$$escapeHtml(e.analyticsKey)+'"'+(0!=e.newTab?'target="_blank"':"")+">"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpLinkStart.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLinkStart";if(ServiceDesk.Templates.Shared.Utils.helpKBLinkStart=function(e,t){return'<a class="sd-help-kb-link-docs" href="'+soy.$$escapeHtml(i(31).getKBUrl(e.helpLinkKey))+'" data-analytics-key="page.view.help.docs.'+soy.$$escapeHtml(e.analyticsKey)+'"'+(0!=e.newTab?'target="_blank"':"")+">"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpKBLinkStart.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpKBLinkStart";if(ServiceDesk.Templates.Shared.Utils.helpLinkEnd=function(e,t){return"</a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpLinkEnd.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLinkEnd";if(ServiceDesk.Templates.Shared.Utils.helpLink=function(e,t){return""+ServiceDesk.Templates.Shared.Utils.helpLinkStart(e)+soy.$$escapeHtml(e.linkText)+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLink";if(ServiceDesk.Templates.Shared.Utils.helpKBLink=function(e,t){return""+ServiceDesk.Templates.Shared.Utils.helpKBLinkStart(e)+soy.$$escapeHtml(e.linkText)+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpKBLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpKBLink";if(ServiceDesk.Templates.Shared.Utils.user=function(e,t){return e=e||{},'<span class="sd-user '+(e.tag?"sd-user-tagged":"")+'" title="'+soy.$$escapeHtml(e.displayName)+'">'+(e.avatarSize?'<span class="aui-avatar aui-avatar-'+soy.$$escapeHtml(e.avatarSize)+" "+(e.tag?"sd-user-cell sd-avatar-cell":"")+'"><span class="aui-avatar-inner"><img src="'+soy.$$filterNoAutoescape(e.avatarUrl)+'"></img></span></span>':"")+(e.tag?'<span class="sd-user-cell">':"")+'<span class="sd-user-value">'+(e.isNotActive?"<del>"+soy.$$escapeHtml(e.displayName)+"</del> ("+soy.$$escapeHtml("Inactive")+")":soy.$$escapeHtml(e.displayName))+"</span>"+(e.tag?'<span class="sd-user-tag" title="'+soy.$$escapeHtml(e.tag)+'">'+soy.$$escapeHtml(e.tag)+"</span></span>":"")+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.user.soyTemplateName="ServiceDesk.Templates.Shared.Utils.user";if(ServiceDesk.Templates.Shared.Utils.organisation=function(e,t){return e=e||{},'<a href="'+soy.$$escapeHtml(e.organisationProfileUrl)+'"><span class="sd-user" title="'+soy.$$escapeHtml(e.displayName)+'">'+(e.avatarSize?'<span class="aui-avatar aui-avatar-'+soy.$$escapeHtml(e.avatarSize)+'"><span class="aui-avatar-inner">'+(e.avatarUrl?'<img alt="'+soy.$$escapeHtml("Organization\'s avatar")+'"src="'+soy.$$escapeHtml(e.avatarUrl)+'"></img>':'<span class="organization-listing-avatar" />')+"</span></span>":"")+'<span class="sd-user-value">'+soy.$$escapeHtml(e.displayName)+"</span></span></a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.organisation.soyTemplateName="ServiceDesk.Templates.Shared.Utils.organisation";if(ServiceDesk.Templates.Shared.Utils.profileLink=function(e,t){return'<a class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.name)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/ViewProfile.jspa?name="+soy.$$escapeUri(e.name)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.profileLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.profileLink";if(ServiceDesk.Templates.Shared.Utils.profileLinkPrivacySafe=function(e,t){var i="",n='{"accountId": "'+soy.$$escapeHtml(e.accountId)+'"}';return i+='<a class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.accountId)+'" data-user="'+soy.$$escapeHtml(n)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/ViewProfile.jspa?accountId="+soy.$$escapeHtml(e.accountId)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.profileLinkPrivacySafe.soyTemplateName="ServiceDesk.Templates.Shared.Utils.profileLinkPrivacySafe";if(ServiceDesk.Templates.Shared.Utils.userHover=function(e,t){return'<span class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.name)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.userHover.soyTemplateName="ServiceDesk.Templates.Shared.Utils.userHover";if(ServiceDesk.Templates.Shared.Utils.userHoverPrivacySafe=function(e,t){var i="",n='{"accountId": "'+soy.$$escapeHtml(e.accountId)+'"}';return i+='<span class="user-hover sd-user-hover" data-user="'+soy.$$escapeHtml(n)+'" rel="'+soy.$$escapeHtml(e.accountId)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.userHoverPrivacySafe.soyTemplateName="ServiceDesk.Templates.Shared.Utils.userHoverPrivacySafe";if(ServiceDesk.Templates.Shared.Utils.generalError=function(e,t){var i="";if(i+=soy.$$filterNoAutoescape(AJS.format("We were unable to submit your request. Please {0}refresh{1} the page and try again. Note that this will clear your request details.",'<a href="#" class="js-sd-reload-page">',"</a>"))+"<br /><br />",e.contactLink){var n='<a href="'+soy.$$escapeHtml(e.contactLink)+'" class="js-sd-reload-page">';i+=soy.$$filterNoAutoescape(AJS.format("If you have already tried again, {0}tell us about this issue{1}.",n,"</a>"))}else i+=soy.$$escapeHtml("If you have already tried again, contact your Jira Administrator.");return i},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.generalError.soyTemplateName="ServiceDesk.Templates.Shared.Utils.generalError";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Utils}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("jira/ajs/select/single-select")},function(e,t,i){var n;void 0!==(n=function(){return JIRA.API}.call(t,i,t,e))&&(e.exports=n)},function(e,t){},function(e,t){e.exports=window.require("jira/issue")},,,,function(e,t,i){var n,s;n=[t,i(7),i(114),i(71),i(22)],void 0!==(s=function(e,t,i,n,s){function r(e){return e.indexOf("/")===e.length-1?e.slice(0,e.length-1):e}function a(e,t){if(!t)console.error("no "+e+" passed in to generateUrl")}e.getKBSettingsPageUrl=function(e){return r(t)+"/servicedesk/admin/"+e+"/confluence-kb"},e.getEditConfluencePageLink=function(e,t){return r(e)+"/pages/editpage.action?pageId="+t},e.getViewConfluencePageLink=function(e,t){return r(e)+"/pages/viewpage.action?pageId="+t};var o=e.getSpaceUrl=function(e,t){return r(e)+"/display/"+t};e.getSpaceUrlWithCreateDialog=function(e,t){var i=new s(o(e,t));return i.setQuery("createDialog","true"),i.toString()},e.getRemotePageViewUrl=function(e,t){return new s(e+"/plugins/servlet/remotepageview?pageId="+t).toString()},e.generateUrl=function(e,t,r,o,c){a("pageId",e),a("applinkId",o);var l=new s(n+"/servicedesk/customer/kb/view/"+e);if(l.setQuery("applicationId",o),t){var u=i.removeConfluenceTags(t);l.setQuery("title",u)}if(r)l.setQuery("spaceKey",r);if(c)if(c.portalId)l.setQuery("portalId",c.portalId);return l.toString()},e.getWikiMarkupForArticleLink=function(e){if(!e)return"";var t=e.inPageUrl||"";return"["+(e.titleHtml?e.titleHtml.replace(/(\[|])/g,"\\$1"):"")+"|"+t+"]"}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(3),t],void 0!==(s=function(e,t){t.goToUrl=function(e){window.location.href=e},t.isOpeningInNewTab=function(e){if(e.currentTarget&&"A"===e.currentTarget.tagName&&"_blank"===e.currentTarget.target)return!0;if(!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&1!==e.button)return!1;else return!0},t.getFragmentFromUrl=function(e,t){var i=e;if(-1!==i.indexOf(":"))i=i.replace(/.*:\/\/[^\/]+/,"");if(!i.indexOf(t))i=i.substr(t.length);return i.replace(/^[#\/]/,"")}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Comment)ServiceDesk.Comment={};if(void 0===ServiceDesk.Comment.Field)ServiceDesk.Comment.Field={};if(ServiceDesk.Comment.Field.commentFieldEdit=function(e,t){return""+(e.isBulkEdit?'<td class=" aui-field-wikiedit comment-input" id="comment_container">'+ServiceDesk.Comment.Field.commentFieldEditContent(e)+"</td>":ServiceDesk.Comment.Field.commentFieldEditContent(e))},goog.DEBUG)ServiceDesk.Comment.Field.commentFieldEdit.soyTemplateName="ServiceDesk.Comment.Field.commentFieldEdit";if(ServiceDesk.Comment.Field.commentFieldEditContent=function(e,t){var i='<div class="field-group">'+(!e.isBulkEdit?'<label for="comment">'+soy.$$escapeHtml("Comment")+"</label>":"")+'<sd-comment-field class="sd-comment-field" data-avatar-url="'+soy.$$escapeHtml(e.avatarUrl)+'" data-modifier-key="'+soy.$$escapeHtml(e.modifierKey)+'" data-is-edit="'+soy.$$escapeHtml(e.isEdit)+'" data-is-agent="'+soy.$$escapeHtml(e.isAgent)+'" data-is-external="'+soy.$$escapeHtml(e.isExternalMode)+'" data-issue-key="'+soy.$$escapeHtml(e.issueKey)+'" data-user-name="'+soy.$$escapeHtml(e.userName)+'" data-is-rte-enabled="'+soy.$$escapeHtml(e.isRteEnabled)+'" data-agent-display-name="'+soy.$$escapeHtml(e.agentDisplayName)+'" data-reporter-display-name="'+soy.$$escapeHtml(e.reporterDisplayName)+'" data-is-security-level-available="'+soy.$$escapeHtml(e.isSecurityLevelAvailable)+'" >'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelPayload(e):"")+'<div class="sd-comment-tab-container tabwrap tabs2">'+ServiceDesk.Comment.Field.drawCommentTabs(e)+'</div><div class="sd-comment-message">'+ServiceDesk.Comment.Field.drawCommentMessage(e)+'</div><div class="sd-comment-field-form-container">'+ServiceDesk.Comment.Field.drawCommentForm(e)+"</div>";if(e.errors&&e.errors.length>0){i+='<div class="error">';for(var n=e.errors,s=n.length,r=0;r<s;r++){var a=n[r];i+="<p>"+soy.$$escapeHtml(a)+"</p>"}i+="</div>"}return i+="</sd-comment-field></div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentFieldEditContent.soyTemplateName="ServiceDesk.Comment.Field.commentFieldEditContent";if(ServiceDesk.Comment.Field.commentIssuePageEdit=function(e,t){return'<sd-comment class="sd-comment-container" data-avatar-url="'+soy.$$escapeHtml(e.avatarUrl)+'" data-modifier-key="'+soy.$$escapeHtml(e.modifierKey)+'"  data-is-agent="'+soy.$$escapeHtml(e.isAgent)+'" data-user-name="'+soy.$$escapeHtml(e.userName)+'" data-issue-id="'+soy.$$escapeHtml(e.issueId)+'" data-issue-key="'+soy.$$escapeHtml(e.issueKey)+'" data-is-rte-enabled="'+soy.$$escapeHtml(e.isRteEnabled)+'" data-agent-display-name="'+soy.$$escapeHtml(e.agentDisplayName)+'" data-reporter-display-name="'+soy.$$escapeHtml(e.reporterDisplayName)+'" data-is-security-level-available="'+soy.$$escapeHtml(e.isSecurityLevelAvailable)+'">'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelPayload(e):"")+ServiceDesk.Comment.Field.drawCollapsedComment(e)+"</sd-comment>"},goog.DEBUG)ServiceDesk.Comment.Field.commentIssuePageEdit.soyTemplateName="ServiceDesk.Comment.Field.commentIssuePageEdit";if(ServiceDesk.Comment.Field.drawCollapsedComment=function(e,t){return'<div class="sd-comment-collapse"><img class="sd-comment-avatar" src="'+soy.$$escapeHtml(e.avatarUrl)+'"><form class="aui dont-default-focus"><textarea id="sd-comment-collapsed-textarea" class="textarea" placeholder="'+soy.$$escapeHtml("Click to add comment")+'"></textarea></form></div>'},goog.DEBUG)ServiceDesk.Comment.Field.drawCollapsedComment.soyTemplateName="ServiceDesk.Comment.Field.drawCollapsedComment";if(ServiceDesk.Comment.Field.commentExpanded=function(e,t){var i=(!e.shouldUseButtons?'<div class="sd-comment-tab-container tabwrap tabs2">'+ServiceDesk.Comment.Field.drawCommentTabs(e)+"</div>":"")+'<div class="sd-add-comment-container">'+(!e.shouldUseButtons?'<div class="sd-comment-message">'+ServiceDesk.Comment.Field.drawCommentMessage(e)+"</div>":"")+'<form class="aui js-comment-form">',n=""+ServiceDesk.Comment.Field.drawCommentButtons(e);return i+=ServiceDesk.Comment.Field.drawCommentForm(soy.$$augmentMap(e,{extraCommentContent:e.isRteEnabled?n:""}))+(!e.isRteEnabled?soy.$$filterNoAutoescape(n):"")+"</form></div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentExpanded.soyTemplateName="ServiceDesk.Comment.Field.commentExpanded";if(ServiceDesk.Comment.Field.drawCommentTabs=function(e,t){return'<ul id="sd-comment-tabs" class="tabs horizontal"><li class="js-sd-external-comment '+(e.isExternalMode?"active":"inactive")+" "+(!e.isAgent?"disabled":"")+'">'+(!e.isExternalMode?"<a>":"")+"<strong>"+soy.$$escapeHtml("Respond to customer")+"</strong>"+(!e.isExternalMode?"</a>":"")+'</li><li class="js-sd-internal-comment '+(!e.isExternalMode?"active":"inactive")+'">'+(e.isExternalMode?"<a>":"")+"<strong>"+soy.$$escapeHtml("Internal comment")+"</strong>"+(e.isExternalMode?"</a>":"")+"</li></ul>"},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentTabs.soyTemplateName="ServiceDesk.Comment.Field.drawCommentTabs";if(ServiceDesk.Comment.Field.drawCommentMessage=function(e,t){return(e.isExternalMode?soy.$$escapeHtml("Your comment will be visible to customers. Embed attachments to make them visible to customers."):'<span class="aui-icon aui-icon-small aui-iconfont-locked">Locked</span>'+soy.$$escapeHtml("Your comments will not be visible to customers on the portal."))+'<input name="commentProperty" type="hidden" value="[{key: &quot;sd.public.comment&quot;, value: {internal: &quot;'+soy.$$escapeHtml(!e.isExternalMode)+'&quot;}}]"/>'},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentMessage.soyTemplateName="ServiceDesk.Comment.Field.drawCommentMessage";if(ServiceDesk.Comment.Field.drawCommentForm=function(e,t){return'<div class="sd-comment-form-container wiki-edit-content comment-input"><img class="sd-comment-avatar" src="'+soy.$$escapeHtml(e.avatarUrl)+'">'+(e.isPreview?'<div class="sd-comment-preview">'+soy.$$filterNoAutoescape(e.commentHtml)+'</div><textarea id="comment" name="comment" class="textarea hidden">':'<textarea id="comment" name="comment" class="textarea wiki-textfield sd-comment-textarea mentionable" data-issuekey="'+soy.$$escapeHtml(e.issueKey)+'">')+soy.$$escapeHtml(e.comment)+'</textarea><div class="field-tools '+(e.isRteEnabled?"sd-rte-bar":"")+'">'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelSelector(e):"")+(!e.isRteEnabled?'<span class="sd-preview-container"><a class="js-sd-preview" href="#" id="sd-comment-preview_link" title="'+soy.$$escapeHtml("preview")+'">'+(e.isPreview?soy.$$escapeHtml("exit preview"):soy.$$escapeHtml("preview"))+'</a></span><span><a class="help-lnk" id="viewHelp" href="'+soy.$$escapeHtml(AJS.contextPath())+'/secure/WikiRendererHelpAction.jspa?section=texteffects" title="'+soy.$$escapeHtml("wiki markup help")+'" data-helplink="local">'+soy.$$escapeHtml("syntax help")+"</a></span>":"")+(e.extraCommentContent?soy.$$filterNoAutoescape(e.extraCommentContent):"")+"</div></div>"},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentForm.soyTemplateName="ServiceDesk.Comment.Field.drawCommentForm";if(ServiceDesk.Comment.Field.drawCommentButtons=function(e,t){return'<div class="sd-comment-buttons">'+(e.shouldUseButtons?ServiceDesk.Comment.Field.drawCommentSubmitButtons(e):ServiceDesk.Comment.Field.drawCommentSubmitButton(e))+"</div>"},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentButtons.soyTemplateName="ServiceDesk.Comment.Field.drawCommentButtons";if(ServiceDesk.Comment.Field.drawCommentSubmitButton=function(e,t){return""+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraClasses:e.isExternalMode?"aui-button-primary sd-external-submit":"sd-internal-submit",submitButtonLabel:""+(e.isExternalMode?soy.$$escapeHtml("Send response"):soy.$$escapeHtml("Add internal comment")),modifierKey:e.modifierKey})},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentSubmitButton.soyTemplateName="ServiceDesk.Comment.Field.drawCommentSubmitButton";if(ServiceDesk.Comment.Field.drawCommentSubmitButtons=function(e,t){return""+(e.isAgent?ServiceDesk.Templates.Shared.Form.submitButton({extraClasses:"aui-button-primary sd-external-submit",label:"Share with customer",modifierKey:e.modifierKey,accessKey:"e"}):"")+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraClasses:"sd-internal-submit",submitButtonLabel:"Comment internally",modifierKey:e.modifierKey,alignment:"right"})},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentSubmitButtons.soyTemplateName="ServiceDesk.Comment.Field.drawCommentSubmitButtons";if(ServiceDesk.Comment.Field.prepopulatedComment=function(e,t){return(e.reporter?soy.$$escapeHtml(AJS.format("Hi {0},",e.reporter))+"\n":soy.$$escapeHtml("Hi,")+"\n")+"\n\n\n "+soy.$$escapeHtml(e.agent)},goog.DEBUG)ServiceDesk.Comment.Field.prepopulatedComment.soyTemplateName="ServiceDesk.Comment.Field.prepopulatedComment";if(ServiceDesk.Comment.Field.commentSecurityLevelSelector=function(e,t){for(var i="",n=e.roleSecurityLevels&&e.roleSecurityLevels.length>0,s=e.groupSecurityLevels&&e.groupSecurityLevels.length>0,r="",a=e.roleSecurityLevels,o=a.length,c=0;c<o;c++){var l=a[c];r+=e.selectedCommentSecurityLevel=="role:"+l.id?soy.$$escapeHtml(l.name):""}for(var u=e.groupSecurityLevels,d=u.length,p=0;p<d;p++){var f=u[p];r+=e.selectedCommentSecurityLevel=="group:"+f?soy.$$escapeHtml(f):""}var h=r?AJS.format("Restricted to {0}",'<span class="redText">'+r+"</span>"):"Viewable by All Users";if(i+='<div class="sd-comment-security-level security-level"><fieldset class="hidden parameters"><input type="hidden" title="securityLevelViewableByAll" value="'+soy.$$escapeHtml("Viewable by All Users")+'"><input type="hidden" title="securityLevelViewableRestrictedTo" value="'+soy.$$escapeHtml("Restricted to {0}")+'"></fieldset><a class="drop" href="#"><span class="security-level-drop-icon aui-icon aui-icon-small'+(r?" aui-iconfont-locked":" aui-iconfont-unlocked")+'">'+soy.$$filterNoAutoescape(AJS.format("This comment will be {0}",h))+'</span> <span class="icon drop-menu"></span></a><select name="commentLevel" id="commentLevel" class="js-comment-level"><option value="">'+soy.$$escapeHtml("All Users")+"</option>",n){i+='<optgroup label="'+soy.$$escapeHtml("Project Roles")+'">';for(var m=e.roleSecurityLevels,M=m.length,g=0;g<M;g++){var b=m[g];i+='<option value="role:'+soy.$$escapeHtml(b.id)+'"'+(e.selectedCommentSecurityLevel=="role:"+b.id?' selected="selected"':"")+">"+soy.$$escapeHtml(b.name)+"</option>"}i+="</optgroup>"}if(s){i+='<optgroup label="'+soy.$$escapeHtml("Groups")+'">';for(var v=e.groupSecurityLevels,A=v.length,S=0;S<A;S++){var y=v[S];i+='<option value="group:'+soy.$$escapeHtml(y)+'" '+(e.selectedCommentSecurityLevel=="group:"+y?'selected="selected"':"")+">"+soy.$$escapeHtml(y)+"</option>"}i+="</optgroup>"}return i+='</select> <span class="current-level">'+soy.$$filterNoAutoescape(h)+"</span></div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentSecurityLevelSelector.soyTemplateName="ServiceDesk.Comment.Field.commentSecurityLevelSelector";if(ServiceDesk.Comment.Field.commentSecurityLevelPayload=function(e,t){return'<div class="js-comment-security-jsonpayload hidden">'+soy.$$escapeHtml(e.commentSecurityLevelPayload)+"</div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentSecurityLevelPayload.soyTemplateName="ServiceDesk.Comment.Field.commentSecurityLevelPayload";if(ServiceDesk.Comment.Field.errorContent=function(e,t){return"<h2>"+soy.$$escapeHtml("Communications Breakdown")+'</h2><div class="dialog-error"><p>'+soy.$$escapeHtml(e.errorMessage)+"</p><p>"+soy.$$escapeHtml("Close this dialog and press refresh in your browser")+"</p></div>"},goog.DEBUG)ServiceDesk.Comment.Field.errorContent.soyTemplateName="ServiceDesk.Comment.Field.errorContent";n=[i(30)],void 0!==(s=function(){return ServiceDesk.Comment.Field}.apply(t,n))&&(e.exports=s)},function(e,t){},function(e,t,i){var n,s,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=[i(1),i(0),i(5),t],void 0!==(s=function(e,t,i,n){function s(e,t){return e.substr(0,t.length)===t}function a(e,t){var i=e.length-t.length,n=e.indexOf(t,i);return-1!==n&&n===i}function o(e,t){var i=!1;if(t.length<=e.length)i=-1!==e.indexOf(t);return i}n.escapeMarkup=function(e){var t=soy.$$escapeHtml(e);return t.toString?t.toString():t},n.sanitizeHtml=function(e){if(soydata.VERY_UNSAFE&&soydata.VERY_UNSAFE.ordainSanitizedHtml)return soydata.VERY_UNSAFE.ordainSanitizedHtml(e);else return new soydata.SanitizedHtml(e)},n.default_help_center_colors={DEFAULT_HEADER_BG_COLOR:"#205081",DEFAULT_HEADER_LINK_COLOR:"#ffffff",DEFAULT_HEADER_LINK_HOVER_COLOR:"#ffffff",DEFAULT_HEADER_LINK_HOVER_BG_COLOR:"#3572b0",DEFAULT_HEADER_BADGE_COLOR:"#3b73af",DEFAULT_HELP_CENTER_TITLE_COLOR:"#ffffff",DEFAULT_PORTAL_THEME_COLOR:"#0074e0"};var c=/^[a-zA-Z0-9_\-\+'`\?=\*%\$#!\/^\{\|}~\.]+@([a-zA-Z0-9\-]+\.)+([a-zA-Z0-9]+)$/;n.isValidEmailAddress=function(e){var t=!1;if(c.test(e)){var i=e.split("@")[0];t=!s(i,".")&&!a(i,".")&&!o(i,"..")}return t},n.getMetaKeys=function(e){if(e)return{metaPressed:e.metaKey||e.ctrlKey,shiftPressed:e.shiftKey};else return{metaPressed:!1,shiftPressed:!1}},n.formatSizeInBytes=function(e){var t=[" bytes","KB","MB","GB","TB","PB"],i=1024,n=0,s=t.length-1;if(e="number"==typeof e?e:parseInt(e,10),isNaN(e))return"";for(;e>=i&&n<s;)e/=i,n++;return(e=Math.floor(10*e)/10)+t[n]},n.hardCodedValues={maxLogoFileSize:10485760},n.helpCenterLogoSizeConstraint={maxWidth:250,maxHeight:100},n.inputDebounceTime=300,n.supportsLocalStorage=t.once(function(){try{return window.localStorage.setItem("___sd_test","true"),window.localStorage.removeItem("___sd_test"),!0}catch(e){return console.log("Note: localStorage not supported in this browser."),!1}}),n.supportsCanvas=t.once(function(){var e=document.createElement("canvas");return"function"==typeof e.getContext&&!!e.getContext("2d")}),n.supportsSplitCapture=t.once(function(){return 3==="a1a".split(/(\d)/).length}),n.abbreviateText=function(e,t,i){if("string"==typeof e){if(isNaN(t)||t<0||e.length<=t)return e;var n="string"==typeof i?i:"",s=e.length-t+n.length,r=Math.round(e.length/2);return e.substring(0,r-Math.ceil(s/2))+n+e.substring(r+Math.floor(s/2),e.length)}},n.countAttachmentWikiMarkup=function(e){if("string"!=typeof e)return 0;var t=e.match(/![^!]+\.[a-zA-Z0-9]+(\|thumbnail)?!/g),i=e.match(/\[\^[^\]]+]/g),n=0;return n+=t?t.length:0,n+=i?i.length:0},n.countLinksWikiMarkup=function(e){if("string"!=typeof e)return 0;var t=e.match(/\[[^\^][^\]]*]/g);return t?t.length:0},n.countOccurrenceOfWordsInStr=function(t,i){if("object"!==(void 0===t?"undefined":r(t)))return 0;if("string"!=typeof i)return 0;var n=0;return e(t).each(function(e,t){if("string"!=typeof t)return!0;for(var s,r=0,a=t.length;(s=i.indexOf(t,r))>=0;)n++,r=s+a}),n}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(20),i(3),i(58)],void 0!==(s=function(e,t,i){function n(t){return i.safeError("servicedesk."+t,"Failed attempting to parse "+t+" WRM data provided by rest endpoint in the Jira SPA. Trying legacy WRM.Data."),e.claim(t)}return function(t){if(window.__SPA__)try{var i=document.getElementById("jsd-spa-page-wrm-data-container"),s=JSON.parse(i.innerText);return s.hasOwnProperty(t)?s[t]:n(t)}catch(e){return n(t)}else return e.claim(t)}}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(2),i(1),i(0),i(29),i(21),i(17),i(34),t,i(67),i(69)],void 0!==(s=function(e,t,i,n,s,r,a,o){o.type={SAVE_CHANGES:"SAVE_CHANGES",DELETE:"DELETE",CONFIRM:"CONFIRM",CUSTOM:"CUSTOM"};var c=e.View.extend({tagName:"section",className:"aui-layer aui-dialog2 aui-dialog2-medium sd-aui-dialog2",attributes:{role:"dialog"},template:ServiceDesk.Templates.Components.ConfirmationDialog.simple,mixins:[s],namedEvents:["cancelled","escaped","submitCompleted"],events:{"click .js-extra-action-button":"extraButtonClicked","click .js-confirm-action-button":"confirmClicked","click .aui-dialog2-footer-actions .cancel":"onCancel",keyup:"onKeyUp"},initialize:function(e){var i=n.defaultsWithNull(e,{mode:o.type.CUSTOM,action:t.noop,isAsyncAction:!0,title:"sd-confirmation-dialog-default-title",explanation:"sd-confirmation-dialog-default-explanation",id:"sd-confirmation-dialog",button:"Confirm",primaryButton:!1});this.mode=i.mode,this.action=i.action,this.isAsyncAction=i.isAsyncAction,this.title=i.title,this.explanation=i.explanation,this.explanationContent=i.explanationContent,this.id=i.id,this.button=i.button,this.primaryButton=i.primaryButton,this.extraButton=i.extraButton},extraButtonClicked:function(e){if(this.extraButton)this._handleAction(e,this.extraButton.action,this.extraButton.isAsyncAction)},confirmClicked:function(e){this._handleAction(e,this.action,this.isAsyncAction)},_handleAction:function(e,t,n){var s=this;if(e.preventDefault(),this.disableSubmit(),n)this.showSpinner(),t().done(i.bind(function(e){this.showSuccess(i.bind(function(){this.triggerSubmitCompleted(e)},this))},this)).fail(i.bind(function(e){this.applyErrors(this._getErrorCollection(e),".confirm-dialog-errors",!1,!0),this.enableSubmit()},this)).always(function(){s.hideSpinner()});else t()},_getErrorCollection:function(e){var t=void 0;try{t=JSON.parse(e.responseText)}catch(e){t={errors:[{errorMessage:"Something has gone wrong with your request. If symptoms persist contact your System Administrator."}]}}return t},onCancel:function(){this.triggerCancelled()},onKeyUp:function(e){if(27===e.keyCode)this.triggerEscaped()},_getFunctionOrValue:function(e){return i.isFunction(e)?e():e},render:function(){var e=this._getFunctionOrValue(this.title),i=this._getFunctionOrValue(this.explanation),n=this._getFunctionOrValue(this.explanationContent),s=this._getFunctionOrValue(this.id),a=void 0,c=!0,l=void 0;if(this.mode===o.type.CONFIRM)l="Confirm";else if(this.mode===o.type.DELETE)l="Delete";else if(this.mode===o.type.SAVE_CHANGES)l="Save";else if(this.mode===o.type.CUSTOM)l=this.button,c=this.primaryButton;if(this.extraButton)a={isPrimary:this.extraButton.isPrimary,text:this._getFunctionOrValue(this.extraButton.text)};return this.$el.html(t(this.template({title:e,explanation:i,explanationContent:n,button:l,id:s,isPrimaryButton:c,extraButton:a}))),this.$el.attr("id",this.id),this.$el.attr("data-aui-remove-on-hide",!0),this.$el.attr("data-aui-modal",!0),r("sd.confirm.dialog.rendered"),this.$el}});o.create=function(e){var t=new c(e),i=new a(t.render()),n="_aui-internal-layer-";return t.listenTo(t,"submitCompleted",function(e){i.$el.trigger(n+"submitCompleted",e),i.hide(),r("sd.confirm.dialog.submit.completed")}),t.listenTo(t,"cancelled",function(){if(i.$el.trigger(n+"cancel"),i.hide(),e.onCancel)e.onCancel()}),t.listenTo(t,"escaped",function(){if(i.$el.trigger(n+"escape"),i.hide(),e.onCancel)e.onCancel()}),i}}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("jira/util/safe-logger")},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.RequestTypeIcons)ServiceDesk.Templates.Components.RequestTypeIcons={};if(ServiceDesk.Templates.Components.RequestTypeIcons.icon=function(e,t){return e.iconUrl?'<img aria-hidden="true" '+(e.style?'style="'+soy.$$escapeHtml(e.style)+'" ':"")+'class="'+(e.class?soy.$$escapeHtml(e.class)+" ":"")+'vp-rq-icon" src="'+soy.$$escapeHtml(e.iconUrl)+'" '+(e.title?'title="'+soy.$$escapeHtml(e.title)+'"':"")+" "+(e.dataKey?"data-"+soy.$$escapeHtml(e.dataKey)+'="'+soy.$$escapeHtml(e.dataValue)+'"':"")+">":'<img aria-hidden="true" '+(e.style?'style="'+soy.$$escapeHtml(e.style)+'" ':"")+'class="'+(e.class?soy.$$escapeHtml(e.class)+" ":"")+'vp-rq-icon" src="'+soy.$$escapeHtml(AJS.contextPath())+(e.useCustomerShim?"/servicedesk/customershim":"")+"/secure/viewavatar?avatarType=SD_REQTYPE&amp;avatarId="+soy.$$escapeHtml(e.iconId)+'" '+(e.title?'title="'+soy.$$escapeHtml(e.title)+'"':"")+" "+(e.dataKey?"data-"+soy.$$escapeHtml(e.dataKey)+'="'+soy.$$escapeHtml(e.dataValue)+'"':"")+">"},goog.DEBUG)ServiceDesk.Templates.Components.RequestTypeIcons.icon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.icon";if(ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon=function(e,t){return""+ServiceDesk.Templates.Components.RequestTypeIcons.icon(soy.$$augmentMap(e,{class:e.class?e.class+" vp-rq-icon-small":"vp-rq-icon-small"}))},goog.DEBUG)ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon";if(ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon=function(e,t){return""+ServiceDesk.Templates.Components.RequestTypeIcons.icon(soy.$$augmentMap(e,{class:e.class?e.class+" vp-rq-icon-medium":"vp-rq-icon-medium"}))},goog.DEBUG)ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.RequestTypeIcons}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("jira/ajs/select/multi-select/lozenge-group")},function(e,t,i){var n,s;n=[i(3),t],void 0!==(s=function(e,t){t.getJSMRebrandText=function(t,i){return e.isFeatureEnabled("jsd-mystique")?t:i}}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("aui/flag")},function(e,t,i){var n,s;if(void 0===r)var r={};if(void 0===r.message)r.message={};if(r.message.info=function(e,t){return""+r.message.message(soy.$$augmentMap(e,{type:"info"}))},goog.DEBUG)r.message.info.soyTemplateName="aui.message.info";if(r.message.warning=function(e,t){return""+r.message.message(soy.$$augmentMap(e,{type:"warning"}))},goog.DEBUG)r.message.warning.soyTemplateName="aui.message.warning";if(r.message.error=function(e,t){return""+r.message.message(soy.$$augmentMap(e,{type:"error"}))},goog.DEBUG)r.message.error.soyTemplateName="aui.message.error";if(r.message.success=function(e,t){return""+r.message.message(soy.$$augmentMap(e,{type:"success"}))},goog.DEBUG)r.message.success.soyTemplateName="aui.message.success";if(r.message.hint=function(e,t){return""+r.message.message(soy.$$augmentMap(e,{type:"hint"}))},goog.DEBUG)r.message.hint.soyTemplateName="aui.message.hint";if(r.message.generic=function(e,t){return""+r.message.message(soy.$$augmentMap(e,{type:"generic"}))},goog.DEBUG)r.message.generic.soyTemplateName="aui.message.generic";if(r.message.message=function(e,t){var i="",n=e.tagName?e.tagName:"div",s=e.type?e.type:"generic";return i+="<"+soy.$$escapeHtml(n)+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-message aui-message-'+soy.$$escapeHtml(s)+" "+soy.$$escapeHtml(s)+(e.isCloseable?" closeable":"")+(e.isShadowed?" shadowed":"")+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+(e.titleContent?'<p class="title"><strong>'+soy.$$filterNoAutoescape(e.titleContent)+"</strong></p>":"")+soy.$$filterNoAutoescape(e.content)+(e.isCloseable?'<span class="aui-icon icon-close" role="button" tabindex="0"></span>':"")+"</"+soy.$$escapeHtml(n)+">"},goog.DEBUG)r.message.message.soyTemplateName="aui.message.message";n=[i(13)],void 0!==(s=function(){return r.message}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(r,a){"use strict";if("object"==typeof e&&e.exports)e.exports=a();else if(!0)n=a,void 0!==(s="function"==typeof n?n.call(t,i,t,e):n)&&(e.exports=s);else r.IPv6=a(r)}(this,function(e){"use strict";function t(e){var t=e.toLowerCase(),i=t.split(":"),n=i.length,s=8;if(""===i[0]&&""===i[1]&&""===i[2])i.shift(),i.shift();else if(""===i[0]&&""===i[1])i.shift();else if(""===i[n-1]&&""===i[n-2])i.pop();if(n=i.length,-1!==i[n-1].indexOf("."))s=7;var r;for(r=0;r<n&&""!==i[r];r++);if(r<s)for(i.splice(r,1,"0000");i.length<s;)i.splice(r,0,"0000");for(var a,o=0;o<s;o++){a=i[o].split("");for(var c=0;c<3&&("0"===a[0]&&a.length>1);c++)a.splice(0,1);i[o]=a.join("")}var l=-1,u=0,d=0,p=-1,f=!1;for(o=0;o<s;o++)if(f){if("0"===i[o])d+=1;else if(f=!1,d>u)l=p,u=d}else if("0"===i[o])f=!0,p=o,d=1;if(d>u)l=p,u=d;if(u>1)i.splice(l,u,"");n=i.length;var h="";if(""===i[0])h=":";for(o=0;o<n&&(h+=i[o],o!==n-1);o++)h+=":";if(""===i[n-1])h+=":";return h}function i(){if(e.IPv6===this)e.IPv6=n;return this}var n=e&&e.IPv6;return{best:t,noConflict:i}})},function(e,t,i){var n,s;/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(r,a){"use strict";if("object"==typeof e&&e.exports)e.exports=a();else if(!0)n=a,void 0!==(s="function"==typeof n?n.call(t,i,t,e):n)&&(e.exports=s);else r.SecondLevelDomains=a(r)}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,i={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return!1;var s=i.list[e.slice(t+1)];if(!s)return!1;else return s.indexOf(" "+e.slice(n+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var n=i.list[e.slice(t+1)];if(!n)return!1;else return n.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return null;var s=i.list[e.slice(t+1)];if(!s)return null;if(s.indexOf(" "+e.slice(n+1,t)+" ")<0)return null;else return e.slice(n+1)},noConflict:function(){if(e.SecondLevelDomains===this)e.SecondLevelDomains=t;return this}};return i})},function(e,t,i){(function(e,n){var s;!function(r){function a(e){throw new RangeError(B[e])}function o(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function c(e,t){var i=e.split("@"),n="";if(i.length>1)n=i[0]+"@",e=i[1];return e=e.replace(I,"."),n+o(e.split("."),t).join(".")}function l(e){for(var t,i,n=[],s=0,r=e.length;s<r;)if((t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r)if(56320==(64512&(i=e.charCodeAt(s++))))n.push(((1023&t)<<10)+(1023&i)+65536);else n.push(t),s--;else n.push(t);return n}function u(e){return o(e,function(e){var t="";if(e>65535)e-=65536,t+=W(e>>>10&1023|55296),e=56320|1023&e;return t+=W(e)}).join("")}function d(e){if(e-48<10)return e-22;if(e-65<26)return e-65;if(e-97<26)return e-97;else return z}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,i){var n=0;for(e=i?_(e/N):e>>1,e+=_(e/t);e>x*O>>1;n+=z)e=_(e/x);return _(n+(x+1)*e/(e+L))}function h(e){var t,i,n,s,r,o,c,l,p,h,m=[],M=e.length,g=0,b=w,v=E;if((i=e.lastIndexOf(C))<0)i=0;for(n=0;n<i;++n){if(e.charCodeAt(n)>=128)a("not-basic");m.push(e.charCodeAt(n))}for(s=i>0?i+1:0;s<M;){for(r=g,o=1,c=z;;c+=z){if(s>=M)a("invalid-input");if((l=d(e.charCodeAt(s++)))>=z||l>_((T-g)/o))a("overflow");if(g+=l*o,p=c<=v?k:c>=v+O?O:c-v,l<p)break;if(h=z-p,o>_(T/h))a("overflow");o*=h}if(t=m.length+1,v=f(g-r,t,0==r),_(g/t)>T-b)a("overflow");b+=_(g/t),g%=t,m.splice(g++,0,b)}return u(m)}function m(e){var t,i,n,s,r,o,c,u,d,h,m,M,g,b,v,A=[];for(e=l(e),M=e.length,t=w,i=0,r=E,o=0;o<M;++o)if((m=e[o])<128)A.push(W(m));if(n=s=A.length,s)A.push(C);for(;n<M;){for(c=T,o=0;o<M;++o)if((m=e[o])>=t&&m<c)c=m;if(g=n+1,c-t>_((T-i)/g))a("overflow");for(i+=(c-t)*g,t=c,o=0;o<M;++o){if((m=e[o])<t&&++i>T)a("overflow");if(m==t){for(u=i,d=z;h=d<=r?k:d>=r+O?O:d-r,!(u<h);d+=z)v=u-h,b=z-h,A.push(W(p(h+v%b,0))),u=_(v/b);A.push(W(p(u,0))),r=f(i,g,n==s),i=0,++n}}++i,++t}return A.join("")}function M(e){return c(e,function(e){return D.test(e)?h(e.slice(4).toLowerCase()):e})}function g(e){return c(e,function(e){return q.test(e)?"xn--"+m(e):e})}var b="object"==typeof t&&t&&!t.nodeType&&t,v="object"==typeof e&&e&&!e.nodeType&&e,A="object"==typeof n&&n;if(A.global===A||A.window===A||A.self===A)r=A;var S,y,T=2147483647,z=36,k=1,O=26,L=38,N=700,E=72,w=128,C="-",D=/^xn--/,q=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=z-k,_=Math.floor,W=String.fromCharCode;if(S={version:"1.3.2",ucs2:{decode:l,encode:u},decode:h,encode:m,toASCII:g,toUnicode:M},!0)void 0!==(s=function(){return S}.call(t,i,t,e))&&(e.exports=s);else if(b&&v)if(e.exports==b)v.exports=S;else for(y in S)S.hasOwnProperty(y)&&(b[y]=S[y]);else r.punycode=S}(this)}).call(t,i(76)(e),i(11))},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.ConfirmationDialog)ServiceDesk.Templates.Components.ConfirmationDialog={};if(ServiceDesk.Templates.Components.ConfirmationDialog.simple=function(e,t){return'<div class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml(e.title)+'</h2></div><form class="confirmation-dialog-form" action="#" method="post"><div class="aui-dialog2-content sd-dialog2-height-auto"><div class="confirm-dialog-errors"></div>'+(e.explanationContent?soy.$$filterNoAutoescape(e.explanationContent):e.explanation?"<p>"+soy.$$escapeHtml(e.explanation)+"</p>":"")+'</div><div class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><div class="buttons"><span class="cv-sd-status js-status"></span>'+(e.extraButton?'<button type="submit" class="aui-button'+(e.extraButton.isPrimary?" aui-button-primary":"")+' js-extra-action-button">'+soy.$$escapeHtml(e.extraButton.text)+"</button>":"")+'<button type="submit" class="aui-button'+(e.isPrimaryButton?" aui-button-primary":"")+' js-confirm-action-button">'+soy.$$escapeHtml(e.button)+'</button><button type="button" class="aui-button aui-button-link cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></div></div></form>"},goog.DEBUG)ServiceDesk.Templates.Components.ConfirmationDialog.simple.soyTemplateName="ServiceDesk.Templates.Components.ConfirmationDialog.simple";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.ConfirmationDialog}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n;void 0!==(n=function(){return JIRA.Issue}.call(t,i,t,e))&&(e.exports=n)},function(e,t){},function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(23)],void 0!==(s=function(e){var t={INVITE_TEAM:"InviteTeam",KNOWLEDGE_BASE:"KnowledgeBase",CUSTOMER_CHANNELS:"CustomerChannels",CUSTOMERS:"Customers",CUSTOMER_NOTIFICATION_SETTINGS:"CustomerNotificationSettings",LANGUAGE_SUPPORT_SETTINGS:"LanguageSupportSettings",ONBOARDING_WIZARD:"OnboardingWizard",KNOWLEDGE_BASE_SETTINGS:"KnowledgeBaseSettings",REQUEST_TYPE_SETTINGS:"RequestTypeSettings",QUEUES:"Queues",GETTING_STARTED:"GettingStarted",PORTAL_SETTINGS:"PortalSettings",CUSTOMER_PERMISSIONS_SETTINGS:"CustomerPermissionsSettings",SATISFACTION_SETTINGS:"SatisfactionSettings",SLA_SETTINGS:"SlaSettings",EMAIL_REQUEST_SETTINGS:"EmailRequestSettings",AUTOMATION_SETTINGS:"AutomationSettings",REPORTS:"Reports"},i={MODAL:"Modal",SCREEN:"Screen",INLINE_DIALOG:"InlineDialog",DRAWER:"Drawer",TAB:"Tab"},n=function(t,i,n){if(!i)console.warn("You didn't provide a context for your screen event!");var s=r({context:i},n);e.fireScreenEvent({name:t,attributes:s})};return{fireModalPageEvent:function(e,t,s){n(""+e+i.MODAL,t,s)},fireScreenPageEvent:function(e,t,s){n(""+e+i.SCREEN,t,s)},fireInlineDialogPageEvent:function(e,t,s){n(""+e+i.INLINE_DIALOG,t,s)},fireDrawerPageEvent:function(e,t,s){n(""+e+i.DRAWER,t,s)},fireTabPageEvent:function(e,t,s){n(""+e+i.TAB,t,s)},CONTEXTS:t}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(55)],void 0!==(s=function(e){return e("com.atlassian.servicedesk.core-ui:util-base-url.base-url")}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Components)ServiceDesk.Templates.Shared.Components={};if(void 0===ServiceDesk.Templates.Shared.Components.CustomerOrganization)ServiceDesk.Templates.Shared.Components.CustomerOrganization={};if(ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer=function(e,t){return'<span class="sd-organization" title="'+soy.$$escapeHtml(e.organisationName)+'"><span class="sd-organization-cell">'+(e.avatarUrl?'<img src="'+soy.$$escapeHtml(e.avatarUrl)+'" />':'<div class="default-organization-avatar"></div>')+'</span><span class="sd-organization-value">'+soy.$$escapeHtml(e.organisationName)+"</span></span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer.soyTemplateName="ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Components.CustomerOrganization}.apply(t,n))&&(e.exports=s)},,function(e,t){e.exports=window.require("atlassian/libs/uri-1.14.1")},function(e,t){e.exports=window.require("jira/util/events/types")},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){if(e.deprecate=function(){},e.paths=[],!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1}return e}},function(e,t,i){var n,s;n=[i(0),i(2)],void 0!==(s=function(e,t){return t.Model.extend({namedAttributes:{severity:Object,summary:String,templateName:String,templateParams:Object}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s,r;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,o){"use strict";if("object"==typeof e&&e.exports)e.exports=o(i(66),i(64),i(65));else if(!0)s=[i(66),i(64),i(65)],n=o,void 0!==(r="function"==typeof n?n.apply(t,s):n)&&(e.exports=r);else a.URI=o(a.punycode,a.IPv6,a.SecondLevelDomains,a)}(this,function(e,t,i,n){"use strict";function s(e,t){var i=arguments.length>=1,n=arguments.length>=2;if(!(this instanceof s)){if(i)if(n)return new s(e,t);else return new s(e);return new s}if(void 0===e){if(i)throw new TypeError("undefined is not a valid argument for URI");if("undefined"!=typeof location)e=location.href+"";else e=""}if(null===e)if(i)throw new TypeError("null is not a valid argument for URI");if(this.href(e),void 0!==t)return this.absoluteTo(t);else return this}function r(e){return/^[0-9]+$/.test(e)}function a(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){if(void 0===e)return"Undefined";else return String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===o(e)}function l(e,t){var i,n,s={};if("RegExp"===o(t))s=null;else if(c(t))for(i=0,n=t.length;i<n;i++)s[t[i]]=!0;else s[t]=!0;for(i=0,n=e.length;i<n;i++){if(s&&void 0!==s[e[i]]||!s&&t.test(e[i]))e.splice(i,1),n--,i--}return e}function u(e,t){var i,n;if(c(t)){for(i=0,n=t.length;i<n;i++)if(!u(e,t[i]))return!1;return!0}var s=o(t);for(i=0,n=e.length;i<n;i++)if("RegExp"===s){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function d(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function p(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function f(e){return escape(e)}function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,f).replace(/\*/g,"%2A")}function m(e){return function(t,i){if(void 0===t)return this._parts[e]||"";else return this._parts[e]=t||null,this.build(!i),this}}function M(e,t){return function(i,n){if(void 0===i)return this._parts[e]||"";else{if(null!==i)if(i+="",i.charAt(0)===t)i=i.substring(1);return this._parts[e]=i,this.build(!n),this}}}var g=n&&n.URI;s.version="1.19.1";var b=s.prototype,v=Object.prototype.hasOwnProperty;s._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:s.preventInvalidHostname,duplicateQueryParameters:s.duplicateQueryParameters,escapeQuerySpace:s.escapeQuerySpace}},s.preventInvalidHostname=!1,s.duplicateQueryParameters=!1,s.escapeQuerySpace=!0,s.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,s.idn_expression=/[^a-z0-9\._-]/i,s.punycode_expression=/(xn--)/i,s.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,s.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},s.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},s.hostProtocols=["http","https"],s.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,s.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},s.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return s.domAttributes[t]}},s.encode=h,s.decode=decodeURIComponent,s.iso8859=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=h,s.decode=decodeURIComponent},s.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},s.encodeQuery=function(e,t){var i=s.encode(e+"");if(void 0===t)t=s.escapeQuerySpace;return t?i.replace(/%20/g,"+"):i},s.decodeQuery=function(e,t){if(e+="",void 0===t)t=s.escapeQuerySpace;try{return s.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var A,S={encode:"encode",decode:"decode"},y=function(e,t){return function(i){try{return s[t](i+"").replace(s.characters[e][t].expression,function(i){return s.characters[e][t].map[i]})}catch(e){return i}}};for(A in S)s[A+"PathSegment"]=y("pathname",S[A]),s[A+"UrnPathSegment"]=y("urnpath",S[A]);var T=function(e,t,i){return function(n){var r;if(!i)r=s[t];else r=function(e){return s[t](s[i](e))};for(var a=(n+"").split(e),o=0,c=a.length;o<c;o++)a[o]=r(a[o]);return a.join(e)}};s.decodePath=T("/","decodePathSegment"),s.decodeUrnPath=T(":","decodeUrnPathSegment"),s.recodePath=T("/","encodePathSegment","decode"),s.recodeUrnPath=T(":","encodeUrnPathSegment","decode"),s.encodeReserved=y("reserved","encode"),s.parse=function(e,t){var i;if(!t)t={preventInvalidHostname:s.preventInvalidHostname};if((i=e.indexOf("#"))>-1)t.fragment=e.substring(i+1)||null,e=e.substring(0,i);if((i=e.indexOf("?"))>-1)t.query=e.substring(i+1)||null,e=e.substring(0,i);if("//"===e.substring(0,2))t.protocol=null,e=e.substring(2),e=s.parseAuthority(e,t);else if((i=e.indexOf(":"))>-1)if(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(s.protocol_expression))t.protocol=void 0;else if("//"===e.substring(i+1,i+3))e=e.substring(i+3),e=s.parseAuthority(e,t);else e=e.substring(i+1),t.urn=!0;return t.path=e,t},s.parseHost=function(e,t){if(!e)e="";e=e.replace(/\\/g,"/");var i,n,r=e.indexOf("/");if(-1===r)r=e.length;if("["===e.charAt(0)){if(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,r)||null,"/"===t.port)t.port=null}else{var a=e.indexOf(":"),o=e.indexOf("/"),c=e.indexOf(":",a+1);if(-1!==c&&(-1===o||c<o))t.hostname=e.substring(0,r)||null,t.port=null;else n=e.substring(0,r).split(":"),t.hostname=n[0]||null,t.port=n[1]||null}if(t.hostname&&"/"!==e.substring(r).charAt(0))r++,e="/"+e;if(t.preventInvalidHostname)s.ensureValidHostname(t.hostname,t.protocol);if(t.port)s.ensureValidPort(t.port);return e.substring(r)||"/"},s.parseAuthority=function(e,t){return e=s.parseUserinfo(e,t),s.parseHost(e,t)},s.parseUserinfo=function(e,t){var i,n=e.indexOf("/"),r=e.lastIndexOf("@",n>-1?n:e.length-1);if(r>-1&&(-1===n||r<n))i=e.substring(0,r).split(":"),t.username=i[0]?s.decode(i[0]):null,i.shift(),t.password=i[0]?s.decode(i.join(":")):null,e=e.substring(r+1);else t.username=null,t.password=null;return e},s.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i,n,r,a={},o=e.split("&"),c=o.length,l=0;l<c;l++)if(i=o[l].split("="),n=s.decodeQuery(i.shift(),t),r=i.length?s.decodeQuery(i.join("="),t):null,v.call(a,n)){if("string"==typeof a[n]||null===a[n])a[n]=[a[n]];a[n].push(r)}else a[n]=r;return a},s.build=function(e){var t="";if(e.protocol)t+=e.protocol+":";if(!e.urn&&(t||e.hostname))t+="//";if(t+=s.buildAuthority(e)||"","string"==typeof e.path){if("/"!==e.path.charAt(0)&&"string"==typeof e.hostname)t+="/";t+=e.path}if("string"==typeof e.query&&e.query)t+="?"+e.query;if("string"==typeof e.fragment&&e.fragment)t+="#"+e.fragment;return t},s.buildHost=function(e){var t="";if(!e.hostname)return"";else if(s.ip6_expression.test(e.hostname))t+="["+e.hostname+"]";else t+=e.hostname;if(e.port)t+=":"+e.port;return t},s.buildAuthority=function(e){return s.buildUserinfo(e)+s.buildHost(e)},s.buildUserinfo=function(e){var t="";if(e.username)t+=s.encode(e.username);if(e.password)t+=":"+s.encode(e.password);if(t)t+="@";return t},s.buildQuery=function(e,t,i){var n,r,a,o,l="";for(r in e)if(v.call(e,r)&&r)if(c(e[r])){for(n={},a=0,o=e[r].length;a<o;a++)if(void 0!==e[r][a]&&void 0===n[e[r][a]+""])if(l+="&"+s.buildQueryParameter(r,e[r][a],i),!0!==t)n[e[r][a]+""]=!0}else if(void 0!==e[r])l+="&"+s.buildQueryParameter(r,e[r],i);return l.substring(1)},s.buildQueryParameter=function(e,t,i){return s.encodeQuery(e,i)+(null!==t?"="+s.encodeQuery(t,i):"")},s.addQuery=function(e,t,i){if("object"==typeof t){for(var n in t)if(v.call(t,n))s.addQuery(e,n,t[n])}else if("string"==typeof t){if(void 0===e[t])return void(e[t]=i);else if("string"==typeof e[t])e[t]=[e[t]];if(!c(i))i=[i];e[t]=(e[t]||[]).concat(i)}else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")},s.setQuery=function(e,t,i){if("object"==typeof t){for(var n in t)if(v.call(t,n))s.setQuery(e,n,t[n])}else if("string"==typeof t)e[t]=void 0===i?null:i;else throw new TypeError("URI.setQuery() accepts an object, string as the name parameter")},s.removeQuery=function(e,t,i){var n,r,a;if(c(t))for(n=0,r=t.length;n<r;n++)e[t[n]]=void 0;else if("RegExp"===o(t)){for(a in e)if(t.test(a))e[a]=void 0}else if("object"==typeof t){for(a in t)if(v.call(t,a))s.removeQuery(e,a,t[a])}else if("string"==typeof t)if(void 0!==i){if("RegExp"===o(i))if(!c(e[t])&&i.test(e[t]))e[t]=void 0;else e[t]=l(e[t],i);else if(e[t]===String(i)&&(!c(i)||1===i.length))e[t]=void 0;else if(c(e[t]))e[t]=l(e[t],i)}else e[t]=void 0;else throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter")},s.hasQuery=function(e,t,i,n){switch(o(t)){case"String":break;case"RegExp":for(var r in e)if(v.call(e,r))if(t.test(r)&&(void 0===i||s.hasQuery(e,r,i)))return!0;return!1;case"Object":for(var a in t)if(v.call(t,a))if(!s.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(i)){case"Undefined":return t in e;case"Boolean":return i===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!i(e[t],t,e);case"Array":if(!c(e[t]))return!1;return(n?u:d)(e[t],i);case"RegExp":if(!c(e[t]))return Boolean(e[t]&&e[t].match(i));if(!n)return!1;else return u(e[t],i);case"Number":i=String(i);case"String":if(!c(e[t]))return e[t]===i;if(!n)return!1;else return u(e[t],i);default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.joinPaths=function(){for(var e=[],t=[],i=0,n=0;n<arguments.length;n++){var r=new s(arguments[n]);e.push(r);for(var a=r.segment(),o=0;o<a.length;o++){if("string"==typeof a[o])t.push(a[o]);if(a[o])i++}}if(!t.length||!i)return new s("");var c=new s("").segment(t);if(""===e[0].path()||"/"===e[0].path().slice(0,1))c.path("/"+c.path());return c.normalize()},s.commonPath=function(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}if(i<1)return e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"";if("/"!==e.charAt(i)||"/"!==t.charAt(i))i=e.substring(0,i).lastIndexOf("/");return e.substring(0,i+1)},s.withinString=function(e,t,i){i||(i={});var n=i.start||s.findUri.start,r=i.end||s.findUri.end,a=i.trim||s.findUri.trim,o=i.parens||s.findUri.parens,c=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(e);if(!l)break;var u=l.index;if(i.ignoreHtml){var d=e.slice(Math.max(u-3,0),u);if(d&&c.test(d))continue}for(var p=u+e.slice(u).search(r),f=e.slice(u,p),h=-1;;){var m=o.exec(f);if(!m)break;var M=m.index+m[0].length;h=Math.max(h,M)}if(h>-1)f=f.slice(0,h)+f.slice(h).replace(a,"");else f=f.replace(a,"");if(!(f.length<=l[0].length))if(!i.ignore||!i.ignore.test(f)){p=u+f.length;var g=t(f,u,p,e);if(void 0!==g)g=String(g),e=e.slice(0,u)+g+e.slice(p),n.lastIndex=u+g.length;else n.lastIndex=p}}return n.lastIndex=0,e},s.ensureValidHostname=function(t,i){var n=!!t,r=!!i,a=!1;if(r)a=u(s.hostProtocols,i);if(a&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+i);else if(t&&t.match(s.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(s.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},s.ensureValidPort=function(e){if(e){var t=Number(e);if(!(r(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},s.noConflict=function(e){if(e){var t={URI:this.noConflict()};if(n.URITemplate&&"function"==typeof n.URITemplate.noConflict)t.URITemplate=n.URITemplate.noConflict();if(n.IPv6&&"function"==typeof n.IPv6.noConflict)t.IPv6=n.IPv6.noConflict();if(n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict)t.SecondLevelDomains=n.SecondLevelDomains.noConflict();return t}else if(n.URI===this)n.URI=g;return this},b.build=function(e){if(!0===e)this._deferred_build=!0;else if(void 0===e||this._deferred_build)this._string=s.build(this._parts),this._deferred_build=!1;return this},b.clone=function(){return new s(this)},b.valueOf=b.toString=function(){return this.build(!1)._string},b.protocol=m("protocol"),b.username=m("username"),b.password=m("password"),b.hostname=m("hostname"),b.port=m("port"),b.query=M("query","?"),b.fragment=M("fragment","#"),b.search=function(e,t){var i=this.query(e,t);return"string"==typeof i&&i.length?"?"+i:i},b.hash=function(e,t){var i=this.fragment(e,t);return"string"==typeof i&&i.length?"#"+i:i},b.pathname=function(e,t){if(void 0===e||!0===e){var i=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?s.decodeUrnPath:s.decodePath)(i):i}else{if(this._parts.urn)this._parts.path=e?s.recodeUrnPath(e):"";else this._parts.path=e?s.recodePath(e):"/";return this.build(!t),this}},b.path=b.pathname,b.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=s._parts();var n=e instanceof s,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[s.getDomAttribute(e)]||"",r=!1}if(!n&&r&&void 0!==e.pathname)e=e.toString();if("string"==typeof e||e instanceof String)this._parts=s.parse(String(e),this._parts);else if(n||r){var a=n?e._parts:e;for(i in a)if("query"!==i)if(v.call(this._parts,i))this._parts[i]=a[i];if(a.query)this.query(a.query,!1)}else throw new TypeError("invalid input");return this.build(!t),this},b.is=function(e){var t=!1,n=!1,r=!1,a=!1,o=!1,c=!1,l=!1,u=!this._parts.urn;if(this._parts.hostname)u=!1,n=s.ip4_expression.test(this._parts.hostname),r=s.ip6_expression.test(this._parts.hostname),t=n||r,a=!t,o=a&&i&&i.has(this._parts.hostname),c=a&&s.idn_expression.test(this._parts.hostname),l=a&&s.punycode_expression.test(this._parts.hostname);switch(e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return a;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return r;case"idn":return c;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var z=b.protocol,k=b.port,O=b.hostname;b.protocol=function(e,t){if(e)if(e=e.replace(/:(\/\/)?$/,""),!e.match(s.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return z.call(this,e,t)},b.scheme=b.protocol,b.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){if(0===e)e=null;if(e){if(e+="",":"===e.charAt(0))e=e.substring(1);s.ensureValidPort(e)}}return k.call(this,e,t)},b.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==s.parseHost(e,i))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');if(e=i.hostname,this._parts.preventInvalidHostname)s.ensureValidHostname(e,this._parts.protocol)}return O.call(this,e,t)},b.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var i=this.protocol();if(!this.authority())return"";else return(i?i+"://":"")+this.authority()}else{var n=s(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this}},b.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?s.buildHost(this._parts):"";else{if("/"!==s.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this}},b.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?s.buildAuthority(this._parts):"";else{if("/"!==s.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this}},b.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var i=s.buildUserinfo(this._parts);return i?i.substring(0,i.length-1):i}else{if("@"!==e[e.length-1])e+="@";return s.parseUserinfo(e,this._parts),this.build(!t),this}},b.resource=function(e,t){var i;if(void 0===e)return this.path()+this.search()+this.hash();else return i=s.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this},b.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}else{var n=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,n),o=new RegExp("^"+a(r));if(e&&"."!==e.charAt(e.length-1))e+=".";if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(e)s.ensureValidHostname(e,this._parts.protocol);return this._parts.hostname=this._parts.hostname.replace(o,e),this.build(!t),this}},b.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e)t=e,e=void 0;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}else{if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(s.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var r=new RegExp(a(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this}},b.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e)t=e,e=void 0;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),s=this._parts.hostname.substring(n+1);if(!0!==t&&i&&i.list[s.toLowerCase()])return i.get(this._parts.hostname)||s;else return s}else{var r;if(!e)throw new TypeError("cannot set TLD empty");else if(e.match(/[^a-zA-Z0-9-]/))if(i&&i.is(e))r=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e);else throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');else if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");else r=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e);return this.build(!t),this}},b.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?s.decodePath(n):n}else{var r=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,r),c=new RegExp("^"+a(o));if(!this.is("relative")){if(!e)e="/";if("/"!==e.charAt(0))e="/"+e}if(e&&"/"!==e.charAt(e.length-1))e+="/";return e=s.recodePath(e),this._parts.path=this._parts.path.replace(c,e),this.build(!t),this}},b.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(i+1);return e?s.decodePathSegment(n):n}else{var r=!1;if("/"===e.charAt(0))e=e.substring(1);if(e.match(/\.?\//))r=!0;var o=new RegExp(a(this.filename())+"$");if(e=s.recodePath(e),this._parts.path=this._parts.path.replace(o,e),r)this.normalizePath(t);else this.build(!t);return this}},b.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i,n,r=this.filename(),o=r.lastIndexOf(".");if(-1===o)return"";else return i=r.substring(o+1),n=/^[a-z0-9%]+$/i.test(i)?i:"",e?s.decodePathSegment(n):n}else{if("."===e.charAt(0))e=e.substring(1);var c,l=this.suffix();if(!l){if(!e)return this;this._parts.path+="."+s.recodePath(e)}else if(!e)c=new RegExp(a("."+l)+"$");else c=new RegExp(a(l)+"$");if(c)e=s.recodePath(e),this._parts.path=this._parts.path.replace(c,e);return this.build(!t),this}},b.segment=function(e,t,i){var n=this._parts.urn?":":"/",s=this.path(),r="/"===s.substring(0,1),a=s.split(n);if(void 0!==e&&"number"!=typeof e)i=t,t=e,e=void 0;if(void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r)a.shift();if(e<0)e=Math.max(a.length+e,0);if(void 0===t)return void 0===e?a:a[e];else if(null===e||void 0===a[e]){if(c(t)){a=[];for(var o=0,l=t.length;o<l;o++)if(t[o].length||a.length&&a[a.length-1].length){if(a.length&&!a[a.length-1].length)a.pop();a.push(p(t[o]))}}else if(t||"string"==typeof t)if(t=p(t),""===a[a.length-1])a[a.length-1]=t;else a.push(t)}else if(t)a[e]=p(t);else a.splice(e,1);if(r)a.unshift("");return this.path(a.join(n),i)},b.segmentCoded=function(e,t,i){var n,r,a;if("number"!=typeof e)i=t,t=e,e=void 0;if(void 0===t){if(n=this.segment(e,t,i),!c(n))n=void 0!==n?s.decode(n):void 0;else for(r=0,a=n.length;r<a;r++)n[r]=s.decode(n[r]);return n}if(!c(t))t="string"==typeof t||t instanceof String?s.encode(t):t;else for(r=0,a=t.length;r<a;r++)t[r]=s.encode(t[r]);return this.segment(e,t,i)};var L=b.query;return b.query=function(e,t){if(!0===e)return s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);else if("function"==typeof e){var i=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=s.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}else if(void 0!==e&&"string"!=typeof e)return this._parts.query=s.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this;else return L.call(this,e,t)},b.setQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else if("object"==typeof e){for(var r in e)if(v.call(e,r))n[r]=e[r]}else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e)i=t;return this.build(!i),this},b.addQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(s.addQuery(n,e,void 0===t?null:t),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e)i=t;return this.build(!i),this},b.removeQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(s.removeQuery(n,e,t),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e)i=t;return this.build(!i),this},b.hasQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.hasQuery(n,e,t,i)},b.setSearch=b.setQuery,b.addSearch=b.addQuery,b.removeSearch=b.removeQuery,b.hasSearch=b.hasQuery,b.normalize=function(){if(this._parts.urn)return this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build();else return this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},b.normalizeProtocol=function(e){if("string"==typeof this._parts.protocol)this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e);return this},b.normalizeHostname=function(i){if(this._parts.hostname){if(this.is("IDN")&&e)this._parts.hostname=e.toASCII(this._parts.hostname);else if(this.is("IPv6")&&t)this._parts.hostname=t.best(this._parts.hostname);this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)}return this},b.normalizePort=function(e){if("string"==typeof this._parts.protocol&&this._parts.port===s.defaultPorts[this._parts.protocol])this._parts.port=null,this.build(!e);return this},b.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=s.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=s.recodePath(t);var i,n,r,a="";if("/"!==t.charAt(0))i=!0,t="/"+t;if("/.."===t.slice(-3)||"/."===t.slice(-2))t+="/";if(t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),i)if(a=t.substring(1).match(/^(\.\.\/)+/)||"")a=a[0];for(;;){if(-1===(n=t.search(/\/\.\.(\/|$)/)))break;else if(0===n){t=t.substring(3);continue}if(-1===(r=t.substring(0,n).lastIndexOf("/")))r=n;t=t.substring(0,r)+t.substring(n+3)}if(i&&this.is("relative"))t=a+t.substring(1);return this._parts.path=t,this.build(!e),this},b.normalizePathname=b.normalizePath,b.normalizeQuery=function(e){if("string"==typeof this._parts.query){if(!this._parts.query.length)this._parts.query=null;else this.query(s.parseQuery(this._parts.query,this._parts.escapeQuerySpace));this.build(!e)}return this},b.normalizeFragment=function(e){if(!this._parts.fragment)this._parts.fragment=null,this.build(!e);return this},b.normalizeSearch=b.normalizeQuery,b.normalizeHash=b.normalizeFragment,b.iso8859=function(){var e=s.encode,t=s.decode;s.encode=escape,s.decode=decodeURIComponent;try{this.normalize()}finally{s.encode=e,s.decode=t}return this},b.unicode=function(){var e=s.encode,t=s.decode;s.encode=h,s.decode=unescape;try{this.normalize()}finally{s.encode=e,s.decode=t}return this},b.readable=function(){var t=this.clone();t.username("").password("").normalize();var i="";if(t._parts.protocol)i+=t._parts.protocol+"://";if(t._parts.hostname)if(t.is("punycode")&&e){if(i+=e.toUnicode(t._parts.hostname),t._parts.port)i+=":"+t._parts.port}else i+=t.host();if(t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0))i+="/";if(i+=t.path(!0),t._parts.query){for(var n="",r=0,a=t._parts.query.split("&"),o=a.length;r<o;r++){var c=(a[r]||"").split("=");if(n+="&"+s.decodeQuery(c[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==c[1])n+="="+s.decodeQuery(c[1],this._parts.escapeQuerySpace).replace(/&/g,"%26")}i+="?"+n.substring(1)}return i+=s.decodeQuery(t.hash(),!0)},b.absoluteTo=function(e){var t,i,n,r=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(!(e instanceof s))e=new s(e);if(r._parts.protocol)return r;else r._parts.protocol=e._parts.protocol;if(this._parts.hostname)return r;for(i=0;n=a[i];i++)r._parts[n]=e._parts[n];if(!r._parts.path){if(r._parts.path=e._parts.path,!r._parts.query)r._parts.query=e._parts.query}else{if(".."===r._parts.path.substring(-2))r._parts.path+="/";if("/"!==r.path().charAt(0))t=e.directory(),t=t?t:0===e.path().indexOf("/")?"/":"",r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath()}return r.build(),r},b.relativeTo=function(e){var t,i,n,r,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new s(e).normalize(),t=o._parts,i=e._parts,r=o.path(),a=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===i.protocol)t.protocol=null;if(t.username!==i.username||t.password!==i.password)return o.build();if(null!==t.protocol||null!==t.username||null!==t.password)return o.build();if(t.hostname===i.hostname&&t.port===i.port)t.hostname=null,t.port=null;else return o.build();if(r===a)return t.path="",o.build();if(!(n=s.commonPath(r,a)))return o.build();var c=i.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=c+t.path.substring(n.length)||"./",o.build()},b.equals=function(e){var t,i,n,r=this.clone(),a=new s(e),o={},l={},u={};if(r.normalize(),a.normalize(),r.toString()===a.toString())return!0;if(t=r.query(),i=a.query(),r.query(""),a.query(""),r.toString()!==a.toString())return!1;if(t.length!==i.length)return!1;o=s.parseQuery(t,this._parts.escapeQuerySpace),l=s.parseQuery(i,this._parts.escapeQuerySpace);for(n in o)if(v.call(o,n)){if(!c(o[n])){if(o[n]!==l[n])return!1}else if(!d(o[n],l[n]))return!1;u[n]=!0}for(n in l)if(v.call(l,n))if(!u[n])return!1;return!0},b.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},b.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},b.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},s})},function(e,t,i){var n,s;n=[],void 0!==(s=function(){return AJS.Dialog}.apply(t,n))&&(e.exports=s)},,,,,,,function(e,t,i){var n,s;n=[i(0),i(1),t],void 0!==(s=function(e,t,i){i.install=e.once(function(){t.fn.sdSerializeObject=function(){var e={},i=this.find(":input").serializeArray();return t.each(i,function(){if(e[this.name]){if(!e[this.name].push)e[this.name]=[e[this.name]];e[this.name].push(this.value||"")}else e[this.name]=this.value||""}),e}})}.apply(t,n))&&(e.exports=s)},,,,,function(e,t){e.exports=window.require("jira/ajs/list/group-descriptor")},function(e,t){e.exports=window.require("jira/ajs/list/list")},function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(0),i(258),i(272),i(98),t],void 0!==(s=function(e,t,i,n,s){function a(e){return{value:(100*e).toFixed(j),units:D}}function o(e){var t=a(e);return""+t.value+t.units}function c(e,n,s){var r=void 0;if(s)r=i.tz(e,s);else r=t(e);var a="";if(n===x)a="MMM";else if(n===q)a="ddd ha";else a="Do MMM";return r.format(a)}function l(e,n,s){var r=void 0;if(s)r=i.tz(e,s);else r=t(e);if(n===q)return r.format("Do MMM YYYY ha");else if(n===B){var a=r.format("Do MMM YYYY");return AJS.format("Week starting {0}",a)}else if(n===x)return r.format("MMMM YYYY");return r.format("Do MMM YYYY")}function u(e,n,s){var r=void 0;if(s)r=i.tz(e,s);else r=t(e);if(n===B){var a=r.format("Do MMM YYYY");return AJS.format("week starting {0}",a)}else if(n===q)return r.format("Do MMM YYYY ha");else if(n===x)return r.format("MMMM YYYY");return r.format("Do MMM YYYY")}function d(e,n,s){var r=void 0;if(s)r=i.tz(e,s);else r=t(e);if(n===x)return r.format("MMMM YYYY");else if(n===q)return r.format("dddd, ha");else if(n===B){var a=r.format("Do MMM YYYY");return AJS.format("Week starting {0}",a)}return r.format("dddd, Do MMMM YYYY")}function p(e,i,n){var s=t.duration(e),r=0,a="";if(i===C)r=s.asMonths(),a="mths";else if(i===w)r=s.asDays(),a="days";else if(i===E)r=s.asHours(),a="hrs";else r=s.asMinutes(),a="mins";if(void 0!==n)r=r.toFixed(n);return{value:r,units:a}}function f(e,t,i){var n=p(e,t,i);return n.value+" "+n.units}function h(e){return e.x}function m(e){return e.y}function M(t){return e.map(t,h)}function g(e){if(e.length>0)return e.at(0).getYAxisType();else return""}function b(i){if(g(i)===W){var n=0;if(i.each(function(t){var i=e.max(e.pluck(t.getData(),"y"));n=Math.max(i,n)}),n>t.duration(6,"months").asMilliseconds())return C;else if(n>t.duration(30,"days").asMilliseconds())return w;else if(n>t.duration(2,"hours").asMilliseconds())return E;return N}return""}function v(t){switch(g(t)){case W:var i=b(t);return function(e){return f(e,i,0)};case R:return function(e){return e.toFixed(0)};case P:return o;default:return e.identity}}function A(t){var i=M(t.getSampleData());if(H&&i.length>H){var n=H,s=Math.floor(i.length/n);return e.filter(i,function(e,t){return t%s==0})}return i}function S(t){var i=t[1]-t[0],n=e.last(t)+i;return t.concat([n])}function y(i){var s=g(i),r=void 0;if(s===W){var a=b(i),o=p(i.highestYValue(),a),c=Math.max(Math.ceil(o.value),V);r=n.scale.linear().domain([0,c]).ticks(U),r=c===e.last(r)?r:S(r),r=e.map(r,function(e){return t.duration(e,a)})}else if(s===R)r=n.scale.linear().domain([0,K]).ticks(U),r=K===e.last(r)?r:S(r);else if(s===P)r=n.scale.linear().domain([0,F]).ticks(U),r=F===e.last(r)?r:S(r);else{var l=Math.max(i.highestYValue(),J);r=n.scale.linear().domain([0,l]).ticks(U),r=J===e.last(r)?r:S(r)}return r}function T(e,t){switch(g(e)){case W:return f(t,b(e),X);case R:return t.toFixed($);case P:return o(t);default:return t}}function z(e,t,i){switch(t){case W:return p(e,i,X);case R:return{value:e.toFixed($),units:""};case P:return a(e);default:return{value:e,units:""}}}function k(e,i){var n=t(i).diff(e,"days");if(n<=2)return{enableOptions:[te],default:te};if(n<=4)return{enableOptions:[te,ie],default:te};if(n<=13)return{enableOptions:[ie],default:ie};if(n<=27)return{enableOptions:[ie,ne],default:ie};if(n<=59)return{enableOptions:[ie,ne],default:ne};if(n<=90)return{enableOptions:[ie,ne,se],default:ne};if(n<=179)return{enableOptions:[ne,se],default:ne};if(n<=365)return{enableOptions:[ne,se],default:se};else return{enableOptions:[se],default:se}}function O(t,i){var n=k(t,i),s=[te,ie,ne,se];return{options:e.map(s,function(e){return r({},e,{enabled:n.enableOptions.indexOf(e)>-1?!0:!1})}),default:n.default}}function L(e){switch(e){case q:return te;case I:return ie;case B:return ne;case x:return se;default:return null}}var N="m",E="h",w="d",C="M",D="%",q="h",I="d",B="w",x="m",_="count",W="time",R="star",P="percentage",X=2,$=2,j=1,U=6,H=6,F=1,K=5,V=5,J=5,G="YYYY-MM-DD",Q="hourly",Y="daily",Z="weekly",ee="monthly",te={name:Q,value:q},ie={name:Y,value:I},ne={name:Z,value:B},se={name:ee,value:x};s.formatDate=c,s.formatDateForTable=l,s.formatDateForTableHeading=u,s.formatDateForHover=d,s.xFromPoint=h,s.yFromPoint=m,s.xSeriesFromData=M,s.getTimeUnit=b,s.formatSeriesPoint=T,s.getYAxisTickFormatter=v,s.calculateXAxisTicks=A,s.calculateYAxisTicks=y,s.formatValueWithUnit=z,s.getYAxisTypeFromSeries=g,s.timeUnit={UNIT_MINUTES:N,UNIT_HOURS:E,UNIT_DAYS:w,UNIT_MONTHS:C},s.timeBreakdown={BREAKDOWN_HOUR:q,BREAKDOWN_DAY:I,BREAKDOWN_WEEK:B,BREAKDOWN_MONTH:x},s.yAxisType={TYPE_COUNT:_,TYPE_TIME:W,TYPE_STAR:R,TYPE_PERCENTAGE:P},s.mapYAxisType=function(e){switch(e){case 1:return _;case 2:return W;case 3:return R;case 4:return P;default:return _}},s.fixedTimescales=[{id:1,name:"Past 48 hours",analyticsKey:"past48.byhour",customReportAnalyticKey:"past48",timeBreakdown:q,timePeriod:"PT48H"},{id:2,name:"Past 7 days",analyticsKey:"past7.byday",customReportAnalyticKey:"past7",timeBreakdown:I,timePeriod:"P7D"},{id:3,name:"Past 14 days",analyticsKey:"past14.byday",customReportAnalyticKey:"past14",timeBreakdown:I,timePeriod:"P14D"},{id:4,name:"Past 30 days",analyticsKey:"past30.byday",customReportAnalyticKey:"past30",timeBreakdown:I,timePeriod:"P30D"},{id:5,name:"Past quarter by day",analyticsKey:"pastquarter.byday",customReportAnalyticKey:"past3byday",timeBreakdown:I,timePeriod:"P3M"},{id:6,name:"Past quarter by week",analyticsKey:"pastquarter.byweek",customReportAnalyticKey:"past3byweek",timeBreakdown:B,timePeriod:"P3M"},{id:7,name:"Past year by week",analyticsKey:"pastyear.byweek",customReportAnalyticKey:"past12byweek",timeBreakdown:B,timePeriod:"P1Y"},{id:8,name:"Past year by month",analyticsKey:"pastyear.bymonth",customReportAnalyticKey:"past12bymonth",timeBreakdown:x,timePeriod:"P1Y"}],s.customDateRangeTimescale={id:9,name:"Custom dates",analyticsKey:"custom",customReportAnalyticKey:"custom",timeBreakdown:"c",timePeriod:"CUSTOM"},s.getTimeBreakdownOptionsFromDateRange=O,s.getTimeBreakdownOptionByCode=L,s.DATE_FORMAT=G,s.MAX_DATE_RANGE=366,s.allTimescales=s.fixedTimescales.concat(s.customDateRangeTimescale),s.defaultTimescale=s.fixedTimescales[1],s.getTimescaleById=function(t){return e.find(s.allTimescales,function(e){return e.id===t})},s.isCustomDateRangeTimescale=function(e){return s.customDateRangeTimescale.id===e},s.createCustomTimescale=function(e,t,n,a){return r({},s.customDateRangeTimescale,{startTime:e&&i.tz(e,a).format(G),endTime:t&&i.tz(t,a).format(G),timeBreakdown:n})}}.apply(t,n))&&(e.exports=s)},,,function(e,t,i){var n,s;n=[i(1),i(0),i(3),i(17),i(52),i(53)],void 0!==(s=function(e,t,i,n){function s(t,i){e(t).val(i)}function r(e,t,i){s(e,ServiceDesk.Comment.Field.prepopulatedComment({agent:t,reporter:i}))}function a(t,i){e(t).get(0).setSelectionRange(i,i)}function o(e){return e.indexOf("\n")}function c(e,t){if(t.isAgent)if(t.isExternalMode)l(e,t.agentDisplayName,t.reporterDisplayName);else u(e,t.agentDisplayName,t.reporterDisplayName)}function l(t,i,s){if(!t.val()){r(t,i,s);a(t,o(e(t).val())+2),n("sd.comment.populated")}}function u(e,t,i){if(!p(e,t,i))e.val("")}function d(e,t){return ServiceDesk.Comment.Field.prepopulatedComment({agent:e,reporter:t})}function p(e,t,i){return e.val()!==d(t,i)}function f(t){var i="comment-"+t,n=e("#"+i),s=e(".aui-item.detail-panel");if(s.length>0)s.scrollTop(s.scrollTop()+n.offset().top);else n.scrollIntoView({marginBottom:200,marginTop:200});e("#issue_actions_container > .issue-data-block.focused").removeClass("focused"),n.addClass("focused")}return{prepopulateCommentField:c,fill:s,fillWithDefault:r,setCaretPosition:a,getFirstLineBreakIndex:o,isChangeCommentFromPrepopulated:p,handleInternalComment:u,getTemplateContent:d,handleExternalComment:l,scrollToComment:f}}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(308)],void 0!==(s=function(e){return e}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;if(void 0===r)var r={};if(void 0===r.expander)r.expander={};if(r.expander.content=function(e,t){return'<div id="'+soy.$$escapeHtml(e.id)+'" class="aui-expander-content'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+(e.initiallyExpanded?' aria-expanded="'+soy.$$escapeHtml(e.initiallyExpanded)+'"':"")+">"+(e.content?soy.$$filterNoAutoescape(e.content):"")+"</div>"},goog.DEBUG)r.expander.content.soyTemplateName="aui.expander.content";if(r.expander.trigger=function(e,t){return"<"+soy.$$escapeHtml(e.tag?e.tag:"div")+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+(e.replaceText?' data-replace-text="'+soy.$$escapeHtml(e.replaceText)+'"':"")+(e.replaceSelector?' data-replace-selector="'+soy.$$escapeHtml(e.replaceSelector)+'"':"")+' class="aui-expander-trigger'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+' aria-controls="'+soy.$$escapeHtml(e.contentId)+'"'+(e.collapsible?' data-collapsible="'+soy.$$escapeHtml(e.collapsible)+'"':"")+">"+(e.content?soy.$$filterNoAutoescape(e.content):"")+"</"+soy.$$escapeHtml(e.tag?e.tag:"div")+">"},goog.DEBUG)r.expander.trigger.soyTemplateName="aui.expander.trigger";if(r.expander.revealText=function(e,t){return""+r.expander.content({id:e.contentId,content:""+soy.$$escapeHtml(e.contentContent)+r.expander.trigger({id:e.triggerId,contentId:e.contentId,tag:"a",content:"<span class='reveal-text-trigger-text'>Show more</span>",replaceSelector:".reveal-text-trigger-text",replaceText:"Show less",extraAttributes:e.triggerExtraAttributes,extraClasses:(e.triggerExtraClasses?soy.$$escapeHtml(e.triggerExtraClasses)+"  ":"")+" aui-expander-reveal-text"}),extraAttributes:e.contentExtraAttributes,extraClasses:e.contentExtraClasses})},goog.DEBUG)r.expander.revealText.soyTemplateName="aui.expander.revealText";n=[i(13)],void 0!==(s=function(){return r.expander}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(6),i(7),i(4),t],void 0!==(s=function(e,t,i,n,s){s.processIssueView=function(s,r){if(r&&r!==this.currentIssueKey)this.currentIssueKey=r,t.get(i+"/rest/servicedesk/noeyeball/1/issueview/"+r+"/opened").done(function(t,i,r){if(200===r.status&&t){var a=e.isString(t.issueTypeName)&&t.issueTypeName.toLowerCase().indexOf("incident")>=0,o=t.issueId,c=t.projectId,l=t.sdVersion;n.trackEvent("issueview.issue.opened",{isIncident:a,issueId:o,projectId:c,sdVersion:l,source:s})}})}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Precondition)ServiceDesk.Templates.Shared.Precondition={};if(ServiceDesk.Templates.Shared.Precondition.missingFields=function(e,t){for(var i='<div class="missing-fields-alert"><p>'+ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText({jsmText:""+soy.$$escapeHtml(AJS.format("{0,choice, 1#A required field is| 1\u003cSeveral required fields are} missing from a Create Screen associated with this service project - as a result the following forms cannot be used successfully by customers:",e.missingFieldNames.length,e.requestTypes.length)),jsdText:""+soy.$$escapeHtml(AJS.format("{0,choice, 1#A required field is| 1\u003cSeveral required fields are} missing from a Create Screen associated with this service desk - as a result the following forms cannot be used successfully by customers:",e.missingFieldNames.length,e.requestTypes.length))})+"</p><ul>",n=e.requestTypes,s=n.length,r=0;r<s;r++){var a=n[r];i+="<li>"+soy.$$escapeHtml(a.name)+' <span class="issueType">('+soy.$$escapeHtml(a.issueTypeName)+")</span></li>"}i+='</ul><p class="call-to-action">';var o='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/admin/ConfigureFieldScreen.jspa?id="+soy.$$escapeHtml(e.screenId)+'">';i+=(e.globalAdmin?soy.$$filterNoAutoescape(AJS.format("To repair these Request Forms, add the following fields to this {0}Create Screen{1}:",o,"</a>")):soy.$$filterNoAutoescape(AJS.format("To repair these Request Forms, ask your Jira administrator to add the following fields to the {0}Create Screen{1}:",o,"</a>",e.screenSchemeName)))+"</p><ul>";for(var c=e.missingFieldNames,l=c.length,u=0;u<l;u++){var d=c[u];i+="<li>"+soy.$$escapeHtml(d)+"</li>"}return i+="</ul></div>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.missingFields.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.missingFields";if(ServiceDesk.Templates.Shared.Precondition.missingValueAlert=function(e,t){for(var i='<div class="field-missing-value-alert"><p>'+soy.$$escapeHtml("The following hidden fields on the request type do not have the required preset values:")+"</p><ul>",n=e.fieldNames,s=n.length,r=0;r<s;r++){var a=n[r];i+="<li>"+soy.$$escapeHtml(a)+"</li>"}i+='</ul><p class="call-to-action">';var o='<a href="'+soy.$$escapeHtml(e.requestTypeUrl)+'" class="js-alerts-dialog-closer" data-requesttype-id="'+soy.$$escapeHtml(e.requestTypeId)+'">';return i+=(e.canEditPortal?soy.$$filterNoAutoescape(AJS.format("To repair this request type, set a value for these fields at the {0}fields{1} page.",o,"</a>")):soy.$$escapeHtml("To repair this form, the project administrator can set values for these fields on the request fields page."))+"</p></div>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.missingValueAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.missingValueAlert";if(ServiceDesk.Templates.Shared.Precondition.fieldMissingOptionsAlert=function(e,t){for(var i='<div class="field-missing-value-alert"><p>'+soy.$$escapeHtml(AJS.format("Customers can\'\'t send some requests because the field \"{0}\" doesn\'\'t have any options. \"{0}\" is used on these request forms:",e.fieldName))+"</p><ul>",n=e.requestTypeNames,s=n.length,r=0;r<s;r++){var a=n[r];i+="<li>"+soy.$$escapeHtml(a)+"</li>"}if(i+='</ul><p class="call-to-action">',"version"==e.callToAction){var o='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/plugins/servlet/project-config/"+soy.$$escapeHtml(e.projectKey)+'/versions">';i+=soy.$$filterNoAutoescape(AJS.format("To add options for the field, go to this project\'\'s {0}versions{1} page.",o,"</a>"))}else if("components"==e.callToAction){var c='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/plugins/servlet/project-config/"+soy.$$escapeHtml(e.projectKey)+'/components">';i+=soy.$$filterNoAutoescape(AJS.format("To add options for the field, go to this project\'\'s {0}components{1} page.",c,"</a>"))}else if(e.connectAddonKey){var l='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/plugins/servlet/upm#manage/"+soy.$$escapeHtml(e.connectAddonKey)+'">';i+=e.globalAdmin?soy.$$filterNoAutoescape(AJS.format("To add options for the field, {0}configure the add-on{1}.",l,"</a>")):soy.$$filterNoAutoescape(AJS.format("To add options for the field, ask your Jira administrator to {0}configure the add-on{1}.",l,"</a>"))}else if(e.customFieldId){var u='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/admin/ConfigureCustomField!default.jspa?customFieldId="+soy.$$escapeHtml(e.customFieldId)+'">';i+=e.globalAdmin?soy.$$filterNoAutoescape(AJS.format("To add options for the field, {0}configure the custom field{1}.",u,"</a>")):soy.$$filterNoAutoescape(AJS.format("To add options for the field, ask your Jira administrator to {0}configure the custom field{1}.",u,"</a>"))}return i+="</p></div>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.fieldMissingOptionsAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.fieldMissingOptionsAlert";if(ServiceDesk.Templates.Shared.Precondition.permissionSchemeMisconfigAlert=function(e,t){for(var i="<p>"+(e.userCanAdministerJira?'<p class="sd-fix-permissions-info">'+ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText({jsmText:"This service project has permission errors that can impact functionality. You can correct the errors manually, or click Fix permissions and we\'ll fix them for you.",jsdText:"This service desk project has permission errors that can impact functionality. You can correct the errors manually, or click Fix permissions and we\'ll fix them for you."})+ServiceDesk.Templates.Shared.Utils.helpLink({helpLinkKey:"resolve.permission.scheme.errors",analyticsKey:"agent.precondition.error.permission.misconfig",linkText:"Learn more"})+"</p>":"<p>"+soy.$$escapeHtml("Please ask an administrator to fix the permissions described below:")+"</p>")+"</p>"+aui.expander.trigger({id:"replace-text-trigger",contentId:"permission-error-content",tag:"a",content:"Show errors",replaceText:"Hide errors"}),n="<ul>",s=e.errorsMap,r=s.length,a=0;a<r;a++){var o=s[a];if(n+=(0!=a?"<br />":"")+"<li>",o.alternativeMessage&&o.permissions.length>5)n+=soy.$$escapeHtml(o.alternativeMessage);else{n+=soy.$$escapeHtml(o.message)+"<ul>";for(var c=o.permissions,l=c.length,u=0;u<l;u++){var d=c[u];n+="<li>"+soy.$$escapeHtml(d)+"</li>"}n+="</ul>"}n+="</li>"}return n+="</ul>",i+=aui.expander.content({id:"permission-error-content",content:n}),i+=e.userCanAdministerJira?'<div class="sd-fix-permissions-errors"></div><form class="sd-permission-warning-form" action=""><input type="submit" class="aui-button sd-fix-permissions-button" autocomplete="off" value="'+soy.$$escapeHtml("Fix permission")+'">'+(e.canBeDismissed?'<input type="button" class="aui-button aui-button-link sd-dismiss-permission-errors-button" autocomplete="off" value="'+soy.$$escapeHtml("Ignore errors")+'">':"")+'<span class="sd-progress sd-fix-permissions-spinner js-status"></span></form>':""},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.permissionSchemeMisconfigAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.permissionSchemeMisconfigAlert";if(ServiceDesk.Templates.Shared.Precondition.invalidProjectRunAsUserConfigAlert=function(e,t){return"<p><p>"+soy.$$escapeHtml("Automation rules run as a specific user. The user selected to run these rules no longer exists or does not have sufficient permissions anymore, so automation rules have stopped running.")+"</p>"+(e.userCanAdministerServiceDesk?'<a href="'+soy.$$escapeHtml(e.automationUrl)+'" class="aui-button aui-button-link js-alerts-dialog-closer">'+soy.$$escapeHtml("Select another user")+"</a>":"")+"</p>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.invalidProjectRunAsUserConfigAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.invalidProjectRunAsUserConfigAlert";if(ServiceDesk.Templates.Shared.Precondition.defaultNotificationRuleAlert=function(e,t){return"<p>"+soy.$$escapeHtml("We can\'t find your customer email notification rules. To fix this, restore your email rules.")+'</p><br><p><div class="sd-fix-notification-rules-error"></div></p><p>'+aui.buttons.button({text:"Restore email rules",extraClasses:"js-fix-notification-rule"})+"</p>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.defaultNotificationRuleAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.defaultNotificationRuleAlert";if(ServiceDesk.Templates.Shared.Precondition.defaultAssigneeNotAssignableAlert=function(e,t){var i="<p>"+soy.$$escapeHtml("The Default Assignee doesn\'t have permission for the project or was deleted.")+'</p><br><p><div class="sd-fix-notification-rules-error"></div></p><p class="call-to-action">',n='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/project/EditProject!default.jspa?pid="+soy.$$escapeHtml(e.projectId)+'" class="js-alerts-dialog-closer">';return i+=(e.canAdministerServiceDesk?soy.$$filterNoAutoescape(AJS.format("Choose an Assignable User as the default assignee in {0}Project settings{1}.",n,"</a>")):"")+"</p>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.defaultAssigneeNotAssignableAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.defaultAssigneeNotAssignableAlert";if(ServiceDesk.Templates.Shared.Precondition.defaultTemplate=function(e,t){return"<p></p>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.defaultTemplate.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.defaultTemplate";if(ServiceDesk.Templates.Shared.Precondition.customMailBoxMisconfigAlert=function(e,t){return'<p><p class="sd-fix-permissions-info">'+soy.$$escapeHtml(AJS.format("We\'\'re currently unable to get requests from {0} so we\'\'ve temporarily disabled this channel.",e.emailAddress))+"<br />"+(e.canAdministerJiraProject?soy.$$escapeHtml("Please reconfigure the custom email address in email settings and try again.")+ServiceDesk.Templates.Shared.Utils.helpLink({helpLinkKey:"email.settings.troubleshooting",analyticsKey:"agent.precondition.error.email.misconfig",linkText:"Learn more"}):soy.$$escapeHtml("Please contact your project administrator to reconfigure the custom email address in email settings."))+"</p></p>"+aui.expander.trigger({id:"replace-text-trigger",contentId:"email-address-error-content",tag:"a",content:"Show errors",replaceText:"Hide errors"})+aui.expander.content({id:"email-address-error-content",content:"<ul><li>"+soy.$$escapeHtml(e.errorReason)+"</li></ul>"})+"<p>"+(e.canAdministerJiraProject?'<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/servicedesk/admin/"+soy.$$escapeHtml(e.projectKey)+'/email-settings" class="aui-button js-alerts-dialog-closer">'+soy.$$escapeHtml("Email settings")+"</a>":"")+"</p>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.customMailBoxMisconfigAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.customMailBoxMisconfigAlert";if(ServiceDesk.Templates.Shared.Precondition.changeManagementAlertWithReviewSettingsCta=function(e,t){return"<p>"+soy.$$escapeHtml(e.description)+"</p>"+(e.canAdministerJiraProject?'<p><a href="'+soy.$$escapeHtml(AJS.contextPath())+"/servicedesk/admin/"+soy.$$escapeHtml(e.projectKey)+'/change-management" class="js-alerts-dialog-closer">'+soy.$$escapeHtml("Review settings")+"</a></p>":"")},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.changeManagementAlertWithReviewSettingsCta.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.changeManagementAlertWithReviewSettingsCta";if(ServiceDesk.Templates.Shared.Precondition.changeManagementAddonUserMissingPermissionsAlert=function(e,t){var i="<p>",n="https://confluence.atlassian.com/jirakb/resolve-permission-scheme-errors-in-jira-service-desk-838416389.html";return i+=soy.$$filterNoAutoescape(AJS.format("Add \"Create issues\" permissions to your {0}atlassian-addons-project-access{1} user to continue using change management. Learn more about {2}add-on permissions{3}.",'<span class="monospace">',"</span>",'<a href="'+n+'" target="_blank" rel="noopener noreferrer">',"</a>"))+"</p>"+(e.canAdministerJiraProject?'<p><a href="'+soy.$$escapeHtml(AJS.contextPath())+"/plugins/servlet/project-config/"+soy.$$escapeHtml(e.projectKey)+'/permissions" target="_blank" class="js-alerts-dialog-closer">'+soy.$$escapeHtml("Go to Project permissions")+"</a></p>":"")},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.changeManagementAddonUserMissingPermissionsAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.changeManagementAddonUserMissingPermissionsAlert";n=[i(33),i(42),i(100),i(18)],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Precondition}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Precondition)ServiceDesk.Templates.Shared.Precondition={};if(ServiceDesk.Templates.Shared.Precondition.alertSummary=function(e,t){return e.isMajor?'<div class="aui-message error"><span class="aui-icon icon-error"></span><p>'+ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText({jsmText:""+soy.$$escapeHtml("This service project has configuration problems and may not work as expected."),jsdText:""+soy.$$escapeHtml("This service desk project has configuration problems and may not work as expected.")})+'</p><p><a href="#">'+soy.$$escapeHtml("View error details and repair the problem")+"</a></p></div>":'<div class="aui-message warning"><span class="aui-icon icon-warning"></span><p>'+ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText({jsmText:""+soy.$$escapeHtml("This service project may not work as expected."),jsdText:""+soy.$$escapeHtml("This service desk project may not work as expected.")})+'</p><p><a href="#">'+soy.$$escapeHtml("View details and repair the problem")+"</a></p></div>"},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.alertSummary.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.alertSummary";if(ServiceDesk.Templates.Shared.Precondition.alertBox=function(e,t){return'<div class="sd-alert">'+(e.isMajor?'<div class="sd-alert-ribbon-error"><div class="aui-icon aui-icon-small aui-iconfont-error sd-alert-icon-error"></div></div>':'<div class="sd-alert-ribbon-warning"><div class="aui-icon aui-icon-small aui-iconfont-warning sd-alert-icon-warning"></div></div>')+'<div class="sd-alert-content"><p><strong>'+soy.$$escapeHtml(e.summary)+'</strong></p><div id="'+soy.$$escapeHtml(e.alertId)+'"></div></div></div>'},goog.DEBUG)ServiceDesk.Templates.Shared.Precondition.alertBox.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.alertBox";n=[i(33)],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Precondition}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(77)],void 0!==(s=function(e,t){return e.Collection.extend({model:t})}.apply(t,n))&&(e.exports=s)},function(e,t,i){function n(e,t,i){if(t in e)Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0});else e[t]=i;return e}var s,r;s=[i(1),i(2),i(0),i(6),i(5),i(7),i(4),i(3),i(45)],void 0!==(r=function(e,t,i,s,r,a,o,c){var l=".js-fix-notification-rule";return t.View.extend({events:n({},"click "+l,"_fixNotificationRules"),disable:function(){this.undelegateEvents()},initialize:function(e){this.template=e.template,this.projectKey=e.projectKey||r.get("projectKey"),this.contextPath=e.contextPath||a},_getMisconfigurationFixUrl:function(){if(c.isFeatureEnabled("jsd-default-settings-page-lands-on-details"))return this.contextPath+"/rest/servicedesk/notifications/1/misconfiguration/"+this.projectKey+"/fix";var e=r.get("projectKey");return a+"/rest/servicedesk/notifications/1/misconfiguration/"+e+"/fix"},_fixNotificationRules:function(e){e.preventDefault(),this._disableFixButton(),o.trackEvent("page.view.admin.alert.custom.notification.misconfiguration.fix"),s.post(this._getMisconfigurationFixUrl(),{}).done(function(){location.reload()}).fail(i.bind(this._handleErrors,this))},_disableFixButton:function(){this.$(l).attr({"aria-disabled":"aria-disabled",disabled:"disabled"})},_handleErrors:function(){this.$(".sd-fix-notification-rules-error").text("An error occurred while trying to restore the email notification rules. Please try again."),this._enableFixButton()},_enableFixButton:function(){this.$(l).removeAttr("aria-disabled disabled")},render:function(){o.trackEvent("page.view.admin.alert.custom.notification.misconfiguration.view");var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})}.apply(t,s))&&(e.exports=r)},function(e,t,i){var n,s;n=[i(1),i(2),i(45)],void 0!==(s=function(e,t){return t.View.extend({initialize:function(e){this.template=e.template},render:function(){var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(0),i(6),i(21),i(57),i(3),i(5),i(45)],void 0!==(s=function(e,t,i,n,s,r,a,o){return t.View.extend({getFixUrl:function(){if(a.isFeatureEnabled("jsd-default-settings-page-lands-on-details"))return this.contextPath+"/rest/servicedesk/1/permission/configuration/"+this.projectKey+"/misconfiguration/fix";else return contextPath+"/rest/servicedesk/1/permission/configuration/"+o.get("projectKey")+"/misconfiguration/fix"},getDismissUrl:function(){if(a.isFeatureEnabled("jsd-default-settings-page-lands-on-details"))return this.contextPath+"/rest/servicedesk/1/permission/configuration/"+this.projectKey+"/misconfiguration/dismiss";else return contextPath+"/rest/servicedesk/1/permission/configuration/"+o.get("projectKey")+"/misconfiguration/dismiss"},mixins:[s],events:{"submit form":"_fixPermissionScheme","click .sd-dismiss-permission-errors-button":"_dismissPermissionSchemeWarnings"},initialize:function(e){this.template=e.template,this.contextPath=e.contextPath||contextPath,this.projectKey=e.projectKey||o.get("projectKey")},_fixPermissionScheme:function(e){e.preventDefault(),this.disableSubmit(),this.showSpinner(),n.post(this.getFixUrl(),{}).done(function(){location.reload()}).fail(i.bind(this._handleErrors,this))},_dismissPermissionSchemeWarnings:function(t){this._dismissAbort(),this._confirmAcknowledgeDialog=r.create({title:"Ignore permission errors",explanation:"You\'ll no longer be notified about these errors, but we\'ll notify you if new errors occur.",mode:r.type.CUSTOM,button:"OK",primaryButton:!0,id:"sd-acknowledge-permission-errors-confirm",action:i.bind(function(){return this._dismissReq=n.put(this.getDismissUrl(),{}).done(function(){location.reload()}),this._dismissReq},this)}),e("#sd-alerts-dialog").hide(),this._confirmAcknowledgeDialog.show()},_dismissAbort:function(){this._dismissReq&&!this._dismissReq.isResolved()&&this._dismissReq.abort()},_handleErrors:function(e,t){this.hideSpinner();var n=JSON.parse(e.responseText),s=t;if(n)if(n.errors)s="",i.each(n.errors,function(e){s+=e.errorMessage+" "});else if(n.message)s=n.message;this.$(".sd-fix-permissions-errors").text(s)},render:function(){var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(0),i(104),i(77),i(105),i(106),i(107),i(109),i(79),i(4),i(7),i(5),i(102),i(103),i(45)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p){var f="sd-alerts-dialog",h=t.View.extend({alertBoxTemplate:ServiceDesk.Templates.Shared.Precondition.alertBox,initialize:function(e){e=e||{},this.alertsDialog=this._createAlertDialog(),this.projectKey=e.projectKey||p.get("projectKey"),this.contextPath=e.contextPath||d,this.setElement(".sd-alerts-list"),this.render()},_createAlertDialog:function(){var t=new l({width:840,id:f,closeOnOutsideClick:!1});return t.addHeader("Some problems need your attention"),t.addPanel("SinglePanel","<div class='sd-alerts-list'></div>",f+"-panel"),e("."+f+"-panel").css("height","auto"),e("#"+f).css("height","auto"),e("#"+f).find("h2").prepend("<span class='aui-icon aui-icon-close alerts-dialog-close-icon js-alerts-dialog-closer'></span>"),e(document).on("hideLayer",function(e,i,n){if(n.element&&n.element.attr("id")===t.id)t.popup.remove()}),t},_getTemplate:function(e){var t=ServiceDesk.Templates.Shared.Precondition[e];if(!t)t=ServiceDesk.Templates.Shared.Precondition.defaultTemplate;return t},render:function(){return this.$el.empty(),this.collection.each(this._createAlertView,this),this.alertsDialog.popup.element.find(".js-alerts-dialog-closer").on("click",i.bind(function(t){if(e(t.target).hasClass("alerts-dialog-close-icon"))t.preventDefault();setTimeout(i.bind(function(){this.alertsDialog.hide()},this),0),u.trackEvent("servicedesk.config.checker.alert.dialog.closed",{preconditions:this.options.preconditions})},this)),this},_createAlertView:function(e,t){var i="sd-alert-"+t;this.$el.append(this.alertBoxTemplate({isMajor:"ErrorAlert"===e.getSeverity(),summary:e.getSummary(),alertId:i}));var n;if("permissionSchemeMisconfigAlert"===e.getTemplateName())n=o;else if("legacyTransitionDeprecatedAlert"===e.getTemplateName())n=c;else if("defaultNotificationRuleAlert"===e.getTemplateName())n=r;else n=a;new n({template:this._getTemplate(e.getTemplateName()),el:this.$("#"+i),model:e,contextPath:this.contextPath,projectKey:this.projectKey}).render()},show:function(){this.alertsDialog.show()}});return h.id=f,h}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(6),i(21),i(4),i(3)],void 0!==(s=function(e,t,i,n,s,r,a){return i.View.extend({getUrl:function(){if(a.isFeatureEnabled("jsd-default-settings-page-lands-on-details"))return this.contextPath+"/rest/servicedesk/1/servicedesk/disableLegacyTransition/"+this.model.getTemplateParams().serviceDeskId;else return contextPath+"/rest/servicedesk/1/servicedesk/disableLegacyTransition/"+this.model.getTemplateParams().serviceDeskId},mixins:[s],events:{"submit form":"_disableLegacyTransition"},initialize:function(e){this.template=e.template,this.contextPath=e.contextPath||contextPath},_disableLegacyTransition:function(e){e.preventDefault(),this.disableSubmit(),this.showSpinner(),r.trackEvent("admin.legacy.transition.disabled"),n.put(this.getUrl(),{}).done(function(){location.reload()}).fail(t.bind(this._handleError,this))},_handleError:function(e){this.hideSpinner();var t="",i=JSON.parse(e.responseText);if(i&&i.errors)t=i.errors[0].errorMessage;else t="An error has occurred, we are unsure about the state of this operation. Refresh the page and try again.";this.$(".sd-disable-legacy-transition-error").text(t)},render:function(){var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[],void 0!==(s=function(){return AJS.InlineDialog}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(50),i(55)],void 0!==(s=function(e,t){if(window.SD_KBLinkService)return window.SD_KBLinkService;var i=t("sd-kb-link"),n=i&&!i.error,s={isAvailable:function(){return n},hasError:function(){return!!i.error},getError:function(){return i.error},isNonSystemApplinkNotSupportedError:function(){return this.hasError()&&"sd.jsm.kb.link.error.not.support.non.system.applink"===this.getError().key},isMissingApplicationLinkError:function(){return this.hasError()&&"sd.applinks.error.missing"===this.getError().key},setAvailability:function(e){n=e},setSpaceKey:function(e){if(n)i.spaceKey=e},setConfluenceUrl:function(e){if(n)i.baseUrl=e},getSpaceUrl:function(){if(n)return e.getSpaceUrl(i.baseUrl,i.spaceKey)},getSpaceUrlWithCreateDialog:function(){if(n)return e.getSpaceUrlWithCreateDialog(i.baseUrl,i.spaceKey)}};return window.SD_KBLinkService=s,s}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(0),i(1),i(22),i(50),t],void 0!==(s=function(e,t,i,n,s){s.removeConfluenceTags=function(e){return e.split("@@@hl@@@").join("").split("@@@endhl@@@").join("").split("&nbsp;").join("")};var r=function(e){return e.split("@@@hl@@@").join("<strong>").split("@@@endhl@@@").join("</strong>").split("&nbsp;").join("")};s.convertConfluenceTagsToHtml=r,s.getUrl=function(e){var t=e.contextPath;if(e.multiplePortals)t+="/rest/servicedesk/1/servicedesk/sharedportal/kb/articles";else t+="/rest/servicedesk/knowledgebase/latest/articles/search";return t},s.renderResults=function(e){return r(ServiceDesk.Templates.KbSearcher.connieSearchResults(e))},s.getConfUrl=function(){return JSON.parse(t("meta[name=kbJson]").attr("content")).appLinkUrl},s.formatResults=function(t,i){if(t&&t.results)return e.map(t.results,function(t){var s=e.pick(t,"id","confluencePageUrl");return s.titleHtml=t.title,s.bodyTextHighlightsHtml=t.bodyTextHighlights,s.inPageUrl=n.generateUrl(t.id,t.title,t.spaceKey,t.appLinkId,i),s});else return[]}}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(9),i(0)],void 0!==(s=function(e,t){return{install:t.once(function(){return e("aui-inline-dialog",{created:function(e){e.addEventListener("aui-hide",function(e){var t=document.querySelector('[aria-controls="'+e.target.id+'"]');if(t)t.setAttribute("aria-expanded","false")})}})})}}.apply(t,n))&&(e.exports=s)},,,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.InlineEdit)ServiceDesk.Templates.InlineEdit={};if(ServiceDesk.Templates.InlineEdit.field=function(e,t){return'<form class="ajs-dirty-warning-exempt aui" action= "#"><div class="inline-edit-fields field-group">'+soy.$$filterNoAutoescape(e.editHtml)+'</div><span class="overlay-icon throbber" /><div class="save-options"><button type="submit" class="aui-button submit" accessKey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'"><span class="icon icon-save">'+soy.$$escapeHtml("Save")+'</span></button><button type="cancel" class="aui-button cancel" accessKey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'"><span class="icon icon-cancel">'+soy.$$escapeHtml("Cancel")+"</span></button></div></form>"},goog.DEBUG)ServiceDesk.Templates.InlineEdit.field.soyTemplateName="ServiceDesk.Templates.InlineEdit.field";if(ServiceDesk.Templates.InlineEdit.textInput=function(e,t){return'<input type="text" class="text '+(e.styleClass?soy.$$escapeHtml(e.styleClass):"")+'" name="'+soy.$$escapeHtml(e.name)+'" value="'+soy.$$escapeHtml(e.value)+'" '+(e.maxlength?'maxlength="'+soy.$$escapeHtml(e.maxlength)+'"':"")+"/>"},goog.DEBUG)ServiceDesk.Templates.InlineEdit.textInput.soyTemplateName="ServiceDesk.Templates.InlineEdit.textInput";if(ServiceDesk.Templates.InlineEdit.textareaInput=function(e,t){return'<textarea class="'+(e.styleClass?soy.$$escapeHtml(e.styleClass):"")+'" name="'+soy.$$escapeHtml(e.name)+'">'+soy.$$escapeHtml(e.value)+"</textarea>"},goog.DEBUG)ServiceDesk.Templates.InlineEdit.textareaInput.soyTemplateName="ServiceDesk.Templates.InlineEdit.textareaInput";if(ServiceDesk.Templates.InlineEdit.editable=function(e,t){return'<span id="'+soy.$$escapeHtml(e.id)+'" class="sd-editable-field inactive '+(e.styleClass?soy.$$escapeHtml(e.styleClass):"")+'" '+(e.tabable?'tabindex="0"':"")+">"+(e.noAutoescape?soy.$$filterNoAutoescape(e.value):soy.$$escapeHtml(e.value))+"</span>"},goog.DEBUG)ServiceDesk.Templates.InlineEdit.editable.soyTemplateName="ServiceDesk.Templates.InlineEdit.editable";n=[],void 0!==(s=function(){return ServiceDesk.Templates.InlineEdit}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(1),t,i(121),i(138)],void 0!==(s=function(e,t){function i(e){var t=document.activeElement;return e.find(t).length>0||e.filter(t).length>0}var n=!1,s=t.BlurTriggers={Default:function(n,s){function r(){if(!i(s))c=!1,e(AJS).trigger(t.Events.INLINE_EDIT_BLURRED,[n])}s=s.nextAll(".save-options").andSelf();var a,o=":input, a[href], [tabindex]",c=i(s),l={focus:function(){if(!c)c=!0,e(AJS).trigger(t.Events.INLINE_EDIT_FOCUSED,[n])},blur:function(){if(a)clearTimeout(a);a=setTimeout(r,t.BLUR_FOCUS_TIMEOUT)}};s.attr("tabindex",1).bind(l).delegate(o,l)}};t.Events={INLINE_EDIT_STARTED:"inlineEditStarted",BEFORE_INLINE_EDIT_CANCEL:"inlineEditCancelled",INLINE_EDIT_BLURRED:"inlineEditBlurred",INLINE_EDIT_FOCUSED:"inlineEditFocused",INLINE_EDIT_REQUESTED:"inlineEditRequested"},t.CANCEL_REASON={escPressed:"escPressed"},t.BLUR_FOCUS_TIMEOUT=50,t.applyBlurHandlers=function(){if(!n)e(AJS).bind(t.Events.INLINE_EDIT_STARTED,function(e,t,i,n){var r=s.Default;if(r)r(t,n)}),n=!0}}.apply(t,n))&&(e.exports=s)},function(e,t){},function(e,t){},,function(e,t,i){var n,s;n=[i(1)],void 0!==(s=function(e){return function(t,i,n){if(n){var s=t+"/"+encodeURIComponent(i);e.ajax({url:s,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){n({id:i,label:"An error occurred while retrieving CMDB object details"})}).then(function(e){n({id:e.id,label:e.label,fullObjectData:e})})}}}.apply(t,n))&&(e.exports=s)},,,,,,,,,,,function(e,t){},function(e,t,i){var n,s;n=[i(2),i(7),i(6)],void 0!==(s=function(e,t,i){return e.Model.extend({namedAttributes:{id:Number,name:String,domain:String},defaults:{domain:""},editOrganization:function(e,n){var s={newName:e,newDomain:n};return i.put(t+"/rest/servicedesk/1/organisations/"+this.getId()+"/update",s)}})}.apply(t,n))&&(e.exports=s)},,,,,function(e,t){e.exports=window.require("aui/inline-dialog2")},,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.ServiceEntityField)ServiceDesk.Templates.Components.ServiceEntityField={};if(ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption=function(e,t){return'<li class="service-entity-select-option-lozenge"><span class="service-entity-select-option"><span class="service-entity-select-option-value">'+soy.$$escapeHtml(e.name)+'</span></span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-remove-label" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption.soyTemplateName="ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.ServiceEntityField}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.CmdbObjectField)ServiceDesk.Templates.Components.CmdbObjectField={};if(ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption=function(e,t){return'<li class="cmdb-object-select-option-lozenge"><span class="cmdb-object-select-option"><span class="cmdb-object-select-option-value">'+soy.$$escapeHtml(e.label)+'</span></span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-remove-label" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption.soyTemplateName="ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.CmdbObjectField}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.CustomerOrganizations)ServiceDesk.Templates.Components.CustomerOrganizations={};if(ServiceDesk.Templates.Components.CustomerOrganizations.main=function(e,t){return""+(e.displayedOrganisations.length?ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList({organisations:e.displayedOrganisations,displayRemoveLink:e.displayRemoveLink,removeLinkOptions:e.removeLinkOptions})+(e.hasToggle?e.expanded?aui.buttons.button({extraClasses:"js-orgs-contract",type:"link",text:"Show fewer organizations"}):aui.buttons.button({extraClasses:"js-orgs-expand",type:"link",text:AJS.format("Show all {0} organizations",e.totalOrganisations)}):""):"")},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.main.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.main";if(ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList=function(e,t){for(var i='<ul class="sd-organizations-list">',n=e.organisations,s=n.length,r=0;r<s;r++){var a=n[r];i+='<li class="sd-organization" data-id="'+soy.$$escapeHtml(a.id)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:a.name})+(e.displayRemoveLink?ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink({organisationId:a.id,removeLinkOptions:e.removeLinkOptions}):"")+"</li>"}return i+="</ul>"},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList";if(ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink=function(e,t){return'<div class="'+soy.$$escapeHtml(e.removeLinkOptions.class)+'">'+aui.buttons.button({text:"Remove",type:"link",extraAttributes:{"data-id":e.organisationId},extraClasses:e.removeLinkOptions.trigger})+'<span class="'+soy.$$escapeHtml(e.removeLinkOptions.statusClass)+'"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink";n=[i(18),i(72)],void 0!==(s=function(){return ServiceDesk.Templates.Components.CustomerOrganizations}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Organizations)ServiceDesk.Templates.Components.Organizations={};if(void 0===ServiceDesk.Templates.Components.Organizations.Field)ServiceDesk.Templates.Components.Organizations.Field={};if(ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge=function(e,t){return'<li class="sd-organizations-lozenge" title="'+soy.$$escapeHtml(e.label)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:e.label,avatarSize:"small"})+'<button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge.soyTemplateName="ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge";n=[i(72)],void 0!==(s=function(){return ServiceDesk.Templates.Components.Organizations.Field}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Internal)ServiceDesk.Templates.Internal={};if(void 0===ServiceDesk.Templates.Internal.Project)ServiceDesk.Templates.Internal.Project={};if(void 0===ServiceDesk.Templates.Internal.Project.Customer)ServiceDesk.Templates.Internal.Project.Customer={};if(void 0===ServiceDesk.Templates.Internal.Project.Customer.Channels)ServiceDesk.Templates.Internal.Project.Customer.Channels={};if(ServiceDesk.Templates.Internal.Project.Customer.Channels.contents=function(e,t){var i='<div class="sd-customer-channels-wrapper"><div class="sd-customer-channels-portal"><h2 class="sd-dialog-title sd-dialog-title-portal">'+soy.$$escapeHtml("Customer portal")+'</h2><div class="js-portal-url-container sd-portal-url-container"></div><a class="js-portal-button-preview aui-button aui-button-link" data-analytics-key="page.view.project.sidebar.customer.channels.dialog.previewportal.clicked" href="'+soy.$$escapeHtml(e.portalUrl)+'">'+soy.$$escapeHtml("Visit the portal")+'</a></div><hr><div class="sd-customer-channels-email"><h2 class="sd-dialog-title sd-dialog-title-email">'+soy.$$escapeHtml("Email")+'</h2><p role="alert" class="js-customer-channels-email-errors sd-customer-channels-email-errors hidden"></p>',n=e.emailAddress,s=n&&e.canManageAddress,r=!n&&e.canManageAddress,a=!n&&!e.canManageAddress,o=r&&e.hasValidRequestType,c=r&&!e.hasValidRequestType;return i+=(n?'<div class="js-email-address-container sd-email-address-container"></div>':"")+(r?'<p class="js-customer-channels-email-description sd-customer-channels-email-description">'+soy.$$escapeHtml("Track and automatically turn customer emails into issues with email requests.")+"</p>":"")+(a?'<p class="js-customer-channels-email-description sd-customer-channels-email-description">'+soy.$$escapeHtml("Contact your administrator to let your customers raise requests via email.")+"</p>":"")+(s?'<a data-analytics-key="page.view.project.sidebar.customer.channels.dialog.manageaddress.clicked" class="js-customer-channels-email-settings-link sd-customer-channels-manage-address aui-button aui-button-link" href="'+soy.$$escapeHtml(e.emailSettingsUrl)+'">'+soy.$$escapeHtml("Manage email")+"</a>":"")+(o?'<button class="aui-button js-customer-channels-enable-ondemand sd-customer-channels-turn-on-email">'+soy.$$escapeHtml("Turn on email requests")+"</button>":"")+(c?'<a data-analytics-key="page.view.project.sidebar.customer.channels.dialog.setupemailrequests.clicked" class="js-customer-channels-email-settings-link sd-customer-channels-setup-email aui-button aui-button-link" href="'+soy.$$escapeHtml(e.emailSettingsUrl)+'">'+soy.$$escapeHtml("Set up email requests")+"</a>":"")+'<div class="sd-customer-channels-email-learn-more">'+ServiceDesk.Templates.Shared.Utils.helpLinkStart({helpLinkKey:"email.setup",analyticsKey:"customer.channels.dialog.email.link.learn",extraClasses:"aui-button aui-button-link",newTab:!0})+soy.$$escapeHtml("Learn more")+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)+"</div></div></div>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Customer.Channels.contents.soyTemplateName="ServiceDesk.Templates.Internal.Project.Customer.Channels.contents";if(ServiceDesk.Templates.Internal.Project.Customer.Channels.loading=function(e,t){return"<div class=\"sd-customer-channels-loading\"><span class='sd-spinner-medium'></span></div>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Customer.Channels.loading.soyTemplateName="ServiceDesk.Templates.Internal.Project.Customer.Channels.loading";if(ServiceDesk.Templates.Internal.Project.Customer.Channels.emailChannelEnabledMessage=function(e,t){var n="",s="<a href='mailto:\""+soy.$$escapeHtml(e.emailAddress)+"\"'>"+soy.$$escapeHtml(e.emailAddress)+"</a>",r="<a href='"+soy.$$escapeHtml(i(36).projectUrl(e.projectKey,"/queues"))+"' target='_blank'>";return n+=soy.$$filterNoAutoescape(AJS.format("Customers can now raise requests by emailing {0}. A test email has been sent and will appear in your {1}queues{2}.",s,r,"</a>"))},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Customer.Channels.emailChannelEnabledMessage.soyTemplateName="ServiceDesk.Templates.Internal.Project.Customer.Channels.emailChannelEnabledMessage";n=[i(42)],void 0!==(s=function(){return ServiceDesk.Templates.Internal.Project.Customer.Channels}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Internal)ServiceDesk.Templates.Internal={};if(void 0===ServiceDesk.Templates.Internal.Project)ServiceDesk.Templates.Internal.Project={};if(void 0===ServiceDesk.Templates.Internal.Project.Invite)ServiceDesk.Templates.Internal.Project.Invite={};if(void 0===ServiceDesk.Templates.Internal.Project.Invite.Team)ServiceDesk.Templates.Internal.Project.Invite.Team={};if(ServiceDesk.Templates.Internal.Project.Invite.Team.contents=function(e,t){return'<div class="sd-invite-team-wrapper"><h2 class="dialog-title">'+soy.$$escapeHtml("Invite team")+"</h2>"+(e.showInputForm?e.canManageLicenses?e.usesServiceDeskIssueContainerName?'<p class="sd-description-text">'+ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText({jsmText:"Add people as agents to work on your service project. They will be sent an email invite.",jsdText:"Add people as agents to work on your service desk. They will be sent an email invite."})+"</p>":'<p class="sd-description-text">'+soy.$$escapeHtml("Add people as agents to work on your project. They will be sent an email invite.")+"</p>":e.usesServiceDeskIssueContainerName?'<p class="sd-description-text">'+ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText({jsmText:"Invite an existing agent to work on your service project.",jsdText:"Invite an existing agent to work on your service desk."})+"</p>":'<p class="sd-description-text">'+soy.$$escapeHtml("Invite an existing agent to work on your project.")+"</p>":"")+'<div class="sd-agent-management-error js-agent-management-error"></div>'+(e.showInputForm?'<form class="aui top-label sd-invite-team-dialog-form js-invite-team-dialog-form"><div class="field-group js-invite-team-picker-wrapper"><select class="js-invite-team-picker hidden" multiple="multiple" name="username" id="js-invite-team"></select></div></form><div class="sd-number-of-new-agents js-number-of-new-agents"></div>':"")+'<div class="sd-image-people-wrapper js-image-people-wrapper"></div><div class="buttons-container"><div class="buttons">'+(e.showInputForm?aui.buttons.button({text:"Invite",type:"primary",extraClasses:"js-invite-team-main-button",isDisabled:!0}):"")+aui.buttons.button({text:"Cancel",type:"link",extraClasses:"js-invite-team-cancel-button"})+'<span class="cv-sd-status js-status"></span></div></div></div>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.contents.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.contents";if(ServiceDesk.Templates.Internal.Project.Invite.Team.loading=function(e,t){return"<div class=\"sd-invite-team-loading\"><span class='sd-spinner-medium'></span></div>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.loading.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.loading";if(ServiceDesk.Templates.Internal.Project.Invite.Team.error=function(e,t){return'<p class="sd-invite-team-error">'+soy.$$escapeHtml("Something went wrong. Check your connection, then give it another try.")+"</p>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.error.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.error";if(ServiceDesk.Templates.Internal.Project.Invite.Team.recipientAccountId=function(e,t){return'<li data-accountid="'+soy.$$escapeHtml(e.accountid)+'" data-item-name="'+soy.$$escapeHtml(e.accountid)+'" '+(e.isExistedAgent?'class="js-existed-agent"':"")+"><span>"+ServiceDesk.Templates.Shared.Utils.user({displayName:e.displayName,avatarSize:"small",avatarUrl:e.icon,accountId:e.accountid})+(!e.isExistedAgent?'<span class="sd-is-new-agent js-is-new-agent">'+soy.$$escapeHtml("+ Agent")+"</span>":"")+'<span class="js-delete-an-invited-agent sd-delete-an-invited-agent"><span class="icon-default aui-icon aui-icon-small aui-iconfont-remove-label"></span></span></span></li>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.recipientAccountId.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.recipientAccountId";if(ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmail=function(e,t){return'<li data-email="'+soy.$$escapeHtml(e.email)+'" data-item-name="'+soy.$$escapeHtml(e.email)+'"><span class="email email-checking">'+soy.$$escapeHtml(e.email)+'</span><span class="sd-spinner-small js-sd-spinner"></span><span class="js-delete-an-invited-agent sd-delete-an-invited-agent"><span class="icon-default aui-icon aui-icon-small aui-iconfont-remove-label"></span></span></li>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmail.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmail";if(ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailResolvedAccountId=function(e,t){return'<li data-accountid="'+soy.$$escapeHtml(e.accountid)+'" '+(e.isExistedAgent?'class="js-existed-agent"':"")+' data-item-name="'+soy.$$escapeHtml(e.email)+'"><span class="email">'+soy.$$escapeHtml(e.email)+"</span>"+(!e.isExistedAgent?'<span class="sd-is-new-agent js-is-new-agent">'+soy.$$escapeHtml("+ Agent")+"</span>":"")+'<span class="js-delete-an-invited-agent sd-delete-an-invited-agent"><span class="icon-default aui-icon aui-icon-small aui-iconfont-remove-label"></span></span></li>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailResolvedAccountId.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailResolvedAccountId";if(ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailNotFound=function(e,t){return'<li data-email="'+soy.$$escapeHtml(e.email)+'" data-item-name="'+soy.$$escapeHtml(e.email)+'"><span class="email">'+soy.$$escapeHtml(e.email)+'</span><span class="sd-is-new-agent js-is-new-agent">'+soy.$$escapeHtml("+ Agent")+'</span><span class="js-delete-an-invited-agent sd-delete-an-invited-agent"><span class="icon-default aui-icon aui-icon-small aui-iconfont-remove-label"></span></span></li>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailNotFound.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailNotFound";if(ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailError=function(e,t){return'<li data-email="'+soy.$$escapeHtml(e.email)+'" data-item-name="'+soy.$$escapeHtml(e.email)+'"><span class="email email-error">'+soy.$$escapeHtml(e.email)+"</span>"+ServiceDesk.Templates.Internal.Project.Invite.Team.usedEmailIndicator({content:e.errorContent,errorDialogId:e.errorDialogId})+'<span class="js-delete-an-invited-agent sd-delete-an-invited-agent"><span class="icon-default aui-icon aui-icon-small aui-iconfont-remove-label"></span></span></li>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailError.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmailError";if(ServiceDesk.Templates.Internal.Project.Invite.Team.freeEmailIndicator=function(e,t){return'<span class="sd-is-new-agent js-is-new-agent">'+soy.$$escapeHtml("+ Agent")+"</span>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.freeEmailIndicator.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.freeEmailIndicator";if(ServiceDesk.Templates.Internal.Project.Invite.Team.usedEmailIndicator=function(e,t){return""+aui.icons.icon({useIconFont:!0,size:"small",icon:"error",extraClasses:"js-invite-team-email-error-icon",extraAttributes:{"data-aui-trigger":"","aria-controls":e.errorDialogId}})+aui.inlineDialog2.inlineDialog2({alignment:"right top",respondsTo:"hover",id:e.errorDialogId,content:e.content,extraClasses:"sd-invite-team-error-user-exists"})},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Invite.Team.usedEmailIndicator.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.usedEmailIndicator";n=[i(33),i(18),i(42),i(39)],void 0!==(s=function(){return ServiceDesk.Templates.Internal.Project.Invite.Team}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Internal)ServiceDesk.Templates.Internal={};if(void 0===ServiceDesk.Templates.Internal.Project)ServiceDesk.Templates.Internal.Project={};if(void 0===ServiceDesk.Templates.Internal.Project.Sidebar)ServiceDesk.Templates.Internal.Project.Sidebar={};if(void 0===ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss)ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss={};if(void 0===ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button)ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button={};if(ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button.dismissButton=function(e,t){return'<a href="#" class="sd-sidebar-dismiss"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog" data-unicode="UTF+f119"></span></a>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button.dismissButton.soyTemplateName="ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button.dismissButton";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.CustomerFields)ServiceDesk.Templates.CustomerFields={};if(void 0===ServiceDesk.Templates.CustomerFields.RequestTypeSelector)ServiceDesk.Templates.CustomerFields.RequestTypeSelector={};if(ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon=function(e,t){return e=e||{},""+ServiceDesk.Templates.Components.RequestTypeIcons.icon({iconId:e.iconId,iconUrl:e.iconUrl,class:"sd-recent-rt"})},goog.DEBUG)ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon.soyTemplateName="ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon";if(ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon=function(e,t){return e=e||{},""+ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon({iconId:e.iconId,iconUrl:e.iconUrl,class:"aui-ss-entity-icon"})},goog.DEBUG)ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon.soyTemplateName="ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon";n=[i(59)],void 0!==(s=function(){return ServiceDesk.Templates.CustomerFields.RequestTypeSelector}.apply(t,n))&&(e.exports=s)},,,,function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(1),i(38),i(35),i(32),i(26),i(68),i(160),i(170),i(148)],void 0!==(s=function(e,t,i,n,s,a,o){var c=function(e){return{value:e.id,label:e.name}},l=t.extend({init:function(t,i,n,s){var r=ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption,a=t.properties.value,c=t.properties.label;this.$lozenge=e(r({name:c})),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"));var l=this;o(i,a,function(e){var t=e.name;l.$lozenge.find(".service-entity-select-option-value").text(t),s()}),n(this.$lozenge)},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),u=i.extend({init:function(e){var t=this;this._super(r({},e,{showDropdownButton:!1,itemAttrDisplayed:"label",itemBuilder:function(t){var i=this;return new l(t,e.serviceDetailsBaseUrl,function(e){e.appendTo(i.$selectedItemsContainer)},function(){i.updateItemsIndent()})},ajaxOptions:{url:e.autocompleteUrl,query:!0,formatResponse:this._formatResponse,headers:{"X-B3-Sampled":"1"}}})),this.$container.addClass("service-entity-field"),this._updateNoneItem(),this.$container.find("textarea").keyup(function(){return t._updateTextAreaHasValue()})},_updateTextAreaHasValue:function(){var e=this.$container.find("textarea"),t=e.val();if("string"==typeof t&&""!==t.trim())e.addClass("has-value");else e.removeClass("has-value")},updateItemsIndent:function(){this._updateTextAreaHasValue(),this._updateNoneItem(),this._super(),this._postOnUpdate()},_updateNoneItem:function(){if(void 0===this.$noneItem)this.$noneItem=e('<span class="service-entity-field-none-placeholder">').text("None"),this.$noneItem.appendTo(this.$container);if("true"===this.options.showNoneWhenEmpty){if(0===this.lozengeGroup.items.length)this.$noneItem.show();else this.$noneItem.hide()}else this.$noneItem.hide()},_postOnUpdate:function(){var t=this.options.postOnUpdateUrl;if("string"==typeof t){var i=this.model.getSelectedValues().join(",");if(i===this.lastSavedSerializedServiceIds)return;this.lastSavedSerializedServiceIds=i;var n=this.model.id,s=new FormData;s.append("issueId",String(a.getIssueId())),s.append("atl_token",atl_token()),s.append("singleFieldEdit","true"),s.append("fieldsToForcePresent",n),this.model.getSelectedValues().forEach(function(e){s.append(n,e)}),e.ajax({type:"POST",url:""+AJS.contextPath()+t,data:s,contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0}})}},_formatResponse:function(e){return e.services.map(function(e){return new n(c(e))})}});return s("js-request-service-entity-field",{created:function(e){e.field=new u({element:e,autocompleteUrl:e.dataset.autocompleteUrl,serviceDetailsBaseUrl:e.dataset.serviceDetailsBaseUrl,showNoneWhenEmpty:e.dataset.showNoneWhenEmpty,postOnUpdateUrl:e.dataset.postOnUpdateUrl})}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1)],void 0!==(s=function(e){return function(t,i,n){if(n){var s=t+"/"+encodeURIComponent(i);e.ajax({url:s,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){n({id:i,name:"Failed to load service!"})}).then(function(e){n({id:e.id,name:e.name})})}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(1),i(38),i(35),i(43),i(32),i(26),i(68),i(127),i(171),i(149)],void 0!==(s=function(e,t,i,n,s,a,o,c){var l=function(e){return{value:e.id,label:e.label}},u=function(e){return e.results.map(function(e){return new s(l(e))})},d=t.extend({init:function(t,i,n,s){var r=ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption,a=t.properties.value,o=t.properties.label;this.$lozenge=e(r({label:o})),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"));var l=this;c(i,a,function(e){var t=e.label;l.$lozenge.find(".cmdb-object-select-option-value").text(t),s()}),n(this.$lozenge)},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),p=i.extend({init:function(e){var t=this;this._super(r({},e,{showDropdownButton:!1,itemAttrDisplayed:"label",itemBuilder:function(t){var i=this;return new d(t,e.cmdbObjectDetailsBaseUrl,function(e){e.appendTo(i.$selectedItemsContainer)},function(){i.updateItemsIndent()})},ajaxOptions:{url:e.autocompleteUrl,query:!0,formatResponse:u,headers:{"X-B3-Sampled":"1"}}})),this.$container.addClass("cmdb-object-field"),this._updateNoneItem(),this.$container.find("textarea").keyup(function(){return t._updateTextAreaHasValue()})},_updateTextAreaHasValue:function(){var e=this.$container.find("textarea"),t=e.val();if("string"==typeof t&&""!==t.trim())e.addClass("has-value");else e.removeClass("has-value")},updateItemsIndent:function(){this._updateTextAreaHasValue(),this._updateNoneItem(),this._super(),this._postOnUpdate()},_updateNoneItem:function(){if(void 0===this.$noneItem)this.$noneItem=e('<span class="cmdb-object-field-none-placeholder">').text("None"),this.$noneItem.appendTo(this.$container);if("true"===this.options.showNoneWhenEmpty){if(0===this.lozengeGroup.items.length)this.$noneItem.show();else this.$noneItem.hide()}else this.$noneItem.hide()},_postOnUpdate:function(){var t=this.options.postOnUpdateUrl;if("string"==typeof t){var i=this.model.getSelectedValues().join(",");if(i===this.lastSavedSerializedObjectIds)return;this.lastSavedSerializedObjectIds=i;var n=this.model.id,s=new FormData;s.append("issueId",String(o.getIssueId())),s.append("atl_token",atl_token()),s.append("singleFieldEdit","true"),s.append("fieldsToForcePresent",n),this.model.getSelectedValues().forEach(function(e){s.append(n,e)}),e.ajax({type:"POST",url:""+AJS.contextPath()+t,data:s,contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0}})}}}),f=n.extend({init:function(e){var t=this;this._super(e);var i=e.element.querySelector("option:checked");c(e.cmdbObjectDetailsBaseUrl,i.value,function(e){var i=e.label;t.$container.find("input").val(i)})}});return a("js-cmdb-object-field",{created:function(e){if(e.multiple)e.field=new p({element:e,autocompleteUrl:e.dataset.autocompleteUrl,cmdbObjectDetailsBaseUrl:e.dataset.cmdbObjectDetailsBaseUrl,showNoneWhenEmpty:e.dataset.showNoneWhenEmpty,postOnUpdateUrl:e.dataset.postOnUpdateUrl});else e.field=new f({element:e,errorMessage:"Please select a valid CMDB object",ajaxOptions:{url:e.dataset.autocompleteUrl,query:!0,headers:{"X-B3-Sampled":"1"},formatResponse:u},cmdbObjectDetailsBaseUrl:e.dataset.cmdbObjectDetailsBaseUrl})}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(2),i(4),i(1),i(26),i(139),i(46),i(150),i(172),i(72),i(125)],void 0!==(s=function(e,t,i,n,s,r,a){var o=t.Collection.extend({model:r}),c=t.Model.extend({namedAttributes:{maxDisplayedOrganisations:Number,expanded:Boolean,organisations:o,displayRemoveLink:Boolean,removeLinkClass:String,removeLinkTrigger:String,removeLinkStatusClass:String},getDisplayedOrganizations:function(){var e=this.getOrganisations().toJSON();if(this.getExpanded())return e;else return e.slice(0,this.getMaxDisplayedOrganisations())},getRemoveLinkOptions:function(){return{class:this.getRemoveLinkClass(),trigger:this.getRemoveLinkTrigger(),statusClass:this.getRemoveLinkStatusClass()}},hasToggle:function(){return this.getOrganisations().length>this.getMaxDisplayedOrganisations()},defaults:{maxDisplayedOrganisations:5,expanded:!1,displayRemoveLink:!1,removeLinkClass:"",removeLinkTrigger:"",removeLinkStatusClass:""}}),l=t.View.extend({template:ServiceDesk.Templates.Components.CustomerOrganizations.main,events:{"click .js-orgs-expand":"onExpandClicked","click .js-orgs-contract":"onContractClicked"},onContractClicked:function(e){this.model.setExpanded(!1),i.trackEvent("servicedesk.issue.customer.organisations.list.contracted",{issueId:a.getIssueId()}),e.preventDefault(),this.render()},onExpandClicked:function(e){this.model.setExpanded(!0),i.trackEvent("servicedesk.issue.customer.organisations.list.expanded",{issueId:a.getIssueId()}),e.preventDefault(),this.render()},render:function(){var e=this.template({displayedOrganisations:this.model.getDisplayedOrganizations(),totalOrganisations:this.model.getOrganisations().length,hasToggle:this.model.hasToggle(),expanded:this.model.getExpanded(),displayRemoveLink:this.model.getDisplayRemoveLink(),removeLinkOptions:this.model.getRemoveLinkOptions()});this.$el.html(e)}});return s("sd-customer-organizations",{created:function(e){var t=n(e);new l({el:t,model:new c(t.data())}).render()}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(1),i(9),i(2),i(38),i(60),i(35),i(91),i(32),i(26),i(4),i(37),i(46),i(151),i(173)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p){var f="com.atlassian.servicedesk:sd-customer-organizations",h=r.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),m=s.extend({template:ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge,init:function(e){this.$lozenge=t(this.template(e.properties)),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"))},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),M=a.extend({init:function(){this._super.apply(this,arguments),this.$container.addClass("sd-organizations-field")},_getDefaultOptions:function(e){var i=e.projectId||t(e.element).data("projectId");return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new h,itemAttrDisplayed:"label",errorMessage:!1,itemBuilder:function(e){var t=new m(e);return t.$lozenge.appendTo(this.$selectedItemsContainer),t},ajaxOptions:{url:AJS.contextPath()+"/rest/servicedesk/1/organisations/project/"+i+"/search?",query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(t){var i=e.map(t,function(e){return new c({label:e.name,value:e.id})}),n=void 0;if(t.resultExceedsLimit)n=[new o({items:i,footerHtml:ServiceDesk.Templates.Components.Participants.resultsExceedLimit()})];else n=i;return n},updateItemsIndent:function(){var e=5,i=this.$selectedItemsContainer.outerHeight()+e+e;if(this.$field.css({paddingLeft:e,paddingTop:i,height:i+20+e}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){var t=this;if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)e.defer(e.bind(function(){t.lozengeGroup.shiftFocus(-1)},this))}}}),g=function(){u.trackEvent("servicedesk.issue.customer.organizations.saved",{issueId:p.getIssueId()})},b=function(e,t,i){if(i===f)u.trackEvent("servicedesk.issue.customer.organizations.start.editing",{issueId:p.getIssueId()}),d.one(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,g)},v=function(){d.bind(JIRA.Events.INLINE_EDIT_STARTED,b)},A=function(){d.unbind(JIRA.Events.INLINE_EDIT_STARTED,b),d.unbind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,g)};return l("js-request-organizations-field",{created:function(e){v(),new M({element:e})},detached:function(){A()}})}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(7),t],void 0!==(s=function(e,t){t.getAgentAllocationUrl=function(){return e+"/admin/apps"},t.getCustomFieldsUrl=function(){return e+"/secure/admin/ViewCustomFields.jspa"}}.apply(t,n))&&(e.exports=s)},,,function(e,t,i){var n,s;n=[i(1),i(0),i(92),i(178),i(155),i(177),i(124)],void 0!==(s=function(e,t,i,n){var s=n.extend({_renders:{option:function(t){var i=t.icon;t.icon=e.noop;var s=n.prototype._renders.option.call(this,t);return t.icon=i,s}}}),r=function(e){if(!e)return null;if(t.isFinite(parseInt(e,10)))return{iconId:e};else return{iconUrl:e}},a=function(e){var t=null;if(e.id>-1)if(e.iconUrl)t=e.iconUrl;else t=e.icon;return t},o=i.extend({templates:{requestTypeItemIcon:ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon},_renders:{suggestion:function(t,n){var s=t.icon;t.icon=e.noop;var a=i.prototype._renders.suggestion.call(this,t,n),o=a.find(".aui-list-item-link");if(t.icon=s,t.disabled())a.addClass("disabled"),o.addClass("disabled"),a.addClass("js-tooltip"),a.attr("title","This request type is not applicable for current issue type");if(t.icon()){var c=this.templates.requestTypeItemIcon(r(t.icon()||{}));o.addClass("aui-iconised-link").prepend(c)}return a}}});return AJS.SingleSelect.extend({templates:{selectedRTIcon:ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon},init:function(i){function n(e){e=e||{};var n=[{requestTypes:e.validRequestTypes,isValid:!0,groupName:"Current issue type"},{requestTypes:e.invalidRequestTypes,isValid:!1,groupName:"Other issue types"}],o=[];return t.each(n,function(e){var n=e.requestTypes;if(n&&n.length>0){var c=new AJS.GroupDescriptor({label:t.escape(e.groupName)});if(t.each(n,function(t){var n=i.buildItemValue(t);if(!r.getSelectedDescriptor()||r.getSelectedDescriptor().value()!==n)c.addItem(new AJS.ItemDescriptor({value:n,label:t.name,title:t.name,icon:a(t),disabled:e.isValid?!1:!0}))}),o.push(c),e.isValid)s.data("groupDescriptor",c)}}),o}var s=i.element,r=this;i.selectedRequestType=i.selectedRequestType||{},i.buildItemValue=i.buildItemValue||function(e){return e.portalKey+"/"+e.key},e.extend(i,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/servicedesk/1/servicedesk/request/"+s.attr("data-issue-id")+"/request-types",query:!0,formatResponse:n}}),s.on("initialized",t.bind(function(){if(!t.isEmpty(i.selectedRequestType))this.setSelection(new AJS.ItemDescriptor({value:i.buildItemValue(i.selectedRequestType),icon:a(i.selectedRequestType),label:i.selectedRequestType.name}))},this)),this._super(i)},_createSelectModel:function(){this.model=new s({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})},_createListController:function(){var t=this;this.listController=new o({containerSelector:e(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(i){if(e(i.currentTarget).hasClass("disabled"))i.stopPropagation();else{var n=this.getFocused(),s=n.data("descriptor");t.setSelection(s),t.$field.select()}i.preventDefault()}})},handleFreeInput:function(i){this._super(i);var n=e.trim(this.$field.val());if(!t.isEmpty(n)){var s=i||this._matchAgainstSuggestions(t.unescape(n));if(s)this.setSelection(s),this.hideErrorMessage();else{if(this.options.errorMessage)this.options.errorMessage=AJS.format("Customer Request Type {0} does not exist",t.escape(n));this.showErrorMessage(i)}}},_matchAgainstSuggestions:function(t){var i=null,n=this.model.$element.data("groupDescriptor");if(n&&n.items())e.each(n.items(),function(n,s){if(t===e.trim(s.label().toLowerCase())||t===e.trim(s.value().toLowerCase()))return i=s,!1});return i},_hasIcon:function(){var e=this.getSelectedDescriptor();return e&&t.isFinite(parseInt(e.icon(),10))},_renders:{entityIcon:function(t){var i=r(t);if(i)return e(this.templates.selectedRTIcon(i));else return e("<span/>")},container:function(t){return e('<div class="aui-ss sd-rt-picker-container" id="'+t+'-single-select" />')},suggestionsContainer:function(t){return e('<div class="aui-list sd-rt-suggestion-container" id="'+t+'-suggestions" tabindex="-1" />')}}})}.apply(t,n))&&(e.exports=s)},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=window.require("jira/ajs/select/select-model")},function(e,t){e.exports=window.require("jira/util/events/reasons")},,function(e,t,i){var n,s;n=[i(1),t],void 0!==(s=function(e,t){var i,n=function(){if(!i){var t=e("meta[name='jsonPayload']").attr("content");i=t&&JSON.parse(t)}return i};t.getAndConsume=function(e){var t=n(),i=t&&t[e];if(i)return delete t[e],i}}.apply(t,n))&&(e.exports=s)},,,,,,function(e,t,i){var n,s;n=[i(1),t,i(288),i(298)],void 0!==(s=function(e,t){t.create=function(t){var i=e(ServiceDesk.InternalApi.Feature.QuickCopyText.input({text:t}));return i.find(".js-quick-copy-text").click(function(e){e.target.focus(),e.target.select()}),i.on("submit",function(e){e.preventDefault(),e.stopPropagation()}),i}}.apply(t,n))&&(e.exports=s)},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Internal)ServiceDesk.Templates.Internal={};if(void 0===ServiceDesk.Templates.Internal.Project)ServiceDesk.Templates.Internal.Project={};if(void 0===ServiceDesk.Templates.Internal.Project.Knowledge)ServiceDesk.Templates.Internal.Project.Knowledge={};if(void 0===ServiceDesk.Templates.Internal.Project.Knowledge.Base)ServiceDesk.Templates.Internal.Project.Knowledge.Base={};if(ServiceDesk.Templates.Internal.Project.Knowledge.Base.contents=function(e,t){return'<h2 class="dialog-title">'+soy.$$escapeHtml("Knowledge base")+'</h2><div class="js-sd-kb-smart-search"></div><div class="js-sd-kb-footer-container"></div>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Knowledge.Base.contents.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.contents";if(ServiceDesk.Templates.Internal.Project.Knowledge.Base.footer=function(e,t){return(!e.kbEnabled?'<div class="js-sd-kb-get-started sd-kb-get-started"><p class="sd-kb-primary-nav-description-text">'+soy.$$escapeHtml("Get started with your knowledge base!")+'</p><div class="js-sd-kb-space-actions sd-kb-space-actions">'+ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions(null)+"</div></div>":"")+'<div class="sd-kb-primary-nav-create-article-container js-sd-kb-primary-nav-create-footer"></div>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Knowledge.Base.footer.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.footer";if(ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions=function(e,t){return aui.buttons.button({text:"Link existing space",extraClasses:"js-sd-kb-link-space-action",type:"primary"})+'<span class="js-sd-kb-create-space-action-container sd-kb-create-space-action-container">'+aui.buttons.button({text:"Create new space",type:"link",extraClasses:"js-sd-kb-create-space-action"})+'</span><div class="js-sd-kb-get-started-errors"></div>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions";if(ServiceDesk.Templates.Internal.Project.Knowledge.Base.createArticleAndGoToConfluenceFooter=function(e,t){return'<div class="sd-kb-primary-nav-create-article-footer"><a href="'+soy.$$escapeHtml(e.createDialogUrl)+'" target="_blank" class="aui-button sd-kb-create-article-link js-create-article-link">'+soy.$$escapeHtml("Create article")+'</a><a href="'+soy.$$escapeHtml(e.spaceUrl)+'" target="_blank" class="js-go-to-confluence-link">'+soy.$$escapeHtml("Go to Confluence")+"</a></div>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Knowledge.Base.createArticleAndGoToConfluenceFooter.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.createArticleAndGoToConfluenceFooter";if(ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted=function(e,t){return'<p class="js-sd-kb-linked-success-message js-linked-success-message">'+soy.$$escapeHtml(AJS.format("{0} created and linked!",e.spaceName))+'<span class="aui-icon aui-icon-small aui-iconfont-approve linked-success-icon"></span></p>'},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted";if(ServiceDesk.Templates.Internal.Project.Knowledge.Base.error=function(e,t){for(var i='<ul class="sd-kb-primary-nav-error-messages">',n=e.errorMessages,s=n.length,r=0;r<s;r++){var a=n[r];i+='<li class="error">'+soy.$$filterNoAutoescape(a)+"</li>"}return i+="</ul>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Knowledge.Base.error.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.error";if(ServiceDesk.Templates.Internal.Project.Knowledge.Base.completed=function(e,t){return'<div class="js-linked-completion"><p class="js-sd-kb-linked-success-message js-linked-success-message">'+soy.$$escapeHtml(AJS.format("{0} successfully linked!",e.spaceName))+'<span class="aui-icon aui-icon-small aui-iconfont-approve linked-success-icon"></span></p><p><a class="js-sd-kb-edit-permissions-url" href="'+soy.$$escapeHtml(e.editPermissionsUrl)+'">'+soy.$$escapeHtml("Define who can view knowledge base articles")+"</a></p></div>"},goog.DEBUG)ServiceDesk.Templates.Internal.Project.Knowledge.Base.completed.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.completed";n=[i(18)],void 0!==(s=function(){return ServiceDesk.Templates.Internal.Project.Knowledge.Base}.apply(t,n))&&(e.exports=s)},,,,,,function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){var t=e.Model.extend({namedAttributes:{serviceDeskId:Number,portalId:Number,projectKey:String,appLinkId:String,spaceKey:String}});return e.Model.extend({namedAttributes:{userName:String,currentQuery:String,queryTime:Number,hasKb:Boolean,singlePortalContext:t,isFirstResultClickedTracked:Boolean},defaults:{currentQuery:"",queryTime:(new Date).getTime(),hasKb:!1,isFirstResultClickedTracked:!1},initialize:function(){var e=this;if(this.listenTo(this,"change:currentQuery",function(){var t=(new Date).getTime();e.setQueryTime(t),e.setIsFirstResultClickedTracked(!1)}),this.getCurrentQuery()&&""!==this.getCurrentQuery())this.setIsFirstResultClickedTracked(!0)},getHash:function(){var e=this.getCurrentQuery()+this.getQueryTime(),t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return t},getNumberOfWordsInQuery:function(){return this.getCurrentQuery().split(/\s+/).length},isInSinglePortalContext:function(){return!!this.getSinglePortalContext()}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(6),i(22)],void 0!==(s=function(e,t,i,n,s){function r(){throw new Error("Not Implemented")}return i.View.extend({initialize:function(e,i,n){this.models=e,this.tracker=i,t.extend(this,n)},getResults:function(t){var i=this,s=arguments;this.currentRequest&&this.currentRequest.abort();var r=e.Deferred();return this.currentRequest=n.get({url:this.getQueryUrl(t)}).done(function(e){r.resolve({provider:i,results:i._formatResults(e)})}).fail(function(e,t){if("abort"===t)r.reject({provider:i,arguments:s});else r.resolve({provider:i,results:[]})}),this.currentResult=r,r},cancelSearch:function(){this.currentRequest&&this.currentRequest.abort()},setIsFirstResultSet:function(e){this.isFirstResultSet=e},render:function(){return this.asyncRender()},close:function(){this.cancelSearch(),this.stopListening(),this.undelegateEvents()},addSearchQueryParamsTo:function(i){var n=this.models.search.getCurrentQuery();if(n&&""!==n){var r=this.models.search.getQueryTime(),a=t.filter(i,function(t){var i=e(t).attr("href");return i&&""!==i.trim()&&"#"!==i.trim()});t.each(a,function(t){var i=new s(e(t).attr("href"));i.setQuery("q",n),i.setQuery("q_time",r),e(t).attr("href",i.toString())})}},asyncRender:r,_formatResults:r,getQueryUrl:r})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(7),i(22),i(71),i(114),i(218),i(414),i(50),i(493),i(343)],void 0!==(s=function(e,t,i,n,s,r,a,o,c){return a.extend({template:ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults,EVENT:{KB_CLICKED:"kbClicked"},events:{"click .js-cv-smart-portal-kb-article":"_onKbClicked"},getQueryUrl:function(e){var t=void 0;if(this._isInSinglePortalContextWithKbEnabled()){var s=this.models.search.getSinglePortalContext(),r=s.getProjectKey();t=new n(i+"/rest/servicedesk/knowledgebase/latest/articles/search"),t.addQuery("project",r)}else t=new n(i+"/rest/servicedesk/1/servicedesk/sharedportal/kb/articles");return t.addQuery("query",e),t.build().href()},_formatResults:function(e){if(e&&e.results){var i=t.take(e.results,3);return t.map(i,function(e){return new o({appLinkUrl:e.appLinkUrl,appLinkId:e.appLinkId,id:e.id,inPageUrl:c.generateUrl(e.id,e.title,e.spaceKey,e.appLinkId),title:r.removeConfluenceTags(e.title),titleHighlightedHtml:r.convertConfluenceTagsToHtml(e.title),body:r.removeConfluenceTags(e.bodyTextHighlights),bodyHighlightedHtml:r.convertConfluenceTagsToHtml(e.bodyTextHighlights),confluencePageUrl:e.confluencePageUrl,portalName:e.portalName,shareable:e.shareable})})}return[]},asyncRender:function(){var e=this;return this.currentResult.done(function(i){if(0!==i.results.length){var n={kbArticles:t.map(i.results,function(e){return e.toJSON()})};if(e._isInSinglePortalContextWithKbEnabled())n.hidePortalName=!0;e.$el.html(e.template(n)),e.addSearchQueryParamsTo(e.$("a.js-cv-smart-portal-kb-article")),e._addAppLinkAndPortalId(e.$("a.js-cv-smart-portal-kb-article")),e.delegateEvents()}})},_addAppLinkAndPortalId:function(i){if(this._isInSinglePortalContextWithKbEnabled()){var s=this.models.search.getSinglePortalContext(),r=s.getAppLinkId(),a=s.getPortalId(),o=t.filter(i,function(t){var i=e(t).attr("href");return i&&""!==i.trim()&&"#"!==i.trim()});t.each(o,function(t){var i=new n(e(t).attr("href"));i.setQuery("portalId",a),i.setQuery("applicationId",r),e(t).attr("href",i.toString())})}},_isInSinglePortalContextWithKbEnabled:function(){var e=this.models.search;return e.isInSinglePortalContext()&&e.getHasKb()},_onKbClicked:function(t){var i=e(t.target),n=this._getKbArticles().index(i.closest(".js-cv-smart-portal-kb-result")[0]),s=i.text();this.tracker&&this.tracker.executeSearchComplete(),this.tracker&&this.tracker.trackSearchResultsKbArticleClicked(this.models.search,n,s),this.tracker&&this.tracker.trackSearchResultsClicked(this.models.search,"kb")},_getKbArticles:function(){return this.$(".js-cv-smart-portal-kb-result")}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(3),i(5),t],void 0!==(s=function(e,t,i){i.ISSUE_CONTAINER={PROJECT:"PROJECT",SERVICE_DESK:"SERVICE_DESK"},i.getIssueContainerName=function(){return i.ISSUE_CONTAINER.PROJECT}}.apply(t,n))&&(e.exports=s)},,,function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s,r,a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n)n.writable=!0;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();s=[i(4),i(46)],void 0!==(r=function(e,t){return new(function(){function i(){n(this,i)}return a(i,[{key:"trackPanelLoadedExpanded",value:function(e){this._trackEventBasedOnArticlesCount(e,"servicedesk.page.view.issue.kb.panel.expanded.loaded.related.some","servicedesk.page.view.issue.kb.panel.expanded.loaded.related.none")}},{key:"trackPanelLoadedCollapsed",value:function(e){this._trackEventBasedOnArticlesCount(e,"servicedesk.page.view.issue.kb.panel.collapsed.loaded.related.some","servicedesk.page.view.issue.kb.panel.collapsed.loaded.related.none")}},{key:"trackPanelCollapsed",value:function(e,t){this._trackEventBasedOnArticlesCount(t,"servicedesk.page.view.issue.kb.panel.collapsed.triggered."+e+".some","servicedesk.page.view.issue.kb.panel.collapsed.triggered."+e+".none")}},{key:"trackPanelExpanded",value:function(e,t){this._trackEventBasedOnArticlesCount(t,"servicedesk.page.view.issue.kb.panel.expanded.triggered."+e+".some","servicedesk.page.view.issue.kb.panel.expanded.triggered."+e+".none")}},{key:"trackArticleViewed",value:function(t,i){if(i)e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+t+".view.public");else e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+t+".view.private")}},{key:"trackArticleViewedNewTab",value:function(t,i){if(i)e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+t+".view.public.newtab");else e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+t+".view.private.newtab")}},{key:"trackArticleShared",value:function(t,i){e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+t+"."+i+".public.share")}},{key:"trackCreateArticleDialogOpened",value:function(){e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.create.dialog",{issueId:t.getIssueId()})}},{key:"trackCreateArticleCancelled",value:function(){e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.create.cancel",{issueId:t.getIssueId()})}},{key:"trackCreateArticleSubmitted",value:function(){e.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.create.submit",{issueId:t.getIssueId()})}},{key:"trackSharedArticleViewFromCommentSuccessful",value:function(){e.trackEvent("servicedesk.page.view.issue.comment.share.kb.view")}},{key:"trackSharedArticleViewFromCommentErrorNoKBLink",value:function(){e.trackEvent("servicedesk.page.view.issue.comment.share.kb.view.error.no.kb.link")}},{key:"trackSharedArticleViewFromCommentErrorDifferentKBLink",value:function(){e.trackEvent("servicedesk.page.view.issue.comment.share.kb.view.error.different.kb.link")}},{key:"trackSharedArticleViewFromCommentNewTab",value:function(){e.trackEvent("servicedesk.page.view.issue.comment.share.kb.view.newtab")}},{key:"_trackEventBasedOnArticlesCount",value:function(t,i,n){if(t&&t.length>0){var s=this._getArticlesCount(t);e.trackEvent(i,{publicKBCount:s.publicCount,privateKBCount:s.privateCount})}else e.trackEvent(n)}},{key:"_getArticlesCount",value:function(e){var t=0,i=0;return e.forEach(function(e){return e.shareable?t++:i++}),{publicCount:t,privateCount:i}}}]),i}())}.apply(t,s))&&(e.exports=r)},,function(e,t,i){var n,s;n=[i(23)],void 0!==(s=function(e){return{enable:function(t){var i=this,n=t.sidebar,s=function(){if(i.hasDeepLink()){e.fireUIEvent({source:"inviteTeamDeepLink",actionSubject:"deepLink",action:"show"});(function e(){var t=n.getActiveViewItems();if(!t||!t.length)return setTimeout(e,2e3);n.expand(),n.setView(n.viewIds.SERVICE_DESK),setTimeout(function(){return document.querySelector(".js-invite-team button").click()},220)})()}};window.addEventListener("hashchange",s,!1),s()},hasDeepLink:function(){return"#showInviteTeamDialog"===window.location.hash},removeDeepLink:function(){this.hasDeepLink()&&(window.location.hash="")}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(54),i(51),i(1),i(10),i(5),i(79),t,i(347),i(498)],void 0!==(s=function(e,t,i,n,s,r,a){function o(e){var t;try{t=JSON.parse(e)}catch(e){}return t}function c(e){var t=e.portalUrl+"?headless=true";if(e.showTour)t+="&portalTour=true";return t}function l(){return g.popup.element.find("iframe")}function u(){var e=50;return{width:Math.min(1280,i(window).width()-e),height:Math.min(800,i(window).height()-e)}}function d(e,t){var n=ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo({portalUrl:t});i(".portal-dialog-header-info",e.popup.element).html(n)}function p(){if(g)g.hide(),g.remove(),g=void 0}function f(e){var t=e.popup.element.find("iframe");t.load(function(){t.contents().find("body").keydown(function(e){if(e.keyCode===b){var t=i(e.target);if(t.is(":input"))t.blur();else p()}})});var n=function e(t){if(t.keyCode===b)p(),i("body").off("keydown",e)};i("body").on("keydown",n)}function h(e,t){d(e,s.get("baseUrl")+"/servicedesk/customer/"+t.replace(/\?.*$/,""))}function m(e,t){window.addEventListener("message",function(i){var n=o(i.data);if(n){if("cv_routed"===n.event&&t)h(e,n.fragment);if("portal-tour-complete"===n.event)e.popup.element.addClass("portal-tour-complete"),localStorage.setItem("requestKeyCreatedOnTour",n.issueKey)}},!1)}function M(e){var t=c(e);if(g)p();var i=u();if(g=new r({id:"sd-customer-portal-dialog",width:i.width,height:i.height}),g.addPanel("iframe",ServiceDesk.Templates.Agent.PortalPreview.dialogContent({portalUrl:t,iframeHeight:i.height-v,title:e.title}),"iframe-body"),g.get("panel:0").setPadding(0),f(g),m(g,e.showCustomerUrl),e.showCustomerUrl)d(g,e.portalUrl);return g.popup.element.find(".dialog-close-button").on("click",p),l().load(function(){g.popup.element.addClass("sd-iframe-ready")}),g}var g,b=27,v=105;a.showDialog=function(e,n){if(n=i.extend({forceDialog:!1,dialogTitle:"Your customer portal",showCustomerUrl:!0},n),!t.isOpeningInNewTab(e)||n.forceDialog){var s=i(e.currentTarget);if(!s.is("a"))s=s.closest("a");M({portalUrl:s.prop("href"),showTour:s.hasClass("portal-tour"),title:n.dialogTitle,showCustomerUrl:n.showCustomerUrl}).show(),e.preventDefault()}}}.apply(t,n))&&(e.exports=s)},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,function(e,t){},,,,function(e,t,i){var n,s;n=[i(300),i(55),i(1),i(3),i(58)],void 0!==(s=function(e,t,i){return i(function(){var i=t("moment_user_locale");if(!i)console.info("WRM data for key [moment_user_locale] returned undefined. Dates rendered by moment.js will appear untranslated. Use PageLanguageTools.java."),i="en";e.locale([i,"en"])}),e}.apply(t,n))&&(e.exports=s)},,,,,function(e,t,i){var n,s;n=[i(1),i(0),i(26),i(51),i(50),i(285),i(295)],void 0!==(s=function(e,t,i,n,s){var r=ServiceDesk.InternalApi.Feature.KBArticleLink.link;return i("sd-kb-dialog-link",{events:{mousedown:function(t,i){if(n.isOpeningInNewTab(i)||3===i.which)e(t).trigger({article:t.articleDetails,type:"clickedNewTab"})},click:function(t,i){if(!n.isOpeningInNewTab(i))i.preventDefault(),e(t).trigger({article:t.articleDetails,type:"clickedNotNewTab"})}},created:function(i){var n=e(i),a=n.attr("data-title"),o=n.attr("data-display-title")||a,c=n.attr("data-id"),l=n.attr("data-applink-id"),u=n.attr("data-applink-url"),d=s.generateUrl(c,a,null,l),p=s.getRemotePageViewUrl(u,c),f={id:c,titleHtml:a,appLinkUrl:u,inPageUrl:d,shareable:"true"===n.attr("data-shareable")||"true"===n.attr("data-hidepadlock"),confluencePageUrl:p};i.articleDetails=f,n.html(r(t.extend({},f,{titleWithHighlightsHtml:o,href:d})))}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(0),i(34),t,i(310),i(287),i(297)],void 0!==(s=function(e,t,i,n,s,r){function a(e){var t=function(t,i){for(var n=0;t!==e.top;)n++,t=t.parent;return n-(i||0)},i=t(e);e.top.getHostOffsetFunctionOverride=function(e){return t(e,i+1)}}function o(){delete window.top.getHostOffsetFunctionOverride}var c=".js-kb-dialog-footer",l=".js-dialog-close-button",u=".js-kb-view-panel iframe",d=".sd-spinner-large",p=t.View.extend({template:ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog,initialize:function(e){this.titleHtml=e.titleHtml,this.confluencePageUrl=e.confluencePageUrl||null,this.confUrl=e.confUrl||null,this.pageId=e.pageId||null,this.openResultsInNewTab=e.openResultsInNewTab||!1,this.onPageShown=e.onPageShown||null,this.error=e.error||null,this.kbSettingsUrl=e.kbSettingsUrl||null,this.footerView=e.footerView},show:function(){var e=!!this.openResultsInNewTab;if(this.openResultsInNewTab)window.open(this._getFullConfluencePageUrl(),(new Date).getTime());else this._createDialog();this.onPageShown&&this.onPageShown(e)},disable:function(){if(this.dialog)this.dialog.remove()},_getFullConfluencePageUrl:function(){return this.confUrl+"/pages/viewpage.action?pageId="+this.pageId},_showDialogCallback:function(){a(window),r.set("confluence")},_hideDialogCallback:function(){o(),r.clear()},_createDialog:function(){var t=this;this.$dialog=e(this.template({titleHtml:this.titleHtml,error:this.error,kbSettingsUrl:this.kbSettingsUrl,confluencePageUrl:this.confluencePageUrl})),this.dialog=n(this.$dialog),this.$dialog.find(l).click(function(e){e.preventDefault(),t.dialog.hide()}),this.dialog.on("hide",function(){i.defer(function(){t.trigger("onClose")})});var s=this.$dialog.find(c);if(this.footerView)this.footerView.setElement(s).render();var r=this.$dialog.find(u);r.on("load",function(){t.$dialog.find(d).remove(),r.removeClass("hidden")}),this.dialog.on("show",this._showDialogCallback),this.dialog.on("hide",this._hideDialogCallback),this.dialog.show(),e(".aui-blanket").css("z-index",1e4),this.$dialog.css("z-index",10001)}});s.createKBPageViewer=function(e){return new p(e)},s.createErrorDialog=function(e,t,i){return new p({openResultsInNewTab:!1,titleHtml:e,error:t,kbSettingsUrl:i})},s.attachHostOffsetOverride=a,s.detachHostOffsetOverride=o}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(307),i(305),i(123),t,i(121),i(138)],void 0!==(s=function(e,t,i,n,s,r,a){var o=i.View.extend({initialize:function(e){if(e=e||{},this.options=e,this.fields=new s,this.fields.on("add",this.createFieldView,this).on("reset",this.createAllFieldViews,this).on("savingStarted",this.cancelUneditedFields,this),e.fields)this.fields.add(e.fields)},createAllFieldViews:function(){this.fields.each(this.createFieldView,this)},reset:function(e){this.fields.reset(e)},add:function(e){return this.fields.add(e),this},cancelEdit:function(){this.fields.invoke("cancelEdit")},cancelUneditedFields:function(){this.fields.each(function(e){if(e.getEditing()&&!e.isDirty()&&!e.hasValidationError())e.cancelEdit()})},createFieldView:function(t){var i=e(t.getSelector(),this.$el);if(1===i.length)new n({model:t,el:i})}});a.create=function(t){return t=t||{},t.el=t.el||e("body"),r.applyBlurHandlers(),new o(t)}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(22),i(7),i(217),i(413),i(412),i(219),i(5),i(0),i(5),i(340),i(490)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l){var u=ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks,d=ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks,p=ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults,f=e.View.extend({className:"search-kb-no-results-view",template:p,render:function(){return this.$el.html(this.template()),this}});return e.View.extend({EVENT:{RESULTS_RENDERED:"resultsRendered"},initialize:function(e,t){this.searchTracker=e,this.model={search:new n({userName:o.get("remote-user"),hasKb:!0,singlePortalContext:{serviceDeskId:t.serviceDeskId,projectKey:t.projectKey},currentQuery:t.currentQuery})},this.hidePadlock=!!t.hidePadlock,this.context={issueKey:t.issueKey,isInIssueContext:!!t.issueKey}},hideResults:function(){this.searchResultView&&this.searchResultView.$el.hide(),this.noResultsView&&this.noResultsView.$el.hide()},showNoResults:function(){this.searchResultView&&this.searchResultView.$el.hide(),this.noResultsView&&this.noResultsView.$el.show()},showSearchResults:function(){this.noResultsView&&this.noResultsView.$el.hide(),this.searchResultView&&this.searchResultView.$el.show()},render:function(){var e=this;if(!this.searchInputView||!this.searchResultView){var n=this.hidePadlock?d:u,o={template:n};if(this.context.isInIssueContext)o.getQueryUrl=function(n){var s=new t(i+"/rest/servicedesk/knowledgebase/latest/articles/"+e.context.issueKey);return s.addQuery("query",n),s.addQuery("highlight",!0),s.build().href()};var c=new a(this.model,this.searchTracker,o);this.searchInputView=new s(this.model,{placeholder:"Search for an article",retainFocusOnEnter:!0}),this.searchResultView=new r(this.model,{hideFooter:!0,spinnerSize:"large",searchProviders:[c],analyticsTracker:this.searchTracker}),this.noResultsView=(new f).render(),this.$el.append(this.searchInputView.$el),this.$el.append(this.searchResultView.$el),this.$el.append(this.noResultsView.$el),this.searchInputView.render(),this.hideResults(),this.listenTo(this.searchInputView,"queryChanged",function(){var t=e.model.search.getCurrentQuery();e._renderSearchResults(),e.trigger("searchQueryChanged",t)}),this.listenTo(this.searchResultView,this.searchResultView.EVENT.NO_RESULTS_FOUND,function(){if(e.model.search.getCurrentQuery()&&""!==e.model.search.getCurrentQuery())e.showNoResults()}),this.listenTo(this.searchResultView,this.searchResultView.EVENT.RESULTS_RENDERED,function(){e.trigger(e.EVENT.RESULTS_RENDERED)})}},close:function(){this.undelegateEvents(),this.stopListening(),this.searchInputView&&this.searchInputView.close(),this.searchResultView&&this.searchResultView.close(),this.noResultsView&&this.noResultsView.close()},hasQuery:function(){var e=this.model.search.getCurrentQuery();return!!e&&e.length>0},focus:function(){this.searchInputView.focusOnSearch()},disableSearch:function(){this.searchInputView.clearSearchQuery(),this.searchInputView.disable()},reset:function(){this.searchInputView=null,this.searchResultView=null},enableSearch:function(){this.searchInputView.enable()},_renderSearchResults:function(){if(this.model.search.getCurrentQuery()&&""!==this.model.search.getCurrentQuery())this.searchResultView.isInitialRender=!1,this.searchResultView.render(),this.showSearchResults();else this.hideResults()}})}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(0),i(4),t],void 0!==(s=function(e,t,n){function s(i){return{searchOrigin:d,_searchTrackerPrefix:r(i)?i.substring(0,i.length-1):i,trackSearchResultsRequestTypeClicked:function(t,i,n,s){var r=this._getWhiteListSafeSearchModelAttributes(t);if(this._trackSearchEvent("search.result.requesttype.clicked",e.extend(r,{index:i})),this.EacjTracker)this.EacjTracker.trackSearchResultsRequestTypeClicked(t,{index:i,requestTypeName:n,portalName:s})},trackSearchResultsPortalNameClicked:function(t,i,n,s){var r=this._getWhiteListSafeSearchModelAttributes(t);if(this._trackSearchEvent("search.result.requesttype.portalname.clicked",e.extend(r,{index:i})),this.EacjTracker)this.EacjTracker.trackSearchResultsPortalNameClicked(t,{index:i,requestTypeName:n,portalName:s})},trackSearchResultsClicked:function(e,t){if(!e.getIsFirstResultClickedTracked())this._trackSearchEvent("search.result.first.clicked."+t,this._getWhiteListSafeSearchModelAttributes(e)),e.setIsFirstResultClickedTracked(!0),this.EackTracker&&this.EacjTracker.trackSearchResultsFirstResultClicked(e,t);else this._trackSearchEvent("search.result.subsequent.clicked."+t,this._getWhiteListSafeSearchModelAttributes(e)),this.EackTracker&&this.EacjTracker.trackSearchResultsSubsequentClicked(e,t)},trackSearchResultsKbArticleClicked:function(t,i,n){var s=this._getWhiteListSafeSearchModelAttributes(t);if(this._trackSearchEvent("search.result.kb.clicked",e.extend(s,{index:i})),this.EacjTracker)this.EacjTracker.trackSearchResultsKbArticleClicked(t,{index:i,articleName:n})},trackSearchResultNoneHelpedClicked:function(e){this._trackSearchEvent("search.result.none.helped.clicked",this._getWhiteListSafeSearchModelAttributes(e)),this.EacjTracker&&this.EacjTracker.trackSearchResultNoneHelpedClicked(e)},trackSomeResultsFound:function(e){this._trackSearchEvent("search.some",this._getWhiteListSafeSearchModelAttributes(e))},trackNoResultsFound:function(e){this._trackSearchEvent("search.none",this._getWhiteListSafeSearchModelAttributes(e))},queueSearchComplete:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.trackQueryChangedQueuedEvent)this.trackQueryChangedQueuedEvent.cancel();this.trackQueryChangedQueuedEvent=new o(e.bind(function(){if(this._trackSearchEvent("search.completed",this._getWhiteListSafeSearchModelAttributes(t)),t.getHasKb())this._trackSearchEvent("search.completed.with.kb",this._getWhiteListSafeSearchModelAttributes(t));this.EacjTracker&&this.EacjTracker.trackSearchCompleted(t);var n=this.searchOrigin;this._trackStatsEventIfPossible(function(s){s.trackSearchCompleted(e.extend({searchTerm:t.getCurrentQuery(),searchTime:t.getQueryTime(),username:t.getUserName(),origin:n},i))})},this),c)},executeSearchComplete:function(){if(this.trackQueryChangedQueuedEvent)this.trackQueryChangedQueuedEvent.execute()},cancelSearchComplete:function(){if(this.trackQueryChangedQueuedEvent)this.trackQueryChangedQueuedEvent.cancel()},trackFirstActionSearchEvent:function(){var e=this;this._onFirstAction(function(){e._trackSearchEvent("first.action.search")})},trackFirstActionBrowseEvent:function(e){var t=this;this._onFirstAction(function(){t._trackSearchEvent("first.action.browse."+e)})},consumeFirstAction:function(){this._recordedFirstAction=!0},_getWhiteListSafeSearchModelAttributes:function(e){return{hashedQuery:e.getHash(),numberOfWords:e.getNumberOfWordsInQuery()}},_getStatsEventAdditionalParamsFromSearchModel:function(e){return{searchTerm:e.getCurrentQuery(),searchTime:e.getQueryTime(),source:l.SEARCH}},_trackStatsEventIfPossible:function(e){var t=u();if(t)return e(t)},_trackSearchEvent:function(e,i){t.trackEvent(this._getEventKey(e),i)},_onFirstAction:function(e){if(!this._recordedFirstAction)e.call(),this._recordedFirstAction=!0},_getEventKey:function(e){var t=a(e)?e.substring(1,e.length-1):e;return this._searchTrackerPrefix+"."+t}}}var r=function(e){return-1!==e.indexOf(".",e.length-1)},a=function(e){return 0===e.indexOf(".")},o=function(t,i){var n=this,s=e.bind(function(){if(!this.cancelled)t(),this.cancelled=!0},this);return this.cancelled=!1,e.delay(s,i),{execute:function(){return s()},cancel:function(){n.cancelled=!0}}},c=1500,l={SEARCH:"search"},u=e.once(function(){try{return i(468)}catch(e){return console.warn("Cannot find stats event tracker, stats event will not be tracked"),!1}}),d="unknown";n.extend=function(t,i){var n=new s(t);return e.extend(n,i)},n.SOURCE=l}.apply(t,n))&&(e.exports=s)},,,function(e,t,i){var n,s;n=[i(281),i(55),i(1)],void 0!==(s=function(e,t,i){return i(function(){var i=t("moment_user_locale");if(!i)console.info("WRM data for key [moment_user_locale] returned undefined. Dates rendered by moment-timezone.js will appear untranslated. Use PageLanguageTools.java."),i="en";e.locale([i,"en"])}),e}.apply(t,n))&&(e.exports=s)},,,,,,,,function(e,t){e.exports={version:"2018e",zones:["Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q|48e5","Africa/Accra|LMT GMT +0020|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE|41e5","Africa/Nairobi|LMT EAT +0230 +0245|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ|47e5","Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5","Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A|17e6","Africa/Bissau|LMT -01 GMT|12.k 10 0|012|-2ldX0 2xoo0|39e4","Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k|26e5","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6","Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|0121212121212121213121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|32e5","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1y7o0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|85e3","Africa/El_Aaiun|LMT -01 WET WEST|Q.M 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|20e4","Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0|84e5","Africa/Juba|LMT CAT CAST EAT|-26.s -20 -30 -30|01212121212121212121212121212121213|-1yW26.s 1zK06.s 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0","Africa/Khartoum|LMT CAT CAST EAT|-2a.8 -20 -30 -30|012121212121212121212121212121212131|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5","Africa/Monrovia|MMT MMT GMT|H.8 I.u 0|012|-23Lzg.Q 28G01.m|11e5","Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0|13e5","Africa/Sao_Tome|LMT GMT WAT|A.J 0 -10|012|-2le00 4i6N0","Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5","Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5","Africa/Windhoek|+0130 SAST SAST CAT WAT|-1u -20 -30 -20 -10|01213434343434343434343434343434343434343434343434343|-2GJdu 1Ajdu 1cL0 1SqL0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|NST NWT NPT BST BDT AHST HST HDT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AST AWT APT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Port_of_Spain|LMT AST|46.4 40|01|-2kNvR.U|43e3","America/Araguaina|LMT -03 -02|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4","America/Argentina/Buenos_Aires|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0","America/Argentina/Catamarca|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Cordoba|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0","America/Argentina/Jujuy|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0","America/Argentina/La_Rioja|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Mendoza|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232312121321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0","America/Argentina/Rio_Gallegos|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Salta|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0","America/Argentina/San_Juan|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0","America/Argentina/San_Luis|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121212321212|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0","America/Argentina/Tucuman|CMT -04 -03 -02|4g.M 40 30 20|0121212121212121212121212121212121212121212323232313232123232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0","America/Argentina/Ushuaia|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0","America/Curacao|LMT -0430 AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d|15e4","America/Asuncion|AMT -04 -03|3O.E 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5","America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0|28e2","America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3","America/Bahia|LMT -03 -02|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5","America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4","America/Belem|LMT -03 -02|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|20e5","America/Belize|LMT CST -0530 CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0|57e3","America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0|11e2","America/Boa_Vista|LMT -04 -03|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2","America/Bogota|BMT -05 -04|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0|90e5","America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4","America/Cambridge_Bay|-00 MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2","America/Campo_Grande|LMT -04 -03|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0 IL0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1Kp0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0|77e4","America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141412|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|CMT -0430 -04|4r.E 4u 40|01212|-2kV7w.k 28KM2.k 1IwOu kqo0|29e5","America/Cayenne|LMT -04 -03|3t.k 40 30|012|-2mrwu.E 2gWou.E|58e3","America/Panama|CMT EST|5j.A 50|01|-2uduE.o|15e5","America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4","America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5","America/Creston|MST PST|70 80|010|-29DR0 43B0|53e2","America/Cuiaba|LMT -04 -03|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0 IL0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1Kp0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0|54e4","America/Danmarkshavn|LMT -03 -02 GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8","America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0|12e3","America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|13e2","America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|012342525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 XQp0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5","America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5","America/Eirunepe|LMT -05 -04|4D.s 50 40|0121212121212121212121212121212121|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3","America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0|11e5","America/Tijuana|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOO0 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5","America/Fort_Nelson|PST PDT PWT PPT MST|80 70 70 70 70|01023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010104|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Fortaleza|LMT -03 -02|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5","America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","America/Godthab|LMT -03 -02|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3","America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|KMT EST EDT AST|57.a 50 40 40|01212121212121212121212121212121212121212121212121212121212121212121212121232121212121212121212121212121212121212121|-2l1uQ.O 2HHBQ.O 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5","America/Guayaquil|QMT -05 -04|5e 50 40|0121|-1yVSK 2uILK rz0|27e5","America/Guyana|LMT -0345 -03 -04|3Q.E 3J 30 40|0123|-2dvU7.k 2r6LQ.k Bxbf|80e4","America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4","America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Inuvik|-00 PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2","America/Iqaluit|-00 EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2","America/Jamaica|KMT EST EDT|57.a 50 40|0121212121212121212121|-2l1uQ.O 2uM1Q.O 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4","America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3","America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/La_Paz|CMT BST -04|4w.A 3w.A 40|012|-1x37r.o 13b0|19e5","America/Lima|LMT -05 -04|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6","America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp1 1VaX 3dA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Maceio|LMT -03 -02|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4","America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5","America/Manaus|LMT -04 -03|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5","America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0|39e4","America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4","America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|44e4","America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2","America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|11e5","America/Metlakatla|PST PWT PPT PDT AKST AKDT|80 70 70 70 90 80|0120303030303030303030303030303030454545454545454545454545454545454545454545454|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6","America/Miquelon|LMT AST -03 -02|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3","America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|41e5","America/Montevideo|LMT MMT -04 -03 -0330 -0230 -02 -0130|3I.P 3I.P 40 30 3u 2u 20 1u|012343434343434343434343435353636353636375363636363636363636363636363636363636363636363|-2tRUf.9 sVc0 8jcf.9 1db0 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1fAu 1cLu 1o0u 11zu NAu 3jXu zXu Dq0u 19Xu pcu jz0 cm10 19X0 6tB0 1fbu 3o0u jX0 4vB0 xz0 3Cp0 mmu 1a10 IMu Db0 4c10 uL0 1Nd0 An0 1SN0 uL0 mp0 28L0 iPB0 un0 1SN0 xz0 1zd0 Lz0 1zd0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5","America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|24e4","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|16e2","America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2","America/Noronha|LMT -02 -01|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2","America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Pangnirtung|-00 AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Paramaribo|LMT PMT PMT -0330 -03|3E.E 3E.Q 3E.A 3u 30|01234|-2nDUj.k Wqo0.c qanX.I 1yVXN.o|24e4","America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0|42e5","America/Port-au-Prince|PPMT EST EDT|4N 50 40|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Rio_Branco|LMT -05 -04|4v.c 50 40|01212121212121212121212121212121|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4","America/Porto_Velho|LMT -04 -03|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|37e4","America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0|24e5","America/Punta_Arenas|SMT -05 -04 -03|4G.K 50 40 30|0102021212121212121232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 blz0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0","America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|842","America/Rankin_Inlet|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2","America/Recife|LMT -03 -02|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5","America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0|19e4","America/Resolute|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229","America/Santarem|LMT -04 -03|3C.M 40 30|0121212121212121212121212121212|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4","America/Santiago|SMT -05 -04 -03|4G.K 50 40 30|010202121212121212321232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9Bz0 jb0 1oN0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5","America/Santo_Domingo|SDMT EST EDT -0430 AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5","America/Sao_Paulo|LMT -03 -02|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0 IL0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1Kp0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0|20e6","America/Scoresbysund|LMT -02 -01 +00|1r.Q 20 10 0|0121323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452","America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2","America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0|16e3","America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0|11e5","America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656","America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 3NA0 vrd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4","America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642","America/Yellowknife|-00 MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","Antarctica/Casey|-00 +08 +11|0 -80 -b0|01212121|-2q00 1DjS0 T90 40P0 KL0 blz0 3m10|10","Antarctica/Davis|-00 +07 +05|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0|70","Antarctica/DumontDUrville|-00 +10|0 -a0|0101|-U0o0 cfq0 bFm0|80","Antarctica/Macquarie|AEST AEDT -00 +11|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0|1","Antarctica/Mawson|-00 +06 +05|0 -60 -50|012|-CEo0 2fyk0|60","Pacific/Auckland|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5","Antarctica/Palmer|-00 -03 -04 -02|0 30 40 20|0121212121213121212121212121212121212121212121212121212121212121212121212121212121|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","Antarctica/Rothera|-00 -03|0 30|01|gOo0|130","Antarctica/Syowa|-00 +03|0 -30|01|-vs00|20","Antarctica/Troll|-00 +00 +02|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40","Antarctica/Vostok|-00 +06|0 -60|01|-tjA0|25","Europe/Oslo|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e4","Asia/Riyadh|LMT +03|-36.Q -30|01|-TvD6.Q|57e5","Asia/Almaty|LMT +05 +06 +07|-57.M -50 -60 -70|012323232323232323232321232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5","Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e5","Asia/Anadyr|LMT +12 +13 +14 +11|-bN.U -c0 -d0 -e0 -b0|01232121212121212121214121212121212121212121212121212121212141|-1PcbN.U eUnN.U 23CL0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3","Asia/Aqtau|LMT +04 +05 +06|-3l.4 -40 -50 -60|012323232323232323232123232312121212121212121212|-1Pc3l.4 eUnl.4 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4","Asia/Aqtobe|LMT +04 +05 +06|-3M.E -40 -50 -60|0123232323232323232321232323232323232323232323232|-1Pc3M.E eUnM.E 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4","Asia/Ashgabat|LMT +04 +05 +06|-3R.w -40 -50 -60|0123232323232323232323212|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4","Asia/Atyrau|LMT +03 +05 +06 +04|-3r.I -30 -50 -60 -40|01232323232323232323242323232323232324242424242|-1Pc3r.I eUor.I 24PW0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0","Asia/Baghdad|BMT +03 +04|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5","Asia/Qatar|LMT +04 +03|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8|96e4","Asia/Baku|LMT +03 +04 +05|-3j.o -30 -40 -50|01232323232323232323232123232323232323232323232323232323232323232|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|BMT +07|-6G.4 -70|01|-218SG.4|15e6","Asia/Barnaul|LMT +06 +07 +08|-5z -60 -70 -80|0123232323232323232323212323232321212121212121212121212121212121212|-21S5z pCnz 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5","Asia/Bishkek|LMT +05 +06 +07|-4W.o -50 -60 -70|012323232323232323232321212121212121212121212121212|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4","Asia/Brunei|LMT +0730 +08|-7D.E -7u -80|012|-1KITD.E gDc9.E|42e4","Asia/Kolkata|MMT IST +0630|-5l.a -5u -6u|012121|-2zOtl.a 1r2LP.a 1un0 HB0 7zX0|15e6","Asia/Chita|LMT +08 +09 +10|-7x.Q -80 -90 -a0|012323232323232323232321232323232323232323232323232323232323232312|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|LMT +07 +08 +10 +09|-7C -70 -80 -a0 -90|0123434343434343434343434343434343434343434343424242|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST CDT|-80 -90|01010101010101010|-1c1I0 LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6","Asia/Colombo|MMT +0530 +06 +0630|-5j.w -5u -60 -6u|01231321|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5","Asia/Dhaka|HMT +0630 +0530 +06 +07|-5R.k -6u -5u -60 -70|0121343|-18LFR.k 1unn.k HB0 m6n0 2kxbu 1i00|16e6","Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5","Asia/Dili|LMT +08 +09|-8m.k -80 -90|01212|-2le8m.k 1dnXm.k 1nfA0 Xld0|19e4","Asia/Dubai|LMT +04|-3F.c -40|01|-21JfF.c|39e5","Asia/Dushanbe|LMT +05 +06 +07|-4z.c -50 -60 -70|012323232323232323232321|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4","Asia/Famagusta|LMT EET EEST +03|-2f.M -20 -30 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212312121212121212121212121212121212121212121|-1Vc2f.M 2a3cf.M 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Gaza|EET EEST IST IDT|-20 -30 -20 -30|010101010101010101010101010101012323232323232323232323232320101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0|18e5","Asia/Hebron|EET EEST IST IDT|-20 -30 -20 -30|01010101010101010101010101010101232323232323232323232323232010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0|25e4","Asia/Ho_Chi_Minh|LMT PLMT +07 +08 +09|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0|90e5","Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5","Asia/Hovd|LMT +06 +07 +08|-66.A -60 -70 -80|012323232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|IMT +07 +08 +09|-6V.5 -70 -80 -90|01232323232323232323232123232323232323232323232323232323232323232|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|IMT EET EEST +04 +03|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212124|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1de0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|BMT +0720 +0730 +09 +08 WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu|31e6","Asia/Jayapura|LMT +09 +0930 WIT|-9m.M -90 -9u -90|0123|-1uu9m.M sMMm.M L4nu|26e4","Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4","Asia/Kabul|+04 +0430|-40 -4u|01|-10Qs0|46e5","Asia/Kamchatka|LMT +11 +12 +13|-ay.A -b0 -c0 -d0|012323232323232323232321232323232323232323232323232323232323212|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4","Asia/Karachi|LMT +0530 +0630 +05 PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6","Asia/Urumqi|LMT +06|-5O.k -60|01|-1GgtO.k|32e5","Asia/Kathmandu|LMT +0530 +0545|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g|12e5","Asia/Khandyga|LMT +08 +09 +10 +11|-92.d -80 -90 -a0 -b0|0123232323232323232323212323232323232323232323232343434343434343432|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|LMT +06 +07 +08|-6b.q -60 -70 -80|01232323232323232323232123232323232323232323232323232323232323232|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|SMT +07 +0720 +0730 +09 +08|-6T.p -70 -7k -7u -90 -80|0123435|-2Bg6T.p 17anT.p l5XE 17bO 8Fyu 1so1u|71e5","Asia/Kuching|LMT +0730 +08 +0820 +09|-7l.k -7u -80 -8k -90|0123232323232323242|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0|13e4","Asia/Macau|LMT CST CDT|-7y.k -80 -90|012121212121212121212121212121212121212121|-2le80 1XO3u 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0|57e4","Asia/Magadan|LMT +10 +11 +12|-a3.c -a0 -b0 -c0|012323232323232323232321232323232323232323232323232323232323232312|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|LMT MMT +08 +09 WITA|-7V.A -7V.A -80 -90 -80|01234|-21JjV.A vfc0 myLV.A 8ML0|15e5","Asia/Manila|+08 +09|-80 -90|010101010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0|24e6","Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|32e4","Asia/Novokuznetsk|LMT +06 +07 +08|-5M.M -60 -70 -80|012323232323232323232321232323232323232323232323232323232323212|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4","Asia/Novosibirsk|LMT +06 +07 +08|-5v.E -60 -70 -80|0123232323232323232323212323212121212121212121212121212121212121212|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|LMT +05 +06 +07|-4R.u -50 -60 -70|01232323232323232323232123232323232323232323232323232323232323232|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5","Asia/Oral|LMT +03 +05 +06 +04|-3p.o -30 -50 -60 -40|01232323232323232424242424242424242424242424242|-1Pc3p.o eUop.o 23CK0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4","Asia/Pontianak|LMT PMT +0730 +09 +08 WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu|23e4","Asia/Pyongyang|LMT KST JST KST|-8n -8u -90 -90|012313|-2um8n 97XR 1lTzu 2Onc0 6BAu|29e5","Asia/Qyzylorda|LMT +04 +05 +06|-4l.Q -40 -50 -60|0123232323232323232323232323232323232323232323|-1Pc4l.Q eUol.Q 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|73e4","Asia/Rangoon|RMT +0630 +09|-6o.L -6u -90|0121|-21Jio.L SmnS.L 7j9u|48e5","Asia/Sakhalin|LMT +09 +11 +12 +10|-9u.M -90 -b0 -c0 -a0|01232323232323232323232423232323232424242424242424242424242424242|-2AGVu.M 1BoMu.M 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Samarkand|LMT +04 +05 +06|-4r.R -40 -50 -60|01232323232323232323232|-1Pc4r.R eUor.R 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4","Asia/Seoul|LMT KST JST KST KDT KDT|-8r.Q -8u -90 -90 -9u -a0|0123141414141414135353|-2um8r.Q 97XV.Q 1m1zu kKo0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0|23e6","Asia/Srednekolymsk|LMT +10 +11 +12|-ae.Q -a0 -b0 -c0|01232323232323232323232123232323232323232323232323232323232323232|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2","Asia/Taipei|CST JST CDT|-80 -90 -90|01020202020202020202020202020202020202020|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0|74e5","Asia/Tashkent|LMT +05 +06 +07|-4B.b -50 -60 -70|012323232323232323232321|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5","Asia/Tbilisi|TBMT +03 +04 +05|-2X.b -30 -40 -50|0123232323232323232323212121232323232323232323212|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5","Asia/Tehran|LMT TMT +0330 +04 +05 +0430|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|LMT +0530 +06|-5W.A -5u -60|012|-Su5W.A 1BGMs.A|79e3","Asia/Tokyo|JST JDT|-90 -a0|010101010|-QJJ0 Rb0 1ld0 14n0 1zd0 On0 1zd0 On0|38e6","Asia/Tomsk|LMT +06 +07 +08|-5D.P -60 -70 -80|0123232323232323232323212323232323232323232323212121212121212121212|-21NhD.P pxzD.P 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|LMT +07 +08 +09|-77.w -70 -80 -90|012323232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|LMT +08 +09 +12 +11 +10|-9w.S -80 -90 -c0 -b0 -a0|012343434343434343434345434343434343434343434343434343434343434345|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|LMT +09 +10 +11|-8L.v -90 -a0 -b0|01232323232323232323232123232323232323232323232323232323232323232|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|LMT +08 +09 +10|-8C.W -80 -90 -a0|01232323232323232323232123232323232323232323232323232323232323232|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|LMT PMT +04 +05 +06|-42.x -3J.5 -40 -50 -60|012343434343434343434343234343434343434343434343434343434343434343|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|LMT +03 +04 +05|-2W -30 -40 -50|0123232323232323232323212121212323232323232323232323232323232|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|HMT -02 -01 +00 WET|1S.w 20 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121232323232323232323232323232323234323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2ldW0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4","Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3","Atlantic/Canary|LMT -01 WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Atlantic/Cape_Verde|LMT -02 -01|1y.4 20 10|01212|-2ldW0 1eEo0 7zX0 1djf0|50e4","Atlantic/Faroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|49e3","Atlantic/Madeira|FMT -01 +00 +01 WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldX0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e4","Atlantic/Reykjavik|LMT -01 +00 GMT|1s 10 0 0|012121212121212121212121212121212121212121212121212121212121212121213|-2uWmw mfaw 1Bd0 ML0 1LB0 Cn0 1LB0 3fX0 C10 HrX0 1cO0 LB0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0|12e4","Atlantic/South_Georgia|-02|20|0||30","Atlantic/Stanley|SMT -04 -03 -02|3P.o 40 30 20|012121212121212323212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2","Australia/Sydney|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5","Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|18e3","Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|746","Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0|12e4","Australia/Eucla|+0845 +0945|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368","Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|21e4","Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347","Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10","Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|39e5","Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5","CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Pacific/Easter|EMT -07 -06 -05|7h.s 70 60 50|012121212121212121212121212123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1uSgG.w 1s4IG.w WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2","CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Dublin|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g600 14o0 1wo0 17c0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","EST|EST|50|0|","EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Etc/GMT-0|GMT|0|0|","Etc/GMT-1|+01|-10|0|","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Pohnpei|+11|-b0|0||34e3","Pacific/Tarawa|+12|-c0|0||29e3","Etc/GMT-13|+13|-d0|0|","Etc/GMT-14|+14|-e0|0|","Etc/GMT-2|+02|-20|0|","Etc/GMT-3|+03|-30|0|","Etc/GMT-4|+04|-40|0|","Etc/GMT-5|+05|-50|0|","Etc/GMT-6|+06|-60|0|","Indian/Christmas|+07|-70|0||21e2","Etc/GMT-8|+08|-80|0|","Pacific/Palau|+09|-90|0||21e3","Etc/GMT+1|-01|10|0|","Etc/GMT+10|-10|a0|0|","Etc/GMT+11|-11|b0|0|","Etc/GMT+12|-12|c0|0|","Etc/GMT+3|-03|30|0|","Etc/GMT+4|-04|40|0|","Etc/GMT+5|-05|50|0|","Etc/GMT+6|-06|60|0|","Etc/GMT+7|-07|70|0|","Etc/GMT+8|-08|80|0|","Etc/GMT+9|-09|90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Amsterdam|AMT NST +0120 +0020 CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|16e5","Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|79e3","Europe/Astrakhan|LMT +03 +04 +05|-3c.c -30 -40 -50|012323232323232323212121212121212121212121212121212121212121212|-1Pcrc.c eUMc.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5","Europe/London|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6","Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e5","Europe/Prague|CET CEST GMT|-10 -20 0|01010101010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 1qM0 11c0 mp0 xA0 mn0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e5","Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|21e5","Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|19e5","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e4","Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|012323232323232323234545467676767676767676767323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4","Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|30e3","Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET +03|-10 -20 -20 -30 -30 -40 -30 -20 -30|0101010101010232454545454545454546767676767676767676767676767676767676767676787|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4","Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|34e5","Europe/Kirov|LMT +03 +04 +05|-3i.M -30 -40 -50|01232323232323232321212121212121212121212121212121212121212121|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4","Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2le00 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5","Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|010101010101010101210343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-25Td0 19B0 1cL0 1dd0 b1z0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1in0 17d0 iIn0 Hd0 1cL0 bb0 1200 2s20 14n0 5aL0 Mp0 1vz0 17d0 1in0 17d0 1in0 17d0 1in0 17d0 6hX0 11B0 XHX0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e5","Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1co0 17c0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Minsk|MMT EET MSK CEST CET MSD EEST +03|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5","Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e3","Europe/Moscow|MMT MMT MST MDST MSD MSK +05 EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c4v.j ik0 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6","Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6","Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|64e4","Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1cM0 16M0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|39e5","Europe/Samara|LMT +03 +04 +05|-3k.k -30 -40 -50|0123232323232323232121232323232323232323232323232323232323212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5","Europe/Saratov|LMT +03 +04 +05|-34.i -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810","Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|15e5","Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e4","Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Ulyanovsk|LMT +03 +04 +05 +02|-3d.A -30 -40 -50 -20|01232323232323232321214121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e4","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|18e5","Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646473737373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Volgograd|LMT +03 +04 +05|-2V.E -30 -40 -50|01232323232323232121212121212121212121212121212121212121212121|-21IqV.E psLV.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zaporozhye|+0220 EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|77e4","HST|HST|a0|0|","Indian/Chagos|LMT +05 +06|-4N.E -50 -60|012|-2xosN.E 3AGLN.E|30e2","Indian/Cocos|+0630|-6u|0||596","Indian/Kerguelen|-00 +05|0 -50|01|-MG00|130","Indian/Mahe|LMT +04|-3F.M -40|01|-2yO3F.M|79e3","Indian/Maldives|MMT +05|-4S -50|01|-olgS|35e4","Indian/Mauritius|LMT +04 +05|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0|15e4","Indian/Reunion|LMT +04|-3F.Q -40|01|-2mDDF.Q|84e4","Pacific/Kwajalein|+11 -12 +12|-b0 c0 -c0|012|-AX0 W9X0|14e3","MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","MST|MST|70|0|","MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Chatham|+1215 +1245 +1345|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|LMT -1130 -11 -10 +14 +13|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +09 +11|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0|18e4","Pacific/Efate|LMT +11 +12|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3","Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B7X0|1","Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483","Pacific/Fiji|LMT +12 +13|-bT.I -c0 -d0|0121212121212121212121212121212121212121212121212121212121212121|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0|88e4","Pacific/Galapagos|LMT -05 -06|5W.o 50 60|01212|-1yVS1.A 2dTz1.A gNd0 rz0|25e3","Pacific/Gambier|LMT -09|8X.M 90|01|-2jof0.c|125","Pacific/Guadalcanal|LMT +11|-aD.M -b0|01|-2joyD.M|11e4","Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0|17e4","Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0|37e4","Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B7Xk|51e2","Pacific/Kosrae|+11 +12|-b0 -c0|010|-AX0 1bdz0|66e2","Pacific/Majuro|+11 +12|-b0 -c0|01|-AX0|28e3","Pacific/Marquesas|LMT -0930|9i 9u|01|-2joeG|86e2","Pacific/Pago_Pago|LMT SST|bm.M b0|01|-2nDMB.c|37e2","Pacific/Nauru|LMT +1130 +09 +12|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu|10e3","Pacific/Niue|-1120 -1130 -11|bk bu b0|012|-KfME 17y0a|12e2","Pacific/Norfolk|+1112 +1130 +1230 +11|-bc -bu -cu -b0|01213|-Kgbc W01G On0 1COp0|25e4","Pacific/Noumea|LMT +11 +12|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0|98e3","Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56","Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3","Pacific/Tahiti|LMT -10|9W.g a0|01|-2joe1.I|18e4","Pacific/Tongatapu|+1220 +13 +14|-ck -d0 -e0|0121212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3","PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"],links:["Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/St_Helena","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Atikokan|America/Coral_Harbour","America/Chicago|US/Central","America/Curacao|America/Aruba","America/Curacao|America/Kralendijk","America/Curacao|America/Lower_Princes","America/Denver|America/Shiprock","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|Canada/Mountain","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Panama|America/Cayman","America/Phoenix|US/Arizona","America/Port_of_Spain|America/Anguilla","America/Port_of_Spain|America/Antigua","America/Port_of_Spain|America/Dominica","America/Port_of_Spain|America/Grenada","America/Port_of_Spain|America/Guadeloupe","America/Port_of_Spain|America/Marigot","America/Port_of_Spain|America/Montserrat","America/Port_of_Spain|America/St_Barthelemy","America/Port_of_Spain|America/St_Kitts","America/Port_of_Spain|America/St_Lucia","America/Port_of_Spain|America/St_Thomas","America/Port_of_Spain|America/St_Vincent","America/Port_of_Spain|America/Tortola","America/Port_of_Spain|America/Virgin","America/Regina|Canada/Saskatchewan","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Tijuana|America/Ensenada","America/Tijuana|America/Santa_Isabel","America/Tijuana|Mexico/BajaNorte","America/Toronto|America/Montreal","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|Canada/Central","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Singapore","Asia/Macau|Asia/Macao","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Qatar|Asia/Bahrain","Asia/Rangoon|Asia/Yangon","Asia/Riyadh|Asia/Aden","Asia/Riyadh|Asia/Kuwait","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Asia/Kashgar","Atlantic/Faroe|Atlantic/Faeroe","Atlantic/Reykjavik|Iceland","Atlantic/South_Georgia|Etc/GMT+2","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Tasmania","Australia/Lord_Howe|Australia/LHI","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/NSW","Etc/GMT-0|Etc/GMT","Etc/GMT-0|Etc/GMT+0","Etc/GMT-0|Etc/GMT0","Etc/GMT-0|Etc/Greenwich","Etc/GMT-0|GMT","Etc/GMT-0|GMT+0","Etc/GMT-0|GMT-0","Etc/GMT-0|GMT0","Etc/GMT-0|Greenwich","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Helsinki|Europe/Mariehamn","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Portugal","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Oslo|Arctic/Longyearbyen","Europe/Oslo|Atlantic/Jan_Mayen","Europe/Prague|Europe/Bratislava","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Europe/Zurich|Europe/Busingen","Europe/Zurich|Europe/Vaduz","Indian/Christmas|Etc/GMT-7","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kwajalein|Kwajalein","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Palau|Etc/GMT-9","Pacific/Pohnpei|Etc/GMT-11","Pacific/Pohnpei|Pacific/Ponape","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tarawa|Etc/GMT-12","Pacific/Tarawa|Pacific/Funafuti","Pacific/Tarawa|Pacific/Wake","Pacific/Tarawa|Pacific/Wallis"]}},function(e,t,i){(e.exports=i(282)).tz.load(i(280))},function(e,t,i){var n,s,r;//! moment-timezone.js
//! version : 0.5.17
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone
!function(a,o){"use strict";if(!0)s=[i(283)],n=o,void 0!==(r="function"==typeof n?n.apply(t,s):n)&&(e.exports=r);else if("object"==typeof e&&e.exports)e.exports=o(require("moment"));else o(a.moment)}(this,function(e){"use strict";function t(e){if(e>96)return e-87;else if(e>64)return e-29;return e-48}function i(e){var i,n=0,s=e.split("."),r=s[0],a=s[1]||"",o=1,c=0,l=1;if(45===e.charCodeAt(0))n=1,l=-1;for(n;n<r.length;n++)i=t(r.charCodeAt(n)),c=60*c+i;for(n=0;n<a.length;n++)o/=60,i=t(a.charCodeAt(n)),c+=i*o;return c*l}function n(e){for(var t=0;t<e.length;t++)e[t]=i(e[t])}function s(e,t){for(var i=0;i<t;i++)e[i]=Math.round((e[i-1]||0)+6e4*e[i]);e[t-1]=1/0}function r(e,t){var i,n=[];for(i=0;i<t.length;i++)n[i]=e[t[i]];return n}function a(e){var t=e.split("|"),i=t[2].split(" "),a=t[3].split(""),o=t[4].split(" ");return n(i),n(a),n(o),s(o,a.length),{name:t[0],abbrs:r(t[1].split(" "),a),offsets:r(i,a),untils:o,population:0|t[5]}}function o(e){if(e)this._set(a(e))}function c(e){var t=e.toTimeString(),i=t.match(/\([a-z ]+\)/i);if(i&&i[0])i=i[0].match(/[A-Z]/g),i=i?i.join(""):void 0;else i=t.match(/[A-Z]{3,5}/g),i=i?i[0]:void 0;if("GMT"===i)i=void 0;this.at=+e,this.abbr=i,this.offset=e.getTimezoneOffset()}function l(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function u(e,t){for(var i,n;n=6e4*((t.at-e.at)/12e4|0);)if(i=new c(new Date(e.at+n)),i.offset===e.offset)e=i;else t=i;return e}function d(){var e,t,i,n=(new Date).getFullYear()-2,s=new c(new Date(n,0,1)),r=[s];for(i=1;i<48;i++){if(t=new c(new Date(n,i,1)),t.offset!==s.offset)e=u(s,t),r.push(e),r.push(new c(new Date(e.at+6e4)));s=t}for(i=0;i<4;i++)r.push(new c(new Date(n+i,0,1))),r.push(new c(new Date(n+i,6,1)));return r}function p(e,t){if(e.offsetScore!==t.offsetScore)return e.offsetScore-t.offsetScore;if(e.abbrScore!==t.abbrScore)return e.abbrScore-t.abbrScore;else return t.zone.population-e.zone.population}function f(e,t){var i,s;for(n(t),i=0;i<t.length;i++)s=t[i],I[s]=I[s]||{},I[s][e]=!0}function h(e){var t,i,n,s=e.length,r={},a=[];for(t=0;t<s;t++){n=I[e[t].offset]||{};for(i in n)if(n.hasOwnProperty(i))r[i]=!0}for(t in r)if(r.hasOwnProperty(t))a.push(q[t]);return a}function m(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=q[g(e)];if(t)return t;k("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var i,n,s,r=d(),a=r.length,o=h(r),c=[];for(n=0;n<o.length;n++){for(i=new l(v(o[n]),a),s=0;s<a;s++)i.scoreOffsetAt(r[s]);c.push(i)}return c.sort(p),c.length>0?c[0].zone.name:void 0}function M(e){if(!E||e)E=m();return E}function g(e){return(e||"").toLowerCase().replace(/\//g,"_")}function b(e){var t,i,n,s;if("string"==typeof e)e=[e];for(t=0;t<e.length;t++)n=e[t].split("|"),i=n[0],s=g(i),C[s]=e[t],q[s]=i,f(s,n[2].split(" "))}function v(e,t){e=g(e);var i,n=C[e];if(n instanceof o)return n;if("string"==typeof n)return n=new o(n),C[e]=n,n;if(D[e]&&t!==v&&(i=v(D[e],v)))return n=C[e]=new o,n._set(i),n.name=q[e],n;else return null}function A(){var e,t=[];for(e in q)if(q.hasOwnProperty(e)&&(C[e]||C[D[e]])&&q[e])t.push(q[e]);return t.sort()}function S(e){var t,i,n,s;if("string"==typeof e)e=[e];for(t=0;t<e.length;t++)i=e[t].split("|"),n=g(i[0]),s=g(i[1]),D[n]=s,q[n]=i[0],D[s]=n,q[s]=i[1]}function y(e){b(e.zones),S(e.links),O.dataVersion=e.version}function T(e){if(!T.didShowError)T.didShowError=!0,k("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')");return!!v(e)}function z(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function k(e){if("undefined"!=typeof console&&"function"==typeof console.error)console.error(e)}function O(t){var i=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],s=v(n),r=e.utc.apply(null,i);if(s&&!e.isMoment(t)&&z(r))r.add(s.parse(r),"minutes");return r.tz(n),r}function L(e){return function(){if(this._z)return this._z.abbr(this);else return e.call(this)}}function N(e){return function(){return this._z=null,e.apply(this,arguments)}}var E,w="0.5.17",C={},D={},q={},I={},B=e.version.split("."),x=+B[0],_=+B[1];if(x<2||2===x&&_<6)k("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com");o.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,i=+e,n=this.untils;for(t=0;t<n.length;t++)if(i<n[t])return t},parse:function(e){var t,i,n,s,r=+e,a=this.offsets,o=this.untils,c=o.length-1;for(s=0;s<c;s++){if(t=a[s],i=a[s+1],n=a[s?s-1:s],t<i&&O.moveAmbiguousForward)t=i;else if(t>n&&O.moveInvalidForward)t=n;if(r<o[s]-6e4*t)return a[s]}return a[c]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return k("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},l.prototype.scoreOffsetAt=function(e){if(this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr)this.abbrScore++},O.version=w,O.dataVersion="",O._zones=C,O._links=D,O._names=q,O.add=b,O.link=S,O.load=y,O.zone=v,O.zoneExists=T,O.guess=M,O.names=A,O.Zone=o,O.unpack=a,O.unpackBase60=i,O.needsOffset=z,O.moveInvalidForward=!0,O.moveAmbiguousForward=!1;var W=e.fn;e.tz=O,e.defaultZone=null,e.updateOffset=function(t,i){var n,s=e.defaultZone;if(void 0===t._z){if(s&&z(t)&&!t._isUTC)t._d=e.utc(t._a)._d,t.utc().add(s.parse(t),"minutes");t._z=s}if(t._z){if(n=t._z.utcOffset(t),Math.abs(n)<16)n/=60;if(void 0!==t.utcOffset)t.utcOffset(-n,i);else t.zone(n,i)}},W.tz=function(t,i){if(t){if(this._z=v(t),this._z)e.updateOffset(this,i);else k("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/.");return this}if(this._z)return this._z.name},W.zoneName=L(W.zoneName),W.zoneAbbr=L(W.zoneAbbr),W.utc=N(W.utc),e.tz.setDefault=function(t){if(x<2||2===x&&_<9)k("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+".");return e.defaultZone=t?v(t):null,e};var R=e.momentProperties;if("[object Array]"===Object.prototype.toString.call(R))R.push("_z"),R.push("_a");else if(R)R._z=null;return e})},function(e,t,i){(function(e){!function(t,i){!0?e.exports=i():"function"==typeof define&&define.amd?define(i):t.moment=i()}(this,function(){"use strict";function t(){return Nn.apply(null,arguments)}function i(e){Nn=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;else{var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}}function a(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var i in t)if(u(t,i))e[i]=t[i];if(u(t,"toString"))e.toString=t.toString;if(u(t,"valueOf"))e.valueOf=t.valueOf;return e}function p(e,t,i,n){return kt(e,t,i,n,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){if(null==e._pf)e._pf=f();return e._pf}function m(e){if(null==e._isValid){var t=h(e),i=En.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict)n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour;if(null==Object.isFrozen||!Object.isFrozen(e))e._isValid=n;else return n}return e._isValid}function M(e){var t=p(NaN);if(null!=e)d(h(t),e);else h(t).userInvalidated=!0;return t}function g(e,t){var i,n,s;if(!a(t._isAMomentObject))e._isAMomentObject=t._isAMomentObject;if(!a(t._i))e._i=t._i;if(!a(t._f))e._f=t._f;if(!a(t._l))e._l=t._l;if(!a(t._strict))e._strict=t._strict;if(!a(t._tzm))e._tzm=t._tzm;if(!a(t._isUTC))e._isUTC=t._isUTC;if(!a(t._offset))e._offset=t._offset;if(!a(t._pf))e._pf=h(t);if(!a(t._locale))e._locale=t._locale;if(wn.length>0)for(i=0;i<wn.length;i++)if(n=wn[i],s=t[n],!a(s))e[n]=s;return e}function b(e){if(g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!this.isValid())this._d=new Date(NaN);if(!1===Cn)Cn=!0,t.updateOffset(this),Cn=!1}function v(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function A(e){if(e<0)return Math.ceil(e)||0;else return Math.floor(e)}function S(e){var t=+e,i=0;if(0!==t&&isFinite(t))i=A(t);return i}function y(e,t,i){var n,s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(n=0;n<s;n++)if(i&&e[n]!==t[n]||!i&&S(e[n])!==S(t[n]))a++;return a+r}function T(e){if(!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn)console.warn("Deprecation warning: "+e)}function z(e,i){var n=!0;return d(function(){if(null!=t.deprecationHandler)t.deprecationHandler(null,e);if(n){for(var s,r=[],a=0;a<arguments.length;a++){if(s="","object"==typeof arguments[a]){s+="\n["+a+"] ";for(var o in arguments[0])s+=o+": "+arguments[0][o]+", ";s=s.slice(0,-2)}else s=arguments[a];r.push(s)}T(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function k(e,i){if(null!=t.deprecationHandler)t.deprecationHandler(e,i);if(!Dn[e])T(i),Dn[e]=!0}function O(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function L(e){var t,i;for(i in e)if(t=e[i],O(t))this[i]=t;else this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(e,t){var i,n=d({},e);for(i in t)if(u(t,i))if(s(e[i])&&s(t[i]))n[i]={},d(n[i],e[i]),d(n[i],t[i]);else if(null!=t[i])n[i]=t[i];else delete n[i];for(i in e)if(u(e,i)&&!u(t,i)&&s(e[i]))n[i]=d({},n[i]);return n}function E(e){if(null!=e)this.set(e)}function w(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return O(n)?n.call(t,i):n}function C(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];if(t||!i)return t;else return this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]}function D(){return this._invalidDate}function q(e){return this._ordinal.replace("%d",e)}function I(e,t,i,n){var s=this._relativeTime[i];return O(s)?s(e,t,i,n):s.replace(/%d/i,e)}function B(e,t){var i=this._relativeTime[e>0?"future":"past"];return O(i)?i(t):i.replace(/%s/i,t)}function x(e,t){var i=e.toLowerCase();Pn[i]=Pn[i+"s"]=Pn[t]=e}function _(e){return"string"==typeof e?Pn[e]||Pn[e.toLowerCase()]:void 0}function W(e){var t,i,n={};for(i in e)if(u(e,i))if(t=_(i))n[t]=e[i];return n}function R(e,t){Xn[e]=t}function P(e){var t=[];for(var i in e)t.push({unit:i,priority:Xn[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function X(e,t,i){var n=""+Math.abs(e),s=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}function $(e,t,i,n){var s=n;if("string"==typeof n)s=function(){return this[n]()};if(e)Hn[e]=s;if(t)Hn[t[0]]=function(){return X(s.apply(this,arguments),t[1],t[2])};if(i)Hn[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)}}function j(e){if(e.match(/\[[\s\S]/))return e.replace(/^\[|\]$/g,"");else return e.replace(/\\/g,"")}function U(e){var t,i,n=e.match($n);for(t=0,i=n.length;t<i;t++)if(Hn[n[t]])n[t]=Hn[n[t]];else n[t]=j(n[t]);return function(t){var s,r="";for(s=0;s<i;s++)r+=O(n[s])?n[s].call(t,e):n[s];return r}}function H(e,t){if(!e.isValid())return e.localeData().invalidDate();else return t=F(t,e.localeData()),Un[t]=Un[t]||U(t),Un[t](e)}function F(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(jn.lastIndex=0;n>=0&&jn.test(e);)e=e.replace(jn,i),jn.lastIndex=0,n-=1;return e}function K(e,t,i){ls[e]=O(t)?t:function(e,n){return e&&i?i:t}}function V(e,t){if(!u(ls,e))return new RegExp(J(e));else return ls[e](t._strict,t._locale)}function J(e){return G(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s}))}function G(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e,t){var i,n=t;if("string"==typeof e)e=[e];if(o(t))n=function(e,i){i[t]=S(e)};for(i=0;i<e.length;i++)us[e[i]]=n}function Y(e,t){Q(e,function(e,i,n,s){n._w=n._w||{},t(e,n._w,n,s)})}function Z(e,t,i){if(null!=t&&u(us,e))us[e](t,i._a,i,e)}function ee(e){return te(e)?366:365}function te(e){return e%4==0&&e%100!=0||e%400==0}function ie(){return te(this.year())}function ne(e,i){return function(n){if(null!=n)return re(this,e,n),t.updateOffset(this,i),this;else return se(this,e)}}function se(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function re(e,t,i){if(e.isValid()&&!isNaN(i))if("FullYear"===t&&te(e.year())&&1===e.month()&&29===e.date())e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),le(i,e.month()));else e._d["set"+(e._isUTC?"UTC":"")+t](i)}function ae(e){if(e=_(e),O(this[e]))return this[e]();else return this}function oe(e,t){if("object"==typeof e){e=W(e);for(var i=P(e),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(e=_(e),O(this[e]))return this[e](t);return this}function ce(e,t){return(e%t+t)%t}function le(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=ce(t,12);return e+=(t-i)/12,1===i?te(e)?29:28:31-i%7%2}function ue(e,t){if(!e)return n(this._months)?this._months:this._months.standalone;else return n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ys).test(t)?"format":"standalone"][e.month()]}function de(e,t){if(!e)return n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;else return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ys.test(t)?"format":"standalone"][e.month()]}function pe(e,t,i){var n,s,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();if(i)if("MMM"===t)return s=As.call(this._shortMonthsParse,a),-1!==s?s:null;else return s=As.call(this._longMonthsParse,a),-1!==s?s:null;else if("MMM"===t)if(-1!==(s=As.call(this._shortMonthsParse,a)))return s;else return s=As.call(this._longMonthsParse,a),-1!==s?s:null;else if(-1!==(s=As.call(this._longMonthsParse,a)))return s;else return s=As.call(this._shortMonthsParse,a),-1!==s?s:null}function fe(e,t,i){var n,s,r;if(this._monthsParseExact)return pe.call(this,e,t,i);if(!this._monthsParse)this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[];for(n=0;n<12;n++){if(s=p([2e3,n]),i&&!this._longMonthsParse[n])this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i");if(!i&&!this._monthsParse[n])r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i");if(i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;else if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;else if(!i&&this._monthsParse[n].test(e))return n}}function he(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return i=Math.min(e.date(),le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function me(e){if(null!=e)return he(this,e),t.updateOffset(this,!0),this;else return se(this,"Month")}function Me(){return le(this.year(),this.month())}function ge(e){if(this._monthsParseExact){if(!u(this,"_monthsRegex"))ve.call(this);if(e)return this._monthsShortStrictRegex;else return this._monthsShortRegex}else{if(!u(this,"_monthsShortRegex"))this._monthsShortRegex=ks;return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}function be(e){if(this._monthsParseExact){if(!u(this,"_monthsRegex"))ve.call(this);if(e)return this._monthsStrictRegex;else return this._monthsRegex}else{if(!u(this,"_monthsRegex"))this._monthsRegex=Os;return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function ve(){function e(e,t){return t.length-e.length}var t,i,n=[],s=[],r=[];for(t=0;t<12;t++)i=p([2e3,t]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),s.sort(e),r.sort(e),t=0;t<12;t++)n[t]=G(n[t]),s[t]=G(s[t]);for(t=0;t<24;t++)r[t]=G(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ae(e,t,i,n,s,r,a){var o=new Date(e,t,i,n,s,r,a);if(e<100&&e>=0&&isFinite(o.getFullYear()))o.setFullYear(e);return o}function Se(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear()))t.setUTCFullYear(e);return t}function ye(e,t,i){var n=7+t-i;return-(7+Se(e,0,n).getUTCDay()-t)%7+n-1}function Te(e,t,i,n,s){var r,a,o=(7+i-n)%7,c=ye(e,n,s),l=1+7*(t-1)+o+c;if(l<=0)r=e-1,a=ee(r)+l;else if(l>ee(e))r=e+1,a=l-ee(e);else r=e,a=l;return{year:r,dayOfYear:a}}function ze(e,t,i){var n,s,r=ye(e.year(),t,i),a=Math.floor((e.dayOfYear()-r-1)/7)+1;if(a<1)s=e.year()-1,n=a+ke(s,t,i);else if(a>ke(e.year(),t,i))n=a-ke(e.year(),t,i),s=e.year()+1;else s=e.year(),n=a;return{week:n,year:s}}function ke(e,t,i){var n=ye(e,t,i),s=ye(e+1,t,i);return(ee(e)-n+s)/7}function Oe(e){return ze(e,this._week.dow,this._week.doy).week}function Le(){return this._week.dow}function Ne(){return this._week.doy}function Ee(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function we(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ce(e,t){if("string"!=typeof e)return e;if(!isNaN(e))return parseInt(e,10);if("number"==typeof(e=t.weekdaysParse(e)))return e;else return null}function De(e,t){if("string"==typeof e)return t.weekdaysParse(e)%7||7;else return isNaN(e)?null:e}function qe(e,t){if(!e)return n(this._weekdays)?this._weekdays:this._weekdays.standalone;else return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Ie(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Be(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function xe(e,t,i){var n,s,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();if(i)if("dddd"===t)return s=As.call(this._weekdaysParse,a),-1!==s?s:null;else if("ddd"===t)return s=As.call(this._shortWeekdaysParse,a),-1!==s?s:null;else return s=As.call(this._minWeekdaysParse,a),-1!==s?s:null;else if("dddd"===t){if(-1!==(s=As.call(this._weekdaysParse,a)))return s;if(-1!==(s=As.call(this._shortWeekdaysParse,a)))return s;else return s=As.call(this._minWeekdaysParse,a),-1!==s?s:null}else if("ddd"===t){if(-1!==(s=As.call(this._shortWeekdaysParse,a)))return s;if(-1!==(s=As.call(this._weekdaysParse,a)))return s;else return s=As.call(this._minWeekdaysParse,a),-1!==s?s:null}else{if(-1!==(s=As.call(this._minWeekdaysParse,a)))return s;if(-1!==(s=As.call(this._weekdaysParse,a)))return s;else return s=As.call(this._shortWeekdaysParse,a),-1!==s?s:null}}function _e(e,t,i){var n,s,r;if(this._weekdaysParseExact)return xe.call(this,e,t,i);if(!this._weekdaysParse)this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[];for(n=0;n<7;n++){if(s=p([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n])this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i");if(!this._weekdaysParse[n])r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i");if(i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;else if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;else if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;else if(!i&&this._weekdaysParse[n].test(e))return n}}function We(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=e)return e=Ce(e,this.localeData()),this.add(e-t,"d");else return t}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Pe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Xe(e){if(this._weekdaysParseExact){if(!u(this,"_weekdaysRegex"))Ue.call(this);if(e)return this._weekdaysStrictRegex;else return this._weekdaysRegex}else{if(!u(this,"_weekdaysRegex"))this._weekdaysRegex=Cs;return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}function $e(e){if(this._weekdaysParseExact){if(!u(this,"_weekdaysRegex"))Ue.call(this);if(e)return this._weekdaysShortStrictRegex;else return this._weekdaysShortRegex}else{if(!u(this,"_weekdaysShortRegex"))this._weekdaysShortRegex=Ds;return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}function je(e){if(this._weekdaysParseExact){if(!u(this,"_weekdaysRegex"))Ue.call(this);if(e)return this._weekdaysMinStrictRegex;else return this._weekdaysMinRegex}else{if(!u(this,"_weekdaysMinRegex"))this._weekdaysMinRegex=qs;return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Ue(){function e(e,t){return t.length-e.length}var t,i,n,s,r,a=[],o=[],c=[],l=[];for(t=0;t<7;t++)i=p([2e3,1]).day(t),n=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),r=this.weekdays(i,""),a.push(n),o.push(s),c.push(r),l.push(n),l.push(s),l.push(r);for(a.sort(e),o.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)o[t]=G(o[t]),c[t]=G(c[t]),l[t]=G(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function He(){return this.hours()%12||12}function Fe(){return this.hours()||24}function Ke(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ve(e,t){return t._meridiemParse}function Je(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,i){if(e>11)return i?"pm":"PM";else return i?"am":"AM"}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Ye(e){for(var t,i,n,s,r=0;r<e.length;){for(s=Qe(e[r]).split("-"),t=s.length,i=Qe(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=Ze(s.slice(0,t).join("-")))return n;if(i&&i.length>=t&&y(s,i,!0)>=t-1)break;t--}r++}return Is}function Ze(t){var i=null;if(!Ws[t]&&void 0!==e&&e&&e.exports)try{i=Is._abbr;!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),et(i)}catch(e){}return Ws[t]}function et(e,t){var i;if(e){if(a(t))i=nt(e);else i=tt(e,t);if(i)Is=i;else if("undefined"!=typeof console&&console.warn)console.warn("Locale "+e+" not found. Did you forget to load it?")}return Is._abbr}function tt(e,t){if(null!==t){var i,n=_s;if(t.abbr=e,null!=Ws[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ws[e]._config;else if(null!=t.parentLocale)if(null!=Ws[t.parentLocale])n=Ws[t.parentLocale]._config;else if(null!=(i=Ze(t.parentLocale)))n=i._config;else{if(!Rs[t.parentLocale])Rs[t.parentLocale]=[];return Rs[t.parentLocale].push({name:e,config:t}),null}if(Ws[e]=new E(N(n,t)),Rs[e])Rs[e].forEach(function(e){tt(e.name,e.config)});return et(e),Ws[e]}else return delete Ws[e],null}function it(e,t){if(null!=t){var i,n,s=_s;if(null!=(n=Ze(e)))s=n._config;t=N(s,t),i=new E(t),i.parentLocale=Ws[e],Ws[e]=i,et(e)}else if(null!=Ws[e])if(null!=Ws[e].parentLocale)Ws[e]=Ws[e].parentLocale;else if(null!=Ws[e])delete Ws[e];return Ws[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr)e=e._locale._abbr;if(!e)return Is;if(!n(e)){if(t=Ze(e))return t;e=[e]}return Ye(e)}function st(){return qn(Ws)}function rt(e){var t,i=e._a;if(i&&-2===h(e).overflow){if(t=i[ps]<0||i[ps]>11?ps:i[fs]<1||i[fs]>le(i[ds],i[ps])?fs:i[hs]<0||i[hs]>24||24===i[hs]&&(0!==i[ms]||0!==i[Ms]||0!==i[gs])?hs:i[ms]<0||i[ms]>59?ms:i[Ms]<0||i[Ms]>59?Ms:i[gs]<0||i[gs]>999?gs:-1,h(e)._overflowDayOfYear&&(t<ds||t>fs))t=fs;if(h(e)._overflowWeeks&&-1===t)t=bs;if(h(e)._overflowWeekday&&-1===t)t=vs;h(e).overflow=t}return e}function at(e,t,i){if(null!=e)return e;if(null!=t)return t;else return i}function ot(e){var i=new Date(t.now());if(e._useUTC)return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()];else return[i.getFullYear(),i.getMonth(),i.getDate()]}function ct(e){var t,i,n,s,r,a=[];if(!e._d){if(n=ot(e),e._w&&null==e._a[fs]&&null==e._a[ps])lt(e);if(null!=e._dayOfYear){if(r=at(e._a[ds],n[ds]),e._dayOfYear>ee(r)||0===e._dayOfYear)h(e)._overflowDayOfYear=!0;i=Se(r,0,e._dayOfYear),e._a[ps]=i.getUTCMonth(),e._a[fs]=i.getUTCDate()}for(t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];if(24===e._a[hs]&&0===e._a[ms]&&0===e._a[Ms]&&0===e._a[gs])e._nextDay=!0,e._a[hs]=0;if(e._d=(e._useUTC?Se:Ae).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm)e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm);if(e._nextDay)e._a[hs]=24;if(e._w&&void 0!==e._w.d&&e._w.d!==s)h(e).weekdayMismatch=!0}}function lt(e){var t,i,n,s,r,a,o,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E){if(r=1,a=4,i=at(t.GG,e._a[ds],ze(Ot(),1,4).year),n=at(t.W,1),(s=at(t.E,1))<1||s>7)c=!0}else{r=e._locale._week.dow,a=e._locale._week.doy;var l=ze(Ot(),r,a);if(i=at(t.gg,e._a[ds],l.year),n=at(t.w,l.week),null!=t.d){if((s=t.d)<0||s>6)c=!0}else if(null!=t.e){if(s=t.e+r,t.e<0||t.e>6)c=!0}else s=r}if(n<1||n>ke(i,r,a))h(e)._overflowWeeks=!0;else if(null!=c)h(e)._overflowWeekday=!0;else o=Te(i,n,s,r,a),e._a[ds]=o.year,e._dayOfYear=o.dayOfYear}function ut(e){var t,i,n,s,r,a,o=e._i,c=Ps.exec(o)||Xs.exec(o);if(c){for(h(e).iso=!0,t=0,i=js.length;t<i;t++)if(js[t][1].exec(c[1])){s=js[t][0],n=!1!==js[t][2];break}if(null==s)return void(e._isValid=!1);if(c[3]){for(t=0,i=Us.length;t<i;t++)if(Us[t][1].exec(c[3])){r=(c[2]||" ")+Us[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(c[4])if($s.exec(c[4]))a="Z";else return void(e._isValid=!1);e._f=s+(r||"")+(a||""),bt(e)}else e._isValid=!1}function dt(e,t,i,n,s,r){var a=[pt(e),zs.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(s,10)];if(r)a.push(parseInt(r,10));return a}function pt(e){var t=parseInt(e,10);if(t<=49)return 2e3+t;else if(t<=999)return 1900+t;return t}function ft(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ht(e,t,i){if(e){if(Es.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return h(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function mt(e,t,i){if(e)return Ks[e];else if(t)return 0;else{var n=parseInt(i,10),s=n%100,r=(n-s)/100;return 60*r+s}}function Mt(e){var t=Fs.exec(ft(e._i));if(t){var i=dt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ht(t[1],i,e))return;e._a=i,e._tzm=mt(t[8],t[9],t[10]),e._d=Se.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function gt(e){var i=Hs.exec(e._i);if(null!==i)return void(e._d=new Date(+i[1]));if(ut(e),!1===e._isValid)if(delete e._isValid,Mt(e),!1===e._isValid)delete e._isValid,t.createFromInputFallback(e)}function bt(e){if(e._f===t.ISO_8601)return void ut(e);if(e._f===t.RFC_2822)return void Mt(e);e._a=[],h(e).empty=!0;var i,n,s,r,a,o=""+e._i,c=o.length,l=0;for(s=F(e._f,e._locale).match($n)||[],i=0;i<s.length;i++){if(r=s[i],n=(o.match(V(r,e))||[])[0]){if(a=o.substr(0,o.indexOf(n)),a.length>0)h(e).unusedInput.push(a);o=o.slice(o.indexOf(n)+n.length),l+=n.length}if(Hn[r]){if(n)h(e).empty=!1;else h(e).unusedTokens.push(r);Z(r,n,e)}else if(e._strict&&!n)h(e).unusedTokens.push(r)}if(h(e).charsLeftOver=c-l,o.length>0)h(e).unusedInput.push(o);if(e._a[hs]<=12&&!0===h(e).bigHour&&e._a[hs]>0)h(e).bigHour=void 0;h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[hs]=vt(e._locale,e._a[hs],e._meridiem),ct(e),rt(e)}function vt(e,t,i){var n;if(null==i)return t;if(null!=e.meridiemHour)return e.meridiemHour(t,i);else if(null!=e.isPM){if((n=e.isPM(i))&&t<12)t+=12;if(!n&&12===t)t=0;return t}else return t}function At(e){var t,i,n,s,r;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++){if(r=0,t=g({},e),null!=e._useUTC)t._useUTC=e._useUTC;if(t._f=e._f[s],bt(t),m(t))if(r+=h(t).charsLeftOver,r+=10*h(t).unusedTokens.length,h(t).score=r,null==n||r<n)n=r,i=t}d(e,i||t)}function St(e){if(!e._d){var t=W(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function yt(e){var t=new b(rt(Tt(e)));if(t._nextDay)t.add(1,"d"),t._nextDay=void 0;return t}function Tt(e){var t=e._i,i=e._f;if(e._locale=e._locale||nt(e._l),null===t||void 0===i&&""===t)return M({nullInput:!0});if("string"==typeof t)e._i=t=e._locale.preparse(t);if(v(t))return new b(rt(t));else if(c(t))e._d=t;else if(n(i))At(e);else if(i)bt(e);else zt(e);if(!m(e))e._d=null;return e}function zt(e){var i=e._i;if(a(i))e._d=new Date(t.now());else if(c(i))e._d=new Date(i.valueOf());else if("string"==typeof i)gt(e);else if(n(i))e._a=l(i.slice(0),function(e){return parseInt(e,10)}),ct(e);else if(s(i))St(e);else if(o(i))e._d=new Date(i);else t.createFromInputFallback(e)}function kt(e,t,i,a,o){var c={};if(!0===i||!1===i)a=i,i=void 0;if(s(e)&&r(e)||n(e)&&0===e.length)e=void 0;return c._isAMomentObject=!0,c._useUTC=c._isUTC=o,c._l=i,c._i=e,c._f=t,c._strict=a,yt(c)}function Ot(e,t,i,n){return kt(e,t,i,n,!1)}function Lt(e,t){var i,s;if(1===t.length&&n(t[0]))t=t[0];if(!t.length)return Ot();for(i=t[0],s=1;s<t.length;++s)if(!t[s].isValid()||t[s][e](i))i=t[s];return i}function Nt(){return Lt("isBefore",[].slice.call(arguments,0))}function Et(){return Lt("isAfter",[].slice.call(arguments,0))}function wt(e){for(var t in e)if(-1===As.call(Qs,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<Qs.length;++n)if(e[Qs[n]]){if(i)return!1;if(parseFloat(e[Qs[n]])!==S(e[Qs[n]]))i=!0}return!0}function Ct(){return this._isValid}function Dt(){return Qt(NaN)}function qt(e){var t=W(e),i=t.year||0,n=t.quarter||0,s=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=wt(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*o*60*60,this._days=+a+7*r,this._months=+s+3*n+12*i,this._data={},this._locale=nt(),this._bubble()}function It(e){return e instanceof qt}function Bt(e){if(e<0)return-1*Math.round(-1*e);else return Math.round(e)}function xt(e,t){$(e,0,0,function(){var e=this.utcOffset(),i="+";if(e<0)e=-e,i="-";return i+X(~~(e/60),2)+t+X(~~e%60,2)})}function _t(e,t){var i=(t||"").match(e);if(null===i)return null;var n=i[i.length-1]||[],s=(n+"").match(Ys)||["-",0,0],r=60*s[1]+S(s[2]);return 0===r?0:"+"===s[0]?r:-r}function Wt(e,i){var n,s;if(i._isUTC)return n=i.clone(),s=(v(e)||c(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),t.updateOffset(n,!1),n;else return Ot(e).local()}function Rt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Pt(e,i,n){var s,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=_t(as,e)))return this}else if(Math.abs(e)<16&&!n)e*=60;if(!this._isUTC&&i)s=Rt(this);if(this._offset=e,this._isUTC=!0,null!=s)this.add(s,"m");if(r!==e)if(!i||this._changeInProgress)ii(this,Qt(e-r,"m"),1,!1);else if(!this._changeInProgress)this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null;return this}else return this._isUTC?r:Rt(this)}function Xt(e,t){if(null!=e){if("string"!=typeof e)e=-e;return this.utcOffset(e,t),this}else return-this.utcOffset()}function $t(e){return this.utcOffset(0,e)}function jt(e){if(this._isUTC)if(this.utcOffset(0,e),this._isUTC=!1,e)this.subtract(Rt(this),"m");return this}function Ut(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=_t(rs,this._i);if(null!=e)this.utcOffset(e);else this.utcOffset(0,!0)}return this}function Ht(e){if(!this.isValid())return!1;else return e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=Tt(e),e._a){var t=e._isUTC?p(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Vt(){return this.isValid()?!this._isUTC:!1}function Jt(){return this.isValid()?this._isUTC:!1}function Gt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Qt(e,t){var i,n,s,r=e,a=null;if(It(e))r={ms:e._milliseconds,d:e._days,M:e._months};else if(o(e))if(r={},t)r[t]=e;else r.milliseconds=e;else if(a=Zs.exec(e))i="-"===a[1]?-1:1,r={y:0,d:S(a[fs])*i,h:S(a[hs])*i,m:S(a[ms])*i,s:S(a[Ms])*i,ms:S(Bt(1e3*a[gs]))*i};else if(a=er.exec(e))i="-"===a[1]?-1:"+"===a[1]?1:1,r={y:Yt(a[2],i),M:Yt(a[3],i),w:Yt(a[4],i),d:Yt(a[5],i),h:Yt(a[6],i),m:Yt(a[7],i),s:Yt(a[8],i)};else if(null==r)r={};else if("object"==typeof r&&("from"in r||"to"in r))s=ei(Ot(r.from),Ot(r.to)),r={},r.ms=s.milliseconds,r.M=s.months;if(n=new qt(r),It(e)&&u(e,"_locale"))n._locale=e._locale;return n}function Yt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Zt(e,t){var i={milliseconds:0,months:0};if(i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t))--i.months;return i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function ei(e,t){var i;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};if(t=Wt(t,e),e.isBefore(t))i=Zt(e,t);else i=Zt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months;return i}function ti(e,t){return function(i,n){var s,r;if(null!==n&&!isNaN(+n))k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r;return i="string"==typeof i?+i:i,s=Qt(i,n),ii(this,s,e),this}}function ii(e,i,n,s){var r=i._milliseconds,a=Bt(i._days),o=Bt(i._months);if(e.isValid()){if(s=null==s?!0:s,o)he(e,se(e,"Month")+o*n);if(a)re(e,"Date",se(e,"Date")+a*n);if(r)e._d.setTime(e._d.valueOf()+r*n);if(s)t.updateOffset(e,a||o)}}function ni(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function si(e,i){var n=e||Ot(),s=Wt(n,this).startOf("day"),r=t.calendarFormat(this,s)||"sameElse",a=i&&(O(i[r])?i[r].call(this,n):i[r]);return this.format(a||this.localeData().calendar(r,this,Ot(n)))}function ri(){return new b(this)}function ai(e,t){var i=v(e)?e:Ot(e);if(!this.isValid()||!i.isValid())return!1;if("millisecond"===(t=_(!a(t)?t:"millisecond")))return this.valueOf()>i.valueOf();else return i.valueOf()<this.clone().startOf(t).valueOf()}function oi(e,t){var i=v(e)?e:Ot(e);if(!this.isValid()||!i.isValid())return!1;if("millisecond"===(t=_(!a(t)?t:"millisecond")))return this.valueOf()<i.valueOf();else return this.clone().endOf(t).valueOf()<i.valueOf()}function ci(e,t,i,n){return n=n||"()",("("===n[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))}function li(e,t){var i,n=v(e)?e:Ot(e);if(!this.isValid()||!n.isValid())return!1;if("millisecond"===(t=_(t||"millisecond")))return this.valueOf()===n.valueOf();else return i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()}function ui(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function di(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pi(e,t,i){var n,s,r;if(!this.isValid())return NaN;if(n=Wt(e,this),!n.isValid())return NaN;switch(s=6e4*(n.utcOffset()-this.utcOffset()),t=_(t)){case"year":r=fi(this,n)/12;break;case"month":r=fi(this,n);break;case"quarter":r=fi(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-s)/864e5;break;case"week":r=(this-n-s)/6048e5;break;default:r=this-n}return i?r:A(r)}function fi(e,t){var i,n,s=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(s,"months");if(t-r<0)i=e.clone().add(s-1,"months"),n=(t-r)/(r-i);else i=e.clone().add(s+1,"months"),n=(t-r)/(i-r);return-(s+n)||0}function hi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mi(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;if(i.year()<0||i.year()>9999)return H(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ");if(O(Date.prototype.toISOString))if(t)return this.toDate().toISOString();else return new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(i,"Z"));return H(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Mi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";if(!this.isLocal())e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z";var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s=t+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+s)}function gi(e){if(!e)e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat;var i=H(this,e);return this.localeData().postformat(i)}function bi(e,t){if(this.isValid()&&(v(e)&&e.isValid()||Ot(e).isValid()))return Qt({to:this,from:e}).locale(this.locale()).humanize(!t);else return this.localeData().invalidDate()}function vi(e){return this.from(Ot(),e)}function Ai(e,t){if(this.isValid()&&(v(e)&&e.isValid()||Ot(e).isValid()))return Qt({from:this,to:e}).locale(this.locale()).humanize(!t);else return this.localeData().invalidDate()}function Si(e){return this.to(Ot(),e)}function yi(e){var t;if(void 0===e)return this._locale._abbr;else{if(null!=(t=nt(e)))this._locale=t;return this}}function Ti(){return this._locale}function zi(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if("week"===e)this.weekday(0);if("isoWeek"===e)this.isoWeekday(1);if("quarter"===e)this.month(3*Math.floor(this.month()/3));return this}function ki(e){if(void 0===(e=_(e))||"millisecond"===e)return this;if("date"===e)e="day";return this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Oi(){return this._d.valueOf()-6e4*(this._offset||0)}function Li(){return Math.floor(this.valueOf()/1e3)}function Ni(){return new Date(this.valueOf())}function Ei(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ci(){return this.isValid()?this.toISOString():null}function Di(){return m(this)}function qi(){return d({},h(this))}function Ii(){return h(this).overflow}function Bi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xi(e,t){$(0,[e,e.length],0,t)}function _i(e){return Xi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Xi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ri(){return ke(this.year(),1,4)}function Pi(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function Xi(e,t,i,n,s){var r;if(null==e)return ze(this,n,s).year;else{if(r=ke(e,n,s),t>r)t=r;return $i.call(this,e,t,i,n,s)}}function $i(e,t,i,n,s){var r=Te(e,t,i,n,s),a=Se(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ui(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Hi(e,t){t[gs]=S(1e3*("0."+e))}function Fi(){return this._isUTC?"UTC":""}function Ki(){return this._isUTC?"Coordinated Universal Time":""}function Vi(e){return Ot(1e3*e)}function Ji(){return Ot.apply(null,arguments).parseZone()}function Gi(e){return e}function Qi(e,t,i,n){var s=nt(),r=p().set(n,t);return s[i](r,e)}function Yi(e,t,i){if(o(e))t=e,e=void 0;if(e=e||"",null!=t)return Qi(e,t,i,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Qi(e,n,i,"month");return s}function Zi(e,t,i,n){if("boolean"==typeof e){if(o(t))i=t,t=void 0;t=t||""}else{if(t=e,i=t,e=!1,o(t))i=t,t=void 0;t=t||""}var s=nt(),r=e?s._week.dow:0;if(null!=i)return Qi(t,(i+r)%7,n,"day");var a,c=[];for(a=0;a<7;a++)c[a]=Qi(t,(a+r)%7,n,"day");return c}function en(e,t){return Yi(e,t,"months")}function tn(e,t){return Yi(e,t,"monthsShort")}function nn(e,t,i){return Zi(e,t,i,"weekdays")}function sn(e,t,i){return Zi(e,t,i,"weekdaysShort")}function rn(e,t,i){return Zi(e,t,i,"weekdaysMin")}function an(){var e=this._data;return this._milliseconds=dr(this._milliseconds),this._days=dr(this._days),this._months=dr(this._months),e.milliseconds=dr(e.milliseconds),e.seconds=dr(e.seconds),e.minutes=dr(e.minutes),e.hours=dr(e.hours),e.months=dr(e.months),e.years=dr(e.years),this}function on(e,t,i,n){var s=Qt(t,i);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function cn(e,t){return on(this,e,t,1)}function ln(e,t){return on(this,e,t,-1)}function un(e){if(e<0)return Math.floor(e);else return Math.ceil(e)}function dn(){var e,t,i,n,s,r=this._milliseconds,a=this._days,o=this._months,c=this._data;if(!(r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0))r+=864e5*un(fn(o)+a),a=0,o=0;return c.milliseconds=r%1e3,e=A(r/1e3),c.seconds=e%60,t=A(e/60),c.minutes=t%60,i=A(t/60),c.hours=i%24,a+=A(i/24),s=A(pn(a)),o+=s,a-=un(fn(s)),n=A(o/12),o%=12,c.days=a,c.months=o,c.years=n,this}function pn(e){return 4800*e/146097}function fn(e){return 146097*e/4800}function hn(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=_(e))||"year"===e)return t=this._days+n/864e5,i=this._months+pn(t),"month"===e?i:i/12;else switch(t=this._days+Math.round(fn(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function mn(){if(!this.isValid())return NaN;else return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)}function Mn(e){return function(){return this.as(e)}}function gn(){return Qt(this)}function bn(e){return e=_(e),this.isValid()?this[e+"s"]():NaN}function vn(e){return function(){return this.isValid()?this._data[e]:NaN}}function An(){return A(this.days()/7)}function Sn(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function yn(e,t,i){var n=Qt(e).abs(),s=Lr(n.as("s")),r=Lr(n.as("m")),a=Lr(n.as("h")),o=Lr(n.as("d")),c=Lr(n.as("M")),l=Lr(n.as("y")),u=s<=Nr.ss&&["s",s]||s<Nr.s&&["ss",s]||r<=1&&["m"]||r<Nr.m&&["mm",r]||a<=1&&["h"]||a<Nr.h&&["hh",a]||o<=1&&["d"]||o<Nr.d&&["dd",o]||c<=1&&["M"]||c<Nr.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=i,Sn.apply(null,u)}function Tn(e){if(void 0===e)return Lr;if("function"==typeof e)return Lr=e,!0;else return!1}function zn(e,t){if(void 0===Nr[e])return!1;if(void 0===t)return Nr[e];if(Nr[e]=t,"s"===e)Nr.ss=t-1;return!0}function kn(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=yn(this,!e,t);if(e)i=t.pastFuture(+this,i);return t.postformat(i)}function On(e){return(e>0)-(e<0)||+e}function Ln(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n=Er(this._milliseconds)/1e3,s=Er(this._days),r=Er(this._months);e=A(n/60),t=A(e/60),n%=60,e%=60,i=A(r/12),r%=12;var a=i,o=r,c=s,l=t,u=e,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var f=p<0?"-":"",h=On(this._months)!==On(p)?"-":"",m=On(this._days)!==On(p)?"-":"",M=On(this._milliseconds)!==On(p)?"-":"";return f+"P"+(a?h+a+"Y":"")+(o?h+o+"M":"")+(c?m+c+"D":"")+(l||u||d?"T":"")+(l?M+l+"H":"")+(u?M+u+"M":"")+(d?M+d+"S":"")}var Nn,En;if(Array.prototype.some)En=Array.prototype.some;else En=function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var wn=t.momentProperties=[],Cn=!1,Dn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var qn;if(Object.keys)qn=Object.keys;else qn=function(e){var t,i=[];for(t in e)if(u(e,t))i.push(t);return i};var In={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Bn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xn="Invalid date",_n="%d",Wn=/\d{1,2}/,Rn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Pn={},Xn={},$n=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,jn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Un={},Hn={},Fn=/\d/,Kn=/\d\d/,Vn=/\d{3}/,Jn=/\d{4}/,Gn=/[+-]?\d{6}/,Qn=/\d\d?/,Yn=/\d\d\d\d?/,Zn=/\d\d\d\d\d\d?/,es=/\d{1,3}/,ts=/\d{1,4}/,is=/[+-]?\d{1,6}/,ns=/\d+/,ss=/[+-]?\d+/,rs=/Z|[+-]\d\d:?\d\d/gi,as=/Z|[+-]\d\d(?::?\d\d)?/gi,os=/[+-]?\d+(\.\d{1,3})?/,cs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ls={},us={},ds=0,ps=1,fs=2,hs=3,ms=4,Ms=5,gs=6,bs=7,vs=8;$("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),x("year","y"),R("year",1),K("Y",ss),K("YY",Qn,Kn),K("YYYY",ts,Jn),K("YYYYY",is,Gn),K("YYYYYY",is,Gn),Q(["YYYYY","YYYYYY"],ds),Q("YYYY",function(e,i){i[ds]=2===e.length?t.parseTwoDigitYear(e):S(e)}),Q("YY",function(e,i){i[ds]=t.parseTwoDigitYear(e)}),Q("Y",function(e,t){t[ds]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var As,Ss=ne("FullYear",!0);if(Array.prototype.indexOf)As=Array.prototype.indexOf;else As=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),$("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),R("month",8),K("M",Qn),K("MM",Qn,Kn),K("MMM",function(e,t){return t.monthsShortRegex(e)}),K("MMMM",function(e,t){return t.monthsRegex(e)}),Q(["M","MM"],function(e,t){t[ps]=S(e)-1}),Q(["MMM","MMMM"],function(e,t,i,n){var s=i._locale.monthsParse(e,n,i._strict);if(null!=s)t[ps]=s;else h(i).invalidMonth=e});var ys=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ts="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),zs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ks=cs,Os=cs;$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),R("week",5),R("isoWeek",5),K("w",Qn),K("ww",Qn,Kn),K("W",Qn),K("WW",Qn,Kn),Y(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=S(e)});var Ls={dow:0,doy:6};$("d",0,"do","day"),$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),K("d",Qn),K("e",Qn),K("E",Qn),K("dd",function(e,t){return t.weekdaysMinRegex(e)}),K("ddd",function(e,t){return t.weekdaysShortRegex(e)}),K("dddd",function(e,t){return t.weekdaysRegex(e)}),Y(["dd","ddd","dddd"],function(e,t,i,n){var s=i._locale.weekdaysParse(e,n,i._strict);if(null!=s)t.d=s;else h(i).invalidWeekday=e}),Y(["d","e","E"],function(e,t,i,n){t[n]=S(e)});var Ns="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Es="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ws="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cs=cs,Ds=cs,qs=cs;$("H",["HH",2],0,"hour"),$("h",["hh",2],0,He),$("k",["kk",2],0,Fe),$("hmm",0,0,function(){return""+He.apply(this)+X(this.minutes(),2)}),$("hmmss",0,0,function(){return""+He.apply(this)+X(this.minutes(),2)+X(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+X(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+X(this.minutes(),2)+X(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),x("hour","h"),R("hour",13),K("a",Ve),K("A",Ve),K("H",Qn),K("h",Qn),K("k",Qn),K("HH",Qn,Kn),K("hh",Qn,Kn),K("kk",Qn,Kn),K("hmm",Yn),K("hmmss",Zn),K("Hmm",Yn),K("Hmmss",Zn),Q(["H","HH"],hs),Q(["k","kk"],function(e,t,i){var n=S(e);t[hs]=24===n?0:n}),Q(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),Q(["h","hh"],function(e,t,i){t[hs]=S(e),h(i).bigHour=!0}),Q("hmm",function(e,t,i){var n=e.length-2;t[hs]=S(e.substr(0,n)),t[ms]=S(e.substr(n)),h(i).bigHour=!0}),Q("hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[hs]=S(e.substr(0,n)),t[ms]=S(e.substr(n,2)),t[Ms]=S(e.substr(s)),h(i).bigHour=!0}),Q("Hmm",function(e,t,i){var n=e.length-2;t[hs]=S(e.substr(0,n)),t[ms]=S(e.substr(n))}),Q("Hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[hs]=S(e.substr(0,n)),t[ms]=S(e.substr(n,2)),t[Ms]=S(e.substr(s))});var Is,Bs=/[ap]\.?m?\.?/i,xs=ne("Hours",!0),_s={calendar:In,longDateFormat:Bn,invalidDate:xn,ordinal:_n,dayOfMonthOrdinalParse:Wn,relativeTime:Rn,months:Ts,monthsShort:zs,week:Ls,weekdays:Ns,weekdaysMin:ws,weekdaysShort:Es,meridiemParse:Bs},Ws={},Rs={},Ps=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xs=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$s=/Z|[+-]\d\d(?::?\d\d)?/,js=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Us=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hs=/^\/?Date\((\-?\d+)/i,Fs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ks={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Vs=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);if(this.isValid()&&e.isValid())return e<this?this:e;else return M()}),Js=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);if(this.isValid()&&e.isValid())return e>this?this:e;else return M()}),Gs=function(){return Date.now?Date.now():+new Date},Qs=["year","quarter","month","week","day","hour","minute","second","millisecond"];xt("Z",":"),xt("ZZ",""),K("Z",as),K("ZZ",as),Q(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=_t(as,e)});var Ys=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Zs=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qt.fn=qt.prototype,Qt.invalid=Dt;var tr=ti(1,"add"),ir=ti(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nr=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(void 0===e)return this.localeData();else return this.locale(e)});$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xi("gggg","weekYear"),xi("ggggg","weekYear"),xi("GGGG","isoWeekYear"),xi("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),K("G",ss),K("g",ss),K("GG",Qn,Kn),K("gg",Qn,Kn),K("GGGG",ts,Jn),K("gggg",ts,Jn),K("GGGGG",is,Gn),K("ggggg",is,Gn),Y(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=S(e)}),Y(["gg","GG"],function(e,i,n,s){i[s]=t.parseTwoDigitYear(e)}),$("Q",0,"Qo","quarter"),x("quarter","Q"),R("quarter",7),K("Q",Fn),Q("Q",function(e,t){t[ps]=3*(S(e)-1)}),$("D",["DD",2],"Do","date"),x("date","D"),R("date",9),K("D",Qn),K("DD",Qn,Kn),K("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],fs),Q("Do",function(e,t){t[fs]=S(e.match(Qn)[0])});var sr=ne("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),R("dayOfYear",4),K("DDD",es),K("DDDD",Vn),Q(["DDD","DDDD"],function(e,t,i){i._dayOfYear=S(e)}),$("m",["mm",2],0,"minute"),x("minute","m"),R("minute",14),K("m",Qn),K("mm",Qn,Kn),Q(["m","mm"],ms);var rr=ne("Minutes",!1);$("s",["ss",2],0,"second"),x("second","s"),R("second",15),K("s",Qn),K("ss",Qn,Kn),Q(["s","ss"],Ms);var ar=ne("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),x("millisecond","ms"),R("millisecond",16),K("S",es,Fn),K("SS",es,Kn),K("SSS",es,Vn);var or;for(or="SSSS";or.length<=9;or+="S")K(or,ns);for(or="S";or.length<=9;or+="S")Q(or,Hi);var cr=ne("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var lr=b.prototype;lr.add=tr,lr.calendar=si,lr.clone=ri,lr.diff=pi,lr.endOf=ki,lr.format=gi,lr.from=bi,lr.fromNow=vi,lr.to=Ai,lr.toNow=Si,lr.get=ae,lr.invalidAt=Ii,lr.isAfter=ai,lr.isBefore=oi,lr.isBetween=ci,lr.isSame=li,lr.isSameOrAfter=ui,lr.isSameOrBefore=di,lr.isValid=Di,lr.lang=nr,lr.locale=yi,lr.localeData=Ti,lr.max=Js,lr.min=Vs,lr.parsingFlags=qi,lr.set=oe,lr.startOf=zi,lr.subtract=ir,lr.toArray=Ei,lr.toObject=wi,lr.toDate=Ni,lr.toISOString=mi,lr.inspect=Mi,lr.toJSON=Ci,lr.toString=hi,lr.unix=Li,lr.valueOf=Oi,lr.creationData=Bi,lr.year=Ss,lr.isLeapYear=ie,lr.weekYear=_i,lr.isoWeekYear=Wi,lr.quarter=lr.quarters=ji,lr.month=me,lr.daysInMonth=Me,lr.week=lr.weeks=Ee,lr.isoWeek=lr.isoWeeks=we,lr.weeksInYear=Pi,lr.isoWeeksInYear=Ri,lr.date=sr,lr.day=lr.days=We,lr.weekday=Re,lr.isoWeekday=Pe,lr.dayOfYear=Ui,lr.hour=lr.hours=xs,lr.minute=lr.minutes=rr,lr.second=lr.seconds=ar,lr.millisecond=lr.milliseconds=cr,lr.utcOffset=Pt,lr.utc=$t,lr.local=jt,lr.parseZone=Ut,lr.hasAlignedHourOffset=Ht,lr.isDST=Ft,lr.isLocal=Vt,lr.isUtcOffset=Jt,lr.isUtc=Gt,lr.isUTC=Gt,lr.zoneAbbr=Fi,lr.zoneName=Ki,lr.dates=z("dates accessor is deprecated. Use date instead.",sr),lr.months=z("months accessor is deprecated. Use month instead",me),lr.years=z("years accessor is deprecated. Use year instead",Ss),lr.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Xt),lr.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kt);var ur=E.prototype;ur.calendar=w,ur.longDateFormat=C,ur.invalidDate=D,ur.ordinal=q,ur.preparse=Gi,ur.postformat=Gi,ur.relativeTime=I,ur.pastFuture=B,ur.set=L,ur.months=ue,ur.monthsShort=de,ur.monthsParse=fe,ur.monthsRegex=be,ur.monthsShortRegex=ge,ur.week=Oe,ur.firstDayOfYear=Ne,ur.firstDayOfWeek=Le,ur.weekdays=qe,ur.weekdaysMin=Be,ur.weekdaysShort=Ie,ur.weekdaysParse=_e,ur.weekdaysRegex=Xe,ur.weekdaysShortRegex=$e,ur.weekdaysMinRegex=je,ur.isPM=Je,ur.meridiem=Ge,et("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=z("moment.lang is deprecated. Use moment.locale instead.",et),t.langData=z("moment.langData is deprecated. Use moment.localeData instead.",nt);var dr=Math.abs,pr=Mn("ms"),fr=Mn("s"),hr=Mn("m"),mr=Mn("h"),Mr=Mn("d"),gr=Mn("w"),br=Mn("M"),vr=Mn("y"),Ar=vn("milliseconds"),Sr=vn("seconds"),yr=vn("minutes"),Tr=vn("hours"),zr=vn("days"),kr=vn("months"),Or=vn("years"),Lr=Math.round,Nr={ss:44,s:45,m:45,h:22,d:26,M:11},Er=Math.abs,wr=qt.prototype;return wr.isValid=Ct,wr.abs=an,wr.add=cn,wr.subtract=ln,wr.as=hn,wr.asMilliseconds=pr,wr.asSeconds=fr,wr.asMinutes=hr,wr.asHours=mr,wr.asDays=Mr,wr.asWeeks=gr,wr.asMonths=br,wr.asYears=vr,wr.valueOf=mn,wr._bubble=dn,wr.clone=gn,wr.get=bn,wr.milliseconds=Ar,wr.seconds=Sr,wr.minutes=yr,wr.hours=Tr,wr.days=zr,wr.weeks=An,wr.months=kr,wr.years=Or,wr.humanize=kn,wr.toISOString=Ln,wr.toString=Ln,wr.toJSON=Ln,wr.locale=yi,wr.localeData=Ti,wr.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ln),wr.lang=nr,$("X",0,0,"unix"),$("x",0,0,"valueOf"),K("x",ss),K("X",os),Q("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),Q("x",function(e,t,i){i._d=new Date(S(e))}),t.version="2.22.2",i(Ot),t.fn=lr,t.min=Nt,t.max=Et,t.now=Gs,t.utc=p,t.unix=Vi,t.months=en,t.isDate=c,t.locale=et,t.invalid=M,t.duration=Qt,t.isMoment=v,t.weekdays=nn,t.parseZone=Ji,t.localeData=nt,t.isDuration=It,t.monthsShort=tn,t.weekdaysMin=rn,t.defineLocale=tt,t.updateLocale=it,t.locales=st,t.weekdaysShort=sn,t.normalizeUnits=_,t.relativeTimeRounding=Tn,t.relativeTimeThreshold=zn,t.calendarFormat=ni,t.prototype=lr,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t})}).call(t,i(76)(e))},,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.InternalApi)ServiceDesk.InternalApi={};if(void 0===ServiceDesk.InternalApi.Feature)ServiceDesk.InternalApi.Feature={};if(void 0===ServiceDesk.InternalApi.Feature.KBArticleLink)ServiceDesk.InternalApi.Feature.KBArticleLink={};if(ServiceDesk.InternalApi.Feature.KBArticleLink.link=function(e,t){return'<a title="'+soy.$$filterNoAutoescape(e.titleHtml)+'" href="'+soy.$$escapeHtml(e.href)+'" class="js-sd-kb-article-link sd-kb-article-link js-cv-smart-portal-kb-article">'+soy.$$filterNoAutoescape(e.titleWithHighlightsHtml)+"</a>"+(!e.shareable?'<div class="sd-not-shareable-container"><span class="aui-icon aui-icon-small aui-iconfont-locked sd-not-shareable js-not-shareable js-tooltip" title="'+soy.$$escapeHtml("This article is restricted. Only people with permission can view it.")+"\">getText('sd.knowledge.base.agent.article.not.shareable')</span></div>":"")},goog.DEBUG)ServiceDesk.InternalApi.Feature.KBArticleLink.link.soyTemplateName="ServiceDesk.InternalApi.Feature.KBArticleLink.link";n=[],void 0!==(s=function(){return ServiceDesk.InternalApi.Feature.KBArticleLink}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.InternalApi)ServiceDesk.InternalApi={};if(void 0===ServiceDesk.InternalApi.Feature)ServiceDesk.InternalApi.Feature={};if(void 0===ServiceDesk.InternalApi.Feature.KBPageViewer)ServiceDesk.InternalApi.Feature.KBPageViewer={};if(void 0===ServiceDesk.InternalApi.Feature.KBPageViewer.CopyEdit)ServiceDesk.InternalApi.Feature.KBPageViewer.CopyEdit={};if(ServiceDesk.InternalApi.Feature.KBPageViewer.CopyEdit.copyEditFooter=function(e,t){return'<div class="kb-dialog-copy-edit-footer-buttons">'+aui.buttons.button({text:"Edit page",extraClasses:"sd-kb-edit-article js-sd-kb-edit-article",href:e.editUrl,extraAttributes:{target:"_blank"}})+'<div class="share-url-copy-text-container">'+aui.buttons.button({text:"Copy link",extraClasses:"sd-kb-copy-link js-sd-kb-copy-link"})+"</div>"+aui.icons.icon({useIconFont:!0,size:"small",icon:"approve",extraClasses:"kb-dialog-copy-edit-footer-success-icon fadeOut"})+"</div>"},goog.DEBUG)ServiceDesk.InternalApi.Feature.KBPageViewer.CopyEdit.copyEditFooter.soyTemplateName="ServiceDesk.InternalApi.Feature.KBPageViewer.CopyEdit.copyEditFooter";n=[i(18),i(39)],void 0!==(s=function(){return ServiceDesk.InternalApi.Feature.KBPageViewer.CopyEdit}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.InternalApi)ServiceDesk.InternalApi={};if(void 0===ServiceDesk.InternalApi.Feature)ServiceDesk.InternalApi.Feature={};if(void 0===ServiceDesk.InternalApi.Feature.KBPageViewer)ServiceDesk.InternalApi.Feature.KBPageViewer={};if(ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog=function(e,t){return'<section role="dialog" class="aui-layer aui-dialog2 aui-dialog2-xlarge sd-kb-pageviewer-dialog js-kb-pageviewer-dialog" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$filterNoAutoescape(e.titleHtml)+'</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a></header><div class="aui-dialog2-content kb-view-panel js-kb-view-panel">'+(e.error?ServiceDesk.InternalApi.Feature.KBPageViewer.kbError(e):'<iframe class="kb-view-iframe hidden" src="'+soy.$$escapeHtml(e.confluencePageUrl)+'" frameBorder="0"></iframe><span class="sd-spinner-large"></span>')+'</div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-link js-dialog-close-button">'+soy.$$escapeHtml("Close")+'</button></div><div class="aui-dialog2-footer-hint kb-dialog-footer js-kb-dialog-footer"></div></footer></section>'},goog.DEBUG)ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog.soyTemplateName="ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog";if(ServiceDesk.InternalApi.Feature.KBPageViewer.kbError=function(e,t){return'<div class="kb-error-panel"><p class="kb-error-message">'+soy.$$escapeHtml(e.error)+"</p><br />"+aui.buttons.button({type:"primary",href:e.kbSettingsUrl,text:"Manage knowledge base settings"})+"</div>"},goog.DEBUG)ServiceDesk.InternalApi.Feature.KBPageViewer.kbError.soyTemplateName="ServiceDesk.InternalApi.Feature.KBPageViewer.kbError";n=[i(18)],void 0!==(s=function(){return ServiceDesk.InternalApi.Feature.KBPageViewer}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.InternalApi)ServiceDesk.InternalApi={};if(void 0===ServiceDesk.InternalApi.Feature)ServiceDesk.InternalApi.Feature={};if(void 0===ServiceDesk.InternalApi.Feature.QuickCopyText)ServiceDesk.InternalApi.Feature.QuickCopyText={};if(ServiceDesk.InternalApi.Feature.QuickCopyText.input=function(e,t){return'<form class="aui quick-copy-dummy-form js-quick-copy-dummy-form"><input type="text" class="text js-quick-copy-text sd-quick-copy-text" readonly="readonly" value="'+soy.$$escapeHtml(e.text)+'"/></form>'},goog.DEBUG)ServiceDesk.InternalApi.Feature.QuickCopyText.input.soyTemplateName="ServiceDesk.InternalApi.Feature.QuickCopyText.input";n=[],void 0!==(s=function(){return ServiceDesk.InternalApi.Feature.QuickCopyText}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(2),i(0),i(50),i(187),i(4),i(286),i(296)],void 0!==(s=function(e,t,i,n,s){var r=".kb-dialog-copy-edit-footer-success-icon";return e.View.extend({template:ServiceDesk.InternalApi.Feature.KBPageViewer.CopyEdit.copyEditFooter,EVENTS:{COPY_LINK_CLICKED:"copyLinkClicked",EDIT_ARTICLE_CLICKED:"editArticleClicked"},events:{"click .js-sd-kb-copy-link":"_copyLinkClicked","click .js-sd-kb-edit-article":"_editArticleClicked"},initialize:function(e,t){this.appLinkUrl=e.appLinkUrl,this.pageId=e.id,this.inPageUrl=e.inPageUrl,this.analyticPrefix=t},render:function(){this.$el.html(this.template({editUrl:i.getEditConfluencePageLink(this.appLinkUrl,this.pageId)}));var e=n.create(this.inPageUrl);this.copyTextInput=e.find("input"),this.$(".share-url-copy-text-container").prepend(e)},_copyLinkClicked:function(){this.copyTextInput.focus(),this.copyTextInput.select();try{if(document.execCommand("copy"))this._showSuccessIcon()}catch(e){}s.trackEvent(this.analyticPrefix+".article.dialog.copy.clicked"),this.trigger(this.COPY_LINK_CLICKED)},_editArticleClicked:function(){s.trackEvent(this.analyticPrefix+".article.dialog.edit.clicked"),this.trigger(this.EDIT_ARTICLE_CLICKED)},_showSuccessIcon:function(){this.$(r).removeClass("fadeOut"),this._hideSuccessIcon()},_hideSuccessIcon:t.debounce(function(){this.$(r).addClass("fadeOut")},2500)})}.apply(t,n))&&(e.exports=s)},,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){e.exports=window.require("atlassian/libs/moment-2.10.3")},function(e,t,i){var n,s;n=[i(1),t],void 0!==(s=function(e,t){function i(t){e(document).attr("atlHidden",t)}function n(){return u.attr("atlHidden")===c}function s(e){return u.on(a,e),{remove:function(){u.off(a,e)}}}var r=void 0,a=void 0,o="hidden",c="visible",l="atlvisibilitychange",u=e(document);if(void 0!==document.hidden)a="visibilitychange",r="visibilityState";else if(void 0!==document.mozHidden)a="mozvisibilitychange",r="mozVisibilityState";else if(void 0!==document.msHidden)a="msvisibilitychange",r="msVisibilityState";else if(void 0!==document.webkitHidden)a="webkitvisibilitychange",r="webkitVisibilityState";else if(a=l,r="atlVisibilityState",document.createEvent){var d=document.createEvent("Event");d.initEvent(a,!1,!1);var p=e(window);p.focus(function(){i(c),u.trigger(d)}),p.blur(function(){i(o),u.trigger(d)})}var f=function(){i(document[r])};if(a!==l)f(),u.on(a,f);else if(document.hasFocus)i(document.hasFocus()?c:o);else i(c);t.HIDDEN=o,t.VISIBLE=c,t.isPageVisible=n,t.addVisibilityChangeEventListener=s}.apply(t,n))&&(e.exports=s)},,,,function(e,t,i){var n,s;n=[i(2),i(0),i(306)],void 0!==(s=function(e,t,i){return e.Collection.extend({model:i,initialize:function(){this.on("editingStarted",this._handleEditingStarted,this)},_handleEditingStarted:function(e,t){if(t=t||{},!t.ignoreBlur)this.each(function(t){if(e!==t&&!t.getSaving()&&t.getEditing())t.blurEdit()})},cancelEdit:function(){this.invoke("cancelEdit")}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(10),i(2),i(123),i(86),i(17)],void 0!==(s=function(e,t,i,n,s,r,a){return r.install(),n.Model.extend({namedEvents:["editingStarted","focusRequested","editingCancelled","saveError","savingStarted","saveComplete","saveSuccess","updateRequired","validationError","modelDestroyed"],namedAttributes:["id","selector","initParams","params","editDecorator","editView","readView","selectAll","save","fieldType","viewHtml","editing","saving","error"],initialize:function(){if(this.collection){var e=this;this.collection.on("reset",function(){e.triggerModelDestroyed()})}},blurEdit:function(){if(this.getEditing())if(this.isDirty())this.save();else this.cancelEdit()},setValidationError:function(e){this.edit({ignoreBlur:!0}),this.triggerSaveError(e)},cancelEdit:function(t){if(!this.cancelLocked){var i=new e.Event(s.Events.BEFORE_INLINE_EDIT_CANCEL);if(e(AJS).trigger(i,[this.getId(),this.getFieldType(),t]),!i.isDefaultPrevented()){if(this.cancelLocked=!0,this.getEditing()||this.getSaving())this.setEditing(!1),this.setSaving(!1),this.unset("params"),this.unset("initParams"),this.triggerEditingCancelled(),this.unset("viewHtml");delete this.cancelLocked}}},edit:function(e){if(!this.getEditing())this.setEditing(!0),this.triggerEditingStarted(this,e);else if(!e||!e.ignoreBlur)this.triggerFocusRequested(this,e)},getCurrentParams:function(){return this.triggerUpdateRequired(),this.getParams()},hasValidationError:function(){return!!this.getError()},switchElToEdit:function(e){var t=this.getEditView()(e);if(!this.getViewHtml())this.setViewHtml(e.contents());if(e.contents().detach(),e.html(ServiceDesk.Templates.InlineEdit.field({editHtml:t,modifierKey:AJS.Navigator&&AJS.Navigator.modifierKey()})),this.getEditDecorator())this.getEditDecorator()(e);if(!this.getInitParams())this.setInitParams(e.sdSerializeObject());this.setEditing(!0)},update:function(e){if(this.getEditing())this.setParams(e.sdSerializeObject())},handleSaveSuccess:function(e){this.setEditing(!1),this.setViewHtml(e),this.unset("initParams"),this.setError(null),this.triggerSaveSuccess()},save:function(){if(!this.getSaving()){this.setSaving(!0);var e=this.getCurrentParams();this.triggerSavingStarted(),this.getSave()(e).done(t.bind(function(t){this.handleSaveSuccess(this.getReadView()(e,t))},this)).fail(t.bind(function(e){try{this.setError(!0),this.setValidationError(this.transformResponseToNeededShape(e),!0)}catch(e){window.location.reload()}},this)).always(t.bind(function(){this.setSaving(!1),a("sd.inline.edit.save.complete")},this))}},isDirty:function(){if(this.getEditing())return JSON.stringify(this.getCurrentParams())!==JSON.stringify(this.getInitParams());else return!1},transformResponseToNeededShape:function(e){var t=JSON.parse(e.responseText);if(t.errors&&t.errors[0]&&t.errors[0].errorMessage){var i=t.errors[0].errorMessage,n={};return n[this.getId()]=i,n}return t}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(123),i(3),i(17),i(121),i(138)],void 0!==(s=function(e,t,i,n,s,r){return i.View.extend({events:{"click .cancel":"onClickCancel",keyup:"onKeyUp","click .submit":"onSubmit",click:"onEdit",mousedown:"saveSelectedText","submit form":"onSubmit",'keydown select[multiple="multiple"]':"_enterToSubmitMultiSelect","keypress select":"_enterToSubmitSelect","beforeBlurInput *":"_preventBlurByEsc"},initialize:function(){this.model.on("editingStarted",this.switchToEdit,this),this.model.on("focusRequested",this.focus,this),this.model.on("editingCancelled",this.switchToRead,this),this.model.on("saveError",this.handleValidationError,this),this.model.on("updateRequired",this.updateModel,this),this.model.on("savingStarted",this.handleSavingStarted,this),this.model.on("saveSuccess",function(){this.switchToRead(),this.decorate(),this.model.setViewHtml(this.$el.contents())},this),this.decorate(),this._editDelay=0,e(AJS).on(n.Events.INLINE_EDIT_BLURRED,t.bind(function(e,t){if(t===this.model.getSelector())this._onPossibleBlur()},this)),e(AJS).on(n.Events.INLINE_EDIT_REQUESTED,t.bind(function(e,t){if(t!==this.model.getSelector()&&0!==this._editDelay)clearTimeout(this._editDelay),this._editDelay=0},this))},decorate:function(){this.$el.addClass("sd-editable-field inactive");var e=document.createElement("span");e.className="overlay-icon aui-icon-small aui-iconfont-edit",this.el.appendChild(e),this._addToolTip()},getEditElements:function(){return this.$(".inline-edit-fields")},_addToolTip:function(){this.$el.attr("title","Click to edit"),e("a:not([title])",this.$el).attr("title","Follow link")},_removeToolTip:function(){this.$el.removeAttr("title")},_stealAccessKeys:function(){e("[accessKey='"+"s"+"']").attr("accessKey","_s"),e("[accessKey='"+"`"+"']").attr("accessKey","_x")},_returnAccessKeys:function(){e("[accessKey=_s]").attr("accessKey","s"),e("[accessKey=_x]").attr("accessKey","`")},_handleEditingStarted:function(){var t=this.$(".field-tools");if(e(AJS).trigger(n.Events.INLINE_EDIT_STARTED,[this.model.getSelector(),this.model.getFieldType(),this.getEditElements(),this.$el]),!this.$(".error").size())this.$("select.aui-ss-select").each(function(){var t=e(this);if(t.data("static-suggestions"))t.trigger("showSuggestions")});this.$(".save-options").attr("tabindex",1).prepend(t),r("sd.inline.edit.started")},handleValidationError:function(e,i){this.$(":input").removeAttr("disabled"),this.$el.removeClass("saving saving-"+this.model.id),this.$(".error").remove(),t.each(e,t.bind(function(e,t){this.$(":input[name="+t+"]").parent().append("<div class='error'>"+e+"</div>")},this)),this.$(".error").addClass("inline-edit-error").attr("data-field",this.model.id),this._handleEditingStarted(i),this.$(":input:visible:first").focus()},handleSavingStarted:function(){this.$(":input").attr("disabled","disabled").trigger("disable"),this.$el.addClass("saving saving-"+this.model.id)},updateModel:function(){this.model.update(this.$el)},reveal:function(){var e=40;if(this.$el.scrollIntoView)this.$el.scrollIntoView({direction:"y",marginBottom:e,marginTop:e});else this.$el[0].scrollIntoView({direction:"y",marginBottom:e,marginTop:e});this.$el.trigger("reveal")},focus:function(){if(this.reveal(),this.$(":input").removeAttr("disabled"),0===e(".aui-blanket").length){var t=this.$(":input:visible:first");if(t.focus(),!1!==this.model.getSelectAll())t.select()}},switchToEdit:function(){this._stealAccessKeys(),this._removeToolTip(),this.$el.removeClass("inactive saving").addClass("active"),this.model.switchElToEdit(this.$el),this._handleEditingStarted(),this.focus()},switchToRead:function(){this._addToolTip(),this.$el.addClass("inactive").removeClass("active saving"),this.$el.html(this.model.getViewHtml()),this.$el.closest("form").unbind("submit",this.onSubmit),this._returnAccessKeys()},onKeyUp:function(e){if(27===e.keyCode)this.model.cancelEdit(n.CANCEL_REASON.escPressed),e.preventDefault();if(9===e.keyCode)this.onEdit(e),e.preventDefault()},onClickCancel:function(e){this.model.cancelEdit(),e.preventDefault()},onSubmit:function(t){var i=new e.Event("before-submit");if(this.$("form").trigger(i),!i.isDefaultPrevented())this.$(":focus").blur(),this.model.save(),this._returnAccessKeys();t.preventDefault()},onEdit:function(t){var i=e(t.target).is(".overlay-icon.aui-iconfont-edit"),s=0===e(t.target).closest("a, .uneditable").length&&this.$el.hasClass("inactive"),r=""===this._getCurrentlySelectedText()&&!this._previouslySelectedText,a="keyup"===t.type,o=s&&(a||i||r);if(0!==this._editDelay)clearTimeout(this._editDelay),this._editDelay=0;else if(o){e(AJS).trigger(n.Events.INLINE_EDIT_REQUESTED,[this.model.getSelector()]);var c=this;if(a)c.model.edit();else if(i)e(document).one("click",function(e){if(!e.isDefaultPrevented())c.model.edit()});else this._editDelay=setTimeout(function(){if(!t.isDefaultPrevented()&&c.$el.hasClass("inactive")&&""===c._getCurrentlySelectedText())c.model.edit();c._editDelay=0},250)}},_onPossibleBlur:function(){if(!this.model.getSaving())if(!(e(".aui-blanket").length>0))this.model.blurEdit()},_preventBlurByEsc:function(e){e.preventDefault()},_getCurrentlySelectedText:function(){if(e(document.activeElement).is(":input"))return"";if(document.selection&&document.selection.createRange)return document.selection.createRange().text||"";if(window.getSelection)return window.getSelection().toString();else return""},_enterToSubmitSelect:function(t){if(!t.isDefaultPrevented())if(13===t.which)t.preventDefault(),e(t.target).closest("form").submit()},_enterToSubmitMultiSelect:function(t){if(!t.isDefaultPrevented())if(13===t.which)e(t.target).blur()},saveSelectedText:function(){this._previouslySelectedText=this._getCurrentlySelectedText()}})}.apply(t,n))&&(e.exports=s)},function(e,t){e.exports=window.require("atlassian/libs/d3-3.5.5")},,function(e,t){e.exports=window.require("jira/analytics/embedded-product-resolver")},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.InternalApi)ServiceDesk.InternalApi={};if(void 0===ServiceDesk.InternalApi.Feature)ServiceDesk.InternalApi.Feature={};if(void 0===ServiceDesk.InternalApi.Feature.SpaceSingleSelect)ServiceDesk.InternalApi.Feature.SpaceSingleSelect={};if(ServiceDesk.InternalApi.Feature.SpaceSingleSelect.select=function(e,t){return'<select class="select" name="'+soy.$$escapeHtml(e.name)+'"><option value="default" data-placeholder="true">'+soy.$$escapeHtml(e.placeholder)+"</option></select>"},goog.DEBUG)ServiceDesk.InternalApi.Feature.SpaceSingleSelect.select.soyTemplateName="ServiceDesk.InternalApi.Feature.SpaceSingleSelect.select";if(ServiceDesk.InternalApi.Feature.SpaceSingleSelect.selectFooter=function(e,t){var i="";return i+='<div class="aui-list js-kb-space-select-footer sd-space-select-footer"><ul class="aui-list-section"><li class="aui-list-item">'+soy.$$filterNoAutoescape(AJS.format("Can\'\'t find your space? {0}Learn why{1}",'<a target="_blank" href="https://confluence.atlassian.com/display/SERVICEDESKCLOUD/serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-nospace">',"</a>"))+"</li></ul></div>"},goog.DEBUG)ServiceDesk.InternalApi.Feature.SpaceSingleSelect.selectFooter.soyTemplateName="ServiceDesk.InternalApi.Feature.SpaceSingleSelect.selectFooter";n=[],void 0!==(s=function(){return ServiceDesk.InternalApi.Feature.SpaceSingleSelect}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(26),i(43),i(7),i(6),i(3),i(311),i(319)],void 0!==(s=function(e,t,i,n,s,r,a){function o(i,n){e(i).trigger("xhr-error",t.extend(n,r.getErrorCollection(n)))}function c(){return new AJS.GroupDescriptor({weight:1,label:"Space"})}function l(e){return new AJS.ItemDescriptor({value:e.key,label:e.name,title:e.name,meta:{spaceUrl:t.findWhere(e.link,{type:b}).href}})}function u(e,t){return new AJS.ItemDescriptor({value:t.spaceKey,label:t.spaceName,title:t.spaceName,meta:{spaceUrl:e.appLinkUrl+t.href}})}function d(e,i){var n=c();t.each(i.result,function(e){var t=l(e);n.addItem(t)});var s=t.first(i.contentNameMatches);if(s)t.each(s,function(t){if(t.spaceKey){var i=u(e,t);n.addItem(i)}});return[n]}function p(e,i){var s=t.extend(v,{element:i,ajaxOptions:{url:e.url.bind(e),error:function(t){return o(e,t)},formatResponse:function(t){return d(e,t)},query:!0}});return new n(s)}function f(e){var t=e.dropdownController.$content.find(".aui-list-scroll");if(0===t.find(g).size())t.append(M.selectFooter()),t.find(g).click(function(e){return e.stopPropagation()})}function h(e){e.showSuggestions=t.wrap(e.showSuggestions,function(t){t.call(e),f(e)})}function m(e){return{key:e.value(),name:e.label(),url:e.meta().spaceUrl}}var M=ServiceDesk.InternalApi.Feature.SpaceSingleSelect,g=".js-kb-space-select-footer",b="text/html",v={itemAttrDisplayed:"label",width:250,revertOnInvalid:!0};return i("sd-kb-space-single-select",{attributes:{"app-link-id":function(e,t){e.appLinkId=t.newValue,e.clearSelection()},"app-link-url":function(e,t){e.appLinkUrl=t.newValue},"project-key":function(e,t){e.projectKey=t.newValue}},created:function(t){var i=e(t),n=i.attr("field-name"),s=i.attr("placeholder"),r=e(M.select({name:n,placeholder:s}));i.html(r),t.singleSelect=p(t,r),t.$select=r,h(t.singleSelect)},prototype:{url:function(){return s+"/rest/servicedesk/1/servicedesk/"+encodeURIComponent(this.projectKey)+"/kb/"+this.appLinkId+"/space"},getSelectedSpace:function(){if(this.singleSelect){var e=this.singleSelect.getSelectedDescriptor();if(e&&""!==e.value())return m(e)}return null},clearSelection:function(){this.singleSelect&&this.singleSelect.clearSelection()},disable:function(){return this.singleSelect&&this.singleSelect.disable()},enable:function(){return this.singleSelect&&this.singleSelect.enable()}}})}.apply(t,n))&&(e.exports=s)},,,,,function(e,t,i){var n,s;n=[i(2),i(318)],void 0!==(s=function(e,t){return e.Collection.extend({model:t})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){return e.Model.extend({namedAttributes:{accountId:String,canAdministerJira:Boolean,displayName:String,avatarUrls:Object},idAttribute:"accountId",toJSON:function(){var t=e.Model.prototype.toJSON.call(this);return t.cid=this.cid,t}})}.apply(t,n))&&(e.exports=s)},function(e,t){},function(e,t){e.exports=window.require("jira/api/projects")},,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Feature)ServiceDesk.Templates.Components.Feature={};if(void 0===ServiceDesk.Templates.Components.Feature.KBSmartSearch)ServiceDesk.Templates.Components.Feature.KBSmartSearch={};if(ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks=function(e,t){return""+ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults({kbArticles:e.kbArticles,hidePadlocks:!1})},goog.DEBUG)ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks";if(ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks=function(e,t){return""+ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults({kbArticles:e.kbArticles,hidePadlocks:!0})},goog.DEBUG)ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks";if(ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults=function(e,t){var i="";if(e.kbArticles&&e.kbArticles.length>0){i+='<div class="cv-smart-portal-sub-header"><strong>'+soy.$$escapeHtml(AJS.format("Showing {0} {0,choice,1#result|1\u003cresults} from your knowledge base",e.kbArticles.length))+'</strong></div><div class="cv-smart-portal-result-list-container"><ul class="cv-smart-portal-results">';for(var n=e.kbArticles,s=n.length,r=0;r<s;r++){var a=n[r];i+='<div class="js-sd-kb-article"><li class="cv-smart-portal-kb-result js-cv-smart-portal-kb-result"><div class="cv-smart-portal-kb-header"><sd-kb-dialog-link data-id="'+soy.$$escapeHtml(a.id)+'" data-title="'+soy.$$escapeHtml(a.title)+'" data-display-title="'+soy.$$escapeHtml(a.titleHighlightedHtml)+'" data-applink-url="'+soy.$$escapeHtml(a.appLinkUrl)+'" data-shareable="'+soy.$$escapeHtml(a.shareable)+'" data-hidepadlock="'+soy.$$escapeHtml(e.hidePadlocks)+'" data-applink-id="'+soy.$$escapeHtml(a.appLinkId)+'"></sd-kb-dialog-link></div><div class="cv-smart-portal-kb-description">'+soy.$$filterNoAutoescape(a.bodyHighlightedHtml)+"</div></li></div>"}i+="</ul></div>"}return i},goog.DEBUG)ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults";if(ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults=function(e,t){return'<div class="search-kb-no-results-view-content"><span class="aui-icon aui-icon-small aui-iconfont-pages"></span><div class="search-kb-no-results-message">'+soy.$$escapeHtml("No one\'s written an article on that yet.")+"</div></div>"},goog.DEBUG)ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.Feature.KBSmartSearch}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Components)ServiceDesk.Templates.Shared.Components={};if(void 0===ServiceDesk.Templates.Shared.Components.Search)ServiceDesk.Templates.Shared.Components.Search={};if(ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter=function(e,t){return'<div class="cv-smart-portal-nav-bottom">'+aui.buttons.button({text:""+(e.hasMoreThanOneResult?soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml("None of these are what I need")):soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml("This is not what I need"))),type:"link",extraClasses:"js-cv-view-portals"})+"</div>"},goog.DEBUG)ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter.soyTemplateName="ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter";if(ServiceDesk.Templates.Shared.Components.Search.spinner=function(e,t){return'<div class="cv-smart-portal-spinner-container"><span class="sd-spinner-'+soy.$$escapeHtml(e.size)+'"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Shared.Components.Search.spinner.soyTemplateName="ServiceDesk.Templates.Shared.Components.Search.spinner";n=[i(18)],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Components.Search}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Components)ServiceDesk.Templates.Shared.Components={};if(void 0===ServiceDesk.Templates.Shared.Components.Search)ServiceDesk.Templates.Shared.Components.Search={};if(ServiceDesk.Templates.Shared.Components.Search.searchInputView=function(e,t){return'<input class="cv-smart-portal-search-input js-cv-smart-portal-search-input empty" type="text" placeholder="'+soy.$$escapeHtml(e.placeholder)+'" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />'+aui.icons.icon({extraClasses:"cv-smart-portal-search-icon js-cv-smart-portal-search-icon",useIconFont:!0,icon:"search"})+aui.buttons.button({extraClasses:"cv-smart-portal-search-clear js-cv-smart-portal-search-clear",extraAttributes:{style:"display: none;"},iconType:"aui",iconClass:"aui-icon aui-icon-small aui-iconfont-remove",iconText:"Remove",type:"link",text:""})},goog.DEBUG)ServiceDesk.Templates.Shared.Components.Search.searchInputView.soyTemplateName="ServiceDesk.Templates.Shared.Components.Search.searchInputView";n=[i(39),i(18)],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Components.Search}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Components)ServiceDesk.Templates.Shared.Components={};if(void 0===ServiceDesk.Templates.Shared.Components.SearchProviders)ServiceDesk.Templates.Shared.Components.SearchProviders={};if(ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults=function(e,t){var i="";if(e.kbArticles&&e.kbArticles.length>0){i+='<div class="cv-smart-portal-sub-header cv-legit-portal-ui-enhancements"><strong>'+soy.$$escapeHtml("Articles")+'</strong></div><ul class="cv-smart-portal-results">';for(var n=e.kbArticles,s=n.length,r=0;r<s;r++){var a=n[r];i+='<li class="cv-smart-portal-kb-result js-cv-smart-portal-kb-result"><div class="cv-smart-portal-kb-header"><a title="'+soy.$$escapeHtml(a.title)+'" href="'+soy.$$escapeHtml(a.inPageUrl)+'" class="js-cv-smart-portal-kb-article cv-smart-portal-kb-article-name">'+soy.$$filterNoAutoescape(a.titleHighlightedHtml)+"</a>"+(!e.hidePortalName?'<span title="'+soy.$$escapeHtml(a.portalName)+'" class="cv-smart-portal-kb-portal-name">'+soy.$$escapeHtml(a.portalName)+"</span>":"")+'</div><div class="cv-smart-portal-kb-description">'+soy.$$filterNoAutoescape(a.bodyHighlightedHtml)+"</div></li>"}i+="</ul>"}return i},goog.DEBUG)ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults.soyTemplateName="ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Components.SearchProviders}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Components)ServiceDesk.Templates.Shared.Components={};if(void 0===ServiceDesk.Templates.Shared.Components.SearchProviders)ServiceDesk.Templates.Shared.Components.SearchProviders={};if(ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults=function(e,t){return e.requestTypes&&e.requestTypes.length>0?(0==e.isFirstResultSet?'<div class="cv-smart-portal-sub-header cv-legit-portal-ui-enhancements"><strong>'+soy.$$escapeHtml("Help forms")+"</strong></div>":"")+ServiceDesk.Templates.Customer.Common.Request.requestTypeList({hidePortalName:e.hidePortalName,requestTypes:e.requestTypes,contextPath:e.contextPath,additionalClasses:"cv-smart-portal-results"}):""},goog.DEBUG)ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults.soyTemplateName="ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults";n=[i(355)],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Components.SearchProviders}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Internal)ServiceDesk.Templates.Internal={};if(void 0===ServiceDesk.Templates.Internal.Knowledge)ServiceDesk.Templates.Internal.Knowledge={};if(void 0===ServiceDesk.Templates.Internal.Knowledge.Base)ServiceDesk.Templates.Internal.Knowledge.Base={};if(void 0===ServiceDesk.Templates.Internal.Knowledge.Base.Link)ServiceDesk.Templates.Internal.Knowledge.Base.Link={};if(void 0===ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing)ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing={};if(ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.selectSpace=function(e,t){return'<form class="aui sd-kb-link-existing js-sd-kb-link-existing"><p>'+soy.$$escapeHtml("Search and select an existing Confluence space")+'</p><div><sd-kb-space-single-select id="sd-space-select" class="js-sd-link-existing-space-select sd-link-existing-space-select" field-name="space" placeholder="'+soy.$$escapeHtml("Enter existing knowledge base")+'" project-key="'+soy.$$escapeHtml(e.projectKey)+'" app-link-id="'+soy.$$escapeHtml(e.appLink.appLinkId)+'" app-link-url="'+soy.$$escapeHtml(e.appLink.displayUrl)+'"></sd-kb-space-single-select></div></form>'},goog.DEBUG)ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.selectSpace.soyTemplateName="ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.selectSpace";if(ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.appLinkError=function(e,t){for(var i='<div class="aui-message aui-message-error">',n=e.errors,s=n.length,r=0;r<s;r++){var a=n[r];i+="<p>"+soy.$$escapeHtml(a)+"</p>"}return i+="</div>"},goog.DEBUG)ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.appLinkError.soyTemplateName="ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.appLinkError";if(ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.nonAppLinkError=function(e,t){for(var i="",n=e.errors,s=n.length,r=0;r<s;r++){var a=n[r];i+='<div class="error">'+soy.$$escapeHtml(a)+"</div>"}return i},goog.DEBUG)ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.nonAppLinkError.soyTemplateName="ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.nonAppLinkError";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Agent)ServiceDesk.Templates.Agent={};if(void 0===ServiceDesk.Templates.Agent.PortalPreview)ServiceDesk.Templates.Agent.PortalPreview={};if(ServiceDesk.Templates.Agent.PortalPreview.dialogContent=function(e,t){return""+ServiceDesk.Templates.Agent.PortalPreview.dialogHeader(e)+ServiceDesk.Templates.Agent.PortalPreview.dialogBody(e)},goog.DEBUG)ServiceDesk.Templates.Agent.PortalPreview.dialogContent.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.dialogContent";if(ServiceDesk.Templates.Agent.PortalPreview.dialogHeader=function(e,t){return'<h2 class="dialog-title">'+soy.$$escapeHtml(e.title)+'<span class="portal-dialog-header-info"></span><a href="#"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog dialog-close-button" data-unicode="UTF+f119"></span></a></h2>'},goog.DEBUG)ServiceDesk.Templates.Agent.PortalPreview.dialogHeader.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.dialogHeader";if(ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo=function(e,t){return soy.$$escapeHtml("URL for customers")+': <a class="sd-portal-url" href="'+soy.$$escapeHtml(e.portalUrl)+'" target="_blank" class="open-in-tab">'+soy.$$escapeHtml(e.portalUrl)+"</a>"},goog.DEBUG)ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo";if(ServiceDesk.Templates.Agent.PortalPreview.dialogBody=function(e,t){return'<iframe id="portal-frame" height="'+soy.$$escapeHtml(e.iframeHeight)+'" src="'+soy.$$escapeHtml(e.portalUrl)+'" />'},goog.DEBUG)ServiceDesk.Templates.Agent.PortalPreview.dialogBody.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.dialogBody";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Agent.PortalPreview}.apply(t,n))&&(e.exports=s)},,,,,,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Customer)ServiceDesk.Templates.Customer={};if(void 0===ServiceDesk.Templates.Customer.Common)ServiceDesk.Templates.Customer.Common={};if(void 0===ServiceDesk.Templates.Customer.Common.Request)ServiceDesk.Templates.Customer.Common.Request={};if(ServiceDesk.Templates.Customer.Common.Request.requestTypeList=function(e,t){for(var i='<ul class="cv-smart-portal-request-type-list'+(e.additionalClasses?" "+soy.$$escapeHtml(e.additionalClasses):"")+'">',n=e.requestTypes,s=n.length,r=0;r<s;r++){var a=n[r];i+=ServiceDesk.Templates.Customer.Common.Request.requestTypeItem({hidePortalName:e.hidePortalName,requestType:a,contextPath:e.contextPath})}return i+="</ul>"},goog.DEBUG)ServiceDesk.Templates.Customer.Common.Request.requestTypeList.soyTemplateName="ServiceDesk.Templates.Customer.Common.Request.requestTypeList";if(ServiceDesk.Templates.Customer.Common.Request.requestTypeItem=function(e,t){var i="",n=soy.$$escapeHtml(e.contextPath)+"/servicedesk/customer/portal/"+soy.$$escapeHtml(e.requestType.cvId)+"/create/"+soy.$$escapeHtml(e.requestType.id),s=soy.$$escapeHtml(e.contextPath)+"/servicedesk/customer/portal/"+soy.$$escapeHtml(e.requestType.cvId);return i+='<li class="cv-smart-portal-request-type-list-item js-smart-portal-request-type-list-item">'+ServiceDesk.Templates.Components.RequestTypeIcons.icon({iconId:null!=e.requestType.icon?e.requestType.icon:0,useCustomerShim:!0,iconUrl:e.requestType.iconUrl})+'<div class="cv-smart-portal-request-type-list-content"><div class="cv-smart-portal-request-type-list-header"><a title="'+soy.$$escapeHtml(e.requestType.name)+'" class="cv-smart-portal-request-type-name js-cv-smart-portal-request-type-name" href="'+soy.$$escapeHtml(n)+'" data-id="'+soy.$$escapeHtml(e.requestType.id)+'" data-portal-id="'+soy.$$escapeHtml(e.requestType.cvId)+'">'+soy.$$escapeHtml(e.requestType.name)+"</a>"+(!e.hidePortalName?'<a title="'+soy.$$escapeHtml(e.requestType.portalName)+'" class="cv-smart-portal-request-type-portal-name js-cv-smart-portal-request-type-portal-name" data-id="'+soy.$$escapeHtml(e.requestType.id)+'" data-portal-id="'+soy.$$escapeHtml(e.requestType.cvId)+'" href="'+soy.$$escapeHtml(s)+'"><span>'+soy.$$escapeHtml(e.requestType.portalName)+"</span></a>":"")+'</div><div class="cv-smart-portal-request-type-description'+(""==e.requestType.description?" empty":"")+'">'+(""==e.requestType.description?soy.$$escapeHtml("No description"):soy.$$escapeHtml(e.requestType.description))+"</div></div></li>"},goog.DEBUG)ServiceDesk.Templates.Customer.Common.Request.requestTypeItem.soyTemplateName="ServiceDesk.Templates.Customer.Common.Request.requestTypeItem";n=[i(59)],void 0!==(s=function(){return ServiceDesk.Templates.Customer.Common.Request}.apply(t,n))&&(e.exports=s)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,s;n=[i(4),i(46),i(37),t],void 0!==(s=function(e,t,i,n){var s=function(){e.trackEvent("servicedesk.issue.approvers.saved",{issueId:t.getIssueId()})},r=function(e){return e.data("name")==="Approvers"};n.addAnalyticListeners=function(){i.bind(JIRA.Events.INLINE_EDIT_STARTED,function(n,a,o,c,l){if(i.unbind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,s),r(l))e.trackEvent("servicedesk.issue.approvers.start.editing",{issueId:t.getIssueId()}),i.one(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,s)})}}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(1),i(2),i(0),i(17),i(415),i(219),i(341),i(491),i(504)],void 0!==(s=function(e,t,i,n,s,r){return t.View.extend({className:"cv-search-results-container",spinner:ServiceDesk.Templates.Shared.Components.Search.spinner,footer:ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter,EVENT:{NO_RESULTS_FOUND:"noResultsFound",NONE_HELPED_CLICKED:"noneHelpedClicked",RESULTS_RENDERED:"resultsRendered"},events:{"click .js-cv-view-portals":"_onNoneHelpedClicked"},initialize:function(e,t){var i=t.isInitialRender,n=t.analyticsTracker,s=t.searchProviders,r=t.hideFooter,a=t.spinnerSize;this.models=e,this.tracker=n,this.isInitialRender=!!i,this.hideFooter=!!r,this.searchProviders=s||[],this.spinnerSize=a||"xlarge"},render:function(){var e=this.models.search.getCurrentQuery().trim();if(e&&""!==e)this._cancelCurrentSearch(),this._showSpinner(),this._renderSearchResults(e)},_renderSearchResults:i.debounce(function(t){if(!this.isClosed){var s=this.searchProviders.map(function(e){return e.getResults(t)});e.when.apply(this,s).done(i.bind(function(){var t=this;if(this.$el.empty(),!1===this.isInitialRender){var s=this._formatTrackingAttributes(arguments);this.tracker&&this.tracker.queueSearchComplete(this.models.search,s)}var r=i.filter(arguments,function(e){return e.results.length>0});if(0===r.length)return this.tracker&&this.tracker.trackNoResultsFound(this.models.search),this.tracker&&this.tracker.executeSearchComplete(),this.trigger(this.EVENT.NO_RESULTS_FOUND),this.trigger(this.EVENT.RESULTS_RENDERED),void n("cv.smart.portal.search.completed");for(var a=[],o=0;o<r.length;o++){var c=r[o],l=c.provider;l.setIsFirstResultSet(0===o);var u=l.render();a.push(u),this.$el.append(l.$el)}if(!this.hideFooter)this.$el.append(this.footer({hasMoreThanOneResult:i.reduce(r,function(e,t){return e+t.results.length},0)>1}));this.delegateEvents(),n("cv.smart.portal.search.completed"),e.when.apply(this,a).done(function(){t.trigger(t.EVENT.RESULTS_RENDERED)}),this.tracker&&this.tracker.trackSomeResultsFound(this.models.search)},this))}},300),_formatTrackingAttributes:function(e){var t={},n=i.filter(e,function(e){return e.results.length>0}),a=function(e){return parseInt(e.getId(),10)};return i.each(n,function(e){if(e.provider instanceof s){var n=i.map(e.results,a),o=i.map(e.results,function(e){return e.getName()});t.requestTypeIds=JSON.stringify(n),t.requestTypeNames=JSON.stringify(o)}else if(e.provider instanceof r){var c=i.map(e.results,a),l=i.map(e.results,function(e){return e.getTitle()});t.pageIds=JSON.stringify(c),t.pageTitles=JSON.stringify(l)}}),t},close:function(){this._cancelCurrentSearch(),this.searchProviders.forEach(function(e){e.close()}),this.stopListening(),this.undelegateEvents()},_cancelCurrentSearch:function(){this.searchProviders.forEach(function(e){e.cancelSearch()}),this.tracker&&this.tracker.cancelSearchComplete()},_onNoneHelpedClicked:function(e){e.preventDefault(),this.tracker&&this.tracker.trackSearchResultNoneHelpedClicked(this.models.search),this.trigger(this.EVENT.NONE_HELPED_CLICKED)},_showSpinner:function(){this.$el.html(this.spinner({size:this.spinnerSize}))}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(217),i(492),i(342)],void 0!==(s=function(e,t){return e.View.extend({template:ServiceDesk.Templates.Shared.Components.Search.searchInputView,className:"cv-smart-portal-search-input-container",namedEvents:["queryChanged"],events:{"change .js-cv-smart-portal-search-input":"_onQueryChanged","keyup .js-cv-smart-portal-search-input":"_onQueryChanged","paste .js-cv-smart-portal-search-input":"_onQueryChanged","click .js-cv-smart-portal-search-clear":"clearSearchQuery"},initialize:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.placeholder,s=i.retainFocusOnEnter;this.models=e||{search:new t},this.placeholder=n||this._getDefaultPlaceholderForSearch(this.models.search),this.retainFocusOnEnter=!!s},_getDefaultPlaceholderForSearch:function(e){if(e.getHasKb())return "Find help articles and forms";else return "Find help forms"},render:function(){this.$el.html(this.template({placeholder:this.placeholder})),this.ui={$searchBox:this.$(".js-cv-smart-portal-search-input"),$clearButton:this.$(".js-cv-smart-portal-search-clear"),$searchIcon:this.$(".js-cv-smart-portal-search-icon")};var e=this.models.search.getCurrentQuery();return this.ui.$searchBox.val(e).change(),this.listenTo(this.models.search,"change:currentQuery",function(){this._handleQueryChanged()}),this._updateInputClearButtonStatus(e),this},disable:function(){this.ui.$searchBox.attr({"aria-disabled":"aria-disabled",disabled:"disabled"}),this.ui.$searchIcon.addClass("disabled")},enable:function(){this.ui.$searchBox.removeAttr("aria-disabled disabled"),this.ui.$searchIcon.removeClass("disabled")},focusOnSearch:function(){this.ui.$searchBox.focus()},close:function(){this.stopListening(),this.undelegateEvents()},clearSearchQuery:function(){this.ui.$searchBox.val(""),this.models.search.setCurrentQuery(""),this.focusOnSearch()},_onQueryChanged:function(e){var t=null;if(e)t=e.keyCode?e.keyCode:e.which;if(this.retainFocusOnEnter)this.ui.$searchBox.focus();else if(t&&13===t)return void this.ui.$searchBox.blur();var i=this.models.search.getCurrentQuery().trim(),n=this.ui.$searchBox.val().trim();if(i!==n)this.models.search.setCurrentQuery(n)},_handleQueryChanged:function(){var e=this.models.search.getCurrentQuery(),t=this.models.search.getQueryTime();this._updateInputClearButtonStatus(e),this.triggerQueryChanged(e,t)},_updateInputClearButtonStatus:function(e){if(e&&""!==e)this.ui.$clearButton.show(),this.ui.$searchIcon.hide();else this.ui.$clearButton.hide(),this.ui.$searchIcon.show()}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){return e.Model.extend({namedAttributes:{appLinkUrl:String,id:String,body:String,bodyHighlightedHtml:String,contentType:String,inPageUrl:String,title:String,titleHighlightedHtml:String,confluencePageUrl:String,portalName:String,shareable:Boolean}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(7),i(218),i(22),i(416),i(494),i(344)],void 0!==(s=function(e,t,i,n,s,r){return n.extend({template:ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults,ui:{requestTypes:".js-cv-smart-portal-request-type-name",portals:".js-cv-smart-portal-request-type-portal-name"},events:{"click .js-cv-smart-portal-request-type-name":"_onRequestTypeClicked","click .js-cv-smart-portal-request-type-portal-name":"_onPortalClicked"},asyncRender:function(){var e=this;return this.currentResult.done(function(n){if(0!==n.results.length){var s={requestTypes:t.map(n.results,function(e){return e.toJSON()}),contextPath:i,isFirstResultSet:!!e.isFirstResultSet};if(e.models.search.isInSinglePortalContext())s.hidePortalName=!0;e.$el.html(e.template(s)),e.addSearchQueryParamsTo(e.$("a.js-cv-smart-portal-request-type-name"))}})},getQueryUrl:function(e){var t=new s(i+"/rest/servicedesk/search/1/search/request-type");if(t.addQuery("query",e),t.addQuery("resultLimit",5),this.models.search.isInSinglePortalContext())t.addQuery("serviceDeskId",this.models.search.getSinglePortalContext().getServiceDeskId());return t.build().href()},_formatResults:function(e){return t.map(e.requestTypes||[],function(e){return new r(e)})},_onRequestTypeClicked:function(t){var i=this._getRequestTypes().index(t.target),n=e(t.target),s=n.closest(".cv-smart-portal-request-type-list-content"),r=s.find(".js-cv-smart-portal-request-type-name").text(),a=s.find(".js-cv-smart-portal-request-type-portal-name").text();this.tracker.executeSearchComplete(),this.tracker.trackSearchResultsRequestTypeClicked(this.models.search,i,r,a),this.tracker.trackSearchResultsClicked(this.models.search,"requesttype")},_onPortalClicked:function(t){var i=this._getPortals().index(t.target),n=e(t.target),s=n.closest(".cv-smart-portal-request-type-list-content"),r=s.find(".js-cv-smart-portal-request-type-name").text(),a=s.find(".js-cv-smart-portal-request-type-portal-name").text();this.tracker.executeSearchComplete(),this.tracker.trackSearchResultsPortalNameClicked(this.models.search,i,r,a),this.tracker.trackSearchResultsClicked(this.models.search,"requesttype")},_getRequestTypes:function(){return this.$(".js-cv-smart-portal-request-type-name")},_getPortals:function(){return this.$(".js-cv-smart-portal-request-type-portal-name")}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){return e.Model.extend({namedAttributes:{id:Number,cvId:Number,key:String,icon:Number,issueType:Number,name:String,portalName:String,description:String,helpText:String,searchScore:Number}})}.apply(t,n))&&(e.exports=s)},,,,function(e,t,i){var n;void 0!==(n=function(){return AJS.UserListSuggestHandler}.call(t,i,t,e))&&(e.exports=n)},,function(e,t,i){var n,s;n=[i(1),t,i(767)],void 0!==(s=function(e,t){function i(t){var i=e(n);if(0===i.length)i=e(s);return i.data(t)}var n=".sd-kb-data-web-panel",s=".sd-kb-web-panel-data";t.getAppLinkUrl=function(){return i("applink-url")},t.getAppLinkId=function(){return i("applink-id")},t.getIssueId=function(){return i("issue-id")},t.getIssueKey=function(){return i("issue-key")},t.isProjectAdmin=function(){return i("is-project-admin")},t.getProjectKey=function(){return i("project-key")},t.getPortalId=function(){return i("portal-id")},t.isSDRequest=function(){return i("is-request")}}.apply(t,n))&&(e.exports=s)},,,,,,,,function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(1),i(0),i(17),i(111),i(4),i(5),i(432),i(431),i(36),t,i(152),i(175)],void 0!==(s=function(e,t,i,n,s,a,o,c,l,u){u.create=function(e){var t=new c({portalUrl:l.portalUrl(a.get("portalId"))}),i=new o({model:t});return new n(e,"customer-channels-dialog",function(e,n,s){return i.setElement(e).renderLoading(),e.click(function(e){e.stopPropagation()}),s(),t.fetch().done(function(){i.render(),i.focusCopyTextfield()}).fail(function(){}),!1},r({useLiveEvents:!0,width:300,gravity:"w",calculatePositions:void 0},!e&&{noBind:!0}))}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(5),i(7),i(6),i(3),i(58),i(78),i(152),i(175)],void 0!==(s=function(e,t,i,n,s,r,a,o,c){return i.Model.extend({namedAttributes:{portalUrl:String,emailSettingsUrl:String,emailEnabled:Boolean,emailAddress:String,canManageAddress:Boolean,hasValidRequestType:Boolean},getProjectKeyFromUrl:function(e){for(var t=c(e).pathname(),i=[/\/browse\/(\w+)-\d+/i,/\/projects\/(\w+)/i],n=0;n<i.length;n++){var s=t.match(i[n]);if(null!=s&&s.length>1)return s[1]}},getProjectKey:function(){var e=n.get("projectKey");if(!e){var t=JIRA.Issue.getIssueKey();e=t?t.substring(0,t.indexOf("-")):void 0}if(a.isFeatureEnabled("issue.details.fullpage.jsd")&&!e)if(!(e=this.getProjectKeyFromUrl(window.location.href)))o.safeError("servicedesk.queue.agent-view.issue-view","[FD-4458] Failed to retrieve the projectKey using URL for Channels dialog.");return e},getUrl:function(){return s+"/rest/servicedesk/project-ui/1/customerchannels/"+this.getProjectKey()},getEnableEmailForOnDemandUrl:function(){return s+"/rest/servicedesk/1/servicedesk/"+this.getProjectKey()+"/incomingemail/turnOnForOnDemand"},turnOnEmailsForOnDemand:function(){return r.put(this.getEnableEmailForOnDemandUrl())},fetch:function(){var e=this;return r.get(this.getUrl()).done(function(t){return e.set(t)})}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(1),i(0),i(226),i(187),i(62),i(5),i(4),i(70),i(152),i(175)],void 0!==(s=function(e,t,i,n,s,r,a,o,c){return e.View.extend({templates:{contents:ServiceDesk.Templates.Internal.Project.Customer.Channels.contents,loading:ServiceDesk.Templates.Internal.Project.Customer.Channels.loading,successFlag:ServiceDesk.Templates.Internal.Project.Customer.Channels.emailChannelEnabledMessage},events:{"copy .js-portal-url-container .js-quick-copy-text":"handlePortalCopy","copy .js-email-address-container .js-quick-copy-text":"handleEmailCopy","click .js-portal-button-preview":"handlePortalLinkClick","click .js-customer-channels-enable-ondemand":"handleEmailButtonClick"},handlePortalCopy:function(){o.trackEvent("project.sidebar.customer.channels.dialog.portalurl.copied")},handleEmailCopy:function(){o.trackEvent("project.sidebar.customer.channels.dialog.emailaddress.copied")},handlePortalLinkClick:function(e){n.showDialog(e)},handleEmailButtonClick:function(e){var i=this;o.trackEvent("project.sidebar.customer.channels.dialog.turnonemail.clicked");var n=t(e.target),s=n.text();this.model.turnOnEmailsForOnDemand().done(function(e){o.trackEvent("project.sidebar.customer.channels.dialog.turnonemail.successful"),i.model.setEmailAddress(e.incomingEmails[0].emailAddress),i.model.setEmailEnabled(!0),i.render(),i.focusEmailField();var t=i.templates.successFlag({emailAddress:i.model.getEmailAddress(),projectKey:a.get("projectKey")});r({type:"success",close:"auto",title:"Email channel enabled",body:t})}).fail(function(e){o.trackEvent("project.sidebar.customer.channels.dialog.turnonemail.failed"),i.$(".js-customer-channels-email-errors").removeClass("hidden").html(e.errors[0].errorMessage),n.spinStop(),n.text(s)}),n.css("width",n.outerWidth()),n.css("height",n.outerHeight()),n.html("&nbsp;"),n.spin()},renderLoading:function(){this.$el.html(this.templates.loading())},render:function(){o.trackEvent("project.sidebar.customer.channels.dialog.shown"),c.fireInlineDialogPageEvent("viewCustomerChannels",c.CONTEXTS.CUSTOMER_CHANNELS),this.$el.html(this.templates.contents(this.model.toJSON())),this.$(".js-portal-url-container").append(s.create(this.model.getPortalUrl())),this.$(".js-email-address-container").append(s.create(this.model.getEmailAddress()))},focusCopyTextfield:function(){this.$(".js-portal-url-container .js-quick-copy-text").click()},focusEmailField:function(){this.$(".js-email-address-container .js-quick-copy-text").click()}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(1),i(0),i(17),i(434),i(435),i(111),i(4),i(70),i(5),i(225),t,i(153),i(251)],void 0!==(s=function(e,t,i,n,s,a,o,c,l,u,d){d.create=function(e){var t=new n({projectKey:l.get("projectKey")}),d=new s({model:t}),p=new a(e,"invite-team-dialog",function(e,i,n){return d.setElement(e).renderLoading(),e.click(function(e){e.stopPropagation()}),o.trackEvent("project.sidebar.invite.team.dialog.open"),c.fireInlineDialogPageEvent("viewInviteTeam",c.CONTEXTS.INVITE_TEAM),n(),t.fetch().done(function(){d.model.set(t.toJSON()),d.render()}).fail(function(){d.renderError()}),!1},r({useLiveEvents:!0,persistent:!1,width:300,gravity:"w",preHideCallback:function(){return!AJS.InlineLayer.current},initCallback:function(){this.popup.isShownViaDeepLink=u.hasDeepLink(),u.removeDeepLink(),d.triggerDialogShown()},hideCallback:function(){i("sd.invite.team.dialog.closed")}},!e&&{noBind:!0}));return d.on("cancelClicked submitSuccess",p.hide,p),p}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(6),i(181),i(461),i(460),i(7),i(12),i(220),i(3),i(58),i(78)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p){return i.Model.extend({idAttribute:"projectKey",namedEvents:["userIsInvited"],namedAttributes:{projectId:Number,projectName:String,projectKey:String,agentCapacity:Number,agentCount:Number,agentResults:r,jiraUserCount:Number,showTotalAgentlicenseCount:Boolean,evaluation:Boolean,canManageLicenses:Boolean,teamRoleMisconfigured:Boolean,adminRoleMisconfigured:Boolean,agentManagementError:a,issueContainerName:String},initialize:function(){if(!this.getProjectKey())this.setProjectKey(this.getSafeProjectKey());this.setIssueContainerName(l.getIssueContainerName())},getProjectKeyFromUrl:function(e){for(var t=p(e).pathname(),i=[/\/browse\/(\w+)-\d+/i,/\/projects\/(\w+)/i],n=0;n<i.length;n++){var s=t.match(i[n]);if(null!=s&&s.length>1)return s[1]}},getSafeProjectKey:function(){var e=this.getProjectKey();if(!e){var t=JIRA.Issue.getIssueKey();e=t?t.substring(0,t.indexOf("-")):void 0}if(!e)if(!(e=this.getProjectKeyFromUrl(window.location.href)))d.safeError("servicedesk.queue.agent-view.issue-view","[FD-4458] Failed to retrieve the projectKey using URL for Invite team dialog.");return e},getUrl:function(){return o+"/rest/servicedesk/1/servicedesk/"+this.getSafeProjectKey()+"/inviteteam"},getPutUrl:function(){return o+"/rest/servicedesk/1/servicedesk/"+this.getSafeProjectKey()+"/inviteteam/accountids"},getUserPickerSearchUrl:function(){return o+"/rest/servicedesk/1/servicedesk/sd-user-search/inviteteam/"+this.getSafeProjectKey()},addMultiAgents:function(i){var s=this,r=e.Deferred();return n.put(this.getPutUrl(),i).done(function(e){s.setAgentCount(e.agentCount),s.setJiraUserCount(e.jiraUserCount),s.triggerUserIsInvited(),r.resolve(e)}).fail(t.bind(function(e){r.reject(n.getErrorCollection(e))})),r},abort:function(){this._pageReq&&this._pageReq.abort()},fetch:function(){var e=this;return n.get(this.getUrl()).done(function(t){return e.set(t)})}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(6),i(1),i(0),i(17),i(21),i(437),i(4),i(7),i(5),i(220),i(108),i(476),i(37),i(54),i(165),i(62),i(5),i(3),i(61),i(153),i(251)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p,f,h,m,M,g,b,v){var A=ServiceDesk.Templates.Internal.Project.Invite.Team;return e.View.extend({templates:{contents:A.contents,loading:A.loading,error:A.error},mixins:[r],namedEvents:["dialogShown"],_canSubmit:!1,events:{"click .js-invite-team-main-button":"_inviteTeam","click .js-invite-team-cancel-button":"_onCancelClicked","submit .js-invite-team-dialog-form":"_inviteTeam"},_inviteTeam:function(e){if(e.preventDefault(),this._canSubmit){this._disableInviteButton(),o.trackEvent("project.sidebar.invite.team.dialog.submit"),this.showSpinner();var t={agentsToAdd:this._getNewAgentsList(),agentsToAllocate:this._getExistedAgentsList(),agentsToPromote:this._getExistedJiraUsersNotAgentsList()};this.model.addMultiAgents(t).done(n.bind(function(){this.showSuccess(function(){this.trigger("submitSuccess"),f.trigger("invite-team-success"),o.trackEvent("project.sidebar.invite.team.dialog.success"),this._removePopupErrors(),s("sd.invite.team.complete")},this)},this)).fail(n.bind(function(e){o.trackEvent("project.sidebar.invite.team.dialog.fail"),this._renderAjaxError(e),this.hideSpinner(),this._enableInviteButton()},this))}},_handleShowLayer:function(){if(!this.model.getTeamRoleMisconfigured())this._multiAgentPicker.$field.focus()},_handleHideLayer:function(){p.registerHidingHandler("invite-team-dialog","inlineDialog",n.bind(function(){n.each(i("aui-inline-dialog.sd-invite-team-error-user-exists"),function(e){e.remove()})},this))},_onCancelClicked:function(){this.trigger("cancelClicked"),o.trackEvent("project.sidebar.invite.team.dialog.cancel")},_disableInviteButton:function(){return this.$(".js-invite-team-main-button").attr({disabled:"disabled","aria-disabled":"true"})},_enableInviteButton:function(){return this.$(".js-invite-team-main-button").removeAttr("disabled").attr("aria-disabled","false")},_initMultiAgentPicker:function(){if(!this._pickerIsInitializedAlready()){var e=this.model.getAgentManagementError(),t=this.model.getCanManageLicenses()&&!e.getRunOutOfAgentLicenses()&&e.getOutgoingMailConfigured()&&!e.getNoDefaultGroup();if(!this.model.getTeamRoleMisconfigured()){var i=this.$(".js-invite-team-picker");this._multiAgentPicker=new a({restPath:this.model.getUserPickerSearchUrl(),freeEmailInput:t,element:i,errorMessage:"",usesServiceDeskTerminology:this.model.usesServiceDeskIssueContainerName===u.ISSUE_CONTAINER.SERVICE_DESK}),this._multiAgentPicker.$selectedItemsContainer.on("itemStatusUpdated",n.bind(function(){return this._updateStateOfInviteTeamDialog(),s("sd.invite.team.dialog.state.updated"),!1},this)),i.on("selected",n.bind(function(e,t){this._updateStateOfInviteTeamDialog()},this)),i.on("unselect",n.bind(function(){this._updateStateOfInviteTeamDialog(),o.trackEvent("project.sidebar.invite.team.agent.removed")},this))}}},_updateStateOfInviteTeamDialog:function(){var e=this;this.model.fetch().done(function(){e._updatePeopleImageVisibility(),e._showNumberOfAgentLicensesToConsume(),e._showNumberOfPeopleToInvite(),e._showOutOfAgentLicensesError(),e._renderErrorBox(),s("sd.invite.team.dialog.license.information.updated")})},_updatePeopleImageVisibility:function(){if(this.$("li[data-item-name]").length)this._hidePeopleImage();else this._showPeopleImage()},_pickerIsInitializedAlready:function(){return this.$("#js-invite-team-textarea").length>0},_hidePeopleImage:function(){this.$(".js-image-people-wrapper").hide()},_showPeopleImage:function(){this.$(".js-image-people-wrapper").show()},_getNewAgentsList:function(){return n.map(this.$("li[data-email]:has(.js-is-new-agent)"),function(e){return i(e).data("email")})},_getExistedAgentsList:function(){return n.map(this.$("li[data-accountid].js-existed-agent"),function(e){return i(e).data("accountid")})},_getExistedJiraUsersNotAgentsList:function(){return n.map(this.$("li[data-accountid]:has(.js-is-new-agent)"),function(e){return i(e).data("accountid")})},_showNumberOfAgentLicensesToConsume:function(){var e=this._getNewAgentsList().length+this._getExistedJiraUsersNotAgentsList().length,t=e+this._getExistedAgentsList().length,i=this.$(".js-number-of-new-agents"),n=this.model.getAgentCapacity(),s=this.model.getAgentCount(),r="";if(t&&this.model.getCanManageLicenses())if(e)r=AJS.format("{0} agent {0,choice,1#license|1\u003clicenses} will be added",e)+" ("+this._getCountText(!0,s,n,this.model.getShowTotalAgentlicenseCount())+")",i.text(r).show();else r=this._getCountText(!1,s,n,this.model.getShowTotalAgentlicenseCount()),i.text(r).show();else i.text("").hide()},_getCountText:function(e,t,i,n){var s="";if(n)if(e)s=AJS.format("{0} of {1} now used",t,i);else s=AJS.format("{0} of {1} agent {0,choice,1#license|1\u003clicenses} used",t,i);else if(e)s=AJS.format("{0} now used",t);else s=AJS.format("{0} agent {0,choice,1#license|1\u003clicenses} used",t);return s},_getJsdEdition:function(){var e=g.get("product-editions");try{return e&&JSON.parse(e)["jira-servicedesk"]||"unknown"}catch(e){return log.error("product-editions meta tag invalid!"),"unknown"}},_isOutOfAgentLicense:function(e){return e+this.model.getAgentCount()>this.model.getAgentCapacity()},_showOutOfAgentLicensesError:function(){var e=this._getNewAgentsList().length+this._getExistedJiraUsersNotAgentsList().length;if(this._isOutOfAgentLicense(e))this._applyPopupErrors([AJS.format("You\'\'ve reached the maximum number of agent licenses for your plan. Remove agents or {0}upgrade{1} to grow your team.","<a href='"+c+"/admin/billing/applications' target='_blank'>","</a>")]);else this._removePopupErrors()},_showNumberOfPeopleToInvite:function(){var e=this._getNewAgentsList().length+this._getExistedJiraUsersNotAgentsList().length,t=e+this._getExistedAgentsList().length;if(t&&!this._isOutOfAgentLicense(e))this._canSubmit=!0,this._enableInviteButton().text(AJS.format("Invite {0} {0,choice,1#person|1\u003cpeople}",t));else this._canSubmit=!1,this._disableInviteButton().text("Invite")},_applyPopupErrors:function(e){var t=this.model.getCanManageLicenses(),i="";if(n.map(e,function(e){i+="<p>"+e+"</p>"}),!t)i+="<p>"+"Please contact the system administrator."+"</p>";this._removePopupErrors(),this.$(".js-agent-management-error").addClass("error").html(i)},_removePopupErrors:function(e){this.$(".js-agent-management-error").empty().removeClass("error")},_renderAjaxError:function(e){if(e){if(e.errors){var t=n.map(e.errors,function(e){return e.errorMessage});this._applyPopupErrors(t)}if(e["status-code"]&&e["status-code"]>400&&e.message)this._applyPopupErrors([e.message])}},_renderErrorBox:function(){var e=null,t=m.getAgentAllocationUrl();if(this.model.getCanManageLicenses()){var i=this.model.getAgentManagementError();if(i.getRunOutOfAgentLicenses()){var n=void 0,s=this._getJsdEdition();if("s"===s||"p"===s)n="<p>"+AJS.format("You\'\'ve reached the maximum number of agent licenses for your plan. {0}Remove agents{1} to free up licenses.","<a href='"+t+"' target='_blank'>","</a>")+"</p>";else n="<p>"+AJS.format("You\'\'ve reached the maximum number of agent licenses for your plan. Remove agents or {0}upgrade{1} to grow your team.","<a href='"+c+"/admin/billing/applications' target='_blank'>","</a>")+"</p>";e={type:"hint",html:n}}else if(!i.getOutgoingMailConfigured())e={type:"hint",html:"<p>"+AJS.format("You\'\'ll need an outgoing mail server to send invitations for new accounts. Add an {0}outgoing mail server{1} to create new agents.","<a href='"+c+"/secure/admin/OutgoingMailServers.jspa' target='_blank'>","</a>")+"</p>"};else if(i.getNoDefaultGroup())e={type:"error",html:"<p>"+AJS.format("You need to create a default group to assign {0}agent licenses{1}.","<a href='"+c+"/secure/admin/ApplicationAccess.jspa' target='_blank'>","</a>")+"</p>"}}var r=v.getJSMRebrandText("The permission settings for this service project dont allow adding agents.","The permission settings for this service desk dont allow adding agents."),a="<p>"+r+"</p><p>"+AJS.format("{0}Update the permissions{1} to add agents. {2}Learn more{3}","<a href="+m.getAgentAllocationUrl()+" target='_blank'>","</a>","<a href='https://confluence.atlassian.com/display/SERVICEDESKCLOUD/Permissions+overview' target='_blank'>","</a>")+"</p>";if(this.model.getTeamRoleMisconfigured())e={type:"error",html:a};if(e){if(this.$(".js-agent-management-error").addClass(e.type).empty().append(e.html),"hint"===e.type)this.$(".sd-description-text").addClass("sd-hint-appeared");else this.$(".sd-description-text").removeClass("sd-hint-appeared");if(this.model.getTeamRoleMisconfigured())this._initFixingTeamRoleMisconfiguredDialog()}},_initFixingTeamRoleMisconfiguredDialog:function(){var s=e.Model.extend({namedAttributes:{severity:Object,summary:String,templateName:String,templateParams:Object}}),r=e.Collection.extend({url:function(){return c+"/rest/servicedesk/1/servicedesk/"+this.model.getProjectKey()+"/precondition"},model:s,fetch:function(){return t.get(this.url()).done(n.bind(function(e){this.reset(e.alerts)},this))}}),a=new r;a.fetch().done(function(){var e=i(".js-invite-team-repair");if(!a.isEmpty())e.on("click",function(e){e.preventDefault(),new d({collection:a}).show()})})},_renderPlaceholderText:function(){var e="Enter an agent\'s name",t=this.model.getCanManageLicenses(),i=this.model.getAgentManagementError().canAddNewAgent();if(t&&i)e="Enter email address";this.$("#js-invite-team-textarea").attr("placeholder",e)},renderLoading:function(){this.$el.html(this.templates.loading())},renderError:function(){this.$el.html(this.templates.error())},render:function(){return this.$el.html(this.templates.contents({showInputForm:!this.model.getTeamRoleMisconfigured(),canManageLicenses:this.model.getCanManageLicenses(),usesServiceDeskIssueContainerName:this.model.getIssueContainerName()===u.ISSUE_CONTAINER.SERVICE_DESK})),this._initMultiAgentPicker(),this._renderErrorBox(),this._renderPlaceholderText(),this._handleShowLayer(),this._handleHideLayer(),this}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(54),i(1),i(0),i(38),i(6),i(4),i(7),i(22),i(61),i(144),i(3),i(153),i(42)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d){function p(e){var t=new o(a+"/rest/servicedesk/1/servicedesk/sd-user-search/inviteteamEmailcheck");return t.addQuery("query",e),t.build().href()}function f(e,t,i){var n=new o(a+"/"+e);return n.addQuery(t,i),n.build().href()}function h(e){if(e.localServiceDeskUser)return"admin/jira-service-desk/portal-only-customers/view";else return"admin/users/view"}return n.extend({init:function(e){this._setOptions(e),this.$lozenge=this._render("item"),this.$removeButton=this.$lozenge.find(".js-delete-an-invited-agent"),this._assignEvents("instance",this),this._assignEvents("lozenge",this.$lozenge),this._assignEvents("removeButton",this.$removeButton),this.$lozenge.prependTo(this.options.container)},_template:ServiceDesk.Templates.Internal.Project.Invite.Team,_getDefaultOptions:function(){return{descriptor:null,container:null}},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(e){if(e.stopPropagation(),this.trigger("remove"),this.errorDialogId){var t=document.getElementById(this.errorDialogId);if(null!==t)t.remove()}}}},_handleEmailUser:function(e,i){var n=void 0;if(e&&!e.active){r.trackEvent("project.sidebar.invite.team.agent.email.inactive.variant");var s=h(e),a=f(s,"username",e.username);this.errorDialogId="sd-invite-team-error-user-exists-"+(new Date).getTime();return n={error:!0,errorContent:c.getJSMRebrandText(AJS.format("The user is inactive. {0}Activate{1} their account then invite them to your service project.",'<a href="'+a+'">',"</a>"),AJS.format("The user is inactive. {0}Activate{1} their account then invite them to your service desk project.",'<a href="'+a+'">',"</a>")),errorDialogId:this.errorDialogId,email:i},t(this._template.recipientEmailError(n))}if(e)return r.trackEvent("project.sidebar.invite.team.agent.email.used.variant"),n={email:i,accountid:e.accountId,isExistedAgent:e.agent&&e.active},t(this._template.recipientEmailResolvedAccountId(n));else return r.trackEvent("project.sidebar.invite.team.agent.email.new.variant"),n={email:i},t(this._template.recipientEmailNotFound(n))},_renders:{item:function(){var n=this,a=this.options.descriptor,o=(this.options.usesServiceDeskTerminology,void 0),c=void 0;if(!0!==a.noExactMatch()){if(o={icon:a.icon(),displayName:e.escapeMarkup(a.label()),isExistedAgent:a.meta().isAgent,accountid:a.value()},a.meta().isAgent)r.trackEvent("project.sidebar.invite.team.agent.allocated");else r.trackEvent("project.sidebar.invite.team.agent.promoted");c=t(this._template.recipientAccountId(o))}else{o={email:a.value()};var l=t(this._template.recipientEmail(o)),u=(l.find("span.email"),l.find(".js-sd-spinner"),p(o.email));s.get(u).done(function(e){var t=i.first(e),s=n._handleEmailUser(t,o.email);l.replaceWith(s),l=s,n.$lozenge=l,n.$removeButton=n.$lozenge.find(".js-delete-an-invited-agent"),n._assignEvents("lozenge",n.$lozenge),n._assignEvents("removeButton",n.$removeButton),l.trigger("itemStatusUpdated")}),c=l}return c}}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(7),i(35),i(436),i(438),i(32)],void 0!==(s=function(e,t,i,n,s,r,a){return n.extend({init:function(i){var n=i.restPath,o=function(e){var i=[];return t.each(e,function(e){var t=e.emailAddress?e.displayName+" - "+e.emailAddress:e.displayName;i.push(new a({value:e.accountId,label:t,icon:e.avatar,meta:{isAgent:e.agent,email:e.emailAddress}}))}),i};e.extend(i,{userEnteredOptionsMsg:"Email address",showDropdownButton:!1,removeDuplicates:!0,suggestionsHandler:r,removeOnUnSelect:!0,itemAttrDisplayed:"label",ajaxOptions:{url:n,minQueryLength:1,query:!0,formatResponse:o},itemBuilder:t.bind(function(e){return new s({descriptor:e,container:this.$selectedItemsContainer,usesServiceDeskTerminology:!!i.usesServiceDeskTerminology})},this),itemGroup:new AJS.Group}),this._super(i),this.dropdownController.$layer.on("click",function(){return!1})},updateItemsIndent:e.noop,_renders:{selectedItemsWrapper:function(){return e('<div class="recipients"></div>')},selectedItemsContainer:function(){return e("<ol />")},description:function(t){return e("<div />").addClass("description").text(t)}}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(54),i(420)],void 0!==(s=function(e,t,i){return i.extend({formatSuggestions:function(e,t){return this.savedDescriptors=e,this._super(e,t)},validateMirroring:function(i){if(this.options.freeEmailInput&&this.savedDescriptors&&i&&i.length>0&&t.isValidEmailAddress(i))return!e.some(this.savedDescriptors,function(e){var t=e.meta();return t&&i===t.email});else return!1}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){return e.Model.extend({namedAttributes:{appLinkId:String,name:String,displayUrl:String}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(2),i(269),i(267),i(443),i(112),i(4),i(442),i(5),i(7),i(252),i(211)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l){function u(e,t){e.html(ServiceDesk.Templates.Internal.Project.Knowledge.Base.error({errorMessages:t}))}function d(e,t,i){e.prepend(ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted({spaceName:t,spaceKey:i}))}var p={search:".js-sd-kb-smart-search",getStarted:".js-sd-kb-get-started",linkSpaceButton:".js-sd-kb-link-space-action",createFooter:".js-sd-kb-primary-nav-create-footer",createSpaceContainer:".js-sd-kb-create-space-action-container",errorContainer:".js-sd-kb-get-started-errors",footerContainer:".js-sd-kb-footer-container",editPermissionsLink:".js-sd-kb-edit-permissions-url"},f={RESULTS_RENDERED:"resultsRendered",QUERY_CHANGE:"queryChanged",EDIT_PERMISSIONS_LINK_CLICKED:"editPermissionsLinkClicked"},h=t.View.extend({template:ServiceDesk.Templates.Internal.Project.Knowledge.Base,events:{"click .js-sd-kb-link-space-action":"_showLinkExisting","click .js-sd-kb-create-space-action":"_onCreateSpaceClicked"},initialize:function(){this.projectKey=c.get("projectKey"),this.serviceDeskId=c.get("serviceDeskId");i.extend("servicedesk.project.sidebar.kb.primary.nav",{searchOrigin:"kb-primary-nav"});this.model=new o({projectKey:this.projectKey}),this.linkExisting=new s(this.model),this.model.fetchAppLink(),$("body").on("click","#space-suggestions",function(e){e.stopPropagation()}),this.listenTo(this.linkExisting,this.linkExisting.EVENT.KB_LINKED,this._onKbLinked),this.$el.html(this.template.contents())},render:function(){if(this.isKbEnabled=r.isAvailable(),this._renderDefaultFooter(this.isKbEnabled),this._initSearch(this.isKbEnabled),this.isKbEnabled&&!this.hasQuery())this._renderCreateFooter();if(!this.isKbEnabled&&r.hasError())this._renderKBError()},focus:function(){if(this.isKbEnabled)this.kbSearchController.focus();else this.$(p.linkSpaceButton).focus()},hasQuery:function(){return this.kbSearchController&&this.kbSearchController.hasQuery()},_renderKBError:function(){var e=void 0;if(r.isMissingApplicationLinkError())e=[AJS.format("Can\'\'t connect to Confluence because the application link is missing. You can {0}fix the application link{1}, or link a different knowledge base space.",'<a href="'+l+'/plugins/servlet/applinks/listApplicationLinks" target="_blank">',"</a>")];else if(r.isNonSystemApplinkNotSupportedError())e=[AJS.format("Can\'\'t connect to Confluence because the current application link is not supported. You can fix this by {0} linking to a knowledge base on Confluence same domain {1}",'<a href="'+l+"/servicedesk/admin/"+this.projectKey+'/confluence-kb" target="_blank">',"</a>")];if(e)u(this.$(p.errorContainer),[e])},_renderDefaultFooter:function(e){this.$(p.footerContainer).html(this.template.footer({kbEnabled:e}))},_renderCreateFooter:function(){this.$(p.createFooter).html(this.template.createArticleAndGoToConfluenceFooter({createDialogUrl:r.getSpaceUrlWithCreateDialog(),spaceUrl:r.getSpaceUrl()}))},_initSearch:function(e){var t=this;if(!this.kbSearchController){var s=i.extend("servicedesk.project.sidebar.kb.primary.nav",{searchOrigin:"kb-primary-nav"});this.kbSearchController=new n(s,{projectKey:this.projectKey,serviceDeskId:this.serviceDeskId,hidePadlock:!0}),this.listenTo(this.kbSearchController,"searchQueryChanged",function(e){return t._onSearchQueryChanged(e)}),this.listenTo(this.kbSearchController,this.kbSearchController.EVENT.RESULTS_RENDERED,function(){t.trigger(f.RESULTS_RENDERED)});var r=this.$(p.search);this.kbSearchController.reset(),this.kbSearchController.setElement(r),this.kbSearchController.render()}if(e)this.kbSearchController.enableSearch();else this.kbSearchController.disableSearch()},_showLinkExisting:function(e){a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.link.existing.space.clicked"),e.stopPropagation(),this.linkExisting.setElement(this.$(p.getStarted)),this.linkExisting.render()},_onKbLinked:function(e){var t=this;this.render(),this.$(p.footerContainer).prepend(this.template.completed(e)),this.$(p.editPermissionsLink).click(function(){return t.trigger(f.EDIT_PERMISSIONS_LINK_CLICKED)}),r.setAvailability(!0),this.kbSearchController.focus()},_onSearchQueryChanged:function(){this.$(p.createFooter).html(""),this.render(),this.trigger(f.QUERY_CHANGE)},_onCreateSpaceClicked:function(t){var i=this;a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.create.space.clicked");var n=this.$(p.createSpaceContainer);t.stopPropagation(),n.html(""),this.$(p.errorContainer).html(""),n.spin("small"),this.model.createSpaceForProject(this.projectKey).fail(function(t){i._renderDefaultFooter(),i._initSearch(),u(i.$(p.errorContainer),e.pluck(t.errors,"errorMessage"))}).done(function(e){r.setAvailability(!0),r.setSpaceKey(e.spaceKey),r.setConfluenceUrl(e.appLinkUrl),i.render(),d(i.$(p.footerContainer),e.spaceName,e.spaceKey),i.kbSearchController.focus()})}});return h.EVENT=f,h}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n]}return e};n=[i(1),i(0),i(111),i(4),i(440),i(264),i(290),t,i(211),i(252)],void 0!==(s=function(e,t,i,n,s,a,o,c){function l(e){n.trackEvent("servicedesk.project.sidebar.kb.primary.nav.search.result.clicked.notnewtab");var i=e.article,s=t.extend({pageId:i.id,confUrl:i.appLinkUrl,confluencePageUrl:i.confluencePageUrl,openResultsInNewTab:!1,footerView:new o(i,"servicedesk.project.sidebar.kb.primary.nav")},i),r=a.createKBPageViewer(s);r.show(),g=!1,r.on("onClose",function(){g=!0})}function u(){n.trackEvent("servicedesk.project.sidebar.kb.primary.nav.search.result.clicked.newtab")}function d(){n.trackEvent("servicedesk.project.sidebar.kb.primary.nav.create.article.clicked")}function p(){n.trackEvent("servicedesk.project.sidebar.kb.primary.nav.go.to.confluence.clicked")}function f(e){e.on("clickedNotNewTab","sd-kb-dialog-link",l),e.on("clickedNewTab","sd-kb-dialog-link",u),e.on("click",".js-create-article-link",d),e.on("click",".js-go-to-confluence-link",p)}var h=320,m="KBDialog",M="inline-dialog-"+m,g=!0,b=function(t){var a=null;e(document).on("click","#"+M,function(e){e.stopPropagation()});var o=new i(t,m,function(e,t,i){e.append(a.$el),a.render(),i(),n.trackEvent("servicedesk.project.sidebar.kb.primary.nav.inline.dialog.shown"),setTimeout(function(){a.focus()},0)},r({useLiveEvents:!0,hideDelay:null,gravity:"w",preHideCallback:function(){return g&&!AJS.InlineLayer.current},width:h},!t&&{noBind:!0}));return a=new s,a.listenTo(a,s.EVENT.RESULTS_RENDERED,function(){o.refresh()}),a.listenTo(a,s.EVENT.QUERY_CHANGE,function(){o.refresh()}),a.listenTo(a,"editPermissionsLinkClicked",function(){return o.hide()}),f(o),o};c.create=t.once(b)}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(439),i(6),i(7),i(3)],void 0!==(s=function(e,t,i,n,s,r,a){function o(e){var i=void 0;if(i=t.findWhere(e.appLinks,{isSystem:!0}))return new n(t.pick(i,"appLinkId","name","displayUrl"));else return null}function c(e,t){return{spaceName:t.name,spaceUrl:t.url,appName:e.getName(),appUrl:e.getDisplayUrl()}}function l(e){return f+"/"+encodeURIComponent(e)+"/applinks/confluence"}function u(e){return p+"/"+encodeURIComponent(e)+"/kb"}function d(e,t,i){var n=t.getAppLinkId();return u(i)+"/"+encodeURIComponent(n)+"/space/"+encodeURIComponent(e)}var p=r+"/rest/servicedesk/1/servicedesk",f=r+"/rest/servicedesk/noeyeball/1",h={errors:[{errorMessage:"Can\'t connect to Confluence because the application link is corrupt. Recreate the Confluence link in Application Links, and then try again."}]};return i.Model.extend({namedAttributes:{projectKey:String,appLink:n},fetchAppLink:function(){var t=this;return this.fetchAppLinkPromise=e.Deferred(),s.get(l(this.getProjectKey())).fail(this.fetchAppLinkPromise.reject).done(function(e){var i=o(e);if(!i)t.fetchAppLinkPromise.reject(h);t.setAppLink(i),t.fetchAppLinkPromise.resolve(i)}),this.fetchAppLinkPromise.promise()},saveKbLink:function(e){var t=this,i=this.getAppLink(),n=c(i,e);return s.post(d(e.key,i,this.getProjectKey()),n).done(function(){return t.trigger("kbLinked",n)})},createSpaceForProject:function(e){var t=r+"/rest/servicedesk/project-ui/1/knowledge-base/create-space-for-project/"+e;return s.post(t)}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(2),i(6),i(312),i(7),i(112),i(4),i(497),i(346)],void 0!==(s=function(e,t,i,n,s,r,a){function o(t){return e.pluck(t.errors,"errorMessage")}var c={spaceSelect:".js-sd-link-existing-space-select",completion:".js-linked-completion"};return t.View.extend({EVENT:{KB_LINKED:"kbLinked"},template:ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing,events:{"selected .js-sd-link-existing-space-select":"_onSpaceSelected","xhr-error .js-sd-link-existing-space-select":"_onSpaceSelectorXhrError"},initialize:function(e){n.install(),this.model=e},render:function(){var e=this;this.model.fetchAppLinkPromise.done(function(){return e.$el.html(e.template.selectSpace(e.model.toJSON()))}).fail(function(t){return e._renderAppLinkError(t)}).always(function(){return e.$el.removeClass("loading")})},hideCompletion:function(){this.$(c.completion).hide()},_onSpaceSelected:function(){var e=this;a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.link.existing.space.selected"),this._clearNonAppLinkErrorMessages();var t=this._getSpaceSelector(),i=t.getSelectedSpace();if(i)t.disable(),this.model.saveKbLink(i).done(function(){return e._onSuccessfulSave(i)}).fail(function(t){return e._renderNonAppLinkError(t)}).always(function(){return t.enable()})},_onSuccessfulSave:function(e){r.setAvailability(!0),r.setSpaceKey(e.key),r.setConfluenceUrl(this.model.getAppLink().getDisplayUrl()),this.trigger(this.EVENT.KB_LINKED,{spaceName:e.name,spaceUrl:e.url,editPermissionsUrl:this._getEditPermissionsUrl()})},_onSpaceSelectorXhrError:function(e,t){this._renderNonAppLinkError(t)},_getSpaceSelector:function(){return this.$(c.spaceSelect)[0]},_getEditPermissionsUrl:function(){return s+"/servicedesk/admin/"+this.model.getProjectKey()+"/confluence-kb"},_renderAppLinkError:function(e){var t=this.template.appLinkError({errors:o(e)});this.$el.html(t)},_renderNonAppLinkError:function(e){this._clearNonAppLinkErrorMessages();var t=this.template.nonAppLinkError({errors:o(e)});this.$el.find(c.spaceSelect).after(t)},_clearNonAppLinkErrorMessages:function(){this.$(".error").remove()}})}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(0),i(1),i(226),i(430),i(433),i(441),i(263),i(51),i(4),i(44),i(225),i(23),t,i(477),i(154),i(176)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p){p.install=e.once(function(i){a.install();var o=function(t,n){var s=e.once(n);i.onItemClick(i.viewIds.SERVICE_DESK,t,function(e){s(null).show(e)})};o(i.itemIds.SERVICE_DESK.HOME.KNOWLEDGE_BASE,r.create),o(i.itemIds.SERVICE_DESK.HOME.CUSTOMER_CHANNELS,n.create),o(i.itemIds.SERVICE_DESK.HOME.INVITE_TEAM,s.create);try{u.enable({sidebar:i})}catch(e){d.fireOperationalEvent({source:"inviteTeamDeepLink",actionSubject:"deepLink",action:"enableError",attributes:{error:e&&e.message}})}if(null!==window.location.pathname.match(/^\/browse\//)){var c=window.location.pathname.match(/^\/browse\/([A-Z]+)-[0-9]/);if(c&&c.length>1)fetch("/rest/api/2/project/"+c[1]).then(function(e){return e.json()}).then(function(e){if(!0===e.simplified&&"service_desk"===e.projectTypeKey)t("body").addClass("jsd-simplified-project")})}})}.apply(t,n))&&(e.exports=s)},,,,,,,,,,,,,,,function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){return e.Model.extend({namedAttributes:{runOutOfAgentLicenses:Boolean,outgoingMailConfigured:Boolean,serviceDeskPurchaseLink:String,licenseUpgradeLink:String,contactLink:String,contactEmail:String,umTroubleshootingLink:String,noDefaultGroup:Boolean},canAddNewAgent:function(){return!this.getRunOutOfAgentLicenses()&&this.getOutgoingMailConfigured()&&!this.getNoDefaultGroup()}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(317)],void 0!==(s=function(e,t){return e.Model.extend({namedAttributes:{query:String,totalUnallocatedAgents:Number,totalAllocatedAgents:Number,unallocatedAgents:t,allocatedAgents:t}})}.apply(t,n))&&(e.exports=s)},,,,,,,function(e,t,i){var n,s;n=[i(0)],void 0!==(s=function(e){function t(e,t){var i={name:e,properties:t};if(AJS&&AJS.EventQueue)AJS.EventQueue.push(i)}function i(t,i){var n=e.difference(t,e.keys(i)),s=e.chain(i).pick(t).pairs().filter(function(t){return e.isUndefined(t[1])||e.isNull(t[1])}).object().keys().value();return e.union(n,s)}function n(e,n,s){var r=i(n,s);if(0===r.length)t(e,s);else console.error("Couldn't track event",e,"missing these parameters",r)}function s(e,t){n(e,["pageId","spaceKey","pageTitle","service_desk_ids","appLinkId"],t)}function r(e,t){n(e,["searchTerm","searchTime","origin"],t)}return{validateAndTrackEvent:n,trackKbHelpfulClicked:function(e){s("stats.event.kb.helpful.clicked",e)},trackKbNotHelpfulClicked:function(e){s("stats.event.kb.not.helpful.clicked",e)},trackKbPageViewed:function(e){s("stats.event.kb.page.viewed",e)},trackSearchCompleted:function(e){r("stats.event.search.completed",e)}}}.apply(t,n))&&(e.exports=s)},,,,,,,,function(e,t,i){var n,s;n=[i(1),t],void 0!==(s=function(e,t){t.registerShowingHandler=function(t,i,n){e(document).on("showLayer",function(e,s,r){if(s===i&&r&&r.id&&r.id===t)if(n)n()})},t.registerHidingHandler=function(t,i,n){e(document).on("hideLayer",function(e,s,r){if(s===i&&r&&r.id&&r.id===t)if(n)n()})}}.apply(t,n))&&(e.exports=s)},function(e,t,i){(function(t){!function(t,i){if(!0)e.exports=i(t);else if("function"==typeof define&&define.amd)define([],i.bind(t,t));else i(t)}(void 0!==t?t:this,function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,i=String(e),n=i.length,s=-1,r="",a=i.charCodeAt(0);++s<n;)if(0!=(t=i.charCodeAt(s)))if(!(t>=1&&t<=31||127==t||0==s&&t>=48&&t<=57||1==s&&t>=48&&t<=57&&45==a))if(0!=s||1!=n||45!=t)if(!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122))r+="\\"+i.charAt(s);else r+=i.charAt(s);else r+="\\"+i.charAt(s);else r+="\\"+t.toString(16)+" ";else r+="";return r};if(!e.CSS)e.CSS={};return e.CSS.escape=t,t})}).call(t,i(11))},,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,function(e,t,i){var n,s;n=[i(1),i(604)],void 0!==(s=function(e){return JIRA.LabelPicker.extend({_getDefaultOptions:function(){return e.extend(!0,this._super(),{ajaxOptions:{projectKey:"",url:function(){var e=this.projectKey;if("function"==typeof e)e=e();return contextPath+"/rest/servicedesk/1/servicedesk/"+e+"/kb/labels"},query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(t){var i=new AJS.GroupDescriptor({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});if(t&&t.contentNameMatches&&t.contentNameMatches.length>0)e.each(t.contentNameMatches[0],function(){i.addItem(new AJS.ItemDescriptor({value:this.name,label:this.name,html:AJS.escapeHtml(this.name),highlighted:!0}))});return[i]}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.KB)ServiceDesk.Internal.KB={};if(void 0===ServiceDesk.Internal.KB.Feature)ServiceDesk.Internal.KB.Feature={};if(void 0===ServiceDesk.Internal.KB.Feature.KBViewer)ServiceDesk.Internal.KB.Feature.KBViewer={};if(void 0===ServiceDesk.Internal.KB.Feature.KBViewer.Templates)ServiceDesk.Internal.KB.Feature.KBViewer.Templates={};if(ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter=function(e,t){return e=e||{},""+aui.buttons.button({text:"Share as comment",extraClasses:"sd-kb-article-share js-sd-kb-article-share "+(!e.isShareable?"js-tooltip":""),extraAttributes:!e.isShareable?'title="'+soy.$$escapeHtml("This article is restricted. Only people with permission can view it.")+'"':"",isDisabled:!e.isShareable})},goog.DEBUG)ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter";n=[i(18)],void 0!==(s=function(){return ServiceDesk.Internal.KB.Feature.KBViewer.Templates}.apply(t,n))&&(e.exports=s)},,,function(e,t,i){var n,s;n=[i(1),t,i(223),i(50)],void 0!==(s=function(e,t,i,n){t.shareArticle=function(t,s,r){var a=e("sd-comment.sd-comment-container").last().get(0);if(a){var o=n.getWikiMarkupForArticleLink(t);a.enableCommentWithoutPrefill();var c=a.getCurrentCommentValue();if(!c||c.trim().length<=0)a.appendToInProgressComment(o);else a.appendToInProgressComment("\n\n"+o)}i.trackArticleShared(s,r)}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(1),i(0),i(9),i(709),i(264),i(520),i(422),i(50),i(517)],void 0!==(s=function(e,t,i,n,s,r,a,o,c){return e.View.extend({showSharableArticle:function(e,n){var r=this,o=new s({shareable:e.shareable}),c=i.extend({footerView:o,pageId:e.id,confUrl:e.appLinkUrl,openResultsInNewTab:!1,onPageShown:t.noop},e),l=this._showPageViewer(c);this.listenTo(o,"shareClicked",function(){l.dialog.hide(),r.trigger("shareClicked"),a.shareArticle(e,n,"view")})},showArticle:function(e){var t=i.extend({pageId:e.id,confUrl:e.appLinkUrl,confluencePageUrl:e.confluencePageUrl,openResultsInNewTab:!1},e);this._showPageViewer(t)},showErrorDialog:function(e){var t="Cannot display article",i=o.getProjectKey(),n=c.getKBSettingsPageUrl(i);r.createErrorDialog(t,e,n).show()},_showPageViewer:function(e){var t=this,i=r.createKBPageViewer(e);return this.listenTo(i,"onClose",function(){t.trigger("onClose")}),i.show(),i}})}.apply(t,n))&&(e.exports=s)},,,function(e,t,i){var n,s;n=[i(0),i(1),i(5),i(747),i(748),i(320),t],void 0!==(s=function(e,t,i,n,s,r,a){function o(){return t(".sd-comment-container").data("is-rte-enabled")}a.isDialogVisible=function(){return this.dialogView&&this.dialogView.isDialogVisible()},a.isSDProject=function(){return"service_desk"===(t("#dnd-metadata-webpanel").data("project-type")||i.get("issue-project-type")||r.getCurrentProjectType())},a.isAgent=function(){return t(".sd-comment-container").data("is-agent")},a.isSecurityLevelAvailable=function(){return t(".sd-comment-container").data("is-security-level-available")},a.Dialog=function(i){if(a.isDialogVisible())this.dialogView.addFiles(i.files);else this.deferred=t.Deferred(),this.dialogModel=new n(e.extend({isRteEnabled:o()},i)),this.dialogView=new s({model:this.dialogModel}),this.dialogView.on("attachmentsAddedSuccessfully",e.bind(function(){this.deferred.resolve()},this));return this.deferred}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(754),i(711)],void 0!==(s=function(e,t,i,n){return t.Model.extend({namedAttributes:{issueId:String,showIcon:Boolean,currentRequestType:i,customerVisibleStatusName:String,url:String,requestChannelText:String,requestChannelTooltip:String,canUpdateRequest:Boolean,requestLanguage:n,isSimplified:Boolean}})}.apply(t,n))&&(e.exports=s)},,,,function(e,t,i){!function(e,t,i,n){e(function(){n.bind(i.ISSUE_REFRESHED,function(){jQuery("body > .sd-customfield-tip").remove()})}),t.install()}(i(1),i(681),i(75),i(37),i(760),i(254),i(124))},,,,,,,,,,function(e,t,i){!function(e,t){e(function(){t.install()})}(i(1),i(159),i(761))},,,,,function(e,t,i){!function(e,t,i){e(function(){t.install(),i.install()})}(i(1),i(161),i(684))},,function(e,t,i){!function(e){e.install()}(i(703))},,,,,,function(e,t,i){!function(e,t,i,n){e(function(){t.install(),i.install(),n.addAnalyticListeners()})}(i(1),i(162),i(163),i(410))},,,,,,,,,,,,,,,,,,,,,function(e,t,i){!function(e,t,i,n,s,r,a,o,c,l){var u=this;e(function(){if(JIRA.Issues&&JIRA.Issues.Application)JIRA.Issues.Application.on("navigation:stateChanged",function(e){a.processIssueView("jira",e.selectedIssueKey)},u);t.install(),i.install(),n.install(),s.install(),r.listenForAnalytics(),r.addInlineEditFocusHandler(),r.addInlineEditBlurHandler(),c.install(),JIRA.API.getNavigationApi().then(function(e){o.install(e)})})}(i(1),i(746),i(752),i(755),i(749),i(751),i(101),i(445),i(116),i(44))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.Feature)ServiceDesk.Internal.Feature={};if(void 0===ServiceDesk.Internal.Feature.KbLabelSelect)ServiceDesk.Internal.Feature.KbLabelSelect={};if(void 0===ServiceDesk.Internal.Feature.KbLabelSelect.Templates)ServiceDesk.Internal.Feature.KbLabelSelect.Templates={};if(ServiceDesk.Internal.Feature.KbLabelSelect.Templates.enabledLabelSelectEdit=function(e,t){for(var i='<select multiple="multiple" class="select imagebacked field-visible-required hidden" data-edit-value="" name="'+soy.$$escapeHtml(e.name)+'" id="'+soy.$$escapeHtml(e.name)+'Key">',n=e.labels,s=n.length,r=0;r<s;r++){var a=n[r];i+='<option selected="selected" value="'+soy.$$escapeHtml(a)+'">'+soy.$$escapeHtml(a)+"</option>"}return i+="</select>"},goog.DEBUG)ServiceDesk.Internal.Feature.KbLabelSelect.Templates.enabledLabelSelectEdit.soyTemplateName="ServiceDesk.Internal.Feature.KbLabelSelect.Templates.enabledLabelSelectEdit";if(ServiceDesk.Internal.Feature.KbLabelSelect.Templates.requiredLabelSelectRead=function(e,t){for(var i="",n=e.labels,s=n.length,r=0;r<s;r++){var a=n[r];i+='<span id="unclickable-label" class="aui-label">'+soy.$$escapeHtml(a)+"</span>"}return i},goog.DEBUG)ServiceDesk.Internal.Feature.KbLabelSelect.Templates.requiredLabelSelectRead.soyTemplateName="ServiceDesk.Internal.Feature.KbLabelSelect.Templates.requiredLabelSelectRead";n=[],void 0!==(s=function(){return ServiceDesk.Internal.Feature.KbLabelSelect.Templates}.apply(t,n))&&(e.exports=s)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.CmdbObjectFieldView)ServiceDesk.Templates.Components.CmdbObjectFieldView={};if(ServiceDesk.Templates.Components.CmdbObjectFieldView.cmdbObjectCard=function(e,t){return'<div class="cmdb-object-field-view-card"><img class="cmdb-object-field-view-card-icon" src="'+soy.$$escapeHtml(e.iconUrl)+'" /><a target="_blank" href="'+soy.$$escapeHtml(e.link)+'"><p class="cmdb-object-label">'+soy.$$escapeHtml(e.label)+"</p></a></div>"},goog.DEBUG)ServiceDesk.Templates.Components.CmdbObjectFieldView.cmdbObjectCard.soyTemplateName="ServiceDesk.Templates.Components.CmdbObjectFieldView.cmdbObjectCard";if(ServiceDesk.Templates.Components.CmdbObjectFieldView.errorCard=function(e,t){return'<div class="cmdb-object-field-view-card"><p class="cmdb-object-label">'+soy.$$escapeHtml(e.message)+"</p></div>"},goog.DEBUG)ServiceDesk.Templates.Components.CmdbObjectFieldView.errorCard.soyTemplateName="ServiceDesk.Templates.Components.CmdbObjectFieldView.errorCard";if(ServiceDesk.Templates.Components.CmdbObjectFieldView.loading=function(e,t){return'<div class="sd-spinner-adg3-small"><svg focusable="false" height="20" size="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" ><circle cx=10 cy=10 r=9 /></svg></div>'},goog.DEBUG)ServiceDesk.Templates.Components.CmdbObjectFieldView.loading.soyTemplateName="ServiceDesk.Templates.Components.CmdbObjectFieldView.loading";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.CmdbObjectFieldView}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.KB)ServiceDesk.Internal.KB={};if(void 0===ServiceDesk.Internal.KB.Feature)ServiceDesk.Internal.KB.Feature={};if(void 0===ServiceDesk.Internal.KB.Feature.CreateKB)ServiceDesk.Internal.KB.Feature.CreateKB={};if(ServiceDesk.Internal.KB.Feature.CreateKB.dialog=function(e,t){return'<div class="sd-kb-container"><form class="aui top-label"><div class="field-group"><label for="kb-primary-problem">'+soy.$$escapeHtml("Primary problem / desired outcome")+'</label><input id="kb-primary-problem" name="articleSummary" type="text" class="text" value="'+soy.$$escapeHtml(e.title)+'" maxlength="255" /></div><div class="field-group"><label for="kb-labels">'+soy.$$escapeHtml("Labels")+'</label><select id="kb-labels" multiple="articleLabels" class="hidden"></select></div><div class="field-group"><label for="kb-template">'+soy.$$escapeHtml("Template")+'</label><select class="select" id="kb-template" name="templateKey"><option selected="selected" value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-troubleshooting-article-blueprint" label="'+soy.$$escapeHtml("Troubleshooting")+'">'+soy.$$escapeHtml("Troubleshooting")+'</option><option value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-how-to-article-blueprint" label="'+soy.$$escapeHtml("How-To")+'">'+soy.$$escapeHtml("How-To")+'</option></select></div><div class="field-group sd-button-group"><div class="spinner sd-gs-spinner"></div><button type="submit" accesskey="'+soy.$$escapeHtml("s")+'" class="aui-button aui-button-primary" > '+soy.$$escapeHtml("Create")+'</button><a class="cancel sd-cancel-create-kb" href="#">Cancel</a></div><div class="errors"></div></form></div>'},goog.DEBUG)ServiceDesk.Internal.KB.Feature.CreateKB.dialog.soyTemplateName="ServiceDesk.Internal.KB.Feature.CreateKB.dialog";if(ServiceDesk.Internal.KB.Feature.CreateKB.simpleDialog=function(e,t){return'<div class="sd-kb-container"><form class="aui top-label"><div class="field-group"><input id="kb-primary-problem" name="articleSummary" type="text" class="text kb-primary-problem-kbpanel-phase2" value="'+soy.$$escapeHtml(e.title)+'" maxlength="255" /></div><div class="field-group"><select class="select" id="kb-template" name="templateKey"><option selected="selected" data-placeholder="true">'+soy.$$escapeHtml("Choose a template")+'</option><option value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-troubleshooting-article-blueprint" label="'+soy.$$escapeHtml("Troubleshooting")+'">'+soy.$$escapeHtml("Troubleshooting")+'</option><option value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-how-to-article-blueprint" label="'+soy.$$escapeHtml("How-To")+'">'+soy.$$escapeHtml("How-To")+'</option></select></div><div class="field-group sd-button-group"><div class="spinner sd-gs-spinner"></div><button type="submit" accesskey="'+soy.$$escapeHtml("s")+'" class="aui-button aui-button-primary" > '+soy.$$escapeHtml("Create")+"</button>"+aui.buttons.button({extraClasses:"cancel sd-cancel-create-kb",type:"link",text:"Cancel"})+'</div><div class="errors"></div></form></div>'},goog.DEBUG)ServiceDesk.Internal.KB.Feature.CreateKB.simpleDialog.soyTemplateName="ServiceDesk.Internal.KB.Feature.CreateKB.simpleDialog";n=[i(18)],void 0!==(s=function(){return ServiceDesk.Internal.KB.Feature.CreateKB}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.KB)ServiceDesk.Internal.KB={};if(void 0===ServiceDesk.Internal.KB.Feature)ServiceDesk.Internal.KB.Feature={};if(void 0===ServiceDesk.Internal.KB.Feature.KBPanel)ServiceDesk.Internal.KB.Feature.KBPanel={};if(void 0===ServiceDesk.Internal.KB.Feature.KBPanel.Templates)ServiceDesk.Internal.KB.Feature.KBPanel.Templates={};if(ServiceDesk.Internal.KB.Feature.KBPanel.Templates.buttonContainer=function(e,t){return'<div class="js-sd-kb-panel-container sd-kb-panel-container"><div class="js-sd-kb-articles sd-kb-articles"></div>'+aui.buttons.button({text:"Create article",extraClasses:"js-sd-create-kb-button"})+"<div>"},goog.DEBUG)ServiceDesk.Internal.KB.Feature.KBPanel.Templates.buttonContainer.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBPanel.Templates.buttonContainer";if(ServiceDesk.Internal.KB.Feature.KBPanel.Templates.linkContainer=function(e,t){return'<div class="js-sd-kb-panel-container sd-kb-panel-container"><div class="js-sd-kb-articles sd-kb-articles"></div><span>'+soy.$$filterNoAutoescape(AJS.format("Didn\'\'t find a suitable article? {0}Search knowledge base{1} or {2}create an article{3}.",'<button class="aui-button aui-button-link js-sd-search-kb-button sd-search-kb-link">',"</button>",'<button class="aui-button aui-button-link js-sd-create-kb-button sd-create-kb-link">',"</button>"))+"</span><div>"},goog.DEBUG)ServiceDesk.Internal.KB.Feature.KBPanel.Templates.linkContainer.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBPanel.Templates.linkContainer";n=[i(18)],void 0!==(s=function(){return ServiceDesk.Internal.KB.Feature.KBPanel.Templates}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.KB)ServiceDesk.Internal.KB={};if(void 0===ServiceDesk.Internal.KB.Feature)ServiceDesk.Internal.KB.Feature={};if(void 0===ServiceDesk.Internal.KB.Feature.KBSearcher)ServiceDesk.Internal.KB.Feature.KBSearcher={};if(void 0===ServiceDesk.Internal.KB.Feature.KBSearcher.Error)ServiceDesk.Internal.KB.Feature.KBSearcher.Error={};if(ServiceDesk.Internal.KB.Feature.KBSearcher.Error.error=function(e,t){for(var i='<div class="sd-kb-article-results aui-message aui-message-error">',n=e.messages,s=n.length,r=0;r<s;r++){var a=n[r];i+="<p>"+soy.$$escapeHtml(a)+"</p>"}return i+=(e.displayKBSettingsLink?'<p><a href="'+soy.$$escapeHtml(e.kbSettingsPageUrl)+'" target="_blank">'+soy.$$escapeHtml("Manage knowledge base settings")+"</a></p>":"")+"</div>"},goog.DEBUG)ServiceDesk.Internal.KB.Feature.KBSearcher.Error.error.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Error.error";if(ServiceDesk.Internal.KB.Feature.KBSearcher.Error.info=function(e,t){for(var i='<div class="sd-kb-article-results">',n=e.messages,s=n.length,r=0;r<s;r++){var a=n[r];i+="<p>"+soy.$$escapeHtml(a)+"</p>"}return i+="</div>"},goog.DEBUG)ServiceDesk.Internal.KB.Feature.KBSearcher.Error.info.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Error.info";n=[],void 0!==(s=function(){return ServiceDesk.Internal.KB.Feature.KBSearcher.Error}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.KB)ServiceDesk.Internal.KB={};if(void 0===ServiceDesk.Internal.KB.Feature)ServiceDesk.Internal.KB.Feature={};if(void 0===ServiceDesk.Internal.KB.Feature.KBSearcher)ServiceDesk.Internal.KB.Feature.KBSearcher={};if(void 0===ServiceDesk.Internal.KB.Feature.KBSearcher.Results)ServiceDesk.Internal.KB.Feature.KBSearcher.Results={};if(void 0===ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates)ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates={};if(ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.spinner=function(e,t){return'<div class="sd-kb-article-results sd-kb-article-results-loading"><span class="sd-spinner-medium"></span><div>'},goog.DEBUG)ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.spinner.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.spinner";if(ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.searchResults=function(e,t){var i='<div class="sd-kb-article-results">';if(e.articles.length>0)for(var n=e.articles,s=n.length,r=0;r<s;r++){var a=n[r],o="sd-kb-related-article-"+soy.$$escapeHtml(a.id);i+='<div class="aui-group sd-kb-article js-sd-kb-article"><div class="aui-item aui-item sd-kb-article-item"><sd-kb-dialog-link id="'+soy.$$escapeHtml(o)+'" data-id="'+soy.$$escapeHtml(a.id)+'" data-title="'+soy.$$escapeHtml(a.title)+'" data-applink-url="'+soy.$$escapeHtml(a.appLinkUrl)+'" data-shareable="'+soy.$$escapeHtml(a.shareable)+'" data-applink-id="'+soy.$$escapeHtml(a.appLinkId)+'"></sd-kb-dialog-link></div><div class="aui-item">'+aui.buttons.button({text:"Share as comment",extraClasses:"sd-kb-article-share js-sd-kb-article-share",extraAttributes:{"aria-describedBy":o,"share-for":o},isDisabled:!a.shareable})+"</div></div>"}else i+=soy.$$escapeHtml("No related articles found.");return i+="</div>"},goog.DEBUG)ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.searchResults.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.searchResults";n=[i(18)],void 0!==(s=function(){return ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.LingoIntegration)ServiceDesk.LingoIntegration={};if(void 0===ServiceDesk.LingoIntegration.Component)ServiceDesk.LingoIntegration.Component={};if(void 0===ServiceDesk.LingoIntegration.Component.RequestLanguage)ServiceDesk.LingoIntegration.Component.RequestLanguage={};if(ServiceDesk.LingoIntegration.Component.RequestLanguage.container=function(e,t){return'<div class="js-request-language-container sd-request-language-container">'+ServiceDesk.LingoIntegration.Component.RequestLanguage.readView(e)+"</div>"},goog.DEBUG)ServiceDesk.LingoIntegration.Component.RequestLanguage.container.soyTemplateName="ServiceDesk.LingoIntegration.Component.RequestLanguage.container";if(ServiceDesk.LingoIntegration.Component.RequestLanguage.readView=function(e,t){return'<div class="js-request-language-selected-label">'+(e.label?soy.$$escapeHtml(e.label):soy.$$escapeHtml("Language unknown"))+"</div>"},goog.DEBUG)ServiceDesk.LingoIntegration.Component.RequestLanguage.readView.soyTemplateName="ServiceDesk.LingoIntegration.Component.RequestLanguage.readView";if(ServiceDesk.LingoIntegration.Component.RequestLanguage.editView=function(e,t){for(var i='<select class="sd-request-language-select js-request-language-select" value="'+soy.$$escapeHtml(e.value)+'" name="requestLanguage">',n=e.options,s=n.length,r=0;r<s;r++){var a=n[r];i+='<option value="'+soy.$$escapeHtml(a.value)+'" '+(a.selected?"selected":"")+">"+soy.$$escapeHtml(a.label)+"</aui-option>"}return i+="</select>"},goog.DEBUG)ServiceDesk.LingoIntegration.Component.RequestLanguage.editView.soyTemplateName="ServiceDesk.LingoIntegration.Component.RequestLanguage.editView";n=[],void 0!==(s=function(){return ServiceDesk.LingoIntegration.Component.RequestLanguage}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.InternalApi)ServiceDesk.InternalApi={};if(void 0===ServiceDesk.InternalApi.Feature)ServiceDesk.InternalApi.Feature={};if(void 0===ServiceDesk.InternalApi.Feature.LoadingIndicator)ServiceDesk.InternalApi.Feature.LoadingIndicator={};if(ServiceDesk.InternalApi.Feature.LoadingIndicator.default=function(e,t){return'<div class="sd-loading-indicator"><div class="sd-spinner"></div></div>'},goog.DEBUG)ServiceDesk.InternalApi.Feature.LoadingIndicator.default.soyTemplateName="ServiceDesk.InternalApi.Feature.LoadingIndicator.default";n=[],void 0!==(s=function(){return ServiceDesk.InternalApi.Feature.LoadingIndicator}.apply(t,n))&&(e.exports=s)},,,,,,,function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Attachments)ServiceDesk.Templates.Attachments={};if(ServiceDesk.Templates.Attachments.dialog=function(e,t){return'<section role="dialog" class="aui-layer aui-dialog2 aui-dialog2-xlarge servicedesk-attachments-dialog jira-dialog dialog-can-receive-files" data-aui-modal="true" data-aui-remove-on-hide="true" data-can-attach="true" data-insert-markup-on-browse="true" aria-hidden="true"><header class="aui-dialog2-header">'+(e.isEditComment?'<h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Edit comment")+"</h2>":'<h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Add attachments")+"</h2>")+'</header><div id="dialog-message-box" role="alert"></div><div class="aui-dialog2-content"><div class="dialog2-content-container"><div class="wiki-edit-content"><textarea autofocus name="comment" class="textarea comment-textarea wiki-textfield mentionable" data-issuekey="'+soy.$$escapeHtml(e.issueKey)+'" placeholder="'+soy.$$escapeHtml("Include a comment here...")+'"/></div>'+(e.isRteEnabled?'<div class="sd-rte-bar"></div>':"")+'<div id="attachment-area"/><div id="errors"/></div></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions sd-attach-dialog-footer-actions"><div id="attachments-dialog-error-icon"><span tabindex="0" class="aui-icon aui-icon-small aui-iconfont-error"></span></div>'+ServiceDesk.Templates.Shared.Form.submitButton({extraAttributes:{id:"button-public"},extraClasses:"aui-button-primary attachment-dialog-button",label:"Share with customer",modifierKey:e.modifierKey,accessKey:"e"})+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraAttributes:{id:"button-private"},submitButtonLabel:"Add to issue only",submitExtraClasses:"attachment-dialog-button",modifierKey:e.modifierKey,alignment:"right",cancelText:"Cancel",cancelExtraClasses:"js-dialog-close-button",cancelExtraAttributes:{id:"button-cancel"}})+"</div></footer></section>"},goog.DEBUG)ServiceDesk.Templates.Attachments.dialog.soyTemplateName="ServiceDesk.Templates.Attachments.dialog";if(ServiceDesk.Templates.Attachments.displayError=function(e,t){var i="",n=""+(e.errors.length>1?ServiceDesk.Templates.Attachments.multipleErrors(e):1==e.errors.length?ServiceDesk.Templates.Attachments.singleError({errorText:e.errors[0]}):"");return i+=aui.message.error({titleContent:e.title,isCloseable:!0,id:"attachments-dialog-error-message",content:n})},goog.DEBUG)ServiceDesk.Templates.Attachments.displayError.soyTemplateName="ServiceDesk.Templates.Attachments.displayError";if(ServiceDesk.Templates.Attachments.singleError=function(e,t){return'<p id="dialog-message-box-text">'+soy.$$escapeHtml(e.errorText)+"</p>"},goog.DEBUG)ServiceDesk.Templates.Attachments.singleError.soyTemplateName="ServiceDesk.Templates.Attachments.singleError";if(ServiceDesk.Templates.Attachments.multipleErrors=function(e,t){for(var i="<ol>",n=e.errors,s=n.length,r=0;r<s;r++){var a=n[r];i+="<li><p>"+soy.$$escapeHtml(a)+"</p></li>"}return i+="</ol>"},goog.DEBUG)ServiceDesk.Templates.Attachments.multipleErrors.soyTemplateName="ServiceDesk.Templates.Attachments.multipleErrors";n=[i(30),i(63)],void 0!==(s=function(){return ServiceDesk.Templates.Attachments}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Admin)ServiceDesk.Templates.Admin={};if(void 0===ServiceDesk.Templates.Admin.CreateKB)ServiceDesk.Templates.Admin.CreateKB={};if(ServiceDesk.Templates.Admin.CreateKB.dialog=function(e,t){return'<div class="sd-kb-container"><form class="aui top-label"><div class="field-group"><label for="kb-primary-problem">'+soy.$$escapeHtml("Primary problem / desired outcome")+'</label><input id="kb-primary-problem" name="articleSummary" type="text" class="text" value="'+soy.$$escapeHtml(e.title)+'" maxlength="255" /></div><div class="field-group"><label for="kb-labels">'+soy.$$escapeHtml("Labels")+'</label><select id="kb-labels" multiple="articleLabels" class="hidden"></select></div><div class="field-group"><label for="kb-template">'+soy.$$escapeHtml("Template")+'</label><select class="select" id="kb-template" name="templateKey"><option selected="selected" value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-troubleshooting-article-blueprint" label="'+soy.$$escapeHtml("Troubleshooting")+'">'+soy.$$escapeHtml("Troubleshooting")+'</option><option value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-how-to-article-blueprint" label="'+soy.$$escapeHtml("How-To")+'">'+soy.$$escapeHtml("How-To")+'</option></select></div><div class="field-group sd-button-group"><div class="spinner sd-gs-spinner"></div><button type="submit" accesskey="'+soy.$$escapeHtml("s")+'" class="aui-button aui-button-primary" > '+soy.$$escapeHtml("Create")+'</button><a class="cancel sd-cancel-create-kb" href="#">Cancel</a></div><div class="errors"></div></form></div>'},goog.DEBUG)ServiceDesk.Templates.Admin.CreateKB.dialog.soyTemplateName="ServiceDesk.Templates.Admin.CreateKB.dialog";n=[],void 0!==(s=function(){return ServiceDesk.Templates.Admin.CreateKB}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Agent)ServiceDesk.Templates.Agent={};if(void 0===ServiceDesk.Templates.Agent.Customer)ServiceDesk.Templates.Agent.Customer={};if(void 0===ServiceDesk.Templates.Agent.Customer.Issue)ServiceDesk.Templates.Agent.Customer.Issue={};if(ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanel=function(e,t){return""+(e.errorMessage?'<div class="aui-message error"><span class="aui-icon icon-error"></span><p>'+soy.$$escapeHtml(e.errorMessage)+"</p></div>":ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelContent(e))},goog.DEBUG)ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanel.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanel";if(ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelComponentWrapper=function(e,t){return e=e||{},e.errorMessage?'<div class="aui-message error"><span class="aui-icon icon-error"></span><p>'+soy.$$escapeHtml(e.errorMessage)+"</p></div>":'<sd-customer-portal-panel-wrapper><div class="hidden js-customer-portal-panel-params">'+soy.$$escapeHtml(e.params)+"</div></sd-customer-portal-panel-wrapper>"},goog.DEBUG)ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelComponentWrapper.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelComponentWrapper";if(ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelContent=function(e,t){return'<div class="sd-customer-portal-panel js-customer-portal-panel" data-rt-id="'+soy.$$escapeHtml(e.requestTypeId)+'" data-rt-iconid="'+soy.$$escapeHtml(e.requestTypeIconId)+'" data-rt-iconurl="'+soy.$$escapeHtml(e.iconUrl)+'"><ul class="item-details"><li class="customer-portal-details">'+(!e.isSimplified?'<dl class="sd-request-type-list-item"><dt>'+soy.$$escapeHtml("Request type")+':</dt><dd><span id="'+(e.canUpdateRequest?"sd-request-type":"sd-request-type-uneditable")+'" class="sd-request-type">'+ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView({id:e.requestTypeId,showIcon:e.showIcon,name:e.requestTypeName,icon:e.requestTypeIconId,iconUrl:e.iconUrl})+"</span>"+(-1==e.requestTypeId?'<span class="aui-icon aui-icon-small aui-iconfont-help sd-invalid-request-type-help js-tooltip" title="'+soy.$$escapeHtml("The request type set is not valid for this type of issue. This means customers will be unable to view all request details. To fix this, select a valid request type.")+'"></span>':"")+"</dd></dl>":"")+(e.customerVisibleStatusName?"<dl><dt>"+soy.$$escapeHtml("Customer status")+':</dt><dd id="sd-customer-visible-status">'+soy.$$escapeHtml(e.customerVisibleStatusName)+"</dd></dl>":"")+"<dl><dt>"+soy.$$escapeHtml("Channel")+':</dt><dd id="sd-request-channel"><span class="js-tooltip" title="'+soy.$$escapeHtml(e.requestChannelTooltip)+'">'+soy.$$escapeHtml(e.requestChannelText)+"</span></dd></dl>"+(e.requestLanguage&&e.requestLanguage.options&&e.requestLanguage.options.length>1?"<dl><dt>"+soy.$$escapeHtml("Request language")+":</dt><dd><sd-request-language-field /></dd></dl>":"")+"</li></ul>"+(e.url?'<div class="sd-rt-preview"><a href="'+soy.$$escapeHtml(e.url)+'" target="_blank" class="js-open-in-tab sd-open-in-tab">'+soy.$$escapeHtml("View customer request")+"</a></div>":"")+"</div>"},goog.DEBUG)ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelContent.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelContent";if(ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView=function(e,t){return""+(e.showIcon?ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon({iconId:e.icon,iconUrl:e.iconUrl,class:"sd-readview-icon"})+soy.$$escapeHtml(e.name):-1==e.id?'<span class="error">'+soy.$$escapeHtml(e.name)+"</span>":soy.$$escapeHtml(e.name))},goog.DEBUG)ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView";if(ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView=function(e,t){return'<select name="rtId" class="js-rt-selector-element" data-issue-id="'+soy.$$escapeHtml(e.issueId)+'" data-rt-id="'+soy.$$escapeHtml(e.currentRequestTypeId)+'" data-rt-icon="'+soy.$$escapeHtml(e.currentRequestTypeIconId)+'" data-rt-icon-url="'+soy.$$escapeHtml(e.currentRequestTypeIconUrl)+'" data-rt-name="'+soy.$$escapeHtml(e.currentRequestTypeName)+'"><option value="'+soy.$$escapeHtml(e.currentRequestTypeId)+'" data-icon="'+soy.$$escapeHtml(e.currentRequestTypeIconId)+'" selected>'+soy.$$escapeHtml(e.currentRequestTypeName)+"</option></select>"},goog.DEBUG)ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView";n=[i(59)],void 0!==(s=function(){return ServiceDesk.Templates.Agent.Customer.Issue}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.SlaView)ServiceDesk.Templates.SlaView={};if(ServiceDesk.Templates.SlaView.navView=function(e,t){return e.goalView&&e.isAgent?'<div class="sla-tag-example-wrapper"><div class="sla-tag '+ServiceDesk.Templates.SlaView.getStatusClass(e)+" "+ServiceDesk.Templates.SlaView.getEmergencyClass(e)+'"><div style="mso-number-format: \\@;">'+soy.$$escapeHtml(e.goalView.remainingTime)+"</div>"+ServiceDesk.Templates.SlaView.getStatusIcon(e)+"</div></div>":!e.isAgent?'<span class="sla-agent-restricted">'+soy.$$escapeHtml("Restricted to agents")+"</span>":e.errorMessage?'<div class="aui-message error">'+soy.$$escapeHtml(e.errorMessage)+"</div>":""},goog.DEBUG)ServiceDesk.Templates.SlaView.navView.soyTemplateName="ServiceDesk.Templates.SlaView.navView";if(ServiceDesk.Templates.SlaView.issuePanelContentContainer=function(e,t){return e.goalViews?e.goalViews.length>0?'<div class="sla-view-issue-container">'+ServiceDesk.Templates.SlaView.issuePanelContent(e)+"</div>":"":e.errorMessage?'<div class="aui-message error">'+soy.$$escapeHtml(e.errorMessage)+"</div>":""},goog.DEBUG)ServiceDesk.Templates.SlaView.issuePanelContentContainer.soyTemplateName="ServiceDesk.Templates.SlaView.issuePanelContentContainer";if(ServiceDesk.Templates.SlaView.issuePanelContent=function(e,t){var i="";if(e.goalViews.length>0)for(var n=e.goalViews,s=n.length,r=0;r<s;r++){var a=n[r];i+=ServiceDesk.Templates.SlaView.issuePanelSlaView({goalView:a,hasPreviousCycles:e.hasPreviousCycles})}else i+="<p>"+soy.$$escapeHtml("SLAs have been removed")+"</p>";return i},goog.DEBUG)ServiceDesk.Templates.SlaView.issuePanelContent.soyTemplateName="ServiceDesk.Templates.SlaView.issuePanelContent";if(ServiceDesk.Templates.SlaView.issuePanelSlaView=function(e,t){var n='<div class="sla-view-issue"><div class="sla-tag-container"><div class="sla-tag '+ServiceDesk.Templates.SlaView.getStatusClass(e)+" "+ServiceDesk.Templates.SlaView.getEmergencyClass(e)+' js-tooltip" data-html="true" title="'+ServiceDesk.Templates.SlaView.issueSlaTooltipText(e)+'">'+(i(3).isFeatureEnabled("jsd.sla.improved.rendering")?'<span class="sla-tag-duration">'+soy.$$escapeHtml(e.goalView.remainingTimeHumanReadable)+"</span>":'<span class="sla-tag-duration">'+soy.$$escapeHtml(e.goalView.remainingTime)+"</span>")+ServiceDesk.Templates.SlaView.getStatusIcon(e)+'</div></div><div class="sla-view-info"><div class="sla-view-name">'+soy.$$escapeHtml(e.goalView.metricName)+"</div><div>"+(i(3).isFeatureEnabled("jsd.sla.improved.rendering")?soy.$$escapeHtml(AJS.format("within {0}",e.goalView.goalTimeHumanReadable)):soy.$$escapeHtml(AJS.format("within {0}",e.goalView.goalTimeLong)))+'\x3c!-- calendars --\x3e<span class="sla-calendar-icon js-tooltip aui-icon aui-icon-small aui-iconfont-calendar" title="'+soy.$$escapeHtml(e.goalView.calendarName)+'"></span></div></div>';if(e.hasPreviousCycles){n+='<div class="sla-view-previous-cycles">';for(var s=e.goalView.completeGoals,r=s.length,a=0;a<r;a++){var o=s[a];n+='<div class="sla-cycle'+(o.failed?" sla-cycle-unsuccessful":" sla-cycle-successful")+(a>4?" sla-hidden-cycle":"")+' js-tooltip" data-html="true" data-gravity="ne" title="'+ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText({cycle:o})+'">'+(o.failed?'<span class="aui-icon aui-icon-small aui-iconfont-close-dialog sla-cycle-icon"></span>':'<span class="aui-icon aui-icon-small aui-iconfont-success sla-cycle-icon"></span>')+"</div>"}n+=(e.goalView.completeGoals.length>5?'<a class="sla-cycle-show-button" href="#">'+soy.$$escapeHtml("More")+"</a>":"")+"</div>"}return n+="</div>"},goog.DEBUG)ServiceDesk.Templates.SlaView.issuePanelSlaView.soyTemplateName="ServiceDesk.Templates.SlaView.issuePanelSlaView";if(ServiceDesk.Templates.SlaView.issueSlaTooltipText=function(e,t){return e.goalView.closed?"<div>"+soy.$$escapeHtml(e.goalView.startTime)+" - "+soy.$$escapeHtml(e.goalView.stopTime)+"</div><div>"+soy.$$escapeHtml(AJS.format("{0} of {1}",e.goalView.remainingTimeLong,e.goalView.goalTimeLong))+"</div>":"<div>"+soy.$$escapeHtml(AJS.format("Matches: {0}",e.goalView.currentJqlMatch))+"</div><div>"+soy.$$escapeHtml(AJS.format("Runs until: {0}",e.goalView.nextConditionMatch))+"</div>"},goog.DEBUG)ServiceDesk.Templates.SlaView.issueSlaTooltipText.soyTemplateName="ServiceDesk.Templates.SlaView.issueSlaTooltipText";if(ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText=function(e,t){return"<div>"+soy.$$escapeHtml(e.cycle.startTime)+" - "+soy.$$escapeHtml(e.cycle.stopTime)+"</div><div>"+soy.$$escapeHtml(AJS.format("{0} of {1}",e.cycle.remainingTimeLong,e.cycle.goalTimeLong))+"</div>"},goog.DEBUG)ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText.soyTemplateName="ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText";if(ServiceDesk.Templates.SlaView.getStatusClass=function(e,t){return e.goalView.paused?"sla-tag-pause":e.goalView.closed?e.goalView.failed?"sla-tag-unsuccessful":"sla-tag-successful":e.goalView.active?"sla-tag-ongoing":"sla-tag-pause"},goog.DEBUG)ServiceDesk.Templates.SlaView.getStatusClass.soyTemplateName="ServiceDesk.Templates.SlaView.getStatusClass";if(ServiceDesk.Templates.SlaView.getStatusIcon=function(e,t){return e.goalView.paused?'<span class="aui-icon aui-icon-small aui-iconfont-pause sla-status-icon"></span>':e.goalView.closed?e.goalView.failed?'<span class="aui-icon aui-icon-small aui-iconfont-close-dialog sla-status-icon"></span>':'<span class="aui-icon aui-icon-small aui-iconfont-success sla-status-icon"></span>':e.goalView.active?'<span class="aui-icon aui-icon-small aui-iconfont-time sla-status-icon"></span>':'<span class="aui-icon aui-icon-small aui-iconfont-pause sla-status-icon"></span>'},goog.DEBUG)ServiceDesk.Templates.SlaView.getStatusIcon.soyTemplateName="ServiceDesk.Templates.SlaView.getStatusIcon";if(ServiceDesk.Templates.SlaView.getEmergencyClass=function(e,t){return 1!=e.goalView.closed?"breached"==e.goalView.emergencyLevel?" sla-tag-breached":"urgent"==e.goalView.emergencyLevel?" sla-tag-urgent":"important"==e.goalView.emergencyLevel?" sla-tag-important":"":""},goog.DEBUG)ServiceDesk.Templates.SlaView.getEmergencyClass.soyTemplateName="ServiceDesk.Templates.SlaView.getEmergencyClass";n=[],void 0!==(s=function(){return ServiceDesk.Templates.SlaView}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(1),i(682),i(4),i(46),i(791),i(23),t],void 0!==(s=function(e,t,i,n,s,r,a,o){function c(){return'<svg class="sd-approval-loading-state" focusable="false" height="24" size="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle></svg>'}function l(e){var i=void 0,n=void 0;if("approve"===e)i=t(".js-issueaction-approve-approval"),n=t(".js-issueaction-reject-approval");else i=t(".js-issueaction-reject-approval"),n=t(".js-issueaction-approve-approval");i.append(c()).addClass("loading"),n.attr("disabled","disabled")}function u(){t(".js-issueaction-approve-approval, .js-issueaction-reject-approval").removeClass("loading").removeAttr("disabled").find(".sd-approval-loading-state").remove()}function d(e){p.fetchActiveApproval().done(function(){if(p.getApprovalId())p.actionOnApproval({},e).done(function(){a.fireOperationalEvent({action:"recorded",actionSubject:"approverDecision",source:"issueScreen",attributes:{decision:e}}),JIRA.trigger(JIRA.Events.REFRESH_ISSUE_PAGE,[s.getIssueId()])}).fail(function(){a.fireErrorEvent("jiraServicedeskApprovalPanel.answerApprovalService","issueScreen",{attributes:{decision:e}}),JIRA.trigger(JIRA.Events.REFRESH_ISSUE_PAGE,[s.getIssueId()])});else r.showErrorMsg("You do not have any pending approval.",{closeable:!0}),JIRA.trigger(JIRA.Events.REFRESH_ISSUE_PAGE,[s.getIssueId()])}).fail(function(){u()})}var p=new i;o.install=e.once(function(){t(document).on("click",".js-issueaction-approve-approval",function(e){if(void 0===t(e.currentTarget).attr("disabled")&&!t(e.currentTarget).hasClass("loading"))l("approve"),d("approve");e.preventDefault()}),t(document).on("click",".js-issueaction-reject-approval",function(e){if(void 0===t(e.currentTarget).attr("disabled")&&!t(e.currentTarget).hasClass("loading"))l("reject"),d("reject");e.preventDefault()})})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(7),i(5),i(6)],void 0!==(s=function(e,t,i,n,s){return t.Model.extend({namedAttributes:{approvalId:String,approvalName:String},actionUrl:function(e){return i+"/rest/servicedesk/approvals/1/approval/"+this.getApprovalId()+"/"+e},activeApprovalUrl:function(){return i+"/rest/servicedesk/approvals/1/approval/request/"+JIRA.Issue.getIssueKey()+"/active"},actionOnApproval:function(e,t){return s.post(this.actionUrl(t),e)},fetchActiveApproval:function(){var e=this;return s.get(this.activeApprovalUrl()).done(function(t){if(t.length>0)e.setApprovalId(t[0].id),e.setApprovalName(t[0].name)})}})}.apply(t,n))&&(e.exports=s)},,function(e,t,i){var n,s;n=[i(1),i(26),i(127),i(762),i(664)],void 0!==(s=function(e,t,i){return t("js-cmdb-object-field-view",{created:function(t){var n=ServiceDesk.Templates.Components.CmdbObjectFieldView.loading;e(t).html(n());var s=ServiceDesk.Templates.Components.CmdbObjectFieldView.cmdbObjectCard,r=ServiceDesk.Templates.Components.CmdbObjectFieldView.errorCard,a=t.dataset.cmdbObjectId,o=t.dataset.cmdbObjectDetailsBaseUrl;i(o,a,function(i){var n=i.label,a=i.fullObjectData,o=a&&a.avatar&&a.avatar.url48,c=a&&a.links&&a.links.self;if(o&&c)e(t).html(s({iconUrl:o,label:n,link:c}));else e(t).html(r({message:n}))})}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n;void 0!==(n=function(){return AJS.Navigator}.call(t,i,t,e))&&(e.exports=n)},function(e,t,i){var n;void 0!==(n=function(){return AJS.SingleSelect}.call(t,i,t,e))&&(e.exports=n)},,,,,,,,,,,,,,function(e,t,i){var n,s;n=[i(1),i(2),i(0),i(516),i(21),i(51),i(6),i(111),i(43),i(7),i(32),t,i(223),i(665),i(764)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p){var f=t.Model.extend({namedAttributes:{issueId:Number,projectKey:String,labels:Array,title:String}}),h=function(e){return l+"/rest/servicedesk/1/servicedesk/"+e+"/kb/create-draft"},m=320,M=t.View.extend({mixins:[s],template:ServiceDesk.Internal.KB.Feature.CreateKB,events:{"click .sd-cancel-create-kb":"close",submit:"submit","change #kb-template-field":"onTemplateSelected"},close:function(e){this.options.dialog.closeRequested=!0,this.options.dialog.hide(),e.preventDefault()},initLabelPicker:function(){var e=this,t=this.$("#kb-labels");if(!t.data("ss-bound")){t.data("ss-bound",!0);var i=this.model.getProjectKey();this.labelPicker=new n({element:t,submitInputVal:!0,width:250,ajaxOptions:{projectKey:i,error:function(t,i,n,s){e._addErrors(s.data)}}}),this.labelPicker._addMultipleItems(this.model.getLabels().map(function(e){return new u({label:e,value:e,title:e})}))}},initSingleSelect:function(){var e=this.$("#kb-template");this.singleSelect=new c({element:e,itemAttrDisplayed:"label",width:m,revertOnInvalid:!0}),this.disableSubmit()},onTemplateSelected:function(){if(this.singleSelect.$field.val())this.enableSubmit()},submit:function(t){p.trackCreateArticleSubmitted();var n=h(this.model.getProjectKey()),s=e(t.target).sdSerializeObject(),r=this.model.getIssueId(),o=s.articleSummary||"";o=e.trim(o).substring(0,255);var c={issueId:r,template:s.templateKey,title:o,labels:""};this.disableSubmit(),this.$el.addClass("loading"),e(".sd-kb-container .spinner").spin(),this.createKBWindow=window.open(null,"_blank"),this.createKBWindow.document.write('<body style="background: url(data:image/gif;base64,'+this._getSpinnerImageBase64()+') no-repeat fixed 50% 50%"></body>'),a.post(n,c).done(i.bind(this.success,this)).fail(i.bind(this.error,this)),t.preventDefault()},success:function(t){if(e(".sd-kb-container .spinner").spinStop(),this.options.dialog.hide(),this.createKBWindow)this.createKBWindow.location.href=t.url;this.enableSubmit()},error:function(t){if(this.createKBWindow)this.createKBWindow.close();this._addErrors(t.responseText),this.enableSubmit(),e(".sd-kb-container .spinner").spinStop()},_getSpinnerImageBase64:function(){return"R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAkKAAAALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQJCgAAACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQJCgAAACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkECQoAAAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkECQoAAAAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAkKAAAALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAkKAAAALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQJCgAAACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQJCgAAACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA=="},_addErrors:function(t){var n=this.$(".errors");if(n.empty(),t){var s=JSON.parse(t);if(s.errors){var r=s.errors;i.each(r,function(t){e("<div />").addClass("error").text(t.errorMessage).appendTo(n)})}else if(s.message)n.append(e("<div />").addClass("error").text(s.message))}else{e("<div />").addClass("error").text("An error has occurred, we are unsure about the state of this operation. Refresh the page and try again.").appendTo(this.$(".errors"))}},complete:function(){this.$el.removeClass("loading")},render:function(){var e={title:this.model.getTitle()};this.$el.html(this.template.simpleDialog(e)).removeClass("hidden").show(),this.initSingleSelect()},focus:function(){this.$el.find(":input:visible:first").focus()}});d.create=function(t,i,n){if(t.length){var s=e("#inline-dialog-createKBDialog");if(s.length)s.remove();var r={url:h(i),data:{issueId:n}},c=a.get(r),l=void 0,u=new o(t,"createKBDialog",function(e,t,i){u.closeRequested=!1,p.trackCreateArticleDialogOpened(),c.done(function(){e.append(l.$el),i(),setTimeout(function(){l.focus()},0)})},{width:m,hideDelay:null,persistent:!0,gravity:"w",preHideCallback:function(){return p.trackCreateArticleCancelled(),!AJS.InlineLayer.current}});return c.done(function(e){var t=new f(e);l=new M({model:t,dialog:u}),l.render()}),u}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(9),i(521),i(422),i(223),i(51),i(50),i(22),i(61),t],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u){var d=".sd-activity-comment .action-body a",p=/.*http[s]*:\/\/.+?\/servicedesk\/customer\/kb\/view\/[\d]+.*/,f=function(e){if(a.isOpeningInNewTab(e))return void r.trackSharedArticleViewFromCommentNewTab();var t=e.target,i=new c(t.href);if(p.test(i.href())){e.preventDefault();var u=new n,d=i.query(!0),f=d.applicationId,h=s.getAppLinkUrl();if(!h)u.showErrorDialog(l.getJSMRebrandText("The knowledge base isn\'t correctly configured for this service project.","The knowledge base isn\'t correctly configured for this service desk.")),r.trackSharedArticleViewFromCommentErrorNoKBLink();else if(f&&f!==s.getAppLinkId())u.showErrorDialog(l.getJSMRebrandText("This knowledge base article link accesses a Confluence instance different to the one currently linked to this service project and cannot be displayed.","This knowledge base article link accesses a Confluence instance different to the one currently linked to this service desk and cannot be displayed.")),r.trackSharedArticleViewFromCommentErrorDifferentKBLink();else{var m=d.title,M=i.href(),g=i.segment(-1),b=m?m:"Knowledge base article",v=o.getRemotePageViewUrl(h,g);u.showArticle({pageId:g,titleHtml:b,confUrl:h,confluencePageUrl:v,inPageUrl:M}),r.trackSharedArticleViewFromCommentSuccessful()}}};u.install=t.once(function(){e(document).on("click",d,f).on("contextmenu",d,function(){return r.trackSharedArticleViewFromCommentNewTab()})})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(223),i(707),i(705),i(708),i(706),i(521),i(520),i(700),i(710),i(701),i(17),i(666),i(765)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p){function f(t){return e(t).closest(M).length>0?b:v}var h="#knowledgebase-issueview-panel",m="#knowledgebase-issueview-panel .toggle-title",M="#inline-dialog-searchKBDialog",g=ServiceDesk.Internal.KB.Feature.KBPanel.Templates,b="search",v="related";return t.View.extend({events:{"click .js-sd-kb-article-share":"_onKBArticleShareClicked"},initialize:function(t){var i=this;d.install(),this._detectAndSetPanelViewMode(),this.render(),this.searcherModel=new n({issueKey:t.issueKey,projectKey:t.projectKey,isProjectAdmin:t.isProjectAdmin,portalId:t.portalId,isSDRequest:t.isSDRequest,appLinkId:t.appLinkId}),this.searcherErrorModel=new s({projectKey:t.projectKey,isProjectAdmin:t.isProjectAdmin});var o=this.$el.find(".js-sd-kb-panel-container"),c=this.$el.find(".js-sd-kb-articles");this.kbSearcherResultsView=new r({el:c,model:this.searcherModel}),this.kbSearcherErrorView=new a({el:o,model:this.searcherErrorModel}),this.listenTo(this.kbSearcherErrorView,"retry:related",function(){return i._fetchRelatedArticles()}),l.create(this.$el.find(".js-sd-create-kb-button"),t.projectKey,t.issueId),this.searchKBDialog=u.create(this.$el.find(".js-sd-search-kb-button"),{issueKey:t.issueKey,projectKey:t.projectKey,portalId:t.portalId}),this._panelToggleHandler=function(){return i._handlePanelToggled()},e(m).on("click",this._panelToggleHandler),e(h).on("clickedNotNewTab","sd-kb-dialog-link",function(e){i._onKBArticleClicked(e)}),e(h).on("clickedNewTab","sd-kb-dialog-link",function(e){i._onKBArticleAltClicked(e)}),this._initRelatedArticles(),p("kb.panel.dialogs.added.to.page")},render:function(){this.$el.html(g.linkContainer())},disable:function(){if(this.stopListening(),this._panelToggleHandler)e(m).off("click",this._panelToggleHandler)},_initRelatedArticles:function(){var e=this;this._fetchRelatedArticles().done(function(t){var n=t.results;if(e.panelExpanded)i.trackPanelLoadedExpanded(n);else i.trackPanelLoadedCollapsed(n)})},_fetchRelatedArticles:function(){var e=this;return this.kbSearcherResultsView.showSpinner(),this.searcherModel.fetch().done(function(){e._handleSuccessfulRelatedArticlesFetch()}).fail(function(t){e._handleUnsuccessfulRelatedArticlesFetch(t)})},_handleSuccessfulRelatedArticlesFetch:function(){this.kbSearcherResultsView.render()},_handleUnsuccessfulRelatedArticlesFetch:function(e){var t=e.status;this.searcherErrorModel.setStatusCode(t),this.searcherErrorModel.setErrors(e.errors),this.searcherErrorModel.setReasonKey(e.reasonKey),this.kbSearcherErrorView.render()},_detectAndSetPanelViewMode:function(){if(this.panelExpanded=!0,e(h).hasClass("collapsed"))this.panelExpanded=!1},_handlePanelToggled:function(){this.panelExpanded=!this.panelExpanded;var e=v,t=this.searcherModel.getRelatedArticles().toJSON();if(this.panelExpanded)i.trackPanelExpanded(e,t);else i.trackPanelCollapsed(e,t)},_onKBArticleClicked:function(e){var t=this,n=e.article,s=new o,r=f(e.target);s.showSharableArticle(n,r),i.trackArticleViewed(r,n.shareable),this.searchKBDialog.setShouldClose(!1),this.listenTo(s,"onClose",function(){t.searchKBDialog.setShouldClose(!0)}),this.listenTo(s,"shareClicked",function(){t.searchKBDialog.forceHide()})},_onKBArticleAltClicked:function(e){var t=e.article,n=f(e.target);i.trackArticleViewedNewTab(n,t.shareable)},_onKBArticleShareClicked:function(t){var i=e(t.currentTarget),n=e("#"+i.attr("share-for"))[0].articleDetails;c.shareArticle(n,v,"list")}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(9),i(702),i(422),i(263),t],void 0!==(s=function(e,t,i,n,s,r,a){a.install=t.once(function(){i("sd-kb-panel",{created:function(e){var t=s.getIssueKey(),i=s.getIssueId(),r=s.getProjectKey(),a=s.isProjectAdmin(),o=s.getAppLinkId(),c=s.getPortalId(),l=s.isSDRequest();e.panelController=new n({el:e,issueKey:t,issueId:i,projectKey:r,isProjectAdmin:a,portalId:c,isSDRequest:l,appLinkId:o})},detached:function(e){e.panelController&&e.panelController.disable()}}),r.install()})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2)],void 0!==(s=function(e,t){return t.Model.extend({namedAttributes:{id:Number,title:String,url:String,appLinkUrl:String,fullUrl:String,inPageUrl:String,shareable:Boolean,bodyTextHighlights:String,confluencePageUrl:String,portalName:String,spaceKey:String,appLinkId:String},initialize:function(){this.setFullUrl(""+this.getAppLinkUrl()+this.getUrl())}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2)],void 0!==(s=function(e,t){return t.Model.extend({namedAttributes:{statusCode:Number,errors:Array,isProjectAdmin:Boolean,projectKey:String,reasonKey:String}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2),i(0),i(223),i(50),i(667)],void 0!==(s=function(e,t,i,n){var s=ServiceDesk.Internal.KB.Feature.KBSearcher.Error;return e.View.extend({events:{"click .js-sd-retry":"_retryFetch"},render:function(){var e=this.model.getStatusCode(),t=this.model.getReasonKey();if(403===e)this._renderNoAccessToSpaceError();else if("sd.knowledge.base.agent.issueview.panel.upgrade.confluence"===t)this._renderInformation();else this._renderErrors();return this},_getKBSettingsPageUrl:function(){var e=this.model.getProjectKey();return n.getKBSettingsPageUrl(e)},_renderNoAccessToSpaceError:function(){var e=void 0,t=!1;if(this.model.getIsProjectAdmin())e="You don\'t have access to view or create knowledge base articles.",t=!0;else e="You don\'t have access to view or create knowledge base articles. Ask a project administrator to give you access.";this.$el.html(s.error({messages:[e],displayKBSettingsLink:t,kbSettingsPageUrl:this._getKBSettingsPageUrl()}))},_renderErrors:function(){var e=t.pluck(this.model.getErrors(),"errorMessage");this.$el.html(s.error({messages:e}))},_renderInformation:function(){var e=t.pluck(this.model.getErrors(),"errorMessage");this.$el.html(s.info({messages:e}))},_retryFetch:function(){this.trigger("retry:related")}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(6),i(7),i(71),i(704),i(50),i(22),i(5),i(4),i(3)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d){var p=i.Collection.extend({model:a});return i.Model.extend({namedAttributes:{relatedArticles:p,issueKey:String,projectKey:String,isProjectAdmin:Boolean,portalId:Number,isSDRequest:Boolean,appLinkId:String,source:String},urlRoot:function(){return s+"/rest/servicedesk/knowledgebase/latest/articles/"+this.getIssueKey()},fetch:function(){var e=this;return n.get(this.urlRoot()).done(function(t){var i=t.results;e.setRelatedArticles(i);var n=e.getIssueKey(),s=e.getPortalId(),r=e.getAppLinkId();e.getRelatedArticles().forEach(function(t){var i=t.getId(),a=t.getTitle(),l=t.getSpaceKey(),u=o.generateUrl(i,a,l,r);if(e.getIsSDRequest()){var d=new c(u);d.setQuery("requestKey",n),d.setQuery("portalId",s),t.setInPageUrl(d.toString())}else t.setInPageUrl(u)})})}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(668)],void 0!==(s=function(e,t){var i=ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates;return t.View.extend({render:function(){this.$el.html(i.searchResults({articles:this.model.getRelatedArticles().toJSON()}))},showSpinner:function(){this.$el.html(i.spinner())}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(517)],void 0!==(s=function(e,t){return t.View.extend({template:ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter,shareable:!0,events:{"click .js-sd-kb-article-share":"_handleShare"},initialize:function(e){this.shareable=e.shareable},render:function(){this.$el.html(this.template({isShareable:this.shareable}))},_handleShare:function(){this.trigger("shareClicked")}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(111),i(267),i(269),i(4),i(46),t,i(766)],void 0!==(s=function(e,t,i,n,s,r,a){a.create=function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a.length){var c=e("#inline-dialog-searchKBDialog");if(c.length>0)c.remove();var l=void 0,u=new t(a,"searchKBDialog",function(t,i,n){e(document).on("click","#inline-dialog-searchKBDialog",function(e){e.stopPropagation()}),l.setElement(t),l.render(),n(),setTimeout(function(){l.focus()},0),s.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.search.inline.dialog.shown",{issueId:r.getIssueId()})},{container:"#knowledgebase-issueview-panel",hideDelay:null,gravity:"w",preHideCallback:function(){return u&&u.shouldClose},width:320}),d=n.extend("servicedesk.page.view.issue.kb.panel.expanded",{searchOrigin:"kb-panel",issueId:r.getIssueId()});return l=new i(d,o),l.listenTo(l,l.EVENT.RESULTS_RENDERED,function(){u.refresh()}),u.setShouldClose=function(e){u.shouldClose=e},u.forceHide=function(){u.shouldClose=!0,u.hide()},u}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(2),i(6),i(7)],void 0!==(s=function(e,t,i,n){var s=t.Model.extend({namedAttributes:{label:String,value:String,selected:Boolean}});return t.Model.extend({namedAttributes:{issueId:String,value:String,options:[s]},getSelectedLanguage:function(){var t=this.getValue();return e.find(this.getOptions(),function(e){return e.getValue()===t})},getSelectedLabel:function(){var e=this.getSelectedLanguage();if(e)return e.getLabel();else return""},_getRequestLanguageUpdateUrl:function(){return n+"/rest/servicedesk/lingo-integration/1/request-language/"+this.getIssueId()},updateSelectedValue:function(t){var n=this;return i.put(this._getRequestLanguageUpdateUrl(),{languageCode:t}).done(function(){n.setValue(t),e.each(n.getOptions(),function(e){e.setSelected(e.getValue()===t)})})}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}else return Array.from(e)}var s,r;s=[i(0),i(1),i(2),i(743),i(266),i(686),i(62),i(4),i(669),i(768)],void 0!==(r=function(e,t,i,s,r,a,o,c){var l=ServiceDesk.LingoIntegration.Component.RequestLanguage;return i.View.extend({initialize:function(){this.inlineEdit=r.create()},render:function(){var e=this.model.getSelectedLabel();t(this.el).html(l.container({label:e})),this._applyInlineEdit(),c.trackEvent("servicedesk.request.language.agent.view.field.rendered")},_applyInlineEdit:function(){var i=this.model,s=this;this.inlineEdit.reset([{id:"request-language",selector:".js-request-language-container",editDecorator:this._buildEditDecorator(this.model),editView:function(){var t=i.toJSON(),s={label:"Language unknown",value:"",selected:e.isEmpty(t.value)},r=i.getValue()||"",a=i.getIssueId();return c.trackEvent("servicedesk.request.language.agent.view.field.start.editing",{fromValue:r,issueId:a}),l.editView({options:[s].concat(n(t.options)),value:t.value||""})},readView:function(){var e=i.getSelectedLabel();return l.readView({label:e})},save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.getValue()||"",r=e.requestLanguage;if(n===r)return t.Deferred().resolve();var a=i.getIssueId();return i.updateSelectedValue(r).done(function(){c.trackEvent("servicedesk.request.language.agent.view.field.value.changed",{fromValue:n,toValue:r,issueId:a})}).fail(function(e){return s._handleUpdateError(e)})}}])},_handleUpdateError:function(e){o({type:"error",title:"Request language couldn\'t be updated",body:this._extractErrorMessage(e),close:"auto",persistent:!1})},_extractErrorMessage:function(t){if(!e.isObject(t))return"";var i=e.first(t.errors);if(i&&i.errorMessage)return i.errorMessage;else return""},_buildEditDecorator:function(e){return function(e){var t=e.find(".js-request-language-select");new a({element:t,itemAttrDisplayed:"label",errorMessage:"",revertOnInvalid:!1})}}})}.apply(t,s))&&(e.exports=r)},,function(e,t,i){var n,s;n=[i(1),t,i(670),i(769)],void 0!==(s=function(e,t){var i=ServiceDesk.InternalApi.Feature.LoadingIndicator.default;t.show=function(){AJS.dim(),e("body").append(i()),e(".sd-loading-indicator .sd-spinner").spin()},t.hide=function(){AJS.undim(),e(".sd-loading-indicator").remove()}}.apply(t,n))&&(e.exports=s)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,s;n=[i(0),i(54),i(783),t,i(125)],void 0!==(s=function(e,t,i,n){function s(e){return e.avatar?'<img src="'+e.avatar+'" class="user-picker-avatar aui-avatar-xsmall" />':""}function r(){return'<span class="organization-picker-avatar" />'}var a=[" ","@",".","-",'"',",","'","("];n.defaultSeparator=",",n.markMatch=function(t,n){var s=[],r=i.util.stripDiacritics(t.toUpperCase()),o=i.util.stripDiacritics(n.toUpperCase()),c=r.indexOf(o),l=n.length;if(c>0){var u=e.map(a,function(e){return r.indexOf(e+o)});if((c=e.find(u,function(e){return e>=0}))>=0)c++;else c=-1}if(c<0)return t;else return s.push(t.substring(0,c)),s.push("<span class='select2-match'>"),s.push(t.substring(c,c+l)),s.push("</span>"),s.push(t.substring(c+l,t.length)),s.join("")},n.createNewUserSearchChoice=function(e,t,i){if(i.canSubmitEmail&&this.isValidAndUniqueEmail(e,t))return{id:e,emailAddress:e,isNewSearchChoice:!0,type:"EMAIL"}},n.renderUserSuggestion=function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="",a=void 0,o=t.escapeMarkup(i.term);if(e.emailAddress){r='<span class="user-picker-mail">'+this.markMatch(t.escapeMarkup(e.emailAddress),o)+"</span>"}if(!0===e.isNewSearchChoice)return""+n.newSignupText+r;else return a='<span class="user-picker-display-name">'+this.markMatch(t.escapeMarkup(e.displayName),o)+"</span>",s(e)+a+r},n.renderEmailSuggestion=function(e,i){if(e.emailAddress){var n=t.escapeMarkup(i.term),s=t.escapeMarkup(e.emailAddress);return'<span class="user-picker-mail">'+this.markMatch(s,n)+"</span>"}return""},n.renderOrganisationSuggestion=function(e,i){var n=t.escapeMarkup(i.term),s=this.markMatch(t.escapeMarkup(e.displayName),n);return r(e)+s},n.renderOrganisationSelection=function(e){return r(e)+t.escapeMarkup(e.displayName)},n.renderUserSelection=function(e){if(e.isNewSearchChoice)return t.escapeMarkup(e.emailAddress)+ServiceDesk.Templates.Customer.newLozenge();else return s(e)+t.escapeMarkup(e.displayName)},n.renderEmailSelection=function(e){return t.escapeMarkup(e.emailAddress)},n.isValidAndUniqueEmail=function(i,n){return t.isValidEmailAddress(i)&&e.isEmpty(e.find(n,function(t){return e.contains(e.map(t,function(t){return e.isString(t)?t.toLowerCase():t}),i.toLowerCase())}))}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(1),i(9),i(524),t],void 0!==(s=function(e,t,i,n,s){s.init=function(){i("sd-edit-comment",{type:i.types.CLASS,attached:function(e){var i=t(e),s=i.data("comment-id");if(!i.closest("#comment-"+s).find(".sd-comment-secondary-details").find(".sd-comment-action-details-subtext").data("restricted-comment")||!n.isSecurityLevelAvailable())if(n.isSDProject()&&n.isAgent())i.click(function(e){return e.preventDefault(),i.blur(),n.Dialog({isEditComment:!0,commentId:s}),!1})}})}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(1),i(788),i(524),t,i(93)],void 0!==(s=function(e,t,i,n,s){s.init=function(){var e={name:"Service Desk attachment executor",weight:50,isValid:function(e,t){var i=t.isWikiTextfieldFocused||t.isRichEditorFieldFocused;return n.isDialogVisible()||n.isSDProject()&&n.isAgent()&&!i},processFiles:function(e,t){return n.Dialog({files:e,issueAttachmentDropZone:t})}};if(i.registerExecutor(e),n.isSDProject()){var t={name:"JIRA Ctrl+V attachment executor"};i.unregisterExecutor(t)}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(745),i(744),t],void 0!==(s=function(e,t,i){i.install=function(){e.init(),t.init()}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(1),i(6),i(2),i(685),i(7)],void 0!==(s=function(e,t,i,n,s,r){return n.Model.extend({namedAttributes:{files:Object,issueAttachmentDropZone:Object,dialogAttachmentDropZone:Object,isEditComment:Boolean,commentId:String,uploadedFileIds:Array,uploadingFileIdBuffer:Array,modifierKey:String,isRteEnabled:Boolean},defaults:{modifierKey:s&&s.modifierKey()},sendComment:function(e,t){var n={body:e,properties:[{key:"sd.public.comment",value:{internal:t}}],visibility:{}},s=r+"/rest/api/2/issue/"+JIRA.Issue.getIssueId()+"/comment";if(this.getIsEditComment())return s+="/"+this.getCommentId(),i.put(s,n);else return i.post(s,n)},getCurrentComment:function(){var e=t.Deferred(),n=r+"/rest/api/2/issue/"+JIRA.Issue.getIssueId()+"/comment/"+this.getCommentId();return i.get(n).done(function(t){e.resolve(t.body)}),e},uploadFiles:function(){var t=this.getDialogAttachmentDropZone();t.attachFileUrl=r+"/rest/jddap/1.0/attachment";var i=this.getUploadedFileIds(),n=e.map(e.filter(t.progressBars,function(t){return t.isSuccessful()&&!e.contains(i,t.getFileID())}),function(e){return e.getFileID()});return this.setUploadingFileIdBuffer(n),t.attachFile(n)},flushFileIdBuffer:function(){this.setUploadedFileIds(this.getUploadedFileIds().concat(this.getUploadingFileIdBuffer())),this.setUploadingFileIdBuffer([])},emptyFileIdBuffer:function(){this.setUploadingFileIdBuffer([])}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(0),i(1),i(2),i(54),i(4),i(714),i(96),i(46),i(37),i(75),i(179),i(786),i(787),i(34),i(677),i(777)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p,f){return i.View.extend({namedEvents:["attachmentsAddedSuccessfully"],template:ServiceDesk.Templates.Attachments.dialog,errorTemplate:ServiceDesk.Templates.Attachments.displayError,initialize:function(){this.$html=t(this.template({isEditComment:this.model.getIsEditComment(),issueKey:JIRA.Issue.getIssueKey(),modifierKey:this.model.getModifierKey(),isRteEnabled:this.model.getIsRteEnabled()})),this.dialog=new f(this.$html),this.$errorIcon=this.$html.find("#attachments-dialog-error-icon > .aui-icon"),this.$errorBox=this.$html.find("#dialog-message-box"),this.$publicButton=this.$html.find("#button-public"),this.$privateButton=this.$html.find("#button-private"),this.$publicButton.click(this._handlePublicButton.bind(this)),this.$privateButton.click(this._handlePrivateButton.bind(this)),this.$html.find("#button-cancel").click(this._handleCancelButton.bind(this)),this.model.setUploadedFileIds([]),this.model.setUploadingFileIdBuffer([]),this.showDialog().done(this._dialogLoaded.bind(this))},_dialogLoaded:function(){c.trigger(l.NEW_CONTENT_ADDED,[this.$html,u.panelRefreshed,"servicedesk/internal/feature/attachments-dialog/attachments-dialog.soy","servicedesk/internal/feature/attachments-dialog/attachments-dialog.less"]),s.trackEvent("agent.attachments.dialog.loaded")},_initDropzone:function(){var i=new p(this.$html.find("#attachment-area"),t("#dnd-metadata-webpanel").data("upload-limit"));this.model.setDialogAttachmentDropZone(i),this.model.getDialogAttachmentDropZone().handleFilesReceived(this.model.getFiles()),this.model.getDialogAttachmentDropZone().bind("progressBarDestroyed",e.bind(this._onProgressBarDestroyed,this)),this.model.getDialogAttachmentDropZone().bind("progressBarOnBeforeDestroy",e.bind(this._onProgressBarBeforeDestroy,this)),this.model.getDialogAttachmentDropZone().bind("progressBarStarted",e.bind(this.validate,this)),this.model.getDialogAttachmentDropZone().bind("progressBarFinished",e.bind(this.validate,this)),this.model.getDialogAttachmentDropZone().bind("progressBarFailed",e.bind(this.validate,this)),this._getTextarea().on("input propertychange keyup change",e.throttle(this.validate.bind(this),500))},addFiles:function(e){this.model.getDialogAttachmentDropZone().handleFilesReceived(e)},_handlePublicButton:function(){if(this.validate())this.disableDialogActions(),this._spinButton(this.$publicButton),this.model.uploadFiles().done(e.bind(function(){this.model.sendComment(this._getComment(),!1).done(e.bind(function(e){this.triggerAttachmentsAddedSuccessfully(),this.closeDialog(),this._triggerRefresh(e)},this)).fail(e.bind(function(e){this.displayErrors(this._getCommentErrors(e),"Failed to post comment"),this.enableDialogActions(),this.model.flushFileIdBuffer()},this))},this)).fail(e.bind(function(e){this.displayErrors(e,"Failed to attach files"),this.enableDialogActions(),this.model.emptyFileIdBuffer()},this)),s.trackEvent("agent.attachments.dialog.button.clicked.public",this._buildOnSubmitAnalyticsProperties())},_handlePrivateButton:function(){if(this.validate())this.disableDialogActions(),this._spinButton(this.$privateButton),this.model.uploadFiles().done(e.bind(function(){var i;if(this._getTextarea().val())i=this.model.sendComment(this._getComment(),!0);else i=t.Deferred().resolve();i.done(e.bind(function(e){this.triggerAttachmentsAddedSuccessfully(),this.closeDialog(),this._triggerRefresh(e)},this)).fail(e.bind(function(e){this.displayErrors(this._getCommentErrors(e),"Failed to post comment"),this.enableDialogActions(),this.model.flushFileIdBuffer()},this))},this)).fail(e.bind(function(e){this.displayErrors(e,"Failed to attach files"),this.enableDialogActions(),this.model.emptyFileIdBuffer()},this)),s.trackEvent("agent.attachments.dialog.button.clicked.private",this._buildOnSubmitAnalyticsProperties())},_buildOnSubmitAnalyticsProperties:function(){var e={},i=this._getTextarea().val()||"",s=this.model.getDialogAttachmentDropZone().getFileNames()||[],r={};return t(s).each(function(e,t){if("string"!=typeof t)return!0;var i=t.match(/\.([a-zA-Z0-9]+)$/i),n="_no_extension_";if(i instanceof Array&&i.length>1)n=i[1].toLowerCase();var s=r[n];if(!s)r[n]=1;else r[n]=s+1}),e.commentCharLength=i.length,e.attachmentWikiMarkupCount=n.countAttachmentWikiMarkup(i),e.linkWikiMarkupCount=n.countLinksWikiMarkup(i),e.temporaryAttachmentWikiMarkupCount=n.countOccurrenceOfWordsInStr(s,i),e.numFilesToBeAttached=s.length,e.fileExtensionsCount=JSON.stringify(r),e.issueId=o.getIssueId(),e},_spinButton:function(e){e.spin({top:"",left:""})},_getCommentErrors:function(e){var t=[];for(var i in e.errors)if(e.errors.hasOwnProperty(i))t.push(e.errors[i]);return t.concat(e.errorMessages)},_triggerRefresh:function(t){c.trigger(l.REFRESH_ISSUE_PAGE,[o.getIssueId(),{complete:e.bind(function(){if(t&&t.id)a.scrollToComment(t.id)},this)},"servicedesk/internal/feature/attachments-dialog/attachments-dialog.soy","servicedesk/internal/feature/attachments-dialog/attachments-dialog.less"])},_handleCancelButton:function(){var t=e.bind(function(){this.closeDialog(),s.trackEvent("agent.attachments.dialog.button.clicked.cancel")},this);if(this.model.getIsEditComment())if(this.originalComment!==this._getComment()){if(confirm("Your changes were not saved. Are you sure you want to cancel?"))t()}else t();else if(confirm("Your files were not attached. Are you sure you want to cancel?"))t()},_getTextarea:function(){return this.$html.find(".comment-textarea")},_onProgressBarBeforeDestroy:function(e,t){var i=t.$node.parent().find(".upload-progress-bar"),n=i.index(t.$node),s=n+1===i.length?n-1:n+1;this.closestProgressBar=s>-1?i[s]:null},_onProgressBarDestroyed:function(){var e;if(this.closestProgressBar)e=t(this.closestProgressBar).find(".upload-progress-bar__control button");if(e)e.focus();else this._getTextarea().focus();this.validate()},_getComment:function(){var t=this._getTextarea().val()||"",i=[];e.each(this.model.getDialogAttachmentDropZone().getFileNames(),function(e){var n=d.getMarkup(e);if(-1===t.indexOf(n))i.push(n)});var n=i.join(" ");return t+(t&&n?"\n":"")+n},validate:function(){if(!this.disabled)if(this.model.getDialogAttachmentDropZone().filesStillUploading())return this.disableSubmitDialogActions(),!1;else if(this.model.getDialogAttachmentDropZone().anyFilesFailed())return this.dialogInvalidated("Some files failed to upload. Please remove them or retry upload."),!1;else if(""===this._getComment())return this.dialogInvalidated("It looks like you still need to write a comment or attach a file"),!1;else return this.dialogValidated(),!0},displayErrors:function(t,i){this.$errorBox.html(this.errorTemplate({title:i,errors:[].concat(t)})),this.$errorBox.slideDown(),this.$errorBox.find(".aui-icon.icon-close").click(e.bind(function(){this.$errorBox.slideUp()},this))},dialogInvalidated:function(e){this.disableSubmitDialogActions(),this.addTooltip(this.$errorIcon,e),this.$errorIcon.attr("aria-label",e),this.$errorIcon.css("visibility","visible")},dialogValidated:function(){this.removeTooltip(this.$errorIcon),this.$errorIcon.css("visibility","hidden"),this.enableDialogActions()},addTooltip:function(e,t){e.attr("title",t),e.tooltip({title:"title"})},removeTooltip:function(e){e.attr("title","")},disableDialog:function(){this.disabled=!0,this.enableDialogActions(),this.disableSubmitDialogActions()},enableDialogActions:function(){this.$publicButton.spin(!1),this.$privateButton.spin(!1),this.$html.find(".aui-button").prop("disabled",!1)},disableDialogActions:function(){this.$html.find(".aui-button").prop("disabled",!0)},disableSubmitDialogActions:function(){this.$publicButton.prop("disabled",!0),this.$privateButton.prop("disabled",!0)},showDialog:function(){var e=this,i=new t.Deferred;if(this.model.getIsEditComment())r.show(),this.model.getCurrentComment().done(function(t){e._initDropzone(),e.originalComment=t;var n=e._getTextarea();n.val(t),n.trigger("input"),r.hide(),e.dialog.show(),i.resolve()});else this._initDropzone(),this.dialog.show(),i.resolve();return i},closeDialog:function(){this.$errorIcon.tooltip("hide"),this.dialog.hide()},isDialogVisible:function(){return this.dialog&&this.dialog.isVisible()}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(750),t],void 0!==(s=function(e,t,i){i.install=function(){var i=void 0;e(document).ready(function(){var n=function(){window.JIRA||(window.JIRA={}),window.JIRA.Issues||(window.JIRA.Issues={}),window.JIRA.Issues.IntroDialog||(window.JIRA.Issues.IntroDialog={}),window.JIRA.Issues.IntroDialog.dialogs||(window.JIRA.Issues.IntroDialog.dialogs={});var n=e("#sd-create-kb-link");if(i)n.off("click"),i.detach(),e("#inline-dialog-createKBDialog").remove();i=t.register(n)};n(),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,n)})}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(0),i(516),i(21),i(51),i(6),i(4),t,i(678),i(778)],void 0!==(s=function(e,t,i,n,s,r,a,o,c){var l=t.Model.extend({namedAttributes:{issueId:Number,projectKey:String,labels:Array,title:String}}),u=function(){var e=JIRA.Issue.getIssueKey();return e.substring(0,e.indexOf("-"))},d=function(){return AJS.contextPath()+"/rest/servicedesk/1/servicedesk/"+u()+"/kb/create-draft"},p=t.View.extend({mixins:[s],template:ServiceDesk.Templates.Admin.CreateKB.dialog,events:{"click .sd-cancel-create-kb":"close",submit:"submit"},disable:function(){this.undelegateEvents()},close:function(e){this.disable(),this.options.dialog.closeRequested=!0,this.options.dialog.hide(),e.preventDefault()},initLabelPicker:function(){var e=this,t=this.$("#kb-labels");if(!t.data("ss-bound"))t.data("ss-bound",!0),this.labelPicker=new n({element:t,submitInputVal:!0,width:250,ajaxOptions:{projectKey:function(){var e=JIRA.Issue.getIssueKey();return e.substring(0,e.indexOf("-"))},error:function(t,i,n,s){e._addErrors(s.data)}}}),this.labelPicker._addMultipleItems(i.map(this.model.getLabels(),function(e){return new AJS.ItemDescriptor({label:e,value:e,title:e})},this))},initSingleSelect:function(){var e=this.$("#kb-template");this.singleSelect=new AJS.SingleSelect({element:e,itemAttrDisplayed:"label",width:250,revertOnInvalid:!0})},submit:function(t){o.trackPageview("/viewissue/kb/createdraft/submit");var n=d(),s=e(t.target).sdSerializeObject(),r=JIRA.Issue.getIssueId(),c=s.articleSummary||"";c=e.trim(c).substring(0,255);var l={issueId:r,template:s.templateKey,title:c,labels:""};i.each(this.labelPicker.lozengeGroup.items,function(e){l.labels+=" "+e.value}),this.disableSubmit(),this.$el.addClass("loading"),e(".sd-kb-container .spinner").spin(),this.createKBWindow=window.open(null,"_blank"),this.createKBWindow.document.write('<body style="background: url(data:image/gif;base64,'+this._getSpinnerImageBase64()+') no-repeat fixed 50% 50%"></body>'),a.post(n,l).done(i.bind(this.success,this)).fail(i.bind(this.error,this)),t.preventDefault()},success:function(t){if(e(".sd-kb-container .spinner").spinStop(),this.options.dialog.closeRequested=!0,this.options.dialog.hide(),this.disable(),this.createKBWindow)this.createKBWindow.location.href=t.url},error:function(t){if(this.createKBWindow)this.createKBWindow.close();this._addErrors(t.responseText),this.enableSubmit(),e(".sd-kb-container .spinner").spinStop()},_getSpinnerImageBase64:function(){return"R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAkKAAAALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQJCgAAACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQJCgAAACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkECQoAAAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkECQoAAAAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAkKAAAALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAkKAAAALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQJCgAAACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQJCgAAACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA=="},_addErrors:function(t){var n=this.$(".errors");if(n.empty(),t){var s=JSON.parse(t);if(s.errors){var r=s.errors;i.each(r,i.bind(function(t){e("<div />").addClass("error").text(t.errorMessage).appendTo(n)}))}else if(s.message)n.append(e("<div />").addClass("error").text(s.message))}else{e("<div />").addClass("error").text("An error has occurred, we are unsure about the state of this operation. Refresh the page and try again.").appendTo(this.$(".errors"))}},complete:function(){this.$el.removeClass("loading")},render:function(){var e={title:this.model.getTitle()};this.$el.html(this.template(e)).removeClass("hidden").show()},focus:function(){this.initLabelPicker(),this.initSingleSelect(),this.$el.find(":input:visible:first").focus()}});c.register=function(e){if(e.length){var t=AJS.InlineDialog(e,"createKBDialog",function(e,i,n){t.closeRequested=!1,o.trackPageview("/viewissue/kb/createdraft/opendialog");var s={url:d(),data:{issueId:JIRA.Issue.getIssueId()}};a.get(s).done(function(i){var s=new l(i),r=new p({el:e,model:s,dialog:t});r.render(),n(),setTimeout(function(){r.focus()},0)})},{hideDelay:null,persistent:!0,preHideCallback:function(){return t.closeRequested||!!JIRA.Dialog.current}});return t}}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(9),i(37),i(4),i(46),t],void 0!==(s=function(e,t,i,n,s){var r="com.atlassian.servicedesk:sd-request-participants";s.addInlineEditBlurHandler=function(){if(JIRA.Components&&JIRA.Components.IssueEditor&&JIRA.Components.IssueEditor.InlineEditUtils){var e=JIRA.Components.IssueEditor.InlineEditUtils;e.BlurTriggerMapping.custom[r]=e.BlurTriggers.Default}else console.error("Failed to install inline edit blur handler for request participants field, JIRA.Components.IssueEditor.InlineEditUtils is missing")},s.listenForAnalytics=function(){function e(){i.trackPageview("/servicedesk/issue/requestparticipants/inlineedit/saved",{issueId:n.getIssueId()})}t.bind(JIRA.Events.INLINE_EDIT_STARTED,function(s,a,o){if(t.unbind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,e),o===r)i.trackPageview("/servicedesk/issue/requestparticipants/inlineedit/started",{issueId:n.getIssueId()}),t.one(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,e)})},s.addInlineEditFocusHandler=function(){t.bind(JIRA.Events.INLINE_EDIT_STARTED,function(t,i,n,s){if(n===r)e.init(s)})}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(9),i(753),i(525),i(168),i(712),t],void 0!==(s=function(e,t,i,n,s,r,a){var o=ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanelContent;a.install=function(){var a=void 0;t("sd-customer-portal-panel-wrapper",{_formatParams:function(e){var t=e.getCurrentRequestType(),i=e.getRequestLanguage()?e.getRequestLanguage().toJSON():{};return{showIcon:e.getShowIcon(),requestTypeId:t.getId(),requestTypeName:t.getName(),requestTypeIconId:t.getIcon(),iconUrl:t.getIconUrl(),customerVisibleStatusName:e.getCustomerVisibleStatusName(),url:e.getUrl(),requestChannelText:e.getRequestChannelText(),requestChannelTooltip:e.getRequestChannelTooltip(),canUpdateRequest:e.getCanUpdateRequest(),requestLanguage:i,isSimplified:e.getIsSimplified()}},created:function(t){var i=e(t),s=JSON.parse(i.find(".js-customer-portal-panel-params").html());a=new n(s),a.setCurrentRequestType({icon:s.requestTypeIconId,iconUrl:s.iconUrl,id:s.requestTypeId,name:s.requestTypeName}),i.html(o(this._formatParams(a)))}}),t("sd-request-language-field",{created:function(e){var t=a.getRequestLanguage();t.setIssueId(a.getIssueId()),new r({el:e,model:t}).render()}}),t("js-rt-selector-element",{type:t.types.CLASS,created:function(t){var i=e(t),n=i.data("rt-id"),r=i.data("rt-icon"),a=i.data("rt-icon-url"),o=i.data("rt-name");new s({element:i,selectedRequestType:{id:n,icon:r,iconUrl:a,name:o},errorMessage:"",buildItemValue:function(e){return""+e.id}}).$field.focus().select()}}),t("js-customer-portal-panel",{type:t.types.CLASS,created:function(t){if(!a){var s=e(t),r=s.data("rt-id"),o=s.data("rt-iconid"),c=s.data("rt-iconurl"),l=s.find("#sd-request-type").text();a=new n({currentRequestType:{icon:o,iconUrl:c,id:r,name:l}})}i.create(a,{el:t})}})}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(0),i(6),i(4),i(266),i(525),i(123),i(54),i(7),i(46),i(37),i(75),i(17),t,i(679),i(779)],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l,u,d,p,f,h){var m=t.View.extend({templates:{rtSelectorEditView:ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView,rtSelectorReadView:ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView},events:{"click .js-open-in-tab":"_onOpenRequestClicked"},initialize:function(){this._rtSelectorId="#sd-request-type",this._inlineEdit=r.create({el:this.el,applyBlurHandler:!0}),JIRA.bind(o.Events.BEFORE_INLINE_EDIT_CANCEL,i.bind(function(){this._showHideQuestionIcon(this.model.getCurrentRequestType().getId())},this)),this._applyInlineEdit()},_applyInlineEdit:function(){var t=this;this._inlineEdit.reset([{selector:this._rtSelectorId,editView:function(){return t._showHideQuestionIcon(0),s.trackEvent("servicedesk.requesttype.start.editing",{issueId:u.getIssueId()}),t.templates.rtSelectorEditView({issueId:u.getIssueId(),currentRequestTypeId:t.model.getCurrentRequestType().getId(),currentRequestTypeIconId:t.model.getCurrentRequestType().getIcon(),currentRequestTypeIconUrl:t.model.getCurrentRequestType().getIconUrl(),currentRequestTypeName:t.model.getCurrentRequestType().getName()})},readView:function(e,i){if(i)t.model.setCurrentRequestType({icon:i.requestIcon,iconUrl:i.iconUrl,id:i.requestTypeId,name:i.requestTypeName}),f("sd.customerwebpanel.edit.done");return t._showHideQuestionIcon(t.model.getCurrentRequestType().getId()),t.templates.rtSelectorReadView(t.model.getCurrentRequestType().toJSON())},save:i.bind(function(r){var a=e.Deferred(),o=u.getIssueId();if(s.trackPageview("jira/field/requesttype",{issueId:o}),i.isFinite(parseInt(r.rtId,10))&&this.model.getCurrentRequestType().getId()!==r.rtId)n.post(l+"/rest/servicedesk/1/servicedesk/request/"+o+"/request-types",r).done(function(e){a.resolve(e),d.trigger(p.REFRESH_ISSUE_PAGE,[o,"servicedesk/internal/feature/portal-panel/customer-portal-webpanel-view.soy","servicedesk/internal/feature/portal-panel/customer-portal-webpanel-view.less"])}).fail(function(){t._showHideQuestionIcon(r.rtId),a.resolve()});else a.resolve();return a},this)}])},_showHideQuestionIcon:function(t){if(-1===t)e(".sd-invalid-request-type-help").show();else e(".sd-invalid-request-type-help").hide()},_onOpenRequestClicked:function(){s.trackEvent("servicedesk.issue.customerrequest.view",{issueId:u.getIssueId()})}});h.create=function(e,t){return t=t||{},t.model=e,new m(t)}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){return e.Model.extend({namedAttributes:{cvId:Number,description:String,groups:Array,helpText:String,icon:Number,iconUrl:String,id:Number,issueType:Number,issueTypeName:String,key:String,name:String,order:Number,portalKey:String,usedByEmailSettings:Boolean},toJSON:function(){var t=e.Model.prototype.toJSON.call(this);return t.showIcon=this.getId()>-1,t}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(9),i(258),i(5),i(756),i(758),i(757),i(4),i(46),t],void 0!==(s=function(e,t,i,n,s,r,a,o,c,l){var u=void 0;l.install=function(){t("sla-view-issue-container",{type:t.types.CLASS,created:function(){var t=e(".sla-view-issue-container"),o=n.get("issue-key"),c=new s;new r({model:c,el:t});var l=i.duration(2,"minutes").asMilliseconds();u=new a({model:c,issueKey:o,refreshInterval:l}),u.startPoll(!1)},detached:function(){u.stopPoll()}}),e(document).on("click",".sla-cycle-show-button",function(e){o.trackEvent("servicedesk.issue.sla.cycles.showmore",{issueId:c.getIssueId()});var t=AJS.$(this);t.parent().find(".sla-hidden-cycle").removeClass("sla-hidden-cycle"),t.remove(),e.preventDefault()})}}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(2)],void 0!==(s=function(e){return e.Model.extend({namedAttributes:{hasPreviousCycles:Boolean,goalViews:Object},updateState:function(e,t){this.setHasPreviousCycles(e),this.setGoalViews(t)}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(0),i(2),i(301),i(7)],void 0!==(s=function(e,t,i,n,s){return i.Model.extend({initialize:function(e){this.enabled=null,this.pollSLA=null,this.model=e.model,this.pageVisibilityEventHandler=n.addVisibilityChangeEventListener(t.bind(this._onPageVisibilityChange,this)),this._doRestCall=t.bind(this._doRestCall,this,e.issueKey,t.bind(this._onSuccess,this),t.bind(this._onError,this)),this.startPoll=t.bind(this.startPollCustomInterval,this,e.refreshInterval)},startPollCustomInterval:function(e,i){if(!this.enabled){if(this.enabled=!0,i)this._doRestCall();this.pollSLA=setInterval(t.bind(function(){this._doRestCall()},this),e)}},stopPoll:function(){this.enabled=!1,clearInterval(this.pollSLA),this.pageVisibilityEventHandler.remove()},pausePoll:function(){this.enabled=!1,clearInterval(this.pollSLA)},_doRestCall:function(t,i,n){e.ajax({url:s+"/rest/servicedesk/1/servicedesk/sla/issue/"+t,success:i,error:n})},_onSuccess:function(e){this.model.updateState(e.hasPreviousCycles,e.goalViews)},_onError:function(){this.stopPoll()},_onPageVisibilityChange:function(){if(n.isPageVisible())this.startPoll(!0);else this.pausePoll()}})}.apply(t,n))&&(e.exports=s)},function(e,t,i){var n,s;n=[i(1),i(2),i(680),i(780),i(781)],void 0!==(s=function(e,t){return t.View.extend({initialize:function(e){this.listenTo(this.model,"change:goalViews",this.render,this)},render:function(){this.$el.html(ServiceDesk.Templates.SlaView.issuePanelContent(this.model.toJSON()))}})}.apply(t,n))&&(e.exports=s)},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,i){var n,s;n=[i(1),i(763)],void 0!==(s=function(e){return function(e){if(void 0===e.fn.each2)e.extend(e.fn,{each2:function(t){for(var i=e([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&!1!==t.call(i[0],n,i););return this}})}(e),function(e,t){"use strict";function i(t){var i=e(document.createTextNode(""));t.before(i),i.before(t),i.remove()}function n(e){function t(e){return P[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function s(e,t){for(var i=0,n=t.length;i<n;i+=1)if(a(e,t[i]))return i;return-1}function r(){var t=e(R);t.appendTo(document.body);var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}function a(e,i){if(e===i)return!0;if(e===t||i===t)return!1;if(null===e||null===i)return!1;if(e.constructor===String)return e+""==i+"";if(i.constructor===String)return i+""==e+"";else return!1}function o(e,t,i){var n,s,r;if(null===e||e.length<1)return[];for(n=e.split(t),s=0,r=n.length;s<r;s+=1)n[s]=i(n[s]);return n}function c(e){return e.outerWidth(!1)-e.width()}function l(i){var n="keyup-change-value";i.on("keydown",function(){if(e.data(i,n)===t)e.data(i,n,i.val())}),i.on("keyup",function(){var s=e.data(i,n);if(s!==t&&i.val()!==s)e.removeData(i,n),i.trigger("keyup-change")})}function u(i){i.on("mousemove",function(i){var n=_;if(n===t||n.x!==i.pageX||n.y!==i.pageY)e(i.target).trigger("mousemove-filtered",i)})}function d(e,i,n){n=n||t;var s;return function(){var t=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,t)},e)}}function p(e,t){var i=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){if(s(e.target,t.get())>=0)i(e)})}function f(e){if(e[0]!==document.activeElement)window.setTimeout(function(){var t,i=e[0],n=e.val().length;if(e.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement)if(i.setSelectionRange)i.setSelectionRange(n,n);else if(i.createTextRange)t=i.createTextRange(),t.collapse(!1),t.select()},0)}function h(t){t=e(t)[0];var i=0,n=0;if("selectionStart"in t)i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var s=document.selection.createRange();n=document.selection.createRange().text.length,s.moveStart("character",-t.value.length),i=s.text.length-n}return{offset:i,length:n}}function m(e){e.preventDefault(),e.stopPropagation()}function M(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!I){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);I=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),e(document.body).append(I)}return I.text(t.val()),I.width()}function b(t,i,n){var s,r,a=[];if(s=e.trim(t.attr("class")))s=""+s,e(s.split(/\s+/)).each2(function(){if(0===this.indexOf("select2-"))a.push(this)});if(s=e.trim(i.attr("class")))s=""+s,e(s.split(/\s+/)).each2(function(){if(0!==this.indexOf("select2-"))if(r=n(this))a.push(r)});t.attr("class",a.join(" "))}function v(e,t,i,s){var r=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),a=t.length;if(r<0)return void i.push(s(e));i.push(s(e.substring(0,r))),i.push("<span class='select2-match'>"),i.push(s(e.substring(r,r+a))),i.push("</span>"),i.push(s(e.substring(r+a,e.length)))}function A(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function S(i){var n,s=null,r=i.quietMillis||100,a=i.url,o=this;return function(c){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,r=a,l=i.transport||e.fn.select2.ajaxDefaults.transport,u={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);if(n=n?n.call(o,c.term,c.page,c.context):null,r="function"==typeof r?r.call(o,c.term,c.page,c.context):r,s&&"function"==typeof s.abort)s.abort();if(i.params)if(e.isFunction(i.params))e.extend(d,i.params.call(o));else e.extend(d,i.params);e.extend(d,{url:r,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,c.page,c);c.callback(t)},error:function(e,t,i){var n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:i};c.callback(n)}}),s=l.call(o,d)},r)}}function y(t){var i,n,s=t,r=function(e){return""+e.text};if(e.isArray(s))n=s,s={results:n};if(!1===e.isFunction(s))n=s,s=function(){return n};var a=s();if(a.text)if(r=a.text,!e.isFunction(r))i=a.text,r=function(e){return e[i]};return function(t){var i,n=t.term,a={results:[]};if(""===n)return void t.callback(s());i=function(s,a){var o,c;if(s=s[0],s.children){o={};for(c in s)if(s.hasOwnProperty(c))o[c]=s[c];if(o.children=[],e(s.children).each2(function(e,t){i(t,o.children)}),o.children.length||t.matcher(n,r(o),s))a.push(o)}else if(t.matcher(n,r(s),s))a.push(s)},e(s().results).each2(function(e,t){i(t,a.results)}),t.callback(a)}}function T(i){var n=e.isFunction(i);return function(s){var r=s.term,a={results:[]},o=n?i(s):i;if(e.isArray(o))e(o).each(function(){var e=this.text!==t,i=e?this.text:this;if(""===r||s.matcher(r,i))a.results.push(e?this:{id:this,text:this})}),s.callback(a)}}function z(t,i){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value")}function k(t,i){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return t.apply(i,n)}return t}function O(t){var i=0;return e.each(t,function(e,t){if(t.children)i+=O(t.children);else i++}),i}function L(e,i,n,s){var r,o,c,l,u,d=e,p=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return t;for(;;){for(o=-1,c=0,l=s.tokenSeparators.length;c<l&&(u=s.tokenSeparators[c],!((o=e.indexOf(u))>=0));c++);if(o<0)break;if(r=e.substring(0,o),e=e.substring(o+u.length),r.length>0)if((r=s.createSearchChoice.call(this,r,i))!==t&&null!==r&&s.id(r)!==t&&null!==s.id(r)){for(p=!1,c=0,l=i.length;c<l;c++)if(a(s.id(r),s.id(i[c]))){p=!0;break}if(!p)n(r)}}if(d!==e)return e;else return}function N(){var t=this;e.each(arguments,function(e,i){t[i].remove(),t[i]=null})}function E(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var w,C,D,q,I,B,x,_={x:0,y:0},W={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case W.LEFT:case W.RIGHT:case W.UP:case W.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case W.SHIFT:case W.CTRL:case W.ALT:return!0}if(e.metaKey)return!0;else return!1},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},R="<div class='select2-measure-scrollbar'></div>",P={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};B=e(document),q=function(){var e=1;return function(){return e++}}(),w=E(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,s,a=".select2-results";if(this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2"))i.element.data("select2").destroy();if(this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length)this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);if(this.containerId="s2id_"+(i.element.attr("id")||"autogen"+q()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=e(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(k(i.containerCss,this.opts.element)),this.container.addClass(k(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(a),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),u(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){if(this._touchEvent)this._touchEvent=!1,this.selectHighlighted()})),p(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel)n.mousewheel(function(e,t,i,s){var r=n.scrollTop();if(s>0&&r-s<=0)n.scrollTop(0),m(e);else if(s<0&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height())n.scrollTop(n.get(0).scrollHeight-n.height()),m(e)});if(l(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){if(e(t.target).closest(".select2-result-selectable").length>0)this.highlightUnderEvent(t),this.selectHighlighted(t)})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection))this.initSelection(),this.monitorSource();if(null!==i.maximumInputLength)this.search.attr("maxlength",i.maximumInputLength);var o=i.element.prop("disabled");if(o===t)o=!1;this.enable(!o);var c=i.element.prop("readonly");if(c===t)c=!1;if(this.readonly(c),x=x||r(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus)this.focus();this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2"),n=this;if(this.close(),e.length&&e[0].detachEvent&&n._sync)e.each(function(){if(n._sync)this.detachEvent("onpropertychange",n._sync)});if(this.propertyObserver)this.propertyObserver.disconnect(),this.propertyObserver=null;if(this._sync=null,i!==t){if(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex)e.attr({tabindex:this.elementTabIndex});else e.removeAttr("tabindex");e.show()}N.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){if(e.is("option"))return{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)};else if(e.is("optgroup"))return{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}},prepareOpts:function(i){var n,s,r,c,l=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase())this.select=s=i.element;if(s)e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")});if(i=e.extend({},{populateResults:function(n,s,r){var a,o=this.opts.id,c=this.liveRegion;(a=function(n,s,u){var d,p,f,h,m,M,g,b,v,A;n=i.sortResults(n,s,r);var S=[];for(d=0,p=n.length;d<p;d+=1){if(f=n[d],m=!0===f.disabled,h=!m&&o(f)!==t,M=f.children&&f.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+u),g.addClass("select2-result"),g.addClass(h?"select2-result-selectable":"select2-result-unselectable"),m)g.addClass("select2-disabled");if(M)g.addClass("select2-result-with-children");if(g.addClass(l.opts.formatResultCssClass(f)),g.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+q()),b.attr("role","option"),(A=i.formatResult(f,b,r,l.opts.escapeMarkup))!==t)b.html(A),g.append(b);if(M)v=e("<ul></ul>"),v.addClass("select2-result-sub"),a(f.children,v,u+1),g.append(v);g.data("select2-data",f),S.push(g[0])}s.append(S),c.text(i.formatMatches(n.length))})(s,n,0)}},e.fn.select2.defaults,i),"function"!=typeof i.id)r=i.id,i.id=function(e){return e[r]};if(e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s)i.query=this.bind(function(e){var i,s,r,a={results:[],more:!1},o=e.term;if(r=function(t,i){var n;if(t.is("option")){if(e.matcher(o,t.text(),t))i.push(l.optionToData(t))}else if(t.is("optgroup"))if(n=l.optionToData(t),t.children().each2(function(e,t){r(t,n.children)}),n.children.length>0)i.push(n)},i=n.children(),this.getPlaceholder()!==t&&i.length>0)if(s=this.getPlaceholderOption())i=i.not(s);i.each2(function(e,t){r(t,a.results)}),e.callback(a)}),i.id=function(e){return e.id};else if(!("query"in i))if("ajax"in i){if((c=i.element.data("ajax-url"))&&c.length>0)i.ajax.url=c;i.query=S.call(i.element,i.ajax)}else if("data"in i)i.query=y(i.data);else if("tags"in i){if(i.query=T(i.tags),i.createSearchChoice===t)i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}};if(i.initSelection===t)i.initSelection=function(t,n){var s=[];e(o(t.val(),i.separator,i.transformVal)).each(function(){var t={id:this,text:this},n=i.tags;if(e.isFunction(n))n=n();e(n).each(function(){if(a(this.id,t.id))return t=this,!1}),s.push(t)}),n(s)}}if("function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,s=this;if(n.on("change.select2",this.bind(function(e){if(!0!==this.opts.element.data("select2-change-triggered"))this.initSelection()})),this._sync=this.bind(function(){var e=n.prop("disabled");if(e===t)e=!1;this.enable(!e);var i=n.prop("readonly");if(i===t)i=!1;if(this.readonly(i),this.container)b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(k(this.opts.containerCssClass,this.opts.element));if(this.dropdown)b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(this.opts.dropdownCssClass,this.opts.element))}),n.length&&n[0].attachEvent)n.each(function(){this.attachEvent("onpropertychange",s._sync)});if((i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t){if(this.propertyObserver)delete this.propertyObserver,this.propertyObserver=null;this.propertyObserver=new i(function(t){e.each(t,s._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1})}},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){if(t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange)this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;if(e===this.enabledInterface)return!1;else return this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0},enable:function(e){if(e===t)e=!0;if(this._enabled!==e)this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface()},disable:function(){this.enable(!1)},readonly:function(e){if(e===t)e=!1;if(this._readonly!==e)this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface()},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,i,n,s,r,a=this.dropdown,o=this.container,c=o.offset(),l=o.outerHeight(!1),u=o.outerWidth(!1),d=a.outerHeight(!1),p=e(window),f=p.width(),h=p.height(),m=p.scrollLeft()+f,M=p.scrollTop()+h,g=c.top+l,b=c.left,v=g+d<=M,A=c.top-d>=p.scrollTop(),S=a.outerWidth(!1),y=function(){return b+S<=m},T=function(){return c.left+m+o.outerWidth(!1)>S},z=a.hasClass("select2-drop-above");if(z){if(i=!0,!A&&v)n=!0,i=!1}else if(i=!1,!v&&A)n=!0,i=!0;if(n)a.hide(),c=this.container.offset(),l=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),m=p.scrollLeft()+f,M=p.scrollTop()+h,g=c.top+l,b=c.left,S=a.outerWidth(!1),a.show(),this.focusSearch();if(this.opts.dropdownAutoWidth)r=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),S=a.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:x.width),S>u?u=S:S=u,d=a.outerHeight(!1);else this.container.removeClass("select2-drop-auto-width");if("static"!==this.body.css("position"))t=this.body.offset(),g-=t.top,b-=t.left;if(!y()&&T())b=c.left+this.container.outerWidth(!1)-S;if(s={left:b,width:u},i)s.top=c.top-d,s.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above");else s.top=g,s.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above");s=e.extend(s,k(this.opts.dropdownCss,this.opts.element)),a.css(s)},shouldOpen:function(){var t;if(this.opened())return!1;if(!1===this._enabled||!0===this._readonly)return!1;else return t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;else return this.opening(),B.on("mousemove.select2Event",function(e){_.x=e.pageX,_.y=e.pageY}),!0},opening:function(){var t,n=this.containerEventName,s="scroll."+n,r="resize."+n,a="orientationchange."+n;if(this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0])this.dropdown.detach().appendTo(this.body);if(t=e("#select2-drop-mask"),0===t.length)t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){i(t);var s,r=e("#select2-drop");if(r.length>0){if(s=r.data("select2"),s.opts.selectOnBlur)s.selectHighlighted({noFocus:!0});s.close(),n.preventDefault(),n.stopPropagation()}});if(this.dropdown.prev()[0]!==t[0])this.dropdown.before(t);e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+s+" "+a,function(e){if(o.opened())o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,n="resize."+t,s="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(s)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),B.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,i,n,s,r,a,o,c,l=this.results;if(!((i=this.highlight())<0)){if(0==i)return void l.scrollTop(0);if(t=this.findHighlightableChoices().find(".select2-result-label"),n=e(t[i]),c=(n.offset()||{}).top||0,s=c+n.outerHeight(!0),i===t.length-1)if(o=l.find("li.select2-more-results"),o.length>0)s=o.offset().top+o.outerHeight(!0);if(r=l.offset().top+l.outerHeight(!1),s>r)l.scrollTop(l.scrollTop()+(s-r));if((a=c-l.offset().top)<0&&"none"!=n.css("display"))l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=t;var s=e(i[n]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,n,r=this.findHighlightableChoices();if(0===arguments.length)return s(r.filter(".select2-highlighted")[0],r.get());if(t>=r.length)t=r.length-1;if(t<0)t=0;if(this.removeHighlight(),i=e(r[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),n=i.data("select2-data"))this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else if(0==i.length)this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),i=this.resultsPage+1,n=this,s=this.search.val(),r=this.context;if(0!==t.length)if(t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding)t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(a){if(n.opened()){if(n.opts.populateResults.call(this,e,a.results,{term:s,page:i,context:r}),n.postprocessResults(a,!1,!1),!0===a.more)t.detach().appendTo(e).html(n.opts.escapeMarkup(k(n.opts.formatLoadMore,n.opts.element,i+1))),window.setTimeout(function(){n.loadMoreIfNeeded()},10);else t.remove();n.positionDropdown(),n.resultsPage=i,n.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a})}})})},tokenize:function(){},updateResults:function(i){function n(){if(l.removeClass("select2-active"),p.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length)p.liveRegion.text(u.text());else p.liveRegion.text(p.opts.formatMatches(u.find('.select2-result-selectable:not(".select2-selected")').length))}function s(e){u.html(e),n()}var r,o,c,l=this.search,u=this.results,d=this.opts,p=this,f=l.val(),h=e.data(this.container,"select2-last-term");if(!0===i||!h||!a(f,h))if(e.data(this.container,"select2-last-term",f),!0===i||!1!==this.showSearchInput&&this.opened()){c=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1)if(r=this.data(),e.isArray(r)&&r.length>=m&&z(d.formatSelectionTooBig,"formatSelectionTooBig"))return void s("<li class='select2-selection-limit'>"+k(d.formatSelectionTooBig,d.element,m)+"</li>");if(!(l.val().length<d.minimumInputLength))if(!(d.maximumInputLength&&l.val().length>d.maximumInputLength)){if(d.formatSearching&&0===this.findHighlightableChoices().length)s("<li class='select2-searching'>"+k(d.formatSearching,d.element)+"</li>");if(l.addClass("select2-active"),this.removeHighlight(),(o=this.tokenize())!=t&&null!=o)l.val(o);this.resultsPage=1,d.query({element:d.element,term:l.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(r){var o;if(c==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(r.hasError!==t&&z(d.formatAjaxError,"formatAjaxError"))return void s("<li class='select2-ajax-error'>"+k(d.formatAjaxError,d.element,r.jqXHR,r.textStatus,r.errorThrown)+"</li>");if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==l.val())if((o=this.opts.createSearchChoice.call(p,l.val(),r.results))!==t&&null!==o&&p.id(o)!==t&&null!==p.id(o))if(0===e(r.results).filter(function(){return a(p.id(this),p.id(o))}).length)this.opts.createSearchChoicePosition(r.results,o);if(0===r.results.length&&z(d.formatNoMatches,"formatNoMatches"))return void s("<li class='select2-no-results'>"+k(d.formatNoMatches,d.element,l.val())+"</li>");if(u.empty(),p.opts.populateResults.call(this,u,r.results,{term:l.val(),page:this.resultsPage,context:null}),!0===r.more&&z(d.formatLoadMore,"formatLoadMore"))u.append("<li class='select2-more-results'>"+d.escapeMarkup(k(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10);this.postprocessResults(r,i),n(),this.opts.element.trigger({type:"select2-loaded",items:r})}})})}else if(z(d.formatInputTooLong,"formatInputTooLong"))s("<li class='select2-no-results'>"+k(d.formatInputTooLong,d.element,l.val(),d.maximumInputLength)+"</li>");else s("");else{if(z(d.formatInputTooShort,"formatInputTooShort"))s("<li class='select2-no-results'>"+k(d.formatInputTooShort,d.element,l.val(),d.minimumInputLength)+"</li>");else s("");if(i&&this.showSearch)this.showSearch(!0)}}},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur)this.selectHighlighted({noFocus:!0});if(this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement)this.search.blur();this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");if(n)this.highlight(t),this.onSelect(n,e);else if(e&&e.noFocus)this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);else if(""===e.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,n,s,r,a,o;if("off"===this.opts.width)return null;else if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";else if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==t)for(n=i.split(";"),r=0,a=n.length;r<a;r+=1)if(o=n[r].replace(/\s/g,""),null!==(s=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&s.length>=1)return s[1];if("resolve"===this.opts.width)if(i=this.opts.element.css("width"),i.indexOf("%")>0)return i;else return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";return null}else if(e.isFunction(this.opts.width))return this.opts.width();else return this.opts.width}var n=i.call(this);if(null!==n)this.container.css("width",n)}}),C=E(w,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments))this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,s;if(this.opts.minimumResultsForSearch>=0)this.showSearch(!0);if(this.parent.opening.apply(this,arguments),!1!==this.showSearchInput)this.search.val(this.focusser.val());if(this.opts.shouldFocusInput(this))if(this.search.focus(),i=this.search.get(0),i.createTextRange)n=i.createTextRange(),n.collapse(!1),n.select();else if(i.setSelectionRange)s=this.search.val().length,i.setSelectionRange(s,s);if(""===this.search.val())if(this.nextSearchTerm!=t)this.search.val(this.nextSearchTerm),this.search.select();this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(this.opened())if(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this))this.focusser.focus()},focus:function(){if(this.opened())this.close();else if(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this))this.focusser.focus()},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){if(this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this))this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"selection","focusser")},initContainer:function(){var t,n,s=this.container,r=this.dropdown,a=q();if(this.opts.minimumResultsForSearch<0)this.showSearch(!1);else this.showSearch(!0);this.selection=t=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var o=this.opts.element.attr("title");this.opts.element.attr("title",o||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled())if(229!=e.keyCode){if(e.which===W.PAGE_UP||e.which===W.PAGE_DOWN)return void m(e);switch(e.which){case W.UP:case W.DOWN:return this.moveHighlight(e.which===W.UP?-1:1),void m(e);case W.ENTER:return this.selectHighlighted(),void m(e);case W.TAB:return void this.selectHighlighted({noFocus:!0});case W.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(e){if(document.activeElement===this.body.get(0))window.setTimeout(this.bind(function(){if(this.opened())this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled())if(e.which!==W.TAB&&!W.isControl(e)&&!W.isFunctionKey(e)&&e.which!==W.ESC){if(!1===this.opts.openOnEnter&&e.which===W.ENTER)return void m(e);if(e.which==W.DOWN||e.which==W.UP||e.which==W.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}if(e.which==W.DELETE||e.which==W.BACKSPACE){if(this.opts.allowClear)this.clear();return void m(e)}}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){if(this.isInterfaceEnabled())if(this.clear(),M(e),this.close(),this.selection)this.selection.focus()})),t.on("mousedown touchstart",this.bind(function(n){if(i(t),!this.container.hasClass("select2-container-active"))this.opts.element.trigger(e.Event("select2-focus"));if(this.opened())this.close();else if(this.isInterfaceEnabled())this.open();m(n)})),r.on("mousedown touchstart",this.bind(function(){if(this.opts.shouldFocusInput(this))this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active"))this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened())this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur"))})),this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active"))this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var s=this.getPlaceholderOption();if(this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t)this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i})}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){if(i!==t&&null!==i)e.updateSelection(i),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(i,e.search.val())})}},isPlaceholderOptionSelected:function(){var e;if(this.getPlaceholder()===t)return!1;else return(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;if("select"===t.element.get(0).tagName.toLowerCase())t.initSelection=function(e,t){var n=e.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(n))};else if("data"in t)t.initSelection=t.initSelection||function(i,n){var s=i.val(),r=null;t.query({matcher:function(e,i,n){var o=a(s,t.id(n));if(o)r=n;return o},callback:!e.isFunction(n)?e.noop:function(){n(r)}})};return t},getPlaceholder:function(){if(this.select)if(this.getPlaceholderOption()===t)return t;return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,s=this;if(this.findHighlightableChoices().each2(function(e,t){if(a(s.id(t.data("select2-data")),s.opts.element.val()))return n=e,!1}),!1!==i)if(!0===t&&n>=0)this.highlight(n);else this.highlight(0);if(!0===t){var r=this.opts.minimumResultsForSearch;if(r>=0)this.showSearch(O(e.results)>=r)}},showSearch:function(t){if(this.showSearchInput!==t)this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();if(this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),(!t||!t.noFocus)&&this.opts.shouldFocusInput(this))this.focusser.focus();if(!a(i,this.id(e)))this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,s=this.selection.find(".select2-chosen");if(this.selection.data("select2-data",e),s.empty(),null!==e)i=this.opts.formatSelection(e,s,this.opts.escapeMarkup);if(i!==t)s.append(i);if((n=this.opts.formatSelectionCssClass(e,s))!==t)s.addClass(n);if(this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t)this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,s=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1)i=arguments[1];if(this.select){if(this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=s.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i)this.triggerChange({added:n,removed:r})}else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){if(s.opts.element.val(!e?"":s.id(e)),s.updateSelection(e),s.setPlaceholder(),i)s.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;if(0===arguments.length){if((i=this.selection.data("select2-data"))==t)i=null;return i}else{if(arguments.length>1)n=arguments[1];if(!e)this.clear(n);else if(i=this.data(),this.opts.element.val(!e?"":this.id(e)),this.updateSelection(e),n)this.triggerChange({added:e,removed:i})}}}),D=E(w,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;if("select"===t.element.get(0).tagName.toLowerCase())t.initSelection=function(e,t){var n=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){n.push(i.optionToData(t))}),t(n)};else if("data"in t)t.initSelection=t.initSelection||function(i,n){var s=o(i.val(),t.separator,t.transformVal),r=[];t.query({matcher:function(i,n,o){var c=e.grep(s,function(e){return a(e,t.id(o))}).length;if(c)r.push(o);return c},callback:!e.isFunction(n)?e.noop:function(){for(var e=[],i=0;i<s.length;i++)for(var o=s[i],c=0;c<r.length;c++){var l=r[c];if(a(o,t.id(l))){e.push(l),r.splice(c,1);break}}n(e)}})};return t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");if(t.length&&e&&e[0]==t[0]);else{if(t.length)this.opts.element.trigger("choice-deselected",t);if(t.removeClass("select2-search-choice-focus"),e&&e.length)this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)}},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"searchContainer","selection")},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(t){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+q()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){if(!this.search.attr("placeholder")||0!=this.search.val().length)if(this.isInterfaceEnabled())if(!this.opened())this.open()})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),r=h(this.search);if(!i.length||e.which!=W.LEFT&&e.which!=W.RIGHT&&e.which!=W.BACKSPACE&&e.which!=W.DELETE&&e.which!=W.ENTER){if((e.which===W.BACKSPACE&&1==this.keydowns||e.which==W.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);else this.selectChoice(null);if(this.opened())switch(e.which){case W.UP:case W.DOWN:return this.moveHighlight(e.which===W.UP?-1:1),void m(e);case W.ENTER:return this.selectHighlighted(),void m(e);case W.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case W.ESC:return this.cancel(e),void m(e)}if(e.which!==W.TAB&&!W.isControl(e)&&!W.isFunctionKey(e)&&e.which!==W.BACKSPACE&&e.which!==W.ESC){if(e.which===W.ENTER)if(!1===this.opts.openOnEnter)return;else if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;if(this.open(),e.which===W.PAGE_UP||e.which===W.PAGE_DOWN)m(e);if(e.which===W.ENTER)m(e)}}else{var a=i;if(e.which==W.LEFT&&n.length)a=n;else if(e.which==W.RIGHT)a=s.length?s:null;else if(e.which===W.BACKSPACE){if(this.unselect(i.first()))this.search.width(10),a=n.length?n:s}else if(e.which==W.DELETE){if(this.unselect(i.first()))this.search.width(10),a=s.length?s:null}else if(e.which==W.ENTER)a=null;if(this.selectChoice(a),m(e),!a||!a.length)this.open()}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){if(this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),!this.opened())this.clearSearch();t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){if(this.isInterfaceEnabled())if(!(e(t.target).closest(".select2-search-choice").length>0)){if(this.selectChoice(null),this.clearPlaceholder(),!this.container.hasClass("select2-container-active"))this.opts.element.trigger(e.Event("select2-focus"));this.open(),this.focusSearch(),t.preventDefault()}})),this.container.on("focus",i,this.bind(function(){if(this.isInterfaceEnabled()){if(!this.container.hasClass("select2-container-active"))this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder()}})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments))this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.updateSelection([]),this.close(),this.clearSearch();if(this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){if(i!==t&&null!==i)e.updateSelection(i),e.close(),e.clearSearch()})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();if(e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused"))this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"));else this.search.val("").width(10)},clearPlaceholder:function(){if(this.search.hasClass("select2-default"))this.search.val("").removeClass("select2-default")},opening:function(){if(this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val())if(this.nextSearchTerm!=t)this.search.val(this.nextSearchTerm),this.search.select();if(this.updateResults(!0),this.opts.shouldFocusInput(this))this.search.focus();this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(this.opened())this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],r=this;e(t).each(function(){if(s(r.id(this),i)<0)i.push(r.id(this)),n.push(this)}),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();if(null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t)if(this.search.val(e),e.length>0)this.open()},onSelect:function(e,i){if(this.triggerSelect(e)&&""!==e.text){if(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),this.select||!this.opts.closeOnSelect)this.postprocessResults(e,!1,!0===this.opts.closeOnSelect);if(this.opts.closeOnSelect)this.close(),this.search.width(10);else if(this.countSelectableResults()>0){if(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize())this.updateResults(!0);else if(this.nextSearchTerm!=t)this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select();this.positionDropdown()}else this.close(),this.search.width(10);if(this.triggerChange({added:e}),!i||!i.noFocus)this.focusSearch()}},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,s,r=!i.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=e("<li class='select2-search-choice select2-locked'><div></div></li>"),c=r?a:o,l=this.id(i),u=this.getVal();if((n=this.opts.formatSelection(i,c.find("div"),this.opts.escapeMarkup))!=t)c.find("div").replaceWith(e("<div></div>").html(n));if((s=this.opts.formatSelectionCssClass(i,c.find("div")))!=t)c.addClass(s);if(r)c.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){if(this.isInterfaceEnabled())this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch()})).on("focus",this.bind(function(){if(this.isInterfaceEnabled())this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active")}));c.data("select2-data",i),c.insertBefore(this.searchContainer),u.push(l),this.setVal(u)},unselect:function(t){var i,n,r=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(i),a.choice=i,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(n=s(this.id(i),r))>=0;)if(r.splice(n,1),this.setVal(r),this.select)this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var n=this.getVal(),r=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),o=this;if(r.each2(function(e,t){if(s(o.id(t.data("select2-data")),n)>=0)t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected")}),a.each2(function(e,t){if(!t.is(".select2-result-selectable")&&0===t.find(".select2-result-selectable:not(.select2-selected)").length)t.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&!0===this.opts.closeOnSelect)o.highlight(0);if(!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0)if(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)if(z(o.opts.formatNoMatches,"formatNoMatches"))this.results.append("<li class='select2-no-results'>"+k(o.opts.formatNoMatches,o.opts.element,o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-c(this.search)},resizeSearch:function(){var e,t,i,n,s,r=c(this.search);if(e=g(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,(s=i-(t-n)-r)<e)s=i-r;if(s<40)s=i-r;if(s<=0)s=e;this.search.width(Math.floor(s))},getVal:function(){var e;if(this.select)return e=this.select.val(),null===e?[]:e;else return e=this.opts.element.val(),o(e,this.opts.separator,this.opts.transformVal)},setVal:function(t){var i;if(this.select)this.select.val(t);else i=[],e(t).each(function(){if(s(this,i)<0)i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var n=0;n<e.length;n++)if(a(this.opts.id(t[i]),this.opts.id(e[n]))){if(t.splice(i,1),i>0)i--;e.splice(n,1),n--}return{added:t,removed:e}},val:function(i,n){var s,r=this;if(0===arguments.length)return this.getVal();if(s=this.data(),!s.length)s=[];if(i||0===i){if(this.setVal(i),this.select){if(this.opts.initSelection(this.select,this.bind(this.updateSelection)),n)this.triggerChange(this.buildChangeDetails(s,this.data()))}else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,r.id);if(r.setVal(i),r.updateSelection(t),r.clearSearch(),n)r.triggerChange(r.buildChangeDetails(s,r.data()))})}this.clearSearch()}else if(this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),n)this.triggerChange({added:this.data(),removed:s})},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var n,s,r=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();else{if(s=this.data(),!t)t=[];if(n=e.map(t,function(e){return r.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),i)this.triggerChange(this.buildChangeDetails(s,this.data()))}}}),e.fn.select2=function(){var i,n,r,a,o,c=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0]){if(i=0===c.length?{}:e.extend({},c[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase())o=i.element.prop("multiple");else if(o=i.multiple||!1,"tags"in i)i.multiple=o=!0;n=o?new window.Select2.class.multi:new window.Select2.class.single,n.init(i)}else if("string"==typeof c[0]){if(s(c[0],l)<0)throw"Unknown method: "+c[0];if(a=t,(n=e(this).data("select2"))===t)return;if("container"===(r=c[0]))a=n.container;else if("dropdown"===r)a=n.dropdown;else{if(p[r])r=p[r];a=n[r].apply(n,c.slice(1))}if(s(c[0],u)>=0||s(c[0],d)>=0&&1==c.length)return!1}else throw"Invalid arguments to select2 plugin: "+c}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var s=[];return v(this.text(e),i.term,s,n),s.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,i,n){return e?n(this.text(e)):t},sortResults:function(e,t,i){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,i){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){if(t&&this.data&&this.data.text)if(e.isFunction(this.data.text))return this.data.text(t);else return t[this.data.text];else return t.text},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:L,escapeMarkup:A,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,i){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){if(!("ontouchstart"in window||navigator.msMaxTouchPoints>0))return!0;if(e.opts.minimumResultsForSearch<0)return!1;else return!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){if(1===e)return"One result is available, press enter to select it.";else return e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,i){return"Loading failed"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results"},formatSearching:function(){return"Searching"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:S,local:y,tags:T},util:{debounce:d,markMatch:v,escapeMarkup:A,stripDiacritics:n},class:{abstract:w,single:C,multi:D}}}}(e),window.Select2}.apply(t,n))&&(e.exports=s)},,,function(e,t){e.exports=window.require("dndattachment/ctrlv/utility")},function(e,t){e.exports=window.require("dndattachment/dropzones/CommentDialogDropZone")},function(e,t){e.exports=window.require("dndattachment/upload/handler")},,,function(e,t){e.exports=window.require("jira/message")},,,,,,,,,,,function(e,t,i){i(8),i(573),i(552),i(529),i(546),i(539),e.exports=i(544)}],[802]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-jira.view.issue.asset.unlicensed', location = 'jira.view.issue.asset.unlicensed.bundle.js' */
sdJsonp([39],{0:function(e,t,n){var s,i;s=[n(19)],void 0!==(i=function(e){return e}.apply(t,s))&&(e.exports=i)},1:function(e,t,n){var s;void 0!==(s=function(){return jQuery}.call(t,n,t,e))&&(e.exports=s)},10:function(e,t,n){var s,i;s=[n(0),n(1),n(24)],void 0!==(i=function(e,t,n){return n(e,t)}.apply(t,s))&&(e.exports=i)},11:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){if("object"==typeof window)n=window}e.exports=n},12:function(e,t,n){var s,i;s=[n(1),n(0),t],void 0!==(i=function(e,t,n){function s(e,t){l[e]=t}function i(e){var t=e?e.toLowerCase():"";if("true"===t)return!0;if("false"===t)return!1;else return e}function r(t){if(void 0!==l[t])return l[t];var n=e("meta[name='ajs-"+t+"']");if(n.length){return i(n.attr("content"))}}function o(e){return!0===this.get(e)}function a(e){return+this.get(e)}function u(){var t={};return e("meta[name^=ajs-]").each(function(){t[this.name.substring(4)]=this.content}),e.extend(t,l)}var l={};n.set=s,n.get=r,n.getBoolean=o,n.getNumber=a,n.getAllAsMap=u}.apply(t,s))&&(e.exports=i)},13:function(e,t,n){var s,i;if(void 0===r)var r={};if(r.table=function(e,t){return"<table"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+(e.columnsContent?soy.$$filterNoAutoescape(e.columnsContent):"")+(e.captionContent?"<caption>"+soy.$$filterNoAutoescape(e.captionContent)+"</caption>":"")+(e.theadContent?"<thead>"+soy.$$filterNoAutoescape(e.theadContent)+"</thead>":"")+(e.tfootContent?"<tfoot>"+soy.$$filterNoAutoescape(e.tfootContent)+"</tfoot>":"")+(!e.contentIncludesTbody?"<tbody>":"")+soy.$$filterNoAutoescape(e.content)+(!e.contentIncludesTbody?"</tbody>":"")+"</table>"},goog.DEBUG)r.table.soyTemplateName="aui.table";s=[],void 0!==(i=function(){return r}.apply(t,s))&&(e.exports=i)},14:function(e,t,n){(function(t,s){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(t,n){!0?e.exports=n():"function"==typeof define&&define.amd?define(n):t.ES6Promise=n()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function r(e){Y=e}function o(e){Q=e}function a(){return function(){return t.nextTick(p)}}function u(){if(void 0!==V)return function(){V(p)};else return f()}function l(){var e=0,t=new Z(p),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=p,function(){return e.port2.postMessage(0)}}function f(){var e=setTimeout;return function(){return e(p,1)}}function p(){for(var e=0;e<K;e+=2){(0,ne[e])(ne[e+1]),ne[e]=void 0,ne[e+1]=void 0}K=0}function d(){try{var e=n(16);return V=e.runOnLoop||e.runOnContext,u()}catch(e){return f()}}function m(e,t){var n=arguments,s=this,i=new this.constructor(g);if(void 0===i[ie])F(i);var r=s._state;if(r)!function(){var e=n[r-1];Q(function(){return O(r,i,e,s._result)})}();else E(s,i,e,t);return i}function v(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return x(n,e),n}function g(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function A(e){try{return e.then}catch(e){return ue.error=e,ue}}function T(e,t,n,s){try{e.call(t,n,s)}catch(e){return e}}function S(e,t,n){Q(function(e){var s=!1,i=T(n,t,function(n){if(!s)if(s=!0,t!==n)x(e,n);else w(e,n)},function(t){if(!s)s=!0,C(e,t)},"Settle: "+(e._label||" unknown promise"));if(!s&&i)s=!0,C(e,i)},e)}function b(e,t){if(t._state===oe)w(e,t._result);else if(t._state===ae)C(e,t._result);else E(t,void 0,function(t){return x(e,t)},function(t){return C(e,t)})}function k(e,t,n){if(t.constructor===e.constructor&&n===m&&t.constructor.resolve===v)b(e,t);else if(n===ue)C(e,ue.error),ue.error=null;else if(void 0===n)w(e,t);else if(i(n))S(e,t,n);else w(e,t)}function x(t,n){if(t===n)C(t,h());else if(e(n))k(t,n,A(n));else w(t,n)}function I(e){if(e._onerror)e._onerror(e._result);_(e)}function w(e,t){if(e._state===re)if(e._result=t,e._state=oe,0!==e._subscribers.length)Q(_,e)}function C(e,t){if(e._state===re)e._state=ae,e._result=t,Q(I,e)}function E(e,t,n,s){var i=e._subscribers,r=i.length;if(e._onerror=null,i[r]=t,i[r+oe]=n,i[r+ae]=s,0===r&&e._state)Q(_,e)}function _(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var s=void 0,i=void 0,r=e._result,o=0;o<t.length;o+=3)if(s=t[o],i=t[o+n],s)O(n,s,i,r);else i(r);e._subscribers.length=0}}function D(){this.error=null}function $(e,t){try{return e(t)}catch(e){return le.error=e,le}}function O(e,t,n,s){var r=i(n),o=void 0,a=void 0,u=void 0,l=void 0;if(r){if((o=$(n,s))===le)l=!0,a=o.error,o.error=null;else u=!0;if(t===o)return void C(t,y())}else o=s,u=!0;if(t._state!==re);else if(r&&u)x(t,o);else if(l)C(t,a);else if(e===oe)w(t,o);else if(e===ae)C(t,o)}function j(e,t){try{t(function(t){x(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}function N(){return ce++}function F(e){e[ie]=ce++,e._state=void 0,e._result=void 0,e._subscribers=[]}function L(e,t){if(this._instanceConstructor=e,this.promise=new e(g),!this.promise[ie])F(this.promise);if(q(t)){if(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length)w(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)w(this.promise,this._result)}else C(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function U(e){return new L(this,e).promise}function P(e){var t=this;if(!q(e))return new t(function(e,t){return t(new TypeError("You must pass an array to race."))});else return new t(function(n,s){for(var i=e.length,r=0;r<i;r++)t.resolve(e[r]).then(n,s)})}function M(e){var t=this,n=new t(g);return C(n,e),n}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){if(this[ie]=N(),this._result=this._state=void 0,this._subscribers=[],g!==e)"function"!=typeof e&&B(),this instanceof H?j(this,e):J()}function G(){var e=void 0;if(void 0!==s)e=s;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=H}var z=void 0;if(!Array.isArray)z=function(e){return"[object Array]"===Object.prototype.toString.call(e)};else z=Array.isArray;var q=z,K=0,V=void 0,Y=void 0,Q=function(e,t){if(ne[K]=e,ne[K+1]=t,2===(K+=2))if(Y)Y(p);else se()},W="undefined"!=typeof window?window:void 0,X=W||{},Z=X.MutationObserver||X.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),se=void 0;if(ee)se=a();else if(Z)se=l();else if(te)se=c();else if(void 0===W)se=d();else se=f();var ie=Math.random().toString(36).substring(16),re=void 0,oe=1,ae=2,ue=new D,le=new D,ce=0;return L.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===re&&n<e;n++)this._eachEntry(t[n],n)},L.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,s=n.resolve;if(s===v){var i=A(e);if(i===m&&e._state!==re)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===H){var r=new n(g);k(r,e,i),this._willSettleAt(r,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(s(e),t)},L.prototype._settledAt=function(e,t,n){var s=this.promise;if(s._state===re)if(this._remaining--,e===ae)C(s,n);else this._result[t]=n;if(0===this._remaining)w(s,this._result)},L.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(oe,t,e)},function(e){return n._settledAt(ae,t,e)})},H.all=U,H.race=P,H.resolve=v,H.reject=M,H._setScheduler=r,H._setAsap=o,H._asap=Q,H.prototype={constructor:H,then:m,catch:function(e){return this.then(null,e)}},H.polyfill=G,H.Promise=H,H})}).call(t,n(15),n(11))},146:function(e,t,n){var s,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Assets)ServiceDesk.Templates.Components.Assets={};if(void 0===ServiceDesk.Templates.Components.Assets.Field)ServiceDesk.Templates.Components.Assets.Field={};if(ServiceDesk.Templates.Components.Assets.Field.assetLozenge=function(e,t){return'<li class="sd-asset-lozenge" title="'+soy.$$escapeHtml(e.asset.label.value)+'"><span class="sd-asset" title="'+soy.$$escapeHtml(e.asset.label.value)+'">'+("Unknown Asset"==e.asset.label.value?'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml("Unknown Asset")+"&nbsp;</span>"+aui.icons.icon({useIconFont:!0,icon:"warning",extraClasses:"aui-iconfont-warning"}):'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml(e.asset.label.value)+"</span>")+'</span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.assetLozenge.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.assetLozenge";s=[n(39)],void 0!==(i=function(){return ServiceDesk.Templates.Components.Assets.Field}.apply(t,s))&&(e.exports=i)},15:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(e){if(f===clearTimeout)return clearTimeout(e);if((f===s||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){if(v&&d){if(v=!1,d.length)m=d.concat(m);else g=-1;if(m.length)a()}}function a(){if(!v){var e=i(o);v=!0;for(var t=m.length;t;){for(d=m,m=[];++g<t;)if(d)d[g].run();g=-1,t=m.length}d=null,v=!1,r(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,p=e.exports={};!function(){try{if("function"==typeof setTimeout)c=setTimeout;else c=n}catch(e){c=n}try{if("function"==typeof clearTimeout)f=clearTimeout;else f=s}catch(e){f=s}}();var d,m=[],v=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(m.push(new u(e,t)),1===m.length&&!v)i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},156:function(e,t,n){var s,i;s=[n(1),n(146),n(90)],void 0!==(i=function(e){var t=ServiceDesk.Templates.Components.Assets.Field.assetLozenge;return function(n){return e(t({asset:n}))}}.apply(t,s))&&(e.exports=i)},157:function(e,t,n){var s,i;s=[n(0),n(1),n(9),n(2),n(38),n(60),n(35),n(32),n(26),n(156),n(88),n(89),n(90)],void 0!==(i=function(e,t,n,s,i,r,o,a,u,l,c,f){var p=r.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),d=i.extend({init:function(e,t){var n=this;f(e.properties.value,function(e){n.$lozenge=l(e),n._assignEvents("instance",n)._assignEvents("removeButton",n.$lozenge.find(".js-remove")),t(n.$lozenge)})},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),m=o.extend({init:function(){this._super.apply(this,arguments),this.$container.addClass("sd-asset-field")},_getTypeOriginAsSerializedType:function(e){return encodeURIComponent((e.appKey+"/"+e.originId).toLowerCase())},_getAssetFieldConfigQueryParamsAsString:function(e,t){var n=this,s="";if(""!==t)s+="prioritizedAssignee="+t+"&";return e.types.forEach(function(e){s+="type="+n._getTypeOriginAsSerializedType(e)+"&"}),s.slice(0,-1)},_getDefaultOptions:function(){for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];var i=t(n[0].element).data().assetFieldConfig,r=t(n[0].element).data().assetFieldReporterAccountId,o="";if(i)o=this._getAssetFieldConfigQueryParamsAsString(i,r);return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new p,itemAttrDisplayed:"label",errorMessage:!1,matchingStrategy:".*",itemBuilder:function(e){var t=this;return new d(e,function(e){e.appendTo(t.$selectedItemsContainer),t.updateItemsIndent()})},ajaxOptions:{url:AJS.contextPath()+"/rest/assetapi/asset/search?"+o,query:!0,formatResponse:this._formatResponse,headers:{"X-B3-Sampled":"1"}}})},_formatResponse:function(t){return e.map(t.values,function(e){return new a(c(e))})},updateItemsIndent:function(){var e=5,n=this.$selectedItemsContainer.outerHeight()+e+e;if(this.$field.css({paddingLeft:e,paddingTop:n,height:n+20+e}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){var t=this;if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)e.defer(e.bind(function(){t.lozengeGroup.shiftFocus(-1)},this))}}});return u("js-request-asset-field",{created:function(e){e.field=new m({element:e})}})}.apply(t,s))&&(e.exports=i)},16:function(e,t){},18:function(e,t,n){var s,i;if(void 0===r)var r={};if(void 0===r.buttons)r.buttons={};if(r.buttons.button=function(e,t){return e.href?'<a href="'+soy.$$escapeHtml(e.href)+'"'+r.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:"a"}))+">"+r.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</a>":"input"==e.tagName?'<input type="'+soy.$$escapeHtml(e.inputType?e.inputType:"button")+'" '+r.buttons.buttonAttributes(e)+' value="'+soy.$$escapeHtml(e.text)+'" />':"<"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+r.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:e.tagName?e.tagName:"button"}))+">"+r.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+">"},goog.DEBUG)r.buttons.button.soyTemplateName="aui.buttons.button";if(r.buttons.buttons=function(e,t){return"<div"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-buttons'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+soy.$$filterNoAutoescape(e.content)+"</div>"},goog.DEBUG)r.buttons.buttons.soyTemplateName="aui.buttons.buttons";if(r.buttons.buttonAttributes=function(e,t){e=e||{};var n=(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-button'+("main"==e.splitButtonType?" aui-button-split-main":"")+(e.dropdown2Target?" aui-dropdown2-trigger"+("more"==e.splitButtonType?" aui-button-split-more":""):"");switch(e.type){case"primary":n+=" aui-button-primary";break;case"link":n+=" aui-button-link";break;case"subtle":n+=" aui-button-subtle"}return n+=r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+(e.isPressed?' aria-pressed="'+soy.$$escapeHtml(e.isPressed)+'"':"")+(e.isDisabled?' aria-disabled="'+soy.$$escapeHtml(e.isDisabled)+'"'+(1==e.isDisabled?"button"==e.tagName||"input"==e.tagName?' disabled="disabled" ':"":""):"")+(e.dropdown2Target?' aria-owns="'+soy.$$escapeHtml(e.dropdown2Target)+'" aria-haspopup="true"':"")+("a"==e.tagName?' tabindex="0"':"")},goog.DEBUG)r.buttons.buttonAttributes.soyTemplateName="aui.buttons.buttonAttributes";if(r.buttons.buttonIcon=function(e,t){return e=e||{},e.iconType?'<span class="'+("aui"==e.iconType?"aui-icon":"")+(e.iconClass?" "+soy.$$escapeHtml(e.iconClass):"")+'">'+(e.iconText?soy.$$escapeHtml(e.iconText)+" ":"")+"</span>":""},goog.DEBUG)r.buttons.buttonIcon.soyTemplateName="aui.buttons.buttonIcon";if(r.buttons.splitButton=function(e,t){return""+r.buttons.button(soy.$$augmentMap(e.splitButtonMain,{splitButtonType:"main"}))+r.buttons.button(soy.$$augmentMap(e.splitButtonMore,{splitButtonType:"more"}))},goog.DEBUG)r.buttons.splitButton.soyTemplateName="aui.buttons.splitButton";s=[n(13)],void 0!==(i=function(){return r.buttons}.apply(t,s))&&(e.exports=i)},19:function(e,t,n){var s,i;(function(){function n(e){function t(t,n,s,i,r,o){for(;r>=0&&r<o;r+=e){var a=i?i[r]:r;s=n(s,t[a],a,t)}return s}return function(n,s,i,r){s=k(s,r,4);var o=!D(n)&&b.keys(n),a=(o||n).length,u=e>0?0:a-1;if(arguments.length<3)i=n[o?o[u]:u],u+=e;return t(n,s,i,o,u,a)}}function r(e){return function(t,n,s){n=x(n,s);for(var i=_(t),r=e>0?0:i-1;r>=0&&r<i;r+=e)if(n(t[r],r,t))return r;return-1}}function o(e,t,n){return function(s,i,r){var o=0,a=_(s);if("number"==typeof r)if(e>0)o=r>=0?r:Math.max(r+a,o);else a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(s,i),s[r]===i?r:-1;if(i!==i)return r=t(m.call(s,o,a),b.isNaN),r>=0?r+o:-1;for(r=e>0?o:a-1;r>=0&&r<a;r+=e)if(s[r]===i)return r;return-1}}function a(e,t){var n=F.length,s=e.constructor,i=b.isFunction(s)&&s.prototype||f,r="constructor";if(b.has(e,r)&&!b.contains(t,r))t.push(r);for(;n--;)if((r=F[n])in e&&e[r]!==i[r]&&!b.contains(t,r))t.push(r)}var u=this,l=u._,c=Array.prototype,f=Object.prototype,p=Function.prototype,d=c.push,m=c.slice,v=f.toString,g=f.hasOwnProperty,h=Array.isArray,y=Object.keys,A=p.bind,T=Object.create,S=function(){},b=function(e){if(e instanceof b)return e;if(!(this instanceof b))return new b(e);else return void(this._wrapped=e)};if(!0){if(void 0!==e&&e.exports)t=e.exports=b;t._=b}else u._=b;b.VERSION="1.8.3";var k=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,i){return e.call(t,n,s,i)};case 4:return function(n,s,i,r){return e.call(t,n,s,i,r)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){if(null==e)return b.identity;if(b.isFunction(e))return k(e,t,n);if(b.isObject(e))return b.matcher(e);else return b.property(e)};b.iteratee=function(e,t){return x(e,t,1/0)};var I=function(e,t){return function(n){var s=arguments.length;if(s<2||null==n)return n;for(var i=1;i<s;i++)for(var r=arguments[i],o=e(r),a=o.length,u=0;u<a;u++){var l=o[u];if(!t||void 0===n[l])n[l]=r[l]}return n}},w=function(e){if(!b.isObject(e))return{};if(T)return T(e);S.prototype=e;var t=new S;return S.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,_=C("length"),D=function(e){var t=_(e);return"number"==typeof t&&t>=0&&t<=E};b.each=b.forEach=function(e,t,n){t=k(t,n);var s,i;if(D(e))for(s=0,i=e.length;s<i;s++)t(e[s],s,e);else{var r=b.keys(e);for(s=0,i=r.length;s<i;s++)t(e[r[s]],r[s],e)}return e},b.map=b.collect=function(e,t,n){t=x(t,n);for(var s=!D(e)&&b.keys(e),i=(s||e).length,r=Array(i),o=0;o<i;o++){var a=s?s[o]:o;r[o]=t(e[a],a,e)}return r},b.reduce=b.foldl=b.inject=n(1),b.reduceRight=b.foldr=n(-1),b.find=b.detect=function(e,t,n){var s;if(D(e))s=b.findIndex(e,t,n);else s=b.findKey(e,t,n);if(void 0!==s&&-1!==s)return e[s]},b.filter=b.select=function(e,t,n){var s=[];return t=x(t,n),b.each(e,function(e,n,i){if(t(e,n,i))s.push(e)}),s},b.reject=function(e,t,n){return b.filter(e,b.negate(x(t)),n)},b.every=b.all=function(e,t,n){t=x(t,n);for(var s=!D(e)&&b.keys(e),i=(s||e).length,r=0;r<i;r++){var o=s?s[r]:r;if(!t(e[o],o,e))return!1}return!0},b.some=b.any=function(e,t,n){t=x(t,n);for(var s=!D(e)&&b.keys(e),i=(s||e).length,r=0;r<i;r++){var o=s?s[r]:r;if(t(e[o],o,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,s){if(!D(e))e=b.values(e);if("number"!=typeof n||s)n=0;return b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=m.call(arguments,2),s=b.isFunction(t);return b.map(e,function(e){var i=s?t:e[t];return null==i?i:i.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var s,i,r=-1/0,o=-1/0;if(null==t&&null!=e){e=D(e)?e:b.values(e);for(var a=0,u=e.length;a<u;a++)if((s=e[a])>r)r=s}else t=x(t,n),b.each(e,function(e,n,s){if((i=t(e,n,s))>o||i===-1/0&&r===-1/0)r=e,o=i});return r},b.min=function(e,t,n){var s,i,r=1/0,o=1/0;if(null==t&&null!=e){e=D(e)?e:b.values(e);for(var a=0,u=e.length;a<u;a++)if((s=e[a])<r)r=s}else t=x(t,n),b.each(e,function(e,n,s){if((i=t(e,n,s))<o||i===1/0&&r===1/0)r=e,o=i});return r},b.shuffle=function(e){for(var t,n=D(e)?e:b.values(e),s=n.length,i=Array(s),r=0;r<s;r++){if((t=b.random(0,r))!==r)i[r]=i[t];i[t]=n[r]}return i},b.sample=function(e,t,n){if(null==t||n){if(!D(e))e=b.values(e);return e[b.random(e.length-1)]}return b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=x(t,n),b.pluck(b.map(e,function(e,n,s){return{value:e,index:n,criteria:t(e,n,s)}}).sort(function(e,t){var n=e.criteria,s=t.criteria;if(n!==s){if(n>s||void 0===n)return 1;if(n<s||void 0===s)return-1}return e.index-t.index}),"value")};var $=function(e){return function(t,n,s){var i={};return n=x(n,s),b.each(t,function(s,r){var o=n(s,r,t);e(i,s,o)}),i}};b.groupBy=$(function(e,t,n){if(b.has(e,n))e[n].push(t);else e[n]=[t]}),b.indexBy=$(function(e,t,n){e[n]=t}),b.countBy=$(function(e,t,n){if(b.has(e,n))e[n]++;else e[n]=1}),b.toArray=function(e){if(!e)return[];if(b.isArray(e))return m.call(e);if(D(e))return b.map(e,b.identity);else return b.values(e)},b.size=function(e){if(null==e)return 0;else return D(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=x(t,n);var s=[],i=[];return b.each(e,function(e,n,r){(t(e,n,r)?s:i).push(e)}),[s,i]},b.first=b.head=b.take=function(e,t,n){if(null!=e)if(null==t||n)return e[0];else return b.initial(e,e.length-t)},b.initial=function(e,t,n){return m.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){if(null!=e)if(null==t||n)return e[e.length-1];else return b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return m.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var O=function(e,t,n,s){for(var i=[],r=0,o=s||0,a=_(e);o<a;o++){var u=e[o];if(D(u)&&(b.isArray(u)||b.isArguments(u))){if(!t)u=O(u,t,n);var l=0,c=u.length;for(i.length+=c;l<c;)i[r++]=u[l++]}else if(!n)i[r++]=u}return i};b.flatten=function(e,t){return O(e,t,!1)},b.without=function(e){return b.difference(e,m.call(arguments,1))},b.uniq=b.unique=function(e,t,n,s){if(!b.isBoolean(t))s=n,n=t,t=!1;if(null!=n)n=x(n,s);for(var i=[],r=[],o=0,a=_(e);o<a;o++){var u=e[o],l=n?n(u,o,e):u;if(t){if(!o||r!==l)i.push(u);r=l}else if(n){if(!b.contains(r,l))r.push(l),i.push(u)}else if(!b.contains(i,u))i.push(u)}return i},b.union=function(){return b.uniq(O(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,s=0,i=_(e);s<i;s++){var r=e[s];if(!b.contains(t,r)){for(var o=1;o<n&&b.contains(arguments[o],r);o++);if(o===n)t.push(r)}}return t},b.difference=function(e){var t=O(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,_).length||0,n=Array(t),s=0;s<t;s++)n[s]=b.pluck(e,s);return n},b.object=function(e,t){for(var n={},s=0,i=_(e);s<i;s++)if(t)n[e[s]]=t[s];else n[e[s][0]]=e[s][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(e,t,n,s){n=x(n,s,1);for(var i=n(t),r=0,o=_(e);r<o;){var a=Math.floor((r+o)/2);if(n(e[a])<i)r=a+1;else o=a}return r},b.indexOf=o(1,b.findIndex,b.sortedIndex),b.lastIndexOf=o(-1,b.findLastIndex),b.range=function(e,t,n){if(null==t)t=e||0,e=0;n=n||1;for(var s=Math.max(Math.ceil((t-e)/n),0),i=Array(s),r=0;r<s;r++,e+=n)i[r]=e;return i};var j=function(e,t,n,s,i){if(!(s instanceof t))return e.apply(n,i);var r=w(e.prototype),o=e.apply(r,i);if(b.isObject(o))return o;else return r};b.bind=function(e,t){if(A&&e.bind===A)return A.apply(e,m.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=m.call(arguments,2),s=function(){return j(e,s,t,this,n.concat(m.call(arguments)))};return s},b.partial=function(e){var t=m.call(arguments,1),n=function(){for(var s=0,i=t.length,r=Array(i),o=0;o<i;o++)r[o]=t[o]===b?arguments[s++]:t[o];for(;s<arguments.length;)r.push(arguments[s++]);return j(e,n,this,this,r)};return n},b.bindAll=function(e){var t,n,s=arguments.length;if(s<=1)throw new Error("bindAll must be passed function names");for(t=1;t<s;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function(s){var i=n.cache,r=""+(t?t.apply(this,arguments):s);if(!b.has(i,r))i[r]=e.apply(this,arguments);return i[r]};return n.cache={},n},b.delay=function(e,t){var n=m.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var s,i,r,o=null,a=0;if(!n)n={};var u=function(){if(a=!1===n.leading?0:b.now(),o=null,r=e.apply(s,i),!o)s=i=null};return function(){var l=b.now();if(!a&&!1===n.leading)a=l;var c=t-(l-a);if(s=this,i=arguments,c<=0||c>t){if(o)clearTimeout(o),o=null;if(a=l,r=e.apply(s,i),!o)s=i=null}else if(!o&&!1!==n.trailing)o=setTimeout(u,c);return r}},b.debounce=function(e,t,n){var s,i,r,o,a,u=function(){var l=b.now()-o;if(l<t&&l>=0)s=setTimeout(u,t-l);else if(s=null,!n)if(a=e.apply(r,i),!s)r=i=null};return function(){r=this,i=arguments,o=b.now();var l=n&&!s;if(!s)s=setTimeout(u,t);if(l)a=e.apply(r,i),r=i=null;return a}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,s=e[t].apply(this,arguments);n--;)s=e[n].call(this,s);return s}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var n;return function(){if(--e>0)n=t.apply(this,arguments);if(e<=1)t=null;return n}},b.once=b.partial(b.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)if(b.has(e,n))t.push(n);if(N)a(e,t);return t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);if(N)a(e,t);return t},b.values=function(e){for(var t=b.keys(e),n=t.length,s=Array(n),i=0;i<n;i++)s[i]=e[t[i]];return s},b.mapObject=function(e,t,n){t=x(t,n);for(var s,i=b.keys(e),r=i.length,o={},a=0;a<r;a++)s=i[a],o[s]=t(e[s],s,e);return o},b.pairs=function(e){for(var t=b.keys(e),n=t.length,s=Array(n),i=0;i<n;i++)s[i]=[t[i],e[t[i]]];return s},b.invert=function(e){for(var t={},n=b.keys(e),s=0,i=n.length;s<i;s++)t[e[n[s]]]=n[s];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)if(b.isFunction(e[n]))t.push(n);return t.sort()},b.extend=I(b.allKeys),b.extendOwn=b.assign=I(b.keys),b.findKey=function(e,t,n){t=x(t,n);for(var s,i=b.keys(e),r=0,o=i.length;r<o;r++)if(s=i[r],t(e[s],s,e))return s},b.pick=function(e,t,n){var s,i,r={},o=e;if(null==o)return r;if(b.isFunction(t))i=b.allKeys(o),s=k(t,n);else i=O(arguments,!1,!1,1),s=function(e,t,n){return t in n},o=Object(o);for(var a=0,u=i.length;a<u;a++){var l=i[a],c=o[l];if(s(c,l,o))r[l]=c}return r},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var s=b.map(O(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(s,t)}}return b.pick(e,t,n)},b.defaults=I(b.allKeys,!0),b.create=function(e,t){var n=w(e);if(t)b.extendOwn(n,t);return n},b.clone=function(e){if(!b.isObject(e))return e;else return b.isArray(e)?e.slice():b.extend({},e)},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),s=n.length;if(null==e)return!s;for(var i=Object(e),r=0;r<s;r++){var o=n[r];if(t[o]!==i[o]||!(o in i))return!1}return!0};var L=function(e,t,n,s){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e instanceof b)e=e._wrapped;if(t instanceof b)t=t._wrapped;var i=v.call(e);if(i!==v.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!=+e)return+t!=+t;else return 0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var r="[object Array]"===i;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(b.isFunction(o)&&o instanceof o&&b.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],s=s||[];for(var u=n.length;u--;)if(n[u]===e)return s[u]===t;if(n.push(e),s.push(t),r){if((u=e.length)!==t.length)return!1;for(;u--;)if(!L(e[u],t[u],n,s))return!1}else{var l,c=b.keys(e);if(u=c.length,b.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!b.has(t,l)||!L(e[l],t[l],n,s))return!1}return n.pop(),s.pop(),!0};if(b.isEqual=function(e,t){return L(e,t)},b.isEmpty=function(e){if(null==e)return!0;if(D(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e)))return 0===e.length;else return 0===b.keys(e).length},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=h||function(e){return"[object Array]"===v.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return v.call(t)==="[object "+e+"]"}}),!b.isArguments(arguments))b.isArguments=function(e){return b.has(e,"callee")};if("function"!=typeof/./&&"object"!=typeof Int8Array)b.isFunction=function(e){return"function"==typeof e||!1};b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===v.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&g.call(e,t)},b.noConflict=function(){return u._=l,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=C,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var s=Array(Math.max(0,e));t=k(t,n,1);for(var i=0;i<e;i++)s[i]=t(i);return s},b.random=function(e,t){if(null==t)t=e,e=0;return e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=b.invert(R),P=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",s=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,s.test(e)?e.replace(i,t):e}};b.escape=P(R),b.unescape=P(U),b.result=function(e,t,n){var s=null==e?void 0:e[t];if(void 0===s)s=n;return b.isFunction(s)?s.call(e):s};var M=0;b.uniqueId=function(e){var t=++M+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,G=function(e){return"\\"+J[e]};b.template=function(e,t,n){if(!t&&n)t=n;t=b.defaults({},t,b.templateSettings);var s=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),i=0,r="__p+='";if(e.replace(s,function(t,n,s,o,a){if(r+=e.slice(i,a).replace(H,G),i=a+t.length,n)r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";else if(s)r+="'+\n((__t=("+s+"))==null?'':__t)+\n'";else if(o)r+="';\n"+o+"\n__p+='";return t}),r+="';\n",!t.variable)r="with(obj||{}){\n"+r+"}\n";r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var a=function(e){return o.call(this,e,b)},u=t.variable||"obj";return a.source="function("+u+"){\n"+r+"}",a},b.chain=function(e){var t=b(e);return t._chain=!0,t};var z=function(e,t){return e._chain?b(t).chain():t};if(b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),z(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];b.prototype[e]=function(){var n=this._wrapped;if(t.apply(n,arguments),("shift"===e||"splice"===e)&&0===n.length)delete n[0];return z(this,n)}}),b.each(["concat","join","slice"],function(e){var t=c[e];b.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},!0)s=[],void 0!==(i=function(){return b}.apply(t,s))&&(e.exports=i)}).call(this)},2:function(e,t,n){var s,i;s=[n(0),n(10),n(25)],void 0!==(i=function(e,t,n){var s=n(e,t);return s.Model.prototype.ignoreUnknownAttributes=!0,s}.apply(t,s))&&(e.exports=i)},201:function(e,t,n){var s,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Assets)ServiceDesk.Templates.Components.Assets={};if(ServiceDesk.Templates.Components.Assets.main=function(e,t){return""+(e.displayedAssets.length?ServiceDesk.Templates.Components.Assets.assetsList({assets:e.displayedAssets,displayRemoveLink:e.displayRemoveLink,removeLinkOptions:e.removeLinkOptions})+(e.hasToggle?e.expanded?aui.buttons.button({extraClasses:"js-assets-contract",type:"link",text:"Less"}):aui.buttons.button({extraClasses:"js-assets-expand",type:"link",text:AJS.format("More",e.totalAssets)}):""):"")},goog.DEBUG)ServiceDesk.Templates.Components.Assets.main.soyTemplateName="ServiceDesk.Templates.Components.Assets.main";if(ServiceDesk.Templates.Components.Assets.assetsList=function(e,t){for(var n='<ul class="sd-assets-list">',s=e.assets,i=s.length,r=0;r<i;r++){var o=s[r];n+='<li class="sd-asset" data-key="'+soy.$$escapeHtml(o.value)+'">'+ServiceDesk.Templates.Components.Assets.assetItem({asset:o,displayRemoveLink:e.displayRemoveLink,removeLinkOptions:e.removeLinkOptions})+"</li>"}return n+="</ul>"},goog.DEBUG)ServiceDesk.Templates.Components.Assets.assetsList.soyTemplateName="ServiceDesk.Templates.Components.Assets.assetsList";if(ServiceDesk.Templates.Components.Assets.assetItem=function(e,t){return'<span class="sd-asset" data-key="'+soy.$$escapeHtml(e.asset.value)+'"><span class="sd-asset-label">'+soy.$$escapeHtml("Unknown Asset"==e.asset.label?"Unknown Asset":e.asset.label)+"</span>"+("Unknown Asset"==e.asset.label?"&nbsp;"+aui.icons.icon({useIconFont:!0,icon:"warning"}):"")+"</span>"+(e.displayRemoveLink?ServiceDesk.Templates.Components.Assets.removeAssetLink({assetId:e.asset.value,removeLinkOptions:e.removeLinkOptions}):"")},goog.DEBUG)ServiceDesk.Templates.Components.Assets.assetItem.soyTemplateName="ServiceDesk.Templates.Components.Assets.assetItem";if(ServiceDesk.Templates.Components.Assets.removeAssetLink=function(e,t){return'<div class="'+soy.$$escapeHtml(e.removeLinkOptions.class)+'">'+aui.buttons.button({text:"sd.request.details.assets.remove.asset",type:"link",extraAttributes:{"data-id":e.assetId},extraClasses:e.removeLinkOptions.trigger})+'<span class="'+soy.$$escapeHtml(e.removeLinkOptions.statusClass)+'"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Components.Assets.removeAssetLink.soyTemplateName="ServiceDesk.Templates.Components.Assets.removeAssetLink";s=[n(18),n(39)],void 0!==(i=function(){return ServiceDesk.Templates.Components.Assets}.apply(t,s))&&(e.exports=i)},222:function(e,t,n){var s;void 0!==(s=function(){return JIRA.Issues.Api}.call(t,n,t,e))&&(e.exports=s)},23:function(e,t,n){var s,i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s))e[s]=n[s]}return e};s=[n(41),n(5)],void 0!==(i=function(e,t){function n(e){var n={containerType:"project",containerId:""+t.get("projectId"),attributes:{nextGenProject:t.getBoolean("isSimplifiedProject"),openAccess:t.getBoolean("openAccess"),publicSignup:t.getBoolean("publicSignup"),jsdRole:t.get("userRole"),initialProjectTemplate:t.get("initialProjectTemplate"),demoProject:t.getBoolean("demoProject"),environment:t.get("region")}};return r({},n,e,{attributes:r({},n.attributes,e.attributes)})}var s={MODAL:"Modal",SCREEN:"Screen",INLINE_DIALOG:"InlineDialog",DRAWER:"Drawer",TAB:"Tab"},i={INVITE_TEAM:"InviteTeam",KNOWLEDGE_BASE:"KnowledgeBase",CUSTOMER_CHANNELS:"CustomerChannels",CUSTOMERS:"Customers",CUSTOMER_NOTIFICATION_SETTINGS:"CustomerNotificationSettings",LANGUAGE_SUPPORT_SETTINGS:"LanguageSupportSettings",ONBOARDING_WIZARD:"OnboardingWizard",KNOWLEDGE_BASE_SETTINGS:"KnowledgeBaseSettings",REQUEST_TYPE_SETTINGS:"RequestTypeSettings",QUEUES:"Queues",GETTING_STARTED:"GettingStarted",PORTAL_SETTINGS:"PortalSettings",CUSTOMER_PERMISSIONS_SETTINGS:"CustomerPermissionsSettings",SATISFACTION_SETTINGS:"SatisfactionSettings",SLA_SETTINGS:"SlaSettings",EMAIL_REQUEST_SETTINGS:"EmailRequestSettings",JIRA_EMAIL_REQUEST_SETTINGS:"JiraEmailRequestSettings",AUTOMATION_SETTINGS:"AutomationSettings",REPORTS:"Reports",JIRA_WORKFLOW_SETTINGS:"JiraWorkflowSettings"},o={TRACK:{objectTypes:{ISSUE_OBJECT_TYPE:"issue",QUEUES_OBJECT_TYPE:"queue",APPROVAL_OBJECT_TYPE:"approval"},actionSubjects:{ISSUE_ACTION_SUBJECT:"issue",QUEUES_ACTION_SUBJECT:"queue",APPROVAL_ACTION_SUBJECT:"approval"},actionTypes:{CREATED_ACTION_TYPE:"created",DELETED_ACTION_TYPE:"deleted",DISABLED_ACTION_TYPE:"disabled",ENABLED_ACTION_TYPE:"enabled",UPDATED_ACTION_TYPE:"updated",VIEWED_ACTION_TYPE:"viewed",CONFIGURATION_UPDATED_ACTION_TYPE:"configurationUpdated",CONFIGURATION_REMOVED_ACTION_TYPE:"configurationRemoved",CONFIGURATION_CREATED_ACTION_TYPE:"configurationCreated"}},UI:{actionSubjects:{TOGGLE_ACTION_SUBJECT:"toggle",BUTTON_ACTION_SUBJECT:"button",ACTIVITY_ITEM_ACTION_SUBJECT:"activityItem",LINK_ACTION_SUBJECT:"link",NAVIGATION_ITEM_ACTION_SUBJECT:"navigationItem"},actionTypes:{CLICKED_ACTION_TYPE:"clicked"}},OPERATIONAL:{actionSubjects:{GETTING_STARTED_EXPERIMENT_ACTION_SUBJECT:"gettingStartedExperiment",QUEUE_TABLE_ACTION_SUBJECT:"queueTable"},actionTypes:{EXPOSE_ACTION_TYPE:"expose",INITIALIZED_ACTION_TYPE:"initialized"}}};return{fireScreenEvent:function(t){var i=t.name,r=t.attributes,o=i.split(/(?=[A-Z][^A-Z]+$)/);if(!s[o])console.warn("Unrecognised screen type "+o+"}!");if(!r.context)console.warn("You didn't provide a context for your screen event!");try{e.sendScreenEvent(n(t))}catch(e){console.warn(e)}},fireUIEvent:function(t){try{e.sendUIEvent(n(t))}catch(e){console.warn(e)}},fireTrackEvent:function(t){try{e.sendTrackEvent(n(t))}catch(e){console.warn(e)}},fireOperationalEvent:function(t){try{e.sendOperationalEvent(n(t))}catch(e){console.warn(e)}},fireErrorEvent:function(e,t,n){try{var s=r({action:"failed",actionSubject:e,source:t||"unknownErrorSource"},n);this.fireOperationalEvent(s)}catch(e){console.warn(e)}},CONTEXTS:i,EVENT_CONSTANTS:o}}.apply(t,s))&&(e.exports=i)},24:function(e,t){e.exports=window.require("atlassian/libs/factories/backbone-1.0.0")},242:function(e,t){},243:function(e,t){},25:function(e,t){e.exports=window.require("atlassian/libs/factories/brace-1.1.0")},26:function(e,t,n){var s,i;s=[n(0),n(9)],void 0!==(i=function(e,t){var n=void 0;return function(){var s=this,i=e.toArray(arguments);return{install:e.once(function(){try{n=t.apply(s,i)}catch(e){console.log("Failed to install skate component, maybe it has already been installed")}return n})}}}.apply(t,s))&&(e.exports=i)},27:function(e,t,n){var s,i;s=[n(12),t],void 0!==(i=function(e,t){t.getPluginVersion=function(){return(AJS.Meta||e).get("sdPluginVersion")}}.apply(t,s))&&(e.exports=i)},28:function(e,t){e.exports=window.require("atlassian/libs/skate-0.12.6")},3:function(e,t){e.exports=window.require("jira/featureflags/feature-manager")},32:function(e,t){e.exports=window.require("jira/ajs/list/item-descriptor")},33:function(e,t,n){var s,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Internal)ServiceDesk.Internal={};if(void 0===ServiceDesk.Internal.Util)ServiceDesk.Internal.Util={};if(void 0===ServiceDesk.Internal.Util.Rebranding)ServiceDesk.Internal.Util.Rebranding={};if(ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText=function(e,t){return""+(n(3).isFeatureEnabled("jsd-mystique")?soy.$$escapeHtml(e.jsmText):soy.$$escapeHtml(e.jsdText))},goog.DEBUG)ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText.soyTemplateName="ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText";if(ServiceDesk.Internal.Util.Rebranding.getJSMRebrandTextNoAutoEscape=function(e,t){return""+(n(3).isFeatureEnabled("jsd-mystique")?e.jsmText:e.jsdText)},goog.DEBUG)ServiceDesk.Internal.Util.Rebranding.getJSMRebrandTextNoAutoEscape.soyTemplateName="ServiceDesk.Internal.Util.Rebranding.getJSMRebrandTextNoAutoEscape";s=[],void 0!==(i=function(){return ServiceDesk.Internal.Util.Rebranding}.apply(t,s))&&(e.exports=i)},331:function(e,t,n){var s,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Assets)ServiceDesk.Templates.Components.Assets={};if(void 0===ServiceDesk.Templates.Components.Assets.Onboarding)ServiceDesk.Templates.Components.Assets.Onboarding={};if(ServiceDesk.Templates.Components.Assets.Onboarding.container=function(e,t){return'<div id="asset-fields-panel" class="module"><div class="asset-onboarding"/></div>'},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Onboarding.container.soyTemplateName="ServiceDesk.Templates.Components.Assets.Onboarding.container";if(ServiceDesk.Templates.Components.Assets.Onboarding.flag=function(e,t){return"<p>"+ServiceDesk.Internal.Util.Rebranding.getJSMRebrandText({jsmText:"Connect an asset management app so you can reference, track, and tie assets directly to Jira Service Management requests.",jsdText:"Connect an asset management app so you can reference, track, and tie assets directly to Jira Service Desk requests."})+'</p><button class="aui-button aui-button-link browse-asset-apps">'+soy.$$escapeHtml("Browse apps and integrations")+"</button>"},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Onboarding.flag.soyTemplateName="ServiceDesk.Templates.Components.Assets.Onboarding.flag";s=[n(33)],void 0!==(i=function(){return ServiceDesk.Templates.Components.Assets.Onboarding}.apply(t,s))&&(e.exports=i)},332:function(e,t,n){var s,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Assets)ServiceDesk.Templates.Components.Assets={};if(void 0===ServiceDesk.Templates.Components.Assets.Field)ServiceDesk.Templates.Components.Assets.Field={};if(ServiceDesk.Templates.Components.Assets.Field.container=function(e,t){for(var n='<div id="asset-fields-panel" class="module">',s=e.fields,i=s.length,r=0;r<i;r++){var o=s[r];n+='<div class="asset-field" data-field="'+soy.$$escapeHtml(o)+'"><div class="asset-field-label">'+soy.$$escapeHtml(o.label)+"</div>";for(var a=o.assets,u=a.length,l=0;l<u;l++){var c=a[l];n+='<div class="asset-container"><div class="linked-asset asset-info" data-origin="'+soy.$$escapeHtml(c.asset.serializedOrigin)+'" data-app-key="'+soy.$$escapeHtml(c.asset.appKey)+'" data-field-id="'+soy.$$escapeHtml(o.id)+'" data-linked-assets="'+soy.$$escapeHtml(o.assetsAsJson)+'" data-iframe="'+soy.$$escapeHtml(c.iframes)+'"></div>';var f=c.iframes;n+='<div class="iframes">'+soy.$$filterNoAutoescape(f)+"</div></div>"}n+='</div><asset-picker data-linked-assets="'+soy.$$escapeHtml(o.assetsAsJson)+'" data-field-id="'+soy.$$escapeHtml(o.id)+'" data-field-config="'+soy.$$escapeHtml(o.configAsJson)+'" data-reporter-id="'+soy.$$escapeHtml(e.reporterId)+'" data-max-linked-assets="'+soy.$$escapeHtml(o.maxLinkedAssets)+'"></asset-picker>'}return n+="</div>"},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.container.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.container";if(ServiceDesk.Templates.Components.Assets.Field.asset=function(e,t){return'<div class="asset-rendered asset-info"><div class="asset-vendor-icon '+soy.$$escapeHtml(e.iconCssClass)+'"></div><div class="label">'+soy.$$escapeHtml(e.asset.label.value)+'</div><div class="more" id="more-'+soy.$$escapeHtml(e.fieldId)+"-"+soy.$$escapeHtml(e.asset.origin.appKey)+"-"+soy.$$escapeHtml(e.asset.origin.originId)+'">'+ServiceDesk.Templates.Components.Assets.Field.more(e)+"</div>"+(e.hasIframe?'<div class="control">'+(e.expanded?'<div class="js-asset-collapse asset-toggle">'+aui.icons.icon({useIconFont:!0,size:"small",icon:"arrow-up"})+"</div>":'<div class="js-asset-expand asset-toggle">'+aui.icons.icon({useIconFont:!0,size:"small",icon:"arrow-down"})+"</div>")+"</div>":"")+"</div>"},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.asset.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.asset";if(ServiceDesk.Templates.Components.Assets.Field.add=function(e,t){return""+aui.buttons.button({id:"sd-add-asset-button",text:"+ "+"Link asset",type:"link"})},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.add.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.add";if(ServiceDesk.Templates.Components.Assets.Field.picker=function(e,t){return e.numLinkedAssets<e.maxLinkedAssets?'<form class="aui"><select name="assetPickerId" class="js-asset-selector-element"></select></form>':'<span id="max-linked-assets-error">'+soy.$$escapeHtml("Maximum linked assets limit reached")+"</span>"},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.picker.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.picker";if(ServiceDesk.Templates.Components.Assets.Field.more=function(e,t){return'<button id="asset-more-button" class="aui-button aui-button-compact aui-button-subtle aui-dropdown2-trigger aui-dropdown2-trigger-arrowless" aria-controls="asset-more-dropdown-'+soy.$$escapeHtml(e.fieldId)+"-"+soy.$$escapeHtml(e.asset.origin.appKey)+"-"+soy.$$escapeHtml(e.asset.origin.originId)+'"><span class="aui-icon aui-icon-small aui-iconfont-more">More</span></button><aui-dropdown-menu id="asset-more-dropdown-'+soy.$$escapeHtml(e.fieldId)+"-"+soy.$$escapeHtml(e.asset.origin.appKey)+"-"+soy.$$escapeHtml(e.asset.origin.originId)+'" class="dropdown aui-style-default aui-dropdown2"><aui-item-link class="unlink-asset">'+soy.$$escapeHtml("Unlink asset")+"</aui-item-link></aui-dropdown-menu>"},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.more.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.more";if(ServiceDesk.Templates.Components.Assets.Field.assignee=function(e,t){return'<span class="assignee-subtitle">'+soy.$$escapeHtml(e.assignee)+"</span>"},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.assignee.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.assignee";if(ServiceDesk.Templates.Components.Assets.Field.appIcon=function(e,t){return'<div class="asset-app-icon '+soy.$$escapeHtml(e.iconCssClass)+'"/>'},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.appIcon.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.appIcon";s=[n(39),n(18)],void 0!==(i=function(){return ServiceDesk.Templates.Components.Assets.Field}.apply(t,s))&&(e.exports=i)},35:function(e,t){e.exports=window.require("jira/ajs/select/multi-select")},365:function(e,t,n){var s,i;s=[n(2),n(7),n(6)],void 0!==(i=function(e){return e.Model.extend({namedAttributes:{value:String,label:String},defaults:{value:"",label:""}})}.apply(t,s))&&(e.exports=i)},366:function(e,t,n){var s,i;s=[n(0),n(2),n(4),n(1),n(26),n(88),n(367),n(201),n(242),n(481)],void 0!==(i=function(e,t,n,s,i,r,o){var a=t.Model.extend({namedAttributes:{appKey:String,originId:String,serializedOrigin:String,value:String}}),u=t.Model.extend({namedAttributes:{asset:a,iframes:String}}),l=t.Collection.extend({model:u}),c=t.Model.extend({namedAttributes:{appKey:String,originId:String}}),f=t.Collection.extend({model:c}),p=t.Model.extend({namedAttributes:{types:f}}),d=t.Model.extend({namedAttributes:{linkedAssets:l,fieldId:String,fieldConfig:p,reporterId:String,maxLinkedAssets:Number}}),m=t.View.extend({templatePicker:ServiceDesk.Templates.Components.Assets.Field.picker,templateAdd:ServiceDesk.Templates.Components.Assets.Field.add,events:{"click #sd-add-asset-button":"renderPicker","blur #assetPickerId-field":"renderAdd"},renderAdd:function(){var e=this.templateAdd({});this.$el.html(e)},renderPicker:function(){var e=this.templatePicker({numLinkedAssets:this.model.getLinkedAssets().length,maxLinkedAssets:this.model.getMaxLinkedAssets()});if(this.$el.html(e),this.model.getLinkedAssets.length<this.model.getMaxLinkedAssets()){var t=this.$el.find(".js-asset-selector-element")[0];new o({element:t,linkedAssets:this.model.getLinkedAssets(),fieldId:this.model.getFieldId(),fieldConfig:this.model.getFieldConfig(),reporterId:this.model.getReporterId()}).$field.focus().select()}},render:function(){this.renderAdd()}});return i("asset-picker",{created:function(e){var t=s(e);new m({el:t,model:new d(t.data())}).render()}})}.apply(t,s))&&(e.exports=i)},367:function(e,t,n){function s(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0});else e[t]=n;return e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s))e[s]=n[s]}return e};r=[n(0),n(1),n(92),n(507),n(68),n(222),n(243)],void 0!==(o=function(e,t,n,r,o,u){function l(e){var n=t.Deferred();return t.get(AJS.contextPath()+"/rest/api/3/user?accountId="+e.properties.assigneeAccountId).done(function(t){v[e.properties.assigneeAccountId]=t.displayName,n.resolve(t.displayName)}).fail(n.reject),n}function c(e,n){var s=t.Deferred();if(n)s.resolve(new AJS.ItemDescriptor(a({},e.properties,{assignee:n})));else l(e).done(function(t){s.resolve(new AJS.ItemDescriptor(a({},e.properties,{assignee:t})))});return s}function f(e,t){var n=e.properties.assigneeAccountId;if(n&&v.hasOwnProperty(n))return t.push(n),c(e,v[n]);else if(n&&-1===t.indexOf(n))return t.push(n),c(e);else return e}function p(e){var t={};return e.forEach(function(e){var n=e.properties.assigneeAccountId;if(n&&e.properties.hasOwnProperty("assignee"))t[n]=e.properties.assignee}),t}function d(e,t){if(e.properties.assigneeAccountId&&!e.properties.hasOwnProperty("assignee"))e.properties.assignee=t[e.properties.assigneeAccountId]}function m(e,n,s){var r=[],o=e.map(function(e){return f(e,r)});t.when.apply(t,i(o)).done(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=p(t);return t.forEach(function(e){return d(e,r)}),s.resolve(t,n)}).fail(s.reject)}var v={},g=n.extend({templates:{appIcon:ServiceDesk.Templates.Components.Assets.Field.appIcon,assignee:ServiceDesk.Templates.Components.Assets.Field.assignee},_renders:{suggestion:function(e,t){var s=n.prototype._renders.suggestion.call(this,e,t),i=s.find(".aui-list-item-link");if(e.properties.iconCssClass){var r=this.templates.appIcon({iconCssClass:e.properties.iconCssClass});i.prepend(r)}if(e.properties.assignee){var o=this.templates.assignee({assignee:e.properties.assignee});i.append(o)}else i.addClass("unassigned");return s}}});return AJS.SingleSelect.extend({init:function(n){function s(e){return e.origin.appKey+"/"+e.origin.originId}function i(e){return e.origin.appKey.replace(/\./g,"-")}function r(e){return new AJS.ItemDescriptor({value:s(e),label:e.label.value,title:e.label.value,icon:null,disabled:!1,iconCssClass:i(e),assigneeAccountId:e.assignee?e.assignee.accountId:null})}function o(t,s,i){return t=t||{},e.reject(t.values,function(t){return e.some(n.linkedAssets.models,function(e){return t.origin.appKey+"/"+t.origin.originId===e.getAsset().getSerializedOrigin()})}).map(function(e){return r(e)})}var a=function(e){return encodeURIComponent((e.getAppKey()+"/"+e.getOriginId()).toLowerCase())},u=function(t){var s="";if(""!==n.reporterId)s+="prioritizedAssignee="+n.reporterId+"&";return e.each(t,function(e){s+="type="+a(e)+"&"}),s.slice(0,-1)},l=u(n.fieldConfig.getTypes().models);t.extend(n,{submitInputVal:!0,removeDuplicates:!0,query:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/assetapi/asset/search?"+l,formatResponse:o,headers:{"X-B3-Sampled":"1"},query:!0}}),this._super(n),this._handleCharacterInput(!0)},requestSuggestions:function(e){var n=this,s=t.Deferred();if(this.outstandingRequest=s,this.suggestionsHandler.execute(this.getQueryVal(),e).done(function(e,t){if(t===n.getQueryVal())m(e,t,s)}),"resolved"!==this.outstandingRequest.state())window.clearTimeout(this.loadingWait),this.loadingWait=window.setTimeout(function(){if("pending"===n.outstandingRequest.state())n.showLoading()},150),this.outstandingRequest.always(function(){n.hideLoading()});return s},_getFieldData:function(e){return s({issueId:o.getIssueId(),atl_token:atl_token(),singleFieldEdit:!0,fieldsToForcePresent:this.options.fieldId},this.options.fieldId,e.properties.value)},_getFormDataFromData:function(e){var t=new FormData;for(var n in e)if(e.hasOwnProperty(n))t.append(n,e[n]);return t},_appendLinkedAssetsToFormData:function(t){var n=this;return e.each(this.options.linkedAssets.models,function(e){t.append(n.options.fieldId,e.getAsset().getSerializedOrigin())}),t},_updateFieldsSelectedAssets:function(e){t.ajax({url:AJS.contextPath()+"/secure/AjaxIssueAction.jspa?decorator=none",data:e,type:"POST",contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0},success:function(){u.refreshSelectedIssue()},error:function(){u.refreshSelectedIssue()}})},_createListController:function(){var e=this;this.listController=new g({containerSelector:t(".aui-list",this.$container),matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(t){var n=this.getFocused(),s=n.data("descriptor");e.setSelection(s),e.$field.select();var i=e._getFieldData(s),r=e._appendLinkedAssetsToFormData(e._getFormDataFromData(i));e._updateFieldsSelectedAssets(r),t.preventDefault()}})}})}.apply(t,r))&&(e.exports=o)},368:function(e,t,n){var s,i;s=[n(0),n(2),n(4),n(1),n(26),n(365),n(88),n(89),n(201),n(242)],void 0!==(i=function(e,t,n,s,i,r,o,a){var u=t.Collection.extend({model:r}),l=t.Model.extend({namedAttributes:{maxDisplayedAssets:Number,expanded:Boolean,assets:u,displayRemoveLink:Boolean,removeLinkClass:String,removeLinkTrigger:String,removeLinkStatusClass:String},getDisplayedAssets:function(){var e=this.getAssets().toJSON();if(e.sort(function(e,t){if(e.label<t.label)return-1;if(e.label>t.label)return 1;else return 0}),this.getExpanded())return e;else return e.slice(0,this.getMaxDisplayedAssets())},getRemoveLinkOptions:function(){return{class:this.getRemoveLinkClass(),trigger:this.getRemoveLinkTrigger(),statusClass:this.getRemoveLinkStatusClass()}},hasToggle:function(){return this.getAssets().length>this.getMaxDisplayedAssets()},defaults:{maxDisplayedAssets:5,expanded:!1,displayRemoveLink:!1,removeLinkClass:"",removeLinkTrigger:"",removeLinkStatusClass:""}}),c=t.View.extend({template:ServiceDesk.Templates.Components.Assets.main,events:{"click .js-assets-expand":"onExpandClicked","click .js-assets-contract":"onContractClicked"},onContractClicked:function(e){this.model.setExpanded(!1),n.trackEvent("servicedesk.issue.assets.list.contracted"),e.preventDefault(),this.render()},onExpandClicked:function(e){this.model.setExpanded(!0),n.trackEvent("servicedesk.issue.assets.list.expanded"),e.preventDefault(),this.render()},renderTemplate:function(e){var t=this.template({displayedAssets:e,totalAssets:this.model.getAssets().length,hasToggle:this.model.hasToggle(),expanded:this.model.getExpanded(),displayRemoveLink:this.model.getDisplayRemoveLink(),removeLinkOptions:this.model.getRemoveLinkOptions()});this.$el.html(t)},render:function(){var e=this;this.renderTemplate(this.model.getDisplayedAssets()),this.model.getDisplayedAssets().forEach(function(t){a(t.value,function(t){s("[data-key='"+t.origin.appKey+"/"+t.origin.originId+"']").html(ServiceDesk.Templates.Components.Assets.assetItem({asset:o(t),displayRemoveLink:e.model.getDisplayRemoveLink(),removeLinkOptions:e.model.getRemoveLinkOptions()}))})})}});return i("sd-assets",{created:function(e){var t=s(e);new c({el:t,model:new l(t.data())}).render()}})}.apply(t,s))&&(e.exports=i)},369:function(e,t,n){var s,i;s=[n(1),n(5),n(26),n(23),n(331),n(482)],void 0!==(i=function(e,t,n,s){function i(e){s.fireUIEvent({action:e,actionSubject:"flag",actionSubjectId:"assetsOnboarding",source:"classicIssueView"})}function r(){var n=AJS.flag({type:"info",title:"Looking to gain control of your assets?",body:ServiceDesk.Templates.Components.Assets.Onboarding.flag()});i("viewed"),n.addEventListener("aui-flag-close",function(){e.ajax({url:AJS.contextPath()+"/rest/api/2/user/properties/"+o+"?accountId="+t.get("atlassian-account-id"),type:"PUT",contentType:"application/json",data:"true"}).done(function(){i("dismissed")})}),e(n).find(".browse-asset-apps").on("click",function(){i("clicked"),window.open(a,"_blank")})}var o="asset.classic.onboarding.dismissed",a="https://marketplace.atlassian.com/categories/asset-management";return n("asset-onboarding",{created:function(){r()}})}.apply(t,s))&&(e.exports=i)},370:function(e,t,n){var s,i;s=[n(0),n(2),n(1),n(6),n(7),n(26),n(89),n(68),n(222),n(332),n(243)],void 0!==(i=function(e,t,n,s,i,r,o,a,u){var l=t.Model.extend({namedAttributes:{appKey:String,originId:String,serializedOrigin:String,value:String}}),c=t.Model.extend({namedAttributes:{asset:l,iframes:String}}),f=t.Collection.extend({model:c}),p=t.Model.extend({namedAttributes:{linkedAssets:f,fieldId:String,appKey:String,origin:String,expanded:Boolean,moreClicked:Boolean,iframe:String},defaults:{expanded:!1,moreClicked:!1,iframe:""}}),d=t.View.extend({templateAsset:ServiceDesk.Templates.Components.Assets.Field.asset,resolvedAsset:null,events:{"click .more":"onMoreClick",click:"onClick"},_getFieldData:function(){return{issueId:a.getIssueId(),atl_token:atl_token(),singleFieldEdit:!0,fieldsToForcePresent:this.model.getFieldId()}},_getFormDataFromData:function(e){var t=new FormData;for(var n in e)if(e.hasOwnProperty(n))t.append(n,e[n]);return t},_appendOtherLinkedAssetsToFormData:function(t){var n=this;return e.each(this.model.getLinkedAssets().models,function(e){if(e.getAsset().getSerializedOrigin()!==n.model.getOrigin())t.append(n.model.getFieldId(),e.getAsset().getSerializedOrigin())}),t},_updateFieldsSelectedAssets:function(e){n.ajax({url:AJS.contextPath()+"/secure/AjaxIssueAction.jspa?decorator=none",data:e,type:"POST",contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0}}).done(function(){u.refreshSelectedIssue()})},unlinkAsset:function(){var e=this._getFieldData(),t=this._appendOtherLinkedAssetsToFormData(this._getFormDataFromData(e));this._updateFieldsSelectedAssets(t)},onClick:function(e){if(!this.model.getMoreClicked()){if(e.preventDefault(),this.model.getExpanded())this.model.setExpanded(!1),this.$el.next().removeClass("expanded");else this.model.setExpanded(!0),this.$el.next().addClass("expanded");this.render()}this.model.setMoreClicked(!1)},onMoreClick:function(e){var t=this;e.stopImmediatePropagation(),this.model.setMoreClicked(!0);var s=this.model.getFieldId(),i=this.model.getOrigin().split("/")[0],r=this.model.getOrigin().split("/")[1],o=n("#more-"+s+"-"+i+"-"+r+" > #asset-more-button"),a=n(".unlink-asset > a");o.css("visibility","visible"),n(document).one("click",function(){o.css("visibility","")}),a.on("click",function(){t.unlinkAsset()})},createIconCssClass:function(){return this.model.getAppKey().replace(/\./g,"-")},renderAsset:function(e){var t=this.templateAsset({asset:e,fieldId:this.model.getFieldId(),expanded:this.model.getExpanded(),iconCssClass:this.createIconCssClass(),hasIframe:!!this.model.getIframe()});this.$el.html(t)},render:function(){var e=this;if(null===this.resolvedAsset)o(this.model.getOrigin(),function(t){e.renderAsset(t),e.resolvedAsset=t});else this.renderAsset(this.resolvedAsset)}});return r("linked-asset",{created:function(e){var t=n(e);new d({el:t,model:new p(t.data())}).render()}})}.apply(t,s))&&(e.exports=i)},38:function(e,t){e.exports=window.require("jira/ajs/control")},39:function(e,t,n){var s,i;if(void 0===r)var r={};if(void 0===r.icons)r.icons={};if(r.icons.icon=function(e,t){return"<"+soy.$$escapeHtml(e.tagName?e.tagName:"span")+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-icon'+(e.useIconFont?" aui-icon-"+soy.$$escapeHtml(e.size?e.size:"small"):"")+" aui"+soy.$$escapeHtml(e.useIconFont?"-iconfont":"-icon")+soy.$$escapeHtml(e.iconFontSet?"-"+e.iconFontSet:"")+"-"+soy.$$escapeHtml(e.icon)+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+(e.accessibilityText?soy.$$escapeHtml(e.accessibilityText):"")+"</"+soy.$$escapeHtml(e.tagName?e.tagName:"span")+">"},goog.DEBUG)r.icons.icon.soyTemplateName="aui.icons.icon";s=[n(13)],void 0!==(i=function(){return r.icons}.apply(t,s))&&(e.exports=i)},4:function(e,t,n){var s,i;s=[n(0),n(1),n(27),t],void 0!==(i=function(e,t,n,s){function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){return""+i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}function o(){if(window.trackingSession.setTimeoutId)clearTimeout(window.trackingSession.setTimeoutId);window.trackingSession.setTimeoutId=setTimeout(function(){if(!window.trackingSession.isUserActive)s.trackEvent("servicedesk.inactive-timeout",{lastEvent:window.trackingSession.actionBeforeInactive},!1,!0)},v)}function a(){window.trackingSession.timeLoaded=Math.round(performance.now()),window.trackingSession.isUserActive=!1,o()}function u(){window.trackingSession={actionBeforeInactive:"pageLoad",sessionIdentifier:r(),isUserActive:!1},a(),o(window.trackingSession)}function l(){if(!window.trackingSession)u()}function c(){if(AJS&&AJS.Meta)return AJS.Meta.get("projectId");else return t("body").data("projectId")||null}function f(e,t){if(m)AJS.log("Tracking page view: "+e,t);var n=e.replace(/^\/?/,"").replace(/\//g,".");this.trackEvent("page.view."+n,t)}function p(t,s,i,r){if(l(),"string"==typeof s)t=[t,s].join("."),s=arguments[2];if(m)AJS.log("TrackEvent: "+t,s);if(!i&&0!==t.indexOf("servicedesk."))t="servicedesk."+t;var o={};if(void 0!==s)if(!e.isObject(s)||e.isArray(s)){var a="A tracking call was made with invalid properties. Data should be key-value pairs. Event name is '"+t+"' and data is: ";AJS.warn(a,s)}else e.extend(o,s);var u=n.getPluginVersion();if(u)o.sdVersion=u;else o.sdVersion=o.sdVersion||"unknown";var f=c();if(f)o.projectId=o.projectId||f;if(window.trackingSession)o.sessionId=window.trackingSession.sessionIdentifier;if(r&&!window.trackingSession.isUserActive)window.trackingSession.timeLoaded=window.trackingSession.timeLoaded||Math.round(performance.now()),o.timeToFirstAction=Math.round(performance.now())-window.trackingSession.timeLoaded;var p={name:t,properties:o};AJS.EventQueue.push(p)}function d(e,t,n){window.trackingSession.actionBeforeInactive=e,p(e,t,n,!0),window.trackingSession.isUserActive=!0}var m=!1,v=3e5;AJS.EventQueue=AJS.EventQueue||[],l(),s.trackEvent=p,s.trackPageview=f,s.trackAction=d,s.resetTimer=a}.apply(t,s))&&(e.exports=i)},41:function(e,t){e.exports=window.require("jira/analytics/web-client")},481:function(e,t){},482:function(e,t){},5:function(e,t,n){var s;void 0!==(s=function(){return AJS.Meta}.call(t,n,t,e))&&(e.exports=s)},507:function(e,t){e.exports=window.require("jira/ajs/ajax/smart-ajax")},534:function(e,t,n){!function(e,t,n,s,i,r){e(function(){s.install(),i.install(),t.install(),r.install(),n.install()})}(n(1),n(370),n(369),n(368),n(157),n(366))},6:function(e,t,n){var s,i;s=[n(1),n(0),t],void 0!==(i=function(e,t,n){function s(e,t){var n=void 0;if("timeout"===t)n="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.";else if(401===e.status)n="You are not authorized to perform this operation.  Please log in.";else if(e.responseText&&e.responseText.length>0)n="The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.";else n="The Jira server could not be contacted. This may be a temporary glitch or the server may be down.";return n}function i(e){return e.then(null,function(e){return t.extend(e,n.getErrorCollection(e))}),e}function r(e,n,s,i,r){return t.extend({},v,{url:e,type:n,dataType:s,contentType:i,timeout:g,headers:r||{}})}function o(n,s){var o=r(n,"GET","json","application/json",s);if(t.isObject(n))o=t.extend(o,n);else o.url=n;return i(e.ajax(o))}function a(t,n,s,o,a,u){var l=r(s,"POST",t,n,a);if("application/json"===n)l.data=JSON.stringify(o);else l.data=o;if(u)l.timeout=u;return i(e.ajax(l))}function u(e,t,n,s){return i(a("json","application/json",e,t,n,s))}function l(e,t,n,s){return i(a("html","application/json",e,t,n,s))}function c(e,t,n,s,r){return i(a("json",e,t,n,s,r))}function f(t,n,s){var o=r(t,"PUT","json","application/json",s);return o.data=JSON.stringify(n),i(e.ajax(o))}function p(t,n){var s=r(t,"DELETE","json","application/json",n);return i(e.ajax(s))}function d(t){e(document).ajaxSuccess(t)}function m(t){e(document).off("ajaxSuccess",t)}var v={traditional:!0},g=18e4;n.get=o,n.post=u,n.postForHtml=l,n.postWithContentType=c,n.put=f,n.del=p,n.registerGlobalAjaxSuccessHandler=d,n.unregisterGlobalAjaxSuccessHandler=m,n.markupWithErrors=i,n.getErrorCollection=function(e){var t=void 0;try{t=JSON.parse(e.responseText)}catch(e){t={errors:[{errorMessage:"Something has gone wrong with your request. If symptoms persist contact your System Administrator."}]}}return t},n.getErrorMessage=function(e){try{return JSON.parse(e.responseText).errors[0].errorMessage}catch(e){return "Something has gone wrong with your request. If symptoms persist contact your System Administrator."}},n.buildSimpleErrorContent=s}.apply(t,s))&&(e.exports=i)},60:function(e,t){e.exports=window.require("jira/ajs/select/multi-select/lozenge-group")},68:function(e,t,n){var s;void 0!==(s=function(){return JIRA.Issue}.call(t,n,t,e))&&(e.exports=s)},7:function(e,t,n){var s,i;s=[n(12)],void 0!==(i=function(e){var t=e.get("context-path");if(void 0===t)if(AJS&&AJS.contextPath)t=AJS.contextPath();return t}.apply(t,s))&&(e.exports=i)},796:function(e,t,n){n(8),e.exports=n(534)},8:function(e,t,n){"use strict";e.exports=n(14).polyfill()},88:function(e,t,n){var s,i;s=[],void 0!==(i=function(){return function(e){return{value:e.origin.appKey+"/"+e.origin.originId,label:e.label.value}}}.apply(t,s))&&(e.exports=i)},89:function(e,t,n){var s,i;s=[n(1)],void 0!==(i=function(e){return function(t,n){e.ajax({url:AJS.contextPath()+"/rest/assetapi/asset/"+t,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){var e=t.split("/");n({origin:{appKey:e[0],originId:e[1]},label:{value:"Unknown Asset"}})}).then(function(e){n&&n(e)})}}.apply(t,s))&&(e.exports=i)},9:function(e,t,n){var s,i;s=[n(28)],void 0!==(i=function(e){return e}.apply(t,s))&&(e.exports=i)},90:function(e,t){},92:function(e,t){e.exports=window.require("jira/ajs/list/list")}},[796]);;
;
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/util/IssuesApi.js' */
define("jira-project-config/issues/api",function(){return window.JIRA&&window.JIRA.Issues&&window.JIRA.Issues.Api});;
;
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/main.js' */
require(["jira-project-config/issues/api","wrm/require","jquery"],function(i,e,c){var n=function(i){e(["wrc!com.atlassian.jira.jira-project-config-plugin.custom-fields-impl"],function(){require(["jira-project-config/custom-fields/api"],i)})};c(document).on("click",".issueaction-fields-add",function(e){e.preventDefault();var c=i.getSelectedIssueId();n(function(i){i.addCustomFieldToIssue(c)})})});;
;
/* module-key = 'com.atlassian.jira.jira-npmbridge-plugin:atlassiansox-origin-tracing', location = 'jira-npmbridge-module/node_modules/@atlassiansox/origin-tracing/dist/origin-tracing.js' */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("OriginTracing",[],t):"object"==typeof exports?exports.OriginTracing=t():e.OriginTracing=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToBase64Url=function(e){if(null==e)return"";return String(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},t.base64UrlToBase64=function(e){if(null==e)return"";var t=String(e).replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4,n="===".slice(0,r);return t+n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){var t=JSON.stringify(i(e)),r=btoa(t);return(0,n.base64ToBase64Url)(r)},t.decode=function(e){var t=(0,n.base64UrlToBase64)(e),r=atob(t);return u(JSON.parse(r))},t.toJSONObject=i,t.fromJSONObject=u;var n=r(0),o={confluence:"c",jira:"j",stride:"s",bitbucket:"b",trello:"t"};function i(e){var t=e.id,r=e.product;return{i:t,p:r in o?o[r]:r}}function u(e){var t={};return e.i&&(t.id=e.i),e.p&&(t.product=function(e){for(var t=Object.keys(o),r=0;r<t.length;r++){var n=t[r],i=o[n];if(e===i)return n}return e}(e.p)),t}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var r=[];for(var o in"string"!=typeof t&&(t="?"),e)n.call(e,o)&&r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?t+r.join("&"):""},t.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);n[o(t[1])]=o(t[2]));return n}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t,r){var n=r(4),o=r(3);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||n)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t)for(var a=0;a<16;++a)t[i+a]=u[a];return t||o(u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5),u=(n=i)&&n.__esModule?n:{default:n},a=f(r(2)),c=f(r(1));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=function(){function e(t){var r=t.id,n=void 0===r?e.generateId():r,o=t.product,i=t.dangerouslySkipValidation,u=void 0!==i&&i;p(this,e),this.id=n,this.product=o,u||this.validate()}return o(e,[{key:"encode",value:function(){return c.encode({id:this.id,product:this.product})}},{key:"addToUrl",value:function(e){var t=this;return b(e,function(e){var r=a.parse(e);return r.atlOrigin=t.encode(),a.stringify(r)})}},{key:"isEmpty",value:function(){return!1}},{key:"isMalformed",value:function(){return!this.isEmpty()&&!this.isValid()}},{key:"isValid",value:function(){return!0}},{key:"toAnalyticsAttributes",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.transformValue,n=void 0===r?function(e){return e}:r,o=t.hasGeneratedId;return s(e={},void 0!==o&&o?"originIdGenerated":"originId",n(this.id)),s(e,"originProduct",n(this.product)),e}},{key:"validate",value:function(){if(!e.isValidId(this.id))throw new TypeError("Invalid Origin id");if(!e.isValidProduct(this.product))throw new TypeError("Missing/invalid Origin product")}}],[{key:"isValidId",value:function(e){return"string"==typeof e&&/^[-a-zA-Z0-9]{1,36}$/.test(e)}},{key:"isValidProduct",value:function(e){return"string"==typeof e&&/^[-a-zA-Z0-9]{1,20}$/.test(e)}},{key:"generateId",value:function(){return(0,u.default)().replace(/-/g,"")}},{key:"createEmpty",value:function(){return new v}},{key:"createMalformed",value:function(){return new g}},{key:"fromUrl",value:function(t){var r={};return b(t,function(e){r=a.parse(e)}),e.fromEncoded(r.atlOrigin)}},{key:"fromEncoded",value:function(t){if(!t)return e.createEmpty();try{return e.decode(t)}catch(t){return e.createMalformed()}}},{key:"removeFromUrl",value:function(e){return b(e,function(e){var t=a.parse(e);return delete t.atlOrigin,a.stringify(t)})}},{key:"decode",value:function(t){return new e(c.decode(t))}}]),e}();t.default=y;var v=function(e){function t(){return p(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{id:null,product:null,dangerouslySkipValidation:!0}))}return d(t,y),o(t,[{key:"isValid",value:function(){return!1}},{key:"isEmpty",value:function(){return!0}},{key:"toAnalyticsAttributes",value:function(){return{}}}]),t}(),g=function(e){function t(){return p(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{id:null,product:null,dangerouslySkipValidation:!0}))}return d(t,y),o(t,[{key:"isValid",value:function(){return!1}},{key:"isEmpty",value:function(){return!1}},{key:"toAnalyticsAttributes",value:function(){return{originMalformed:!0}}}]),t}();function b(e,t){return String(e).replace(/(^[^?]*)(?:\?)?([^#]*?)(#.*|$)$/,function(e,r,n,o){var i=t(n);return i&&(i="?"+i),""+r+i+o})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}})}])});;
;
/* module-key = 'com.atlassian.jira.jira-npmbridge-plugin:atlassiansox-origin-tracing-amd', location = 'jira-npmbridge-module/origin-tracing/origin-tracing-amd.js' */
(function(OriginTracing) {
    define('OriginTracing', function() {
        return OriginTracing['default'];
    });
})(window.OriginTracing);;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'jira-share-module/templates/share-dialog.soy' */
// This file was automatically generated from share-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Dialogs.Share.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Dialogs == 'undefined') { JIRA.Templates.Dialogs = {}; }
if (typeof JIRA.Templates.Dialogs.Share == 'undefined') { JIRA.Templates.Dialogs.Share = {}; }


JIRA.Templates.Dialogs.Share.contentPopup = function(opt_data, opt_ignored) {
  return '<form action="#" method="post" class="aui recipients-form share-content-popup ' + ((opt_data.shareData.issue) ? ' viewissue ' : (opt_data.shareData.filter) ? ' issuenav ' : '') + '">' + JIRA.Templates.Dialogs.Share.shareLink(opt_data) + '<fieldset class="padding">' + ((opt_data.showForm) ? JIRA.Templates.Dialogs.Share.shareForm(opt_data) : JIRA.Templates.Dialogs.Share.disabledMailMessage(soy.$$augmentMap(opt_data.isAdmin, {isAdmin: opt_data.isAdmin}))) + '</fieldset></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.contentPopup.soyTemplateName = 'JIRA.Templates.Dialogs.Share.contentPopup';
}


JIRA.Templates.Dialogs.Share.shareForm = function(opt_data, opt_ignored) {
  return '<label for="sharenames-multi-select">' + soy.$$escapeHtml('User name or email') + '</label><div class="autocomplete-user-target"><select id="sharenames" name="sharenames" class="share-user-picker hidden" multiple="multiple"></select></div><ol class="recipients"></ol><div><label for="note">' + soy.$$escapeHtml('Note') + '</label></div><textarea class="textarea long-field" id="note" placeholder="' + soy.$$escapeHtml('Add an optional note') + '"/><div class="button-panel"><div class="status"><div class="icon"></div><div class="progress-messages"></div></div><div class="buttons"><input accesskey="' + soy.$$escapeHtml('s') + '" id="submitShare" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to submit this form','s',opt_data.modifierKey)) + '" class="button submit" type="submit" value="' + soy.$$escapeHtml('Share') + '" disabled/> <a accesskey="' + soy.$$escapeHtml('`') + '" id="cancelShare" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to cancel','`',opt_data.modifierKey)) + '" class="close-dialog" href="javascript:">' + soy.$$escapeHtml('Cancel') + '</a></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareForm.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareForm';
}


JIRA.Templates.Dialogs.Share.disabledMailMessage = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.isAdmin) ? aui.message.generic({content: '<p>' + soy.$$escapeHtml('Outgoing mail is not configured. Please contact your Jira administrator to enable sharing.') + '</p>', extraClasses: 'disabled-mail-message'}) : aui.message.generic({content: '<p>' + soy.$$escapeHtml('Outgoing mail is not configured. You can configure it here') + '<a class="aui-list-item-link" id="configure_mail_server" href="' + soy.$$escapeHtml("") + '/secure/admin/OutgoingMailServers.jspa"><em> ' + soy.$$escapeHtml('Outgoing mail') + '</em></a>.</p>', extraClasses: 'disabled-mail-message'}));
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.disabledMailMessage.soyTemplateName = 'JIRA.Templates.Dialogs.Share.disabledMailMessage';
}


JIRA.Templates.Dialogs.Share.shareLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.shareData.permlink) ? '<div class="issuenav-permalink padding"><label>' + ((opt_data.shareData.issue) ? soy.$$escapeHtml('Link to issue') : (opt_data.shareData.filter) ? soy.$$escapeHtml('Link to filter') : '') + '</label><input class="permalink text long-field" value="' + soy.$$escapeHtml(opt_data.shareData.permlinkWithAtlOrigin) + '" readonly></div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareLink.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareLink';
}
;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'jira-share-module/js/share-user-multi-select.js' */
define('jira/share-plugin/share-user-picker', [
    'jira/skate',
    'jira/field/multi-user-list-picker',
    'jquery'
], function(skate, MultiUserListPicker, $) {
    var $doc = $(document);

    return skate('share-user-picker', {
        type: skate.type.CLASSNAME,
        attached: function shareUserPickerAttached(element) {
            var $el = $(element);
            var control = new MultiUserListPicker({
                layerId: $el.attr('id') + '-layer',
                element: $el,
                freeEmailInput: true
            });
            $doc.trigger('ready.multi-select.share-user', control);
        }
    });
});
;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'jira-share-module/js/share-dialog.js' */
define('jira/share-plugin/share-plugin-dialog', [
    'jira/util/logger',
    'jira/util/formatter',
    'wrm/context-path',
    'underscore',
    'jira/share-plugin/share-user-picker',
    'jira/ajs/layer/inline-layer',
    'jira/ajs/ajax/smart-ajax',
    'jira/util/events',
    'jira/util/events/types',
    'jira/util/data/meta',
    'jira/util/events/reasons',
    'aui/inline-dialog',
    'jquery',
    'jira/analytics',
    'OriginTracing'
], function(
    logger,
    formatter,
    wrmContextPath,
    _,
    ShareUserPickerElement,
    InlineLayer,
    SmartAjax,
    JiraEvents,
    JiraEventTypes,
    Meta,
    JiraEventReasons,
    InlineDialog,
    jQuery,
    analytics,
    OriginTracing
) {
    return function () {
        var shareDialog;
        var currentShareLink;
        var dialogContents;
        var allowDialogHide = true;

        this.resetAndHide = function resetAndHide() {
            // We have to bind to the event triggered by the inline-dialog hide code, as the actual hide runs in a
            // setTimeout callback. This caused JRADEV-7962 when trying to empty the contents synchronously.
            jQuery(document).one("hideLayer", function (e, type, dialog) {
                if (type === "inlineDialog" && dialog.popup === shareDialog) {
                    jQuery(document).unbind('.share-dialog');
                    dialogContents.empty();
                    dialogContents = undefined;
                    currentShareLink = undefined;
                }
            });
            return this.hideDialog();
        };

        this.hideDialog = function hideDialog() {
            shareDialog.hide();
            return false;
        };

        this._originTracingForShare = {};
        this._originTracingForIssueLink = {};

        function getUsernameValue() {
            return jQuery(this).attr("data-username");
        }

        function getEmailValue() {
            return jQuery(this).attr("data-email");
        }

        this._getShareType = function getShareType(shareData) {
            if (shareData.issue) {
                return 'issue';
            } else if (shareData.jql) {
                return 'unsaved-filter';
            } else if (shareData.filterId) {
                return 'saved-filter';
            }
        };

        this._getNewOriginTracingInstance = function getNewOriginTracingInstance() {
            return new OriginTracing({ product: "jira" });
        };

        this._buildSendShareUrl = function buildSendShareUrl(options, data) {
            var url = wrmContextPath() + '/rest/share/1.0';
            if (options.issue) {
                // Share Issue
                url += '/issue/' + options.issueKey;
            }
            else if (options.filter) {
                // Share Search
                if (options.filterId) {
                    // A saved search
                    url += '/filter/' + options.filterId;
                }
                else {
                    // A JQL search
                    data.jql = options.jql;
                    url += '/search';
                }
            }
            return url;
        };

        this._successShareHandler = function successShareHandler()
        {
            var icon = dialogContents.find(".button-panel .icon");
            icon.removeClass("throbber loading")
                .addClass('icon-tick');

            var messages = dialogContents.find(".progress-messages");
            messages.removeClass("sending")
                .addClass("success")
                .text("Sent");
            setTimeout(this.resetAndHide.bind(this), 1000);
        };

        this._errorShareHandler = function errorShareHandler()
        {
            var icon = dialogContents.find(".button-panel .icon");
            icon.removeClass("throbber loading")
                .addClass('icon-cross');
            var messages = dialogContents.find(".progress-messages");
            messages.removeClass("sending")
                .addClass("error")
                .text("Error while sending");
        };

        /**
         * Sets up the state and send a share ajax request
         *
         * @param data
         * @param data.usernames A list of users to share to
         * @param data.emails A list of emails to share to
         * @param data.message An optional share message
         * @param options.issueKey {undefined | string} The issue key to share
         * @param options.filterId {undefined | string} The filter id to share
         * @param options.issue {undefined | true} Whether the share target is issue
         * @param options.filter {undefined | true} Whether the share target is filter
         */
        this._sendShare = function sendShare(data, options) {
            jQuery("button,input,textarea", this).attr("disabled", "disabled");

            var icon = dialogContents.find(".button-panel .icon");
            icon.addClass("throbber loading");

            var messages = dialogContents.find(".progress-messages");
            messages.text("Sending");
            messages.addClass("sending");

            var url = this._buildSendShareUrl(options, data);

            logger.trace("jira.plugins.share.send", _.defaults({
                url: url
            }, data));

            var requestOptions = {
                type: "POST",
                contentType: "application/json",
                dataType: "json",
                url: url,
                data: JSON.stringify(data),
                success: this._successShareHandler.bind(this),
                error: this._errorShareHandler.bind(this)
            };
            SmartAjax.makeRequest(requestOptions);
        };

        this._collectMailData = function collectMailData() {
            var recipients = dialogContents.find('.recipients');
            var users = recipients.find('li[data-username]').map(getUsernameValue).toArray();
            var emails = recipients.find('li[data-email]').map(getEmailValue).toArray();

            if (!(users.length || emails.length)) {
                return false;
            }

            var message = dialogContents.find("#note").val() || "";
            var data = {
                usernames: users,
                emails: emails,
                message: message
            };

            this._originTracingForShare = this._getNewOriginTracingInstance();
            data.atlOrigin = this._originTracingForShare.encode();

            return data;
        };

        this.submit = function submit(shareData) {
            var mailData = this._collectMailData();
            if(mailData) {
                this._sendShare(mailData, shareData);

                var analyticsProperties = {
                    shareType: this._getShareType(shareData)
                };
                if (mailData.usernames) {
                    analyticsProperties["userCount"] = mailData.usernames.length;
                }
                if (mailData.emails) {
                    analyticsProperties["emailCount"] = mailData.emails.length;
                }
                if (mailData.message) {
                    analyticsProperties["messageLength"] = mailData.message.length;
                }

                analytics.send({
                    name: 'jira.sharedialog.share.submitted',
                    properties: _.extend(analyticsProperties,
                        this._originTracingForShare.toAnalyticsAttributes({
                            hasGeneratedId: true
                        })
                    )
                });
            }
            return false;
        };

        this._enableSubmit = function enableSubmit(enabled) {
            dialogContents.find(".submit").prop("disabled", !enabled);
        };

        /**
         * Invoke a bunch of magical JS event delegation to make sure that we only trigger the execution of the
         * functions attached to the access keys defined within this dialog's form.
         *
         * @param shareDialogForm the share dialog's form.
         */
        this.enableAccessKeys = function enableAccessKeys(shareDialogForm) {
            jQuery(shareDialogForm).handleAccessKeys({
                selective: false // only trigger the access keys defined in this form.
            });
        };

        this._getShareData = function getShareData(trigger) {
            var $trigger = jQuery(trigger);
            var shareTarget;
            var permlinkFull;

            if ($trigger.hasClass("viewissue-share")) {
                shareTarget = "issue";
                permlinkFull = Meta.get("viewissue-permlink");
            } else {
                shareTarget = "filter";
                permlinkFull = Meta.get("issuenav-permlink");
            }

            this._originTracingForIssueLink = this._getNewOriginTracingInstance();
            
            var shareData = {
                issueKey: Meta.get('issue-key'),
                filterId: Meta.get('filter-id'),
                jql: Meta.get('filter-jql'),
                permlink: permlinkFull,
                permlinkWithAtlOrigin: this._originTracingForIssueLink.addToUrl(permlinkFull)
            };

            shareData[shareTarget] = true;

            return shareData;
        };

        this._enableSubmitWhenIsRecipient = function enableSubmitWhenIsRecipient() {
            var shareNames = dialogContents.find('#sharenames').val();
            var isUserProvided = (shareNames != null) && (shareNames.length > 0);
            this._enableSubmit(isUserProvided);
        };

        this._selectIssueLink = function selectLinkText(shareData, event) {
            event.target.select();

            analytics.send({
                name: 'jira.sharedialog.permalink.clicked',
                properties: _.extend({
                        shareType: this._getShareType(shareData)
                    },
                    this._originTracingForIssueLink.toAnalyticsAttributes({
                        hasGeneratedId: true
                    }))
            });

            return false;
        };

        this._addInteractionHandlersToDialog = function addInteractionHandlersToDialog(shareData) {
            dialogContents.find('#sharenames').bind('change unselect', this._enableSubmitWhenIsRecipient.bind(this));
            dialogContents.find(".close-dialog").click(this.resetAndHide.bind(this));
            dialogContents.find("form").submit(this.submit.bind(this, shareData));
            dialogContents.find(".issuenav-permalink .text").click(this._selectIssueLink.bind(this, shareData));
            jQuery(document).bind('keyup.share-dialog', function (e) {
                if (e.keyCode === jQuery.ui.keyCode.ESCAPE) {
                    return this.hideDialog();   // leave the dialog contents alone
                }
                return true;
            }.bind(this));

            jQuery(document).bind("showLayer.share-dialog", function (e, type, dialog) {
                if (type === "inlineDialog" && dialog.popup === shareDialog) {
                    dialogContents.find("#sharenames-textarea").focus();
                }
            });
        };

        this._renderDialogContent = function renderDialogContent(shareData) {
            dialogContents.html(JIRA.Templates.Dialogs.Share.contentPopup({
                shareData: shareData,
                modifierKey: Meta.get("keyboard-accesskey-modifier"),
                //Only show the share form when outgoing mail is enabled
                showForm: Meta.get("outgoing-mail-enabled"),
                isAdmin: Meta.get("is-admin")
            }));
        };

        this._generatePopup = function generatePopup(contents, trigger, doShowPopup) {
            var shareData = this._getShareData(trigger);

            //If the share dialog has already been rendered and still on the issue it was rendered in
            if (dialogContents && currentShareLink === shareData.permlink) {
                dialogContents = contents;
                dialogContents.find(".permalink").val(shareData.permlinkWithAtlOrigin);
                doShowPopup();
                return;
            }
            currentShareLink = shareData.permlink;
            dialogContents = contents;
            this._renderDialogContent(shareData);
            if (jQuery.browser.msie) {
                dialogContents.find("form").ieImitationPlaceholder();
            }
            this._enableSubmit(false);
            this._addInteractionHandlersToDialog.call(this, shareData);
            this.enableAccessKeys(jQuery("form", dialogContents));

            doShowPopup();

            JiraEvents.trigger(JiraEventTypes.NEW_CONTENT_ADDED, [dialogContents, JiraEventReasons.shareDialogOpened]);
        };

        this._scrollIntoViewForAuto = function _scrollIntoViewForAuto() {
            var self = this;
            var $context = jQuery(this.context);
            $context.scrollIntoViewForAuto({
                complete: function ()
                {
                    // $(this) is the element being scrolled to reveal the trigger.
                    var scrollers = jQuery(this).add(window);

                    // JRA-27476 - share dialog doesn't stalk. So hide it, without reset, when the page is
                    // scrolled. Delay to avoid catching the scroll events caused by scrollIntoViewForAuto()
                    _.delay(function ()
                    {
                        scrollers.one("scroll", function ()
                        {
                            jQuery(document.activeElement).blur();
                            self.hideDialog();
                        });
                    }, 20);
                }
            });
        };

        this._createDialogOptions = function _createDialogOptions(dialogId) {
            var offsetX = (dialogId.indexOf("issuenav") !== -1) ? -110 : -170;
            return {
                preHideCallback: function () {
                    return allowDialogHide;
                },
                hideCallback: function () {
                    jQuery(".dashboard-actions .explanation").hide();
                },
                offsetY: 17,
                offsetX: offsetX,
                hideDelay: 36e5,         // needed for debugging! Sit for an hour.
                useLiveEvents: true,
                // Before showing the dialog, we want to ensure the trigger is scrolled into view, transitively this
                // will ensure that the dialog is visible. The page might be scrolled down to the bottom when the
                // user presses 's'.
                initCallback: this._scrollIntoViewForAuto.bind(this)
            };
        };

        this._addAJSInlineLayerEventHandlers = function _addAJSInlineLayerEventHandlers() {
            JiraEvents.bind(InlineLayer.EVENTS.beforeShow, function (e, layer, id) {
                if (id === "sharenames-layer") {
                    allowDialogHide = false;
                }
            });
            JiraEvents.bind(InlineLayer.EVENTS.hide, function (e, layer, reason, id) {
                if (id === "sharenames-layer") {
                    setTimeout(function () { allowDialogHide = true; }, 0);
                }
            });
        };

        this._initShareDialog = function _initShareDialog(dialogId, context) {
            this.context = context;

            this._addAJSInlineLayerEventHandlers();

            var dialogOptions = this._createDialogOptions(dialogId);

            shareDialog = InlineDialog(jQuery(context), dialogId, this._generatePopup.bind(this), dialogOptions);

            shareDialog[0].popup._validateClickToClose = function(event) {
                return validationResult = shareDialog.has(event.target).length === 0;
            };

            // JRADEV-8136 - Clicking the share button again doesn't close the share dialog.
            jQuery(context).live("click", function() {
                AJS.$('.aui-dropdown2-active').trigger("aui-button-invoke");
                if (shareDialog.find(".contents:visible").length) {
                    shareDialog.find("a.close-dialog").click();
                }
            });

            jQuery(document).bind("keydown", function (e) {
                // special case for when user hover is open at same time
                if (e.keyCode === jQuery.ui.keyCode.ESCAPE &&
                        InlineDialog.current !== shareDialog && shareDialog.is(":visible")) {
                    if (InlineDialog.current) {
                        InlineDialog.current.hide();
                    }
                    shareDialog.hide();
                }
            });
        };

        this._overrideContents = function overrideContents(newContents) {
            dialogContents = newContents;
        };

        this._getCurrentDialogContent = function getCurrentDialogContent() {
            return dialogContents;
        };

        this._getAllowDialogHide = function _getAllowDialogHide(){
            return allowDialogHide;
        };
    };
});

AJS.namespace('JIRA.JiraSharePlugin.SharePluginDialog', null, require('jira/share-plugin/share-plugin-dialog'));
;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources-init', location = 'jira-share-module/js/share-dialog-init.js' */
// There may be multiple share button on the page, for example split view
// This is to ensure both works within its own scope and not affect each other

define('jira/share-plugin/initialiser', [
    'underscore',
    'jira/share-plugin/share-plugin-dialog',
    'jquery'
], function (
    _,
    SharePluginDialog,
    jQuery
) {
    return {
        init: _.once (function initShareDialogs() {
            var exports = {};
            exports.viewIssueDialog = new SharePluginDialog(jQuery);
            exports.issueNavDialog = new SharePluginDialog(jQuery);

            jQuery(_.bind(exports.viewIssueDialog._initShareDialog, exports.viewIssueDialog,
                    "share-entity-popup-viewissue", "#jira-share-trigger.viewissue-share"));
            jQuery(_.bind(exports.issueNavDialog._initShareDialog, exports.issueNavDialog,
                    "share-entity-popup-issuenav", "#jira-share-trigger.issuenav-share"));

            return exports;
        })
    };
});

// This IIFE will immediately and synchronously require the initialiser
// (thus create the dialogs), and immediately place the dialogs
// in to the global namespace. Use of AJS.namespace will add
// a deprecation warning whenever the global is accessed by other code.
(function(initialiser) {
    var dialogs = initialiser.init();
    AJS.namespace('JIRA.JiraSharePlugin.viewIssueDialog', null, dialogs.viewIssueDialog);
    AJS.namespace('JIRA.JiraSharePlugin.issueNavDialog', null, dialogs.issueNavDialog);
}(require('jira/share-plugin/initialiser')));
;
;
/* module-key = 'com.atlassian.plugin.jslibs:marionette-2.1.0-factory', location = 'factories/marionette/2.1.0/marionette-2.1.0-factory.js' */
(function(l){define("atlassian/libs/factories/marionette-2.1.0",function(){return function(f,c){var i={_:f,Backbone:c};l.call(i);return i.Marionette.noConflict()}})})(function(){var l=this,f=this.Backbone,c=this._,i=function(a,b){var e=Error(a);e.name=b||"Error";throw e;},r=f.ChildViewContainer,m=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();c.each(a,this.add,this)};c.extend(m.prototype,{add:function(a,b){var e=a.cid;this._views[e]=a;a.model&&(this._indexByModel[a.model.cid]=
e);b&&(this._indexByCustom[b]=e);this._updateLength();return this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return c.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];c.any(this._indexByCustom,function(a,c){if(a===b)return delete this._indexByCustom[c],
!0},this);delete this._views[b];this._updateLength();return this},call:function(a){this.apply(a,c.tail(arguments))},apply:function(a,b){c.each(this._views,function(e){c.isFunction(e[a])&&e[a].apply(e,b||[])})},_updateLength:function(){this.length=c.size(this._views)}});c.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){m.prototype[a]=function(){var b=[c.values(this._views)].concat(c.toArray(arguments));
return c[a].apply(c,b)}});f.ChildViewContainer=m;f.ChildViewContainer.VERSION="0.1.4";f.ChildViewContainer.noConflict=function(){f.ChildViewContainer=r;return this};var s=f.Wreqr,h=f.Wreqr={};f.Wreqr.VERSION="1.3.1";f.Wreqr.noConflict=function(){f.Wreqr=s;return this};var g=function(a){this.options=a;this._wreqrHandlers={};c.isFunction(this.initialize)&&this.initialize(a)};g.extend=f.Model.extend;c.extend(g.prototype,f.Events,{setHandlers:function(a){c.each(a,function(a,e){var d=null;c.isObject(a)&&
!c.isFunction(a)&&(d=a.context,a=a.callback);this.setHandler(e,a,d)},this)},setHandler:function(a,b,e){this._wreqrHandlers[a]={callback:b,context:e};this.trigger("handler:add",a,b,e)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers=
{}}});h.Handlers=g;g=function(a){this.options=a;this._commands={};c.isFunction(this.initialize)&&this.initialize(a)};c.extend(g.prototype,f.Events,{getCommands:function(a){var b=this._commands[a];b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}});h.CommandStorage=g;g=h.Handlers.extend({storageType:h.CommandStorage,constructor:function(a){this.options=a||{};this._initializeStorage(this.options);
this.on("handler:add",this._executeCommands,this);var b=Array.prototype.slice.call(arguments);h.Handlers.prototype.constructor.apply(this,b)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,e){var d=this.storage.getCommands(a);c.each(d.instances,function(a){b.apply(e,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;
this.storage=c.isFunction(a)?new a:a}});h.Commands=g;h.RequestResponse=h.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);if(this.hasHandler(a))return this.getHandler(a).apply(this,b)}});g=function(){};g.extend=f.Model.extend;c.extend(g.prototype,f.Events);h.EventAggregator=g;g=function(a){this.vent=new h.EventAggregator;this.reqres=new h.RequestResponse;this.commands=new h.Commands;this.channelName=a};c.extend(g.prototype,{reset:function(){this.vent.off();
this.vent.stopListening();this.reqres.removeAllHandlers();this.commands.removeAllHandlers();return this},connectEvents:function(a,b){this._connect("vent",a,b);return this},connectCommands:function(a,b){this._connect("commands",a,b);return this},connectRequests:function(a,b){this._connect("reqres",a,b);return this},_connect:function(a,b,e){if(b){var e=e||this,d="vent"===a?"on":"setHandler";c.each(b,function(b,f){this[a][d](f,c.bind(b,e))},this)}}});h.Channel=g;g=function(){this._channels={};this.vent=
{};this.commands={};this.reqres={};this._proxyMethods()};c.extend(g.prototype,{channel:function(a){if(!a)throw Error("Channel must receive a name");return this._getChannel(a)},_getChannel:function(a){var b=this._channels[a];b||(b=new h.Channel(a),this._channels[a]=b);return b},_proxyMethods:function(){c.each(["vent","commands","reqres"],function(a){c.each(t[a],function(b){var e=this;this[a][b]=function(c){var d=e._getChannel(c)[a],f=Array.prototype.slice.call(arguments,1);return d[b].apply(d,f)}},
this)},this)}});var t={vent:"on off trigger once stopListening listenTo listenToOnce".split(" "),commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},g=new g;h.radio=g;var u=f.ChildViewContainer.noConflict(),v=f.Wreqr.noConflict(),w=l.Marionette,d=f.Marionette={};d.VERSION="2.1.0";d.noConflict=function(){l.Marionette=w;return this};f.Marionette=d;d.Deferred=f.$.Deferred;var j=Array.prototype.slice;
d.extend=f.Model.extend;d.getOption=function(a,b){if(a&&b)return a.options&&void 0!==a.options[b]?a.options[b]:a[b]};d.proxyGetOption=function(a){return d.getOption(this,a)};d.normalizeMethods=function(a){var b={};c.each(a,function(a,d){c.isFunction(a)||(a=this[a]);a&&(b[d]=a)},this);return b};d.normalizeUIKeys=function(a,b){if("undefined"!==typeof a)return c.each(c.keys(a),function(e){var c=/@ui\.[a-zA-Z_$0-9]*/g;e.match(c)&&(a[e.replace(c,function(a){return b[a.slice(4)]})]=a[e],delete a[e])}),
a};d.actAsCollection=function(a,b){c.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(e){a[e]=function(){var a=[c.values(c.result(this,b))].concat(c.toArray(arguments));return c[e].apply(c,a)}})};var x=function(a,b,e){return e.toUpperCase()},y=/(^|:)(\w)/gi;d.triggerMethod=function(a){var b=this["on"+a.replace(y,x)],e;c.isFunction(b)&&(e=b.apply(this,c.tail(arguments)));c.isFunction(this.trigger)&&
this.trigger.apply(this,arguments);return e};var z=document.documentElement,o=function(a){a._isShown&&a._isRendered&&f.$.contains(z,a.el)&&c.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")};d.MonitorDOMRefresh=function(a){a.listenTo(a,"show",function(){a._isShown=!0;o(a)});a.listenTo(a,"render",function(){a._isRendered=!0;o(a)})};var A=function(a,b,e,d){d=d.split(/\s+/);c.each(d,function(c){var d=a[c];d||i('Method "'+c+'" was configured as an event handler, but does not exist.');a.listenTo(b,
e,d)})},B=function(a,b,e,c){a.listenTo(b,e,c)},C=function(a,b,e,d){d=d.split(/\s+/);c.each(d,function(c){a.stopListening(b,e,a[c])})},D=function(a,b,c,d){a.stopListening(b,c,d)},p=function(a,b,e,d,f){b&&e&&(c.isFunction(e)&&(e=e.call(a)),c.each(e,function(e,g){c.isFunction(e)?d(a,b,g,e):f(a,b,g,e)}))};d.bindEntityEvents=function(a,b,c){p(a,b,c,B,A)};d.unbindEntityEvents=function(a,b,c){p(a,b,c,D,C)};d.proxyBindEntityEvents=function(a,b){return d.bindEntityEvents(this,a,b)};d.proxyUnbindEntityEvents=
function(a,b){return d.unbindEntityEvents(this,a,b)};d.Callbacks=function(){this._deferred=d.Deferred();this._callbacks=[]};c.extend(d.Callbacks.prototype,{add:function(a,b){var e=c.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b});e.then(function(c){b&&(c.context=b);a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=d.Deferred();this._callbacks=[];c.each(a,function(a){this.add(a.cb,
a.ctx)},this)}});d.Controller=function(a){this.options=a||{};c.isFunction(this.initialize)&&this.initialize(this.options)};d.Controller.extend=d.extend;c.extend(d.Controller.prototype,f.Events,{destroy:function(){var a=j.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.triggerMethod.apply(this,["destroy"].concat(a));this.stopListening();this.off();return this},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption});d.Object=function(a){this.options=c.extend({},c.result(this,
"options"),a);this.initialize(this.options)};d.Object.extend=d.extend;c.extend(d.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy");this.triggerMethod("destroy");this.stopListening()},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});c.extend(d.Object.prototype,f.Events);d.Region=function(a){this.options=a||{};this.el=this.getOption("el");(this.el=this.el instanceof
f.$?this.el[0]:this.el)||i('An "el" must be specified for a region.',"NoElError");this.$el=this.getEl(this.el);if(this.initialize){var b=j.apply(arguments);this.initialize.apply(this,b)}};c.extend(d.Region,{buildRegion:function(a,b){if(c.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(c.isFunction(a))return this._buildRegionFromRegionClass(a);i("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},
_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){var e=a.regionClass||b,d=c.omit(a,"selector","regionClass");a.selector&&!d.el&&(d.el=a.selector);e=new e(d);a.parentEl&&(e.getEl=function(b){if(c.isObject(b))return f.$(b);var e=a.parentEl;c.isFunction(e)&&(e=e());return e.find(b)});return e},_buildRegionFromRegionClass:function(a){return new a}});c.extend(d.Region.prototype,f.Events,{show:function(a,b){this._ensureElement();var e=b||{},d=a!==this.currentView,
f=!!e.forceShow,g=!!this.currentView;!e.preventDestroy&&d&&this.empty();if(d||f)a.once("destroy",c.bind(this.empty,this)),a.render(),g&&this.triggerMethod("before:swap",a),this.triggerMethod("before:show",a),c.isFunction(a.triggerMethod)?a.triggerMethod("before:show"):this.triggerMethod.call(a,"before:show"),this.attachHtml(a),this.currentView=a,g&&this.triggerMethod("swap",a),this.triggerMethod("show",a),c.isFunction(a.triggerMethod)?a.triggerMethod("show"):this.triggerMethod.call(a,"show");return this},
_ensureElement:function(){c.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]);(!this.$el||0===this.$el.length)&&i('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(a){return f.$(a)},attachHtml:function(a){this.el.innerHTML="";this.el.appendChild(a.el)},empty:function(){var a=this.currentView;if(a)return this.triggerMethod("before:empty",a),this._destroyView(),this.triggerMethod("empty",a),delete this.currentView,this},_destroyView:function(){var a=this.currentView;
a.destroy&&!a.isDestroyed?a.destroy():a.remove&&a.remove()},attachView:function(a){this.currentView=a;return this},hasView:function(){return!!this.currentView},reset:function(){this.empty();this.$el&&(this.el=this.$el.selector);delete this.$el;return this},getOption:d.proxyGetOption,triggerMethod:d.triggerMethod});d.Region.extend=d.extend;g=d.Controller.extend({constructor:function(a){this._regions={};d.Controller.call(this,a)},addRegions:function(a,b){c.isFunction(a)&&(a=a.apply(this,arguments));
var e={};c.each(a,function(a,d){c.isString(a)&&(a={selector:a});a.selector&&(a=c.defaults({},a,b));var f=this.addRegion(d,a);e[d]=f},this);return e},addRegion:function(a,b){var e;e=c.isObject(b);var n=c.isString(b),f=!!b.selector;e=n||e&&f?d.Region.buildRegion(b,d.Region):c.isFunction(b)?d.Region.buildRegion(b,d.Region):b;this.triggerMethod("before:add:region",a,e);this._store(a,e);this.triggerMethod("add:region",a,e);return e},get:function(a){return this._regions[a]},getRegions:function(){return c.clone(this._regions)},
removeRegion:function(a){var b=this._regions[a];this._remove(a,b);return b},removeRegions:function(){var a=this.getRegions();c.each(this._regions,function(a,c){this._remove(c,a)},this);return a},emptyRegions:function(){var a=this.getRegions();c.each(a,function(a){a.empty()},this);return a},destroy:function(){this.removeRegions();return d.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]=b;this._setLength()},_remove:function(a,b){this.triggerMethod("before:remove:region",
a,b);b.empty();b.stopListening();delete this._regions[a];this._setLength();this.triggerMethod("remove:region",a,b)},_setLength:function(){this.length=c.size(this._regions)}});d.actAsCollection(g.prototype,"_regions");d.RegionManager=g;d.TemplateCache=function(a){this.templateId=a};c.extend(d.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new d.TemplateCache(a),this.templateCaches[a]=b);return b.load()},clear:function(){var a,b=j.call(arguments),c=b.length;if(0<
c)for(a=0;a<c;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});c.extend(d.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var b=f.$(a).html();(!b||0===b.length)&&i('Could not find template: "'+a+'"',"NoTemplateError");return b},compileTemplate:function(a){return c.template(a)}});d.Renderer={render:function(a,b){a||
i("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");return("function"===typeof a?a:d.TemplateCache.get(a))(b)}};d.View=f.View.extend({constructor:function(a){c.bindAll(this,"render");this.options=c.extend({},c.result(this,"options"),c.isFunction(a)?a.call(this):a);this.events=this.normalizeUIKeys(c.result(this,"events"));c.isObject(this.behaviors)&&new d.Behaviors(this);f.View.apply(this,arguments);d.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled)},
getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,j.call(arguments,1))},mixinTemplateHelpers:function(a){var a=a||{},b=this.getOption("templateHelpers");c.isFunction(b)&&(b=b.call(this));return c.extend(a,b)},normalizeUIKeys:function(a){var b=c.result(this,"ui"),e=c.result(this,"_uiBindings");return d.normalizeUIKeys(a,e||b)},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(c.result(this,"triggers"));c.each(b,
function(b,d){var f=c.isObject(b),g=f?b.event:b;a[d]=function(a){if(a){var c=a.preventDefault,d=a.stopPropagation,n=f?b.stopPropagation:d;(f?b.preventDefault:c)&&c&&c.apply(a);n&&d&&d.apply(a)}this.triggerMethod(g,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);this.bindEntityEvents(this.model,this.getOption("modelEvents"));this.bindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},_delegateDOMEvents:function(a){a=
a||this.events;c.isFunction(a)&&(a=a.call(this));var a=this.normalizeUIKeys(a),b={},e=c.result(this,"behaviorEvents")||{},d=this.configureTriggers();c.extend(b,e,a,d);f.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=j.call(arguments);f.View.prototype.undelegateEvents.apply(this,a);this.unbindEntityEvents(this.model,this.getOption("modelEvents"));this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var a=
Error("Cannot use a view thats already been destroyed.");a.name="ViewDestroyedError";throw a;}},destroy:function(){if(!this.isDestroyed){var a=j.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.isDestroyed=!0;this.triggerMethod.apply(this,["destroy"].concat(a));this.unbindUIElements();this.remove();return this}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=c.result(this,"_uiBindings");this.ui={};c.each(c.keys(a),function(b){this.ui[b]=
this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(c.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:d.triggerMethod,normalizeMethods:d.normalizeMethods,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});d.ItemView=d.View.extend({constructor:function(){d.View.apply(this,arguments)},serializeData:function(){var a={};this.model?a=c.partial(this.serializeModel,
this.model).apply(this,arguments):this.collection&&(a={items:c.partial(this.serializeCollection,this.collection).apply(this,arguments)});return a},serializeCollection:function(a){return a.toJSON.apply(a,j.call(arguments,1))},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderTemplate();this.bindUIElements();this.triggerMethod("render",this);return this},_renderTemplate:function(){var a=this.getTemplate();if(!1!==a){a||i("Cannot render the template since it is null or undefined.",
"UndefinedTemplateError");var b=this.serializeData(),b=this.mixinTemplateHelpers(b),a=d.Renderer.render(a,b,this);this.attachElContent(a);return this}},attachElContent:function(a){this.$el.html(a);return this},destroy:function(){if(!this.isDestroyed)return d.View.prototype.destroy.apply(this,arguments)}});d.CollectionView=d.View.extend({childViewEventPrefix:"childview",constructor:function(a){var b=a||{};this.sort=c.isUndefined(b.sort)?!0:b.sort;this._initChildViewStorage();d.View.apply(this,arguments);
this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment();this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1;this._triggerBeforeShowBufferedChildren();this.attachBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&c.invoke(this._bufferedChildren,"triggerMethod",
"before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(c.each(this._bufferedChildren,function(a){c.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},
_onCollectionAdd:function(a){this.destroyEmptyView();var b=this.getChildView(a),c=this.collection.indexOf(a);this.addChild(a,b,c)},_onCollectionRemove:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},onShowCalled:function(){this.children.each(function(a){c.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show")})},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderChildren();this.triggerMethod("render",
this);return this},resortView:function(){this.render()},_sortViews:function(){this.collection.find(function(a,b){var c=this.children.findByModel(a);return!c||c._index!==b},this)&&this.resortView()},_renderChildren:function(){this.destroyEmptyView();this.destroyChildren();this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var a;
this.collection.each(function(b,c){a=this.getChildView(b);this.addChild(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty");this._showingEmptyView=!0;var b=new f.Model;this.addEmptyView(b,a);this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,
b){var e=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");c.isFunction(e)&&(e=e.call(this));e=this.buildChildView(a,b,e);this._isShown&&this.triggerMethod.call(e,"before:show");this.children.add(e);this.renderChildView(e,-1);this._isShown&&this.triggerMethod.call(e,"show")},getChildView:function(){var a=this.getOption("childView");a||i('A "childView" must be specified',"NoChildViewError");return a},addChild:function(a,b,e){var d=this.getOption("childViewOptions");c.isFunction(d)&&
(d=d.call(this,a,e));a=this.buildChildView(a,b,d);this._updateIndices(a,!0,e);this._addChildView(a,e);return a},_updateIndices:function(a,b,c){this.sort&&(b?(a._index=c,this.children.each(function(b){b._index>=a._index&&b._index++})):this.children.each(function(b){b._index>=a._index&&b._index--}))},_addChildView:function(a,b){this.proxyChildEvents(a);this.triggerMethod("before:add:child",a);this.children.add(a);this.renderChildView(a,b);this._isShown&&!this.isBuffering&&(c.isFunction(a.triggerMethod)?
a.triggerMethod("show"):d.triggerMethod.call(a,"show"));this.triggerMethod("add:child",a)},renderChildView:function(a,b){a.render();this.attachHtml(this,a,b);return a},buildChildView:function(a,b,e){a=c.extend({model:a},e);return new b(a)},removeChildView:function(a){a&&(this.triggerMethod("before:remove:child",a),a.destroy?a.destroy():a.remove&&a.remove(),this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1));return a},isEmpty:function(){return!this.collection||
0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},attachHtml:function(a,b,c){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c;this.sort&&b<this.children.length-1&&(c=this.children.find(function(a){return a._index===b+1}));return c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},
_initChildViewStorage:function(){this.children=new u},destroy:function(){if(!this.isDestroyed)return this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),d.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var a=this.children.map(c.identity);this.children.each(this.removeChildView,this);this.checkEmpty();return a},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var d=
j.call(arguments),f=d[0],g=this.normalizeMethods(c.result(this,"childEvents"));d[0]=b+":"+f;d.splice(1,0,a);"undefined"!==typeof g&&c.isFunction(g[f])&&g[f].apply(this,d.slice(1));this.triggerMethod.apply(this,d)},this)}});d.CompositeView=d.CollectionView.extend({constructor:function(){d.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),
this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(){var a=this.getOption("childView")||this.constructor;a||i('A "childView" must be specified',"NoChildViewError");return a},serializeData:function(){var a={};this.model&&(a=c.partial(this.serializeModel,this.model).apply(this,arguments));return a},render:function(){this._ensureViewIsIntact();this.isRendered=!0;this.resetChildViewContainer();this.triggerMethod("before:render",
this);this._renderTemplate();this._renderChildren();this.triggerMethod("render",this);return this},_renderChildren:function(){this.isRendered&&d.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a);this.triggerMethod("before:render:template");var b=this.getTemplate(),a=d.Renderer.render(b,a,this);this.attachElContent(a);this.bindUIElements();this.triggerMethod("render:template")},attachElContent:function(a){this.$el.html(a);
return this},attachBuffer:function(a,b){this.getChildViewContainer(a).append(b)},_insertAfter:function(a){this.getChildViewContainer(this).append(a.el)},getChildViewContainer:function(a){if("$childViewContainer"in a)return a.$childViewContainer;var b;(b=d.getOption(a,"childViewContainer"))?(b=c.isFunction(b)?b.call(a):b,b="@"===b.charAt(0)&&a.ui?a.ui[b.substr(4)]:a.$(b),0>=b.length&&i('The specified "childViewContainer" was not found: '+a.childViewContainer,"ChildViewContainerMissingError")):b=a.$el;
return a.$childViewContainer=b},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}});d.LayoutView=d.ItemView.extend({regionClass:d.Region,constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);d.ItemView.call(this,a)},render:function(){this._ensureViewIsIntact();this._firstRender?this._firstRender=!1:this._reInitializeRegions();return d.ItemView.prototype.render.apply(this,arguments)},destroy:function(){if(this.isDestroyed)return this;
this.regionManager.destroy();return d.ItemView.prototype.destroy.apply(this,arguments)},addRegion:function(a,b){this.triggerMethod("before:region:add",a);var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=c.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){this.triggerMethod("before:region:remove",a);delete this.regions[a];return this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},
_buildRegions:function(a){var b=this,c={regionClass:this.getOption("regionClass"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,c)},_initializeRegions:function(a){var b;this._initRegionManager();b=c.isFunction(this.regions)?this.regions(a):this.regions||{};var d=this.getOption.call(a,"regions");c.isFunction(d)&&(d=d.call(this,a));c.extend(b,d);this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.emptyRegions();this.regionManager.each(function(a){a.reset()})},
getRegionManager:function(){return new d.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager();this.listenTo(this.regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",a)});this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this.regionManager,"remove:region",
function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})}});g=function(a,b){this.view=b;this.defaults=c.result(this,"defaults")||{};this.options=c.extend({},this.defaults,a);this.$=function(){return this.view.$.apply(this.view,arguments)};this.initialize.apply(this,arguments)};c.extend(g.prototype,f.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});
g.extend=d.extend;d.Behavior=g;var k=function(a,b){b=k.parseBehaviors(a,b||c.result(a,"behaviors"));k.wrap(a,b,c.keys(q))},q={setElement:function(a,b){a.apply(this,c.tail(arguments,2));c.each(b,function(a){a.$el=this.$el;a.el=this.el},this);return this},destroy:function(a,b){var d=c.tail(arguments,2);a.apply(this,d);c.invoke(b,"destroy",d);return this},bindUIElements:function(a,b){a.apply(this);c.invoke(b,a)},unbindUIElements:function(a,b){a.apply(this);c.invoke(b,a)},triggerMethod:function(a,b){var d=
c.tail(arguments,2);a.apply(this,d);c.each(b,function(b){a.apply(b,d)})},delegateEvents:function(a,b){var e=c.tail(arguments,2);a.apply(this,e);c.each(b,function(a){d.bindEntityEvents(a,this.model,d.getOption(a,"modelEvents"));d.bindEntityEvents(a,this.collection,d.getOption(a,"collectionEvents"))},this);return this},undelegateEvents:function(a,b){var e=c.tail(arguments,2);a.apply(this,e);c.each(b,function(a){d.unbindEntityEvents(a,this.model,d.getOption(a,"modelEvents"));d.unbindEntityEvents(a,this.collection,
d.getOption(a,"collectionEvents"))},this);return this},behaviorEvents:function(a,b){var e={},f=c.result(this,"ui");c.each(b,function(a,b){var g={},h=c.clone(c.result(a,"events"))||{},i=c.result(a,"ui"),i=c.extend({},f,i),h=d.normalizeUIKeys(h,i);c.each(c.keys(h),function(d){var e=Array(b+2).join(" "),e=d+e,d=c.isFunction(h[d])?h[d]:a[h[d]];g[e]=c.bind(d,a)});e=c.extend(e,g)});return e}};c.extend(k,{behaviorsLookup:function(){throw Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup");
},getBehaviorClass:function(a,b){return a.behaviorClass?a.behaviorClass:c.isFunction(k.behaviorsLookup)?k.behaviorsLookup.apply(this,arguments)[b]:k.behaviorsLookup[b]},parseBehaviors:function(a,b){return c.chain(b).map(function(b,d){var f=new (k.getBehaviorClass(b,d))(b,a),g=k.parseBehaviors(a,c.result(f,"behaviors"));return[f].concat(g)}).flatten().value()},wrap:function(a,b,d){c.each(d,function(d){a[d]=c.partial(q[d],a[d],b)})}});d.Behaviors=k;d.AppRouter=f.Router.extend({constructor:function(a){f.Router.apply(this,
arguments);this.options=a||{};var b=this.getOption("appRoutes"),c=this._getController();this.processAppRoutes(c,b);this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){var d=c.invert(this.getOption("appRoutes"))[a];if(c.isFunction(this.onRoute))this.onRoute(a,d,b)},processAppRoutes:function(a,b){if(b){var d=c.keys(b).reverse();c.each(d,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},
_addAppRoute:function(a,b,d){var f=a[d];f||i('Method "'+d+'" was not found on the controller');this.route(b,d,c.bind(f,a))},getOption:d.proxyGetOption});d.Application=function(a){this._initializeRegions(a);this._initCallbacks=new d.Callbacks;this.submodules={};c.extend(this,a);this._initChannel()};c.extend(d.Application.prototype,f.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},
start:function(a){this.triggerMethod("before:start",a);this._initCallbacks.run(a,this);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,b){var c=d.Module.getClass(b),f=j.call(arguments);
f.unshift(this);return c.create.apply(c,f)},getRegionManager:function(){return new d.RegionManager},_initializeRegions:function(a){var b=c.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var e=d.getOption(a,"regions");c.isFunction(e)&&(e=e.call(this,a));c.extend(b,e);this.addRegions(b);return this},_initRegionManager:function(){this._regionManager=this.getRegionManager();this.listenTo(this._regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",
a)});this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this._regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this._regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})},_initChannel:function(){this.channelName=c.result(this,"channelName")||"global";this.channel=c.result(this,"channel")||v.radio.channel(this.channelName);
this.vent=c.result(this,"vent")||this.channel.vent;this.commands=c.result(this,"commands")||this.channel.commands;this.reqres=c.result(this,"reqres")||this.channel.reqres},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption});d.Application.extend=d.extend;d.Module=function(a,b,d){this.moduleName=a;this.options=c.extend({},this.options,d);this.initialize=d.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;c.isFunction(this.initialize)&&
this.initialize(a,b,this.options)};d.Module.extend=d.extend;c.extend(d.Module.prototype,f.Events,{initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(c.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&
(this._isInitialized=!1,this.triggerMethod("before:stop"),c.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var e=c.flatten([this,this.app,f,d,f.$,c,b]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new d.Callbacks;this._finalizerCallbacks=
new d.Callbacks},triggerMethod:d.triggerMethod});c.extend(d.Module,{create:function(a,b,d){var f=a,g=j.call(arguments);g.splice(0,3);var b=b.split("."),h=[];h[b.length-1]=d;c.each(b,function(b,c){var i=f;f=this._getModule(i,b,a,d);this._addModuleDefinition(i,f,h[c],g)},this);return f},_getModule:function(a,b,d,f){var g=c.extend({},f),f=this.getClass(f),h=a[b];h||(h=new f(b,d,g),a[b]=h,a.submodules[b]=h);return h},getClass:function(a){var b=d.Module;return!a?b:a.prototype instanceof b?a:a.moduleClass||
b},_addModuleDefinition:function(a,b,c,d){var f=this._getDefine(c),c=this._getStartWithParent(c,b);f&&b.addDefinition(f,d);this._addStartWithParent(a,b,c)},_getStartWithParent:function(a,b){var e;return c.isFunction(a)&&a.prototype instanceof d.Module?(e=b.constructor.prototype.startWithParent,c.isUndefined(e)?!0:e):c.isObject(a)?(e=a.startWithParent,c.isUndefined(e)?!0:e):!0},_getDefine:function(a){return c.isFunction(a)&&!(a.prototype instanceof d.Module)?a:c.isObject(a)?a.define:null},_addStartWithParent:function(a,
b,c){b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});this.Marionette=d});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:marionette', location = 'jira-view-issue-module/lib/backbone/marionette/backbone.marionette-amd.js' */
define("jira/view-issue-plugin/lib/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(e,i,n){return n(i,e)});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'jira-view-issue-module/viewissue/attachment/attachment-contents-view.js' */
define("jira/view-issue-plugin/attachment/attachment-contents-view",["jira/view-issue-plugin/lib/marionette"],function(t){"use strict";return t.ItemView.extend({template:JIRA.Templates.ViewIssue.attachmentContents,initialize:function(t){this.attachment=t.attachment,this.issueId=t.issueId,this.baseUrl=t.baseUrl},serializeData:function(){return{attachment:this.attachment,issueId:this.issueId,baseUrl:this.baseUrl}}})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'jira-view-issue-module/viewissue/attachment/attachment-contents-view-alias.js' */
define("jira/attachment/attachment-contents-view",["jira/view-issue-plugin/attachment/attachment-contents-view"],function(t){return t});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'jira-view-issue-module/viewissue/attachment/attachment-element.js' */
define("jira/view-issue-plugin/attachment/attachment-element",["jira/util/logger","wrm/context-path","jquery","jira/skate","jira/viewissue/slideshow/slideshow-configuration","jira/view-issue-plugin/lib/marionette","jira/attachment/attachment-contents-view"],function(t,e,n,i,a,o,r){"use strict";function c(i){var a=n(i),c=a.data("attachment-id"),s=a.data("issue-id"),u=e()+"/rest/api/2/attachment/"+c+"/expand/human",l=n.get(u);l.done(function(t){var n=new o.Region({el:a.find(".zip-contents").first()}),i=new r({attachment:t,issueId:s,baseUrl:window.location.protocol+"//"+window.location.host+e()});n.show(i)}),l.error(function(e){t.error(e)})}return i("js-file-attachment",{type:i.type.CLASSNAME,attached:function(e){n(e).find(".expander").one("expandBlock",function(){c(e)}),t.trace("jira.plugins.viewissue.expansion.wired")},events:{"click .attachment-title":function(t,e){if(1===e.which){var n=t.getThumbnailImage();n.length&&(n.click(),e.preventDefault())}}},prototype:{getThumbnailImage:function(){var t=this;return n(".gallery",t)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'jira-view-issue-module/viewissue/attachment/attachment.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ViewIssue&&(JIRA.Templates.ViewIssue={}),JIRA.Templates.ViewIssue.attachmentContents=function(e,t){for(var a='<ol class="archive-expanded">',s=e.attachment.entries,n=s,l=n.length,i=0;i<l;i++){var r=n[i];a+=JIRA.Templates.ViewIssue.attachmentArchiveEntry(soy.$$augmentMap(e,{entry:r}))}a+=(0==e.attachment.totalEntryCount?'<li><div class="aui-message aui-message-warning" style="display: inline-block"><p>'+soy.$$escapeHtml("This archive is either corrupt, empty or not an archive at all")+".</p></div></li>":"")+'</ol><span class="zip-contents-trailer">'+(s.length<e.attachment.totalEntryCount?'<span class="limit-info">'+soy.$$escapeHtml(AJS.format("Showing {0} of {1} items",s.length,e.attachment.totalEntryCount))+" </span>":"");var m=soy.$$escapeHtml(e.baseUrl)+"/secure/attachment/"+soy.$$escapeHtml(e.attachment.id)+"/";return a+='<a href="'+soy.$$escapeHtml(m)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.attachment.mediaType)+":"+soy.$$escapeHtml(e.attachment.name)+":"+soy.$$escapeHtml(m)+'">'+soy.$$escapeHtml("Download Zip")+"</a></span>"},JIRA.Templates.ViewIssue.attachmentArchiveEntry=function(e,t){var a="",s=soy.$$escapeHtml(e.baseUrl)+"/secure/attachmentzip/unzip/"+soy.$$escapeHtml(e.issueId)+"/"+soy.$$escapeHtml(e.attachment.id)+"%5B"+soy.$$escapeHtml(e.entry.index)+"%5D/",n=soy.$$filterNoAutoescape(e.entry.mediaType)+":"+soy.$$filterNoAutoescape(e.entry.path)+":"+soy.$$filterNoAutoescape(s);return a+='<li class="archive-entry" data-entry-index="'+soy.$$escapeHtml(e.entry.index)+'"><div class="attachment-thumb"><a href="'+soy.$$escapeHtml(s)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(n)+'"'+JIRA.Templates.ViewIssue.tagFilePreview({id:e.attachment.id+"/"+e.entry.index,title:e.entry.label,mimeType:e.entry.mediaType})+">"+JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype:e.entry.mediaType,baseurl:e.baseUrl})+'</a></div><a class="file-path" href="'+soy.$$escapeHtml(s)+'" title="'+soy.$$escapeHtml(e.entry.path)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(n)+'"'+JIRA.Templates.ViewIssue.tagFilePreview({id:e.attachment.id+"/"+e.entry.index,title:e.entry.label,mimeType:e.entry.mediaType})+">"+soy.$$escapeHtml(e.entry.label)+'</a><span class="attachment-size">'+soy.$$escapeHtml(e.entry.size)+"</span></li>"};;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:draggableattachment', location = 'jira-view-issue-module/viewissue/initDraggableAttachment.js' */
define("jira/view-issue-plugin/init-draggable-attachment",["jquery"],function(e){e.event.props?e.event.props.push("dataTransfer"):e.event.addProp("dataTransfer"),e("[draggable=true]",".item-attachments").live("dragstart",function(a){var t=e(this),n=a.dataTransfer;n.effectAllowed="copy",n.dropEffect="copy",n.setData("DownloadURL",t.data("downloadurl")),t.find("img").length||n.setDragImage(t.closest("li").find("img:visible")[0],8,8)})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:analytics', location = 'jira-view-issue-module/viewissue/analytics.js' */
define("jira/view-issue-plugin/analytics",["jquery"],function(i){var n=i(document);n.on("click","#subtasks-bulk-operation",function(){AJS.trigger("analyticsEvent",{name:"jira.bulk.move.click.subtasks-bulk-operation"})}),n.on("click","#subtasks-open-issue-navigator",function(){AJS.trigger("analyticsEvent",{name:"jira.bulk.move.click.subtasks-open-issue-navigator"})})});;
;
/* module-key = 'jira.webresources:jira-analytics', location = '/includes/jira/analytics/analytics.js' */
define("jira/analytics/analytics",["jquery","jira/ajs/dark-features","jira/analytics"],function(e,r,i){function n(){return e("li.active a.browse-tab").attr("id")}function t(){s.on("click","#project-admin-link",function(){var e=n();i.send({name:"browseproject.administerproject",properties:{selectedtab:e}})}),s.on("click","#browse-projects-create-project",function(){i.send({name:"projects.browse.createProject",properties:{}})}),s.on("click","#no-issues-create-issue",function(){i.send({name:"browseproject.issuesblankslate.createissue",properties:{}})}),s.on("click","a.issue-filter-link",function(){var r=e(this),n=r.attr("id").replace("filter_",""),t=r.attr("data-type");i.send({name:"browse"+t+".issuefilter."+n,properties:{}})}),s.on("click",".issueaction-viewworkflow",function(){var n=e(this).attr("class"),t=n.indexOf("new-workflow-designer")>-1||n.indexOf("jira-workflow-designer-link")>-1,s=t?"new":"old",a=r.isEnabled("casper.VIEW_ISSUE");i.send({name:"issue.viewworkflow",properties:{version:s,newEnabled:a}})})}var s=e(document);return{bindEvents:t}});;
;
/* module-key = 'jira.webresources:jira-analytics', location = '/includes/jira/analytics/analytics-init.js' */
require(["jira/analytics/analytics"],function(n){AJS.toInit(function(){n.bindEvents()})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:attachment-thumbnail', location = 'jira-view-issue-module/viewissue/attachment/attachment-thumbnail.js' */
define("jira/view-issue-plugin/attachment/attachment-thumbnail",["jira/analytics","jira/view-issue-plugin/attachment/image-element","jira/skate"],function(t,e,i){function r(t){var e=c.exec(t);if(null!==e)return e[1]}function n(t,e,i){var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!0,!1,i),t.dispatchEvent(r)}function a(t,i){var r=e.create();return r.setAttribute("alt",i),r.setAttribute("src",t),r.className="hidden",r.addEventListener("error",function(){n(this,"load-error")}),r.addEventListener("load",function(){this.className="",n(this,"load-finished")}),r}var u=3,l=3e3,s=JIRA.Templates.ViewIssue,d="attachment.thumbnail.load.failed",o="attachment.thumbnail.load.retried",c=/\/file\/([\w-]+)\/image/;return i("jira-attachment-thumbnail",{type:i.type.TAG,created:function(t){t.retryCount=0,t.fallbacked=!1},attached:function(t){var e=t.querySelector("img");e&&t.removeChild(e),t.appendChild(a(t.getAttribute("url"),t.getAttribute("filename")))},events:{"load-error":function(t){t.fallbacked||(t.removeChild(e.find(t)),t.retryCount>=u?(t.applyFallback(),t.triggerFailedEvent()):(t.retryCount++,t.retryAttachment()))},"load-finished":function(t){t.retryCount>0&&t.retryCount<u&&t.triggerRetriedEvent()}},prototype:{applyFallback:function(){this.fallbacked=!0,this.getAttribute("jira-url")?this.appendChild(a(this.getAttribute("jira-url"),this.getAttribute("filename"))):this.innerHTML=s.renderAttachmentIcon({mimetype:"default"})},retryAttachment:function(){setTimeout(function(){this.appendChild(a(this.getAttribute("url"),this.getAttribute("filename")))}.bind(this),l)},triggerFailedEvent:function(){var e=r(this.getAttribute("url"));e&&t.send({name:d,properties:{fileId:e}})},triggerRetriedEvent:function(){var e=r(this.getAttribute("url"));e&&t.send({name:o,properties:{retries:this.retryCount,fileId:e}})}}})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:attachment-thumbnail', location = 'jira-view-issue-module/viewissue/attachment/image-element.js' */
define("jira/view-issue-plugin/attachment/image-element",{create:function(){return document.createElement("img")},find:function(e){return e.querySelector("img")}});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:issuelink-bridge-global-init', location = 'jira-view-issue-module/viewissue/issuelink/linkedissue-modal-bridge.js' */
require(["jquery"],function(e){window.__$linkedIssueBridgePromise=e.Deferred(),define("jira/components/linkedissue/bridge",[],function(){return function(e){window.__$linkedIssueBridgePromise.resolve(e)}}),define("jira/components/linkedissue/bridge/api",["jira/components/analytics-tracker/tracker"],function(n){function i(e){n.trackEvent(o,"linkedissue-modal.load.failed",{errorMessage:e})}function r(){if(null===s){s=e.Deferred();try{window.__$linkedIssueBridgePromise.then(function(e){e.loadResource().then(function(){s.resolve(e)},function(){i("Call to linkedIssueModalApp#loadResource failed"),s.reject()})})}catch(e){var n=e&&e.stack||"An unknown error occurred when loading linkedIssueModalApp bridge";i(n),s.reject()}}return s}var o="viewissue.issuelink",s=null;return{loadResource:r}})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:issuelink-init', location = 'jira-view-issue-module/viewissue/issuelink/issuelink-init.js' */
define("jira/view-issue-plugin/issuelink/issuelink-init",["jquery","underscore","jira/skate","jira/components/analytics-tracker/tracker","jira/components/linkedissue/bridge/api"],function(e,t,r,i,a){function n(r){return(t.isUndefined(r.which)||null===r.which||1===r.which||0===r.which&&e.browser.msie)&&!(r.metaKey||r.ctrlKey||r.shiftKey||r.altKey&&!e.browser.msie)}function s(){return e("#linked-issue-modal-root").attr("data-project-type")}function o(e,t){i.trackEvent(f,"linkedissue-modal.load.failed",{errorMessage:e,targetIssueId:t})}function u(e,t,r,i){var a=k();if(null!==a){try{a.show({issueId:e,issueKey:t,sourceProjectType:r,targetProjectType:i})}catch(t){var n=t&&t.stack||"Call to linkedIssueModalApp#show threw an exception";return o(n,e),!1}return!0}return o("Show called before linked issue modal available",e),!1}function l(e){return"true"===e.attr(p)}function c(t){var r=e(t.target),a=r.attr(w),o=r.attr(y),c=s(),d=r.attr("data-project-type"),k=n(t),h=l(r);if(c&&d){var p=k?"click":"click.newtab";if(i.trackEvent(f,p,{sourceProjectType:c,targetProjectType:d,targetIssueId:a,showModal:h}),h&&k){var v=u(a,o,c,d);if(v)return!1}}else i.trackEvent(f,"click.missing.project.types",{sourceProjectType:c,targetProjectType:d,targetIssueId:a})}function d(e){return e.find(h+"["+p+'="true"]').size()>0}function k(){if(null!==v)return v;if(null===j){var e=Date.now();j=a.loadResource(),j.then(function(t){v=t;var r=Date.now()-e;i.trackEvent(f,"linkedissue-modal.load",{loadTimeMillis:r})})}return v}var f="viewissue.issuelink",h="a.linked-issue",p="data-show-modal",y="data-issue-key",w="data-issue-id",v=null,j=null;return r("js-linkingmodule-container-skate-target",{type:r.type.CLASSNAME,attached:function(t){var r=e(t);r.on("click",h,c),d(r)&&k()}}),{shouldLoadLinkedIssueModal:d,showLinkedIssueModal:u,handleIssueLinkClicked:c}});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:initialiser', location = 'jira-view-issue-module/viewissue/initViewIssue.js' */
require(["jira/view-issue-plugin/attachment/attachment-element","jira/view-issue-plugin/init-draggable-attachment","jira/view-issue-plugin/analytics","jira/view-issue-plugin/attachment/attachment-thumbnail","jira/view-issue-plugin/issuelink/issuelink-init"]);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:loading-indicator', location = 'js/util/loading-indicator.js' */
define("quick-edit/util/loading-indicator",["jira/loading/loading","jira/flag"],function(i,n){var o=AJS.dim,a=AJS.undim;return{showLoadingIndicator:function(){o(),i.showLoadingIndicator()},hideLoadingIndicator:function(o){a(),i.hideLoadingIndicator(),o&&n.showErrorMsg(null,"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.")}}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue-bootstrap', location = 'js/init/edit-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(i,e,t,n,r){var a,u=function(){r.disable(),n.showLoadingIndicator()},c=function(){n.hideLoadingIndicator(!0),r.enable()},o=function(e){e.preventDefault(),u();var n="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue",o=t([n]);o.then(function(){var t=require("quick-edit/init/edit");a||(a=t.initDialog()),a._events.trigger.simpleClick.call(a,e,i(e.target)),r.enable()},function(){c()})};i(document).delegate(".issueaction-edit-issue","click",o)});;
;
/* module-key = 'jira.webresources:attach-screenshot-resources', location = '/includes/jira/issue/attachScreenshot.js' */
AJS.namespace("JIRA.Issue.AttachScreenshot"),function(){"use strict";AJS.EventQueue=AJS.EventQueue||[],AJS.$(document).on("click","#attach-screenshot",function(){AJS.EventQueue.push({name:"attach.screenshot.display",properties:{}})})}();;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue-init', location = '/js/create-linked-issue/create-linked-issue-init.js' */
require(["jquery","wrm/require","quick-edit/util/loading-indicator","jira/featureflags/feature-manager"],function(e,i,n,u){var a=function(){n.showLoadingIndicator()},r=function(){n.hideLoadingIndicator(!0)},s=!1;e(document).on("click",".issueaction-create-linked-issue",function(e){e.preventDefault(),s||(s=!0,a(),i(["wr!com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue"]).done(function(){require(["quick-edit/create-linked-issue/create-linked-issue-dialog","jira/issue"],function(e,i){e.show({sourceIssueKey:i.getIssueKey(),sourceIssueId:i.getIssueId()}),s=!1})}).fail(function(){r(),s=!1}))})});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-calendar-init', location = 'js/init/calendar.js' */
define("quick-edit/init/calendar",["wrm/require"],function(a){function e(e){var c,n=r();switch(n){case"cs_CZ":c="calendar-cs";break;case"da_DK":c="calendar-da";break;case"de_DE":c="calendar-de";break;case"en_UK":c="calendar-en";break;case"en_US":c="calendar-en";break;case"es_ES":c="calendar-es";break;case"et_EE":c="calendar-en";break;case"fi_FI":c="calendar-fi";break;case"fr_FR":c="calendar-fr";break;case"hu_HU":c="calendar-hu";break;case"is_IS":c="calendar-en";break;case"it_IT":c="calendar-it";break;case"ja_JP":c="calendar-jp";break;case"ko_KR":c="calendar-ko";break;case"nb_NO":c="calendar-no";break;case"nl_NL":c="calendar-nl";break;case"pl_PL":c="calendar-pl";break;case"pt_BR":c="calendar-pt";break;case"pt_PT":c="calendar-pt";break;case"ro_RO":c="calendar-ro";break;case"ru_RU":c="calendar-ru";break;case"sk_SK":c="calendar-sk";break;case"sv_SE":c="calendar-sv";break;case"zh_CN":c="calendar-zh";break;default:c="calendar-en"}a("wrc!jira.webresources:"+c,e)}var r=function(){return AJS.Meta.get("user-locale")};return function(a){e(a)}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'js/init/create-dialogs.js' */
define("quick-edit/init/create-dialogs",["wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","quick-edit/init/calendar"],function(i,e,a,t){var n=function(){a.disable(),e.showLoadingIndicator()},r=function(){e.hideLoadingIndicator(!0),a.enable()},u=!1,c=function(e){if(!u){u=!0,n();var c="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue",o=i([c]);o.then(function(){var i=require("quick-edit/init/create");i.initIssueDialog(e),a.enable(),u=!1},function(){r(),u=!1}),t()}},o=!1,d=function(e){if(!o){o=!0,n();var u="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue",c=i([u]);c.then(function(){var i=require("quick-edit/init/create");i.initSubtaskDialog(e),a.enable(),o=!1},function(){r(),o=!1}),t()}};return{showCreateDialog:c,showCreateSubtaskDialog:d}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'js/init/create-bootstrap-wrm.js' */
require(["jquery","quick-edit/init/create-dialogs"],function(e,t){JIRA.API.getSidebar().then(function(e){e.on(e.events.JIRA_SUMMON_CREATE_ISSUE_DIALOG,function(e){t.showCreateDialog(e)},!0)}),e(function(){var e=document.getElementById("stqc_show");e&&(e.onclick=null)}),e(document).on("simpleClick",".create-issue, .create-issue-type",function(e){e.preventDefault(),t.showCreateDialog(e)}),e(document).on("simpleClick",".issueaction-create-subtask",function(e){e.preventDefault(),t.showCreateSubtaskDialog(e)})});;
;
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-scripts-common', location = '/teams/scripts-plugin/field-common.min.js' */
(function(){define("com/atlassian/rm/common/customfields/common",[],function(){var a,b,c,d,e,f,g,h,i,j;return c=window.JIRA,a=AJS.$,d=AJS.SingleSelect,b=AJS.ItemDescriptor,j=AJS.escapeHTML,f=function(a){return c.bind(c.Events.NEW_CONTENT_ADDED,function(b,d,e){if(e!==c.CONTENT_ADDED_REASON.panelRefreshed)return a({context:d})})},g=function(a){var b,c,d;return d=a.url,b=a.createQueryData,c=a.formatResponse,{url:d,type:"POST",query:!0,data:function(a){return b({query:a})},dataType:"json",contentType:"application/json",formatResponse:c,keyInputPeriod:200}},i=function(a){var c,d;return d=a.text,c=a.additionalStyles,new b({label:d,html:j(d),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+c,unselectableItem:!0})},e=function(a){var b;if(b=a.items,0===b.length)return b.push(i({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},h=function(b){var c,e;return c=b.ajaxOptions,e=b.getNoMatchingValueMessage,d.extend({init:function(b){return a.extend(b,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:c}),this._super(b)},setSelection:function(a){if(!a.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(b){var c,d;if(this._super.apply(this,arguments),null==b&&(b=a.trim(this.$field.val())),d=this.model.getDescriptor(b),null==d&&this.$container.hasClass("aui-ss-editing"))return c=null!=b&&b.length>0,c?(this.options.errorMessage=e(b),this.showErrorMessage(b),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:f,createDropdownAjaxOptions:g,createInfoMessageListItem:i,addNoMatchesItemIfEmpty:e,createDropdownClass:h}})}).call(this);;
;
/* module-key = 'com.atlassian.jpo:jpo-wr-custom-field-scripts-parent', location = '/jpo2/scripts-plugin/field-parent.min.js' */
(function(){require(["com/atlassian/rm/common/customfields/common"],function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;if(j=window.JIRA,b=AJS.$,i=AJS.ItemDescriptor,d=AJS.GroupDescriptor,p=AJS.contextPath,w=AJS.escapeHTML,k=100,l=".jpo-parent-selection-dropdown",f=".jpo-initial-issue-type-name",e=".jpo-initial-epic-link",g=".jpo-initial-issue-project",c=".jpo-client-error-message-container",h="#issuetype-field",m=p()+"/rest/jpo/1.0/parent/suggest",B="",E=void 0,v=void 0,F=void 0,z=function(a){var b,c,d,e;for(b={},d=0,e=a.length;d<e;d++)c=a[d],b[c.id]=c;return b},I=function(){return B=b(f).val()},D=function(){return b(h).change(function(a){var b;if(b=a.target.value,null!=b&&b.length>0)return B=b})},A=function(){return null!=v&&v.length>0},H=function(){return v=b(e).val()},J=function(){return F=b(g).val()},C=function(a){return a.$field.change(function(a){return v=a.target.value,o()})},o=function(){return A()?L("Cannot use parent link when epic link is set."):y()},K=function(a){if(null!=E)return E.$container.toggle(a)},L=function(a){return K(!1),b(c).html("<span class='error'>"+w(a)+"</span>")},y=function(){return K(!0),b(c).empty()},x=function(a){var b,c,e,f,g;return e=a.issues,c=a.issueTypes,g=a.projects,b=new d({weight:0,showLabel:!1,items:[q()]}),f=new d({weight:1,items:u({issues:e,issueTypes:c,projects:g})}),[b,f]},t=function(a){var b,c,d,e,f,g,h;return d=a.issue,g=a.issueType,h=a.project,e=d.issueKey,f=d.issueSummary,b=h.key+"-"+e,c=b+" "+f,new i({value:b,fieldText:c,label:c,icon:g.iconUrl})},u=function(b){var c,d,e,f,g,h,i;return f=b.issues,d=b.issueTypes,h=b.projects,e=z(d),i=z(h),g=function(){var a,b,d;for(d=[],a=0,b=f.length;a<b;a++)c=f[a],d.push(t({issue:c,issueType:e[c.issueTypeId],project:i[c.projectId]}));return d}(),a.addNoMatchesItemIfEmpty({items:g}),g},q=function(){return a.createInfoMessageListItem({text:"To set an epic as the parent, use the epic link instead",additionalStyles:"jpo-dropdown-item-italic"})},r=function(a){var b;return b=a.query,JSON.stringify({query:b,issueTypeName:B,maxResults:k,projectId:F})},n=a.createDropdownClass({ajaxOptions:a.createDropdownAjaxOptions({url:m,createQueryData:r,formatResponse:x}),getNoMatchingValueMessage:function(a){return AJS.format("No valid parent matching \'\'{0}\'\' was found.",a)}}),s=function(a){return b(l,a).each(function(){return E=new n({element:b(this)}),o()})},a.bindInitializationCallback(function(a){var b;return b=a.context,H(),I(),J(),D(),s(b)}),null!=(null!=(G=j.EpicPicker)?G.READY_EVENT:void 0))return j.bind(j.EpicPicker.READY_EVENT,function(a,b){return C(b)})})}).call(this);;
;
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-team', location = '/teams/scripts-plugin/field-team.min.js' */
(function(){require(["com/atlassian/rm/common/customfields/common"],function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;return b=AJS.$,e=AJS.ItemDescriptor,d=AJS.GroupDescriptor,j=AJS.contextPath,f=100,g=".jpo-team-selection-dropdown",h=j()+"/rest/teams/1.0/teams/find",c=j()+"/download/resources/com.atlassian.teams:jpo-wr-images-and-fonts/images/teams/default-avatar.svg",p=function(a){var b,c,e;return e=a.teams,b=new d({weight:0,items:[k()]}),c=new d({weight:1,label:"Shared teams",items:o({teams:e})}),[b,c]},n=function(a){var b,d,f;return d=a.id,f=a.title,b=a.avatarUrl,new e({value:""+d,fieldText:f,label:f,icon:b||c})},o=function(b){var c,d,e;return e=b.teams,c=function(){var a,b,c;for(c=[],a=0,b=e.length;a<b;a++)d=e[a],c.push(n(d));return c}(),a.addNoMatchesItemIfEmpty({items:c}),c},k=function(){return a.createInfoMessageListItem({text:"Plan-specific teams can only be selected through a plan",additionalStyles:"jpo-dropdown-item-italic"})},l=function(a){var b;return b=a.query,JSON.stringify({query:b,excludedIds:[],maxResults:f})},i=a.createDropdownClass({ajaxOptions:a.createDropdownAjaxOptions({url:h,createQueryData:l,formatResponse:p}),getNoMatchingValueMessage:function(a){return AJS.format("No team matching query \'\'{0}\'\' was found.",a)}}),m=function(a){return b(g,a).each(function(){return new i({element:b(this)})})},a.bindInitializationCallback(function(a){var b;return b=a.context,m(b)})})}).call(this);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/dialog.js' */
define('jira/admin-helper/dialog', [
    'jquery',
    'jira/dialog/dialog',
    'jira/focus/set-focus'
], function (
    $,
    Dialog,
    setFocus
) {

    return Dialog.extend({

        _getDefaultOptions: function () {
            return $.extend(this._super(), {
                cached: false,
                widthClass: "large",
                stacked: true
            });
        },

        defineResources: function() {
            this._super();
            this.requireResource("com.atlassian.jira.plugins.jira-admin-helper-plugin:whereismycf-resources");
        },

        decorateContent: function () {

            var instance = this;

            // init the close link
            this.get$popupContent().find(".cancel").click(function (e) {
                instance.hide();
                e.preventDefault();
            });
        },

        _onShowContent: function () {
            this._super();
            if (Dialog.current === this) {
                var triggerConfig = new setFocus.FocusConfiguration();
                triggerConfig.context = this.get$popup()[0];
                triggerConfig.parentElementSelectors = ['.form-body'];
                setFocus.pushConfiguration(triggerConfig);
                setFocus.triggerFocus();
            }
        },

        hide: function (undim) {

            if (this._super(undim) === false) {
                return false;
            }
            setFocus.popConfiguration();
        }
    });
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/notification-helper-init.js' */
require([
    'jquery',
    'jira/admin-helper/dialog',
    'jira/util/data/meta'
], function (
    $,
    Dialog,
    Meta
) {
    if (Meta.get("is-admin")) {

        $(document).delegate(".notificationhelper-trigger", "click", function (event) {
            event.preventDefault();
            new Dialog({
                id: "notification-helper-dialog",
                content: function content(callback) {
                    var dialog = this;
                    require(['jira/admin-helper/notification-helper/content-loader'],
                        function (ContentLoader) {
                            ContentLoader.loadContent(dialog, callback);
                        });
                }
            }).show();
        });
    }
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/permission-helper-init.js' */
require([
    'jquery',
    'jira/admin-helper/dialog',
    'jira/util/data/meta'
], function (
    $,
    Dialog,
    Meta
) {
    if (Meta.get("is-admin")) {

        $(document).delegate(".permissionhelper-trigger", "click", function (event) {
            event.preventDefault();

            new Dialog({
                id: "permission-helper-dialog",
                widthClass: "medium",
                content: function content(callback) {
                    var dialog = this;
                    require(['jira/admin-helper/permission-helper/content-loader'],
                        function (ContentLoader) {
                            ContentLoader.loadContent(dialog, callback);
                        });
                }
            }).show();
        });
    }
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/whereismycf-init.js' */
require([
    'jquery',
    'jira/admin-helper/dialog',
    'jira/util/data/meta',
    'jira/dialog/dialog'
], function (
    $,
    Dialog,
    Meta,
    JiraDialog
) {
    if (Meta.get("is-admin")) {
        var LABEL = "Where is my field?";

        $(document).delegate(".whereismycf-trigger", "click", function (event) {
            event.preventDefault();
            new Dialog({
                id: "whereismycf-dialog",
                widthClass: "small",
                content: function content(callback) {
                    var dialog = this;
                    require(['jira/admin-helper/whereismycf/content-loader'],
                        function (ContentLoader) {
                            ContentLoader.loadContentForView(dialog, callback);
                        });
                }
            }).show();

        });
        // hook into the quick-edit
        $(document).bind("showLayer", function (event, control, hash) {
            if (control == "inlineDialog" && hash.popup.attr("id") == "inline-dialog-field_picker_popup") {
                if (hash.popup.find("#whereismycf-qfpicker-link-id").length == 0) {
                    var thelink = $("<a href='#' id='whereismycf-qfpicker-link-id'>" + LABEL + "</a>").appendTo(hash.popup.find("#qf-picker-custom-link"));
                    thelink.click(function (event) {
                        event.preventDefault();
                        hash.hide();
                        eventsAndDecouplingInJavaScriptAreSoooAwesome();
                        var currentDialog = JiraDialog.current;
                        new Dialog({
                            id: "whereismycf-dialog",
                            widthClass: "small",
                            content: function content(callback) {
                                var dialog = this;
                                require(['jira/admin-helper/whereismycf/content-loader'],
                                    function (ContentLoader) {
                                        ContentLoader.loadContentForEditAndCreate(dialog, currentDialog, callback);
                                    });
                            }
                        }).show();

                    });
                }
            }
        });

        function eventsAndDecouplingInJavaScriptAreSoooAwesome() {
            // we're doing this because LayerManager wants to outsmart the world by deciding what to hide and what not...
            // and InlineDialog (and everything else in AUI) wants to outsmart the world by applying stupid timeouts to everything...
            // but ultimately you can outsmart every smartass in the JS land just by setting global variables to null! BUAHAHAHAHAHAHA
            AJS.InlineDialog.current = null;
        }
    }
});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue', location = 'js/init/create.js' */
define("quick-edit/init/create",["quick-edit/form/factory/create-issue","quick-edit/form/factory/create-subtask","quick-edit/util/dialog","jira/analytics/web-client","jira/analytics/transformers/issue-type","jira/featureflags/feature-manager","jquery","quick-edit/util/jira","quick-edit/util/hierarchy","jira/util/events"],function(e,t,i,a,s,r,n,o,c,d){"use strict";var u=function(t){var i=n(t.target),u=i.is("a")?i:i.find("a"),p=parseUri(u.attr("href")).queryKey,g={pid:p.pid,issueType:p.issuetype,itsmCategory:p.itsmCategory};g=n.extend(g,{pid:i.attr("data-pid"),issueType:i.attr("data-issue-type"),itsmCategory:i.attr("data-itsm-category")});var y=e(g);n(y).on("dialogRendered",function(){JIRA.trace("create.issue.dialog.rendered"),a.sendPageEvent("createIssueModal"),d.trigger("createIssueDialogRendered")}),n(y).on("issueCreated",function(e,t){JIRA.trace("create.issue.dialog.issue.created");var i=t.createdIssueDetails.fields,n=String(i.project.id),u=i.project.projectTypeKey,p=String(t.createdIssueDetails.id),g=s.map(i.issuetype.name),y=String(i.issuetype.id),f={issueType:g,issueTypeId:y,projectType:u};i&&i.issuerestriction&&i.issuerestriction.issuerestrictions&&i.issuerestriction.issuerestrictions.projectrole&&i.issuerestriction.issuerestrictions.projectrole.length>0&&(f={issueType:g,issueTypeId:y,projectType:u,restrictIssue:!0});var m=i.project.simplified,j=t.hierarchy;f.nextGenProject=m,m&&j&&(f.issueTypeLevel=c.getIssueTypeLevel(j));var w="other";"software"===u&&(window.location.pathname.indexOf("roadmap")>-1?w="roadmap":window.location.pathname.indexOf("RapidBoard.jspa")>-1&&window.location.search.indexOf("view=planning")>-1||window.location.pathname.indexOf("backlog")>-1?w="backlog":(window.location.pathname.indexOf("RapidBoard.jspa")>-1||window.location.pathname.indexOf("board")>-1)&&(w="board")),f.location=w,r.isFeatureEnabled("jsd-add-request-type-to-global-create-analytics")&&"service_desk"===u&&(f.hasRequestType=l(i));var T={containerType:"project",containerId:n,source:"createIssueModal",objectType:"issue",objectId:p,actionSubject:"issue",action:"created",attributes:f};a.sendTrackEvent(T),d.trigger("legacyIssueCreated",T);var I=o.getApplication(u),b=o.getEdition(I);a.sendOperationalEvent({source:"ui",actionSubject:"ui",action:"taskSuccess",attributes:{task:"createIssue",isCreated:!0,application:I,edition:b,analyticsSource:"QuickCreateForm"}})}),y.asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:"Create issue"}).show()},l=function(e){var t=!1;return n.each(e,function(e,i){i&&i.hasOwnProperty("requestType")&&(t=!0)}),t},p=function(e){var s=n(e.target),r=s.is("a")?s:s.find("a"),o=r.attr("data-issueid");o=o||n("#fallback-subtask-dialog-issueid").data("issueid");var c={parentIssueId:o},d=t(c);n(d).on("dialogRendered",function(){a.sendPageEvent("createSubTaskModal")}),d.asDialog({windowTitle:function(){return i.getIssueActionTitle("Create Subtask")},trigger:document.createElement("a"),id:"create-subtask-dialog"}).show()};return{initIssueDialog:u,initSubtaskDialog:p}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'jira-agile-module/includes/js/rapid/Namespaces.js' */
"undefined"==typeof GH&&(window.GH={}),"undefined"==typeof GH.view&&(GH.view={}),"undefined"==typeof GH.view.model&&(GH.view.model={}),"undefined"==typeof GH.Global&&(GH.Global={}),"undefined"==typeof GH.Dialog&&(GH.Dialog={}),"undefined"==typeof GH.Dialogs&&(GH.Dialogs={}),"undefined"==typeof GH.State&&(GH.State={}),"undefined"==typeof GH.XBoard&&(GH.XBoard={}),"undefined"==typeof GH.RapidBoard&&(GH.RapidBoard={}),"undefined"==typeof GH.HelpPaths&&(GH.HelpPaths={}),"undefined"==typeof GH.JQLAutoComplete&&(GH.JQLAutoComplete={}),"undefined"==typeof GH.RapidBoard.Util&&(GH.RapidBoard.Util={}),"undefined"==typeof GH.NumberFormat&&(GH.NumberFormat={}),"undefined"==typeof GH.UrlFormat&&(GH.UrlFormat={}),AJS.format=function(e){var t=/'(?!')/g,n=/^\d+$/,r=/^(\d+),number$/,a=/^(\d+),choice,(.+)/,o=/^\s*(-?\d+)([#<])(.*)/,i=function(e,t){var i,f,d="";if(i=e.match(n))d=t.length>++e?t[e]:"";else if(i=e.match(r))f=GH.NumberFormat&&GH.NumberFormat.format||_.identity,d=t.length>++i[1]?f(t[i[1]]):"";else if(i=e.match(a)){var l=t.length>++i[1]?t[i[1]]:null;if(null!==l){for(var u=i[2].split("|"),p=null,G=0;G<u.length;G++){var H=u[G].match(o);if(!H){console.log("Bad formatting of message: "+e);break}var s=parseInt(H[1],10);if(l<s){if(p){d=p;break}d=H[3];break}if(l==s&&"#"==H[2]){d=H[3];break}G==u.length-1&&(d=H[3]),p=H[3]}var m=[d].concat(Array.prototype.slice.call(t,1));d=AJS.format.apply(AJS,m)}}return d},f=function(e){for(var t=!1,n=-1,r=0,a=0;a<e.length;a++){var o=e.charAt(a);if("'"==o&&(t=!t),!t)if("{"===o)0===r&&(n=a),r++;else if("}"===o&&r>0&&(r--,0===r)){var i=[];return i.push(e.substring(0,a+1)),i.push(e.substring(0,n)),i.push(e.substring(n+1,a)),i}}return null},d=function(e){for(var n=arguments,r="",a=f(e);a;)e=e.substring(a[0].length),r+=a[1].replace(t,""),r+=i(a[2],n),a=f(e);return r+=e.replace(t,"")};return d.apply(AJS,arguments)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'jira-agile-module/includes/js/rapid/ui/notification/Notification.js' */
!function(){var e=require("jira/util/top-same-origin-window"),i=function(){return e(window).document};AJS.namespace("GH.Notification"),GH.Notification.autoHideEnabled=!0;var t=Object.freeze({INFO:"info",SUCCESS:"success"});GH.Notification.showErrors=function(e,i){var t=GH.Notification.prepareNotificationDiv(),o=GH.tpl.rapid.notification.renderErrorMessages(e);"undefined"==typeof i&&(i=!0),AJS.messages.error(t,{title:"Error",body:o,closeable:i}),GH.Notification._divStyle(t)&&t.css(GH.Notification._divStyle(t)),t.show()},GH.Notification.showError=function(e,i,t){var o=GH.Notification.prepareNotificationDiv();"undefined"==typeof t&&(t=!0),AJS.messages.error(o,{title:e,body:i,closeable:t}),GH.Notification._divStyle(o)&&o.css(GH.Notification._divStyle(o)),o.show()},GH.Notification.showWarnings=function(e,i){var t={autoHide:!0,autoHideDelay:5e3,preRendered:!1,showTitle:!1};i=_.extend({},t,i);var o,a=GH.Notification.prepareNotificationDiv();o=i.preRendered?e:GH.tpl.rapid.notification.renderErrorMessages({errors:e});var n={body:o,closeable:!0};i.showTitle&&(n.title="Warning"),AJS.messages.warning(a,n),GH.Notification._divStyle(a)&&a.css(GH.Notification._divStyle(a)),a.show(),i.autoHide&&GH.Notification.autoHideEnabled&&setTimeout(function(){a.hide()},i.autoHideDelay)},GH.Notification.showWarning=function(e){var i=GH.Notification.prepareNotificationDiv();AJS.messages.warning(i,{body:e,closeable:!0}),GH.Notification._divStyle(i)&&i.css(GH.Notification._divStyle(i)),i.show()},GH.Notification.clear=function(){GH.Notification.prepareNotificationDiv().hide()},GH.Notification.handleDateFormatMismatchError=function(e){var i='<a href="'+GH.Ajax.CONTEXT_PATH+'/secure/admin/AdvancedApplicationProperties.jspa">';i+="Advanced Settings",i+="</a>";var t=AJS.format("It appears your Jira date format settings are misconfigured. Please check the {0} and ensure that \'\'jira.date.time.picker.java.format\'\' and \'\'jira.date.time.picker.javascript.format\'\' have matching output.",i);GH.Notification.showWarnings(t,{autoHide:!1,preRendered:!0})},GH.Notification.auiMessage=function(e){var i=_.extend({type:"generic",icon:!0,messageHtml:!1},e);return GH.tpl.rapid.notification.renderAuiMessage({type:i.type,title:i.title,icon:i.icon,messageHtml:i.messageHtml,message:i.message})},GH.Notification.Handler={_defaultNotificationHandler:function(){var e=AJS.$("<div/>").addClass("global-msg");return AJS.$(".global-msg",i()).remove(),AJS.$("body",i()).append(e),e},_defaultDivStyleHandler:function(e){return{marginLeft:-e.outerWidth()/2,top:20}},setCustomDivStyleHandler:function(e){this._customDivStyleHandler=e,this._useDefault=!1},_useDefault:!0,setCustomNotificationHandler:function(e){this._customNotificationHandler=e,this._useDefault=!1},removeCustomHandlers:function(){this._useDefault=!0},getNotificationHandler:function(){return this._useDefault||null==this._customNotificationHandler?this._defaultNotificationHandler:this._customNotificationHandler},getDivStyleHandler:function(){return this._useDefault||null==this._customDivStyleHandler?this._defaultDivStyleHandler:this._customDivStyleHandler}},GH.Notification._divStyle=function(e){var i=GH.Notification.Handler.getDivStyleHandler();return i(e)},GH.Notification.prepareNotificationDiv=function(){var e=GH.Notification.Handler.getNotificationHandler();return e()},GH.Notification.showSuccess=function(e,i){o(t.SUCCESS,e,i)},GH.Notification.showInfo=function(e,i){o(t.INFO,e,i)};var o=function(e,t,o){clearTimeout(GH.Notification.current);var a={timeout:5e3,closeable:!0,shadowed:!0};o=_.extend(a,o,{body:t});var n=GH.Notification.prepareNotificationDiv();AJS.messages[e](n,o),GH.Notification._divStyle(n)&&n.css(GH.Notification._divStyle(n)),n.show(),GH.Notification.autoHideEnabled&&(GH.Notification.current=setTimeout(function(){AJS.$(".global-msg",i()).hide()},o.timeout))};GH.Notification.showIssueMessage=function(e){var i=JIRA.SessionStorage,t=null,o=null;e||(e=i.getItem("selectedIssueId")),e&&(o=i.getItem("selectedIssueKey"),t=i.getItem("selectedIssueMsg"),GH.Notification.showIssueMessageImpl(e,t,o)),i.removeItem("selectedIssueId"),i.removeItem("selectedIssueKey"),i.removeItem("selectedIssueMsg")},GH.Notification.showIssueMessageImpl=function(e,i,t){i||(i="thanks_issue_updated");var o=AJS.params[i];o&&t&&(o=AJS.format(o,t),GH.Notification.showSuccess(o))},GH.Notification.addPageLoadMessage=function(e,i){var t=GH.storage.get("gh.pageloadmessages",!0)||[];t.push({message:e,type:i||"success"}),GH.storage.put("gh.pageloadmessages",t,!0)},GH.Notification._displayPageLoadMessages=function(){var e=GH.storage.get("gh.pageloadmessages",!0);if(e){var i=e[0].type,t="";switch(_.each(e,function(e){t.length>0&&(t+="<br>"),t+=e.message}),i){case"warning":GH.Notification.showWarning(t);break;case"success":default:GH.Notification.showSuccess(t)}GH.storage.put("gh.pageloadmessages",null,!0)}};var a=null;GH.Notification.showBoardUpdatedMessage=function(){var e=void 0,i=AJS.$.Deferred();if(0===AJS.$(".aui-flag[aria-hidden=false]").length){var t=GH.tpl.rapid.notification.renderGHtvMessage({showIgnore:!1});a=AJS.flag({type:"info",body:t}),e=AJS.$(t)}var o=function(e){e.preventDefault(),GH.Notification.clearBoardUpdatedMessage(),i.resolve()};return AJS.$(".js-refresh-now").off("click",o).click(o),i.promise()},GH.Notification.clearBoardUpdatedMessage=function(){a&&a.close()},GH.Notification.isBoardUpdatedMessageVisible=function(){var e=AJS.$("#ghx-update-message");return e.length>0},AJS.$(document).ready(function(){GH.Notification.showIssueMessage(),GH.storage&&GH.Notification._displayPageLoadMessages()})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'jira-agile-module/includes/js/rapid/ui/notification/Notification.soy' */
// This file was automatically generated from Notification.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.notification.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.notification == 'undefined') { GH.tpl.rapid.notification = {}; }


GH.tpl.rapid.notification.renderErrorMessages = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length > 1) {
    output += '<ul>';
    var errorList6 = opt_data.errors;
    var errorListLen6 = errorList6.length;
    for (var errorIndex6 = 0; errorIndex6 < errorListLen6; errorIndex6++) {
      var errorData6 = errorList6[errorIndex6];
      output += '<li>' + ((errorData6.noAutoescape) ? soy.$$filterNoAutoescape(errorData6.message) : soy.$$escapeHtml(errorData6.message)) + '</li>';
    }
    output += '</ul>';
  } else {
    var errorList18 = opt_data.errors;
    var errorListLen18 = errorList18.length;
    for (var errorIndex18 = 0; errorIndex18 < errorListLen18; errorIndex18++) {
      var errorData18 = errorList18[errorIndex18];
      output += '<p>' + ((errorData18.noAutoescape) ? soy.$$filterNoAutoescape(errorData18.message) : soy.$$escapeHtml(errorData18.message)) + '</p>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderErrorMessages.soyTemplateName = 'GH.tpl.rapid.notification.renderErrorMessages';
}


GH.tpl.rapid.notification.renderContextualErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList29 = opt_data.errors;
  var errorListLen29 = errorList29.length;
  for (var errorIndex29 = 0; errorIndex29 < errorListLen29; errorIndex29++) {
    var errorData29 = errorList29[errorIndex29];
    output += '<div class="ghx-error">' + soy.$$escapeHtml(errorData29.message) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderContextualErrors.soyTemplateName = 'GH.tpl.rapid.notification.renderContextualErrors';
}


GH.tpl.rapid.notification.renderMessageHolder = function(opt_data, opt_ignored) {
  return '<div class="ghx-body-warning">' + soy.$$escapeHtml(AJS.format('This version of {0} is not a supported browser.',opt_data.browser)) + ' <a href="' + soy.$$escapeHtml(opt_data.docsUrl) + '">' + soy.$$escapeHtml('See our documentation for the list of supported browsers.') + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderMessageHolder.soyTemplateName = 'GH.tpl.rapid.notification.renderMessageHolder';
}


GH.tpl.rapid.notification.renderAuiMessage = function(opt_data, opt_ignored) {
  return '<div id="ghx-global-message" class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ((opt_data.className) ? ' ' + soy.$$escapeHtml(opt_data.className) : '') + '">' + ((opt_data.title) ? '<p class="title">' + ((opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' : '') + ((opt_data.message) ? '<p>' + ((! opt_data.title && opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + ((opt_data.messageHtml) ? soy.$$filterNoAutoescape(opt_data.message) : soy.$$escapeHtml(opt_data.message)) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderAuiMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderAuiMessage';
}


GH.tpl.rapid.notification.renderGHtvMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div id="ghx-update-message" class="ghx-tv-message"><p>' + soy.$$escapeHtml('This board has been updated') + ': <a href="" class="js-refresh-now">' + soy.$$escapeHtml('Refresh') + '</a>' + ((opt_data.showIgnore) ? '<span class="ghx-divider">&bull;</span><a href="" class="js-ignore-refresh">' + soy.$$escapeHtml('Ignore') + '</a>' : '') + '</p></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderGHtvMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderGHtvMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'jira-agile-module/includes/js/rapid/Ajax.js' */
define("jira-agile/rapid/ajax",["jira/util/top-same-origin-window"],function(e){"use strict";var r={};return r.CONTEXT_PATH=AJS.contextPath(),r.REST_URL_BASE="/rest/greenhopper/1.0",r.PUBLIC_REST_URL_BASE="/rest/agile/1.0",r.xhrRegistery={},r.stallTimeout=300,r.get=function(e,t){AJS.$.extend(e,{type:"GET",headers:{"X-Atlassian-GreenHopper-Gadget":!_.isUndefined(GH.gadget)}});var n=r._executeGet(e,t);return n.pipe(function(e,r,t){return AJS.$.Deferred().resolveWith(this,[e.success,r,t])})},r.post=function(e){return e=r._getSettings(e,!0),AJS.$.extend(e,{type:"POST",contentType:"application/json"}),r._executeStore(e)},r.put=function(e){return e=r._getSettings(e,!0),e.type="PUT",r._executeStore(e)},r.del=function(e){return e=r._getSettings(e,!0),e.type="DELETE",r._executeStore(e)},r._getSettings=function(e,t){return!e.bareUrl&&e.url&&(e.bareUrl=r.buildRestUrl(e.url)),e.bareUrl&&(e.url=e.bareUrl),e.dataType||(e.dataType="json"),e.data&&t&&(e.data=JSON.stringify(e.data)),e.contentType="application/json",e},r._getXhrData=function(e){var t={timestamp:0};return e&&(t=r.xhrRegistery[e]?r.xhrRegistery[e]:r.xhrRegistery[e]=t),t},r._executeGet=function(e,t){e=r._getSettings(e);var n=r._getXhrData(t);n.xhr&&(n.xhr.abort(),delete n.xhr,delete n.xhrAbort,delete n.timeoutId);var o=n.timestamp;if(n.timestamp=(new Date).getTime(),n.timestamp-o<r.stallTimeout){var s,a=AJS.$.Deferred(),u=function(){s=r._executeGet(e,t),s.then(a.resolve,a.reject)};n.timeoutId=window.setTimeout(u,r.stallTimeout),n.xhr=a.promise(),n.xhr.abort=function(){s?s.abort.apply(s,arguments):clearTimeout(n.timeoutId)}}else n.xhr=r.makeRequest(e);return n.xhrAbort=n.xhr.abort,n.xhr.abort=function(){var e=n.xhr,r=n.xhrAbort;if(e&&r)return r.apply(e,arguments)},n.xhr.done(function(){n.xhr&&delete n.xhr}).fail(function(){n.xhr&&delete n.xhr}),n.xhr},r._executeStore=function(e){if(e=e||{},e.data&&"string"==typeof e.data&&/\?\?/.test(e.data)){var t="\\u003F\\u003F";e.data=e.data.replace(/\?\?/g,t)}return e.dataType="json",r.makeRequest(e)},r.makeRequest=function(e){var t=AJS.$.Deferred();e=_.extend(e,{success:function(){t.resolveWith(this,arguments)},error:function(){t.rejectWith(this,arguments)}});var n=t.promise(JIRA.SmartAjax.makeRequest(e)),o=n.abort;n.abort=function(e){return n.abortMarker="timeout"!==e,o.apply(n,arguments)};var s=n.pipe(r._generateDoneInterceptor(),r._generateFailInterceptor(e.errorsNoAutoEscape));return e.deferErrorHandling||s.fail(r._generateErrorHandler(e.onGlobalError,e.errorContextMap,e.contextualErrorRenderer,e.globalErrorDismissable)),s},r._generateDoneInterceptor=function(){return function(e,t,n){return e=e||{},e=r._createExtendedResult(e),r.matchesCurrentUser(n)?e.isSuccess()?AJS.$.Deferred().resolveWith(this,[e,t,n]):AJS.$.Deferred().rejectWith(this,[e,n,t,null]):r._handleCurrentUserChanged(n)}},r._generateFailInterceptor=function(e){return function(t,n,o){if(t.abortMarker)return AJS.$.Deferred();if(!r.matchesCurrentUser(t))return r._handleCurrentUserChanged(t);var s={},a=null;if(t.responseText)try{s=JSON.parse(t.responseText)}catch(u){}return s.errors||s.errorMessages?a=r._convertJiraErrors(s,e):s.message&&(a=r._convertFrameworkErrors(s)),a||(a=r._convertGenericErrors(t,o)),AJS.$.Deferred().rejectWith(this,[a,t,n,o])}},r.handleContextualErrors=function(e,r,t){return r=r||{},!!e.hasContextualErrors()&&(AJS.$(e.getContextualErrors()).each(function(n,o){var s=r[o.contextId];if(s)if(AJS.$.isFunction(s))s(o,e);else{s=AJS.$(s),s.siblings(".ghx-error").remove();var a;a=t?t(o):GH.tpl.rapid.notification.renderContextualErrors({errors:o.errors}),s.after(a)}else AJS.$(o.errors).each(function(r,t){e.addGlobalError(t)})}),!0)},r.handleGlobalErrors=function(e,r,t){return!!e.hasGlobalErrors()&&(GH.Notification.showErrors({errors:e.getGlobalErrors()},t),r&&r instanceof Function&&r(e),!0)},r.buildRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),r.buildBareRestUrl(r.REST_URL_BASE+e)},r.buildPublicRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),r.buildBareRestUrl(r.PUBLIC_REST_URL_BASE+e)},r.buildBareRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),r.CONTEXT_PATH+e},r._createExtendedResult=function(e){return e?r._extendResult({success:e}):r._extendResult({success:!0})},r._extendResult=function(e){return AJS.$.extend(e,{getGlobalErrors:function(){return e.error?e.error.errors:null},getContextualErrors:function(){return e.error?e.error.contextualErrors:null},hasGlobalErrors:function(){return e.error&&e.error.errors&&e.error.errors.length>0},hasContextualErrors:function(){return e.error&&e.error.contextualErrors},addGlobalError:function(r){e.error||(e.error={}),e.error.errors||(e.error.errors=[]),e.error.errors[e.error.errors.length]=r},getSuccessObject:function(){return e.success},isSuccess:function(){return!e.error}})},r._generateErrorHandler=function(e,t,n,o){return function(s){r.handleContextualErrors(s,t,n),r.handleGlobalErrors(s,e,o)}},r._convertJiraErrors=function(e,t){var n=e.errorMessages?e.errorMessages:[];n=_.map(n,function(e){return{message:e,noAutoescape:t}});var o=e.errors?e.errors:{};o=_.map(o,function(e,r){return{contextId:r,errors:[{message:e,noAutoescape:t}]}});var s={error:{errors:n,contextualErrors:o}};return r._extendResult(s)},r._convertFrameworkErrors=function(e){var t={error:{errors:[{message:e.message}],contextualErrors:[]}};return r._extendResult(t)},r._convertGenericErrors=function(e,t){var n=r._extendResult({});return 0===e.status&&"abort"===t?n.addGlobalError({message:"Ajax.error.timeout"}):t&&n.addGlobalError({message:t}),n},r._hasUsernameResponseHeader=function(e){return!!e.getResponseHeader("X-AUSERNAME")},r._hasUserAccountIdResponseHeader=function(e){return!!e.getResponseHeader("X-AACCOUNTID")},r._getUserForResponse=function(e){return e.getResponseHeader("X-AUSERNAME")?decodeURIComponent(e.getResponseHeader("X-AUSERNAME")):"anonymous"},r._getAccountIdForResponse=function(e){return e.getResponseHeader("X-AACCOUNTID")?decodeURIComponent(e.getResponseHeader("X-AACCOUNTID")):"anonymous"},function(){var e=require("jira/util/data/meta");r.getUserFromAJS=function(){var r=e.get("remote-user");return r?r:"anonymous"},r.getAccountIdFromAJS=function(){var r=e.get("atlassian-account-id");return r?r:"anonymous"}}(),r.matchesCurrentUser=function(e){return!e.getResponseHeader||!e.getAllResponseHeaders||!r._hasUserAccountIdResponseHeader(e)||r.getAccountIdFromAJS()===r._getAccountIdForResponse(e)||204===e.status&&!e.getAllResponseHeaders()&&AJS.$.browser.msie},r._handleCurrentUserChanged=function(t){var n=(r.getUserFromAJS(),r._getUserForResponse(t),r.getAccountIdFromAJS()),o=r._getAccountIdForResponse(t),s="anonymous"!==n&&"anonymous"===o;if(s){var a=GH.Navigation.getLoginUrl();require("jira/container-api").navigate(a,function(){location.href=a})}else e(window).location.reload();return AJS.$.Deferred()},r});;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'jira-agile-module/includes/js/viewissue/QuickCreateIssueInEpic.js' */
!function(){GH.QuickCreateIssueInEpic={},GH.QuickCreateIssueInEpic.epicKey=null,GH.QuickCreateIssueInEpic.epicName=null;var e=require("jira-agile/rapid/ajax");GH.QuickCreateIssueInEpic.init=function(){JIRA.unbind("QuickCreateIssueInEpic.sessionComplete"),JIRA.bind("QuickCreateIssueInEpic.sessionComplete",function(e,i){AJS.$(document).unbind(JIRA.EpicPicker.READY_EVENT),GH.QuickCreateIssueInEpic.handleIssuesCreated(i)})},GH.QuickCreateIssueInEpic.createQuickCreateIssueForEpicDialog=function(){if(GH.QuickCreateIssueInEpic.epicKey=AJS.$("#ghx-epic-key").text(),GH.QuickCreateIssueInEpic.epicName=AJS.$("#ghx-epic-name").text(),"true"==AJS.$("#ghx-hide-table").text()){var e=AJS.$("#ghx-issues-in-epic-table");e.addClass("hidden")}var i=new JIRA.Forms.Container(function(){var e={title:AJS.format("Create issue in epic : {0}",GH.QuickCreateIssueInEpic.epicKey),id:"create-issue-in-epic-form",globalEventNamespaces:["QuickCreateIssueInEpic"]},i=new JIRA.Forms.CreateIssueModel({projectId:e.pid,issueType:e.issueType}),s=new JIRA.Forms.ConfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces}),n=new JIRA.Forms.UnconfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces});return{globalEventNamespaces:e.globalEventNamespaces,model:i,errorHandler:new JIRA.Forms.CreateIssueError,configurableForm:s,unconfigurableForm:n}});i.bind("contentRefreshed",function(){AJS.$(document).unbind("QuickCreateIssueInEpic.validationError"),AJS.$(document).unbind(JIRA.EpicPicker.READY_EVENT),AJS.$(document).bind(JIRA.EpicPicker.READY_EVENT,function(e,i){i.setSelection(new AJS.ItemDescriptor({value:"key:"+GH.QuickCreateIssueInEpic.epicKey,label:GH.QuickCreateIssueInEpic.epicName})),setTimeout(function(){i.disable()},0),AJS.$(document).bind("QuickCreateIssueInEpic.validationError",function(e){i.disable()})})});var s=i.asDialog({windowTitle:AJS.format("Create issue in epic : {0}",GH.QuickCreateIssueInEpic.epicKey),id:"create-issue-dialog"});return s.bind("Dialog.hide",function(){AJS.$(document).unbind(JIRA.EpicPicker.READY_EVENT),AJS.$(document).unbind("QuickCreateIssueInEpic.validationError")}),s},GH.QuickCreateIssueInEpic.handleIssuesCreated=function(e){var i=_.pluck(e,"issueKey");GH.QuickCreateIssueInEpic.addIssuesToEpic(e).done(function(){GH.QuickCreateIssueInEpic.refreshIssuesInEpicTable(i)})},GH.QuickCreateIssueInEpic.addIssuesToEpic=function(i){var s=_.pluck(i,"issueKey"),n={ignoreEpics:!0,issueKeys:s};return e.put({url:"/epics/"+GH.QuickCreateIssueInEpic.epicKey+"/add",data:n})},GH.QuickCreateIssueInEpic.refreshIssuesInEpicTable=function(e){var i=AJS.$("#greenhopper-epics-issue-web-panel");i.addClass("updating"),AJS.$.ajax({url:contextPath+"/secure/ViewIssuesInEpic.jspa?epicKey="+GH.QuickCreateIssueInEpic.epicKey+"&decorator=none"}).done(function(s){i.find(".mod-content").html(s),JIRA.Dropdowns.bindIssueActionsDds(i),AJS.$.each(e,function(e,s){i.find(".issuerow[data-issuekey='"+s+"']").fadeInBackground()});var n=AJS.$("#ghx-issues-in-epic-table"),t="true"==AJS.$("#ghx-hide-table").text();t?n.addClass("hidden"):(AJS.$("#ghx-issues-in-epic-empty-message").remove(),n.removeClass("hidden"));var c=i.find(".issuerow").length;i.find(".toggle-title").text(AJS.format("{0,choice,0#{0} Issues|1#{0} Issue|1\u003c{0} Issues} in this epic",c)),i.removeClass("updating")})},AJS.$(function(){var e=require("jira/util/events/types");GH.QuickCreateIssueInEpic.init(),JIRA.bind(e.NEW_CONTENT_ADDED,function(e,i,s){s===JIRA.CONTENT_ADDED_REASON.pageLoad&&GH.QuickCreateIssueInEpic.init()}),AJS.$(document).undelegate("#gh-create-issue-in-epic-lnk","click"),AJS.$(document).delegate("#gh-create-issue-in-epic-lnk","click",function(e){var i=GH.QuickCreateIssueInEpic.createQuickCreateIssueForEpicDialog();i.show(),e.preventDefault()})})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-agile-issue-web-panel-resources', location = 'jira-agile-module/includes/js/viewissue/agile-panel-analytics.js' */
!function(i){var r={initialise:function(){var r;try{r=require("jira/components/analytics-tracker/tracker")}catch(e){}if("undefined"!=typeof r){var a=i("body");a.on("click",".issueaction-greenhopper-rapidboard-operation.js-rapidboard-operation-issue",function(i){r.trackEvent("viewissue.agile.viewonboard","click")}),a.on("click",".js-select-rapidboard",function(e){var a=i(".js-select-rapidboard").data("board-id"),n=i(".js-select-rapidboard").data("sprint-id");r.trackEvent("viewissue.agile.selectboard","click",{boardId:a,sprintId:n})}),a.on("click",".issueaction-greenhopper-rapidboard-operation.js-rapidboard-activesprints-link",function(e){var a=i(".issueaction-greenhopper-rapidboard-operation.js-rapidboard-activesprints-link").data("sprint-id");r.trackEvent("viewissue.agile.active.sprint","click",{sprintId:a})}),a.on("click",".issueaction-greenhopper-rapidboard-operation.js-rapidboard-completedsprints-link",function(e){var a=i(".issueaction-greenhopper-rapidboard-operation.js-rapidboard-completedsprints-link").data("sprint-id");r.trackEvent("viewissue.agile.completed.sprint","click",{sprintId:a})}),a.on("click",".issueaction-greenhopper-rapidboard-operation.js-rapidboard-futuresprints-link",function(e){var a=i(".issueaction-greenhopper-rapidboard-operation.js-rapidboard-futuresprints-link").data("sprint-id");r.trackEvent("viewissue.agile.future.sprint","click",{sprintId:a})})}}};return i(document).ready(function(){var e=i.Deferred();return e.done(r.initialise()),e}),r}(require("jquery"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:underscore', location = 'workflow-designer-module/js/lib/underscore-adapter.js' */
define("workflow-designer/underscore",["underscore"],function(e){return e});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-loader', location = 'workflow-designer-module/js/require.js' */
define("workflow-designer/application-loader",["wrm/require","require"],function(r,e){return{load:function(i){return r(["wrc!com.atlassian.jira.plugins.jira-workflow-designer.workflow-designer"],function(){i&&i(e("workflow-designer/application"))})}}}),AJS.namespace("JIRA.WorkflowDesigner.require",null,require("workflow-designer/application-loader").load);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-templates', location = 'workflow-designer-module/js/templates-amd.js' */
define("workflow-designer/templates",[],function(){return AJS.namespace("JIRA.WorkflowDesigner.Templates"),JIRA.WorkflowDesigner.Templates});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'workflow-designer-module/js/util/DialogSizeCalculator.js' */
define("workflow-designer/dialog-size-calculator",["workflow-designer/underscore","jquery"],function(i,t){return{DISTANCE_FROM_EDGE:100,calculateDialogSize:function(t,e){return this.dialog=t,e=i.defaults(e||{},{windowHeight:this._getWindowHeight(),windowWidth:this._getWindowWidth(),dialogHeaderHeight:this._getDialogHeaderHeight(),dialogFooterHeight:this._getDialogFooterHeight()}),{height:this._calculateDialogHeight(e.windowHeight,e.dialogHeaderHeight,e.dialogFooterHeight),width:this._calculateDialogWidth(e.windowWidth)}},_calculateDialogHeight:function(i,t,e){return i-t-e-2*this.DISTANCE_FROM_EDGE},_calculateDialogWidth:function(i){return i-2*this.DISTANCE_FROM_EDGE},_getWindowHeight:function(){return t(window).height()},_getWindowWidth:function(){return t(window).width()},_getDialogHeaderHeight:function(){return this.dialog.$popupHeading.outerHeight()},_getDialogFooterHeight:function(){return this.dialog.$buttonContainer.outerHeight()}}}),AJS.namespace("JIRA.WorkflowDesigner.DialogSizeCalculator",null,require("workflow-designer/dialog-size-calculator"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'workflow-designer-module/js/views/dialogs/Dialog.js' */
define("workflow-designer/dialog",["workflow-designer/dialog-size-calculator","jira/dialog/form-dialog","workflow-designer/application-loader","workflow-designer/templates","jira/dialog/dialog","workflow-designer/underscore","jquery"],function(i,o,e,t,n,s,r){return o.extend({init:function(i){s.bindAll(this,"_sizeAndPositionDialog"),i=s.defaults({},i,{content:this.createDialogContent,isDraft:!1,onContentRefresh:this._showWorkflowDesigner,widthClass:"large",useReadyForInteractionMetric:!0}),this.options=i,this.sizeAndPositionDialog=s.throttle(this._sizeAndPositionDialog,100),this._super(i),this.onContentReady(this._addLabelHint)},createDialogContent:function(i){i(t.Dialog.workflowDialog({title:s.result(this.options,"workflowId")}))},show:function(){this._super.apply(this,arguments),r(window).on("resize",this.sizeAndPositionDialog)},hide:function(){this._designer&&(this._designer.off("loaded",this._onDesignerLoaded,this),this._designer.destroy()),this._super.apply(this,arguments),r(window).off("resize",this.sizeAndPositionDialog)},_sizeAndPositionDialog:function(){var o,e;n.current===this&&(e=i.calculateDialogSize(this),this.options.width=e.width,o=this.$popup.find(".form-body"),o.css({height:e.height,maxHeight:""}),this._positionInCenter())},_showWorkflowDesigner:function(){var i=this;this._sizeAndPositionDialog(),e.load(function(o){i.isCurrent()&&(i._designer=new o({actions:!1,element:i.get$popup().find(".form-body"),immutable:!0,draft:s.result(i.options,"isDraft"),layoutData:s.result(i.options,"layoutData"),workflowId:s.result(i.options,"workflowId"),currentStepId:s.result(i.options,"currentStepId")}),i.options.useReadyForInteractionMetric&&i._designer.on("loaded",i._onDesignerLoaded,i))})},_onDesignerLoaded:function(){r(document).trigger("dialogContentReadyForInteraction",[this])},_addLabelHint:function(){this.getButtonsContainer().prepend(t.Dialog.labelMouseOverHint())}})}),AJS.namespace("JIRA.WorkflowDesigner.Dialog",null,require("workflow-designer/dialog"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'workflow-designer-module/soy/Dialog.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.WorkflowDesigner&&(JIRA.WorkflowDesigner={}),"undefined"==typeof JIRA.WorkflowDesigner.Templates&&(JIRA.WorkflowDesigner.Templates={}),"undefined"==typeof JIRA.WorkflowDesigner.Templates.Dialog&&(JIRA.WorkflowDesigner.Templates.Dialog={}),JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog=function(e,o){return'<div class="aui-dialog-content"><h2 class="dialog-title">'+soy.$$escapeHtml(e.title)+'</h2><div class="form-body"></div></div>'},JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint=function(e,o){return'<div class="buttons-container-left"><small>'+soy.$$escapeHtml("Mouse over objects to see transition names.")+"</small></div>"};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-browser-is-supported', location = 'workflow-designer-module/js/browserIsSupported.js' */
define("workflow-designer/browser-support",["jira/util/navigator"],function(r){return{browserIsSupported:function(){return!(r.isIE()&&parseInt(r.majorVersion(),10)<10)}}}),AJS.namespace("JIRA.WorkflowDesigner.browserIsSupported",null,require("workflow-designer/browser-support").browserIsSupported);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:view-issue-page-workflow-designer', location = 'workflow-designer-module/js/views/ViewIssue.js' */
!function(){"use strict";function e(){n=require("workflow-designer/io/workflow-data-reader"),i=require("workflow-designer/io/ajax/workflow-ajax-manager"),t=require("workflow-designer/messages")}function r(e,r){var o=parseUri(e).queryKey[r]||"";return decodeURIComponent(o.replace(/\+/g,"%20"))}function o(){var e;return l?c.Deferred().resolve(l).promise():(e=i.load(w),e.done(function(e,r){l=r}),e)}var n,i,t,a,l,s,w,u=require("workflow-designer/application-loader"),f=require("workflow-designer/dialog"),c=require("jquery"),d=require("jira/skate");s=new f({content:function(r){var n=this;u.load().pipe(e).pipe(o).done(function(){n.createDialogContent(r)}).fail(function(e){e=e||"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.",t.showErrorMessage(e),s.hide(!0)})},id:"view-workflow-dialog",workflowId:function(){return w},currentStepId:function(){return a},layoutData:function(){return n.read(l)}});var p=d.type?d.type.CLASSNAME:d.types.CLASS;d("jira-workflow-designer-link",{type:p,created:function(e){var r=this instanceof Element?this:e;r.classList.add("new-workflow-designer")},attached:function(e){var o=this instanceof Element?this:e,n=o.getAttribute("href");w=r(n,"workflowName"),a=parseInt(r(n,"stepId"),10),l=null},events:{click:function(e,r){s&&s.show(),r.preventDefault()}}}),define("workflow-designer/view-classic-project-workflow",["jira/util/events","jira/analytics/web-client"],function(e,r){function o(e,o,n){"view-workflow-dialog"===n.options.id&&r.sendScreenEvent("classicViewWorkflowDialog",null,{})}function n(){e.bind("Dialog.show",o),i=!0}var i=!1;return{showDialog:function(e,r){i||n(),e!==w&&(l=null),w=e,a=r,s&&s.show()}}})}(),AJS.namespace("JIRA.WorkflowDesigner.ViewIssue.replaceViewWorkflowLink",null,jQuery.noop),AJS.namespace("JIRA.WorkflowDesigner.Templates.ViewIssue.viewWorkflowLink",null,jQuery.noop);;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/rpc.js' */
var gadgets=gadgets||{};gadgets.rpc=function(){var CALLBACK_NAME="__cb";var DEFAULT_NAME="";var FE_G2C_CHANNEL="__g2c_rpc";var FE_C2G_CHANNEL="__c2g_rpc";var services={};var iframePool=[];var relayUrl={};var useLegacyProtocol={};var authToken={};var callId=0;var callbacks={};var setup={};var sameDomain={};var params={};if(gadgets.util){params=gadgets.util.getUrlParameters()}authToken[".."]=params.rpctoken||params.ifpctok||0;function getRelayChannel(){return typeof window.postMessage==="function"?"wpm":typeof document.postMessage==="function"?"dpm":navigator.product==="Gecko"?"fe":"ifpc"}function setupChannel(){if(relayChannel==="dpm"||relayChannel==="wpm"){window.addEventListener("message",function(packet){try{if(packet&&packet.origin&&packet.origin!=="null"&&typeof packet.data==="string"){if(!isRpcRequest(gadgets.json.parse(packet.data))){return }if(packet.origin===location.origin){process(gadgets.json.parse(packet.data))}else{AJS.$.get(AJS.contextPath()+"/rest/whitelist/1/check",{url:packet.origin}).done(function(result){if(result&&result.inbound&&result.inbound===true){process(gadgets.json.parse(packet.data))}else{if(AJS.debug){AJS.log("RPC: request rejected (bad origin): "+(packet&&packet.origin?packet.origin:"undefined origin"))}}}).fail(function(jqXHR,textStatus,errorThrown){AJS.log("RPC: REST "+textStatus,errorThrown)})}}}catch(e){if(AJS.debug){var origin=packet&&packet.origin?packet.origin:"undefined origin";AJS.log("Error processing gadget rpc message from '"+origin+"': "+e)}}},false)}}var relayChannel=getRelayChannel();setupChannel();services[DEFAULT_NAME]=function(){throw new Error("Unknown RPC service: "+this.s)};services[CALLBACK_NAME]=function(callbackId,result){var callback=callbacks[callbackId];if(callback){delete callbacks[callbackId];callback(result)}};function setupFrame(frameId){if(setup[frameId]){return }if(relayChannel==="fe"){try{var frame=document.getElementById(frameId);frame[FE_G2C_CHANNEL]=function(args){process(gadgets.json.parse(args))}}catch(e){}}setup[frameId]=true}function encodeLegacyData(args){var stringify=gadgets.json.stringify;var argsEscaped=[];for(var i=0,j=args.length;i<j;++i){argsEscaped.push(encodeURIComponent(stringify(args[i])))}return argsEscaped.join("&")}function isRpcRequest(request){return request&&typeof request.s==="string"&&typeof request.f==="string"&&request.a instanceof Array}function process(rpc){if(isRpcRequest(rpc)){if(authToken[rpc.f]){if(authToken[rpc.f]!=rpc.t){if(AJS.debug){console.log("Invalid auth token received for operation: "+rpc.s)}return }}if(rpc.c){rpc.callback=function(result){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}var result=(services[rpc.s]||services[DEFAULT_NAME]).apply(rpc,rpc.a);if(rpc.c&&typeof result!="undefined"){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}}function callFrameElement(targetId,serviceName,from,rpcData,callArgs){try{if(from!=".."){var fe=window.frameElement;if(typeof fe[FE_G2C_CHANNEL]==="function"){if(typeof fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]!=="function"){fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]=function(args){process(gadgets.json.parse(args))}}fe[FE_G2C_CHANNEL](rpcData);return }}else{var frame=document.getElementById(targetId);if(typeof frame[FE_G2C_CHANNEL]==="function"&&typeof frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL]==="function"){frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL](rpcData);return }}}catch(e){}callIfpc(targetId,serviceName,from,rpcData,callArgs)}function callIfpc(targetId,serviceName,from,rpcData,callArgs){var relay=gadgets.rpc.getRelayUrl(targetId);if(!relay){throw new Error("No relay file assigned for IFPC")}var src=null;if(useLegacyProtocol[targetId]){src=[relay,"#",encodeLegacyData([from,callId,1,0,encodeLegacyData([from,serviceName,"","",from].concat(callArgs))])].join("")}else{src=[relay,"#",targetId,"&",from,"@",callId,"&1&0&",encodeURIComponent(rpcData)].join("")}emitInvisibleIframe(src)}function emitInvisibleIframe(src){var iframe;for(var i=iframePool.length-1;i>=0;--i){var ifr=iframePool[i];try{if(ifr&&(ifr.recyclable||ifr.readyState==="complete")){ifr.parentNode.removeChild(ifr);if(window.ActiveXObject){iframePool[i]=ifr=null;iframePool.splice(i,1)}else{ifr.recyclable=false;iframe=ifr;break}}}catch(e){}}if(!iframe){iframe=document.createElement("iframe");iframe.style.border=iframe.style.width=iframe.style.height="0px";iframe.style.visibility="hidden";iframe.style.position="absolute";iframe.onload=function(){this.recyclable=true};iframePool.push(iframe)}iframe.src=src;setTimeout(function(){document.body.appendChild(iframe)},0)}function callSameDomain(target,rpc){if(typeof sameDomain[target]==="undefined"){sameDomain[target]=false;var targetEl=null;if(target===".."){targetEl=parent}else{targetEl=frames[target]}try{sameDomain[target]=targetEl.gadgets.rpc.receiveSameDomain}catch(e){}}if(typeof sameDomain[target]==="function"){sameDomain[target](rpc);return true}return false}if(gadgets.config){function init(config){if(config.rpc.parentRelayUrl.substring(0,7)==="http://"){relayUrl[".."]=config.rpc.parentRelayUrl}else{var params=document.location.search.substring(0).split("&");var parentParam="";for(var i=0,param;param=params[i];++i){if(param.indexOf("parent=")===0){parentParam=decodeURIComponent(param.substring(7));break}}relayUrl[".."]=parentParam+config.rpc.parentRelayUrl}useLegacyProtocol[".."]=!!config.rpc.useLegacyProtocol}var requiredConfig={parentRelayUrl:gadgets.config.NonEmptyStringValidator};gadgets.config.register("rpc",requiredConfig,init)}return{register:function(serviceName,handler){if(serviceName==CALLBACK_NAME){throw new Error("Cannot overwrite callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot overwrite default service:"+" use registerDefault")}services[serviceName]=handler},unregister:function(serviceName){if(serviceName==CALLBACK_NAME){throw new Error("Cannot delete callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot delete default service:"+" use unregisterDefault")}delete services[serviceName]},registerDefault:function(handler){services[""]=handler},unregisterDefault:function(){delete services[""]},call:function(targetId,serviceName,callback,var_args){++callId;targetId=targetId||"..";if(callback){callbacks[callId]=callback}var from="..";if(targetId===".."){from=window.name}var rpc={s:serviceName,f:from,c:callback?callId:0,a:Array.prototype.slice.call(arguments,3),t:authToken[targetId]};if(callSameDomain(targetId,rpc)){return }var rpcData=gadgets.json.stringify(rpc);var channelType=relayChannel;if(useLegacyProtocol[targetId]){channelType="ifpc"}switch(channelType){case"dpm":var targetDoc=targetId===".."?parent.document:frames[targetId].document;targetDoc.postMessage(rpcData);break;case"wpm":var targetWin=targetId===".."?parent:frames[targetId];targetWin.postMessage(rpcData,relayUrl[targetId]);break;case"fe":callFrameElement(targetId,serviceName,from,rpcData,rpc.a);break;default:callIfpc(targetId,serviceName,from,rpcData,rpc.a);break}},getRelayUrl:function(targetId){return relayUrl[targetId]},setRelayUrl:function(targetId,url,opt_useLegacy){relayUrl[targetId]=url;useLegacyProtocol[targetId]=!!opt_useLegacy},setAuthToken:function(targetId,token){authToken[targetId]=token;setupFrame(targetId)},getRelayChannel:function(){return relayChannel},receive:function(fragment){if(fragment.length>4){process(gadgets.json.parse(decodeURIComponent(fragment[fragment.length-1])))}},receiveSameDomain:function(rpc){rpc.a=Array.prototype.slice.call(rpc.a);window.setTimeout(function(){process(rpc)},0)}}}();;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/util.js' */
Function.prototype.inherits=function(parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;this.superClass_=parentCtor.prototype;this.prototype=new tempCtor();this.prototype.constructor=this};;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/json.js' */
var gadgets=gadgets||{};gadgets.json=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",f(this.getUTCMonth()+1),"-",f(this.getUTCDate()),"T",f(this.getUTCHours()),":",f(this.getUTCMinutes()),":",f(this.getUTCSeconds()),"Z"].join("")};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}a=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i])||"null")}return"["+a.join(",")+"]"}for(k in value){if(value.hasOwnProperty(k)){if(typeof k==="string"){v=stringify(value[k]);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text){if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return eval("("+text+")")}return false}}}();;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/gadgets-core.js' */
var gadgets=gadgets||{};gadgets.error={};gadgets.error.SUBCLASS_RESPONSIBILITY="subclass responsibility";gadgets.error.TO_BE_DONE="to be done";gadgets.log=function(message){if(window.console&&console.log){console.log(message)}else{var logEntry=document.createElement("div");logEntry.className="gadgets-log-entry";logEntry.innerHTML=message;document.body.appendChild(logEntry)}};gadgets.Extensible=function(){};gadgets.Extensible.prototype.setDependencies=function(dependencies){for(var p in dependencies){this[p]=dependencies[p]}};gadgets.Extensible.prototype.getDependencies=function(name){return this[name]};gadgets.UserPrefStore=function(){};gadgets.UserPrefStore.prototype.getPrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.UserPrefStore.prototype.savePrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.DefaultUserPrefStore=function(){gadgets.UserPrefStore.call(this)};gadgets.DefaultUserPrefStore.inherits(gadgets.UserPrefStore);gadgets.DefaultUserPrefStore.prototype.getPrefs=function(gadget){};gadgets.DefaultUserPrefStore.prototype.savePrefs=function(gadget){};gadgets.GadgetService=function(){};gadgets.GadgetService.prototype.setHeight=function(elementId,height){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setTitle=function(gadget,title){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setUserPref=function(id){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.IfrGadgetService=function(){gadgets.GadgetService.call(this);var service=this;gadgets.rpc.register("resize_iframe",function(){service.setHeight.apply(this,arguments)});gadgets.rpc.register("set_pref",function(){service.setUserPref.apply(this,arguments)});gadgets.rpc.register("set_title",function(){service.setTitle.apply(this,arguments)});gadgets.rpc.register("requestNavigateTo",function(){service.requestNavigateTo.apply(this,arguments)})};gadgets.IfrGadgetService.inherits(gadgets.GadgetService);gadgets.IfrGadgetService.prototype.setHeight=function(height){if(height>gadgets.container.maxheight_){height=gadgets.container.maxheight_}var element=document.getElementById(this.f);if(element){element.style.height=height+"px"}};gadgets.IfrGadgetService.prototype.requestNavigateTo=function(view,opt_params){var id=this.getGadgetIdFromModuleId(this.f);var url=this.getUrlForView(view);if(opt_params){var paramStr=JSON.stringify(opt_params);if(paramStr.length>0){url+="&appParams="+encodeURIComponent(paramStr)}}if(url&&document.location.href.indexOf(url)==-1){document.location.href=url}};gadgets.IfrGadgetService.prototype.getUrlForView=function(view){if(view==="canvas"){return"/canvas"}else{if(view==="profile"){return"/profile"}else{return null}}};gadgets.IfrGadgetService.prototype.getGadgetIdFromModuleId=function(moduleId){return parseInt(moduleId.match(/_([0-9]+)$/)[1],10)};gadgets.LayoutManager=function(){};gadgets.LayoutManager.prototype.getGadgetChrome=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.StaticLayoutManager=function(){gadgets.LayoutManager.call(this)};gadgets.StaticLayoutManager.inherits(gadgets.LayoutManager);gadgets.StaticLayoutManager.prototype.setGadgetChromeIds=function(gadgetChromeIds){this.gadgetChromeIds_=gadgetChromeIds};gadgets.StaticLayoutManager.prototype.getGadgetChrome=function(gadget){var chromeId=this.gadgetChromeIds_[gadget.id];return chromeId?document.getElementById(chromeId):null};gadgets.FloatLeftLayoutManager=function(layoutRootId){gadgets.LayoutManager.call(this);this.layoutRootId_=layoutRootId};gadgets.FloatLeftLayoutManager.inherits(gadgets.LayoutManager);gadgets.FloatLeftLayoutManager.prototype.getGadgetChrome=function(gadget){var layoutRoot=document.getElementById(this.layoutRootId_);if(layoutRoot){var chrome=document.createElement("div");chrome.className="gadgets-gadget-chrome";chrome.style.cssFloat="left";layoutRoot.appendChild(chrome);return chrome}else{return null}};;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-container-resources', location = 'js/gadgets-container.js' */
gadgets.Container=function(){this.parentUrl_="http://"+document.location.host;this.country_="ALL";this.language_="ALL";this.view_="default";this.nocache_=1;this.maxheight_=2147483647};gadgets.Container.inherits(gadgets.Extensible);gadgets.Container.prototype.userPrefStore=new gadgets.DefaultUserPrefStore();gadgets.Container.prototype.gadgetService=new gadgets.GadgetService();gadgets.Container.prototype.layoutManager=new gadgets.StaticLayoutManager();gadgets.Container.prototype.setParentUrl=function(url){this.parentUrl_=url};gadgets.Container.prototype.setCountry=function(country){this.country_=country};gadgets.Container.prototype.setNoCache=function(nocache){this.nocache_=nocache};gadgets.Container.prototype.setLanguage=function(language){this.language_=language};gadgets.Container.prototype.setView=function(view){this.view_=view};gadgets.Container.prototype.setMaxHeight=function(maxheight){this.maxheight_=maxheight};gadgets.Container.prototype.getGadgetKey_=function(instanceId){return"gadget_"+instanceId};gadgets.IfrContainer=function(){gadgets.Container.call(this)};gadgets.IfrContainer.inherits(gadgets.Container);gadgets.IfrContainer.prototype.gadgetService=new gadgets.IfrGadgetService();gadgets.IfrContainer.prototype.setParentUrl=function(url){if(!url.match(/^http[s]?:\/\//)){url=document.location.href.match(/^[^?#]+\//)[0]+url}this.parentUrl_=url};gadgets.container=new gadgets.IfrContainer();;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-standalone-resources', location = 'js/gadgets-standalone.js' */
new gadgets.IfrGadgetService();gadgets.IfrGadgetService.prototype.setTitle=function(title){};;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/node_modules/@atlassian/cloud-analytics-js/store-1.3.1.js' */
(function(){var l={},h=window,k=h.document,c="localStorage",n="globalStorage",d="__storejs__",g;l.disabled=false;l.set=function(e,o){};l.get=function(e){};l.remove=function(e){};l.clear=function(){};l.transact=function(e,o){var p=l.get(e);if(typeof p=="undefined"){p={}}o(p);l.set(e,p)};l.serialize=function(e){return JSON.stringify(e)};l.deserialize=function(e){if(typeof e!="string"){return undefined}return JSON.parse(e)};function b(){try{return(c in h&&h[c])}catch(e){return false}}function m(){try{return(n in h&&h[n]&&h[n][h.location.hostname])}catch(e){return false}}if(b()){g=h[c];l.set=function(e,o){if(o===undefined){return l.remove(e)}g.setItem(e,l.serialize(o))};l.get=function(e){return l.deserialize(g.getItem(e))};l.remove=function(e){g.removeItem(e)};l.clear=function(){g.clear()}}else{if(m()){g=h[n][h.location.hostname];l.set=function(e,o){if(o===undefined){return l.remove(e)}g[e]=l.serialize(o)};l.get=function(e){return l.deserialize(g[e]&&g[e].value)};l.remove=function(e){delete g[e]};l.clear=function(){for(var e in g){delete g[e]}}}else{if(k.documentElement.addBehavior){var j,f;try{f=new ActiveXObject("htmlfile");f.open();f.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></frame>');f.close();j=f.w.frames[0].document;g=j.createElement("div")}catch(i){g=k.createElement("div");j=k.body}function a(e){return function(){var p=Array.prototype.slice.call(arguments,0);p.unshift(g);j.appendChild(g);g.addBehavior("#default#userData");g.load(c);var o=e.apply(l,p);j.removeChild(g);return o}}l.set=a(function(p,e,o){if(o===undefined){return l.remove(e)}p.setAttribute(e,l.serialize(o));p.save(c)});l.get=a(function(o,e){return l.deserialize(o.getAttribute(e))});l.remove=a(function(o,e){o.removeAttribute(e);o.save(c)});l.clear=a(function(q){var o=q.XMLDocument.documentElement.attributes;q.load(c);for(var p=0,e;e=o[p];p++){q.removeAttribute(e.name)}q.save(c)})}}}try{l.set(d,d);if(l.get(d)!=d){l.disabled=true}l.remove(d)}catch(i){l.disabled=true}if(typeof module!="undefined"){module.exports=l}else{if(typeof define==="function"&&define.amd){define(l)}else{this.store=l}}})();;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/node_modules/@atlassian/cloud-analytics-js/page-visibility.js' */
define("atlassian/analytics/page-visibility",function(){var a=(document.hidden!==undefined);var b={supported:a,isHidden:function(){return a?document.hidden:false}};return b});;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/node_modules/@atlassian/cloud-analytics-js/atlassian-analytics.js' */
(function(d){function e(x){var B=250*1024;var z="atlassian-analytics."+x;var y=z+".lock";var D="null";var A=(window.localStorage[z]||"").length;var C=(window.localStorage[y]||D)!==D;if(C&&A>B){window.localStorage[z]=JSON.stringify([{name:"grow0.event.queue.cleared",time:new Date().valueOf(),properties:{queueSize:A}}]);window.localStorage[y]=D}}["jira","confluence","unknown"].forEach(function(x){try{e(x)}catch(y){}});var q=AJS.$.ajax;var l="atlassian-analytics";var j=typeof AJS.contextPath=="function"?AJS.contextPath():typeof AJS.Confluence!="undefined"?AJS.Confluence.getContextPath():window.contextPath!=null?window.contextPath:"";var p=null;var m=null;var g=null;var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(z){var y=Math.random()*16|0,x=z=="x"?y:(y&3|8);return x.toString(16)});var t=function(){var x="unknown";if(document.body.id=="jira"){x="jira"}else{if(document.body.id=="com-atlassian-confluence"){x="confluence"}}m=l+"."+x;g=m+".lock"};var f=function(){if(store.get(g)){return false}store.set(g,r);return(store.get(g)===r)};var u=function(){store.set(g,null)};var i=function(){var y=[],A,B,x,z;if(AJS.EventQueue.length==0){return}y=store.get(m)||y;for(x=0,z=AJS.EventQueue.length;x<z;++x){B=AJS.EventQueue[x];if(B.name){A={name:B.name,properties:B.properties,time:B.time||0};y.push(A)}}AJS.EventQueue.length=0;store.set(m,y)};var v=0;var a=function(x){return Math.min(5000*Math.pow(2,x),5*60*1000)};var h=function(){var A;function y(){setTimeout(h,a(v=0))}function x(){setTimeout(h,a(++v))}if(!f()){return y()}i();A=store.get(m);if(!A||!A.length){u();return y()}store.remove(m);u();if(!o(A)){return y()}var B=new Date().getTime();for(var z=0;z<A.length;z++){if(A[z].time>0){A[z].timeDelta=A[z].time-B}else{A[z].timeDelta=z-A.length}delete A[z].time}p=q({type:"POST",url:j+"/rest/analytics/1.0/publish/bulk",data:JSON.stringify(A),contentType:"application/json",dataType:"json"});p.fail(function(){AJS.EventQueue.concat(A);i();x()});p.done(function(){y()})};var o=function(z){for(var y=z.length-1;y>=0;y--){var B="";var A=z[y];var x=A.properties;if(typeof A.name==="undefined"){B="you must provide a name for the event."}else{if(typeof x!=="undefined"&&x!==null){if(x.constructor!==Object){B="properties must be an object with key value pairs."}else{b(x)}}}if(B!==""){AJS.log("WARN: Invalid analytics event detected and ignored, "+B+"\nEvent: "+JSON.stringify(A));z.splice(y,1)}}return z.length};var b=function(z){for(var y in z){if(z.hasOwnProperty(y)){var x=z[y];if(c(x)&&k(x)){}else{if(c(x)&&x.toString){z[y]=x.toString()}else{z[y]=""}}}}};function c(x){return typeof x!=="undefined"&&x!==null}function k(x){return typeof x==="number"||typeof x==="string"||typeof x==="boolean"}var n=function(){if(p&&!(p.state()==="resolved"||p.state()==="rejected")){p.abort()}};AJS.EventQueue=AJS.EventQueue||[];var s=Array.prototype.push;AJS.EventQueue.push=function(x){x.time=new Date().getTime();s.call(AJS.EventQueue,x)};AJS.toInit(function(){t();setTimeout(h,500);w()});d(window).unload(function(){n();i()});AJS.Analytics={triggerPrivacyPolicySafeEvent:function(x,y){AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");AJS.EventQueue.push({name:x,properties:y})}};AJS.bind("analytics",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});AJS.bind("analyticsEvent",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});var w=function(){if(window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties")>-1){AJS.$("[data-property-id='analytics-enabled']").remove()}else{if(window.location.pathname.indexOf("/secure/admin/EditApplicationProperties")>-1){var y=AJS.$(":contains(Enable Atlassian analytics)");if(y.size()>0){var x=y[y.size()-2];if(x){x.remove()}}}}}}(AJS.$));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:application-header-administration-cog-resource', location = 'header/cog.js' */
var NavLinks = (function (NavLinks) {

    NavLinks.ApplicationHeader = function (ApplicationHeader) {

        ApplicationHeader.Cog = (function () {

            var _get = function () {

                var jiraSection = AJS.$("#system-admin-menu-content");
                if (jiraSection.length > 0) {
                    return jiraSection;
                }

                var confluenceSection = AJS.$("#admin-menu-link-content");
                if (confluenceSection.length > 0) {
                    return confluenceSection;
                }

                // Bamboo
                return AJS.$("#bamboo\\.global\\.header-admin\\.menu");
            };

            return {
                getDropdown: _get
            };
        }());
        return ApplicationHeader;
    }(NavLinks.ApplicationHeader || {});

    return NavLinks;
}(NavLinks || {}));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminshortcuts.soy' */
// This file was automatically generated from adminshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.adminshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.adminshortcuts == 'undefined') { navlinks.templates.adminshortcuts = {}; }


navlinks.templates.adminshortcuts.section = function(opt_data, opt_ignored) {
  var param5 = '<ul class="aui-list-truncate">';
  var linkList7 = opt_data.links;
  var linkListLen7 = linkList7.length;
  for (var linkIndex7 = 0; linkIndex7 < linkListLen7; linkIndex7++) {
    var linkData7 = linkList7[linkIndex7];
    param5 += '<li><a href="' + soy.$$escapeHtml(linkData7.link) + '">' + soy.$$escapeHtml(linkData7.label) + '</a></li>';
  }
  param5 += '</ul>';
  var output = '' + aui.dropdown2.section({id: 'nl-remote-admin-section', label: 'Other applications', content: param5});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.adminshortcuts.section.soyTemplateName = 'navlinks.templates.adminshortcuts.section';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminnavlinks.js' */
var NavLinks = (function (NavLinks) {

    var requestInFlight = false;

    NavLinks.AdminShortcuts = (function () {

        var _requestLinks = function () {
            return AJS.$.ajax({
                url: AJS.contextPath() + '/rest/menu/latest/admin',
                cache: false,
                dataType: 'json'
            });
        };

        var trackAnalytics = function () {
            AJS.$("#nl-remote-admin-section").on('click', 'a', function () {
                NL.trackEvent('remoteAdminItemSelected', NL.getCurrentApplication(), $(this).attr('href'));
            });
        };

        return {
            renderLoading: function() {
                var $loading = AJS.$(navlinks.templates.appswitcher.loading());
                NavLinks.ApplicationHeader.Cog.getDropdown().append($loading);
            },
            render: function () {
                if (!AJS.$('#nl-remote-admin-section').length && !requestInFlight) {
                    NavLinks.AdminShortcuts.renderLoading();
                    requestInFlight = true;
                    _requestLinks().done(function (linkData) {

                        // filter links to exclude the local admin link
                        linkData = _.reject(linkData, function (link) {
                            return link['local'] === true;
                        });

                        if (linkData.length) {
                            // if we have remote admin links, render them in a new dropdown section
                            var renderedTemplate = navlinks.templates.adminshortcuts.section({links: linkData});
                            NavLinks.ApplicationHeader.Cog.getDropdown().append(renderedTemplate);

                            trackAnalytics();
                        }
                    }).always(function() {
                        requestInFlight = false;
                        NavLinks.ApplicationHeader.Cog.getDropdown().find('.app-switcher-loading').remove();
                    });
                }
            }
        };
    }());

    return NavLinks;
}(NavLinks || {}));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts', location = 'adminshortcuts/adminshortcuts.js' */
AJS.$(function () {
    if (AJS.DarkFeatures && AJS.DarkFeatures.isEnabled('rotp.admin.shortcuts')) {
        NavLinks.ApplicationHeader.Cog.getDropdown().on(
            "aui-dropdown2-show", function() {
                NavLinks.AdminShortcuts.render();
            }
        );
    }
});;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.soy' */
// This file was automatically generated from projectshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.projectshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.projectshortcuts == 'undefined') { navlinks.templates.projectshortcuts = {}; }


navlinks.templates.projectshortcuts.dialogContent = function(opt_data, opt_ignored) {
  return '' + ((opt_data.localShortcuts && opt_data.localShortcuts.length > 0) ? navlinks.templates.projectshortcuts.dialogContentShortcuts({shortcuts: opt_data.localShortcuts, listClass: 'projectshortcut-links'}) : '') + ((opt_data.remoteShortcuts != null) ? (opt_data.remoteShortcuts.length > 0) ? '<h2 class="projectshortcuts-heading">Related Links</h2>' + navlinks.templates.projectshortcuts.dialogContentShortcuts(soy.$$augmentMap(opt_data.remoteShortcuts, {shortcuts: opt_data.remoteShortcuts, listClass: 'projectshortcut-links'})) : '' : navlinks.templates.projectshortcuts.dialogLoading(null));
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContent.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContent';
}


navlinks.templates.projectshortcuts.headingWrapper = function(opt_data, opt_ignored) {
  return '<div class="project-dialog-header-wrapper"><div class="project-header"><img class="project-img" src="' + soy.$$escapeHtml(opt_data.logoUrl) + '"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2></div><div class="project-content-wrapper">' + soy.$$filterNoAutoescape(opt_data.contentHtml) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.headingWrapper.soyTemplateName = 'navlinks.templates.projectshortcuts.headingWrapper';
}


navlinks.templates.projectshortcuts.dialogContentShortcuts = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
  var shortcutList35 = opt_data.shortcuts;
  var shortcutListLen35 = shortcutList35.length;
  for (var shortcutIndex35 = 0; shortcutIndex35 < shortcutListLen35; shortcutIndex35++) {
    var shortcutData35 = shortcutList35[shortcutIndex35];
    output += '<li' + ((shortcutIndex35 == shortcutListLen35 - 1) ? ' class="last"' : '') + '>' + navlinks.templates.projectshortcuts.dialogContentShortcut(shortcutData35) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcuts.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcuts';
}


navlinks.templates.projectshortcuts.dialogContentShortcut = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.link) + '"' + ((opt_data.tooltip) ? ' title="' + soy.$$escapeHtml(opt_data.tooltip) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.label) + '</a>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcut.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcut';
}


navlinks.templates.projectshortcuts.dialogLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="projectshortcuts-loading">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogLoading.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogLoading';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.js' */
(function ($, NL) {
    var dialog,
        dialogDataCache = {},
        triggerDataEntityKey = 'key',
        triggerDataEntityName = 'name',
        triggerDataEntityType = 'entity-type';

    function showShortcutsDialog(e) {
        var $trigger = $(this),
            projectKey = $trigger.data(triggerDataEntityKey),
            projectName = $trigger.data(triggerDataEntityName),
            projectEntityType = $trigger.data(triggerDataEntityType);

        if (typeof projectKey === 'undefined') {
            return;
        }

        e.preventDefault();

        dialog = new AJS.Dialog({
            width: 600,
            keypressListener: function (e) {
                if (e.which == jQuery.ui.keyCode.ESCAPE) {
                    dialog.remove();
                }
            },
            id: "project-shortcuts-dialog"
        })
            .addCancel('Close', function () {
                dialog.remove();
            })
            .addPanel('',
                navlinks.templates.projectshortcuts.headingWrapper({
                    title: projectName,
                    logoUrl: getLogoUrl(),
                    contentHtml: navlinks.templates.projectshortcuts.dialogLoading({text: 'Retrieving links'})
                }))
            .show();

        updateDialogHeight(dialog);

        if (!dialogDataCache[projectKey]) {
            dialogDataCache[projectKey] = {
                entity: {
                    title: projectName
                },
                localShortcuts: null,
                remoteShortcuts: null
            };
            getData(AJS.contextPath() + '/rest/project-shortcuts/1.0/local/' + projectKey, {entityType: projectEntityType}).done(updateLocal);
            getData(AJS.contextPath() + '/rest/project-shortcuts/1.0/remote/' + projectKey, {entityType: projectEntityType}).done(updateRemote).fail(function () {
                var $wrapper = dialog.getCurrentPanel().body.find('.project-content-wrapper');
                $wrapper.find('.projectshortcuts-loading').remove();
                AJS.messages.error($wrapper, {
                    body: "Could not retrieve remote project shortcuts",
                    closeable: false
                });
                updateDialogHeight(dialog);
            });
        } else {
            updateShortcutsDialog(dialogDataCache[projectKey]);
        }

        function updateLocal(data) {
            dialogDataCache[projectKey].localShortcuts = data.shortcuts;
            updateShortcutsDialog(dialogDataCache[projectKey]);
        }

        function updateRemote(data) {
            dialogDataCache[projectKey].remoteShortcuts = data.shortcuts;
            updateShortcutsDialog(dialogDataCache[projectKey]);
        }
    }

    function getLogoUrl() {
        return $(".project-shortcut-dialog-trigger img").attr("src");
    }

    function updateShortcutsDialog(data) {
        if (data.localShortcuts) { // Don't update the dialog until we have entity data and local links (stops the dialog from displaying remote links only if remote links has returned first)
            dialog.getCurrentPanel().html(
                navlinks.templates.projectshortcuts.headingWrapper({
                    title: data.entity.title,
                    logoUrl: getLogoUrl(),
                    contentHtml: navlinks.templates.projectshortcuts.dialogContent(data)
                }));

            updateDialogHeight(dialog);
        }
    }

    function truncateDesc(desc) {

        var trunc = 210;
        if (!desc || desc.length <= trunc)
            return desc;

        var i = trunc;
        while (i > 0 && desc.charAt(i) != " ") {
            i--;
        }
        if (i == 0) {
            i = trunc;
        }

        desc = desc.substring(0, i);
        if (desc.length >= i)
            desc = desc + "...";
        return desc;
    }

    /**
     * Since AJS.Dialog's height updating is completely broken we need to do it custom for our dialog
     * @param dialog
     */
    function updateDialogHeight(dialog) {
        var $dialog = dialog.popup.element,
            $body = $dialog.find('.dialog-panel-body'),
            $components = $dialog.find('.dialog-components');

        $body.height('auto');
        $dialog.height($components.outerHeight() - 1);
        $('.aui-shadow').remove();
    }

    function getData(url, data) {
        return $.ajax({
            url: url,
            cache: false,
            data: data,
            dataType: 'json'
        });
    }

    $(document).on('click', '.project-shortcut-dialog-trigger', showShortcutsDialog);
}(jQuery, window.NL = (window.NL || {})));
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:atlassian-ui-popup-display-controller', location = 'popups/DisplayController.js' */
AJS.Popups = AJS.Popups || {};

/**
 * Coordinate the display of popup dialogs requested from other functions in the application.
 *
 * Its responsibility is to organise the display of these popups so that that they do not come into conflict with
 * each other.
 */
AJS.Popups.DisplayController = function () {

    var _popupDialogRegistry = [];
    var _renderPerformed = false;
    var _dialogShown = false;

    AJS.toInit(function () {
        setTimeout(function () {
            AJS.Popups.DisplayController.render();
        }, 0);
    });

    return {

        /**
         * Request the display of a popup dialog to this controller.
         *
         * @param popupDialog An {Object} containing a request to display a popup dialog.
         */
        request: function (popupDialog) {
            _popupDialogRegistry.push(popupDialog);
            if (_renderPerformed && _dialogShown === false) {
                this.render();
            }
        },

        /**
         * Renders a popup dialog on screen.
         *
         * If more than one popup has been requested, it will render the one that has the lowest "weight",
         * if no popups have been requested, no dialog will be displayed.
         *
         */
        render: function () {
            _popupDialogRegistry.sort(function (first, second) {
                return first.weight - second.weight;
            });

            _renderPerformed = true;

            if (_popupDialogRegistry.length !== 0) {
                _dialogShown = true;
                _popupDialogRegistry[0].show();
            }
        }
    };
}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-web-plugin:issue-link-web-link', location = 'jira-issue-link-web-module/js/issuelink-weblink.js' */
define('jira-issue-link/web-link', [
    'jquery'
], function(jQuery) {

    var $hiddenImg = jQuery("<img>");
    var $iconUrlInput;
    var $urlInput;
    var faviconUrl;
    var throbberTimeoutId;

    $hiddenImg.load(function() {
        $iconUrlInput.val(faviconUrl);
        $urlInput.css("background-image", 'url("' + faviconUrl + '")');

        clearTimeout(throbberTimeoutId);
        $urlInput.removeClass("loading");
    });
    $hiddenImg.error(function() {
        clearTimeout(throbberTimeoutId);
        $urlInput.removeClass("loading");
    });

    function fetchFavicon() {
        // Initialise state
        $hiddenImg.attr("src", '');
        $iconUrlInput.val('');
        $urlInput.css("background-image", '');
        faviconUrl = parseFaviconUrl($urlInput.val());

        if (!faviconUrl) {
            return;
        }

        /**
         * IE specific hack: For some reason I cannot change the class inside event handler for the event source.
         */
        setTimeout(function() { $urlInput.addClass("loading"); }, 0);
        throbberTimeoutId = setTimeout(function() { $urlInput.removeClass("loading"); }, 3000);

        $hiddenImg.attr("src", faviconUrl);
    }

    function parseFaviconUrl(url) {
        var hostUrl = url.match(/^([^/]*\/\/[^/]+)/)[1];

        if (!hostUrl) {
            return;
        }

        return hostUrl + "/favicon.ico";
    }

    return {
        init: function(context) {
            $iconUrlInput = jQuery("#web-link-icon-url", context);
            $urlInput = jQuery("#web-link-url", context).bind("change", fetchFavicon);

            if ($iconUrlInput.val()) {
                $urlInput.css("background-image", "url(" + $iconUrlInput.val() + ")");
            }
        }
    };

});
;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-web-plugin:issue-link-web-link', location = 'jira-issue-link-web-module/js/issuelink-weblink-init.js' */
require([
    'jira-issue-link/web-link',
    'jquery',
    'jira/util/events',
    'jira/util/events/types',
], function(WebLink, jQuery, Events, Types) {

    Events.bind(Types.NEW_PAGE_ADDED, function (e, context) {
        WebLink.init(context);
    });

    Events.bind(Types.NEW_CONTENT_ADDED, function (e, context) {
        jQuery(".issue-link").tooltip({gravity: "s"});
    });

});
;
;
/* module-key = 'com.atlassian.jconnect.jconnect-plugin:common', location = 'jira-mobile-connect/js/ViewLocation.js' */
(function($) {

    var global = window,
        JSONP_CALLBACK_NAME = "onJMCGMapsLoad";
        mapsCallbacks = [],
        googleLoaderRequested = false,
        googleMapsRequested = false;

    function runMapsCallbacks() {
        var cb;
        while (cb = mapsCallbacks.shift()) {
            cb();
        }
    }

    function loadMapAndRunCallbacks(callback) {
        var isGoogleMapsPresent = global.google.maps && global.google.maps.LatLng;

        if (isGoogleMapsPresent) {
            //Google Maps is here, run all the pending callbacks
            mapsCallbacks.push(callback);
            runMapsCallbacks();

        } else if (googleMapsRequested) {
            //Google Maps is not present but has been requested -> Add the callback to the maps queue,
            //it will be eventually executed by loadMapAndRunCallbacks()
            mapsCallbacks.push(callback);

        } else {
            //Google Maps is not present nor being requested -> Add the callback to the queue and request it
            googleMapsRequested = true;
            mapsCallbacks.push(callback);
            google.load("maps","3", {other_params:'sensor=false', callback: runMapsCallbacks} );
        }
    }

    function runWithGoogleMaps(callback) {
        if (global.google && global.google.load) {
            //Google Loader is present -> Load GMaps and run the callback
            loadMapAndRunCallbacks(callback);

        } else if (googleLoaderRequested) {
            //Google Loader is not present but has been requested -> Add the callback to the maps queue,
            //it will be eventually executed by loadMapAndRunCallbacks()
            mapsCallbacks.push(callback);

        } else {
            // Google Loader is not present nor requested -> Request it and add the callback to the maps queue
            googleLoaderRequested = true;
            global[JSONP_CALLBACK_NAME] = function() {
                loadMapAndRunCallbacks(callback);
            }
            var script = document.createElement("script");
            script.src = "https://www.google.com/jsapi?callback="+JSONP_CALLBACK_NAME;
            script.type = "text/javascript";
            $("body").append(script);
        }
    }

    function toggleMap(mapField) {
        if (mapField.hasClass("open")) {
            hideMap(mapField);
        } else {
            displayMap(mapField)
        }
    }

    function hideMap(mapField) {
        mapField.removeClass("open");
        mapShown = false;
    }

    function displayMap(mapField) {
        var mapDiv = mapField.find(".jConnectMap");

        mapField.addClass("open");
        mapShown = true;
        if (!map) {
            map = new google.maps.Map(mapDiv.get(0), {
                zoom: 8,
                center: geocodedLocation[1].geometry.location,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            });

            new google.maps.Marker({
                map: map,
                position: geocodedLocation[1].geometry.location,
                title: geocodedLocation[1].formatted_address
            });
        }
    }

    var geocodedLocation,
        map,
        mapShown = false;

    JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED, function (e, context, reason) {
        if (reason == "panelRefreshed" || reason == "pageLoad" ) {

            var mapField = $(".jConnectLocation.ready", context),
                anchor = mapField.find("> a"),
                location,
                geocoder;

            if (anchor.length) {
                runWithGoogleMaps(function() {
                    //Only bind events if not previously bound.
                    //As this code is asynchronous, previous check for the class ready was not enough
                    if (mapField.hasClass("ready")) {

                        location = new google.maps.LatLng(anchor.data('lat'), anchor.data('long'));
                        geocoder = new google.maps.Geocoder();
                        geocoder.geocode({
                            latLng: location
                        }, function(results, status) {
                            if (status == google.maps.GeocoderStatus.OK) {
                                geocodedLocation = results;
                                if (results[1]) {
                                    anchor.text(results[1].formatted_address);
                                }
                            }
                        });

                        mapField.removeClass("ready");
                        map = null; // previous map, if created, was replaced with new content
                        if (mapShown) {
                            displayMap(mapField);
                        }
                        anchor.click(function(e) {
                            e.preventDefault();
                            //Event can be attached multiple times. Prevent other handlers to avoid another
                            //call to toggleMap(), which effectively will hide the map
                            e.stopPropagation();
                            toggleMap(mapField);
                        });
                    }
                });
            };
        }
    });

})(AJS.$);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:dialog-options-v5', location = 'v5/js/iframe/host/dialog-options.js' */
(function(){window._AP=window._AP||{};var a;a=WRM.data.claim("com.atlassian.plugins.atlassian-connect-plugin:dialog-options.data");for(var b in a)a.hasOwnProperty(b)&&(window._AP[b]=a[b])})();;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:iframe-host-utils-v5', location = 'v5/js/iframe/host/util.js' */
window._AP=window._AP||{};
_AP.util={escapeSelector:function(a){if(!a)throw Error("No selector to escape");return a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$\x26")},isGlobalDefined:function(a){return"undefined"!==typeof window[a]},awaitGlobal:function(a,b,c){c=c||100;if(_AP.util.isGlobalDefined(a))b(window[a]);else var d=setInterval(function(){_AP.util.isGlobalDefined(a)&&(clearInterval(d),b(window[a]))},c)},getBooleanFeatureFlag:function(a){if(AJS&&AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled&&AJS.DarkFeatures.isEnabled(a))return!0;
var b=document.querySelector('meta[name\x3d"ajs-fe-feature-flags"]');if(!b)return!1;b=b.getAttribute("content");if(!b)return!1;var c={};try{c=JSON.parse(b)}catch(d){return!1}return c[a]&&"boolean"===typeof c[a].value?c[a].value:!1}};;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:connect-promise-v5', location = 'v5/js/core/promise-polyfill.js' */
(function(v,w){"object"===typeof exports&&"undefined"!==typeof module?module.exports=w():"function"===typeof define&&define.amd?define(w):v.ES6Promise=w()})(this,function(){function v(a){return"function"===typeof a}function w(){return function(){return process.nextTick(l)}}function R(){return"undefined"!==typeof B?function(){B(l)}:C()}function S(){var a=0,b=new J(l),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function T(){var a=new MessageChannel;
a.port1.onmessage=l;return function(){return a.port2.postMessage(0)}}function C(){var a=setTimeout;return function(){return a(l,1)}}function l(){for(var a=0;a<p;a+=2)(0,q[a])(q[a+1]),q[a]=void 0,q[a+1]=void 0;p=0}function U(){try{var a=Function("return this")().require("vertx");B=a.runOnLoop||a.runOnContext;return R()}catch(b){return C()}}function D(a,b){var c=this,e=new this.constructor(r);void 0===e[z]&&K(e);var d=c._state;if(d){var f=arguments[d-1];k(function(){return L(d,e,f,c._result)})}else E(c,
e,a,b);return e}function F(a){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(r);x(b,a);return b}function r(){}function M(a){try{return a.then}catch(b){return n.error=b,n}}function V(a,b,c,e){try{a.call(b,c,e)}catch(d){return d}}function W(a,b,c){k(function(a){var d=!1,e=V(c,b,function(c){d||(d=!0,b!==c?x(a,c):m(a,c))},function(b){d||(d=!0,g(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,g(a,e))},a)}function X(a,b){b._state===y?m(a,b._result):b._state===t?g(a,
b._result):E(b,void 0,function(b){return x(a,b)},function(b){return g(a,b)})}function N(a,b,c){b.constructor===a.constructor&&c===D&&b.constructor.resolve===F?X(a,b):c===n?(g(a,n.error),n.error=null):void 0===c?m(a,b):v(c)?W(a,b,c):m(a,b)}function x(a,b){if(a===b)g(a,new TypeError("You cannot resolve a promise with itself"));else{var c=typeof b;null===b||"object"!==c&&"function"!==c?m(a,b):N(a,b,M(b))}}function Y(a){a._onerror&&a._onerror(a._result);G(a)}function m(a,b){a._state===u&&(a._result=b,
a._state=y,0!==a._subscribers.length&&k(G,a))}function g(a,b){a._state===u&&(a._state=t,a._result=b,k(Y,a))}function E(a,b,c,e){var d=a._subscribers,f=d.length;a._onerror=null;d[f]=b;d[f+y]=c;d[f+t]=e;0===f&&a._state&&k(G,a)}function G(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var e,d,f=a._result,g=0;g<b.length;g+=3)e=b[g],d=b[g+c],e?L(c,e,d,f):d(f);a._subscribers.length=0}}function L(a,b,c,e){var d=v(c),f=void 0,h=void 0,k=void 0,l=void 0;if(d){try{f=c(e)}catch(Z){n.error=Z,f=n}f===
n?(l=!0,h=f.error,f.error=null):k=!0;if(b===f){g(b,new TypeError("A promises callback cannot return that same promise."));return}}else f=e,k=!0;b._state===u&&(d&&k?x(b,f):l?g(b,h):a===y?m(b,f):a===t&&g(b,f))}function aa(a,b){try{b(function(b){x(a,b)},function(b){g(a,b)})}catch(c){g(a,c)}}function K(a){a[z]=O++;a._state=void 0;a._result=void 0;a._subscribers=[]}var H=void 0,P=H=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},p=0,B=void 0,I=void 0,
k=function(a,b){q[p]=a;q[p+1]=b;p+=2;2===p&&(I?I(l):Q())},A=(H="undefined"!==typeof window?window:void 0)||{},J=A.MutationObserver||A.WebKitMutationObserver,A="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),ba="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,q=Array(1E3),Q=void 0,Q=A?w():J?S():ba?T():void 0===H&&"function"===typeof require?U():C(),z=Math.random().toString(36).substring(2),
u=void 0,y=1,t=2,n={error:null},O=0,ca=function(){function a(a,c){this._instanceConstructor=a;this.promise=new a(r);this.promise[z]||K(this.promise);P(c)?(this._remaining=this.length=c.length,this._result=Array(this.length),0===this.length?m(this.promise,this._result):(this.length=this.length||0,this._enumerate(c),0===this._remaining&&m(this.promise,this._result))):g(this.promise,Error("Array Methods must be provided an Array"))}a.prototype._enumerate=function(a){for(var b=0;this._state===u&&b<a.length;b++)this._eachEntry(a[b],
b)};a.prototype._eachEntry=function(a,c){var b=this._instanceConstructor,d=b.resolve;d===F?(d=M(a),d===D&&a._state!==u?this._settledAt(a._state,c,a._result):"function"!==typeof d?(this._remaining--,this._result[c]=a):b===h?(b=new b(r),N(b,a,d),this._willSettleAt(b,c)):this._willSettleAt(new b(function(b){return b(a)}),c)):this._willSettleAt(d(a),c)};a.prototype._settledAt=function(a,c,e){var b=this.promise;b._state===u&&(this._remaining--,a===t?g(b,e):this._result[c]=e);0===this._remaining&&m(b,this._result)};
a.prototype._willSettleAt=function(a,c){var b=this;E(a,void 0,function(a){return b._settledAt(y,c,a)},function(a){return b._settledAt(t,c,a)})};return a}(),h=function(){function a(b){this[z]=O++;this._result=this._state=void 0;this._subscribers=[];if(r!==b){if("function"!==typeof b)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof a)aa(this,b);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}a.prototype["catch"]=function(a){return this.then(null,a)};a.prototype["finally"]=function(a){var b=this.constructor;return v(a)?this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){throw c;})}):this.then(a,a)};return a}();h.prototype.then=D;h.all=function(a){return(new ca(this,a)).promise};h.race=function(a){var b=this;return P(a)?new b(function(c,e){for(var d=a.length,f=0;f<d;f++)b.resolve(a[f]).then(c,e)}):new b(function(a,
b){return b(new TypeError("You must pass an array to race."))})};h.resolve=F;h.reject=function(a){var b=new this(r);g(b,a);return b};h._setScheduler=function(a){I=a};h._setAsap=function(a){k=a};h._asap=k;h.polyfill=function(){var a=void 0;if("undefined"!==typeof global)a=global;else if("undefined"!==typeof self)a=self;else try{a=Function("return this")()}catch(e){throw Error("polyfill failed because global object is unavailable in this environment");}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(e){}if("[object Promise]"===
c&&!b.cast)return}a.Promise=h};return h.Promise=h});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-core-v5', location = 'v5/js/core/connect-host.js' */
(function(v,m){"object"===typeof exports&&"undefined"!==typeof module?module.exports=m():"function"===typeof define&&define.amd?define(m):(v=v||self,v.connectHost=m())})(this,function(){function v(){}function m(){m.init.call(this)}function Da(a,c,b,d){var e,g;if("function"!==typeof b)throw new TypeError('"listener" argument must be a function');(e=a._events)?(e.newListener&&(a.emit("newListener",c,b.listener?b.listener:b),e=a._events),g=e[c]):(e=a._events=new v,a._eventsCount=0);g?("function"===typeof g?
g=e[c]=d?[b,g]:[g,b]:d?g.unshift(b):g.push(b),g.warned||(b=void 0===a._maxListeners?m.defaultMaxListeners:a._maxListeners)&&0<b&&g.length>b&&(g.warned=!0,b=Error("Possible EventEmitter memory leak detected. "+g.length+" "+c+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.emitter=a,b.type=c,b.count=g.length,"function"===typeof console.warn?console.warn(b):console.log(b))):(e[c]=b,++a._eventsCount);return a}function Ea(a,c,b){function d(){a.removeListener(c,
d);e||(e=!0,b.apply(a,arguments))}var e=!1;d.listener=b;return d}function Fa(a){var c=this._events;if(c){a=c[a];if("function"===typeof a)return 1;if(a)return a.length}return 0}function O(a,c){for(var b=Array(c);c--;)b[c]=a[c];return b}function ka(a,c){return c={exports:{}},a(c,c.exports),c.exports}function Ga(a){if(!a)throw Error("No selector to escape");return a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$\x26")}function jb(a){switch(a.arrayFormat){case "index":return function(c,b,d){return null===
b?[u(c,a),"[",d,"]"].join(""):[u(c,a),"[",u(d,a),"]\x3d",u(b,a)].join("")};case "bracket":return function(c,b){return null===b?u(c,a):[u(c,a),"[]\x3d",u(b,a)].join("")};default:return function(c,b){return null===b?u(c,a):[u(c,a),"\x3d",u(b,a)].join("")}}}function kb(a){var c;switch(a.arrayFormat){case "index":return function(b,a,e){c=/\[(\d*)\]$/.exec(b);b=b.replace(/\[\d*\]$/,"");c?(void 0===e[b]&&(e[b]={}),e[b][c[1]]=a):e[b]=a};case "bracket":return function(b,a,e){c=/(\[\])$/.exec(b);b=b.replace(/\[\]$/,
"");e[b]=c?void 0===e[b]?[a]:[].concat(e[b],a):a};default:return function(b,a,c){c[b]=void 0===c[b]?a:[].concat(c[b],a)}}}function u(a,c){return c.encode?c.strict?lb(a):encodeURIComponent(a):a}function Ha(a){return Array.isArray(a)?a.sort():"object"===typeof a?Ha(Object.keys(a)).sort(function(a,b){return Number(a)-Number(b)}).map(function(c){return a[c]}):a}function mb(a){var c=4-a.length%4;1===c?a+="\x3d":2===c&&(a+="\x3d\x3d");return nb.prototype.decode(ob(a))}function la(a){if(null===a||""===a)throw"Invalid JWT: must be neither null nor empty-string.";
var c=a.indexOf("."),b=a.indexOf(".",c+1);if(0>c||b<=c)throw'Invalid JWT: must contain 2 period (".") characters.';a=a.substring(c+1,b);if(null===a||""===a)throw"Invalid JWT: encoded claims must be neither null nor empty-string.";a=mb.call(window,a);return JSON.parse(a)}function ma(a){return X.parse(X.extract(a)).jwt}function Ia(a){if(AJS&&AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled&&AJS.DarkFeatures.isEnabled(a))return!0;var c=document.querySelector('meta[name\x3d"ajs-fe-feature-flags"]');if(!c)return!1;
c=c.getAttribute("content");if(!c)return!1;var b={};try{b=JSON.parse(c)}catch(d){return!1}return b[a]&&"boolean"===typeof b[a].value?b[a].value:!1}function Ja(a){return{addon_key:a.addon_key,key:a.key,url:a.url,options:a.options}}function Y(a){a=(a=a.attr("class"))?a.match(/ap-plugin-key-([^\s]*)/):null;return Array.isArray(a)?a[1]:!1}function na(a){a=(a=a.attr("class"))?a.match(/ap-module-key-([^\s]*)/):null;return Array.isArray(a)?a[1]:!1}function Ka(a){return Y(a)+"__"+na(a)}function La(a,c,b){a+=
"Modules";if(window._AP&&window._AP[a]&&window._AP[a][c]&&window._AP[a][c][b])return k.extend({},window._AP[a][c][b].options)}function Ma(a,c){var b=Y(c),d;d=(d=c.attr("class"))?d.match(/ap-target-key-([^\s]*)/):null;d=Array.isArray(d)?d[1]:!1;return La(a,b,d)}function Na(a){var c=a.attr("href"),b={},d;c||(c=a.find("a").attr("href"));if(c){var e=c.indexOf("#");if(0<=e){a=c.substring(e+1);try{d=JSON.parse(decodeURI(a))}catch(g){console.error("ACJS: cannot decode webitem anchor")}d&&window._AP&&window._AP._convertConnectOptions?
b=window._AP._convertConnectOptions(d):console.error("ACJS: cannot convert webitem url to connect iframe options")}else d=Ka(a),e=a.hasClass("ap-inline-dialog")?"inlineDialog":"dialog",b=Ma(e,a),!b&&window._AP&&window._AP[e+"Options"]&&(b=k.extend({},window._AP[e+"Options"][d])||{}),b||(b={},console.warn("no webitem "+e+"Options for "+d)),b.productContext=b.productContext||{},c=X.parse(X.extract(c)),k.extend(b.productContext,c),b={addon_key:Y(a),key:na(a),options:b}}return b}function D(){var a=AJS.LayerManager.global.getTopLayer();
if(a&&pb.test(a.attr("id")))return a=AJS.dialog2(a),a._id=a.$el.attr("id").replace("ap-dialog-",""),a}function Oa(a){var c=a.find(".header-control-panel");c.length||(c=a.find(".aui-dialog2-footer-actions"));return c}function Z(a,c){return Oa(c).find(".aui-button").filter(function(){return w.getIdentifier(this)===a})}function qb(a){var c={},b=["closeable","fadeout","delay","duration","id"];"object"===typeof a&&b.forEach(function(b){b in a&&(c[b]=a[b])});return c}function rb(){h(document).on("aui-message-close",
function(a,c){var b=c.attr("id").replace("ap-message-","");if(F[b]){if(h.isFunction(F[b].onCloseTrigger))F[b].onCloseTrigger();F[b]._destroy()}})}function J(a){return{constructor:function(c,b,d,e){e=k.last(arguments);var g=e._id;"string"!==typeof c&&(c="");"string"!==typeof b&&(b="");"object"!==typeof d&&(d={});d.id="ap-message-"+g;var l=c,E=b,f=d,t=e,aa="AP.messages."+a;console.warn("DEPRECATED API - AP.messages."+a+" has been deprecated since ACJS 5.0 and will be removed in a future release. Use AP.flag.create instead.");
P.trackDeprecatedMethodUsed(aa,t._context.extension);if(t=n.getFrameworkAdaptor().getProviderByModuleName("messages"))aa=t[a],aa||(t[a]=t.generic),aa(l,E,f);else{Pa||(rb(),Pa=!0);t=h("#ac-message-container");1>t.length&&(t=h('\x3cdiv id\x3d"ac-message-container" /\x3e').appendTo("body"));f=qb(f);h.extend(f,{title:l,body:AJS.escapeHtml(E)});if(0>Qa.indexOf(a))throw"Invalid message type. Must be: "+Qa.join(", ");Ra.test(f.id)&&(AJS.messages[a](t,f),t.css("margin-left","-"+t.innerWidth()/2+"px"))}F[g]=
this}}}function sb(){Sa||(h(document).on("aui-flag-close",function(a){a=oa.cleanKey(a.target.id);Q.closed(a)}),h(document).on("click",".ac-flag-actions",function(a){var c=h(a.target);a=c.data("key");c=c.data("flag_id");Q.actionInvoked(a,c)}),Sa=!0)}function Ta(a,c,b){if(R[a]){var d=R[a].extension;b=b||{};b.flagIdentifier=a;q.broadcast(c,{extension_id:d.extension_id},b)}}function Ua(){window.removeEventListener("scroll",Va);ba=pa=void 0}function Va(){var a=document.documentElement.scrollHeight,c=window.innerHeight,
b=.1*a;window.pageYOffset<=b?Wa("nearTop"):c+window.pageYOffset+b>=a?Wa("nearBottom"):ba=void 0}function Wa(a){ba!==a&&(q.broadcast("scroll."+a,{id:pa},{}),ba=a)}function tb(a){return a.map(function(a){if(a.list&&Array.isArray(a.list)){var b={heading:a.heading};b.items=a.list.map(function(b){var a={};if("string"===typeof b)a.content=b;else if(b.text&&"string"===typeof b.text)a.content=b.text,"boolean"===typeof b.disabled&&(a.disabled=b.disabled),"undefined"!==typeof b.itemId&&(a.itemId=b.itemId);
else throw Error("Unknown dropdown list item format.");return a});return b}})}var Xa=function(a,c){a.prototype=Object.create(c.prototype);a.prototype.constructor=a;a.__proto__=c};v.prototype=Object.create(null);m.EventEmitter=m;m.usingDomains=!1;m.prototype.domain=void 0;m.prototype._events=void 0;m.prototype._maxListeners=void 0;m.defaultMaxListeners=10;m.init=function(){this.domain=null;this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new v,this._eventsCount=0);this._maxListeners=
this._maxListeners||void 0};m.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw new TypeError('"n" argument must be a positive number');this._maxListeners=a;return this};m.prototype.getMaxListeners=function(){return void 0===this._maxListeners?m.defaultMaxListeners:this._maxListeners};m.prototype.emit=function(a){var c,b,d,e,g;e="error"===a;if(c=this._events)e=e&&null==c.error;else if(!e)return!1;b=this.domain;if(e){c=arguments[1];if(b)c||(c=Error('Uncaught, unspecified "error" event')),
c.domainEmitter=this,c.domain=b,c.domainThrown=!1,b.emit("error",c);else{if(c instanceof Error)throw c;b=Error('Uncaught, unspecified "error" event. ('+c+")");b.context=c;throw b;}return!1}b=c[a];if(!b)return!1;c="function"===typeof b;d=arguments.length;switch(d){case 1:if(c)b.call(this);else for(c=b.length,b=O(b,c),e=0;e<c;++e)b[e].call(this);break;case 2:e=arguments[1];if(c)b.call(this,e);else for(c=b.length,b=O(b,c),d=0;d<c;++d)b[d].call(this,e);break;case 3:e=arguments[1];d=arguments[2];if(c)b.call(this,
e,d);else for(c=b.length,b=O(b,c),g=0;g<c;++g)b[g].call(this,e,d);break;case 4:e=arguments[1];d=arguments[2];g=arguments[3];if(c)b.call(this,e,d,g);else{c=b.length;b=O(b,c);for(var l=0;l<c;++l)b[l].call(this,e,d,g)}break;default:e=Array(d-1);for(g=1;g<d;g++)e[g-1]=arguments[g];if(c)b.apply(this,e);else for(c=b.length,b=O(b,c),d=0;d<c;++d)b[d].apply(this,e)}return!0};m.prototype.addListener=function(a,c){return Da(this,a,c,!1)};m.prototype.on=m.prototype.addListener;m.prototype.prependListener=function(a,
c){return Da(this,a,c,!0)};m.prototype.once=function(a,c){if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');this.on(a,Ea(this,a,c));return this};m.prototype.prependOnceListener=function(a,c){if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');this.prependListener(a,Ea(this,a,c));return this};m.prototype.removeListener=function(a,c){var b,d,e,g,l;if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');
d=this._events;if(!d)return this;b=d[a];if(!b)return this;if(b===c||b.listener&&b.listener===c)0===--this._eventsCount?this._events=new v:(delete d[a],d.removeListener&&this.emit("removeListener",a,b.listener||c));else if("function"!==typeof b){e=-1;for(g=b.length;0<g--;)if(b[g]===c||b[g].listener&&b[g].listener===c){l=b[g].listener;e=g;break}if(0>e)return this;if(1===b.length){b[0]=void 0;if(0===--this._eventsCount)return this._events=new v,this;delete d[a]}else{g=e+1;for(var E=b.length;g<E;e+=1,
g+=1)b[e]=b[g];b.pop()}d.removeListener&&this.emit("removeListener",a,l||c)}return this};m.prototype.removeAllListeners=function(a){var c;c=this._events;if(!c)return this;if(!c.removeListener)return 0===arguments.length?(this._events=new v,this._eventsCount=0):c[a]&&(0===--this._eventsCount?this._events=new v:delete c[a]),this;if(0===arguments.length){c=Object.keys(c);for(var b=0,d;b<c.length;++b)d=c[b],"removeListener"!==d&&this.removeAllListeners(d);this.removeAllListeners("removeListener");this._events=
new v;this._eventsCount=0;return this}c=c[a];if("function"===typeof c)this.removeListener(a,c);else if(c){do this.removeListener(a,c[c.length-1]);while(c[0])}return this};m.prototype.listeners=function(a){var c=this._events;if(c)if(a=c[a])if("function"===typeof a)a=[a.listener||a];else{for(var c=Array(a.length),b=0;b<c.length;++b)c[b]=a[b].listener||a[b];a=c}else a=[];else a=[];return a};m.listenerCount=function(a,c){return"function"===typeof a.listenerCount?a.listenerCount(c):Fa.call(a,c)};m.prototype.listenerCount=
Fa;m.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var f=new (function(a){function c(){var b;b=a.call(this)||this;b.setMaxListeners(20);return b}Xa(c,a);var b=c.prototype;b.dispatch=function(b){for(var a=arguments.length,c=Array(1<a?a-1:0),d=1;d<a;d++)c[d-1]=arguments[d];this.emit.apply(this,["before:"+b].concat(c));this.emit.apply(this,arguments);this.emit.apply(this,["after:"+b].concat(c))};b.registerOnce=function(b,a){if("string"===typeof b)this.once(b,
a);else throw"ACJS: event name must be string";};b.register=function(b,a){if("string"===typeof b)this.on(b,a);else throw"ACJS: event name must be string";};b.unregister=function(b,a){if("string"===typeof b)this.removeListener(b,a);else throw"ACJS: event name must be string";};return c}(m)),h=window.AJS&&window.AJS.$||function(){},Ya=Function.prototype.bind,r={locationOrigin:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?
":"+window.location.port:"")},randomString:function(){return Math.floor(1E9*Math.random()).toString(16)},isString:function(a){return"string"===typeof a||a instanceof String},argumentsToArray:function(a){return Array.prototype.slice.call(a)},argumentNames:function(a){return a.toString().replace(/((\/\/.*$)|(\/\*[^]*?\*\/))/mg,"").replace(/[^(]+\(([^)]*)[^]+/,"$1").match(/([^\s,]+)/g)||[]},hasCallback:function(a){var c=a.length;return 0<c&&"function"===typeof a[c-1]},error:function(a){if(window.console&&
window.console.error){var c=[];"string"===typeof a?(c.push("[Simple-XDM] "+a),c=c.concat(Array.prototype.slice.call(arguments,1))):(c.push("[Simple-XDM] "),c=c.concat(Array.prototype.slice.call(arguments)));window.console.error.apply(null,c)}},warn:function(a){window.console&&console.warn("[Simple-XDM] "+a)},log:function(a){window.console&&window.console.log("[Simple-XDM] "+a)},_bind:function(a,c){return Ya&&c.bind===Ya?c.bind(a):function(){return c.apply(a,arguments)}},throttle:function(a,c,b){var d=
0;return function(){var e=Date.now();e-d>c&&(d=e,a.apply(b,arguments))}},each:function(a,c){var b,d;if(a)if(b=a.length,null!=b&&"function"!==typeof a)for(d=0;d<b&&!1!==c.call(a[d],d,a[d]);)d+=1;else for(d in a)if(a.hasOwnProperty(d)&&!1===c.call(a[d],d,a[d]))break},extend:function(a){var c=arguments;[].slice.call(c,1,c.length).forEach(function(b){"object"===typeof b&&Object.getOwnPropertyNames(b).forEach(function(c){a[c]=b[c]})});return a},sanitizeStructuredClone:function(a){function c(a){if("function"===
typeof a)return e("A function was detected and removed from the message."),null;if(d.some(function(b){return a instanceof b?(e(b.name+" object was detected and removed from the message."),!0):!1}))return{};if(a&&"object"===typeof a&&b.every(function(b){return!(a instanceof b)})){var l;if(Array.isArray(a))l=a.map(function(b){return c(b)});else{if(-1<g.indexOf(a))return e("A circular reference was detected and removed from the message."),null;g.push(a);l={};for(var f in a)if(a.hasOwnProperty(f)){var h=
c(a[f]);null!==h&&(l[f]=h)}g.pop()}return l}return a}var b=[Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer],d=[Error,Node],e=r.warn,g=[];return c(a)},getOrigin:function(a,c){if("function"===typeof URL)try{return(new URL(a,c)).origin}catch(e){}var b=document.implementation.createHTMLDocument("");if(c){var d=b.createElement("base");d.href=c;b.head.appendChild(d)}d=b.createElement("a");d.href=a;b.body.appendChild(d);b=d.protocol+"//"+d.hostname;a.match(/\/\/[^/]+:[0-9]+\//)&&(b+=d.port?":"+
d.port:"");return b}},ca=[],da,Za=function(a){ca=ca.filter(function(c){var b=c.callback;return c.element===a?(b(),!1):!0})};if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window){var qa=new IntersectionObserver(function(a){a.forEach(function(a){var b=a.target;0<a.intersectionRatio&&(qa.unobserve(b),Za(b))})},{threshold:.25});da=qa.observe.bind(qa)}else{da=function(a){var c;a:{c=document.documentElement;if(c.contains(a)&&"none"!==getComputedStyle(a).display){var b=a.getBoundingClientRect(),
d=a.parentNode,e=b;do{var g=getComputedStyle(d);if("none"===g.display){c=void 0;break a}var l=void 0;d===document.body?l={top:0,left:0,right:c.clientWidth,bottom:c.clientHeight}:"visible"!==g.overflow&&(l=d.getBoundingClientRect());if(l){var g=Math.max(l.top,e.top),f=Math.max(l.left,e.left),h=Math.min(l.right,e.right),e=Math.min(l.bottom,e.bottom),l=h-f,t=e-g;if(0>=l||0>=t){c=void 0;break a}e={top:g,left:f,right:h,bottom:e,width:l,height:t}}d=d.parentNode}while(d!==c);if(e){c=e.width*e.height/(b.width*
b.height);break a}}c=void 0}.25<=c&&Za(a)};var ra=r.throttle(function(){ca.forEach(function(a){return da(a.element)})},500);window.addEventListener("resize",ra);document.addEventListener("scroll",ra);"MutationObserver"in window&&document.addEventListener("DOMContentLoaded",function(){(new MutationObserver(ra)).observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0})})}var ub=function(a,c){"function"===typeof c&&a instanceof Element&&(ca.push({element:a,callback:c}),da(a))},
x=new (function(){function a(){this._addons={}}var c=a.prototype;c._track=function(b,a){var c=window,d="connect.addon."+b;a=a||{};a.version=c._AP&&c._AP.version?c._AP.version:void 0;a.userAgent=c.navigator.userAgent;if(!c.AJS)return!1;if(c.AJS.Analytics)c.AJS.Analytics.triggerPrivacyPolicySafeEvent(d,a);else if(c.AJS.trigger)AJS.trigger("analyticsEvent",{name:d,data:a});else return!1;return!0};c._time=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()};
c.trackLoadingStarted=function(b){this._addons&&b&&b.id?(b.startLoading=this._time(),this._addons[b.id]=b):console.error("ACJS: cannot track loading analytics",this._addons,b)};c.trackLoadingEnded=function(b){var a=this;if(this._addons&&b&&this._addons[b.id]){var c=b.url,c=void 0!==c&&-1===c.indexOf("xdm_e\x3d"),g=this._time()-this._addons[b.id].startLoading,l=this.getIframeLoadApdex(g),f={addonKey:b.addon_key,moduleKey:b.key,moduleType:b.options?b.options.moduleType:void 0,moduleLocation:b.options?
b.options.moduleLocation:void 0,iframeLoadMillis:g,iframeLoadApdex:l,iframeIsCacheable:c,value:2E4<g?"x":Math.ceil(g/100)};"function"===typeof window.requestIdleCallback?window.requestIdleCallback(function(){return a._track("iframe.performance.load",f)},{timeout:100}):this._track("iframe.performance.load",f)}else console.error("ACJS: cannot track loading end analytics",this._addons,b)};c.getIframeLoadApdex=function(b){return 300>=b?1:1200>=b?.5:0};c.trackLoadingTimeout=function(b){var a=window.navigator.onLine;
"boolean"!==typeof a&&(a="not-supported");this._track("iframe.performance.timeout",{addonKey:b.addon_key,moduleKey:b.key,moduleType:b.options?b.options.moduleType:void 0,moduleLocation:b.options?b.options.moduleLocation:void 0,connectedStatus:a.toString()});this.trackLoadingEnded(b)};c.trackLoadingCancel=function(b){this._track("iframe.performance.cancel",{addonKey:b.addon_key,moduleKey:b.key,moduleType:b.options?b.options.moduleType:void 0,moduleLocation:b.options?b.options.moduleLocation:void 0})};
c.trackUseOfDeprecatedMethod=function(b,a){this._track("jsapi.deprecated",{addonKey:a.addon_key,moduleKey:a.key,methodUsed:b})};c.trackMultipleDialogOpening=function(b,a){this._track("jsapi.dialog.multiple",{addonKey:a.addon_key,moduleKey:a.key,dialogType:b})};c.trackVisible=function(b){this._track("iframe.is_visible",{addonKey:b.addon_key,moduleKey:b.key})};c.dispatch=function(b,a){this._track(b,a)};c.trackExternal=function(b,a){this._track(b,a)};return a}());h.fn&&f.register("iframe-create",function(a){x.trackLoadingStarted(a.extension)});
f.register("iframe-bridge-start",function(a){x.trackLoadingStarted(a.extension)});f.register("iframe-bridge-established",function(a){x.trackLoadingEnded(a.extension);ub(document.getElementById(a.extension.id),function(){x.trackVisible(a.extension)})});f.register("iframe-bridge-timeout",function(a){x.trackLoadingTimeout(a.extension)});f.register("iframe-bridge-cancelled",function(a){x.trackLoadingCancel(a.extension)});f.register("analytics-deprecated-method-used",function(a){x.trackUseOfDeprecatedMethod(a.methodUsed,
a.extension)});f.register("iframe-destroyed",function(a){delete x._addons[a.extension.extension_id]});f.register("analytics-external-event-track",function(a){x.trackExternal(a.eventName,a.values)});var $a={timeout:function(a,c){f.dispatch("iframe-bridge-timeout",{$el:a,extension:c})},cancelled:function(a,c){f.dispatch("iframe-bridge-cancelled",{$el:a,extension:c})}},sa={loading:'\x3cdiv class\x3d"ap-loading"\x3e\x3cdiv class\x3d"small-spinner"\x3e\x3c/div\x3eLoading app...\x3c/div\x3e',"load-timeout":'\x3cdiv class\x3d"ap-load-timeout"\x3e\x3cdiv class\x3d"small-spinner"\x3e\x3c/div\x3eApp is not responding. Wait or \x3ca href\x3d"#" class\x3d"ap-btn-cancel"\x3ecancel\x3c/a\x3e?\x3c/div\x3e',
"load-error":"App failed to load."},S=new (function(){function a(){this._stateRegistry={}}var c=a.prototype;c._loadingContainer=function(b){return b.find(".ap-status-indicator")};c.render=function(){var b=document.createElement("div");b.classList.add("ap-status-indicator");b.innerHTML=sa.loading;b=h(b);this._startSpinner(b);return b};c._startSpinner=function(b){setTimeout(function(){var a=b.find(".small-spinner");a.length&&a.spin&&a.spin({lines:12,length:3,width:2,radius:3,trail:60,speed:1.5,zIndex:1})},
10)};c.hide=function(b,a){clearTimeout(this._stateRegistry[a]);delete this._stateRegistry[a];this._loadingContainer(b)[0].style.display="none"};c.cancelled=function(b,a){var c=sa["load-error"];this._loadingContainer(b).empty().text(c)};c._setupTimeout=function(b,a){this._stateRegistry[a.id]=setTimeout(function(){$a.timeout(b,a)},12E3)};c.timeout=function(b,a){var c=h(sa["load-timeout"]),d=this._loadingContainer(b);d.empty().append(c);this._startSpinner(d);h("a.ap-btn-cancel",d).click(function(){$a.cancelled(b,
a)});delete this._stateRegistry[a];return d};return a}());f.register("iframe-create",function(a){a.extension.options.noDom||S._setupTimeout(a.$el.parents(".ap-iframe-container"),a.extension)});f.register("iframe-bridge-established",function(a){a.extension.options.noDom||S.hide(a.$el.parents(".ap-iframe-container"),a.extension.id)});f.register("iframe-bridge-timeout",function(a){a.extension.options.noDom||S.timeout(a.$el,a.extension.id)});f.register("iframe-bridge-cancelled",function(a){a.extension.options.noDom||
S.cancelled(a.$el,a.extension.id)});for(var vb=ka(function(a){function c(b,d){a.exports=c=Object.setPrototypeOf||function(b,a){b.__proto__=a;return b};return c(b,d)}a.exports=c}),wb=ka(function(a){function c(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(d){return!1}}function b(d,e,g){c()?a.exports=b=Reflect.construct:a.exports=b=function(b,
a,c){var d=[null];d.push.apply(d,a);b=new (Function.bind.apply(b,d));c&&vb(b,c.prototype);return b};return b.apply(null,arguments)}a.exports=b}),xb=function(a){function c(b){var c;b=b||{};c=a.call(this,b)||this;c._registeredExtensions=b.extensions||{};c._registeredAPIModules={};c._registeredAPIModules._globals={};c._pendingCallbacks={};c._keycodeCallbacks={};c._clickHandler=null;c._pendingEvents={};c._messageHandlers={init:c._handleInit,req:c._handleRequest,resp:c._handleResponse,broadcast:c._handleBroadcast,
event_query:c._handleEventQuery,key_triggered:c._handleKeyTriggered,addon_clicked:c._handleAddonClick,get_host_offset:c._getHostOffset,unload:c._handleUnload,sub:c._handleSubInit};return c}Xa(c,a);var b=c.prototype;b._padUndefinedArguments=function(b,a){return b.length>=a?b:b.concat(Array(a-b.length))};b._verifyAPI=function(b,a){function c(b,a){Object.getOwnPropertyNames(a).forEach(function(d){"object"===typeof a[d]&&b[d]?c(b[d],a[d]):"parent"===a[d]&&b[d]&&(f=!0)})}var d=b.data.targets;if(d){var e=
this.getApiSpec(),f=!1;c(e,d);b.source.postMessage({type:"api_tamper",tampered:f},a.extension.url)}};b._handleInit=function(b,a){this._registeredExtensions[a.extension_id].source=b.source;a.initCallback&&(a.initCallback(b.data.eid),delete a.initCallback);b.data.targets&&this._verifyAPI(b,a)};b._handleSubInit=function(b,a){if(a.extension.options.noSub)r.error("Sub-Extension requested by ["+a.extension.addon_key+"] but feature is disabled");else{var c=b.data;this.registerExtension(c.ext.id,{extension:c.ext});
this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,{sub:c.ext,type:c.type,addon_key:a.extension.addon_key,key:a.extension.key,extension_id:a.extension_id})}};b._getHostOffset=function(b,a){var c=b.source,d=null,e=a||window;e===e.top&&"function"===typeof e.getHostOffsetFunctionOverride&&(d=e.getHostOffsetFunctionOverride(c));if("number"!==typeof d)for(d=0;!this._hasSameOrigin(c);)d++,c=c.parent;b.source.postMessage({hostFrameOffset:d},b.origin)};b._hasSameOrigin=function(b){if(b===
b.top)return!0;try{var a="test_var_"+Math.random().toString(16).substr(2);b[a]=!0;return b[a]}catch(g){}return!1};b._handleResponse=function(b){b=b.data;var a=this._pendingCallbacks[b.mid];a&&(delete this._pendingCallbacks[b.mid],a.apply(window,b.args))};b.registerRequestNotifier=function(b){this._registeredRequestNotifier=b};b._handleRequest=function(b,a){function c(){var c=r.sanitizeStructuredClone(r.argumentsToArray(arguments));b.source.postMessage({mid:b.data.mid,type:"resp",forPlugin:!0,args:c},
a.extension.url)}var d=b.data,e=this._registeredAPIModules[d.mod],f=this.getRegisteredExtensions(a.extension)[0];if(e){var h=d.fn;if(d._cls){var k=e[d._cls],m=d.mod+"-"+d._cls+"-";c._id=d._id;"constructor"===h?(k._construct||(k.constructor.prototype._destroy=function(){delete this._context._proxies[m+this._id]},k._construct=function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];b=wb(k.constructor,a);a=a[a.length-1];b._id=a._id;b._context=a._context;return b._context._proxies[m+
b._id]=b}),e=k,h="_construct"):e=f._proxies[m+d._id]}var n=e[h];if(n){var p=d.args,q=n.length-1;"_construct"===h&&(q=e.constructor.length-1);c._context=f;p=this._padUndefinedArguments(p,q);p.push(c);e=n.apply(e,p);n.returnsPromise&&("object"!==typeof e&&"function"!==typeof e||"function"!==typeof e.then?c("Defined module method did not return a promise."):e.then(function(b){c(void 0,b)})["catch"](function(b){b=b instanceof Error?b.message:b;c(b)}));this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,
{module:d.mod,fn:d.fn,type:d.type,addon_key:a.extension.addon_key,key:a.extension.key,extension_id:a.extension_id})}}};b._handleBroadcast=function(b,a){var c=b.data;this.dispatch(c.etyp,function(b){return b.extension.addon_key===a.extension.addon_key&&b.extension_id!==a.extension_id},c.evnt,null,null)};b._handleKeyTriggered=function(b,a){var c=b.data,d=this._keycodeKey(c.keycode,c.modifiers,a.extension_id);(d=this._keycodeCallbacks[d])&&d.forEach(function(b){b.call(null,{addon_key:a.extension.addon_key,
key:a.extension.key,extension_id:a.extension_id,keycode:c.keycode,modifiers:c.modifiers})},this)};b.defineAPIModule=function(b,a){a=a||"_globals";this._registeredAPIModules[a]=r.extend({},this._registeredAPIModules[a]||{},b);return this._registeredAPIModules};b.isAPIModuleDefined=function(b){return"undefined"!==typeof this._registeredAPIModules[b]};b._pendingEventKey=function(b,a){var c=b.addon_key||"global";b.key&&(c=c+"@@"+b.key);return c+"@@"+a};b.queueEvent=function(b,a,c,l){if(this._findRegistrations(a).some(function(b){return void 0!==
b.registered_events},this))this.dispatch(b,a,c,l);else{this._cleanupInvalidEvents();var d=(new Date).getTime();this._pendingEvents[this._pendingEventKey(a,d)]={type:b,targetSpec:a,event:c,callback:l,time:d,uid:r.randomString()}}};b._cleanupInvalidEvents=function(){var b=this,a=(new Date).getTime();Object.keys(this._pendingEvents).forEach(function(c){3E4>=a-b._pendingEvents[c].time||delete b._pendingEvents[c]})};b._handleEventQuery=function(b,a){var c=this,d={},e=(new Date).getTime();Object.keys(this._pendingEvents).forEach(function(g){var l=
c._pendingEvents[g],f=3E4>=e-l.time,E=!l.targetSpec||0!==c._findRegistrations(l.targetSpec).length;E&&l.targetSpec.key&&(E=l.targetSpec.addon_key===a.extension.addon_key&&l.targetSpec.key===a.extension.key);f&&E?(d[g]=l,l.targetSpec=l.targetSpec||{},c.dispatch(l.type,l.targetSpec,l.event,l.callback,b.source)):f||delete c._pendingEvents[g]});this._registeredExtensions[a.extension_id].registered_events=b.data.args;return d};b._handleUnload=function(b,a){a&&(a.extension_id&&this._registeredExtensions[a.extension_id]&&
delete this._registeredExtensions[a.extension_id].source,a.unloadCallback&&a.unloadCallback(b.data.eid))};b.dispatch=function(b,a,c,l,f){function d(a,c){if(a.source&&a.source.postMessage){var d;l&&(d=r.randomString(),this._pendingCallbacks[d]=l);a.source.postMessage({type:"evt",mid:d,etyp:b,evnt:c},a.extension.url)}}this._findRegistrations(a||{}).forEach(function(b){f&&!b.source&&(b.source=f);b.source&&r._bind(this,d)(b,c)},this)};b._findRegistrations=function(b){var a=this;if(0===this._registeredExtensions.length)return r.error("no registered extensions",
this._registeredExtensions),[];var c=Object.getOwnPropertyNames(b),d=Object.getOwnPropertyNames(this._registeredExtensions).map(function(b){return a._registeredExtensions[b]});return b instanceof Function?d.filter(b):d.filter(function(a){return c.every(function(c){return a.extension[c]===b[c]})})};b.registerExtension=function(b,a){a._proxies={};a.extension_id=b;this._registeredExtensions[b]=a};b._keycodeKey=function(b,a,c){var d=b;a&&("string"===typeof a&&(a=[a]),a.sort(),a.forEach(function(b){d+=
"$$"+b},this));return d+"__"+c};b.registerKeyListener=function(b,a,c,l){"string"===typeof c&&(c=[c]);var d=this._registeredExtensions[b];b=this._keycodeKey(a,c,b);this._keycodeCallbacks[b]||(this._keycodeCallbacks[b]=[],d.source.postMessage({type:"key_listen",keycode:a,modifiers:c,action:"add"},d.extension.url));this._keycodeCallbacks[b].push(l)};b.unregisterKeyListener=function(b,a,c,l){var d=this._keycodeKey(a,c,b),e=this._keycodeCallbacks[d];b=this._registeredExtensions[b];e&&(l?(l=e.indexOf(l),
this._keycodeCallbacks[d].splice(l,1)):delete this._keycodeCallbacks[d],b.source&&b.source.postMessage&&b.source.postMessage({type:"key_listen",keycode:a,modifiers:c,action:"remove"},b.extension.url))};b.registerClickHandler=function(b){if("function"!==typeof b)throw Error("callback must be a function");if(null!==this._clickHandler)throw Error("ClickHandler already registered");this._clickHandler=b};b._handleAddonClick=function(b,a){"function"===typeof this._clickHandler&&this._clickHandler({addon_key:a.extension.addon_key,
key:a.extension.key,extension_id:a.extension_id})};b.unregisterClickHandler=function(){this._clickHandler=null};b.getApiSpec=function(b){function a(b){return Object.getOwnPropertyNames(b).reduce(function(c,d){var e=b[d];switch(typeof e){case "function":c[d]={args:r.argumentNames(e),returnsPromise:e.returnsPromise||!1};break;case "object":e.hasOwnProperty("constructor")&&(c[d]=a(e))}return c},{})}var c=this;return Object.getOwnPropertyNames(this._registeredAPIModules).reduce(function(d,e){var g=c._registeredAPIModules[e];
if("undefined"===typeof g.addonKey||g.addonKey===b)d[e]=a(g);return d},{})};b._originEqual=function(b,a){function c(b){return"string"===typeof b&&0<b.length}var d=r.getOrigin(b);return c(b)&&c(a)&&c(d)?a===d:!1};b._checkOrigin=function(b,a){var c=["init"],d=a&&!a.source&&-1<c.indexOf(b.data.type),c=a&&b.source===a.source,d=a&&this._originEqual(a.extension.url,b.origin)&&(d||c);"get_host_offset"===b.data.type&&window===window.top&&(d=!0);"unload"!==b.data.type||!c&&void 0!==b.source||(d=!0);return d};
b.getRegisteredExtensions=function(b){return b?this._findRegistrations(b):this._registeredExtensions};b.unregisterExtension=function(b){b=this._findRegistrations(b);0!==b.length&&b.forEach(function(b){var a=this;Object.keys(this._pendingEvents).forEach(function(c){var d=a._pendingEvents[c].targetSpec||{};d.addon_key===b.extension.addon_key&&d.key===b.extension.key&&delete a._pendingEvents[c]});delete this._registeredExtensions[b.extension_id]},this)};return c}(function(){function a(b){this._registerListener((b||
{}).listenOn)}var c=a.prototype;c._registerListener=function(b){b&&b.addEventListener||(b=window);b.addEventListener("message",r._bind(this,this._receiveMessage),!1)};c._receiveMessage=function(b){var a=this._messageHandlers[b.data.type],c=b.data.eid,g;c&&this._registeredExtensions&&(g=this._registeredExtensions[c]);if(!a||!this._checkOrigin(b,g))return!1;a.call(this,b,g)};return a}()),p=new (function(){function a(){this._xdm=new xb}var c=a.prototype;c.dispatch=function(b,a,c,g){this._xdm.queueEvent(b,
a,c,g);return this.getExtensions(a)};c.broadcast=function(b,a,c){this._xdm.dispatch(b,a,c,null,null);return this.getExtensions(a)};c._createId=function(b){if(!b.addon_key||!b.key)throw Error("Extensions require addon_key and key");return b.addon_key+"__"+b.key+"__"+r.randomString()};c.create=function(b,a,c){a=this.registerExtension(b,a,c);c=b.options||{};c={extension_id:a,api:this._xdm.getApiSpec(b.addon_key),origin:r.locationOrigin(),options:c};return{id:a,name:JSON.stringify(c),src:b.url}};c.registerRequestNotifier=
function(b){this._xdm.registerRequestNotifier(b)};c.registerExtension=function(b,a,c){var d=this._createId(b);this._xdm.registerExtension(d,{extension:b,initCallback:a,unloadCallback:c});return d};c.registerKeyListener=function(b,a,c,g){this._xdm.registerKeyListener(b,a,c,g)};c.unregisterKeyListener=function(b,a,c,g){this._xdm.unregisterKeyListener(b,a,c,g)};c.registerClickHandler=function(b){this._xdm.registerClickHandler(b)};c.unregisterClickHandler=function(){this._xdm.unregisterClickHandler()};
c.defineModule=function(b,a,c){this._xdm.defineAPIModule(a,b,c)};c.isModuleDefined=function(b){return this._xdm.isAPIModuleDefined(b)};c.defineGlobals=function(b){this._xdm.defineAPIModule(b)};c.getExtensions=function(b){return this._xdm.getRegisteredExtensions(b)};c.unregisterExtension=function(b){return this._xdm.unregisterExtension(b)};c.returnsPromise=function(b){b.returnsPromise=!0};return a}()),q={broadcast:function(a,c,b){p.dispatch(a,c,b);f.dispatch("event-dispatch",{type:a,targetSpec:c,event:b})},
broadcastPublic:function(a,c,b){f.dispatch("event-public-dispatch",{type:a,event:c,sender:b});var d;d=b.options||{};var e=["contextJwt","url"];if(null==d)d={};else{var g={},l=Object.keys(d),h,k;for(k=0;k<l.length;k++)h=l[k],0<=e.indexOf(h)||(g[h]=d[h]);d=g}p.dispatch(a,{},{sender:{addonKey:b.addon_key,key:b.key,options:r.sanitizeStructuredClone(d)},event:c})}},ab=Object.getOwnPropertySymbols,yb=Object.prototype.hasOwnProperty,zb=Object.prototype.propertyIsEnumerable,ea=function(){try{if(!Object.assign)return!1;
var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var c={},a=0;10>a;a++)c["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(c).map(function(b){return c[b]}).join(""))return!1;var b={};"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},b)).join("")?!1:!0}catch(d){return!1}}()?Object.assign:function(a,c){var b,d;if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");
d=Object(a);for(var e,g=1;g<arguments.length;g++){b=Object(arguments[g]);for(var f in b)yb.call(b,f)&&(d[f]=b[f]);if(ab){e=ab(b);for(var h=0;h<e.length;h++)zb.call(b,e[h])&&(d[e[h]]=b[e[h]])}}return d},k={escapeSelector:Ga,stringToDimension:function(a){var c,b="px";"string"===typeof a&&(c=a.indexOf("%")===a.length-1,a=parseInt(a,10),c&&(b="%"));if(!isNaN(a))return a+b},getIframeByExtensionId:function(a){return h("iframe#"+Ga(a))},first:function(a,c){return c?a.slice(0,c):a[0]},last:function(a){return a[a.length-
1]},pick:function(a,c){return"object"!==typeof a?{}:Object.keys(a).filter(function(b){return 0<=c.indexOf(b)}).reduce(function(b,c){var d;return ea(b,(d={},d[c]=a[c],d))},{})},debounce:function(a,c){var b;return function(){var d=this,e=[].slice.call(arguments);b&&clearTimeout(b);b=setTimeout(function(){b=null;a.apply(d,e)},c||50)}},isSupported:function(a,c,b,d){return a&&a[c]&&a[c].supports?a[c].supports(b):d},extend:ea},T={open:function(a,c){f.dispatch("dialog-extension-open",{extension:a,options:c})},
close:function(){f.dispatch("dialog-close-active",{})},addUserButton:function(a,c){f.dispatch("dialog-button-add",{button:{text:a.text,identifier:a.identifier,data:{userButton:!0}},extension:c})}},z={close:function(a){f.dispatch("dialog-close",{dialog:a.dialog,extension:a.extension,customData:a.customData})},closeActive:function(a){f.dispatch("dialog-close-active",a)},clickButton:function(a,c,b){f.dispatch("dialog-button-click",{identifier:a,$el:c,extension:b})},toggleButton:function(a){f.dispatch("dialog-button-toggle",
a)},toggleButtonVisibility:function(a){f.dispatch("dialog-button-toggle-visibility",a)}},G={registerKeyEvent:function(a){p.registerKeyListener(a.extension_id,a.key,a.modifiers,a.callback);f.dispatch("dom-event-register",a)},unregisterKeyEvent:function(a){p.unregisterKeyListener(a.extension_id,a.key,a.modifiers,a.callback);f.dispatch("dom-event-unregister",a)},registerWindowKeyEvent:function(a){window.addEventListener("keydown",function(c){c.keyCode===a.keyCode&&a.callback()})},registerClickHandler:function(a){p.registerClickHandler(function(c){(c=
document.getElementById(c.extension_id))&&a(c)})},unregisterClickHandler:function(){p.unregisterClickHandler()}},bb=new (function(){function a(){}a.prototype.randomIdentifier=function(){return Math.random().toString(16).substring(7)};return a}()),A=new (function(){function a(){}var c=a.prototype;c._maxDimension=function(b,a){var c=k.stringToDimension(b),d=parseInt(c,10),f=parseInt(a,10);return-1<c.indexOf("%")&&100<=d||d>f?"100%":c};c._closeOnEscape=function(b){return!1===b.closeOnEscape?!1:!0};c._size=
function(b){var a=b.size;"x-large"===b.size&&(a="xlarge");"maximum"!==b.size&&"100%"===b.width&&"100%"===b.height&&(a="fullscreen");return a};c._header=function(b){var a="";switch(typeof b){case "string":a=b;break;case "object":a=b.value}return a};c._hint=function(b){return"string"===typeof b?b:""};c._chrome=function(b){var a=!1;"boolean"===typeof b.chrome&&(a=b.chrome);"fullscreen"===b.size&&(a=!0);"maximum"===b.size&&(a=!1);return a};c._width=function(b){if(!b.size)return b.width?this._maxDimension(b.width,
h(window).width()):"50%"};c._height=function(b){if(!b.size)return b.height?this._maxDimension(b.height,h(window).height()):"50%"};c._actions=function(b){var a=[];b=b||{};b.actions||(a=[{name:"submit",identifier:"submit",text:b.submitText||"Submit",type:"primary",disabled:!0},{name:"cancel",identifier:"cancel",text:b.cancelText||"Cancel",type:"link",immutable:!0}]);b.buttons&&(a=a.concat(this._buttons(b)));return a};c._id=function(b){"string"!==typeof b&&(b=Math.random().toString(36).substring(2,8));
return b};c._buttons=function(b){var a=[];b.buttons&&Array.isArray(b.buttons)&&b.buttons.forEach(function(b){var c,d,e=!1;b.text&&"string"===typeof b.text&&(c=b.text);d=b.identifier&&"string"===typeof b.identifier?b.identifier:bb.randomIdentifier();b.disabled&&!0===b.disabled&&(e=!0);a.push({text:c,identifier:d,type:"secondary",custom:!0,disabled:e})});return a};c._onHide=function(b){return"function"===typeof b.onHide?b.onHide:function(){}};c.sanitizeOptions=function(b){b=b||{};b={chrome:this._chrome(b),
header:this._header(b.header),hint:this._hint(b.hint),width:this._width(b),height:this._height(b),$content:b.$content,extension:b.extension,actions:this._actions(b),id:this._id(b.id),size:b.size,closeOnEscape:this._closeOnEscape(b),onHide:this._onHide(b)};b.size=this._size(b);return b};c.moduleOptionsFromGlobal=function(b,a){var c={chrome:!0};return window._AP&&window._AP.dialogModules&&window._AP.dialogModules[b]&&window._AP.dialogModules[b][a]?k.extend({},c,window._AP.dialogModules[b][a].options):
!1};c.trackMultipleDialogOpening=function(b,a){var c;c=this._size(a);h(".ap-aui-dialog2:visible").length&&(c=h("#macro-browser-dialog").length||AJS.Confluence&&AJS.Confluence.Editor&&AJS.Confluence.Editor.currentEditMode?"fullscreen"===c?"connect-macro-multiple-fullscreen":"connect-macro-multiple":"connect-multiple",x.trackMultipleDialogOpening(c,b))};c.assertActiveDialogOrThrow=function(b,a){if(!b.isActiveDialog(a))throw Error("Failed to find an active dialog for: "+a);};return a}()),fa={notifyIframeCreated:function(a,
c){f.dispatch("iframe-create",{$el:a,extension:c})},notifyBridgeEstablished:function(a,c){f.dispatch("iframe-bridge-established",{$el:a,extension:c})},notifyIframeDestroyed:function(a){"string"===typeof a&&(a={id:a});p.getExtensions(a).forEach(function(a){f.dispatch("iframe-destroyed",{extension:a});p.unregisterExtension({id:a.extension_id})},this)},notifyUnloaded:function(a,c){f.dispatch("iframe-unload",{$el:a,extension:c})}},lb=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+
a.charCodeAt(0).toString(16).toUpperCase()})},X={extract:function(a){return a.split("?")[1]||""},parse:function(a,c){c=ea({arrayFormat:"none"},c);var b=kb(c),d=Object.create(null);if("string"!==typeof a)return d;a=a.trim().replace(/^(\?|#|&)/,"");if(!a)return d;a.split("\x26").forEach(function(a){var c=a.replace(/\+/g," ").split("\x3d");a=c.shift();c=0<c.length?c.join("\x3d"):void 0;c=void 0===c?null:decodeURIComponent(c);b(decodeURIComponent(a),c,d)});return Object.keys(d).sort().reduce(function(b,
a){var c=d[a];c&&"object"===typeof c&&!Array.isArray(c)?b[a]=Ha(c):b[a]=c;return b},Object.create(null))},stringify:function(a,c){c=ea({encode:!0,strict:!0,arrayFormat:"none"},c);var b=jb(c);return a?Object.keys(a).sort().map(function(d){var e=a[d];if(void 0===e)return"";if(null===e)return u(d,c);if(Array.isArray(e)){var g=[];e.slice().forEach(function(a){void 0!==a&&g.push(b(d,a,g.length))});return g.join("\x26")}return u(d,c)+"\x3d"+u(e,c)}).filter(function(b){return 0<b.length}).join("\x26"):""}},
ob=function(a){var c,b;b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");var d=a.indexOf("\x3d");-1===d&&(d=b);b=[d,d===b?0:4-d%4];c=b[0];b=b[1];for(var d=new Ab(3*(c+b)/4-b),e=0,g=0<b?c-4:c,f=0;f<g;f+=4)c=y[a.charCodeAt(f)]<<18|y[a.charCodeAt(f+1)]<<12|y[a.charCodeAt(f+2)]<<6|y[a.charCodeAt(f+3)],d[e++]=c>>16&255,d[e++]=c>>8&255,d[e++]=c&255;2===b&&(c=y[a.charCodeAt(f)]<<2|y[a.charCodeAt(f+1)]>>4,d[e++]=c&255);1===b&&(c=y[a.charCodeAt(f)]<<10|y[a.charCodeAt(f+1)]<<
4|y[a.charCodeAt(f+2)]>>2,d[e++]=c>>8&255,d[e++]=c&255);return d},y=[],Ab="undefined"!==typeof Uint8Array?Uint8Array:Array,ga=0;64>ga;++ga)y["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(ga)]=ga;y[45]=62;y[95]=63;var nb=ka(function(a){function c(){}function b(){}(function(){function a(b,a){a=a||Infinity;for(var c,d=b.length,e=null,g=[],f=0;f<d;f++){c=b.charCodeAt(f);if(55295<c&&57344>c)if(e)if(56320>c){-1<(a-=3)&&g.push(239,191,189);e=c;continue}else c=e-55296<<10|
c-56320|65536,e=null;else{56319<c?-1<(a-=3)&&g.push(239,191,189):f+1===d?-1<(a-=3)&&g.push(239,191,189):e=c;continue}else e&&(-1<(a-=3)&&g.push(239,191,189),e=null);if(128>c){if(0>--a)break;g.push(c)}else if(2048>c){if(0>(a-=2))break;g.push(c>>6|192,c&63|128)}else if(65536>c){if(0>(a-=3))break;g.push(c>>12|224,c>>6&63|128,c&63|128)}else if(2097152>c){if(0>(a-=4))break;g.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw Error("Invalid code point");}return g}function e(b){try{return decodeURIComponent(b)}catch(l){return String.fromCharCode(65533)}}
c.prototype.encode=function(b){return"undefined"===typeof Uint8Array?a(b):new Uint8Array(a(b))};b.prototype.decode=function(b){for(var a=b.length,c="",d="",a=Math.min(b.length,a||Infinity),g=0;g<a;g++)127>=b[g]?(c+=e(d)+String.fromCharCode(b[g]),d=""):d+="%"+b[g].toString(16);return c+e(d)}})();a&&(a.exports.TextDecoderLite=b,a.exports.TextEncoderLite=c)}).TextDecoderLite,cb=60;f.register("jwt-skew-set",function(a){cb=a.skew});var db={parseJwtIssuer:function(a){return la(a).iss},parseJwtClaims:la,
isJwtExpired:function(a,c){void 0===c&&(c=cb);var b=la(a),d=0,e=Math.floor(Date.now()/1E3);b&&b.exp&&(d=b.exp);return d-c<e?!0:!1}},K={hasJwt:function(a){return ma(a)&&0!==ma(a).length},isJwtExpired:function(a){a=ma(a);return db.isJwtExpired(a)}},ta={registerContentResolver:function(a){f.dispatch("content-resolver-register-by-extension",a)},requestRefreshUrl:function(a){if(!a.resolver)throw Error("ACJS: No content resolver supplied");var c=a.resolver.call(null,k.extend({classifier:"json"},a.extension));
c.fail(function(b,c){f.dispatch("jwt-url-refreshed-failed",{extension:a.extension,$container:a.$container,errorText:c.text})});c.done(function(b){var c={};if("object"===typeof b)c=b;else if("string"===typeof b)try{c=JSON.parse(b)}catch(e){console.error("ACJS: invalid response from content resolver")}a.extension.url=c.url;k.extend(a.extension.options,c.options);f.dispatch("jwt-url-refreshed",{extension:a.extension,$container:a.$container,url:a.extension.url})});f.dispatch("jwt-url-refresh-request",
{data:a})},setClockSkew:function(a){"number"===typeof a?f.dispatch("jwt-skew-set",{skew:a}):console.error("ACJS: invalid JWT clock skew set")}},Bb={optionsToAttributes:function(a){var c={};if(a&&"object"===typeof a&&(a.width&&(c.width=k.stringToDimension(a.width)),a.height&&(c.height=k.stringToDimension(a.height)),"string"===typeof a.sandbox))if(Ia("com.atlassian.connect.acjs-sandbox-attr-check")){var b=document.createElement("iframe");c.sandbox=a.sandbox.split(" ").filter(function(a){return k.isSupported(b,
"sandbox",a,!0)}).join(" ")}else c.sandbox=a.sandbox,-1!==window.navigator.userAgent.indexOf("Firefox")&&(c.sandbox=c.sandbox.replace("allow-top-navigation-by-user-activation","allow-top-navigation"));return c}},ua=new (function(){function a(){this.store={}}var c=a.prototype;c.set=function(b,a){if(a){var c={};c[b]=a}else c=b;k.extend(this.store,c)};c.get=function(b){return b?this.store[b]:k.extend({},this.store)};return a}()),va={createSimpleXdmExtension:function(a){var c=Ja(a),b=ua.get();a.options=
c.options=k.extend({},c.options);a.options.globalOptions=b;b=p.create(c,function(){a.options.noDOM||(a.$el=h(document.getElementById(a.id)));fa.notifyBridgeEstablished(a.$el,a)},function(){fa.notifyUnloaded(a.$el,a)});c.id=b.id;a.id=b.id;k.extend(b,Bb.optionsToAttributes(a.options));return{iframeAttributes:b,extension:a}},extensionConfigSanitizer:Ja},H=new (function(){function a(){this._contentResolver=!1}var c=a.prototype;c.setContentResolver=function(b){this._contentResolver=b};c.resize=function(b,
a,c){b=k.stringToDimension(b);a=k.stringToDimension(a);c.css({width:b,height:a});c.trigger("resized",{width:b,height:a})};c.simpleXdmExtension=function(b,a){!b.url||K.hasJwt(b.url)&&K.isJwtExpired(b.url)?this._contentResolver?ta.requestRefreshUrl({extension:b,resolver:this._contentResolver,$container:a}):console.error("JWT is expired and no content resolver was specified"):this._appendExtension(a,this._simpleXdmCreate(b))};c._simpleXdmCreate=function(b){var a=va.createSimpleXdmExtension(b);b.id=a.iframeAttributes.id;
b.$el=this.render(a.iframeAttributes);return b};c._appendExtension=function(b,a){var c=b.find("iframe");0<c.length&&c.destroy();a.options.hideIframeUntilLoad&&a.$el.css({visibility:"hidden"}).load(function(){a.$el.css({visibility:""})});b.prepend(a.$el);fa.notifyIframeCreated(a.$el,a)};c._appendExtensionError=function(b,a){var c=h('\x3cdiv class\x3d"connect-resolve-error"\x3e\x3c/div\x3e'),d=h("\x3cp /\x3e").text(a);c.append('\x3cp class\x3d"error"\x3eError: The content resolver threw the following error:\x3c/p\x3e');
c.append(d);b.prepend(c)};c.resolverResponse=function(b){var a=this._simpleXdmCreate(b.extension);this._appendExtension(b.$container,a)};c.resolverFailResponse=function(b){this._appendExtensionError(b.$container,b.errorText)};c.render=function(b){b=b||{};b.referrerpolicy="no-referrer";return h("\x3ciframe /\x3e").attr(b).addClass("ap-iframe")};return a}());f.register("iframe-resize",function(a){H.resize(a.width,a.height,a.$el)});f.register("content-resolver-register-by-extension",function(a){H.setContentResolver(a.callback)});
f.register("jwt-url-refreshed",function(a){H.resolverResponse(a)});f.register("jwt-url-refreshed-failed",function(a){H.resolverFailResponse(a)});f.register("after:iframe-bridge-established",function(a){a.extension.options.noDom?a.extension.options.bridgeEstablished=!0:a.$el[0].bridgeEstablished=!0});var wa={clicked:function(a){f.dispatch("button-clicked",{$el:a})},toggle:function(a,c){f.dispatch("button-toggle",{$el:a,disabled:c})},toggleVisibility:function(a,c){f.dispatch("button-toggle-visibility",
{$el:a,hidden:c})}},Cb=["primary","link","secondary"],eb=0,w=new (function(){function a(){this.AP_BUTTON_CLASS="ap-aui-button"}var c=a.prototype;c.setType=function(b,a){a&&0<=Cb.indexOf(a)&&b.addClass("aui-button-"+a);return b};c.setDisabled=function(b,a){"undefined"===typeof a||b.data("immutable")||b.attr("aria-disabled",a);return b};c.setHidden=function(b,a){"undefined"===typeof a||b.data("immutable")||b.toggle(!a);return b};c._setId=function(b,a){a||(a="ap-button-"+eb,eb++);b.attr("id",a);return b};
c._additionalClasses=function(b,a){a&&("string"!==typeof a&&(a=a.join(" ")),b.addClass(a));return b};c.getName=function(b){return h(b).data("name")};c.getText=function(b){return h(b).text()};c.getIdentifier=function(b){return h(b).data("identifier")};c.isVisible=function(b){return h(b).is(":visible")};c.isEnabled=function(b){return"true"!==h(b).attr("aria-disabled")};c.render=function(b){var a=h("\x3cbutton /\x3e");b=b||{};a.addClass("aui-button "+this.AP_BUTTON_CLASS);a.text(b.text);a.data(b.data);
a.data({name:b.name||b.identifier,identifier:b.identifier||bb.randomIdentifier(),immutable:b.immutable||!1});this._additionalClasses(a,b.additionalClasses);this.setType(a,b.type);this.setDisabled(a,b.disabled||!1);this._setId(a,b.id);return a};return a}());h(function(){h("body").on("click","."+w.AP_BUTTON_CLASS,function(a){a=h(a.target).closest("."+w.AP_BUTTON_CLASS);"true"!==a.attr("aria-disabled")&&wa.clicked(a)})});f.register("button-toggle",function(a){w.setDisabled(a.$el,a.disabled)});f.register("button-toggle-visibility",
function(a){w.setHidden(a.$el,a.hidden)});var Db=["ap-iframe-container"],xa=new (function(){function a(){}var c=a.prototype;c.createExtension=function(b,a){var c=this._renderContainer();a&&!1===a.loadingIndicator||c.append(this._renderLoadingIndicator());H.simpleXdmExtension(b,c);return c};c._renderContainer=function(b){b=h("\x3cdiv /\x3e").attr(b||{});b.addClass(Db.join(" "));return b};c._renderLoadingIndicator=function(){return S.render()};return a}());f.register("iframe-create",function(a){var c=
"embedded-"+a.extension.id;a.extension.$el.parents(".ap-iframe-container").attr("id",c)});var Eb={defineCustomModule:function(a,c){var b={};c?(b.methods=c,b.name=a):b.methods=a;f.dispatch("module-define-custom",b)}},P={trackDeprecatedMethodUsed:function(a,c){f.dispatch("analytics-deprecated-method-used",{methodUsed:a,extension:c})},trackIframeBridgeStart:function(a){f.dispatch("iframe-bridge-start",{extension:a})},trackExternalEvent:function(a,c){f.dispatch("analytics-external-event-track",{eventName:a,
values:c})}},B={sanitizeTriggers:function(a){var c;Array.isArray(a)?c=a.join(" "):"string"===typeof a&&(c=a.trim());return c},uniqueId:function(){return"webitem-"+Math.floor(1E9*Math.random()).toString(16)},getExtensionKey:Y,getKey:na,getOptionsForWebItem:function(a){var c=Ka(a),b=a.hasClass("ap-inline-dialog")?"inlineDialog":"dialog",d=Ma(b,a);!d&&window._AP&&window._AP[b+"Options"]&&(d=k.extend({},window._AP[b+"Options"][c])||{});d||(d={},console.warn("no webitem "+b+"Options for "+c));d.productContext=
d.productContext||{};d.structuredContext=d.structuredContext||{};(a=Na(a))&&a.options&&(k.extend(d.productContext,a.options.productContext),k.extend(d.structuredContext,a.options.structuredContext),d.contextJwt=a.options.contextJwt);return d},getModuleOptionsByAddonAndModuleKey:La,getConfigFromTarget:Na},L=new function(){var a=this;this._providers={};this.registerProvider=function(c,b){a._providers[c]=b};this.getProvider=function(c){return a._providers[c]}},Fb=new (function(){function a(){this.moduleNamesToModules=
new Map}a.prototype.registerModule=function(a,b){var c=a.getModuleRegistrationName();this.moduleNamesToModules.set(c,a)};a.prototype.getModuleByName=function(a){return this.moduleNamesToModules.get(a)};a.prototype.getProviderByModuleName=function(a){if((a=this.moduleNamesToModules.get(a))&&a.isEnabled())return a.getProvider()};return a}()),n=new (function(){function a(){var b=this;this.create=function(b){return xa.createExtension(va.extensionConfigSanitizer(b))};this.dialog={create:function(b,a){var c=
B.getModuleOptionsByAddonAndModuleKey("dialog",b.addon_key,b.key),c=k.extend({},c||{},a);T.open(b,c)},close:function(a,c){var d=b.getFrameworkAdaptor().getProviderByModuleName("dialog");d?(A.assertActiveDialogOrThrow(d,a),q.broadcast("dialog.close",{addon_key:a},c),d.close()):T.close()}};this.registerContentResolver={resolveByExtension:function(a){b._contentResolver=a;ta.registerContentResolver({callback:a})}};this.getContentResolver=function(){return b._contentResolver};this.registerProvider=function(b,
a){L.registerProvider(b,a)};this.getProvider=function(b){return L.getProvider(b)};this.frameworkAdaptor=Fb}var c=a.prototype;c.createExtension=function(b){b.options=b.options||{};b.options.noDom=!0;b=va.createSimpleXdmExtension(b);P.trackIframeBridgeStart(b.extension);return b};c.setFrameworkAdaptor=function(b){this.frameworkAdaptor=b};c.getFrameworkAdaptor=function(){return this.frameworkAdaptor};c._cleanExtension=function(b){return k.pick(b,["id","addon_key","key","options","url"])};c.onIframeEstablished=
function(b){b._wrapper=function(a){b.call({},{$el:a.$el,extension:this._cleanExtension(a.extension)})}.bind(this);f.register("after:iframe-bridge-established",b._wrapper)};c.offIframeEstablished=function(b){if(b._wrapper)f.unregister("after:iframe-bridge-established",b._wrapper);else throw Error("cannot unregister event dispatch listener without _wrapper reference");};c.onIframeUnload=function(b){var a=this;f.register("after:iframe-unload",function(c){b.call({},{$el:c.$el,extension:a._cleanExtension(c.extension)})})};
c.onPublicEventDispatched=function(b){b._wrapper=function(a){b.call({},{type:a.type,event:a.event,extension:this._cleanExtension(a.sender)})}.bind(this);f.register("after:event-public-dispatch",b._wrapper)};c.offPublicEventDispatched=function(a){if(a._wrapper)f.unregister("after:event-public-dispatch",a._wrapper);else throw Error("cannot unregister event dispatch listener without _wrapper reference");};c.onKeyEvent=function(a,c,e,g){G.registerKeyEvent({extension_id:a,key:c,modifiers:e,callback:g})};
c.offKeyEvent=function(a,c,e,g){G.unregisterKeyEvent({extension_id:a,key:c,modifiers:e,callback:g})};c.onFrameClick=function(a){if("function"!==typeof a)throw Error("handleIframeClick must be a function");G.registerClickHandler(a)};c.offFrameClick=function(){G.unregisterClickHandler()};c.destroy=function(a){fa.notifyIframeDestroyed({id:a})};c.defineModule=function(a,c){Eb.defineCustomModule(a,c)};c.isModuleDefined=function(a){return p.isModuleDefined(a)};c.broadcastEvent=function(a,c,e){q.broadcast(a,
c,e)};c.getExtensions=function(a){return p.getExtensions(a)};c.trackDeprecatedMethodUsed=function(a,c){P.trackDeprecatedMethodUsed(a,c)};c.trackAnalyticsEvent=function(a,c){P.trackExternalEvent(a,c)};c.setJwtClockSkew=function(a){ta.setClockSkew(a)};c.isJwtExpired=function(a,c){return c?db.isJwtExpired(a):K.isJwtExpired(a)};c.hasJwt=function(a){return K.hasJwt(a)};c.getBooleanFeatureFlag=function(a){return Ia(a)};c.setExtensionConfigurationOptions=function(a,c){ua.set(a,c)};c.getExtensionConfigurationOption=
function(a){return ua.get(a)};return a}()),pb=/^ap-dialog-[0-9A-Za-z]+$/,Gb="small medium large xlarge fullscreen maximum".split(" "),I=new (function(){function a(){}var c=a.prototype;c._renderHeaderCloseBtn=function(){var a=h("\x3ca /\x3e").addClass("aui-dialog2-header-close"),c=h("\x3cspan /\x3e").addClass("aui-icon aui-icon-small aui-iconfont-close-dialog").text("Close");a.append(c);return a};c._renderFullScreenHeader=function(a,c){var b=h("\x3cdiv /\x3e").addClass("header-title-container aui-item expanded"),
d=h("\x3cdiv /\x3e").append(h("\x3cspan /\x3e").addClass("header-title").text(c.header||""));b.append(d);a.append(b).append(this._renderHeaderActions(c.actions,c.extension));return a};c._renderHeader=function(a){var b=h("\x3cheader /\x3e").addClass("aui-dialog2-header");if("fullscreen"===a.size)return this._renderFullScreenHeader(b,a);a.header&&(a=h("\x3ch2 /\x3e").addClass("aui-dialog2-header-main").text(a.header),b.append(a));b.append(this._renderHeaderCloseBtn());return b};c._renderHeaderActions=
function(a,c){var b=h("\x3cdiv /\x3e").addClass("aui-item header-control-panel");a[0].additionalClasses=["aui-icon","aui-icon-small","aui-iconfont-success"];a[1].additionalClasses=["aui-icon","aui-icon-small","aui-iconfont-close-dialog"];this._renderActionButtons(a,c).forEach(function(a){b.append(a)});return b};c._renderContent=function(a){var b=h("\x3cdiv /\x3e").addClass("aui-dialog2-content");a&&b.append(a);return b};c._renderFooter=function(a){var b=h("\x3cfooter /\x3e").addClass("aui-dialog2-footer");
if("fullscreen"!==a.size){var c=this._renderFooterActions(a.actions,a.extension);b.append(c)}a.hint&&(a=h("\x3cdiv /\x3e").addClass("aui-dialog2-footer-hint").text(a.hint),b.append(a));return b};c._renderActionButtons=function(a,c){var b=this,d=[];[].concat(a).forEach(function(a){d.push(b._renderDialogButton({text:a.text,name:a.name,type:a.type,additionalClasses:a.additionalClasses,custom:a.custom||!1,identifier:a.identifier,immutable:a.immutable,disabled:a.disabled||!1},c))});return d};c._renderFooterActions=
function(a,c){var b=h("\x3cdiv /\x3e").addClass("aui-dialog2-footer-actions");this._renderActionButtons(a,c).forEach(function(a){b.append(a)});return b};c._renderDialogButton=function(a,c){a.additionalClasses=a.additionalClasses||[];a.additionalClasses.push("ap-aui-dialog-button");a.custom&&a.additionalClasses.push("ap-dialog-custom-button");var b=w.render(a);b.extension=c;return b};c.render=function(a){var b=k.extend({},a);a=A.sanitizeOptions(a);var c=h("\x3csection /\x3e").attr({role:"dialog",id:"ap-dialog-"+
a.id});c.attr("data-aui-modal","true");c.data({"aui-remove-on-hide":!0,extension:a.extension});c.addClass("aui-layer aui-dialog2 ap-aui-dialog2");0<=Gb.indexOf(a.size)&&c.addClass("aui-dialog2-"+a.size);if("fullscreen"===a.size||"maximum"===a.size)a.chrome&&c.addClass("ap-header-controls"),c.addClass("aui-dialog2-maximum");c.append(this._renderContent(a.$content));a.chrome?(c.prepend(this._renderHeader({header:a.header,actions:a.actions,size:a.size})),c.append(this._renderFooter({extension:a.extension,
actions:a.actions,hint:a.hint,size:a.size}))):c.addClass("aui-dialog2-chromeless");var g=AJS.dialog2(c);g._id=a.id;"fullscreen"===a.size&&(a.height=a.width="100%");a.size&&"fullscreen"!==a.size||AJS.layer(c).changeSize(a.width,a.height);if(a.onHide)g.on("hide",a.onHide);g.show();g.$el.data("extension",a.extension);g.$el.data("originalOptions",b);return c};c.setIframeDimensions=function(a){H.resize("100%","100%",a)};c.getActive=function(){return D()};c.buttonIsEnabled=function(a){var b=D();if(b)return a=
Z(a,b.$el),w.isEnabled(a)};c.buttonIsVisible=function(a){var b=D();if(b)return a=Z(a,b.$el),w.isVisible(a)};c.getByExtension=function(a){var b;if("function"===typeof a)b=a;else{var c=Object.getOwnPropertyNames(a);b=function(b){var d=h(b).data("extension");return c.every(function(b){return d[b]===a[b]})}}return h(".ap-aui-dialog2").toArray().filter(b).map(function(a){return AJS.dialog2(a)})};c.addButton=function(a,c){c.custom=!0;var b=this._renderDialogButton(c,a),d=this.getByExtension({addon_key:a.addon_key,
key:a.key})[0].$el;Oa(d).append(b);return d};return a}());f.register("iframe-bridge-established",function(a){if(a.extension.options.isDialog){var c,b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");b?(c=b.close,b.setButtonDisabled("submit",!1)):(z.toggleButton({identifier:"submit",enabled:!0}),c=function(){z.close({dialog:D(),extension:a.extension})});a.extension.options.preventDialogCloseOnEscape||(G.registerKeyEvent({extension_id:a.extension.id,key:27,callback:c}),f.registerOnce("dialog-close",
function(b){G.unregisterKeyEvent({extension_id:a.extension.id,key:27})}))}});f.register("dialog-close-active",function(a){var c=D();c&&z.close({customData:a.customData,dialog:c,extension:a.extension})});f.register("dialog-close",function(a){a.dialog&&a.dialog.hide()});f.register("dialog-button-toggle",function(a){var c=D();c&&(c=Z(a.identifier,c.$el),wa.toggle(c,!a.enabled))});f.register("dialog-button-toggle-visibility",function(a){var c=D();c&&(c=Z(a.identifier,c.$el),wa.toggleVisibility(c,a.hidden))});
f.register("button-clicked",function(a){a=a.$el;if(a.hasClass("ap-aui-dialog-button")){var c=a.parents(".ap-aui-dialog2"),b=c.find("iframe");b.length&&b[0].bridgeEstablished?z.clickButton(w.getIdentifier(a),a,c.data("extension")):z.close({dialog:D(),extension:a.extension})}});h.fn&&(f.register("iframe-create",function(a){a.extension.options&&a.extension.options.isDialog&&I.setIframeDimensions(a.extension.$el)}),f.register("dialog-button-add",function(a){I.addButton(a.extension,a.button)}),f.register("host-window-resize",
k.debounce(function(){h(".ap-aui-dialog2").each(function(a,c){var b=h(c),b=A.sanitizeOptions(b.data("originalOptions"));c.style.width=b.width;c.style.height=b.height})},100)));G.registerWindowKeyEvent({keyCode:27,callback:function(){z.closeActive({customData:{},extension:null})}});var M=new (function(){function a(){}var c=a.prototype;c.render=function(a,c){a.options=a.options||{};c=c||{};a.options.isDialog=!0;a.options.dialogId=c.id;a.options.preventDialogCloseOnEscape=!1===c.closeOnEscape;a.options.hostFrameOffset=
c.hostFrameOffset;a.options.hideIframeUntilLoad=!0;var b=xa.createExtension(a);return I.render({extension:a,$content:b,chrome:c.chrome,width:c.width,height:c.height,size:c.size,header:c.header,hint:c.hint,submitText:c.submitText,cancelText:c.cancelText,buttons:c.buttons,onHide:c.onHide})};c.getActiveDialog=function(){return I.getActive()};c.buttonIsEnabled=function(a){return I.buttonIsEnabled(a)};c.buttonIsVisible=function(a){return I.buttonIsVisible(a)};c.getByExtension=function(a){"string"===typeof a&&
(a={id:a});return I.getByExtension(a)};return a}());f.register("dialog-extension-open",function(a){var c=a.extension,b=A.sanitizeOptions(a.options),d=n.getFrameworkAdaptor().getProviderByModuleName("dialog");if(d){var e=function(a){var b=c.key,d=c.addon_key,e={button:{identifier:a.identifier,name:a.identifier,text:a.text}};0<=["submit","cancel"].indexOf(a.identifier)&&q.broadcast("dialog."+a.identifier,{addon_key:d,key:b},e);q.broadcast("dialog.button.click",{addon_key:d,key:b},e)};c.options.preventDialogCloseOnEscape=
!1===b.closeOnEscape;b.actions.map(function(a){return a.onClick=e.bind(null,a)});d.create(b,c)}else M.render(a.extension,a.options)});var fb={};f.register("dialog-close",function(a){a.dialog&&a.extension&&q.broadcast("dialog.close",{addon_key:a.extension.addon_key},a.customData)});f.register("dialog-button-click",function(a){var c={button:{name:w.getName(a.$el),identifier:w.getIdentifier(a.$el),text:w.getText(a.$el)}},b={addon_key:a.extension.addon_key,key:a.extension.key};window.AJS&&window.AJS.DarkFeatures&&
window.AJS.DarkFeatures.isEnabled&&window.AJS.DarkFeatures.isEnabled("connect.js.dialog.idfilter")&&(b.id=a.extension.id);a.$el.hasClass("ap-dialog-custom-button")||q.broadcast("dialog."+c.button.name,b,c);q.broadcast("dialog.button.click",b,c)});var C=function(){function a(a,c){c=k.last(arguments);var b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");if(b)A.assertActiveDialogOrThrow(b,c._context.extension.addon_key),this.identifier=this.name=a;else{if(!M.getActiveDialog())throw Error("Failed to find an active dialog.");
this.identifier=this.name=a;this.enabled=M.buttonIsEnabled(a);this.hidden=!M.buttonIsVisible(a)}}var c=a.prototype;c.enable=function(){this.setState({enabled:!0})};c.disable=function(){this.setState({enabled:!1})};c.isEnabled=function(a){a=k.last(arguments);var b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");b?a(!b.isButtonDisabled(this.identifier)):a(this.enabled)};c.toggle=function(){var a=n.getFrameworkAdaptor().getProviderByModuleName("dialog");a?a.toggleButton(this.identifier):this.setState({enabled:!this.enabled})};
c.setState=function(a){var b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");b?b.setButtonDisabled(this.identifier,!a.enabled):(this.enabled=a.enabled,z.toggleButton({identifier:this.identifier,enabled:this.enabled}))};c.trigger=function(a){a=k.last(arguments);this.enabled&&z.dialogMessage({name:this.name,extension:a._context.extension})};c.isHidden=function(a){a=k.last(arguments);var b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");b?a(b.isButtonHidden(this.identifier)):a(this.hidden)};
c.hide=function(){this.setHidden(!0)};c.show=function(){this.setHidden(!1)};c.setHidden=function(a){var b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");b?b.setButtonHidden(this.identifier,a):(this.hidden=a,z.toggleButtonVisibility({identifier:this.identifier,hidden:this.hidden}))};return a}(),Hb={create:{constructor:function(a,c){c=k.last(arguments);var b=c._id,d=c._context.extension,d={addon_key:d.addon_key,key:a.key,options:k.pick(d.options,["customData","productContext"])};d.options.customData=
a.customData;var e=A.moduleOptionsFromGlobal(d.addon_key,d.key);"number"===typeof(e||{}).hostFrameOffset&&(d.options.hostFrameOffset=e.hostFrameOffset);a=k.extend({},e||{},a);a.id=b;A.trackMultipleDialogOpening(d,a);T.open(d,a);this.customData=a.customData;fb[b]=this}},close:function(a,c){c=k.last(arguments);var b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");b?(A.assertActiveDialogOrThrow(b,c._context.extension.addon_key),q.broadcast("dialog.close",{addon_key:c._context.extension.addon_key},
a),b.close()):(b=c._context.extension.options.isDialog?M.getByExtension(c._context.extension.id)[0]:M.getActiveDialog(),z.close({customData:a,dialog:b,extension:c._context.extension}))},getCustomData:function(a){a=k.last(arguments);var c=fb[a._context.extension.options.dialogId];c?a(c.customData):a(void 0)},getButton:{constructor:C,enable:C.prototype.enable,disable:C.prototype.disable,toggle:C.prototype.toggle,isEnabled:C.prototype.isEnabled,trigger:C.prototype.trigger,hide:C.prototype.hide,show:C.prototype.show,
isHidden:C.prototype.isHidden},createButton:{constructor:function(a,c){c=k.last(arguments);var b=n.getFrameworkAdaptor().getProviderByModuleName("dialog");b?(A.assertActiveDialogOrThrow(b,c._context.extension.addon_key),b.createButton({identifier:a.identifier,text:a.text,hidden:!1,disabled:a.disabled||!1,onClick:function(){q.broadcast("dialog.button.click",{addon_key:c._context.extension.addon_key,key:c._context.extension.key},{button:{identifier:a.identifier,text:a.text}})}})):T.addUserButton({identifier:a.identifier,
text:a.text},c._context.extension)}}};f.register("iframe-resize",function(a){H.resize(a.width,a.height,a.$el)});f.register("iframe-size-to-parent",function(a){var c=k.getIframeByExtensionId(a.extensionId);a=h(window).height()-c.offset().top-1;f.dispatch("iframe-resize",{width:"100%",height:a+"px",$el:c})});f.register("hide-footer",function(a){a&&h("#footer").css({display:"none"})});window.addEventListener("resize",function(a){f.dispatch("host-window-resize",a)},!0);var ha={iframeResize:function(a,
c,b){var d;d=b.extension_id?k.getIframeByExtensionId(b.extension_id):b;f.dispatch("iframe-resize",{width:a,height:c,$el:d,extension:b.extension})},sizeToParent:function(a,c){f.dispatch("iframe-size-to-parent",{hideFooter:c,extensionId:a})},hideFooter:function(a){f.dispatch("hide-footer",a)}},gb=k.debounce,ia={},N=[],ja={},Ib={getLocation:function(a){a=k.last(arguments);var c=L.getProvider("get-location");"function"===typeof c?a(c()):a(window.location.href)},resize:function(a,c,b){b=k.last(arguments);
var d=L.getProvider("addon");if(d)d.resize(a,c,b._context);else{var d=b._context.extension.id,e=b._context.extension.options;if(-1!==N.indexOf(d)||e&&e.isDialog)return!1;ia[d]||(ia[d]=gb(function(a,b,c){ha.iframeResize(a,b,c._context)},50));ia[d](a,c,b)}return!0},sizeToParent:gb(function(a,c){c=k.last(arguments);var b=L.getProvider("addon");b?b.sizeToParent(a,c._context):c._context.extension.options.isFullPage?(k.getIframeByExtensionId(c._context.extension_id).addClass("full-size-general-page"),ha.sizeToParent(c._context.extension_id,
a),ja[c._context.extension_id]={hideFooter:a}):k.getIframeByExtensionId(c._context.extension_id).addClass("full-size-general-page-fail")}),hideFooter:function(a){a&&ha.hideFooter(a)}};f.register("host-window-resize",function(a){Object.getOwnPropertyNames(ja).forEach(function(a){ha.sizeToParent(a,ja[a].hideFooter)})});f.register("after:iframe-unload",function(a){delete ia[a.extension.id];delete ja[a.extension.id];-1!==N.indexOf(a.extension.id)&&N.splice(N.indexOf(a.extension.id),1)});f.register("before:iframe-size-to-parent",
function(a){-1===N.indexOf(a.extensionId)&&N.push(a.extensionId)});var ya={hide:function(a){f.dispatch("inline-dialog-hide",{$el:a})},refresh:function(a){f.dispatch("inline-dialog-refresh",{$el:a})},hideTriggered:function(a,c){f.dispatch("inline-dialog-hidden",{extension_id:a,$el:c})},close:function(){f.dispatch("inline-dialog-close",{})},created:function(a){f.dispatch("inline-dialog-opened",{$el:a.$el,trigger:a.trigger,extension:a.extension})}},Qa="generic error warning success info hint".split(" "),
Ra=/^ap-message-[0-9A-fa-f]+$/,F={},Pa=!1,Jb={clear:function(a){a="ap-message-"+a._id;if(Ra.test(a)){var c=n.getFrameworkAdaptor().getProviderByModuleName("messages");c?c.clear(a):h("#"+a).closeMessage()}},onClose:function(a,c){c=k.last(arguments);var b=a._id,d=n.getFrameworkAdaptor().getProviderByModuleName("messages");if(d)d.onClose("ap-message-"+a._id,c);else F[b]&&(F[b].onCloseTrigger=c)},generic:J("generic"),error:J("error"),warning:J("warning"),success:J("success"),info:J("info"),hint:J("hint")},
Q={actionInvoked:function(a,c){f.dispatch("flag-action-invoked",{id:c,actionId:a})},open:function(a){f.dispatch("flag-open",{id:a})},close:function(a){f.dispatch("flag-close",{id:a})},closed:function(a){f.dispatch("flag-closed",{id:a})}},oa=new (function(){function a(){}var c=a.prototype;c.cleanKey=function(a){return(a=a.match(/^ap-flag-(.+)$/))&&a[1]?a[1]:null};c._toHtmlString=function(a){if("string"===h.type(a))return a;if("object"===h.type(a)&&a instanceof h)return a.html()};c._renderBody=function(a){a=
this._toHtmlString(a);a=h("\x3cdiv /\x3e").html(a);h("\x3cp /\x3e").addClass("ac-flag-actions").appendTo(a);return a.html()};c._renderActions=function(a,c,e){var b=a.find(".ac-flag-actions");e=e||{};var d;Object.getOwnPropertyNames(e).forEach(function(a){d=h("\x3ca /\x3e").attr("href","#").data({key:a,flag_id:c}).text(e[a]);b.append(d)},this);return a};c.render=function(a){sb();var b="ap-flag-"+a.id,c=AJS.flag({type:a.type,title:a.title,body:this._renderBody(a.body),close:a.close});c.setAttribute("id",
b);b=h(c);this._renderActions(b,a.id,a.actions);b.addClass("ac-aui-flag");b.close=c.close;return b};c.close=function(a){document.getElementById(a).close()};return a}()),Sa=!1;f.register("flag-close",function(a){oa.close(a.id)});var R={},hb=function(){function a(a,b){b=k.last(arguments);if("object"===typeof a){var c=b._id,e=n.getFrameworkAdaptor().getProviderByModuleName("flag");if(e){var f=[];"object"===typeof a.actions&&(f=Object.getOwnPropertyNames(a.actions).map(function(b){return{actionKey:b,
actionText:a.actions[b],executeAction:Q.actionInvoked.bind(null,b,c)}}));f={id:c,title:a.title,body:a.body,actions:f,onClose:Q.closed,close:a.close,type:(a.type||"info").toLowerCase()};this.flag=e.create(f);(e=L.getProvider("addon"))&&e.registerUnmountCallback&&e.registerUnmountCallback(this.close.bind(this),b._context)}else this.flag=oa.render({type:a.type,title:a.title,body:AJS.escapeHtml(a.body),actions:a.actions,close:a.close,id:c}),Q.open(this.flag.attr("id"));this.onTriggers={};this.extension=
b._context.extension;R[b._id]=this;b.call(null,b._id)}}a.prototype.close=function(){this.flag.close()};return a}();f.register("flag-closed",function(a){Ta(a.id,"flag.close");R[a.id]&&delete R[a.id]});f.register("flag-action-invoked",function(a){Ta(a.id,"flag.action",{actionIdentifier:a.actionId})});var Kb={create:{constructor:hb,close:hb.prototype.close}},pa,ba;f.register("iframe-bridge-established",function(a){a.extension.options.isFullPage&&(window.addEventListener("scroll",Va),pa=a.extension.id)});
f.register("iframe-destroyed",function(a){Ua()});f.register("iframe-unload",function(a){Ua()});var ib={itemSelected:function(a,c,b){f.dispatch("dropdown-item-selected",{id:a,item:c,extension:b})}};f.register("dropdown-item-selected",function(a){q.broadcast("dropdown-item-selected",{addon_key:a.extension.addon_key,key:a.extension.key},{dropdownId:a.id,item:a.item})});f.register("iframe-destroyed",function(a){var c=n.getFrameworkAdaptor().getProviderByModuleName("dropdown");c&&c.destroyByExtension(a.extension.extension_id)});
f.register("after:iframe-unload",function(a){var c=n.getFrameworkAdaptor().getProviderByModuleName("dropdown");c&&c.destroyByExtension(a.extension.extension_id)});var U=new (function(){function a(){this._webitems={};this._contentResolver=function(){}}var c=a.prototype;c.setContentResolver=function(a){this._contentResolver=a};c.requestContent=function(a){if(a.addon_key&&a.key)return this._contentResolver.call(null,k.extend({classifier:"json"},a))};c.getWebItemsBySelector=function(a){var b=this,c;Object.getOwnPropertyNames(this._webitems).some(function(d){d=
b._webitems[d];return d.selector&&d.selector.trim()===a.trim()?(c=d,!0):!1});return c};c.setWebItem=function(a){return this._webitems[a.name]={name:a.name,selector:a.selector,triggers:a.triggers}};c._removeTriggers=function(a){var b=this,c=B.sanitizeTriggers(a.triggers);h(function(){h("body").off(c,a.selector,b._webitems[a.name]._on)});delete this._webitems[a.name]._on};c._addTriggers=function(a){var b=B.sanitizeTriggers(a.triggers);a._on=function(b){b.preventDefault();var c=h(b.target).closest(a.selector),
d=B.getConfigFromTarget(c),d=d&&d.url?d.url:void 0,c={addon_key:B.getExtensionKey(c),key:B.getKey(c),options:B.getOptionsForWebItem(c),url:d};za.webitemInvoked(a,b,c)};h(function(){h("body").on(b,a.selector,a._on)})};return a}());f.register("webitem-added",function(a){U._addTriggers(a.webitem)});f.register("content-resolver-register-by-extension",function(a){U.setContentResolver(a.callback)});document.addEventListener("aui-responsive-menu-item-created",function(a){var c=a.detail.originalItem.querySelector('a[class*\x3d"ap-"]');
if(c){var b=a.detail.newItem.querySelector("a");[].slice.call(c.classList).forEach(function(a){/^ap-/.test(a)&&b.classList.add(a)})}});var za={addWebItem:function(a){if(U.getWebItemsBySelector(a.selector))return!1;a=U.setWebItem(a);f.dispatch("webitem-added",{webitem:a})},webitemInvoked:function(a,c,b){f.dispatch("webitem-invoked:"+a.name,{webitem:a,event:c,extension:b})}},Lb={addExtension:function(a){f.dispatch("inline-dialog-extension",{$el:a.$el,extension:a.extension})}},V=new (function(){function a(){}
var c=a.prototype;c.resize=function(a){var b=k.stringToDimension(a.width),c=k.stringToDimension(a.height),f=a.$el.find(".contents");1===f.length&&(f.css({width:b,height:c}),ya.refresh(a.$el))};c.refresh=function(a){a[0].popup.reset()};c._getInlineDialog=function(a){return AJS.InlineDialog(a)};c._renderContainer=function(){return h("\x3cdiv /\x3e").addClass("aui-inline-dialog-contents")};c._displayInlineDialog=function(a){ya.created({$el:a.$el,trigger:a.trigger,extension:a.extension})};c.hideInlineDialog=
function(a){a.hide()};c.closeInlineDialog=function(){h(".aui-inline-dialog").filter(function(){return 0<h(this).find(".ap-iframe-container").length}).hide()};c.render=function(a){var b=this,c=h(document.getElementById("inline-dialog-"+a.id));0!==c.length&&c.remove();return AJS.InlineDialog(a.bindTo,a.id,function(c,d,e){c.append(a.$content);b._displayInlineDialog({extension:a.extension,$el:c,trigger:d});e()},a.inlineDialogOptions)};return a}());f.register("iframe-resize",function(a){var c=a.$el.parents(".aui-inline-dialog");
1===c.length&&V.resize({width:a.width,height:a.height,$el:c})});f.register("inline-dialog-refresh",function(a){V.refresh(a.$el)});f.register("inline-dialog-hide",function(a){V.hideInlineDialog(a.$el)});f.register("inline-dialog-close",function(a){V.closeInlineDialog()});var Mb=["mouseover","click"],W=new (function(){function a(){this._inlineDialogWebItemSpec={name:"inline-dialog",selector:".ap-inline-dialog",triggers:Mb};this._inlineDialogWebItems={}}var c=a.prototype;c.getWebItem=function(){return this._inlineDialogWebItemSpec};
c._createInlineDialog=function(a){return V.render({extension:a.extension,id:a.id,bindTo:a.$target,$content:h("\x3cdiv /\x3e"),inlineDialogOptions:a.extension.options})};c.triggered=function(a){if("click"===a.event.type||a.extension.options.onHover){var b=h(a.event.currentTarget),c=b.data("inline-dialog-target-uid");this._createInlineDialog({id:c,extension:a.extension,$target:b,options:a.extension.options||{}}).show()}};c.opened=function(a){var b=a.$el.find("iframe");if(b&&1===b.length&&(b=b.attr("src"),
0<b.length)){var c=K.hasJwt(b);if(c&&!K.isJwtExpired(b)||!c)return!1}b=U.requestContent(a.extension);if(!b)return console.warn("no content resolver found"),!1;b.then(function(b){b.options=b.options||{};k.extend(b.options,{autoresize:!0,widthinpx:!0});Lb.addExtension({$el:a.$el,extension:b})});return!0};c.addExtension=function(a){var b=xa.createExtension(a.extension);a.$el.empty().append(b)};c.createIfNotExists=function(a){a=h(a.event.currentTarget);var b=a.data("inline-dialog-target-uid");b||(b=B.uniqueId(),
a.data("inline-dialog-target-uid",b))};return a}()),Aa=W.getWebItem();f.register("before:webitem-invoked:"+Aa.name,function(a){W.createIfNotExists(a)});f.register("webitem-invoked:"+Aa.name,function(a){W.triggered(a)});f.register("inline-dialog-opened",function(a){W.opened(a)});f.register("inline-dialog-extension",function(a){W.addExtension(a)});za.addWebItem(Aa);var Nb=["click"],Ob={chrome:!0},Ba=new (function(){function a(){this._dialogWebItem={name:"dialog",selector:".ap-dialog",triggers:Nb}}var c=
a.prototype;c.getWebItem=function(){return this._dialogWebItem};c._dialogOptions=function(a){return k.extend({},Ob,a||{})};c.triggered=function(a){var b=h(a.event.currentTarget).data("dialog-target-uid"),c=this._dialogOptions(a.extension.options);c.id=b;T.open(a.extension,c)};c.createIfNotExists=function(a){a=h(a.event.currentTarget);var b=a.data("dialog-target-uid");b||(b=B.uniqueId(),a.data("dialog-target-uid",b))};return a}()),Ca=Ba.getWebItem();f.register("webitem-invoked:"+Ca.name,function(a){Ba.triggered(a)});
f.register("before:webitem-invoked:"+Ca.name,Ba.createIfNotExists);za.addWebItem(Ca);window._AP||(window._AP={});window._AP.version||(window._AP.version="5.2.49");p.defineModule("messages",Jb);p.defineModule("flag",Kb);p.defineModule("dialog",Hb);p.defineModule("inlineDialog",{hide:function(a){a=k.last(arguments);var c=n.getFrameworkAdaptor().getProviderByModuleName("inlineDialog");c?c.hide(a._context):ya.close()}});p.defineModule("env",Ib);p.defineModule("events",{emit:function(a){for(var c=arguments.length,
b=Array(1<c?c-1:0),d=1;d<c;d++)b[d-1]=arguments[d];c=k.last(b);b=k.first(b,-1);q.broadcast(a,{addon_key:c._context.extension.addon_key},b)},emitPublic:function(a){for(var c=arguments.length,b=Array(1<c?c-1:0),d=1;d<c;d++)b[d-1]=arguments[d];c=k.last(b)._context.extension;b=k.first(b,-1);q.broadcastPublic(a,b,c)}});p.defineModule("_analytics",{trackDeprecatedMethodUsed:function(a,c){c=k.last(arguments);P.trackDeprecatedMethodUsed(a,c._context.extension)}});p.defineModule("scrollPosition",{getPosition:function(a){a=
k.last(arguments);if(a._context.extension.options.isFullPage){var c=k.getIframeByExtensionId(a._context.extension_id).offset(),b=h(window);a({scrollY:b.scrollTop()-c.top,scrollX:b.scrollLeft()-c.left,width:window.innerWidth,height:window.innerHeight})}},setVerticalPosition:function(a,c){c=k.last(arguments);if(c._context.extension.options&&c._context.extension.options.isFullPage){var b=k.getIframeByExtensionId(c._context.extension_id).offset();"number"===typeof a&&(document.documentElement.scrollTop=
b.top+a)}}});p.defineModule("dropdown",{create:function(a,c){c=k.last(arguments);if("object"===typeof a){var b=n.getFrameworkAdaptor().getProviderByModuleName("dropdown");if(b){var d=tb(a.list),d={dropdownId:a.dropdownId,dropdownGroups:d,dropdownItemNotifier:function(a){ib.itemSelected(a.dropdownId,a.item,c._context.extension)}};b.create(d,c._context);return d}}},showAt:function(a,c,b,d){var e=k.last(arguments),f={left:0,top:0},h=document.getElementById(e._context.extension_id);h?f=h.getBoundingClientRect():
console.error("ACJS: no iframe found for dropdown");(h=n.getFrameworkAdaptor().getProviderByModuleName("dropdown"))&&h.showAt({dropdownId:a,x:c,y:b,width:d},{iframeDimensions:f,onItemSelection:function(a,b){ib.itemSelected(a,b,e._context.extension)}})},hide:function(a){var c=n.getFrameworkAdaptor().getProviderByModuleName("dropdown");c&&c.hide(a)},itemDisable:function(a,c){var b=n.getFrameworkAdaptor().getProviderByModuleName("dropdown");b&&b.itemDisable(a,c)},itemEnable:function(a,c){var b=n.getFrameworkAdaptor().getProviderByModuleName("dropdown");
b&&b.itemEnable(a,c)}});p.defineModule("host",{focus:function(){window.document.querySelector("a").focus({preventScroll:!0});window.document.querySelector("a").blur()},getSelectedText:function(a){var c="",b=window.document.getSelection();b&&b.anchorNode&&3===b.anchorNode.nodeType&&(c=b.toString());a(c)}});f.register("module-define-custom",function(a){p.defineModule(a.name,a.methods)});p.registerRequestNotifier(function(a){var c=function(){"req"===a.type?x.dispatch("bridge.invokemethod",{module:a.module,
fn:a.fn,addonKey:a.addon_key,moduleKey:a.key}):"sub"===a.type&&x.dispatch("bridge.register-sub",{subAddonKey:a.sub.addon_key,subModuleKey:a.sub.key,addonKey:a.addon_key,moduleKey:a.key})};"function"===typeof window.requestIdleCallback?window.requestIdleCallback(c,{timeout:1E3}):c()});return n});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-spa-context-v5', location = 'v5/js/spa-context/main.js' */
define("ac/spa-context",function(){var a=null,b=null;return{provideContainerApi:function(b){a=b},provideNavigationApi:function(a){b=a},isInIframe:function(){return null!==a},canSpaTransition:function(){return null!==b},getContainerApi:function(){return a},getNavigationApi:function(){return b}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/iframe/host/_uritemplate.js' */
(function(x){function n(a){var b;if(null===a||void 0===a)return!1;if(e.isArray(a))return 0<a.length;if("string"===typeof a||"number"===typeof a||"boolean"===typeof a)return!0;for(b in a)if(a.hasOwnProperty(b)&&n(a[b]))return!0;return!1}var m=function(){function a(b){this.options=b}a.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options};return a}(),e=function(){function a(b){if("function"===typeof Object.freeze&&"object"===typeof b&&null!==b){Object.freeze(b);
var c,k;for(k in b)b.hasOwnProperty(k)&&(c=b[k],"object"===typeof c&&a(c))}return b}return{isArray:function(b){return"[object Array]"===Object.prototype.toString.apply(b)},isString:function(b){return"[object String]"===Object.prototype.toString.apply(b)},isNumber:function(b){return"[object Number]"===Object.prototype.toString.apply(b)},isBoolean:function(b){return"[object Boolean]"===Object.prototype.toString.apply(b)},join:function(b,c){var a="",d=!0,f;for(f=0;f<b.length;f+=1)d?d=!1:a+=c,a+=b[f];
return a},map:function(b,c){for(var a=[],d=0;d<b.length;d+=1)a.push(c(b[d]));return a},filter:function(b,c){for(var a=[],d=0;d<b.length;d+=1)c(b[d])&&a.push(b[d]);return a},deepFreeze:a}}(),t=function(){function a(b){return"0"<=b&&"9">=b}return{isAlpha:function(b){return"a"<=b&&"z">=b||"A"<=b&&"Z">=b},isDigit:a,isHexDigit:function(b){return a(b)||"a"<=b&&"f">=b||"A"<=b&&"F">=b}}}(),u=function(){function a(b,a){return"%"===b.charAt(a)&&t.isHexDigit(b.charAt(a+1))&&t.isHexDigit(b.charAt(a+2))}var b=
{encode:function(b){return unescape(encodeURIComponent(b))},numBytes:function(b){return 127>=b?1:194<=b&&223>=b?2:224<=b&&239>=b?3:240<=b&&244>=b?4:0},isValidFollowingCharCode:function(b){return 128<=b&&191>=b}};return{encodeCharacter:function(a){var c="";a=b.encode(a);var d,f;for(f=0;f<a.length;f+=1)d=a.charCodeAt(f),c+="%"+(16>d?"0":"")+d.toString(16).toUpperCase();return c},isPctEncoded:function(c){if(!a(c,0))return!1;var k=parseInt(c.substr(1,2),16),k=b.numBytes(k);if(0===k)return!1;for(var d=
1;d<k;d+=1)if(!a(c,3*d)||!b.isValidFollowingCharCode(parseInt(c.substr(3*d+1,2),16)))return!1;return!0},pctCharAt:function(c,k){var d=c.charAt(k);if(!a(c,k))return d;var f=parseInt(c.substr(k+1,2),16),f=b.numBytes(f);if(0===f)return d;for(var e=1;e<f;e+=1)if(!a(c,k+3*e)||!b.isValidFollowingCharCode(parseInt(c.substr(k+3*e+1,2),16)))return d;return c.substr(k,3*f)}}}(),v=function(){return{isVarchar:function(a){return t.isAlpha(a)||t.isDigit(a)||"_"===a||u.isPctEncoded(a)},isUnreserved:function(a){return t.isAlpha(a)||
t.isDigit(a)||"-"===a||"."===a||"_"===a||"~"===a},isReserved:function(a){return":"===a||"/"===a||"?"===a||"#"===a||"["===a||"]"===a||"@"===a||"!"===a||"$"===a||"\x26"===a||"("===a||")"===a||"*"===a||"+"===a||","===a||";"===a||"\x3d"===a||"'"===a}}}(),w=function(){function a(b,a){var c="",d,f;if("number"===typeof b||"boolean"===typeof b)b=b.toString();for(d=0;d<b.length;d+=f.length)f=b.charAt(d),c+=v.isUnreserved(f)||a&&v.isReserved(f)?f:u.encodeCharacter(f);return c}return{encode:a,encodePassReserved:function(b){return a(b,
!0)},encodeLiteral:function(b){var a="",k,d;for(k=0;k<b.length;k+=d.length)d=u.pctCharAt(b,k),a=1<d.length?a+d:a+(v.isReserved(d)||v.isUnreserved(d)?d:u.encodeCharacter(d));return a},encodeLiteralCharacter:function(b,a){var c=u.pctCharAt(b,a);return 1<c.length?c:v.isReserved(c)||v.isUnreserved(c)?c:u.encodeCharacter(c)}}}(),A=function(){function a(a){b[a]={symbol:a,separator:"?"===a?"\x26":""===a||"+"===a||"#"===a?",":a,named:";"===a||"\x26"===a||"?"===a,ifEmpty:"\x26"===a||"?"===a?"\x3d":"",first:"+"===
a?"":a,encode:"+"===a||"#"===a?w.encodePassReserved:w.encode,toString:function(){return this.symbol}}}var b={};a("");a("+");a("#");a(".");a("/");a(";");a("?");a("\x26");return{valueOf:function(a){return b[a]?b[a]:0<="\x3d,!@|".indexOf(a)?null:b[""]}}}(),y=function(){function a(a){this.literal=w.encodeLiteral(a)}a.prototype.expand=function(){return this.literal};a.prototype.toString=a.prototype.expand;return a}(),C=function(){function a(a){function b(){var b=a.substring(q,g);if(0===b.length)throw new m({expressionText:a,
message:"a varname must be specified",position:g});e={varname:b,exploded:!1,maxLength:null};q=null}function k(){if(p===g)throw new m({expressionText:a,message:"after a ':' you have to specify the length",position:g});e.maxLength=parseInt(a.substring(p,g),10);p=null}var d,f=[],e=null,q=null,p=null,g,h="";d=function(b){var c=A.valueOf(b);if(null===c)throw new m({expressionText:a,message:"illegal use of reserved operator",position:g,operator:b});return c}(a.charAt(0));for(q=g=d.symbol.length;g<a.length;g+=
h.length){h=u.pctCharAt(a,g);if(null!==q){if("."===h){if(q===g)throw new m({expressionText:a,message:"a varname MUST NOT start with a dot",position:g});continue}if(v.isVarchar(h))continue;b()}if(null!==p){if(g===p&&"0"===h)throw new m({expressionText:a,message:"A :prefix must not start with digit 0",position:g});if(t.isDigit(h)){if(4<=g-p)throw new m({expressionText:a,message:"A :prefix must have max 4 digits",position:g});continue}k()}if(":"===h){if(null!==e.maxLength)throw new m({expressionText:a,
message:"only one :maxLength is allowed per varspec",position:g});if(e.exploded)throw new m({expressionText:a,message:"an exploeded varspec MUST NOT be varspeced",position:g});p=g+1}else if("*"===h){if(null===e)throw new m({expressionText:a,message:"exploded without varspec",position:g});if(e.exploded)throw new m({expressionText:a,message:"exploded twice",position:g});if(e.maxLength)throw new m({expressionText:a,message:"an explode (*) MUST NOT follow to a prefix",position:g});e.exploded=!0}else if(","===
h)f.push(e),e=null,q=g+1;else throw new m({expressionText:a,message:"illegal character",character:h,position:g});}null!==q&&b();null!==p&&k();f.push(e);return new B(a,d,f)}return function(b){var c,e,d=[],f=null,n=0;for(c=0;c<b.length;c+=1)if(e=b.charAt(c),null!==n){if("}"===e)throw new m({templateText:b,message:"unopened brace closed",position:c});"{"===e&&(n<c&&d.push(new y(b.substring(n,c))),n=null,f=c)}else if(null!==f){if("{"===e)throw new m({templateText:b,message:"brace already opened",position:c});
if("}"===e){if(f+1===c)throw new m({templateText:b,message:"empty braces",position:f});try{d.push(a(b.substring(f+1,c)))}catch(q){if(q.prototype===m.prototype)throw new m({templateText:b,message:q.options.message,position:f+q.options.position,details:q.options});throw q;}f=null;n=c+1}}else throw Error("reached unreachable code");if(null!==f)throw new m({templateText:b,message:"unclosed brace",position:f});n<b.length&&d.push(new y(b.substr(n)));return new z(b,d)}}(),B=function(){function a(a){if(!n(a))return!0;
if(e.isString(a))return""===a;if(e.isNumber(a)||e.isBoolean(a))return!1;if(e.isArray(a))return 0===a.length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function b(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push({name:c,value:a[c]});return b}function c(a,b,c){this.templateText=a;this.operator=b;this.varspecs=c}function k(a,b,c){var d="";c=c.toString();if(b.named){d+=w.encodeLiteral(a.varname);if(""===c)return d+=b.ifEmpty;d+="\x3d"}null!==a.maxLength&&(c=c.substr(0,a.maxLength));return d+=
b.encode(c)}function d(a){return n(a.value)}function f(c,g,f){var h=[],l="";if(g.named){l+=w.encodeLiteral(c.varname);if(a(f))return l+=g.ifEmpty;l+="\x3d"}e.isArray(f)?(h=e.filter(f,n),h=e.map(h,g.encode)):(h=b(f),h=e.filter(h,d),h=e.map(h,function(a){return g.encode(a.name)+","+g.encode(a.value)}));return l+=e.join(h,",")}function m(c,g,f){var h=[];e.isArray(f)?(h=e.filter(f,n),h=e.map(h,function(b){var d=w.encodeLiteral(c.varname);return d=a(b)?d+g.ifEmpty:d+("\x3d"+g.encode(b))})):(h=b(f),h=e.filter(h,
d),h=e.map(h,function(b){var c=w.encodeLiteral(b.name);return c=a(b.value)?c+g.ifEmpty:c+("\x3d"+g.encode(b.value))}));return e.join(h,g.separator)}function q(a,c){var d=[],f="";e.isArray(c)?(d=e.filter(c,n),d=e.map(d,a.encode)):(d=b(c),d=e.filter(d,function(a){return n(a.value)}),d=e.map(d,function(b){return a.encode(b.name)+"\x3d"+a.encode(b.value)}));return f+=e.join(d,a.separator)}c.prototype.toString=function(){return this.templateText};c.prototype.expand=function(b){var c=[],d,p,l,r=this.operator;
for(d=0;d<this.varspecs.length;d+=1)if(p=this.varspecs[d],l=b[p.varname],null!==l&&void 0!==l)if(e.isArray(l),"string"===typeof l||"number"===typeof l||"boolean"===typeof l)c.push(k(p,r,l));else{if(p.maxLength&&n(l))throw b=Error,l=JSON&&JSON.stringify?JSON.stringify(l):l,new b("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+l);p.exploded?n(l)&&(r.named?c.push(m(p,r,l)):c.push(q(r,l))):!r.named&&a(l)||c.push(f(p,r,l))}return 0===c.length?
"":r.first+e.join(c,r.separator)};return c}(),z=function(){function a(a,c){this.templateText=a;this.expressions=c;e.deepFreeze(this)}a.prototype.toString=function(){return this.templateText};a.prototype.expand=function(a){var b,e="";for(b=0;b<this.expressions.length;b+=1)e+=this.expressions[b].expand(a);return e};a.parse=C;a.UriTemplateError=m;return a}();x(z)})(function(x){"function"===typeof define?define("_uritemplate",[],function(){return x}):"undefined"!==typeof window?window.UriTemplate=x:global.UriTemplate=
x});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/context.js' */
define("ac/navigator/context",function(){var a;return{setContextFunction:function(b){a=b},getContextFunction:function(){return a}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/module.js' */
define("ac/navigator/module",["ac/navigator/utils","ac/navigator/routes","ac/navigator/context","ac/spa-context"],function(d,e,f,g){return{getLocation:function(a){var b=f.getContextFunction();"function"!==typeof b?console.error("no context function defined"):(context=b(),"object"!==typeof context||Array.isArray(context)||null===context?console.error("navigator context callback did not return an object"):a(context))},go:function(a,b,c){a=a.toLowerCase();b=b||{};b.addonKey||(b.addonKey=c._context.extension.addon_key);
if(d.isApiEnabled())if(c=e.getRoutes(),e.hasRoutes()&&a in c)if("function"===typeof c[a])c[a](b,d.goToUrl);else d.goToUrl(d.buildUrl(c[a],b));else console.error("The URL target "+a+" is not available. Valid targets are: "+Object.keys(c).toString());else console.error("connect navigation api not yet implemented for this product")},reload:function(){g.isInIframe()?d.getTopmostSameOriginWindow(window).location.reload():window.location.reload()}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/routes.js' */
define("ac/navigator/routes",function(){function g(a){return Object.keys(a).map(function(c){return["ac."+c,a[c]].map(encodeURIComponent).join("\x3d")}).join("\x26")}var e={addonmodule:function(a,c){var b=a&&a.addonKey,d=a&&a.moduleKey;if(!b)throw Error("Missing addonKey parameter in the context.");if(!d)throw Error("Missing moduleKey parameter in the context.");var f=[b,d].map(encodeURIComponent).join("/"),f=AJS.contextPath()+"/plugins/servlet/ac/"+f;void 0!=a.context&&(console.warn("DEPRECATED API - The context field has been deprecated in favor of customData."),
connectHost.trackDeprecatedMethodUsed("AP.navigate-context",{addon_key:b,moduleKey:d}));b=AJS.$.extend({},a.context||{},a.customData||{});b=g(b);c.apply(this,[""!=b?f+"?"+b:f])},site:function(a,c){function b(a){if(-1!==a.indexOf("plugins/servlet/ac-redirect"))throw Error("Cannot use legacy redirect filter in Navigator API");}if(a.relativeUrl){if("string"!==typeof a.relativeUrl||"/"!==a.relativeUrl[0])throw Error("Invalid relativeUrl passed in context");b(a.relativeUrl);var d=0===a.relativeUrl.indexOf(AJS.contextPath())?
"":AJS.contextPath();c.apply(this,[window.location.protocol+"//"+window.location.hostname+d+a.relativeUrl])}else if(a.absoluteUrl){d=window.location.protocol+"//"+window.location.hostname+"/";if("string"!==typeof a.absoluteUrl||0!==a.absoluteUrl.indexOf(d))throw Error("Invalid absoluteUrl passed in context");b(a.absoluteUrl);c.apply(this,[a.absoluteUrl])}else throw Error("No context supplied to Navigator API");}};return{hasRoutes:function(){return e&&0!==Object.getOwnPropertyNames(e).length},addRoutes:function(a){e=
AJS.$.extend(e,a)},getRoutes:function(){return e}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/utils.js' */
define("ac/navigator/utils",["_uritemplate","ac/spa-context"],function(e,c){var d=!1;return{enableApi:function(){d=!0},disableApi:function(){d=!1},isApiEnabled:function(){return d},buildUrl:function(a,b){"/"!==a[0]&&(a="/"+a);return AJS.contextPath()+e.parse(a).expand(b)},goToUrl:function(a){var b=function(){window.location.href=a};c.isInIframe()?c.getContainerApi().navigate(a,b):c.canSpaTransition()?c.getNavigationApi().navigate(a):b()},hasContext:function(a,b){return a[b]?!0:(AJS.error("Missing "+
b+" in navigator context"),!1)},appendQueryParam:function(a,b,c){return a+(-1<a.indexOf("?")?"\x26":"?")+b+"\x3d"+encodeURIComponent(c)},getTopmostSameOriginWindow:function(a){function b(a){try{if(null==a.location.href)return!1}catch(f){return!1}return!0}for(;a!==a.parent&&b(a.parent);)a=a.parent;return a}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'v5/js/core/connect-host-cookie.js' */
(function(n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).connectHostCookie=n()})(function(){return function q(k,d,g){function e(f,h){if(!d[f]){if(!k[f]){var c="function"==typeof require&&require;if(!h&&c)return c(f,!0);if(l)return l(f,!0);c=Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;
}c=d[f]={exports:{}};k[f][0].call(c.exports,function(c){var d=k[f][1][c];return e(d?d:c)},c,c.exports,q,k,d,g)}return d[f].exports}for(var l="function"==typeof require&&require,h=0;h<g.length;h++)e(g[h]);return e}({1:[function(q,k,d){function g(a){if("string"!==typeof a)return a;if(-1!==a.indexOf("**PIPE**")||-1!==a.indexOf("**PIPE_PERCENT_ENCODED_UPPER**")||-1!==a.indexOf("**PIPE_PERCENT_ENCODED_LOWER**"))throw Error("Cannot use cookies that contain **PIPE** or **PIPE_PERCENT_ENCODED_UPPER****PIPE_PERCENT_ENCODED_LOWER**");
if(-1!==a.indexOf("**PERCENT**"))throw Error("Cannot use cookies that contain **PERCENT**");if(-1!==a.indexOf("**EQUALS**"))throw Error("Cannot use cookies that contain **EQUALS**");a=a.replace(new RegExp(e("|"),"g"),"**PIPE**");a=a.replace(new RegExp(r,"g"),"**PIPE_PERCENT_ENCODED_UPPER**");a=a.replace(new RegExp(t,"g"),"**PIPE_PERCENT_ENCODED_LOWER**");a=a.replace(RegExp("%","g"),"**PERCENT**");return a=a.replace(RegExp("\x3d","g"),"**EQUALS**")}function e(a){return a.replace(w,"\\$\x26")}function l(a){a=
new RegExp("\\b"+e(a)+"\x3d((?:[^\\\\;]+|\\\\.)*)(?:;|$)");return(a=document.cookie.match(a))&&a[1].replace(c,"")}function h(a,m,c){var b=l("AJS.conglomerate.cookie"),f=new RegExp("(\\s|\\|)*\\b"+e(a)+"\x3d[^|]*[|]*"),b=(b||"").replace(f,"|");""!==m&&(a=a+"\x3d"+m,4020>b.length+a.length&&(b+="|"+a));b=b.replace(u,"|");c=c||365;a="";m='"'+b.replace(v,'\\"')+'"';c&&(a=new Date,a.setTime(+a+864E5*c),a="; expires\x3d"+a.toGMTString());document.cookie="AJS.conglomerate.cookie\x3d"+m+a+";path\x3d/"}function f(a,
c){if(!a||0===a.length)throw Error("addon key must be defined on cookies");if(!c||0===c.length)throw Error("Name must be defined");return a+"$$"+c}function p(a){if(a&&a._context)return a._context.extension.addon_key;throw Error("addon key not found in callback");}Object.defineProperty(d,"__esModule",{value:!0});var c=/(\\|^"|"$)/g,u=/\|\|+/g,v=/"/g,w=/[.*+?|^$()[\]{\\]/g,r=encodeURIComponent("|"),t=encodeURIComponent("|").toLowerCase();d["default"]={save:function(a,c,e){var b=arguments[arguments.length-
1],d=f(p(b),g(a));b._context&&h(d,g(c),e)},read:function(a,c){c=arguments[arguments.length-1];var d=f(p(c),g(a)),b;b=(b=l("AJS.conglomerate.cookie"))||"";d=new RegExp(e(d)+"\x3d([^|]+)");b=(b=b.match(d))&&b[1];b=null!=b?b:void 0;"string"===typeof b&&(b=b.replace(new RegExp(e("**PIPE**"),"g"),"|"),b=b.replace(new RegExp(e("**PIPE_PERCENT_ENCODED_UPPER**"),"g"),r),b=b.replace(new RegExp(e("**PIPE_PERCENT_ENCODED_LOWER**"),"g"),t),b=b.replace(new RegExp(e("**PERCENT**"),"g"),"%"),b=b.replace(new RegExp(e("**EQUALS**"),
"g"),"\x3d"));c(b);return b},erase:function(a){var c=f(p(arguments[arguments.length-1]),g(a));h(c,"")}};k.exports=d["default"]},{}]},{},[1])(1)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'v5/js/core/connect-host-history.js' */
(function(C){"object"===typeof exports&&"undefined"!==typeof module?module.exports=C():"function"===typeof define&&define.amd?define([],C):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).connectHostHistory=C()})(function(){return function q(v,c,l){function h(g,b){if(!c[g]){if(!v[g]){var e="function"==typeof require&&require;if(!b&&e)return e(g,!0);if(n)return n(g,!0);e=Error("Cannot find module '"+g+"'");throw e.code="MODULE_NOT_FOUND",e;
}e=c[g]={exports:{}};v[g][0].call(e.exports,function(a){var b=v[g][1][a];return h(b?b:a)},e,e.exports,q,v,c,l)}return c[g].exports}for(var n="function"==typeof require&&require,r=0;r<l.length;r++)h(l[r]);return h}({1:[function(q,v,c){function l(a,p){(0,e.callConnectHost)(function(x){(0,e.values)(x.getExtensions()).forEach(function(e){e=e.extension.addon_key;var g=new b.Current({url:window.location.href,state:p.state}),g=new b.Route(g);x.broadcastEvent(a,{addon_key:e},g.render(e))})})}function h(){a||
(window.addEventListener("popstate",function(a){var b=(0,e.createEvent)("ap_popstate");b.state=(0,e.unwrapState)(a.state);window.dispatchEvent(b)}),window.addEventListener("ap_popstate",function(a){var b=(0,e.createEvent)("ap_changestate");b.state=a.state;window.dispatchEvent(b);l(g.HISTORY_POPSTATE,a)}),window.addEventListener("ap_pushstate",function(a){var b=(0,e.createEvent)("ap_changestate");b.state=a.state;window.dispatchEvent(b);l(g.HISTORY_PUSHSTATE,a)}),window.addEventListener("ap_replacestate",
function(a){var b=(0,e.createEvent)("ap_changestate");b.state=a.state;window.dispatchEvent(b);l(g.HISTORY_REPLACESTATE,a)}),window.addEventListener("ap_changestate",function(a){l(g.HISTORY_CHANGESTATE,a)}),a=!0)}function n(a){var b=a.state.render();a=a.url.render();window.history.pushState((0,e.wrapState)(b),a.title,a.url)}function r(a){var b=a.state.render();a=a.url.render();window.history.replaceState((0,e.wrapState)(b),a.title,a.url)}Object.defineProperty(c,"__esModule",{value:!0});var g=q("./constants"),
b=q("./models"),e=q("./utils"),a=!1;c["default"]={_registerWindowListeners:function(){h()},back:function(a){a=arguments[arguments.length-1];this.go(-1,a)},forward:function(a){a=arguments[arguments.length-1];this.go(1,a)},go:function(a){arguments[arguments.length-1]._context.extension.options.isFullPage?window.history.go(a):(0,e.log)("History is only available to page modules")},getState:function(a,g){g=arguments[arguments.length-1];var c=g._context.extension.addon_key,f=new b.Current({url:window.location.href,
state:(0,e.unwrapState)(window.history.state)}),c=(new b.Route(f)).render(c);a=a?"string"===typeof a?a:"hash":"hash";if("hash"===a)g(c.hash);else if("all"===a)g(c);else throw Error("invalid type for getState");},pushState:function(a,g){g=arguments[arguments.length-1];var c=g._context.extension.addon_key,f=new b.Current({url:window.location.href,state:(0,e.unwrapState)(window.history.state)}),f=new b.Route(f),c=new b.Change(a,c),c=new b.Route(c);g._context.extension.options.isFullPage?(c.url.isURLEqual(f.url)?
(f.merge(c),r(f)):c.url.isPathnameEqual(f.url)?(f.merge(c),n(f)):n(c),f=(0,e.createEvent)("ap_pushstate"),f.state=(0,e.unwrapState)(window.history.state),window.dispatchEvent(f)):(0,e.log)("History is only available to page modules")},replaceState:function(a,g){g=arguments[arguments.length-1];var c=g._context.extension.addon_key,f=new b.Current({url:window.location.href,state:(0,e.unwrapState)(window.history.state)}),f=new b.Route(f),c=new b.Change(a,c),c=new b.Route(c);g._context.extension.options.isFullPage?
(c.url.isURLEqual(f.url)?(f.merge(c),r(f)):c.url.isPathnameEqual(f.url)?(f.merge(c),r(f)):r(c),f=(0,e.createEvent)("ap_replacestate"),f.state=(0,e.unwrapState)(window.history.state),window.dispatchEvent(f)):(0,e.log)("History is only available to page modules")}};v.exports=c["default"]},{"./constants":7,"./models":8,"./utils":9}],2:[function(q,v,c){(function(l){(function(h){function n(a){throw RangeError(d[a]);}function r(a,d){for(var k=a.length;k--;)a[k]=d(a[k]);return a}function g(a,d){return r(a.split(y),
d).join(".")}function b(a){for(var d=[],k=0,b=a.length,e,c;k<b;)e=a.charCodeAt(k++),55296<=e&&56319>=e&&k<b?(c=a.charCodeAt(k++),56320==(c&64512)?d.push(((e&1023)<<10)+(c&1023)+65536):(d.push(e),k--)):d.push(e);return d}function e(a){return r(a,function(a){var d="";65535<a&&(a-=65536,d+=A(a>>>10&1023|55296),a=56320|a&1023);return d+=A(a)}).join("")}function a(a,d){return a+22+75*(26>a)-((0!=d)<<5)}function x(a,d,k){var b=0;a=k?z(a/700):a>>1;for(a+=z(a/d);455<a;b+=36)a=z(a/35);return z(b+36*a/(a+38))}
function p(a){var d=[],k=a.length,b,c=0,g=128,f=72,u,p,h,m,l;u=a.lastIndexOf("-");0>u&&(u=0);for(p=0;p<u;++p)128<=a.charCodeAt(p)&&n("not-basic"),d.push(a.charCodeAt(p));for(u=0<u?u+1:0;u<k;){p=c;b=1;for(h=36;;h+=36){u>=k&&n("invalid-input");m=a.charCodeAt(u++);m=10>m-48?m-22:26>m-65?m-65:26>m-97?m-97:36;(36<=m||m>z((2147483647-c)/b))&&n("overflow");c+=m*b;l=h<=f?1:h>=f+26?26:h-f;if(m<l)break;m=36-l;b>z(2147483647/m)&&n("overflow");b*=m}b=d.length+1;f=x(c-p,b,0==p);z(c/b)>2147483647-g&&n("overflow");
g+=z(c/b);c%=b;d.splice(c++,0,g)}return e(d)}function t(d){var k,e,c,g,f,u,m,p,h,l=[],y,t,r;d=b(d);y=d.length;k=128;e=0;f=72;for(u=0;u<y;++u)h=d[u],128>h&&l.push(A(h));for((c=g=l.length)&&l.push("-");c<y;){m=2147483647;for(u=0;u<y;++u)h=d[u],h>=k&&h<m&&(m=h);t=c+1;m-k>z((2147483647-e)/t)&&n("overflow");e+=(m-k)*t;k=m;for(u=0;u<y;++u)if(h=d[u],h<k&&2147483647<++e&&n("overflow"),h==k){p=e;for(m=36;;m+=36){h=m<=f?1:m>=f+26?26:m-f;if(p<h)break;r=p-h;p=36-h;l.push(A(a(h+r%p,0)));p=z(r/p)}l.push(A(a(p,
0)));f=x(e,t,c==g);e=0;++c}++e;++k}return l.join("")}var f="object"==typeof c&&c,q="object"==typeof v&&v&&v.exports==f&&v,w="object"==typeof l&&l;if(w.global===w||w.window===w)h=w;var B=/^xn--/,k=/[^ -~]/,y=/\x2E|\u3002|\uFF0E|\uFF61/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=Math.floor,A=String.fromCharCode,m,w={version:"1.2.4",ucs2:{decode:b,encode:e},decode:p,encode:t,toASCII:function(a){return g(a,
function(a){return k.test(a)?"xn--"+t(a):a})},toUnicode:function(a){return g(a,function(a){return B.test(a)?p(a.slice(4).toLowerCase()):a})}};if(f&&!f.nodeType)if(q)q.exports=w;else for(m in w)w.hasOwnProperty(m)&&(f[m]=w[m]);else h.punycode=w})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],3:[function(q,v,c){function l(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=
this.auth=this.slashes=this.protocol=null}function h(a,b,d){if(a&&n(a)&&a instanceof l)return a;var k=new l;k.parse(a,b,d);return k}function n(a){return"object"===typeof a&&null!==a}var r=q("punycode");c.parse=h;c.resolve=function(a,b){return h(a,!1,!0).resolve(b)};c.resolveObject=function(a,b){return a?h(a,!1,!0).resolveObject(b):b};c.format=function(a){"string"===typeof a&&(a=h(a));return a instanceof l?a.format():l.prototype.format.call(a)};c.Url=l;var g=/^([a-z0-9.+-]+:)/i,b=/:[0-9]*$/;v="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split(""));
var e=["'"].concat(v),a=["%","/","?",";","#"].concat(e),x=["/","?","#"],p=/^[a-z0-9A-Z_-]{0,63}$/,t=/^([a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},D={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=q("querystring");l.prototype.parse=function(b,c,d){if("string"!==typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var k=g.exec(b);if(k){var k=k[0],h=k.toLowerCase();
this.protocol=h;b=b.substr(k.length)}if(d||k||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var m="//"===b.substr(0,2);!m||k&&D[k]||(b=b.substr(2),this.slashes=!0)}if(!D[k]&&(m||k&&!w[k])){m=-1;for(d=0;d<x.length;d++)k=b.indexOf(x[d]),-1!==k&&(-1===m||k<m)&&(m=k);m=-1===m?b.lastIndexOf("@"):b.lastIndexOf("@",m);-1!==m&&(d=b.slice(0,m),b=b.slice(m+1),this.auth=decodeURIComponent(d));m=-1;for(d=0;d<a.length;d++)k=b.indexOf(a[d]),-1!==k&&(-1===m||k<m)&&(m=k);-1===m&&(m=b.length);this.host=b.slice(0,m);b=b.slice(m);
this.parseHost();this.hostname=this.hostname||"";m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m){var u=this.hostname.split(/\./);d=0;for(k=u.length;d<k;d++){var l=u[d];if(l&&!l.match(p)){for(var n="",y=0,q=l.length;y<q;y++)n=127<l.charCodeAt(y)?n+"x":n+l[y];if(!n.match(p)){k=u.slice(0,d);d=u.slice(d+1);if(l=l.match(t))k.push(l[1]),d.unshift(l[2]);d.length&&(b="/"+d.join(".")+b);this.hostname=k.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
if(!m){l=this.hostname.split(".");u=[];for(d=0;d<l.length;++d)k=l[d],u.push(k.match(/[^A-Za-z0-9_-]/)?"xn--"+r.encode(k):k);this.hostname=u.join(".")}d=this.port?":"+this.port:"";this.host=(this.hostname||"")+d;this.href+=this.host;m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!f[h])for(d=0,k=e.length;d<k;d++)m=e[d],l=encodeURIComponent(m),l===m&&(l=escape(m)),b=b.split(m).join(l);d=b.indexOf("#");-1!==d&&(this.hash=b.substr(d),b=b.slice(0,d));d=b.indexOf("?");
-1!==d?(this.search=b.substr(d),this.query=b.substr(d+1),c&&(this.query=B.parse(this.query)),b=b.slice(0,d)):c&&(this.search="",this.query={});b&&(this.pathname=b);w[h]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)d=this.pathname||"",k=this.search||"",this.path=d+k;this.href=this.format();return this};l.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",d=this.pathname||"",e=this.hash||
"",c=!1,g="";this.host?c=a+this.host:this.hostname&&(c=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(c+=":"+this.port));this.query&&n(this.query)&&Object.keys(this.query).length&&(g=B.stringify(this.query));a=this.search||g&&"?"+g||"";b&&":"!==b.substr(-1)&&(b+=":");this.slashes||(!b||w[b])&&!1!==c?(c="//"+(c||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):c||(c="");e&&"#"!==e.charAt(0)&&(e="#"+e);a&&"?"!==a.charAt(0)&&(a="?"+a);d=d.replace(/[?#]/g,function(a){return encodeURIComponent(a)});
a=a.replace("#","%23");return b+c+d+a+e};l.prototype.resolve=function(a){return this.resolveObject(h(a,!1,!0)).format()};l.prototype.resolveObject=function(a){if("string"===typeof a){var b=new l;b.parse(a,!1,!0);a=b}var d=new l;Object.keys(this).forEach(function(a){d[a]=this[a]},this);d.hash=a.hash;if(""===a.href)return d.href=d.format(),d;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(d[b]=a[b])}),w[d.protocol]&&d.hostname&&!d.pathname&&(d.path=d.pathname="/"),
d.href=d.format(),d;if(a.protocol&&a.protocol!==d.protocol){if(!w[a.protocol])return Object.keys(a).forEach(function(b){d[b]=a[b]}),d.href=d.format(),d;d.protocol=a.protocol;if(a.host||D[a.protocol])d.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==e[0]&&e.unshift("");2>e.length&&e.unshift("");d.pathname=e.join("/")}d.search=a.search;d.query=a.query;d.host=a.host||"";d.auth=a.auth;d.hostname=a.hostname||
a.host;d.port=a.port;if(d.pathname||d.search)d.path=(d.pathname||"")+(d.search||"");d.slashes=d.slashes||a.slashes;d.href=d.format();return d}var b=d.pathname&&"/"===d.pathname.charAt(0),c=a.host||a.pathname&&"/"===a.pathname.charAt(0),g=b=c||b||d.host&&a.pathname,f=d.pathname&&d.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],h=d.protocol&&!w[d.protocol];h&&(d.hostname="",d.port=null,d.host&&(""===f[0]?f[0]=d.host:f.unshift(d.host)),d.host="",a.protocol&&(a.hostname=null,a.port=null,
a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),b=b&&(""===e[0]||""===f[0]));if(c)d.host=a.host||""===a.host?a.host:d.host,d.hostname=a.hostname||""===a.hostname?a.hostname:d.hostname,d.search=a.search,d.query=a.query,f=e;else if(e.length)f||(f=[]),f.pop(),f=f.concat(e),d.search=a.search,d.query=a.query;else if(null!=a.search){h&&(d.hostname=d.host=f.shift(),h=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=h.shift(),d.host=d.hostname=h.shift());d.search=a.search;d.query=
a.query;if(null!==d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.href=d.format();return d}if(!f.length)return d.pathname=null,d.path=d.search?"/"+d.search:null,d.href=d.format(),d;for(var c=f.slice(-1)[0],e=(d.host||a.host)&&("."===c||".."===c)||""===c,k=0,p=f.length;0<=p;p--)c=f[p],"."==c?f.splice(p,1):".."===c?(f.splice(p,1),k++):k&&(f.splice(p,1),k--);if(!b&&!g)for(;k--;k)f.unshift("..");!b||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift("");e&&"/"!==f.join("/").substr(-1)&&
f.push("");g=""===f[0]||f[0]&&"/"===f[0].charAt(0);h&&(d.hostname=d.host=g?"":f.length?f.shift():"",h=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=h.shift(),d.host=d.hostname=h.shift());(b=b||d.host&&f.length)&&!g&&f.unshift("");f.length?d.pathname=f.join("/"):(d.pathname=null,d.path=null);if(null!==d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.auth=a.auth||d.auth;d.slashes=d.slashes||a.slashes;d.href=d.format();return d};l.prototype.parseHost=
function(){var a=this.host,e=b.exec(a);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),a=a.substr(0,a.length-e.length));a&&(this.hostname=a)}},{punycode:2,querystring:6}],4:[function(q,v,c){v.exports=function(c,n,r,g){r=r||"\x3d";var b={};if("string"!==typeof c||0===c.length)return b;var e=/\+/g;c=c.split(n||"\x26");n=1E3;g&&"number"===typeof g.maxKeys&&(n=g.maxKeys);g=c.length;0<n&&g>n&&(g=n);for(n=0;n<g;++n){var a=c[n].replace(e,"%20"),h=a.indexOf(r),p;0<=h?(p=a.substr(0,h),a=a.substr(h+1)):(p=a,a=
"");p=decodeURIComponent(p);a=decodeURIComponent(a);Object.prototype.hasOwnProperty.call(b,p)?l(b[p])?b[p].push(a):b[p]=[b[p],a]:b[p]=a}return b};var l=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)}},{}],5:[function(q,v,c){function l(c,b){if(c.map)return c.map(b);for(var e=[],a=0;a<c.length;a++)e.push(b(c[a],a));return e}var h=function(c){switch(typeof c){case "string":return c;case "boolean":return c?"true":"false";case "number":return isFinite(c)?c:"";default:return""}};
v.exports=function(c,b,e,a){b=b||"\x26";e=e||"\x3d";null===c&&(c=void 0);return"object"===typeof c?l(r(c),function(a){var g=encodeURIComponent(h(a))+e;return n(c[a])?l(c[a],function(a){return g+encodeURIComponent(h(a))}).join(b):g+encodeURIComponent(h(c[a]))}).join(b):a?encodeURIComponent(h(a))+e+encodeURIComponent(h(c)):""};var n=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},r=Object.keys||function(c){var b=[],e;for(e in c)Object.prototype.hasOwnProperty.call(c,
e)&&b.push(e);return b}},{}],6:[function(q,v,c){c.decode=c.parse=q("./decode");c.encode=c.stringify=q("./encode")},{"./decode":4,"./encode":5}],7:[function(q,v,c){Object.defineProperty(c,"__esModule",{value:!0});c.STATE_AP_KEY="_AP";c.QUERY_KEY_PREFIX="ac";c.QUERY_KEY_DELIMITER=".";c.ANCHOR_PREFIX="!";c.HISTORY_POPSTATE="history_popstate";c.HISTORY_PUSHSTATE="history_pushstate";c.HISTORY_REPLACESTATE="history_replacestate";c.HISTORY_CHANGESTATE="history_changestate"},{}],8:[function(q,v,c){function l(a){a=
a||{};if(!a.key)throw Error("missing key for addon");this.key=a.key;this.state=a.state;this.query=a.query||{};return this}function h(a){a=a||{};a.models=a.models||[];a.models instanceof Array||(a.models=[a.models]);a.models=a.models.map(function(a){return a instanceof l?a:new l(a)});this.models=a.models;return this}function n(a){a=a||{};a.addons=a.addons||[];a.addons instanceof h||(a.addons=new h(a.addons));this.addons=a.addons;return this}function r(a){a=a||{};a.addons=a.addons||[];a.global=a.global||
[];a.parsed instanceof b["default"].Url||(a.parsed=b["default"].parse(a.url));a.addons instanceof h||(a.addons=new h(a.addons));this.parsed=a.parsed;this.addons=a.addons;this.global=a.global;this.title=a.title||window.document.title}function g(a){a=a||{};if(!a.url)throw Error("missing url option");a.url instanceof r||(a.url=new r(a.url));if(!a.state)throw Error("missing state option");a.state instanceof n||(a.state=new n(a.state));this.url=a.url;this.state=a.state}Object.defineProperty(c,"__esModule",
{value:!0});c.Addon=l;c.Addons=h;c.Current=function(a){a=a||{};if(!a.url)throw Error("missing url");var c=b["default"].parse(a.url),g=new h,c=(0,e.parseQuery)(c.query).map(e.stripAddonQueryPrefix),t=(0,e.normalizeQueryByAddons)(c),c=t.filter(function(a){return a.key}),t=t.filter(function(a){return!a.key});c.forEach(function(a){a=new l(a);g.add(a)});this.url=new r({url:a.url,addons:g,global:t});this.state=new n(a.state);return this};c.Change=function(a,c){var g=typeof a,t=b["default"].parse(window.location.href),
f={},x,q;if("string"===g)f.protocol=t.protocol,f.slashes=t.slashes,f.hostname=t.hostname,f.pathname=t.pathname,f.port=t.port,f.search=t.search,f.query=t.query,f.hash=(0,e.addHash)((0,e.addHashPrefix)(a));else if("object"===g)q=a.href?b["default"].parse(a.href):t,f.protocol=t.protocol,f.slashes=t.slashes,f.hostname=t.hostname,f.port=t.port,f.pathname=q.pathname||t.pathname,f.search=null,f.query=null,f.hash=a.hash?(0,e.addHash)((0,e.addHashPrefix)(a.hash)):null,x=a.state,q=a.query;else throw Error("invalid option type");
g=new h;t=new h;x&&(x=new l({key:c,state:x}),g.add(x));q&&(q=new l({key:c,query:q}),t.add(q));q=new n({addons:g});f=new r({url:b["default"].format(f),addons:t});this.state=q;this.url=f;return this};c.State=n;c.URL=r;c.Route=g;var b=(v=q("url"))&&v.__esModule?v:{"default":v},e=q("./utils");h.prototype.add=function(a){this.models.push(a)};h.prototype.remove=function(a){this.models.splice(this.models.indexOf(a),1)};h.prototype.find=function(a){return(0,e.find)(this.models,function(b){return b.key===
a})};h.prototype.merge=function(a){var b=this.find(a.key);b&&this.remove(b);this.add(a)};n.prototype.merge=function(a){var b=this;a.addons.models.forEach(function(a){b.addons.merge(a)})};n.prototype.render=function(){return(0,e.deepCopy)(this)};r.prototype.isURLEqual=function(a){return this.render().url===a.render().url};r.prototype.isPathnameEqual=function(a){var b=this.parsed.slashes===a.parsed.slashes,c=this.parsed.hostname===a.parsed.hostname,e=this.parsed.pathname===a.parsed.pathname;return this.parsed.protocol===
a.parsed.protocol&&b&&c&&e};r.prototype.merge=function(a){var b=this;b.parsed.hash=a.parsed.hash;a.addons.models.forEach(function(a){b.addons.merge(a)})};r.prototype.render=function(){var a=(0,e.deepCopy)(this),c=a.parsed,g=(0,e.denormalizeQueryByAddons)(this.addons.models),h=(0,e.denormalizeQueryByAddons)(this.global),g=g.concat(h).map(e.addAddonQueryPrefix),g=(0,e.formatQuery)(g);c.query=g;c.search=c.query?"?"+c.query:null;a.url=b["default"].format(c);return a};g.prototype.merge=function(a){this.url.merge(a.url);
this.state.merge(a.state)};g.prototype.render=function(a){return(0,e.deepCopy)({key:a,hash:(0,e.stripHashPrefix)((0,e.stripHash)(this.url.parsed.hash)),query:this.url.addons.find(a)?this.url.addons.find(a).query:null,title:this.url.title,href:this.url.parsed.href,state:this.state.addons.find(a)?this.state.addons.find(a).state:null})}},{"./utils":9,url:3}],9:[function(q,v,c){function l(b,c,a){c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a;return b}function h(b){return void 0===
b||null===b||""===b?"":b.toString().replace(new RegExp("^"+g.ANCHOR_PREFIX),"")}function n(b){b=b?b.split("\x3d"):[];return 2===b.length?{key:b[0],value:b[1]}:null}function r(b){return"key"in b&&"value"in b?[b.key,"\x3d",b.value].join(""):null}Object.defineProperty(c,"__esModule",{value:!0});c.find=function(b,c){for(var a=0,e=b.length;a<e;a+=1)if(c(b[a]))return b[a]};c.values=function(b){var c=[];if(!b)return c;for(var a in b)c.push(b[a]);return c};c.stripHash=function(b){return b?b.slice(b.search("#")+
1):null};c.stripHashPrefix=h;c.addHash=function(b){return"#"+b};c.addHashPrefix=function(b){if(void 0===b||null===b)throw"You must supply text to prefix";return g.ANCHOR_PREFIX+h(b)};c.splitQueryParam=n;c.joinQueryParam=r;c.parseQuery=function(b){return(b?b.split("\x26"):[]).map(function(b){return n(b)}).filter(function(b){return b})};c.formatQuery=function(b){b=b.map(function(b){return r(b)}).filter(function(b){return b});return b.length?b.join("\x26"):null};c.stripAddonQueryPrefix=function(b){var c=
b.key?b.key.split(g.QUERY_KEY_DELIMITER):[],a=g.QUERY_KEY_PREFIX;return 3<=c.length&&a===c[0]?(a=c.slice(1,c.length-1).join(g.QUERY_KEY_DELIMITER),c=c.slice(c.length-1).join(g.QUERY_KEY_DELIMITER),{addonKey:a,key:c,value:b.value}):b};c.addAddonQueryPrefix=function(b){var c=g.QUERY_KEY_PREFIX;return"addonKey"in b&&b.addonKey?{key:[c,b.addonKey,b.key].join(g.QUERY_KEY_DELIMITER),value:b.value}:b};c.normalizeQueryByAddons=function(b){var c=[];b.forEach(function(a){var b=a.key,e=a.value,g=a.addonKey;
(a=c.filter(function(a){return a.key===g}))&&a.length?a[0].query[b]=e:c.push({key:g,query:l({},b,e)})});return c};c.denormalizeQueryByAddons=function(b){var c=[];b.forEach(function(a){var b=a.key;Object.keys(a.query).forEach(function(e){c.push({addonKey:b,key:e,value:a.query[e]})})});return c};c.deepCopy=function(b){return JSON.parse(JSON.stringify(b))};c.wrapState=function(b){var c={};c[g.STATE_AP_KEY]=b;return c};c.unwrapState=function(b){return b&&b[g.STATE_AP_KEY]?b[g.STATE_AP_KEY]:null};c.createEvent=
function(b){if("function"===typeof Event)var c=new Event(b);else c=document.createEvent("Event"),c.initEvent(b,!1,!1);return c};c.callConnectHost=function(b){q&&q.amd?q(["connect-host"],function(c){b(c)}):b(window.connectHost)};c.log=function(b,c){c||(c="log");console[c].call(null,"Atlassian Connect JS History: ",b)};var g=q("./constants")},{"./constants":7}]},{},[1])(1)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'v5/js/core/connect-host-request.js' */
(function(t){"object"===typeof exports&&"undefined"!==typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).connectHostRequest=t()})(function(){return function v(m,d,p){function n(k,l){if(!d[k]){if(!m[k]){var e="function"==typeof require&&require;if(!l&&e)return e(k,!0);if(q)return q(k,!0);e=Error("Cannot find module '"+k+"'");throw e.code="MODULE_NOT_FOUND",e;
}e=d[k]={exports:{}};m[k][0].call(e.exports,function(e){var d=m[k][1][e];return n(d?d:e)},e,e.exports,v,m,d,p)}return d[k].exports}for(var q="function"==typeof require&&require,l=0;l<p.length;l++)n(p[l]);return n}({1:[function(v,m,d){function p(){if(window.AJS&&window.AJS.contextPath)return window.AJS.contextPath();var a=document.querySelector("meta[name\x3dajs-context-path]");return a?a.getAttribute("content"):""}function n(a){return a.replace(/(http[s]?:\/\/[^"]*?&jwt=[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*.*?)\\"/gi,
'\\"')}function q(a){var f={headers:{}};w.forEach(function(b,g){f[b]=a[b];if("responseText"===b)try{JSON.parse(a[b]),f[b]=n(a[b])}catch(y){}},this);e.forEach(function(b,g){f.headers[b]=a.getResponseHeader(b)},this);return f}function l(a,f,b){b._isBlob&&b.blob&&b.name?a.append(f,b.blob,b.name):a.append(f,b);return a}function k(a){a.contentType=!1;a.processData=!1;if(a.data&&"object"===typeof a.data){var f=new FormData;Object.keys(a.data).forEach(function(b){var g=a.data[b];Array.isArray(g)?g.forEach(function(a,
g){f=l(f,b+"["+g+"]",a)}):f=l(f,b,g)});a.data=f;a.headers["X-Atlassian-Token"]="no-check"}else throw Error("For a Multipart request, data must to be an Object");return a}Object.defineProperty(d,"__esModule",{value:!0});var w=["status","statusText","responseText"],e=["Content-Type","ETag"],x=["If-Match","If-None-Match","X-Atlassian-Force-Account-ID"],r;d.stripJWTUrls=n;d.addRequestMarshal=function(a){if("function"===typeof a)r=a;else throw Error("ACJS request marshal must be a function");};d.removeRequestMarshal=
function(){r=void 0};d["default"]={request:function(a,f){function b(a,c,b){f(b,q(a),b)}var g=p(),e={};f=arguments[arguments.length-1];var d=f._context.extension,l=d.addon_key,n=d.key,d=d.options.allowPathTraversal;"string"===typeof a&&(a={url:a});var m=g+a.url;if(!d&&!(new URL(m,document.baseURI)).pathname.startsWith(g))return window.connectHost&&window.connectHost.trackAnalyticsEvent&&window.connectHost.trackAnalyticsEvent("jsapi.request.prevent-path-traversal",{addonKey:l,moduleKey:n,url:m}),f("Request url must include context path '"+
g+"'",{});a.headers=a.headers||{};Object.getOwnPropertyNames(a.headers).forEach(function(b){e[b.toLowerCase()]=a.headers[b]},this);var c={url:m,type:a.type||"GET",data:a.data,dataType:"text",contentType:a.contentType,cache:"undefined"!==typeof a.cache?!!a.cache:void 0,headers:{Accept:e.accept||"*/*","AP-Client-Key":l}};"multipart/form-data"===c.contentType&&(c=k(c));c.data&&"object"===typeof c.data&&"GET"===c.type.toUpperCase()&&Object.keys(c.data).forEach(function(a){c.url+=(0<=c.url.indexOf("?")?
"\x26":"?")+encodeURIComponent(a)+"\x3d"+encodeURIComponent(c.data[a])});!0===a.experimental&&(c.headers["X-ExperimentalApi"]="opt-in");x.forEach(function(a,b){e[a.toLowerCase()]&&(c.headers[a]=e[a.toLowerCase()])},this);c.cache||(c.url+=(0<=c.url.indexOf("?")?"\x26":"?")+"_r\x3d"+(new Date).getTime());var h=new XMLHttpRequest;h.open(c.type,c.url,!0);c.contentType&&(c.headers["Content-type"]=c.contentType);Object.getOwnPropertyNames(c.headers).forEach(function(a){h.setRequestHeader(a,c.headers[a])});
h.onload=function(){if(200<=this.status&&300>this.status){var a=h.responseText;f(!1,q(h),a)}else b(h,h.statusText,h.responseText)};h.onerror=function(){b(h,h.statusText,h.responseText)};try{g=!0,r&&(g=r.call(null,c)),!0===g?h.send(c.data||null):(h.abort(),b(h,"string"===typeof g?g:void 0,g))}catch(u){h.abort(),b(h,void 0,u),console.error("ACJS Request: ",u.message,u)}}}},{}]},{},[1])(1)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-user-v5', location = 'v5/js/iframe/host/user.js' */
define("ac/user",function(){return{getUser:function(a){var b=a._context.extension.options.user,c="undefined"===typeof b.uid&&"undefined"===typeof b.ukey?null:AJS.Meta.get("remote-user-fullname")||AJS.Meta.get("current-user-fullname")||null;a({fullName:c,id:b.uid,key:b.ukey})},getCurrentUser:function(a){var b=AJS.Meta.get("atlassian-account-id")||null,c=AJS.Meta.get("account-type")||null;a({atlassianAccountId:b,accountType:c})},getTimeZone:function(a){a(a._context.extension.options.user.timeZone)},
getLocale:function(a){a(AJS.Meta.get("user-locale"))}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:content-resolver-v5', location = 'v5/js/iframe/host/content-resolver.js' */
(function(){function g(a,b){return AJS.contextPath()+"/plugins/servlet/ac/"+encodeURIComponent(a)+"/"+encodeURIComponent(b)}function h(a){var b={};_.keys(a).forEach(function(d){b["ac."+d]=a[d]});return b}function k(a,b){var d={};_.keys(a).forEach(function(c){b(c,a[c])&&(d[c]=a[c])});return d}function f(a){a=a.getResponseHeader("Date");a=Math.round(Date.parse(a)/1E3);var b=Math.round(Date.now()/1E3);isNaN(a)||(a=Math.abs(b-a),window.connectHost.setJwtClockSkew(a+60))}function l(a){a=a.addon_key+"__"+
a.key;if(window._AP&&window._AP.cacheableIframeUrls&&window._AP.cacheableIframeUrls[a])return window._AP.cacheableIframeUrls[a]}function e(a,b){return AJS.$.Deferred(function(d){var c=l(a);if(c&&!b)d.resolve(window._AP._convertConnectOptions({addon_key:a.addon_key,key:a.key,url:c,productCtx:JSON.stringify(a.options.productContext||{})}));else{c={"plugin-key":a.addon_key,"product-context":JSON.stringify(a.options.productContext||{}),key:a.key,width:a.width||"100%",height:a.height||"100%",classifier:a.classifier||
"raw"};a.options.contentClassifier&&(c.classifier=[a.options.contentClassifier,c.classifier]);var e=k(a.options.customData||{},function(a,b){return _.isObject(b)?!1:"string"===typeof b||b instanceof String?255>b.length:!0});AJS.$.ajax(g(a.addon_key,a.key),{dataType:"json"===a.classifier?"json":"html",data:AJS.$.extend({},c,h(e)),type:"POST"}).then(function(a,c,e){f(e);b?d.resolve(window._AP._convertConnectOptions(a)):require(["ac/create"],function(b){d.resolve(window._AP._convertConnectOptions(a))})}).fail(function(b,
c,e){f(b);d.reject({addon_key:a.addon_key,key:a.key,options:a.options},{text:"Unable to retrieve addon module URL. Please check your specified module key."})})}}).promise()}define("ac/content-resolver",function(){return{resolveByExtension:e}});_AP.util.awaitGlobal("connectHost",function(a){a.registerContentResolver.resolveByExtension(e)})})();;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-context-v5', location = 'v5/js/context/util.js' */
define("ac/context/util",function(){return{isValidExtensionOptionsForCache:function(a){var b=(!a.contextJwt||!connectHost.isJwtExpired(a.contextJwt,!0))&&!!a.structuredContext;if(b){var c=a.productContext&&0<Object.getOwnPropertyNames(a.productContext).length;a=0<Object.getOwnPropertyNames(a.structuredContext).length;c&&!a&&(b=!1)}return b}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-context-v5', location = 'v5/js/context/main.js' */
define("ac/context",["ac/content-resolver","ac/context/util"],function(l,m){function f(a){if(a.id&&1<a.id.length)return a.id;throw Error("ACJS: cannot generate cache key for extension");}function n(a){a=3E4+a;var b=Date.now();return a<b}function h(a,b){return{cachedAt:Date.now(),contextJwt:b,contextObj:a}}function g(a){var b=f(a);if(!c[b]||!c[b].promise&&c[b].context&&n(c[b].context.cachedAt))a.classifier="json",c[b]=c[b]||{},c[b].promise=l.resolveByExtension(a,!0).done(function(a){a&&(c[b].context=
h(a.options.structuredContext,a.options.contextJwt))})}function k(a){if(!a||2>a.length)throw Error("ACJS: Cannot get token. Add-on does not support JWT authentication");}function p(a){if(m.isValidExtensionOptionsForCache(a.extension.options)){var b=f(a.extension);c[b]={context:h(a.extension.options.structuredContext,a.extension.options.contextJwt)}}else g(a.extension)}var c={};_AP.util.awaitGlobal("connectHost",function(a){a.onIframeEstablished(p);a.onIframeUnload(function(a){delete c[f(a.extension)]})});
var e={getToken:function(a){return new window.ES6Promise.Promise(function(b,e){var d=f(a._context.extension);g(a._context.extension);c[d].promise?c[d].promise.done(function(a){k(a.options.contextJwt);try{b(a.options.contextJwt)}catch(q){}}.bind(this)).fail(function(){console.error("ACJS: content resolver failed to get context jwt token")}).always(function(){delete c[d].promise}.bind(this)):(k(c[d].context.contextJwt),b(c[d].context.contextJwt))})},getContext:function(a){return new window.ES6Promise.Promise(function(b,
e){var d=f(a._context.extension);g(a._context.extension);c[d].promise?c[d].promise.done(function(a){try{b(c[d].context.contextObj)}catch(q){}}.bind(this)).fail(function(){e("ACJS: content resolver failed to get context")}).always(function(){delete c[d].promise}.bind(this)):b(c[d].context.contextObj)})}};e.getContext.returnsPromise=!0;e.getToken.returnsPromise=!0;return e});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:module-loader-v5', location = 'v5/js/iframe/host/module-loader.js' */
_AP.util.awaitGlobal("connectHost",function(a){a.defineModule("cookie",connectHostCookie);a.defineModule("history",connectHostHistory);a.defineModule(connectHostRequest["default"]);a.defineModule("navigator",require("ac/navigator/module"));a.defineModule("user",require("ac/user"));a.defineModule("context",require("ac/context"))});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:iframe-insertion-v5', location = 'v5/js/iframe/combined/iframe-insertion.js' */
(function(){function k(a){var b;if("string"===typeof a&&1<a.length)try{b=JSON.parse(a)}catch(c){console.error("ACJS: failed to decode context",a)}"object"!==typeof b&&(b={});return b}function n(a,b){var c=a.contentDocument,d="(function(){ var w \x3d window; for (var i\x3d0; i\x3c"+b.options.hostFrameOffset+"; i++){w \x3d w.parent; } w.postMessage("+JSON.stringify({type:"set_inner_iframe_url",iframeData:b})+', "*");}());';c.open();c.write("\x3cscript\x3e"+d+"\x3c/script\x3e");c.close()}function p(a,
b){if("number"!==typeof a)return window.top;for(var c=b||window,d=0;d<a;d++)c=c.parent;return c}function g(a,b,c){c=c||100;if("undefined"!==typeof window[a])b(window[a]);else var d=setInterval(function(){"undefined"!==typeof window[a]&&(clearInterval(d),b(window[a]))},c)}function e(a){window._AP.isSubHost=p(a.hostFrameOffset)!==window;var b=window._AP._convertConnectOptions(a);window._AP.addonAttemptCounter[b.containerId]=0;var c;window._AP.isSubHost?(window.AP&&window.AP._data&&window.AP._data.options&&
window.AP._data.options.globalOptions&&(b.options.globalOptions=window.AP._data.options.globalOptions),c=window._AP._createSub(b),h(c,b)):g("connectHost",function(a){q(a,{addon_key:b.addon_key,key:b.key}).forEach(function(c){if(c.extension.options.uniqueKey===b.options.uniqueKey){var d=document.getElementById(c.extension_id);a.destroy(c.extension_id);d&&AJS.$(d).closest(".ap-iframe-container").remove()}},this);c=a.create(b);h(c,b)})}function h(a,b){var c=document.getElementById(b.containerId);window._AP.addonAttemptCounter[b.containerId]++;
if(c)if(delete window._AP.addonAttemptCounter[b.containerId],window._AP.isSubHost)c.appendChild(a),n(a,b);else{var d=c.querySelector(".ap-iframe-container");d&&(d.parentNode.removeChild(d),AJS.log&&AJS.log("AJS: duplicate iframe removed",b,c));a.appendTo(c);a.data("addon-key",b.addon_key);a.data("key",b.key)}else 10>=window._AP.addonAttemptCounter[b.containerId]&&r(function(){h(a,b)})}var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
function(a){window.setTimeout(a,50)}}(),q=function(a,b){return a.getExtensions(b).filter(function(a){return!!document.getElementById(a.extension_id)})},l=function(a,b,c){try{var d=require(a);b(d)}catch(f){0>=c?(console.error("Unable to load module: "+a),b(null)):setTimeout(function(){l(a,b,c-1)},500)}},m=function(a,b,c,d,f){"undefined"===typeof d&&(d=20);f=f||200;!a.isModuleDefined||0>=d?c():a.isModuleDefined(b)?c(!0):setTimeout(function(){m(a,b,c,d-1,f)},f)};window._AP=window._AP||{};window._AP.addonAttemptCounter=
window._AP.addonAttemptCounter||{};window._AP._convertConnectOptions=function(a){var b={url:a.url,ns:a.uniqueKey,addon_key:a.addon_key,key:a.key,containerId:"embedded-"+a.uniqueKey,options:{history:{state:""},uniqueKey:a.uniqueKey,origin:a.origin,hostOrigin:a.hostOrigin,moduleType:a.moduleType,moduleLocation:a.moduleLocation,isFullPage:"1"===a.general,autoresize:!0,user:{timeZone:a.timeZone,fullName:a.fullName,uid:a.uid,ukey:a.ukey},productContext:k(a.productCtx),structuredContext:k(a.structuredContext),
contextJwt:a.contextJwt,contextPath:a.cp,width:a.w||a.width,height:a.h||a.height,sandbox:a.sandbox,noSub:a.noSub,allowPathTraversal:a.allowPathTraversal,targets:{env:{resize:"both"}}}};"string"===typeof a.contentClassifier&&(b.options.contentClassifier=a.contentClassifier);"number"===typeof a.hostFrameOffset&&(b.options.hostFrameOffset=a.hostFrameOffset+1);window._AP.isSubHost||(b.options.history.state=window.location.hash?window.location.hash.substr(2):"");return b};window._AP._createSub=function(a){var b=
document.createElement("iframe"),c=(window.connectHost||window.AP).subCreate(a);c.width=a.options.width||"";c.height=a.options.height||"";c.style="border:0;";c["class"]="ap-iframe";c["data-addon-key"]=a.addon_key;c["data-key"]=a.key;delete c.src;Object.getOwnPropertyNames(c).forEach(function(a){b.setAttribute(a,c[a])});return b};window._AP.appendConnectAddon=function(a){var b=!1;try{window.top.karma&&(b=!0)}catch(d){}if(window===window.top||b)/^com\.atlassian\.(jira|confluence)\.emcee($|\.local|\.staging|\.development\..*)/g.test(a.addon_key)?
l("ac/marketplace",function(b){b&&g("connectHost",function(a){a.defineModule("marketplace",b)});e(a)},20):"com.addonengine.analytics"===a.addon_key?g("connectHost",function(b){b.getBooleanFeatureFlag&&b.getBooleanFeatureFlag("com.atlassian.connect.cc-analytics")?m(b,"analytics",function(){e(a)}):e(a)}):e(a);else{var c=function(b){b.source===window.top&&b.data&&void 0!==b.data.hostFrameOffset&&(window.removeEventListener("message",c),a.hostFrameOffset=b.data.hostFrameOffset,e(a))};window.addEventListener("message",
c);window.top.postMessage({type:"get_host_offset"},"*")}}})();;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:iframe-host-js-v5', location = 'v5/js/iframe/host/main.js' */
_AP.addonAttemptCounter={};
_AP.util.awaitGlobal("connectHost",function(a){a.setExtensionConfigurationOptions("crev",window._AP.allJsVersion);a.onIframeEstablished(function(a){a.$el.closest(".ap-iframe-container").addClass("iframe-init")});if(a.getBooleanFeatureFlag("com.atlassian.connect.acjs-on-frame-click"))a.onFrameClick(function(a){a.click()});else AJS.$(window).on("blur",function(){var a=AJS.LayerManager.global.getTopLayer();if(a&&a.hasClass("aui-dialog2"))return!1;AJS.$(document.activeElement).hasClass("ap-iframe")&&document.documentElement.click()})});
define("ac/create",function(){return{appendConnectAddon:function(a){return window._AP.appendConnectAddon(a)}}});function setInnerIframeUrl(a){"set_inner_iframe_url"===a.data.type&&a.data.iframeData.url&&0===a.data.iframeData.url.indexOf("http")&&(a.source.location=a.data.iframeData.url)}window.addEventListener("message",setInnerIframeUrl);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-workflow-post-function-v5', location = 'v5/js/jira/workflow-post-function/workflow-post-function.js' */
define("ac/jira/workflow-post-function",["ac/jira/workflow-post-function-utils"],function(a){var d=function(){};connectHost.onIframeEstablished(function(b){if(a.isOnWorkflowElementPage()&&a.isWorkflowElementExtension(b.extension)){var c=a.getWorkflowElementId();"string"===typeof c&&a.registerSubmissionButton(c,function(a){d=a;connectHost.broadcastEvent("jira_workflow_post_function_submit",{id:b.extension.id})})}});return{getWorkflowConfiguration:function(b){if(!a.isOnWorkflowElementPage()||"function"!==
typeof b)return!1;var c=a.workflowElementConfigInput(b._context.extension.options.productContext[a.getWorkflowElementName()+".id"]);b&&b(c)},_submitWorkflowConfigurationResponse:function(a,c){d(a)}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-workflow-post-function-v5', location = 'v5/js/jira/workflow-post-function/workflow-post-function-utils.js' */
(function(c,h){h("ac/jira/workflow-post-function-utils",function(){function g(a,d){var f=c("#"+b()+"-config-"+a);d&&f.val(d);return f.val()}function e(){return b()&&!0||!1}function b(){return 0<c("input[name\x3d'postFunction.id']").length?"postFunction":0<c("input[name\x3d'condition.id']").length?"condition":0<c("input[name\x3d'validator.id']").length?"validator":null}return{workflowElementConfigInput:g,isOnWorkflowElementPage:e,registerSubmissionButton:function(a,b,f){if(!e())throw"Not on a workflow configuration page";
var d=!1;c(document).delegate("#add_submit, #update_submit","click",function(e){if(!d||f)e.preventDefault(),b(function(b){b.valid&&(g(a,b.value),d=!0,c(e.target).click())})})},getWorkflowElementId:function(){return c("input[name\x3d'"+b()+".id']").val()},isWorkflowElementExtension:function(a){return a&&a.options&&a.options.productContext&&(a=a.options.productContext,a[b()+".id"]&&5<a[b()+".id"].length)?!0:!1},getWorkflowElementName:b}})})(AJS.$,define);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-date-picker-widget-v5', location = 'v5/js/jira/date-picker/date-picker.js' */
(function(e,b){b("ac/jira/date-picker",["ac/jira/date-picker-utils"],function(b){var d={_options:function(a,c){a.onSelect=function(a,b){connectHost.broadcastEvent("jira_date_selected",{id:c._context.extension_id},{isoDate:a.date.toISOString(),date:b});a.dateClicked&&a.callCloseHandler()}.bind(this);var b=document.getElementById(c._context.extension_id).getBoundingClientRect();a.position=a.position||{top:0,left:0};a.position.top+=b.top;a.position.left+=b.left;return a},openDatePicker:function(a,c){a=
d._options(a,c);b.show(a);return a}};return d})})(AJS.$,define);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-date-picker-widget-v5', location = 'v5/js/jira/date-picker/date-picker-utils.js' */
define("ac/jira/date-picker-utils",["quick-edit/init/calendar","underscore"],function(c,d){function e(){return new Promise(function(a){c(a)})}function f(a){var b=window.calendar,c=Calendar._FD?void 0:1;b&&b.hide();a=a||{};a=d.extend(a,g,{singleClick:"true",inputField:{}});window.calendar=b=new Calendar(a.useISO8601WeekNumbers?1:c,a.date,(new Date).toISOString(),a.onSelect||function(){},function(a){a.hide();a.destroy()});b.weekNumbers=!0;b.showsOtherMonths=!1;b.params=a;b.showsTime=a.showTime;b.time24=
"24"==a.timeFormat;b.setDateFormat(a.showTime?a.dateTimeFormat:a.dateFormat);b.create();b.refresh();b.showAt(a.position.left||0,a.position.top||0);return b}var g=WRM.data.claim("com.atlassian.plugins.atlassian-connect-plugin:jira-date-picker-widget.config");return{show:function(a){e().then(f.bind(this,a))["catch"](console.error)}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-events-v5', location = 'v5/js/jira/events/events.js' */
(function(d,c){c("ac/jira/events",function(){return{refreshIssuePage:function(){try{JIRA.trigger(JIRA.Events.REFRESH_ISSUE_PAGE,[JIRA.Issue.getIssueId(),{mergeIntoCurrent:!1}])}catch(a){throw Error("Failed to refresh the issue page");}},updateIssueGlance:function(a,b){try{JIRA.trigger(JIRA.Events.UPDATE_ISSUE_GLANCE,[JIRA.Issue.getIssueId(),{addonKey:b._context.extension.addon_key,moduleKey:b._context.extension.key,data:a}])}catch(e){throw Error("Failed to update issue glance");}}}})})(AJS.$,define);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-create-issue-dialog-v5', location = 'v5/js/jira/issue/issue.js' */
define("ac/jira/issue",function(){return{openCreateIssueDialog:function(e,b){WRM.require(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"]).then(function(){if(!JIRA||!JIRA.Forms||!JIRA.Forms.createCreateIssueForm)return console&&console.warn&&console.warn("Connect: Create issue form is not available"),!1;var a=JIRA.Forms.createCreateIssueForm(e).asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:AJS.I18n.getText("admin.issue.operations.create"),shouldLoadHeritageFormDialogContext:!0});
a.show();var c=[];JIRA.one("QuickCreateIssue.sessionComplete",function(b,a){var d;c=[];for(d in a)c.push(a[d].createdIssueDetails)});a.bind("Dialog.hide",function(){"function"===typeof b&&b.call({},c)})}.bind(this))}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dashboard-item-v5', location = 'v5/js/jira/dashboard-item/dashboard-item.js' */
define("ac/jira/dashboard-item",[],function(){function d(b,a){if(window.__SPA__&&window.dashboardSpaBridge){var c=AJS.$(b).closest("[data-gadget-id]");if(c&&a){var d=c.attr("data-gadget-id");window.dashboardSpaBridge.setGadgetHeight(d,a.replace(/[^0-9.]/g,""))}}else{var e=AJS.$(b).parents(".gadget-inline");if(0<e.length){var e=e.first(),d=e.attr("id"),c=new AG.InlineGadgetAPI(e),c=AG.DashboardManager.getLayout(),f=c.getGadgets().filter(function(a){return"gadget-".concat(a.getId())==d});a&&e.find("iframe").css("height",
a);f[0].resize();c.refresh()}}}connectHost.onIframeEstablished(function(b){d(b.$el)});AJS.$(document).ready(function(){AJS.$("body").on("resized",".ap-container",function(b,a){d(b.target,a.height)})});return{setDashboardItemTitle:function(b,a){if(window.__SPA__&&window.dashboardSpaBridge){var c=document.getElementById(a._context.extension_id);if(c=AJS.$(c).closest("[data-gadget-id]"))c=c.attr("data-gadget-id"),window.dashboardSpaBridge.setGadgetTitle(c,b)}else c=document.getElementById(a._context.extension_id),
$(c).parents(".gadget-container").find("h3.dashboard-item-title").text(b)},isDashboardItemEditable:function(b){if(window.__SPA__&&window.dashboardSpaBridge){var a=document.getElementById(b._context.extension_id);if(a=AJS.$(a).closest("[data-gadget-id]"))a=a.attr("data-gadget-id"),a=window.dashboardSpaBridge.isGadgetConfigurable(a),b(a)}else a=document.getElementById(b._context.extension_id),a=AJS.$(a).parents(".gadget-container").find("li.configure"),b(0!==a.length)}}});
define("atlassian-connect/connect-dashboard-item",function(){return function(){return{render:function(){},renderEdit:function(d){d=d.find("iframe");1===d.parent().length&&connectHost.broadcastEvent("jira_dashboard_item_edit",{id:d.attr("id")})}}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-navigator-routes-v5', location = 'v5/js/jira/navigator/routes.js' */
(function(h,b){b(["ac/navigator/routes","ac/navigator/utils","jira/featureflags/feature-manager"],function(b,f,g){var d=f.hasContext,e=f.appendQueryParam;g=g.isFeatureEnabled("kitkat.spa-navigate-in-atlassian-connect")?{filters:"/secure/ManageFilters.jspa",projects:"/secure/BrowseProjects.jspa",boards:"/secure/ManageRapidViews.jspa",dashboards:"/secure/ConfigurePortalPages!default.jspa",dashboard:"/secure/Dashboard.jspa?selectPageId\x3d{dashboardId}",issue:"/browse/{issueKey}",userprofile:function(a,
b){var c;c=d(a,"userAccountId")?e("/secure/admin/user/ViewProfile.jspa","accountId",a.userAccountId):d(a,"username")?e("/secure/admin/user/ViewProfile.jspa","username",a.username):"/secure/admin/user/ViewProfile.jspa?name\x3d";b(c)},projectadminsummary:"/plugins/servlet/project-config/{projectKey}/summary",projectadmintabpanel:"/plugins/servlet/ac/{addonKey}/{adminPageKey}?project.key\x3d{projectKey}\x26project.id\x3d{projectId}"}:{dashboard:"/secure/Dashboard.jspa?selectPageId\x3d{dashboardId}",
issue:"/browse/{issueKey}",userprofile:function(a,b){var c;c=d(a,"userAccountId")?e("/secure/admin/user/ViewProfile.jspa","accountId",a.userAccountId):d(a,"username")?e("/secure/admin/user/ViewProfile.jspa","username",a.username):"/secure/admin/user/ViewProfile.jspa?name\x3d";b(c)},projectadminsummary:"/plugins/servlet/project-config/{projectKey}/summary",projectadmintabpanel:"/plugins/servlet/ac/{addonKey}/{adminPageKey}?project.key\x3d{projectKey}\x26project.id\x3d{projectId}"};b.addRoutes(g);f.enableApi()})})(AJS.$,
require);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-request-marshal-v5', location = 'v5/js/jira/request-marshal/request-marshal.js' */
define("ac/jira/request-marshal",function(){var a=["/rest/","/secure/"];return{getWhitelist:function(){return a},marshal:function(b){var c=!1;a.forEach(function(a){0===b.url.indexOf(AJS.contextPath()+a)&&(c=!0)},this);window.connectHost.trackAnalyticsEvent("jsapi.request.filter",{value:c,url:b.url});return!0}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-request-marshal-v5', location = 'v5/js/jira/request-marshal/request-marshal-loader.js' */
require(["ac/jira/request-marshal"],function(a){connectHostRequest.addRequestMarshal(a.marshal)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-jql-editor-v5', location = 'v5/js/jira/jql-editor/jql-editor.soy' */
// This file was automatically generated from jql-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Connect.JQLEditor.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Connect == 'undefined') { JIRA.Connect = {}; }
if (typeof JIRA.Connect.JQLEditor == 'undefined') { JIRA.Connect.JQLEditor = {}; }


JIRA.Connect.JQLEditor.dialog = function(opt_data, opt_ignored) {
  return '<section id="' + soy.$$escapeHtml(opt_data.sectionId) + '" class="aui-dialog2 aui-dialog2-xlarge aui-layer" data-aui-remove-on-hide="true" role="dialog" aria-hidden="true"><header class="aui-dialog2-header"><h2>' + soy.$$escapeHtml(opt_data.header) + '</h2></header><div class="aui-dialog2-content"><p>' + soy.$$escapeHtml(opt_data.descriptionText) + '</p><iframe src="' + soy.$$escapeHtml(opt_data.src) + '" id="' + soy.$$escapeHtml(opt_data.frameId) + '"></iframe></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="' + soy.$$escapeHtml(opt_data.submitButtonId) + '" class="aui-button aui-button-primary">' + soy.$$escapeHtml(opt_data.submitText) + '</button><button id="' + soy.$$escapeHtml(opt_data.cancelButtonId) + '" class="aui-button aui-button-link">' + soy.$$escapeHtml(opt_data.cancelText) + '</button></div></footer></section>';
};
if (goog.DEBUG) {
  JIRA.Connect.JQLEditor.dialog.soyTemplateName = 'JIRA.Connect.JQLEditor.dialog';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-jql-editor-v5', location = 'v5/js/jira/jql-editor/jql-editor.js' */
define("ac/jira/jql-editor",[],function(){function c(){if(AJS&&AJS.contextPath)return AJS.contextPath();var a=document.querySelector("meta[name\x3dajs-context-path]");return a?a.getAttribute("content"):""}return{init:function(){},show:function(a,d){var e=c()+"/issues/?app\x3dtrue\x26jql\x3d"+(a.jql||""),b=document.createElement("div");b.innerHTML=JIRA.Connect.JQLEditor.dialog({src:e,frameId:"connect-app-jql-editor-frame-id",sectionId:"connect-app-jql-editor-section-id",submitButtonId:"connect-app-jql-editor-submit-id",
cancelButtonId:"connect-app-jql-editor-cancel-id",header:a.header||"JQL Editor",submitText:a.submitText||"Submit",cancelText:a.cancelText||"Cancel",descriptionText:(a.descriptionText||"").substring(0,512)});document.body.appendChild(b.firstChild);AJS.dialog2("#connect-app-jql-editor-section-id").show();document.getElementById("connect-app-jql-editor-cancel-id").addEventListener("click",function(a){a.preventDefault();AJS.dialog2("#connect-app-jql-editor-section-id").hide()});document.getElementById("connect-app-jql-editor-submit-id").addEventListener("click",
function(a){a.preventDefault();a=document.getElementById("connect-app-jql-editor-frame-id").contentWindow.document;a.querySelector(".search-button").click();a=(new URLSearchParams(a.location.search)).get("jql");AJS.dialog2("#connect-app-jql-editor-section-id").hide();d({jql:a})})}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-platform-v5', location = 'v5/js/jira/platform/platform.js' */
define("ac/jira/platform",[],function(){return{isNativeApp:function(c){var a=window.navigator.userAgent,b=!1,d=/iPhone|iPod|iPad/i.test(a),e=/Safari/i.test(a),f=/Android/i.test(a),a=/wv/i.test(a);d&&!e?b=!0:f&&a&&(b=!0);c(b)}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-product-extensions-v5', location = 'v5/js/jira/main.js' */
define("ac/jira","ac/jira/events ac/jira/workflow-post-function ac/jira/dashboard-item ac/jira/date-picker ac/jira/issue ac/jira/jql-editor ac/jira/platform".split(" "),function(a,b,c,e,f,d,g){return{refreshIssuePage:a.refreshIssuePage,updateIssueGlance:a.updateIssueGlance,getWorkflowConfiguration:b.getWorkflowConfiguration,_submitWorkflowConfigurationResponse:b._submitWorkflowConfigurationResponse,isDashboardItemEditable:c.isDashboardItemEditable,openCreateIssueDialog:f.openCreateIssueDialog,setDashboardItemTitle:c.setDashboardItemTitle,
openDatePicker:e.openDatePicker,initJQLEditor:d.init,showJQLEditor:d.show,isNativeApp:g.isNativeApp}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dropdown-list-v5', location = 'v5/js/jira/dropdown-list/dropdown-list-component.js' */
define("ac/jira/dropdown-list/component",["jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/ajs/layer/layer-constants","jira/ajs/list/item-descriptor","jquery"],function(f,g,h,k,d){var e=JIRA.Connect.Suggestions,b=function(a){a=a||{};a.maxInlineResultsDisplayed=a.maxInlineResultsDisplayed||5;a.expandAllResults=a.expandAllResults||!1;this.$container=d(e.container({id:a.id}));this.$target=d(e.target()).appendTo(d("body"));this.listController=new g({containerSelector:this.$container,maxInlineResultsDisplayed:a.maxInlineResultsDisplayed,
expandAllResults:a.expandAllResults,selectionHandler:function(){var a=this.getCurrent();this.onSelected(a);this.hide()}.bind(this)});this.inlineLayer=f.createInlineLayers({alignment:h.LEFT,offsetTarget:this.$target,maxInlineResultsDisplayed:a.maxInlineResultsDisplayed,content:this.$container});this.inlineLayer.onhide(function(){this.hide()}.bind(this));this.visible=!1};b.prototype.showAt=function(a,b,l){var c=arguments[arguments.length-1];this.visible||(c=document.getElementById(c._context.extension_id).getBoundingClientRect(),
a+=c.left,b+=c.top,this.$target.css({left:a+"px",top:b+"px"}),this.listController.enable(),this.inlineLayer.show(),this.inlineLayer.setPosition(),this.inlineLayer.setWidth(l),this.visible=!0)};b.prototype.setItems=function(a,b){b="string"===typeof b||"";this.suggestions=a.map(function(a){return new k({value:a.value,label:a.label,icon:a.iconUrl})});this.listController.generateListFromJSON(this.suggestions,b)};b.prototype.hide=function(){this.visible&&(this.visible=!1,this.listController.disable(),
this.inlineLayer.hide(),this.onHidden())};b.prototype.moveUp=function(){this.listController.moveToPrevious()};b.prototype.moveDown=function(){this.listController.moveToNext()};b.prototype.query=function(a){this.listController.generateListFromJSON(this.suggestions,a)};b.prototype.select=function(){var a=this.listController.getFocused();0!==a.length&&a.is(":visible")&&this.listController._acceptSuggestion(a)};b.prototype.isVisible=function(a){a(this.visible)};b.prototype.getSelected=function(a){a(this.getCurrent())};
b.prototype.getCurrent=function(){var a=this.listController.getFocused();return 0!==a.length&&a.is(":visible")?(a=a.data("descriptor"),{value:a.value(),label:a.label(),iconUrl:a.icon()}):null};b.prototype.onSelected=function(a){connectHost.broadcastEvent("dropdown_list_select",{addon_key:this._context.extension.addon_key,key:this._context.extension.key},{id:this._id,data:a})};b.prototype.onHidden=function(){connectHost.broadcastEvent("dropdown_list_hide",{addon_key:this._context.extension.addon_key,
key:this._context.extension.key},{id:this._id})};return b});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dropdown-list-v5', location = 'v5/js/jira/dropdown-list/dropdown-list.soy' */
// This file was automatically generated from dropdown-list.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Connect.Suggestions.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Connect == 'undefined') { JIRA.Connect = {}; }
if (typeof JIRA.Connect.Suggestions == 'undefined') { JIRA.Connect.Suggestions = {}; }


JIRA.Connect.Suggestions.container = function(opt_data, opt_ignored) {
  return '<div class="aui-list ac-suggestions-container" ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + '></div>';
};
if (goog.DEBUG) {
  JIRA.Connect.Suggestions.container.soyTemplateName = 'JIRA.Connect.Suggestions.container';
}


JIRA.Connect.Suggestions.target = function(opt_data, opt_ignored) {
  return '<div class="ac-suggestions-target"></div>';
};
if (goog.DEBUG) {
  JIRA.Connect.Suggestions.target.soyTemplateName = 'JIRA.Connect.Suggestions.target';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dropdown-list-v5', location = 'v5/js/jira/dropdown-list/dropdown-list.js' */
define("ac/dropdown-list",["ac/jira/dropdown-list/component"],function(a){return{create:{constructor:a,showAt:a.prototype.showAt,setItems:a.prototype.setItems,hide:a.prototype.hide,moveUp:a.prototype.moveUp,moveDown:a.prototype.moveDown,query:a.prototype.query,select:a.prototype.select,isVisible:a.prototype.isVisible,getSelected:a.prototype.getSelected,onHide:function(){},onSelect:function(){}}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-module-loader-v5', location = 'v5/js/jira/module-loader.js' */
connectHost.defineModule("jira",require("ac/jira"));connectHost.defineModule("dropdownList",require("ac/dropdown-list"));;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-inlinedialog-cleanup', location = 'v5/js/iframe/host/spa-inline-dialog-cleanup.js' */
require(["skate"],function(a){a("ap-inline-dialog",{type:function(){var b;(b=a&&a.types&&a.types.CLASS)||(b=a&&a.type&&a.type.CLASSNAME);return b}(),detached:function(a){a=document.querySelectorAll('iframe[id^\x3d"'+window._AP.util.escapeSelector(a.id)+'"]');[].forEach.call(a,function(a){AJS.$(a).parents(".aui-inline-dialog").remove()})}})});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-iframe-api-v5', location = 'v5/js/jira/spa-iframe/offset-overrides.js' */
define("ac/jira/spa-iframe/offset-overrides",[],function(){function c(){window._AP&&([window._AP.dialogOptions,window._AP.inlineDialogOptions].filter(function(a){return"object"===typeof a}).forEach(function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b].hostFrameOffset=1)}),Object.keys(window._AP.dialogModules||{}).forEach(function(a){Object.keys(window._AP.dialogModules[a]).forEach(function(b){(b=window._AP.dialogModules[a][b])&&b.options&&(b.options.hostFrameOffset=1)})}))}return function(){c()}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-iframe-api-v5', location = 'v5/js/jira/spa-iframe/providers/get-location.js' */
define("ac/jira/spa-iframe/providers/get-location",["ac/navigator/utils"],function(a){return function(){return a.getTopmostSameOriginWindow(window).location.href}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-iframe-api-v5', location = 'v5/js/jira/spa-iframe/main.js' */
require(["ac/spa-context","ac/jira/spa-iframe/providers/get-location","ac/jira/spa-iframe/offset-overrides","jira/container-api"],function(b,c,d,a){a.getIsIframe()&&(b.provideContainerApi(a),d(),connectHost.registerProvider("get-location",c))});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-api-v5', location = 'v5/js/jira/navigator/spa.js' */
require(["ac/spa-context","jira/container-api","jira/featureflags/feature-manager"],function(b,a,c){c.isFeatureEnabled("kitkat.spa-navigate-in-atlassian-connect")&&a&&a.APIs&&a.APIs.getNavigationAPI()&&a.APIs.getNavigationAPI().then(function(a){b.provideNavigationApi(a)})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachment-menu-link-init', location = 'jira-dnd-attachment-module/js/menu/initAttachmentMenuLink.js' */
require(["jquery","dndattachment/aui","jira/util/events","dndattachment/util/events/types","dndattachment/integration-register","dndattachment/upload/handler"],function(t,n,e,a,i,c){var l="issueaction-attach-file",u=function(t){t.addClass(l),t.click()},r=function(){var n=t('<input type="file" multiple />');n.change(function(t){e.trigger(a.ATTACHMENT_FOR_PAGE_RECEIVED,{files:n[0].files})}),n.click()},s=function(t){return!!t.data("issuekey")},d=function(e){var a=t(e.target);if(n.trigger("analytics",{name:"issue.dnd.attachment.opsbar.attachFiles.linkClick",data:{}}),!a.hasClass(l)){e.preventDefault();var i=t(".issue-drop-zone").length;i&&!s(a)?r():u(a)}},f=function(){t(document).on("click",".unified-attach-file",function(t){var n=i.getAttachmentMenuHandler();"function"==typeof n&&c.isDefaultExecutor({})?n.call(null,t):d.call(null,t)})},o=function(){f()};t.isReady?o():n.$(o)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:bluebird-2.3.6', location = 'libs/bluebird/2.3.6/bluebird-2.3.6.js' */
/*
 The MIT License (MIT)

 Copyright (c) 2014 Petka Antonov

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:</p>

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

*/
(function(r){define("atlassian/libs/bluebird-2.3.6",function(){var t={};r(t);return"undefined"!==typeof exports?module.exports.noConflict():t.Promise.noConflict()})})(function(r){var t=function(){return function d(o,b,a){function k(f,j){if(!b[f]){if(!o[f]){var l="function"==typeof require&&require;if(!j&&l)return l(f,!0);if(m)return m(f,!0);throw Error("Cannot find module '"+f+"'");}l=b[f]={exports:{}};o[f][0].call(l.exports,function(a){var h=o[f][1][a];return k(h?h:a)},l,l.exports,d,o,b,a)}return b[f].exports}
for(var m="function"==typeof require&&require,i=0;i<a.length;i++)k(a[i]);return k}({1:[function(d,o){o.exports=function(b){function a(a){var a=new k(a),b=a.promise();if(b.isRejected())return b;a.setHowMany(1);a.setUnwrap();a.init();return b}var k=b._SomePromiseArray;b.any=function(b){return a(b)};b.prototype.any=function(){return a(this)}}},{}],2:[function(d,o){function b(){this._isTickUsed=!1;this._schedule=a;this._length=0;this._lateBuffer=new k(16);this._functionBuffer=new k(65536);var b=this;
this.consumeFunctionBuffer=function(){b._consumeFunctionBuffer()}}var a=d("./schedule.js"),k=d("./queue.js"),m=d("./util.js").errorObj,i=d("./util.js").tryCatch1,f="undefined"!==typeof process?process:void 0;b.prototype.haveItemsQueued=function(){return 0<this._length};b.prototype.invokeLater=function(a,b,n){void 0!==f&&(null!=f.domain&&!a.domain)&&(a=f.domain.bind(a));this._lateBuffer.push(a,b,n);this._queueTick()};b.prototype.invoke=function(a,b,n){void 0!==f&&(null!=f.domain&&!a.domain)&&(a=f.domain.bind(a));
var h=this._functionBuffer;h.push(a,b,n);this._length=h.length();this._queueTick()};b.prototype._consumeFunctionBuffer=function(){for(var a=this._functionBuffer;0<a.length();){var b=a.shift(),n=a.shift(),h=a.shift();b.call(n,h)}this._reset();this._consumeLateBuffer()};b.prototype._consumeLateBuffer=function(){for(var a=this._lateBuffer;0<a.length();){var b=a.shift(),n=a.shift(),h=a.shift(),n=i(b,n,h);if(n===m)if(this._queueTick(),null!=b.domain)b.domain.emit("error",n.e);else throw n.e;}};b.prototype._queueTick=
function(){this._isTickUsed||(this._schedule(this.consumeFunctionBuffer),this._isTickUsed=!0)};b.prototype._reset=function(){this._isTickUsed=!1;this._length=0};o.exports=new b},{"./queue.js":25,"./schedule.js":28,"./util.js":35}],3:[function(d,o){var b=d("./promise.js")();o.exports=b},{"./promise.js":20}],4:[function(d,o){var b=Object.create;if(b){var a=b(null),k=b(null);a[" size"]=k[" size"]=0}o.exports=function(b){function i(a){return new Function("obj","                                             \n        'use strict'                                                         \n        var len = this.length;                                               \n        switch(len) {                                                        \n            case 1: return obj.methodName(this[0]);                          \n            case 2: return obj.methodName(this[0], this[1]);                 \n            case 3: return obj.methodName(this[0], this[1], this[2]);        \n            case 0: return obj.methodName();                                 \n            default: return obj.methodName.apply(obj, this);                 \n        }                                                                    \n        ".replace(/methodName/g,
a))}function f(a){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",a))}function j(a,g,c){var b=c[a];if("function"!==typeof b){if(!q(a))return null;b=g(a);c[a]=b;c[" size"]++;if(512<c[" size"]){a=Object.keys(c);for(g=0;256>g;++g)delete c[a[g]];c[" size"]=a.length-256}}return b}function l(a){return a[this.pop()].apply(a,
this)}function n(a){return a[this]}function h(a){return a[this]}var c=d("./util.js"),e=c.canEvaluate,q=c.isIdentifier;b.prototype.call=function(p){for(var g=arguments.length,c=Array(g-1),b=1;b<g;++b)c[b-1]=arguments[b];if(e&&(g=j(p,i,a),null!==g))return this._then(g,void 0,void 0,c,void 0);c.push(p);return this._then(l,void 0,void 0,c,void 0)};b.prototype.get=function(a){var g;"number"!==typeof a?e?(g=j(a,f,k),g=null!==g?g:n):g=n:g=h;return this._then(g,void 0,void 0,a,void 0)}}},{"./util.js":35}],
5:[function(d,o){o.exports=function(b,a){var k=d("./errors.js"),m=k.canAttach,i=d("./async.js"),f=k.CancellationError;b.prototype._cancel=function(a){if(!this.isCancellable())return this;for(var b,n=this;void 0!==(b=n._cancellationParent)&&b.isCancellable();)n=b;n._attachExtraTrace(a);n._rejectUnchecked(a)};b.prototype.cancel=function(a){if(!this.isCancellable())return this;a=void 0!==a?m(a)?a:Error(a+""):new f;i.invokeLater(this._cancel,this,a);return this};b.prototype.cancellable=function(){if(this._cancellable())return this;
this._setCancellable();this._cancellationParent=void 0;return this};b.prototype.uncancellable=function(){var m=new b(a);m._propagateFrom(this,6);m._follow(this);m._unsetCancellable();return m};b.prototype.fork=function(a,b,n){a=this._then(a,b,n,void 0,void 0);a._setCancellable();a._cancellationParent=void 0;return a}}},{"./async.js":2,"./errors.js":10}],6:[function(d,o){o.exports=function(){function b(a){var b;if("function"===typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a.toString();if(/\[object [a-zA-Z0-9$_]+\]/.test(b))try{b=
JSON.stringify(a)}catch(c){}0===b.length&&(b="(empty array)")}a=41>b.length?b:b.substr(0,38)+"...";return"(<"+a+">, no stack trace)"}function a(b,h){this.captureStackTrace(a,h)}var k=d("./util.js").inherits,m=d("./es5.js").defineProperty,i=RegExp("\\b(?:[a-zA-Z0-9.]+\\$_\\w+|tryCatch(?:1|2|3|4|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),f=null,j=null;k(a,Error);
a.prototype.captureStackTrace=function(a,b){l(this,a,b)};a.possiblyUnhandledRejection=function(a){"object"===typeof console&&(a="object"===typeof a||"function"===typeof a?"Possibly unhandled "+j(a.stack,a):"Possibly unhandled "+String(a),"function"===typeof console.error||"object"===typeof console.error?console.error(a):("function"===typeof console.log||"object"===typeof console.log)&&console.log(a))};a.combine=function(a,b){for(var c=a.length-1,e=b.length-1;0<=e;--e)if(a[c]===b[e])a.pop(),c--;else break;
a.push("From previous event:");for(var c=a.concat(b),q=[],e=0,p=c.length;e<p;++e)i.test(c[e])&&f.test(c[e])||0<e&&!f.test(c[e])&&"From previous event:"!==c[e]||q.push(c[e]);return q};a.protectErrorMessageNewlines=function(a){for(var b=0;b<a.length&&!f.test(a[b]);++b);if(!(1>=b)){for(var c=[],e=0;e<b;++e)c.push(a.shift());a.unshift(c.join("\u0002\x00\u0001"))}};a.isSupported=function(){return"function"===typeof l};var l=function h(){if("number"===typeof Error.stackTraceLimit&&"function"===typeof Error.captureStackTrace){f=
/^\s*at\s*/;j=function(a,g){return"string"===typeof a?a:void 0!==g.name&&void 0!==g.message?g.name+". "+g.message:b(g)};var a=Error.captureStackTrace;return function(b,g){a(b,g)}}var e=Error();if("string"===typeof e.stack&&"function"===typeof"".startsWith&&e.stack.startsWith("stackDetection@")&&"stackDetection"===h.name){m(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25});f=/@/;var q=/[@\n]/;j=function(a,g){return"string"===typeof a?g.name+". "+g.message+"\n"+a:void 0!==
g.name&&void 0!==g.message?g.name+". "+g.message:b(g)};return function(a){for(var b=Error().stack.split(q),c=b.length,e="",h=0;h<c;h+=2)e+=b[h],e+="@",e+=b[h+1],e+="\n";a.stack=e}}j=function(a,g){return"string"===typeof a?a:("object"===typeof g||"function"===typeof g)&&void 0!==g.name&&void 0!==g.message?g.name+". "+g.message:b(g)};return null}();return a}},{"./es5.js":12,"./util.js":35}],7:[function(d,o){o.exports=function(b){function a(a,b,c){this._instances=a;this._callback=b;this._promise=c}var k=
d("./util.js"),m=d("./errors.js"),i=k.tryCatch1,f=k.errorObj,j=d("./es5.js").keys,l=m.TypeError;a.prototype.doFilter=function(a){for(var h=this._callback,c=this._promise._boundTo,e=0,q=this._instances.length;e<q;++e){var p=this._instances[e],g=p===Error||null!=p&&p.prototype instanceof Error;if(g&&a instanceof p)return a=i(h,c,a),a===f?(b.e=a.e,b):a;if("function"===typeof p&&!g)if(g={},p=i(p,g,a),p!==f&&j(g).length&&(f.e=new l("Catch filter must inherit from Error or be a simple predicate function"),
p=f),p===f){a=m.canAttach(f.e)?f.e:Error(f.e+"");this._promise._attachExtraTrace(a);a=f.e;break}else if(p)return a=i(h,c,a),a===f?(b.e=a.e,b):a}b.e=a;return b};return a}},{"./errors.js":10,"./es5.js":12,"./util.js":35}],8:[function(d,o){var b=d("./util.js"),a=b.isPrimitive,k=b.wrapsPrimitiveReceiver;o.exports=function(b){var i=function(){return this},f=function(){throw this;},d=function(a,b){if(1===b)return function(){throw a;};if(2===b)return function(){return a}};b.prototype["return"]=b.prototype.thenReturn=
function(b){return k&&a(b)?this._then(d(b,2),void 0,void 0,void 0,void 0):this._then(i,void 0,void 0,b,void 0)};b.prototype["throw"]=b.prototype.thenThrow=function(b){return k&&a(b)?this._then(d(b,1),void 0,void 0,void 0,void 0):this._then(f,void 0,void 0,b,void 0)}}},{"./util.js":35}],9:[function(d,o){o.exports=function(b,a){var k=b.reduce;b.prototype.each=function(b){return k(this,b,null,a)};b.each=function(b,i){return k(b,i,null,a)}}},{}],10:[function(d,o){function b(a,b){function p(c){if(!(this instanceof
p))return new p(c);this.message="string"===typeof c?c:b;this.name=a;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}i(p,Error);return p}function a(a){this.name="OperationalError";this.cause=this.message=a;this.isOperational=!0;a instanceof Error?(this.message=a.message,this.stack=a.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var k=d("./es5.js").freeze,m=d("./util.js"),i=m.inherits,f=m.notEnumerableProp,j,l,m=b("CancellationError","cancellation error"),
n=b("TimeoutError","timeout error"),h=b("AggregateError","aggregate error");try{j=TypeError,l=RangeError}catch(c){j=b("TypeError","type error"),l=b("RangeError","range error")}for(var e="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),q=0;q<e.length;++q)"function"===typeof Array.prototype[e[q]]&&(h.prototype[e[q]]=Array.prototype[e[q]]);h.prototype.length=0;h.prototype.isOperational=!0;var p=0;h.prototype.toString=function(){var a=
Array(4*p+1).join(" "),b="\n"+a+"AggregateError of:\n";p++;for(var a=Array(4*p+1).join(" "),c=0;c<this.length;++c){for(var e=this[c]===this?"[Circular AggregateError]":this[c]+"",e=e.split("\n"),h=0;h<e.length;++h)e[h]=a+e[h];e=e.join("\n");b+=e+"\n"}p--;return b};i(a,Error);e=Error.__BluebirdErrorTypes__;e||(e=k({CancellationError:m,TimeoutError:n,OperationalError:a,RejectionError:a,AggregateError:h}),f(Error,"__BluebirdErrorTypes__",e));o.exports={Error:Error,TypeError:j,RangeError:l,CancellationError:e.CancellationError,
OperationalError:e.OperationalError,TimeoutError:e.TimeoutError,AggregateError:e.AggregateError,originatesFromRejection:function(b){return b==null?false:b instanceof a||b.isOperational===true},markAsOriginatingFromRejection:function(a){try{f(a,"isOperational",true)}catch(b){}},canAttach:function(a){return a instanceof Error}}},{"./es5.js":12,"./util.js":35}],11:[function(d,o){o.exports=function(b){var a=d("./errors.js").TypeError;return function(k){var k=new a(k),m=b.rejected(k),i=m._peekContext();
null!=i&&i._attachExtraTrace(k);return m}}},{"./errors.js":10}],12:[function(d,o){var b=function(){return void 0===this}();if(b)o.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:b};else{var a={}.hasOwnProperty,k={}.toString,m={}.constructor.prototype;o.exports={isArray:function(a){try{return"[object Array]"===k.call(a)}catch(b){return!1}},keys:function(b){var f=[],m;for(m in b)a.call(b,m)&&f.push(m);
return f},defineProperty:function(a,b,m){a[b]=m.value;return a},freeze:function(a){return a},getPrototypeOf:function(a){try{return Object(a).constructor.prototype}catch(b){return m}},isES5:b}}},{}],13:[function(d,o){o.exports=function(b,a){var k=b.map;b.prototype.filter=function(b,d){return k(this,b,d,a)};b.filter=function(b,d,f){return k(b,d,f,a)}}},{}],14:[function(d,o){o.exports=function(b,a,k){function m(){return this}function i(){throw this;}function f(a,b,g){g=h&&c(b)?g?function(){return b}:
function(){throw b;}:g?m:i;return a._then(g,e,void 0,b,void 0)}function j(c){var p=this.promise,g=this.handler,g=p._isBound()?g.call(p._boundTo):g();return void 0!==g&&(g=k(g,void 0),g instanceof b)?f(g,c,p.isFulfilled()):p.isRejected()?(a.e=c,a):c}function l(a){var c=this.promise,g=this.handler,c=c._isBound()?g.call(c._boundTo,a):g(a);return void 0!==c&&(c=k(c,void 0),c instanceof b)?f(c,a,!0):a}var n=d("./util.js"),h=n.wrapsPrimitiveReceiver,c=n.isPrimitive,e=n.thrower;b.prototype._passThroughHandler=
function(a,b){return"function"!==typeof a?this.then():this._then(b?j:l,b?j:void 0,void 0,{promise:this,handler:a},void 0)};b.prototype.lastly=b.prototype["finally"]=function(a){return this._passThroughHandler(a,!0)};b.prototype.tap=function(a){return this._passThroughHandler(a,!1)}}},{"./util.js":35}],15:[function(d,o){o.exports=function(b,a,k,m){function i(a,g){for(var h=c,q=b,n=g.length,l=0;l<n;++l){var f=e(g[l],void 0,a);if(f===h)return q.reject(h.e);f=m(f,i);if(f instanceof q)return f}return null}
function f(a,c,e){(this._promise=new b(k))._setTrace(void 0);this._generatorFunction=a;this._receiver=c;this._generator=void 0;this._yieldHandlers="function"===typeof e?[e].concat(q):q}var j=d("./errors.js"),l=j.TypeError,n=d("./util.js").deprecated,h=d("./util.js"),c=h.errorObj,e=h.tryCatch1,q=[];f.prototype.promise=function(){return this._promise};f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=void 0;this._next(void 0)};
f.prototype._continue=function(a){if(a===c){this._generator=void 0;var e=j.canAttach(a.e)?a.e:Error(a.e+"");this._promise._attachExtraTrace(e);this._promise._reject(a.e,e)}else if(e=a.value,!0===a.done)this._generator=void 0,this._promise._tryFollow(e)||this._promise._fulfill(e);else{a=m(e,void 0);if(!(a instanceof b)&&(a=i(a,this._yieldHandlers),null===a)){this._throw(new l("A value was yielded that could not be treated as a promise"));return}a._then(this._next,this._throw,void 0,this,null)}};f.prototype._throw=
function(a){j.canAttach(a)&&this._promise._attachExtraTrace(a);this._continue(e(this._generator["throw"],this._generator,a))};f.prototype._next=function(a){this._continue(e(this._generator.next,this._generator,a))};b.coroutine=function(a,b){if("function"!==typeof a)throw new l("generatorFunction must be a function");var c=Object(b).yieldHandler;return function(){var b=a.apply(this,arguments),e=new f(void 0,void 0,c);e._generator=b;e._next(void 0);return e.promise()}};b.coroutine.addYieldHandler=function(a){if("function"!==
typeof a)throw new l("fn must be a function");q.push(a)};b.spawn=function(c){n("Promise.spawn is deprecated. Use Promise.coroutine instead.");if("function"!==typeof c)return a("generatorFunction must be a function");var c=new f(c,this),e=c.promise();c._run(b.spawn);return e}}},{"./errors.js":10,"./util.js":35}],16:[function(d,o){o.exports=function(b,a,k,m){var i=d("./util.js"),f=i.canEvaluate,j=i.tryCatch1,l=i.errorObj;if(f){for(var i=function(a){for(var b=[],c=1;c<=a;++c)b.push("holder.p"+c);return new Function("holder",
"                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,b.join(", ")))},n=[],h=[void 0],c=1;5>=c;++c)n.push(new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,
c))),h.push(i(c));var e=function(a,b){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=b;this.total=a;this.now=0};e.prototype.callers=h;e.prototype.checkFulfillment=function(a){var b=this.now;b++;var c=this.total;b>=c?(b=j(this.callers[c],void 0,this),b===l?a._rejectUnchecked(b.e):a._tryFollow(b)||a._fulfillUnchecked(b)):this.now=b}}b.join=function(){var c=arguments.length-1,h;if(0<c&&"function"===typeof arguments[c]&&(h=arguments[c],6>c&&f)){var g=new b(m);g._setTrace(void 0);h=new e(c,h);for(var l=
g._reject,d=n,i=0;i<c;++i){var j=k(arguments[i],void 0);j instanceof b?j.isPending()?j._then(d[i],l,void 0,g,h):j.isFulfilled()?d[i].call(g,j._settledValue,h):(g._reject(j._settledValue),j._unsetRejectionIsUnhandled()):d[i].call(g,j,h)}return g}c=arguments.length;g=Array(c);for(l=0;l<c;++l)g[l]=arguments[l];g=(new a(g)).promise();return void 0!==h?g.spread(h):g}}},{"./util.js":35}],17:[function(d,o){o.exports=function(b,a,k,m,i){function f(a,b,c,h){this.constructor$(a);this._callback=b;this._preservedValues=
h===i?Array(this.length()):null;this._limit=c;this._inFlight=0;this._queue=1<=c?[]:e;this._init$(void 0,-2)}function j(a,b,c,e){c="object"===typeof c&&null!==c?c.concurrency:0;c="number"===typeof c&&isFinite(c)&&1<=c?c:0;return new f(a,b,c,e)}var l=d("./util.js"),n=l.tryCatch3,h=l.errorObj,c={},e=[];l.inherits(f,a);f.prototype._init=function(){};f.prototype._promiseFulfilled=function(a,e){var g=this._values;if(null!==g){var l=this.length(),f=this._preservedValues,d=this._limit;if(g[e]===c){if(g[e]=
a,1<=d&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(1<=d&&this._inFlight>=d){g[e]=a;this._queue.push(e);return}null!==f&&(f[e]=a);var k=n(this._callback,this._promise._boundTo,a,e,l);if(k===h)return this._reject(k.e);var i=m(k,void 0);if(i instanceof b){if(i.isPending())return 1<=d&&this._inFlight++,g[e]=c,i._proxyPromiseArray(this,e);if(i.isFulfilled())k=i.value();else return i._unsetRejectionIsUnhandled(),this._reject(i.reason())}g[e]=k}++this._totalResolved>=l&&(null!==
f?this._filter(g,f):this._resolve(g))}};f.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;0<a.length&&this._inFlight<b;){var e=a.pop();this._promiseFulfilled(c[e],e)}};f.prototype._filter=function(a,b){for(var c=b.length,e=Array(c),h=0,l=0;l<c;++l)a[l]&&(e[h++]=b[l]);e.length=h;this._resolve(e)};f.prototype.preservedValues=function(){return this._preservedValues};b.prototype.map=function(a,b){return"function"!==typeof a?k("fn must be a function"):j(this,a,b,null).promise()};
b.map=function(a,b,c,e){return"function"!==typeof b?k("fn must be a function"):j(a,b,c,e).promise()}}},{"./util.js":35}],18:[function(d,o){o.exports=function(b){function a(a){throw a;}function k(b,e){if(!f.isArray(b))return m(b,e);var l=f.tryCatchApply(this,[null].concat(b),e);l===h&&j.invokeLater(a,void 0,l.e)}function m(b,e){var f=void 0===b?n(this,e,null):l(this,e,null,b);f===h&&j.invokeLater(a,void 0,f.e)}function i(b,e){var l=n(this,e,b);l===h&&j.invokeLater(a,void 0,l.e)}var f=d("./util.js"),
j=d("./async.js"),l=f.tryCatch2,n=f.tryCatch1,h=f.errorObj;b.prototype.nodeify=function(a,b){if("function"==typeof a){var h=m;void 0!==b&&Object(b).spread&&(h=k);this._then(h,i,void 0,a,this._boundTo)}return this}}},{"./async.js":2,"./util.js":35}],19:[function(d,o){o.exports=function(b,a){var k=d("./util.js"),m=d("./async.js"),i=d("./errors.js"),f=k.tryCatch1,j=k.errorObj;b.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0)};b.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||
this._progressUnchecked(a)};b.prototype._clearFirstHandlerData$Base=b.prototype._clearFirstHandlerData;b.prototype._clearFirstHandlerData=function(){this._clearFirstHandlerData$Base();this._progressHandler0=void 0};b.prototype._progressHandlerAt=function(a){return 0===a?this._progressHandler0:this[(a<<2)+a-5+2]};b.prototype._doProgressWith=function(a){var n=a.promise,a=f(a.handler,a.receiver,a.value);if(a===j){if(null!=a.e&&"StopProgressPropagation"!==a.e.name){var h=i.canAttach(a.e)?a.e:Error(a.e+
"");n._attachExtraTrace(h);n._progress(a.e)}}else a instanceof b?a._then(n._progress,null,null,n,void 0):n._progress(a)};b.prototype._progressUnchecked=function(f){if(this.isPending())for(var n=this._length(),h=this._progress,c=0;c<n;c++){var e=this._progressHandlerAt(c),d=this._promiseAt(c);if(d instanceof b)"function"===typeof e?m.invoke(this._doProgressWith,this,{handler:e,promise:d,receiver:this._receiverAt(c),value:f}):m.invoke(h,d,f);else{var p=this._receiverAt(c);"function"===typeof e?e.call(p,
f,d):p instanceof b&&p._isProxied()?p._progressUnchecked(f):p instanceof a&&p._promiseProgressed(f,d)}}}}},{"./async.js":2,"./errors.js":10,"./util.js":35}],20:[function(d,o){var b;"undefined"!==typeof Promise&&(b=Promise);o.exports=function(){function a(b){if("function"!==typeof b)throw new s("the promise constructor requires a resolver function");if(this.constructor!==a)throw new s("the promise constructor cannot be invoked directly");this._bitField=0;this._boundTo=this._settledValue=this._receiver0=
this._promise0=this._rejectionHandler0=this._fulfillmentHandler0=void 0;b!==l&&this._resolveFromResolver(b)}function k(a){return a[0]}function m(){return new a.PromiseInspection(this)}var i=d("./util.js"),f=d("./async.js"),j=d("./errors.js"),l=function(){},n={},h={e:null},c=d("./thenables.js")(a,l),e=d("./promise_array.js")(a,l,c),q=d("./captured_trace.js")(),p=d("./catch_filter.js")(h),g=d("./promise_resolver.js"),o=i.isArray,u=i.errorObj,z=i.tryCatch1,D=i.tryCatch2,B=i.tryCatchApply,G=j.RangeError,
s=j.TypeError,H=j.CancellationError,I=j.TimeoutError,E=j.OperationalError,J=j.originatesFromRejection,F=j.markAsOriginatingFromRejection,x=j.canAttach,r=i.thrower,y=d("./errors_api_rejection")(a),t=function(){return new s("circular promise resolution chain")};a.prototype.bind=function(b){var e=c(b,void 0),h=new a(l);e instanceof a?(b=e.then(function(a){h._setBoundTo(a)}),b=a.all([this,b]).then(k),h._follow(b)):(h._follow(this),h._setBoundTo(b));h._propagateFrom(this,3);return h};a.prototype.toString=
function(){return"[object Promise]"};a.prototype.caught=a.prototype["catch"]=function(b){var c=arguments.length;if(1<c){var e=Array(c-1),h=0,g;for(g=0;g<c-1;++g){var f=arguments[g];if("function"===typeof f)e[h++]=f;else return c=new s("A catch filter must be an error constructor or a filter function"),this._attachExtraTrace(c),a.reject(c)}e.length=h;b=arguments[g];this._resetTrace();c=new p(e,b,this);return this._then(void 0,c.doFilter,void 0,c,void 0)}return this._then(void 0,b,void 0,void 0,void 0)};
a.prototype.reflect=function(){return this._then(m,m,void 0,this,void 0)};a.prototype.then=function(a,b,c){return this._then(a,b,c,void 0,void 0)};a.prototype.done=function(a,b,c){this._then(a,b,c,void 0,void 0)._setIsFinal()};a.prototype.spread=function(a,b){return this._then(a,b,void 0,n,void 0)};a.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()};a.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};this.isFulfilled()?
(a.fulfillmentValue=this._settledValue,a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this._settledValue,a.isRejected=!0);return a};a.prototype.all=function(){return(new e(this)).promise()};a.is=function(b){return b instanceof a};a.all=function(a){return(new e(a)).promise()};a.prototype.error=function(a){return this.caught(J,a)};a.prototype._resolveFromSyncValue=function(b){if(b===u)this._cleanValues(),this._setRejected(),this._settledValue=b.e,this._ensurePossibleRejectionHandled();else{var e=
c(b,void 0);e instanceof a?this._follow(e):(this._cleanValues(),this._setFulfilled(),this._settledValue=b)}};a.method=function(b){if("function"!==typeof b)throw new s("fn must be a function");return function(){var c;switch(arguments.length){case 0:c=z(b,this,void 0);break;case 1:c=z(b,this,arguments[0]);break;case 2:c=D(b,this,arguments[0],arguments[1]);break;default:c=arguments.length;for(var e=Array(c),h=0;h<c;++h)e[h]=arguments[h];c=B(b,e,this)}e=new a(l);e._setTrace(void 0);e._resolveFromSyncValue(c);
return e}};a.attempt=a["try"]=function(b,c,e){if("function"!==typeof b)return y("fn must be a function");b=o(c)?B(b,c,e):z(b,e,c);c=new a(l);c._setTrace(void 0);c._resolveFromSyncValue(b);return c};a.defer=a.pending=function(){var b=new a(l);b._setTrace(void 0);return new g(b)};a.bind=function(b){var e=c(b,void 0),h=new a(l);h._setTrace(void 0);e instanceof a?(b=e.then(function(a){h._setBoundTo(a)}),h._follow(b)):(h._setBoundTo(b),h._setFulfilled());return h};a.cast=function(b){b=c(b,void 0);if(!(b instanceof
a)){var e=b,b=new a(l);b._setTrace(void 0);b._setFulfilled();b._cleanValues();b._settledValue=e}return b};a.resolve=a.fulfilled=a.cast;a.reject=a.rejected=function(b){var c=new a(l);c._setTrace(void 0);F(b);c._cleanValues();c._setRejected();c._settledValue=b;x(b)||c._setCarriedStackTrace(Error(b+""));c._ensurePossibleRejectionHandled();return c};a.onPossiblyUnhandledRejection=function(a){q.possiblyUnhandledRejection="function"===typeof a?a:void 0};var C;a.onUnhandledRejectionHandled=function(a){C=
"function"===typeof a?a:void 0};var v=!!("undefined"!==typeof process&&"string"===typeof process.execPath&&"object"===typeof process.env&&(process.env.BLUEBIRD_DEBUG||"development"===process.env.NODE_ENV));a.longStackTraces=function(){if(f.haveItemsQueued()&&!1===v)throw Error("cannot enable long stack traces after promises have been created");v=q.isSupported()};a.hasLongStackTraces=function(){return v&&q.isSupported()};a.prototype._then=function(b,c,e,h,g){var p=void 0!==g,g=p?g:new a(l);p||(v&&
(p=this._peekContext()===this._traceParent,g._traceParent=p?this._traceParent:this),g._propagateFrom(this,7));b=this._addCallbacks(b,c,e,g,h);this.isResolved()&&f.invoke(this._queueSettleAt,this,b);return g};a.prototype._length=function(){return this._bitField&262143};a.prototype._isFollowingOrFulfilledOrRejected=function(){return 0<(this._bitField&939524096)};a.prototype._isFollowing=function(){return 536870912===(this._bitField&536870912)};a.prototype._setLength=function(a){this._bitField=this._bitField&
-262144|a&262143};a.prototype._setFulfilled=function(){this._bitField|=268435456};a.prototype._setRejected=function(){this._bitField|=134217728};a.prototype._setFollowing=function(){this._bitField|=536870912};a.prototype._setIsFinal=function(){this._bitField|=33554432};a.prototype._isFinal=function(){return 0<(this._bitField&33554432)};a.prototype._cancellable=function(){return 0<(this._bitField&67108864)};a.prototype._setCancellable=function(){this._bitField|=67108864};a.prototype._unsetCancellable=
function(){this._bitField&=-67108865};a.prototype._setRejectionIsUnhandled=function(){this._bitField|=2097152};a.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-2097153;this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())};a.prototype._isRejectionUnhandled=function(){return 0<(this._bitField&2097152)};a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=524288};a.prototype._unsetUnhandledRejectionIsNotified=
function(){this._bitField&=-524289};a.prototype._isUnhandledRejectionNotified=function(){return 0<(this._bitField&524288)};a.prototype._setCarriedStackTrace=function(a){this._bitField|=1048576;this._fulfillmentHandler0=a};a.prototype._unsetCarriedStackTrace=function(){this._bitField&=-1048577;this._fulfillmentHandler0=void 0};a.prototype._isCarryingStackTrace=function(){return 0<(this._bitField&1048576)};a.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:
void 0};a.prototype._receiverAt=function(a){a=0===a?this._receiver0:this[(a<<2)+a-5+4];return this._isBound()&&void 0===a?this._boundTo:a};a.prototype._promiseAt=function(a){return 0===a?this._promise0:this[(a<<2)+a-5+3]};a.prototype._fulfillmentHandlerAt=function(a){return 0===a?this._fulfillmentHandler0:this[(a<<2)+a-5+0]};a.prototype._rejectionHandlerAt=function(a){return 0===a?this._rejectionHandler0:this[(a<<2)+a-5+1]};a.prototype._addCallbacks=function(a,b,c,e,h){var g=this._length();262138<=
g&&(g=0,this._setLength(0));if(0===g){if(this._promise0=e,void 0!==h&&(this._receiver0=h),"function"===typeof a&&!this._isCarryingStackTrace()&&(this._fulfillmentHandler0=a),"function"===typeof b&&(this._rejectionHandler0=b),"function"===typeof c)this._progressHandler0=c}else{var f=(g<<2)+g-5;this[f+3]=e;this[f+4]=h;this[f+0]="function"===typeof a?a:void 0;this[f+1]="function"===typeof b?b:void 0;this[f+2]="function"===typeof c?c:void 0}this._setLength(g+1);return g};a.prototype._setProxyHandlers=
function(a,b){var c=this._length();262138<=c&&(c=0,this._setLength(0));if(0===c)this._promise0=b,this._receiver0=a;else{var e=(c<<2)+c-5;this[e+3]=b;this[e+4]=a;this[e+0]=this[e+1]=this[e+2]=void 0}this._setLength(c+1)};a.prototype._proxyPromiseArray=function(a,b){this._setProxyHandlers(a,b)};a.prototype._proxyPromise=function(a){a._setProxied();this._setProxyHandlers(a,-15)};a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField|=8388608,this._boundTo=a):this._bitField&=-8388609};a.prototype._isBound=
function(){return 8388608===(this._bitField&8388608)};a.prototype._resolveFromResolver=function(a){var b=this;this._setTrace(void 0);this._pushContext();a=D(a,void 0,function(a){b._tryFollow(a)||b._fulfill(a)},function(a){var c=x(a)?a:Error(a+"");b._attachExtraTrace(c);F(a);b._reject(a,c===a?void 0:c)});this._popContext();if(void 0!==a&&a===u){var a=a.e,c=x(a)?a:Error(a+"");b._reject(a,c)}};a.prototype._spreadSlowCase=function(a,b,c,h){c=(new e(c)).promise()._then(function(){return a.apply(h,arguments)},
void 0,void 0,n,void 0);b._follow(c)};a.prototype._callSpread=function(b,e,h){var g=this._boundTo;if(o(h))for(var f=0,p=h.length;f<p;++f)if(c(h[f],void 0)instanceof a){this._spreadSlowCase(b,e,h,g);return}e._pushContext();return B(b,h,g)};a.prototype._callHandler=function(a,b,c,e){b===n&&!this.isRejected()?a=this._callSpread(a,c,e):(c._pushContext(),a=z(a,b,e));c._popContext();return a};a.prototype._settlePromiseFromHandler=function(b,e,g,f){f instanceof a?(b=this._callHandler(b,e,f,g),f._isFollowing()||
(b===u||b===f||b===h?(g=b===f?t():b.e,e=x(g)?g:Error(g+""),b!==h&&f._attachExtraTrace(e),f._rejectUnchecked(g,e)):(g=c(b,f),g instanceof a?(g.isRejected()&&(!g._isCarryingStackTrace()&&!x(g._settledValue))&&(e=Error(g._settledValue+""),f._attachExtraTrace(e),g._setCarriedStackTrace(e)),f._follow(g),f._propagateFrom(g,1)):f._fulfillUnchecked(b)))):b.call(e,g,f)};a.prototype._follow=function(a){this._setFollowing();a.isPending()?(this._propagateFrom(a,1),a._proxyPromise(this)):a.isFulfilled()?this._fulfillUnchecked(a._settledValue):
this._rejectUnchecked(a._settledValue,a._getCarriedStackTrace());a._isRejectionUnhandled()&&a._unsetRejectionIsUnhandled();v&&null==a._traceParent&&(a._traceParent=this)};a.prototype._tryFollow=function(b){if(this._isFollowingOrFulfilledOrRejected()||b===this)return!1;b=c(b,void 0);if(!(b instanceof a))return!1;this._follow(b);return!0};a.prototype._resetTrace=function(){v&&(this._trace=new q(void 0===this._peekContext()))};a.prototype._setTrace=function(a){if(v){var b=this._peekContext();this._traceParent=
b;this._trace=void 0!==a&&a._traceParent===b?a._trace:new q(void 0===b)}return this};a.prototype._attachExtraTrace=function(a){if(v){var b=this,c=a.stack,c="string"===typeof c?c.split("\n"):[];q.protectErrorMessageNewlines(c);for(var e=1;null!=b&&null!=b._trace;)c=q.combine(c,b._trace.stack.split("\n")),b=b._traceParent,e++;b=((Error.stackTraceLimit||10)+1)*e;e=c.length;e>b&&(c.length=b);0<e&&(c[0]=c[0].split("\u0002\x00\u0001").join("\n"));a.stack=1>=c.length?"(No stack trace)":c.join("\n")}};a.prototype._cleanValues=
function(){this._cancellable()&&(this._cancellationParent=void 0)};a.prototype._propagateFrom=function(a,b){0<(b&1)&&a._cancellable()&&(this._setCancellable(),this._cancellationParent=a);0<(b&4)&&this._setBoundTo(a._boundTo);0<(b&2)&&this._setTrace(a)};a.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(a)};a.prototype._reject=function(a,b){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(a,b)};a.prototype._settlePromiseAt=function(b){var c=
this.isFulfilled()?this._fulfillmentHandlerAt(b):this._rejectionHandlerAt(b),h=this._settledValue,g=this._receiverAt(b),f=this._promiseAt(b);if("function"===typeof c)this._settlePromiseFromHandler(c,g,h,f);else{var c=!1,p=this.isFulfilled();void 0!==g&&(g instanceof a&&g._isProxied()?(g._unsetProxied(),p?g._fulfillUnchecked(h):g._rejectUnchecked(h,this._getCarriedStackTrace()),c=!0):g instanceof e&&(p?g._promiseFulfilled(h,f):g._promiseRejected(h,f),c=!0));c||(p?f._fulfill(h):f._reject(h,this._getCarriedStackTrace()))}4<=
b&&this._queueGC()};a.prototype._isProxied=function(){return 4194304===(this._bitField&4194304)};a.prototype._setProxied=function(){this._bitField|=4194304};a.prototype._unsetProxied=function(){this._bitField&=-4194305};a.prototype._isGcQueued=function(){return-1073741824===(this._bitField&-1073741824)};a.prototype._setGcQueued=function(){this._bitField|=-1073741824};a.prototype._unsetGcQueued=function(){this._bitField&=1073741823};a.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),
f.invokeLater(this._gc,this,void 0))};a.prototype._gc=function(){for(var a=5*this._length()-5,b=0;b<a;b++)delete this[b];this._clearFirstHandlerData();this._setLength(0);this._unsetGcQueued()};a.prototype._clearFirstHandlerData=function(){this._receiver0=this._promise0=this._rejectionHandler0=this._fulfillmentHandler0=void 0};a.prototype._queueSettleAt=function(a){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled();f.invoke(this._settlePromiseAt,this,a)};a.prototype._fulfillUnchecked=
function(a){if(this.isPending()){if(a===this)return a=t(),this._attachExtraTrace(a),this._rejectUnchecked(a,void 0);this._cleanValues();this._setFulfilled();this._settledValue=a;a=this._length();0<a&&f.invoke(this._settlePromises,this,a)}};a.prototype._rejectUncheckedCheckError=function(a){var b=x(a)?a:Error(a+"");this._rejectUnchecked(a,b===a?void 0:b)};a.prototype._rejectUnchecked=function(a,b){if(this.isPending()){if(a===this){var c=t();this._attachExtraTrace(c);return this._rejectUnchecked(c)}this._cleanValues();
this._setRejected();this._settledValue=a;this._isFinal()?f.invokeLater(r,void 0,void 0===b?a:b):(c=this._length(),void 0!==b&&this._setCarriedStackTrace(b),0<c?f.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled())}};a.prototype._rejectPromises=function(){this._settlePromises();this._unsetCarriedStackTrace()};a.prototype._settlePromises=function(){for(var a=this._length(),b=0;b<a;b++)this._settlePromiseAt(b)};a.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled();
void 0!==q.possiblyUnhandledRejection&&f.invokeLater(this._notifyUnhandledRejection,this,void 0)};a.prototype._notifyUnhandledRejectionIsHandled=function(){"function"===typeof C&&f.invokeLater(C,void 0,this)};a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue,b=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified();void 0!==b&&(this._unsetCarriedStackTrace(),a=b);"function"===typeof q.possiblyUnhandledRejection&&q.possiblyUnhandledRejection(a,
this)}};var A=[];a.prototype._peekContext=function(){var a=A.length-1;if(0<=a)return A[a]};a.prototype._pushContext=function(){v&&A.push(this)};a.prototype._popContext=function(){v&&A.pop()};a.noConflict=function(){var c=a;try{Promise===c&&(Promise=b)}catch(e){}return c};a.setScheduler=function(a){if("function"!==typeof a)throw new s("fn must be a function");f._schedule=a};q.isSupported()||(a.longStackTraces=function(){},v=!1);a._makeSelfResolutionError=t;d("./finally.js")(a,h,c);d("./direct_resolve.js")(a);
d("./synchronous_inspection.js")(a);d("./join.js")(a,e,c,l);a.RangeError=G;a.CancellationError=H;a.TimeoutError=I;a.TypeError=s;a.OperationalError=E;a.RejectionError=E;a.AggregateError=j.AggregateError;i.toFastProperties(a);i.toFastProperties(a.prototype);a.Promise=a;d("./timers.js")(a,l,c);d("./race.js")(a,l,c);d("./call_get.js")(a);d("./generators.js")(a,y,l,c);d("./map.js")(a,e,y,c,l);d("./nodeify.js")(a);d("./promisify.js")(a,l);d("./props.js")(a,e,c);d("./reduce.js")(a,e,y,c,l);d("./settle.js")(a,
e);d("./some.js")(a,e,y);d("./progress.js")(a,e);d("./cancel.js")(a,l);d("./filter.js")(a,l);d("./any.js")(a,e);d("./each.js")(a,l);d("./using.js")(a,y,c);a.prototype=a.prototype;return a}},{"./any.js":1,"./async.js":2,"./call_get.js":4,"./cancel.js":5,"./captured_trace.js":6,"./catch_filter.js":7,"./direct_resolve.js":8,"./each.js":9,"./errors.js":10,"./errors_api_rejection":11,"./filter.js":13,"./finally.js":14,"./generators.js":15,"./join.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,
"./promise_array.js":21,"./promise_resolver.js":22,"./promisify.js":23,"./props.js":24,"./race.js":26,"./reduce.js":27,"./settle.js":29,"./some.js":30,"./synchronous_inspection.js":31,"./thenables.js":32,"./timers.js":33,"./using.js":34,"./util.js":35}],21:[function(d,o){o.exports=function(b,a,k){function m(a){switch(a){case -2:return[];case -3:return{}}}function i(f){var n=this._promise=new b(a),h=void 0;f instanceof b&&(h=f,n._propagateFrom(h,5));n._setTrace(h);this._values=f;this._totalResolved=
this._length=0;this._init(void 0,-2)}var f=d("./errors.js").canAttach,j=d("./util.js").isArray;i.prototype.length=function(){return this._length};i.prototype.promise=function(){return this._promise};i.prototype._init=function n(a,c){var e=k(this._values,void 0);if(e instanceof b)if(this._values=e,e._setBoundTo(this._promise._boundTo),e.isFulfilled()){if(e=e._settledValue,!j(e)){e=new b.TypeError("expecting an array, a promise or a thenable");this.__hardReject__(e);return}}else{e.isPending()?e._then(n,
this._reject,void 0,this,c):(e._unsetRejectionIsUnhandled(),this._reject(e._settledValue));return}else if(!j(e)){e=new b.TypeError("expecting an array, a promise or a thenable");this.__hardReject__(e);return}if(0===e.length)-5===c?this._resolveEmptyArray():this._resolve(m(c));else{for(var f=this.getActualLength(e.length),p=this.shouldCopyValues()?Array(f):this._values,g=!1,d=0;d<f;++d){var i=k(e[d],void 0);i instanceof b?i.isPending()?i._proxyPromiseArray(this,d):(i._unsetRejectionIsUnhandled(),g=
!0):g=!0;p[d]=i}this._values=p;this._length=f;g&&this._scanDirectValues(f)}};i.prototype._settlePromiseAt=function(a){var h=this._values[a];h instanceof b?h.isFulfilled()?this._promiseFulfilled(h._settledValue,a):h.isRejected()&&this._promiseRejected(h._settledValue,a):this._promiseFulfilled(h,a)};i.prototype._scanDirectValues=function(a){for(var b=0;b<a&&!this._isResolved();++b)this._settlePromiseAt(b)};i.prototype._isResolved=function(){return null===this._values};i.prototype._resolve=function(a){this._values=
null;this._promise._fulfill(a)};i.prototype.__hardReject__=i.prototype._reject=function(a){this._values=null;var b=f(a)?a:Error(a+"");this._promise._attachExtraTrace(b);this._promise._reject(a,b)};i.prototype._promiseProgressed=function(a,b){this._isResolved()||this._promise._progress({index:b,value:a})};i.prototype._promiseFulfilled=function(a,b){this._isResolved()||(this._values[b]=a,++this._totalResolved>=this._length&&this._resolve(this._values))};i.prototype._promiseRejected=function(a){this._isResolved()||
(this._totalResolved++,this._reject(a))};i.prototype.shouldCopyValues=function(){return!0};i.prototype.getActualLength=function(a){return a};return i}},{"./errors.js":10,"./util.js":35}],22:[function(d,o){function b(a){return function(b,e){if(null!==a){if(b){var d=k(b),d=d instanceof Error&&l.getPrototypeOf(d)===Error.prototype?new f(d):d;m.markAsOriginatingFromRejection(d);a._attachExtraTrace(d);a._reject(d)}else if(2<arguments.length){for(var d=arguments.length,p=Array(d-1),g=1;g<d;++g)p[g-1]=arguments[g];
a._fulfill(p)}else a._fulfill(e);a=null}}}var a=d("./util.js"),k=a.maybeWrapAsError,m=d("./errors.js"),i=m.TimeoutError,f=m.OperationalError,j=d("./async.js"),a=a.haveGetters,l=d("./es5.js"),n;n=a?function(a){this.promise=a}:function(a){this.promise=a;this.callback=this.asCallback=b(a)};a&&(a={get:function(){return b(this.promise)}},l.defineProperty(n.prototype,"asCallback",a),l.defineProperty(n.prototype,"callback",a));n._nodebackForPromise=b;n.prototype.toString=function(){return"[object PromiseResolver]"};
n.prototype.resolve=n.prototype.fulfill=function(a){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var b=this.promise;b._tryFollow(a)||j.invoke(b._fulfill,b,a)};n.prototype.reject=function(a){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");
var b=this.promise;m.markAsOriginatingFromRejection(a);var e=m.canAttach(a)?a:Error(a+"");b._attachExtraTrace(e);j.invoke(b._reject,b,a);e!==a&&j.invoke(this._setCarriedStackTrace,this,e)};n.prototype.progress=function(a){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");j.invoke(this.promise._progress,this.promise,a)};n.prototype.cancel=function(){j.invoke(this.promise.cancel,
this.promise,void 0)};n.prototype.timeout=function(){this.reject(new i("timeout"))};n.prototype.isResolved=function(){return this.promise.isResolved()};n.prototype.toJSON=function(){return this.promise.toJSON()};n.prototype._setCarriedStackTrace=function(a){this.promise.isRejected()&&this.promise._setCarriedStackTrace(a)};o.exports=n},{"./async.js":2,"./errors.js":10,"./es5.js":12,"./util.js":35}],23:[function(d,o){o.exports=function(b,a){function k(a){try{return!0===a.__isPromisified__}catch(b){return!1}}
function m(a){return n.isIdentifier(a)?"."+a:"['"+a.replace(/(['\\])/g,"\\$1")+"']"}function i(g,f,d,p,i){for(var p=Math.max(0,("number"===typeof p.length?Math.max(Math.min(p.length,1024),0):0)-1),k=[p],j=Math.max(0,p-1-5),q=p-1;q>=j;--q)q!==p&&k.push(q);for(q=p+1;5>=q;++q)k.push(q);d="string"===typeof d&&n.isIdentifier(d)?d+i:"promisified";return(new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","                                         \n        var ret = function FunctionName(Parameters) {                        \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._setTrace(void 0);                                       \n            var fn = nodebackForPromise(promise);                            \n            try {                                                            \n                switch(len) {                                                \n                    [CodeForSwitchCase]                                      \n                }                                                            \n            } catch (e) {                                                    \n                var wrapped = maybeWrapAsError(e);                           \n                promise._attachExtraTrace(wrapped);                          \n                promise._reject(wrapped);                                    \n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        ret.__isPromisified__ = true;                                        \n        return ret;                                                          \n        ".replace("FunctionName",
d).replace("Parameters",n.filledRange(p,"_arg","")).replace("[CodeForSwitchCase]",function(){for(var a="",b=0;b<k.length;++b){var c="case "+k[b]+":",e,h=k[b];e=n.filledRange(h,"arguments[","]").join(", ");var h=0<h?", ":"",d=void 0,d="string"===typeof g?"                                                          \n                this.method({{args}}, fn);                                   \n                break;                                                       \n            ".replace(".method",
m(g)):f===l?"                                                         \n                callback.call(this, {{args}}, fn);                           \n                break;                                                       \n            ":void 0!==f?"                                                         \n                callback.call(receiver, {{args}}, fn);                       \n                break;                                                       \n            ":"                                                         \n                callback({{args}}, fn);                                      \n                break;                                                       \n            ";
e=d.replace("{{args}}",e).replace(", ",h);a+=c+e}b="string"===typeof g?"                                                  \n                this.property.apply(this, args);                             \n            ".replace(".property",m(g)):f===l?"                                                  \n                callback.apply(this, args);                                  \n            ":"                                                  \n                callback.apply(receiver, args);                              \n            ";
return a+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = fn;                                                    \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",
b)}())))(b,g,f,c,e,h,a)}function f(g,f){function d(){var p=f;f===l&&(p=this);"string"===typeof g&&(g=p[g]);var k=new b(a);k._setTrace(void 0);var i=h(k);try{g.apply(p,c(arguments,i))}catch(m){p=e(m),k._attachExtraTrace(p),k._reject(p)}return k}d.__isPromisified__=!0;return d}function j(a,b,c,e){for(var g=RegExp(b.replace(/([$])/,"\\$")+"$"),h=n.inheritedDataKeys(a),f=[],d=0;d<h.length;++d){var i=h[d],m=a[i],j;if(j="function"===typeof m)if(j=!k(m))j=n.getDataPropertyOrDefault(a,i+b,o),j=!(j&&k(j))&&
c(i,m,a);j&&f.push(i,m)}for(c=0;c<f.length;c+=2)if(h=f[c],g.test(h)){h=h.replace(g,"");for(d=0;d<f.length;d+=2)if(f[d]===h)throw new p("Cannot promisify an API that has normal methods with '"+b+"'-suffix");}g=0;for(c=f.length;g<c;g+=2)h=f[g],d=f[g+1],a[h+b]=e===u?u(h,l,h,d,b):e(d);n.toFastProperties(a);return a}var l={},n=d("./util.js"),h=d("./promise_resolver.js")._nodebackForPromise,c=n.withAppended,e=n.maybeWrapAsError,q=n.canEvaluate,p=d("./errors").TypeError,g=function(a,b){return n.isIdentifier(a)&&
"_"!==a.charAt(0)&&!n.isClass(b)},o={__isPromisified__:!0},u=q?i:f;b.promisify=function(a,b){if("function"!==typeof a)throw new p("fn must be a function");return k(a)?a:u(a,2>arguments.length?l:b,void 0,a)};b.promisifyAll=function(a,b){if("function"!==typeof a&&"object"!==typeof a)throw new p("the target of promisifyAll must be an object or a function");var b=Object(b),c=b.suffix;"string"!==typeof c&&(c="Async");var e=b.filter;"function"!==typeof e&&(e=g);var h=b.promisifier;"function"!==typeof h&&
(h=u);if(!n.isIdentifier(c))throw new RangeError("suffix must be a valid identifier");for(var f=n.inheritedDataKeys(a,{includeHidden:!0}),d=0;d<f.length;++d){var k=a[f[d]];"constructor"!==f[d]&&n.isClass(k)&&(j(k.prototype,c,e,h),j(k,c,e,h))}return j(a,c,e,h)}}},{"./errors":10,"./promise_resolver.js":22,"./util.js":35}],24:[function(d,o){o.exports=function(b,a,k){function m(a){for(var b=n.keys(a),e=b.length,f=Array(2*e),d=0;d<e;++d){var g=b[d];f[d]=a[g];f[d+e]=g}this.constructor$(f)}function i(a){var c=
k(a,void 0);if(l(c))a=c instanceof b?c._then(b.props,void 0,void 0,void 0,void 0):(new m(c)).promise();else return j("cannot await properties of a non-object");c instanceof b&&a._propagateFrom(c,4);return a}var f=d("./util.js"),j=d("./errors_api_rejection")(b),l=f.isObject,n=d("./es5.js");f.inherits(m,a);m.prototype._init=function(){this._init$(void 0,-3)};m.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()&&(this._values[b]=a,++this._totalResolved>=this._length)){for(var e={},f=this.length(),
d=0,g=this.length();d<g;++d)e[this._values[d+f]]=this._values[d];this._resolve(e)}};m.prototype._promiseProgressed=function(a,b){this._isResolved()||this._promise._progress({key:this._values[b+this.length()],value:a})};m.prototype.shouldCopyValues=function(){return!1};m.prototype.getActualLength=function(a){return a>>1};b.prototype.props=function(){return i(this)};b.props=function(a){return i(a)}}},{"./errors_api_rejection":11,"./es5.js":12,"./util.js":35}],25:[function(d,o){function b(a,b,d,f,j){for(var l=
0;l<j;++l)d[l+f]=a[l+b]}function a(a){this._capacity=a;this._front=this._length=0;this._makeCapacity()}a.prototype._willBeOverCapacity=function(a){return this._capacity<a};a.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);this[this._front+b&this._capacity-1]=a;this._length=b+1};a.prototype.push=function(a,b,d){var f=this.length()+3;if(this._willBeOverCapacity(f))this._pushOne(a),this._pushOne(b),this._pushOne(d);else{var j=this._front+f-3;this._checkCapacity(f);var l=this._capacity-
1;this[j+0&l]=a;this[j+1&l]=b;this[j+2&l]=d;this._length=f}};a.prototype.shift=function(){var a=this._front,b=this[a];this[a]=void 0;this._front=a+1&this._capacity-1;this._length--;return b};a.prototype.length=function(){return this._length};a.prototype._makeCapacity=function(){for(var a=this._capacity,b=0;b<a;++b)this[b]=void 0};a.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<3)};a.prototype._resizeTo=function(a){var d=this._front,i=this._capacity,f=Array(i),
j=this.length();b(this,0,f,0,i);this._capacity=a;this._makeCapacity();this._front=0;d+j<=i?b(f,d,this,0,j):(a=j-(d+j&i-1),b(f,d,this,0,a),b(f,0,this,a,j-a))};o.exports=a},{}],26:[function(d,o){o.exports=function(b,a,k){function m(d,n){var h=k(d,void 0);if(h instanceof b)return h.then(function(a){return m(a,h)});if(!f(d))return i("expecting an array, a promise or a thenable");var c=new b(a);void 0!==n?c._propagateFrom(n,7):c._setTrace(void 0);for(var e=c._fulfill,q=c._reject,p=0,g=d.length;p<g;++p){var o=
d[p];(void 0!==o||j.call(d,p))&&b.cast(o)._then(e,q,void 0,c,null)}return c}var i=d("./errors_api_rejection.js")(b),f=d("./util.js").isArray,j={}.hasOwnProperty;b.race=function(a){return m(a,void 0)};b.prototype.race=function(){return m(this,void 0)}}},{"./errors_api_rejection.js":11,"./util.js":35}],27:[function(d,o){o.exports=function(b,a,k,m,i){function f(a,c,h,g){this.constructor$(a);this._preservedValues=g===i?[]:null;this._zerothIsAccum=void 0===h;this._gotAccum=!1;this._reducingIndex=this._zerothIsAccum?
1:0;this._valuesPhase=void 0;var a=m(h,void 0),g=!1,f=a instanceof b;f&&(a.isPending()?a._proxyPromiseArray(this,-1):a.isFulfilled()?(h=a.value(),this._gotAccum=!0):(a._unsetRejectionIsUnhandled(),this._reject(a.reason()),g=!0));!f&&!this._zerothIsAccum&&(this._gotAccum=!0);this._callback=c;this._accum=h;g||this._init$(void 0,-5)}function j(a,b,c,g){return"function"!==typeof b?k("fn must be a function"):(new f(a,b,c,g)).promise()}var l=d("./util.js"),n=l.tryCatch4,h=l.tryCatch3,c=l.errorObj;l.inherits(f,
a);f.prototype._init=function(){};f.prototype._resolveEmptyArray=function(){if(this._gotAccum||this._zerothIsAccum)this._resolve(null!==this._preservedValues?[]:this._accum)};f.prototype._promiseFulfilled=function(a,f){var d=this._values;if(null!==d){var g=this.length(),i=this._preservedValues,k=null!==i,j=this._gotAccum,l=this._valuesPhase,o;if(!l){l=this._valuesPhase=Array(g);for(o=0;o<g;++o)l[o]=0}o=l[f];0===f&&this._zerothIsAccum?(j||(this._accum=a,this._gotAccum=j=!0),l[f]=0===o?1:2):-1===f?
j||(this._accum=a,this._gotAccum=j=!0):0===o?l[f]=1:(l[f]=2,j&&(this._accum=a));if(j){for(var j=this._callback,t=this._promise._boundTo,s=this._reducingIndex;s<g;++s)if(o=l[s],2===o)this._reducingIndex=s+1;else{if(1!==o)return;a=d[s];if(a instanceof b)if(a.isFulfilled())a=a._settledValue;else{if(a.isPending())return;a._unsetRejectionIsUnhandled();return this._reject(a.reason())}k?(i.push(a),o=h(j,t,a,s,g)):o=n(j,t,this._accum,a,s,g);if(o===c)return this._reject(o.e);var r=m(o,void 0);if(r instanceof
b){if(r.isPending())return l[s]=4,r._proxyPromiseArray(this,s);if(r.isFulfilled())o=r.value();else return r._unsetRejectionIsUnhandled(),this._reject(r.reason())}this._reducingIndex=s+1;this._accum=o}this._reducingIndex<g||this._resolve(k?i:this._accum)}}};b.prototype.reduce=function(a,b){return j(this,a,b,null)};b.reduce=function(a,b,c,g){return j(a,b,c,g)}}},{"./util.js":35}],28:[function(d,o){var b;if("object"===typeof process&&"string"===typeof process.version)b=function(a){process.nextTick(a)};
else if("undefined"!==typeof MutationObserver&&(b=MutationObserver)||"undefined"!==typeof WebKitMutationObserver&&(b=WebKitMutationObserver)){var a=document.createElement("div"),k=void 0;(new b(function(){var a=k;k=void 0;a()})).observe(a,{attributes:!0});b=function(b){k=b;a.classList.toggle("foo")}}else if("undefined"!==typeof setTimeout)b=function(a){setTimeout(a,0)};else throw Error("no async scheduler available");o.exports=b},{}],29:[function(d,o){o.exports=function(b,a){function k(a){this.constructor$(a)}
var m=b.PromiseInspection;d("./util.js").inherits(k,a);k.prototype._promiseResolved=function(a,b){this._values[a]=b;++this._totalResolved>=this._length&&this._resolve(this._values)};k.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){var d=new m;d._bitField=268435456;d._settledValue=a;this._promiseResolved(b,d)}};k.prototype._promiseRejected=function(a,b){if(!this._isResolved()){var d=new m;d._bitField=134217728;d._settledValue=a;this._promiseResolved(b,d)}};b.settle=function(a){return(new k(a)).promise()};
b.prototype.settle=function(){return(new k(this)).promise()}}},{"./util.js":35}],30:[function(d,o){o.exports=function(b,a,k){function m(a){this.constructor$(a);this._howMany=0;this._initialized=this._unwrap=!1}function i(a,b){if((b|0)!==b||0>b)return k("expecting a positive integer");var e=new m(a),f=e.promise();if(f.isRejected())return f;e.setHowMany(b);e.init();return f}var f=d("./util.js"),j=d("./errors.js").RangeError,l=d("./errors.js").AggregateError,n=f.isArray;f.inherits(m,a);m.prototype._init=
function(){if(this._initialized)if(0===this._howMany)this._resolve([]);else{this._init$(void 0,-5);var a=n(this._values);!this._isResolved()&&(a&&this._howMany>this._canPossiblyFulfill())&&this._reject(this._getRangeError(this.length()))}};m.prototype.init=function(){this._initialized=!0;this._init()};m.prototype.setUnwrap=function(){this._unwrap=!0};m.prototype.howMany=function(){return this._howMany};m.prototype.setHowMany=function(a){this._isResolved()||(this._howMany=a)};m.prototype._promiseFulfilled=
function(a){this._isResolved()||(this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values)))};m.prototype._promiseRejected=function(a){if(!this._isResolved()&&(this._addRejected(a),this.howMany()>this._canPossiblyFulfill())){for(var a=new l,b=this.length();b<this._values.length;++b)a.push(this._values[b]);this._reject(a)}};m.prototype._fulfilled=function(){return this._totalResolved};
m.prototype._rejected=function(){return this._values.length-this.length()};m.prototype._addRejected=function(a){this._values.push(a)};m.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a};m.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};m.prototype._getRangeError=function(a){return new j("Input array must contain at least "+this._howMany+" items but contains only "+a+" items")};m.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};
b.some=function(a,b){return i(a,b)};b.prototype.some=function(a){return i(this,a)};b._SomePromiseArray=m}},{"./errors.js":10,"./util.js":35}],31:[function(d,o){o.exports=function(b){function a(a){void 0!==a?(this._bitField=a._bitField,this._settledValue=a.isResolved()?a._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}a.prototype.isFulfilled=b.prototype.isFulfilled=function(){return 0<(this._bitField&268435456)};a.prototype.isRejected=b.prototype.isRejected=function(){return 0<(this._bitField&
134217728)};a.prototype.isPending=b.prototype.isPending=function(){return 0===(this._bitField&402653184)};a.prototype.value=b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue};a.prototype.error=a.prototype.reason=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");return this._settledValue};a.prototype.isResolved=b.prototype.isResolved=
function(){return 0<(this._bitField&402653184)};b.PromiseInspection=a}},{}],32:[function(d,o){o.exports=function(b,a){var k=d("./util.js"),m=d("./errors.js").canAttach,i=k.errorObj,f=k.isObject,j={}.hasOwnProperty;return function(d,k){if(f(d)){if(d instanceof b)return d;if(j.call(d,"_promise0")){var h=new b(a);h._setTrace(void 0);d._then(h._fulfillUnchecked,h._rejectUncheckedCheckError,h._progressUnchecked,h,null);h._setFollowing();return h}try{h=d.then}catch(c){i.e=c,h=i}if(h===i)return void 0!==
k&&m(h.e)&&k._attachExtraTrace(h.e),b.reject(h.e);if("function"===typeof h){var e=function(a){w||(w=!0,d===a?(a=b._makeSelfResolutionError(),void 0!==k&&k._attachExtraTrace(a),g.promise._reject(a,void 0)):g.resolve(a))},o=function(a){if(!w){w=!0;var b=m(a)?a:Error(a+"");void 0!==k&&k._attachExtraTrace(b);g.promise._reject(a,b)}},p=function(a){if(!w){var b=g.promise;"function"===typeof b._progress&&b._progress(a)}},g=b.defer(),w=!1;try{h.call(d,e,o,p)}catch(u){w||(w=!0,h=m(u)?u:Error(u+""),void 0!==
k&&k._attachExtraTrace(h),g.promise._reject(u,h))}return g.promise}}return d}}},{"./errors.js":10,"./util.js":35}],33:[function(d,o){var b=function(a,b){var d=arguments[2],i=arguments[3],f=5<=arguments.length?arguments[4]:void 0;setTimeout(function(){a(d,i,f)},b|0)};o.exports=function(a,k,m){d("./util.js");var i=d("./errors.js");d("./errors_api_rejection")(a);var f=a.TimeoutError,j=function(a,b,e){a.isPending()&&("string"!==typeof b&&(b="operation timed out after "+e+" ms"),b=new f(b),i.markAsOriginatingFromRejection(b),
a._attachExtraTrace(b),a._cancel(b))},l=function(a,b){b._fulfill(a)},n=a.delay=function(d,c){void 0===c&&(c=d,d=void 0);var c=+c,e=m(d,void 0),f=new a(k);if(e instanceof a)return f._propagateFrom(e,7),f._follow(e),f.then(function(b){return a.delay(b,c)});f._setTrace(void 0);b(l,c,d,f);return f};a.prototype.delay=function(a){return n(this,a)};a.prototype.timeout=function(d,c){var d=+d,e=new a(k);e._propagateFrom(this,7);e._follow(this);b(j,d,e,c,d);return e.cancellable()}}},{"./errors.js":10,"./errors_api_rejection":11,
"./util.js":35}],34:[function(d,o){o.exports=function(b,a,k){function m(a){for(var c=a.length,e=0;e<c;++e){var d=a[e];if(d.isRejected())return b.reject(d.error());a[e]=d.value()}return a}function i(a){setTimeout(function(){throw a;},0)}function f(a,c){function e(){if(d>=f)return h.resolve();var j;j=a[d++];var l=k(j,void 0);l!==j&&("function"===typeof j._isDisposable&&"function"===typeof j._getDisposer&&j._isDisposable())&&l._setDisposable(j._getDisposer());j=l;if(j instanceof b&&j._isDisposable()){try{j=
k(j._getDisposer().tryDispose(c),void 0)}catch(m){return i(m)}if(j instanceof b)return j._then(e,i,null,null,null)}e()}var d=0,f=a.length,h=b.defer();e();return h.promise}function j(a){var b=new o;b._settledValue=a;b._bitField=268435456;return f(this,b).thenReturn(a)}function l(a){var b=new o;b._settledValue=a;b._bitField=134217728;return f(this,b).thenThrow(a)}function n(a,b){this._data=a;this._promise=b}function h(a,b){this.constructor$(a,b)}var c=d("./errors.js").TypeError,e=d("./util.js").inherits,
o=b.PromiseInspection;n.prototype.data=function(){return this._data};n.prototype.promise=function(){return this._promise};n.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null};n.prototype.tryDispose=function(a){var b=this.resource(),a=null!==b?this.doDispose(b,a):null;this._promise._unsetDisposable();this._data=this._promise=null;return a};n.isDisposer=function(a){return null!=a&&"function"===typeof a.resource&&"function"===typeof a.tryDispose};e(h,n);h.prototype.doDispose=
function(a,b){return this.data().call(a,a,b)};b.using=function(){var c=arguments.length;if(2>c)return a("you must pass at least 2 arguments to Promise.using");var e=arguments[c-1];if("function"!==typeof e)return a("fn must be a function");c--;for(var d=Array(c),f=0;f<c;++f){var h=arguments[f];if(n.isDisposer(h)){var i=h,h=h.promise();h._setDisposable(i)}d[f]=h}return b.settle(d).then(m).spread(e)._then(j,l,void 0,d,void 0)};b.prototype._setDisposable=function(a){this._bitField|=262144;this._disposer=
a};b.prototype._isDisposable=function(){return 0<(this._bitField&262144)};b.prototype._getDisposer=function(){return this._disposer};b.prototype._unsetDisposable=function(){this._bitField&=-262145;this._disposer=void 0};b.prototype.disposer=function(a){if("function"===typeof a)return new h(a,this);throw new c;}}},{"./errors.js":10,"./util.js":35}],35:[function(d,o){function b(a){return"string"===typeof a?a:""+a}function a(a){return null==a||!0===a||!1===a||"string"===typeof a||"number"===typeof a}
var k=d("./es5.js"),m;try{var i={};k.defineProperty(i,"f",{get:function(){return 3}});m=3===i.f}catch(f){m=!1}var i="undefined"==typeof navigator,j={e:{}},l=function(){return"string"!==this}.call("string"),n;n=k.isES5?function(a,b){for(var d=[],f=Object.create(null),g=Object(b).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=a;){var h;try{h=g(a)}catch(j){break}for(var i=0;i<h.length;++i){var l=h[i];if(!f[l]){f[l]=!0;var m=Object.getOwnPropertyDescriptor(a,l);null!=m&&(null==m.get&&null==
m.set)&&d.push(l)}}a=k.getPrototypeOf(a)}return d}:function(a){var b=[],d;for(d in a)b.push(d);return b};var h=/^[a-z$_][a-z$_0-9]*$/i;o.exports={isClass:function(a){try{if("function"===typeof a){var b=k.keys(a.prototype);return 0<b.length&&!(1===b.length&&"constructor"===b[0])}return!1}catch(d){return!1}},isIdentifier:function(a){return h.test(a)},inheritedDataKeys:n,getDataPropertyOrDefault:function(a,b,d){if(k.isES5){if(a=Object.getOwnPropertyDescriptor(a,b),null!=a)return null==a.get&&null==a.set?
a.value:d}else return{}.hasOwnProperty.call(a,b)?a[b]:void 0},thrower:function(a){throw a;},isArray:k.isArray,haveGetters:m,notEnumerableProp:function(b,e,d){if(a(b))return b;k.defineProperty(b,e,{value:d,configurable:!0,enumerable:!1,writable:!0});return b},isPrimitive:a,isObject:function(b){return!a(b)},canEvaluate:i,errorObj:j,tryCatch1:function(a,b,d){try{return a.call(b,d)}catch(f){return j.e=f,j}},tryCatch2:function(a,b,d,f){try{return a.call(b,d,f)}catch(g){return j.e=g,j}},tryCatch3:function(a,
b,d,f,g){try{return a.call(b,d,f,g)}catch(h){return j.e=h,j}},tryCatch4:function(a,b,d,f,g,h){try{return a.call(b,d,f,g,h)}catch(i){return j.e=i,j}},tryCatchApply:function(a,b,d){try{return a.apply(d,b)}catch(f){return j.e=f,j}},inherits:function(a,b){function d(){this.constructor=a;this.constructor$=b;for(var g in b.prototype)f.call(b.prototype,g)&&"$"!==g.charAt(g.length-1)&&(this[g+"$"]=b.prototype[g])}var f={}.hasOwnProperty;d.prototype=b.prototype;a.prototype=new d;return a.prototype},withAppended:function(a,
b){var d=a.length,f=Array(d+1),g;for(g=0;g<d;++g)f[g]=a[g];f[g]=b;return f},asString:b,maybeWrapAsError:function(c){return!a(c)?c:Error(b(c))},wrapsPrimitiveReceiver:l,toFastProperties:function(a){function b(){}b.prototype=a;return b},filledRange:function(a,b,d){for(var f=Array(a),g=0;g<a;++g)f[g]=b+g+d;return f}}},{"./es5.js":12}]},{},[3])(3)};"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):"undefined"!=typeof r?r.Promise=t():"undefined"!=typeof global?
global.Promise=t():"undefined"!=typeof self&&(self.Promise=t());!0;"undefined"!==typeof r&&null!==r?r.P=r.Promise:"undefined"!==typeof self&&null!==self&&(self.P=self.Promise)});;
;
/* module-key = 'com.atlassian.jira.jira-onboarding-assets-plugin:promise', location = 'jira-onboarding-assets-module/lib/bluebird-promise-amd.js' */
define('bluebird/Promise', ["atlassian/libs/bluebird-2.3.6"], function(bluebird) {
    return bluebird;
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts-administer-notifier', location = 'templates/repository-shortcuts/admin-notifications.soy' */
// This file was automatically generated from admin-notifications.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Software.RepositoryShortcuts.Notification.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Software == 'undefined') { JIRA.Software = {}; }
if (typeof JIRA.Software.RepositoryShortcuts == 'undefined') { JIRA.Software.RepositoryShortcuts = {}; }
if (typeof JIRA.Software.RepositoryShortcuts.Notification == 'undefined') { JIRA.Software.RepositoryShortcuts.Notification = {}; }
if (typeof JIRA.Software.RepositoryShortcuts.Notification.Templates == 'undefined') { JIRA.Software.RepositoryShortcuts.Notification.Templates = {}; }


JIRA.Software.RepositoryShortcuts.Notification.Templates.notifyAdminProjectLinkFragment = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml("") + '/projects/' + soy.$$escapeHtml(opt_data.projectKey) + '" class="repo-shortcuts-notification__show-me-link">' + soy.$$escapeHtml('See request from project admin') + '</a>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Notification.Templates.notifyAdminProjectLinkFragment.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Notification.Templates.notifyAdminProjectLinkFragment';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts-administer-notifier', location = 'js/repository-shortcuts/services/URLMatcher.js' */
"use strict";define("repository-shortcuts/services/url-matcher",[],function(){return{parseUrl:function(t){function s(t,s,e){if(t&&t[1]&&s.indexOf(t[1])===-1&&e.indexOf(t[2])===-1)return{dvcsOrg:t[1],dvcsRepo:t[2]}}function e(){var e=/https:\/\/bitbucket\.org(?:\/([^\/\?#]+)(?:\/([^\/\?#]+))?)?/,r=t.match(e),c=["snippets","account","dashboard"],i=["profile"];return s(r,c,i)}function r(){var e=/https:\/\/github\.com(?:\/([^\/\?#]+)(?:\/([^\/\?#]+))?)?/,r=t.match(e),c=["pulls","issues","notifications","explore","integrations","settings","blog","about","site","security"],i=[];return s(r,c,i)}if("string"!=typeof t)throw new Error("parseUrl expects URLs to be strings");return e()?{dvcsType:"bitbucket",dvcsOrg:e().dvcsOrg,dvcsRepo:e().dvcsRepo}:r()?{dvcsType:"github",dvcsOrg:r().dvcsOrg,dvcsRepo:r().dvcsRepo}:{dvcsType:"unsupported"}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts-administer-notifier', location = 'js/repository-shortcuts/services/DVCSAccountMatcher.js' */
"use strict";define("repository-shortcuts/services/dvcs-account-matcher",["jquery","underscore","bluebird/Promise","wrm/context-path","repository-shortcuts/services/url-matcher","jira/featureflags/feature-manager"],function(e,t,r,n,s,i){return{matchUrlAgainstNetwork:function(u){function c(s){var i=n()+"/rest/bitbucket/1.0/repository/summary/find?type="+s.dvcsType+"&orgName="+s.dvcsOrg+"&repoSlug="+s.dvcsRepo;return r.resolve(e.get(i)).then(function(e){return t.extend({},s,e)})["catch"](function(e){return e&&404===e.status?a(s):s})}function a(t){var s=n()+"/rest/bitbucket/1.0/organization/find?name="+t.dvcsOrg+"&type="+t.dvcsType;return r.resolve(e.get(s)).then(function(e){var r=e.dvcsType,n=e.name,s=e.approvalState,i=r===t.dvcsType,u=n===t.dvcsOrg,c="APPROVED"===s;return t.isOrganisationLinked=i&&u&&c,t})["catch"](function(e){return t})}function o(t){var s=n()+"/rest/devinfoadmin/1.0/githubAppDetails";return r.resolve(e.get(s)).then(function(e){var r=e.githubAppInstalled;return r&&(t.isOrganisationLinked=!0,t.isRepositoryLinked=!0),t.githubAppInstalled=r,t})["catch"](function(e){return t})}try{var d=s.parseUrl(u);if("unsupported"===d.dvcsType)return r.resolve(d);var v=i.isFeatureEnabled("fusion-dvcs-new-github-integrations-allowed");return d.newGithubDvcsIntegrationsAllowed=v,v||"github"!==d.dvcsType?d.dvcsRepo?c(d):a(d):o(d)}catch(p){return r.reject(p)}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts-administer-notifier', location = 'js/repository-shortcuts/notify-admin.js' */
"use strict";require(["jquery","bluebird/Promise","wrm/context-path","repository-shortcuts/services/dvcs-account-matcher"],function(t,e,o,r){function n(e){e.forEach(function(e){var o=!0;r.matchUrlAgainstNetwork(e.shortcutUrl).then(function(r){if(o=!r.isRepositoryLinked,o===!0){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.notifications.connect-repo.integration-request.show",data:{projectId:e.projectId}});var n="bitbucket"===e.dvcsType?"Bitbucket":"GitHub",i=AJS.format("{0} integration requested",n),c=AJS.flag({type:"info",title:i,body:JIRA.Software.RepositoryShortcuts.Notification.Templates.notifyAdminProjectLinkFragment({projectKey:e.projectKey})});t(c).find(".repo-shortcuts-notification__show-me-link").on("click",function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.notifications.connect-repo.integration-request.show-me.click",data:{projectId:e.projectId}})})}})["catch"](function(t){console.error("Caught Error"+t)})})}var i="repository-shortcuts-pending-requests",c=localStorage.getItem(i)||Date.now(),a=36e5;c+a<Date.now()&&(e.resolve(t.ajax({type:"POST",url:o()+"/rest/projects/1.0/project/shortcut/pending",data:JSON.stringify({clearPendingFlag:!0}),contentType:"application/json"})).then(function(t){n(t)})["catch"](function(t){console.error(t)}),localStorage.setItem(i,Date.now()))});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devsummarycf-resources-init', location = 'js/customfields/devsummary/dev-summary-custom-field-init.js' */
"use strict";require(["jira/skate","jquery"],function(e,t){var i="wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:devsummarycf-resources";e("fusion-devsummary-cf",{type:e.type.CLASS,created:function(e){WRM.require([i],function(){var i=require("jira-development-status/customfields/dev-summary-custom-field-column-view"),r=require("jira-development-status/component/tooltip"),o=t(e);new i({el:o}),r.tipsify({selector:".fusion-widget-tooltip",context:o,html:!0})})}})});;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:spa-iframe-bindings', location = 'jira-atlaskit-module/js/spa-iframe/handlers/modal-dialog/bindings.js' */
!function(){define("jira/spa-iframe/handlers/modal-dialog/bindings",["jquery","jira/util/events","aui/dialog2"],function(n,o,i){function d(n){return["dialog","backdrop","loading"].indexOf(n)>-1}function a(n){const o=n.originalEvent.detail.layer;return o===t||o===e}const t="modal",e="spotlight";return function(t){function e(){t.onOpen()}function u(){t.onClose()}function l(n){d(n.namespace)&&e()}function r(n){d(n.namespace)&&u()}function c(n){a(n)&&e()}function w(n){a(n)&&u()}function f(){n(window).bind("show.dialog show.backdrop show.loading",l),n(window).bind("AkModalMount",e),n(window).bind("AkOnboardingStart",e),n(window).bind("akPortalMount",c),o.bind("beforeShow",e),i.on("show",e)}function b(){n(window).bind("hide.dialog remove.dialog hide.backdrop hide.loading",r),n(window).bind("AkModalUnmount",u),n(window).bind("AkOnboardingEnd",u),n(window).bind("akPortalUnmount",w),o.bind("Dialog.hide",u),i.on("hide",u)}function g(){f(),b()}g()}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:spa-iframe-host', location = 'jira-atlaskit-module/js/spa-iframe/handlers/modal-dialog/host.js' */
!function(){define("jira/spa-iframe/handlers/modal-dialog/host",["jquery","jira/spa-iframe/handlers/modal-dialog/bindings"],function(n,o){return function(a){n(function(){o({onOpen:a.onModalOpen,onClose:a.onModalClose})})}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:spa-iframe', location = 'jira-atlaskit-module/js/spa-iframe/handlers/modal-dialog/iframe.js' */
!function(){define("jira/spa-iframe/handlers/modal-dialog/iframe",["jquery","jira/container-api","jira/spa-iframe/handlers/modal-dialog/bindings"],function(t,n,d){function a(){try{var t=window.parent.document.querySelector('[name="'+window.name+'"]').dataset.offset;return JSON.parse(t)}catch(t){return{top:0,right:0,bottom:0,left:0}}}function e(t){s.style.background="transparent",s.style.paddingTop=parseInt(r.paddingTop||0)+t.top+"px",s.style.paddingRight=parseInt(r.paddingRight||0)+t.right+"px",s.style.paddingBottom=parseInt(r.paddingBottom||0)+t.bottom+"px",s.style.paddingLeft=parseInt(r.paddingLeft||0)+t.left+"px"}function o(){s.style.background=r.background,s.style.paddingTop=r.paddingTop,s.style.paddingRight=r.paddingRight,s.style.paddingBottom=r.paddingBottom,s.style.paddingLeft=r.paddingLeft}function i(){l++,1===l&&(n.APIs.modal.modalOpen(),n.APIs.getNavigationAPI().then(function(t){setTimeout(function(){n.setShouldPropagateEvents(!1)}),t.modalOpen(),e(n.getOffset()||a())}))}function p(){setTimeout(function(){l>0&&l--,l<1&&n.APIs.getNavigationAPI().then(function(t){n.setShouldPropagateEvents(!0),t.modalClose(),o(),n.APIs.modal.modalClose()})},300)}function g(){s=document.body,r={background:s.style.background,paddingTop:s.style.paddingTop,paddingRight:s.style.paddingRight,paddingBottom:s.style.paddingBottom,paddingLeft:s.style.paddingLeft},d({onOpen:i,onClose:p})}var s,r,l=0;return function(){t(g)}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:spa-iframe', location = 'jira-atlaskit-module/js/spa-iframe/handlers/index.js' */
!function(){define("jira/spa-iframe/handlers",["jira/spa-iframe/handlers/modal-dialog/iframe"],function(a){return function(){a()}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:spa-iframe', location = 'jira-atlaskit-module/js/spa-iframe/index.js' */
!function(){const r=require("jira/container-api"),e=require("jira/spa-iframe/handlers");r.getIsIframe()&&e()}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/global-sidebar-api.js' */
!function(){var n,e=new Promise(function(e){n=e});e.done=function(n){return this.then(n)},AJS.namespace("JIRA.API"),JIRA.API.getSidebar=function(){return e},define("jira/globalnavigator/sidebar/bridge",function(){return function(e){n(e)}}),define("jira/globalnavigator/sidebar",function(){return e})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/imperative-api.js' */
!function(){var n,i=new Promise(function(i){n=i});AJS.namespace("JIRA.API"),JIRA.API.getNavigationApi=function(){return i},define("jira/navigation/bridge",function(){return function(i){n(i)}}),define("jira/navigation",function(){return i})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/check-both-apis.js' */
!function(){require(["jira/globalnavigator/sidebar","jira/navigation","jira/analytics"],function(i,a,n){Promise.all([i,a]).then(function(){n.send({name:"navigation.imperative-api.both-apis-resolves"})})})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar', location = 'jira-atlaskit-module/js/favourite-imperative-api.js' */
!function(){var e,n=new Promise(function(n){e=n});AJS.namespace("JIRA.API"),JIRA.API.getFavouriteItemsApi=function(){return n},define("jira/favouriteItems",function(){return n}),define("jira/favouriteItems/bridge",function(){return function(n){e(n)}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:async-modals', location = 'jira-atlaskit-module/js/async-modals-api.js' */
!function(){var n,e=new Promise(function(e){n=e});AJS.namespace("JIRA.API"),JIRA.API.getAsyncModalsAPI=function(){return e},define("jira/async-modals/bridge",function(){return function(e){n(e)}}),define("jira/async-modals",function(){return e})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:global-cache', location = 'jira-atlaskit-module/js/cache-api.js' */
!function(){var n,e=new Promise(function(e){n=e});AJS.namespace("JIRA.API"),JIRA.API.getCache=function(){return e},define("jira/cache",function(){return function(e){n(e)}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:profilecard', location = 'jira-atlaskit-module/js/profilecard-api.js' */
!function(){var n,r=new Promise(function(r){n=r});AJS.namespace("JIRA.API"),JIRA.API.getProfilecardApi=function(){return r},define("jira/profilecard/bridge",function(){return function(r){n(r)}}),define("jira/profilecard",function(){return r})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:ipblocklisting', location = 'jira-atlaskit-module/js/ipblocklisting-api.js' */
!function(){var n,i=new Promise(function(i){n=i});AJS.namespace("JIRA.API"),JIRA.API.getIPBlocklistApi=function(){return i},define("jira/global-components/ipblocklisting/bridge",function(){return function(i){n(i)}}),define("jira/global-components/ipblocklisting",function(){return i})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:breadcrumbs', location = 'jira-atlaskit-module/js/global-breadcrumbs-api.js' */
!function(){var n,r=new Promise(function(r){n=r});r.done=function(n){return this.then(n)},AJS.namespace("JIRA.API"),JIRA.API.getBreadcrumbApi=function(){return r},define("jira/globalnavigator/breadcrumbs/bridge",function(){return function(r){n(r)}}),define("jira/globalnavigator/breadcrumbs",function(){return r})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:breadcrumbs', location = 'jira-atlaskit-module/js/breadcrumbs-api.js' */
define("jira/atlaskit/breadcrumbs",["jira/featureflags/feature-manager"],function(e){const t=AJS.contextPath(),r=JIRA.API.Projects&&JIRA.API.Projects.getCurrentProjectKey()||AJS.Meta.get("project-key")||AJS.Meta.get("projectKey"),s=e.isFeatureEnabled("jsd-default-settings-page-lands-on-details")?r&&t+"/plugins/servlet/project-config/"+r:r&&t+"/servicedesk/admin/"+r+"/request-types",i={REPORTS:{id:"breadcrumbs-item-reports",index:0,text:"Reports",href:r&&t+"/projects/"+r+"?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page"},RELEASES:{id:"breadcrumbs-item-releases-versions",index:0,text:"Releases",href:r&&t+"/projects/"+r+"?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page"},VERSIONS:{id:"breadcrumbs-item-releases-versions",index:0,text:"Versions",href:r&&t+"/projects/"+r+"?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page"},PROJECT_SETTINGS:{id:"breadcrumbs-item-project-settings",index:0,text:"Project settings",href:r&&t+"/projects/"+r+"/settings"},ISSUE_COLLECTORS:{id:"breadcrumbs-item-issue-collectors",index:1,text:"Issue collectors",href:r&&t+"/secure/ViewCollectors!default.jspa?projectKey="+r},ISSUE_TYPES:{id:"breadcrumbs-item-issue-types",index:1,text:"Issue types",href:r&&t+"/plugins/servlet/project-config/"+r+"/issuetypes"},SD_CLASSIC_PROJECT_SETTINGS:{id:"breadcrumbs-item-project-settings",index:0,text:"Project settings",href:s},SD_REQUEST_TYPES:{id:"breadcrumbs-item-request-types",index:1,text:"Request types",href:r&&t+"/servicedesk/admin/"+r+"/request-types"},LANGUAGE_SUPPORT:{id:"breadcrumbs-item-language-support",index:1,text:"Language support",href:r&&t+"/servicedesk/admin/"+r+"/language"},QUEUES:{id:"breadcrumbs-item-queue",index:1,text:"Queues",href:r&&t+"/projects/"+r+"/queues"},CUSTOMERS:{id:"breadcrumbs-item-customers",index:1,text:"Customers",href:r&&t+"/projects/"+r+"/customers"},CUSTOMERS_JIRA_SPA:{id:"breadcrumbs-item-customers",index:1,text:"Customers",href:r&&t+"/jira/servicedesk/projects/"+r+"/customers"},CUSTOMER_NOTIFICATIONS:{id:"breadcrumbs-item-customer-notification",index:1,text:"Customer notifications",href:r&&t+"/servicedesk/admin/"+r+"/customer-notifications"},SD_REPORTS:{id:"breadcrumbs-item-jsd-reports",index:0,text:"Reports",href:r&&t+"/projects/"+r+"/reports"},SD_REPORTS_JIRA_SPA:{id:"breadcrumbs-item-jsd-reports",index:0,text:"Reports",href:r&&t+"/jira/servicedesk/projects/"+r+"/reports"}},n=function(){return require("jira/globalnavigator/breadcrumbs")},a=function(){const e=document.getElementById("breadcrumbs-container");e?n().done(function(t){t.render(e)}):(AJS.trigger("analyticsEvent",{name:"jira.atlaskit.plugin.breadcrumbs.render.without.container"}),window.console&&console.warn("Attempted to render breadcrumbs, but container element with id: 'breadcrumbs-container' not found in DOM."))},o=function(){const e=document.getElementById("breadcrumbs-container");return!(!e||!e.innerHTML)},c=function(){return!0},d=function(e){n().done(function(t){t.insertItem(e)})},u=function(e){n().done(function(t){t.removeItem(e)})};return{Items:i,render:a,isRendered:o,isEnabled:c,insertItem:d,removeItem:u}});;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-atl.general', location = 'atl.general.bundle.js' */
sdJsonp([34],{0:function(e,t,n){var i,s;i=[n(19)],void 0!==(s=function(e){return e}.apply(t,i))&&(e.exports=s)},1:function(e,t,n){var i;void 0!==(i=function(){return jQuery}.call(t,n,t,e))&&(e.exports=i)},10:function(e,t,n){var i,s;i=[n(0),n(1),n(24)],void 0!==(s=function(e,t,n){return n(e,t)}.apply(t,i))&&(e.exports=s)},11:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){if("object"==typeof window)n=window}e.exports=n},116:function(e,t,n){var i,s;i=[n(9),n(0)],void 0!==(s=function(e,t){return{install:t.once(function(){return e("aui-inline-dialog",{created:function(e){e.addEventListener("aui-hide",function(e){var t=document.querySelector('[aria-controls="'+e.target.id+'"]');if(t)t.setAttribute("aria-expanded","false")})}})})}}.apply(t,i))&&(e.exports=s)},12:function(e,t,n){var i,s;i=[n(1),n(0),t],void 0!==(s=function(e,t,n){function i(e,t){c[e]=t}function s(e){var t=e?e.toLowerCase():"";if("true"===t)return!0;if("false"===t)return!1;else return e}function r(t){if(void 0!==c[t])return c[t];var n=e("meta[name='ajs-"+t+"']");if(n.length){return s(n.attr("content"))}}function o(e){return!0===this.get(e)}function a(e){return+this.get(e)}function l(){var t={};return e("meta[name^=ajs-]").each(function(){t[this.name.substring(4)]=this.content}),e.extend(t,c)}var c={};n.set=i,n.get=r,n.getBoolean=o,n.getNumber=a,n.getAllAsMap=l}.apply(t,i))&&(e.exports=s)},124:function(e,t){},125:function(e,t){},126:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Participants)ServiceDesk.Templates.Components.Participants={};if(ServiceDesk.Templates.Components.Participants.main=function(e,t){return""+(e.displayedUsers.length?ServiceDesk.Templates.Components.Participants.participantList({users:e.displayedUsers})+(e.hasToggle?e.expanded?aui.buttons.button({extraClasses:"js-contract",type:"link",text:"Show fewer participants"}):aui.buttons.button({extraClasses:"js-expand",type:"link",text:AJS.format("Show all {0} participants",e.totalUsers)}):""):"")},goog.DEBUG)ServiceDesk.Templates.Components.Participants.main.soyTemplateName="ServiceDesk.Templates.Components.Participants.main";if(ServiceDesk.Templates.Components.Participants.participantList=function(e,t){for(var i='<ul class="sd-participant-list">',s=e.users,r=s.length,o=0;o<r;o++){var a=s[o];i+='<li class="sd-participant"'+(n(3).isFeatureEnabled("jsd-fsn-1082-remove-username-from-participants-cf-ui")?'data-accountId="'+soy.$$escapeHtml(a.accountId)+'"':'data-key="'+soy.$$escapeHtml(a.key)+'"')+">"+(n(3).isFeatureEnabled("jsd-fsn-1082-remove-username-from-participants-cf-ui")?ServiceDesk.Templates.Shared.Utils.userHoverPrivacySafe({displayName:a.displayName,accountId:a.accountId,avatarUrl:a.avatarUrls["24x24"],avatarSize:"small"}):ServiceDesk.Templates.Shared.Utils.userHover({displayName:a.displayName,name:a.name,avatarUrl:a.avatarUrls["24x24"],avatarSize:"small"}))+"</li>"}return i+="</ul>"},goog.DEBUG)ServiceDesk.Templates.Components.Participants.participantList.soyTemplateName="ServiceDesk.Templates.Components.Participants.participantList";if(ServiceDesk.Templates.Components.Participants.participantsLozenge=function(e,t){return'<li class="sd-participant-lozenge" title="'+soy.$$escapeHtml(e.label)+'">'+ServiceDesk.Templates.Shared.Utils.user({displayName:e.label,avatarUrl:e.icon,avatarSize:"small"})+'<button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Participants.participantsLozenge.soyTemplateName="ServiceDesk.Templates.Components.Participants.participantsLozenge";if(ServiceDesk.Templates.Components.Participants.resultsExceedLimit=function(e,t){return'<div class="sd-limit-exceeded">'+soy.$$escapeHtml("Showing the first 20 matching users")+"</div>"},goog.DEBUG)ServiceDesk.Templates.Components.Participants.resultsExceedLimit.soyTemplateName="ServiceDesk.Templates.Components.Participants.resultsExceedLimit";i=[n(18),n(42)],void 0!==(s=function(){return ServiceDesk.Templates.Components.Participants}.apply(t,i))&&(e.exports=s)},127:function(e,t,n){var i,s;i=[n(1)],void 0!==(s=function(e){return function(t,n,i){if(i){var s=t+"/"+encodeURIComponent(n);e.ajax({url:s,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){i({id:n,label:"An error occurred while retrieving CMDB object details"})}).then(function(e){i({id:e.id,label:e.label,fullObjectData:e})})}}}.apply(t,i))&&(e.exports=s)},129:function(e,t){},13:function(e,t,n){var i,s;if(void 0===r)var r={};if(r.table=function(e,t){return"<table"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+(e.columnsContent?soy.$$filterNoAutoescape(e.columnsContent):"")+(e.captionContent?"<caption>"+soy.$$filterNoAutoescape(e.captionContent)+"</caption>":"")+(e.theadContent?"<thead>"+soy.$$filterNoAutoescape(e.theadContent)+"</thead>":"")+(e.tfootContent?"<tfoot>"+soy.$$filterNoAutoescape(e.tfootContent)+"</tfoot>":"")+(!e.contentIncludesTbody?"<tbody>":"")+soy.$$filterNoAutoescape(e.content)+(!e.contentIncludesTbody?"</tbody>":"")+"</table>"},goog.DEBUG)r.table.soyTemplateName="aui.table";i=[],void 0!==(s=function(){return r}.apply(t,i))&&(e.exports=s)},139:function(e,t,n){var i,s;i=[n(2),n(7),n(6)],void 0!==(s=function(e,t,n){return e.Model.extend({namedAttributes:{id:Number,name:String,domain:String},defaults:{domain:""},editOrganization:function(e,i){var s={newName:e,newDomain:i};return n.put(t+"/rest/servicedesk/1/organisations/"+this.getId()+"/update",s)}})}.apply(t,i))&&(e.exports=s)},14:function(e,t,n){(function(t,i){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(t,n){!0?e.exports=n():"function"==typeof define&&define.amd?define(n):t.ES6Promise=n()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function r(e){W=e}function o(e){X=e}function a(){return function(){return t.nextTick(d)}}function l(){if(void 0!==V)return function(){V(d)};else return m()}function c(){var e=0,t=new Z(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=d,function(){return e.port2.postMessage(0)}}function m(){var e=setTimeout;return function(){return e(d,1)}}function d(){for(var e=0;e<K;e+=2){(0,ne[e])(ne[e+1]),ne[e]=void 0,ne[e+1]=void 0}K=0}function p(){try{var e=n(16);return V=e.runOnLoop||e.runOnContext,l()}catch(e){return m()}}function f(e,t){var n=arguments,i=this,s=new this.constructor(h);if(void 0===s[se])_(s);var r=i._state;if(r)!function(){var e=n[r-1];X(function(){return j(r,s,e,i._result)})}();else I(i,s,e,t);return s}function v(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(h);return x(n,e),n}function h(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function S(e){try{return e.then}catch(e){return le.error=e,le}}function b(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function k(e,t,n){X(function(e){var i=!1,s=b(n,t,function(n){if(!i)if(i=!0,t!==n)x(e,n);else C(e,n)},function(t){if(!i)i=!0,w(e,t)},"Settle: "+(e._label||" unknown promise"));if(!i&&s)i=!0,w(e,s)},e)}function T(e,t){if(t._state===oe)C(e,t._result);else if(t._state===ae)w(e,t._result);else I(t,void 0,function(t){return x(e,t)},function(t){return w(e,t)})}function D(e,t,n){if(t.constructor===e.constructor&&n===f&&t.constructor.resolve===v)T(e,t);else if(n===le)w(e,le.error),le.error=null;else if(void 0===n)C(e,t);else if(s(n))k(e,t,n);else C(e,t)}function x(t,n){if(t===n)w(t,g());else if(e(n))D(t,n,S(n));else C(t,n)}function $(e){if(e._onerror)e._onerror(e._result);E(e)}function C(e,t){if(e._state===re)if(e._result=t,e._state=oe,0!==e._subscribers.length)X(E,e)}function w(e,t){if(e._state===re)e._state=ae,e._result=t,X($,e)}function I(e,t,n,i){var s=e._subscribers,r=s.length;if(e._onerror=null,s[r]=t,s[r+oe]=n,s[r+ae]=i,0===r&&e._state)X(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,s=void 0,r=e._result,o=0;o<t.length;o+=3)if(i=t[o],s=t[o+n],i)j(n,i,s,r);else s(r);e._subscribers.length=0}}function A(){this.error=null}function N(e,t){try{return e(t)}catch(e){return ce.error=e,ce}}function j(e,t,n,i){var r=s(n),o=void 0,a=void 0,l=void 0,c=void 0;if(r){if((o=N(n,i))===ce)c=!0,a=o.error,o.error=null;else l=!0;if(t===o)return void w(t,y())}else o=i,l=!0;if(t._state!==re);else if(r&&l)x(t,o);else if(c)w(t,a);else if(e===oe)C(t,o);else if(e===ae)w(t,o)}function F(e,t){try{t(function(t){x(e,t)},function(t){w(e,t)})}catch(t){w(e,t)}}function U(){return ue++}function _(e){e[se]=ue++,e._state=void 0,e._result=void 0,e._subscribers=[]}function L(e,t){if(this._instanceConstructor=e,this.promise=new e(h),!this.promise[se])_(this.promise);if(G(t)){if(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length)C(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)C(this.promise,this._result)}else w(this.promise,H())}function H(){return new Error("Array Methods must be provided an Array")}function O(e){return new L(this,e).promise}function B(e){var t=this;if(!G(e))return new t(function(e,t){return t(new TypeError("You must pass an array to race."))});else return new t(function(n,i){for(var s=e.length,r=0;r<s;r++)t.resolve(e[r]).then(n,i)})}function R(e){var t=this,n=new t(h);return w(n,e),n}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function J(e){if(this[se]=U(),this._result=this._state=void 0,this._subscribers=[],h!==e)"function"!=typeof e&&P(),this instanceof J?F(this,e):M()}function z(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=J}var q=void 0;if(!Array.isArray)q=function(e){return"[object Array]"===Object.prototype.toString.call(e)};else q=Array.isArray;var G=q,K=0,V=void 0,W=void 0,X=function(e,t){if(ne[K]=e,ne[K+1]=t,2===(K+=2))if(W)W(d);else ie()},Q="undefined"!=typeof window?window:void 0,Y=Q||{},Z=Y.MutationObserver||Y.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),ie=void 0;if(ee)ie=a();else if(Z)ie=c();else if(te)ie=u();else if(void 0===Q)ie=p();else ie=m();var se=Math.random().toString(36).substring(16),re=void 0,oe=1,ae=2,le=new A,ce=new A,ue=0;return L.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===re&&n<e;n++)this._eachEntry(t[n],n)},L.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===v){var s=S(e);if(s===f&&e._state!==re)this._settledAt(e._state,t,e._result);else if("function"!=typeof s)this._remaining--,this._result[t]=e;else if(n===J){var r=new n(h);D(r,e,s),this._willSettleAt(r,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},L.prototype._settledAt=function(e,t,n){var i=this.promise;if(i._state===re)if(this._remaining--,e===ae)w(i,n);else this._result[t]=n;if(0===this._remaining)C(i,this._result)},L.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){return n._settledAt(oe,t,e)},function(e){return n._settledAt(ae,t,e)})},J.all=O,J.race=B,J.resolve=v,J.reject=R,J._setScheduler=r,J._setAsap=o,J._asap=X,J.prototype={constructor:J,then:f,catch:function(e){return this.then(null,e)}},J.polyfill=z,J.Promise=J,J})}).call(t,n(15),n(11))},148:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.ServiceEntityField)ServiceDesk.Templates.Components.ServiceEntityField={};if(ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption=function(e,t){return'<li class="service-entity-select-option-lozenge"><span class="service-entity-select-option"><span class="service-entity-select-option-value">'+soy.$$escapeHtml(e.name)+'</span></span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-remove-label" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption.soyTemplateName="ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption";i=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.ServiceEntityField}.apply(t,i))&&(e.exports=s)},149:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.CmdbObjectField)ServiceDesk.Templates.Components.CmdbObjectField={};if(ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption=function(e,t){return'<li class="cmdb-object-select-option-lozenge"><span class="cmdb-object-select-option"><span class="cmdb-object-select-option-value">'+soy.$$escapeHtml(e.label)+'</span></span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-remove-label" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption.soyTemplateName="ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption";i=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.CmdbObjectField}.apply(t,i))&&(e.exports=s)},15:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(m===clearTimeout)return clearTimeout(e);if((m===i||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(e);try{return m(e)}catch(t){try{return m.call(null,e)}catch(t){return m.call(this,e)}}}function o(){if(v&&p){if(v=!1,p.length)f=p.concat(f);else h=-1;if(f.length)a()}}function a(){if(!v){var e=s(o);v=!0;for(var t=f.length;t;){for(p=f,f=[];++h<t;)if(p)p[h].run();h=-1,t=f.length}p=null,v=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,m,d=e.exports={};!function(){try{if("function"==typeof setTimeout)u=setTimeout;else u=n}catch(e){u=n}try{if("function"==typeof clearTimeout)m=clearTimeout;else m=i}catch(e){m=i}}();var p,f=[],v=!1,h=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.push(new l(e,t)),1===f.length&&!v)s(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},150:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.CustomerOrganizations)ServiceDesk.Templates.Components.CustomerOrganizations={};if(ServiceDesk.Templates.Components.CustomerOrganizations.main=function(e,t){return""+(e.displayedOrganisations.length?ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList({organisations:e.displayedOrganisations,displayRemoveLink:e.displayRemoveLink,removeLinkOptions:e.removeLinkOptions})+(e.hasToggle?e.expanded?aui.buttons.button({extraClasses:"js-orgs-contract",type:"link",text:"Show fewer organizations"}):aui.buttons.button({extraClasses:"js-orgs-expand",type:"link",text:AJS.format("Show all {0} organizations",e.totalOrganisations)}):""):"")},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.main.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.main";if(ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList=function(e,t){for(var n='<ul class="sd-organizations-list">',i=e.organisations,s=i.length,r=0;r<s;r++){var o=i[r];n+='<li class="sd-organization" data-id="'+soy.$$escapeHtml(o.id)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:o.name})+(e.displayRemoveLink?ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink({organisationId:o.id,removeLinkOptions:e.removeLinkOptions}):"")+"</li>"}return n+="</ul>"},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList";if(ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink=function(e,t){return'<div class="'+soy.$$escapeHtml(e.removeLinkOptions.class)+'">'+aui.buttons.button({text:"Remove",type:"link",extraAttributes:{"data-id":e.organisationId},extraClasses:e.removeLinkOptions.trigger})+'<span class="'+soy.$$escapeHtml(e.removeLinkOptions.statusClass)+'"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink";i=[n(18),n(72)],void 0!==(s=function(){return ServiceDesk.Templates.Components.CustomerOrganizations}.apply(t,i))&&(e.exports=s)},151:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Organizations)ServiceDesk.Templates.Components.Organizations={};if(void 0===ServiceDesk.Templates.Components.Organizations.Field)ServiceDesk.Templates.Components.Organizations.Field={};if(ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge=function(e,t){return'<li class="sd-organizations-lozenge" title="'+soy.$$escapeHtml(e.label)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:e.label,avatarSize:"small"})+'<button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge.soyTemplateName="ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge";i=[n(72)],void 0!==(s=function(){return ServiceDesk.Templates.Components.Organizations.Field}.apply(t,i))&&(e.exports=s)},155:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.CustomerFields)ServiceDesk.Templates.CustomerFields={};if(void 0===ServiceDesk.Templates.CustomerFields.RequestTypeSelector)ServiceDesk.Templates.CustomerFields.RequestTypeSelector={};if(ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon=function(e,t){return e=e||{},""+ServiceDesk.Templates.Components.RequestTypeIcons.icon({iconId:e.iconId,iconUrl:e.iconUrl,class:"sd-recent-rt"})},goog.DEBUG)ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon.soyTemplateName="ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon";if(ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon=function(e,t){return e=e||{},""+ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon({iconId:e.iconId,iconUrl:e.iconUrl,class:"aui-ss-entity-icon"})},goog.DEBUG)ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon.soyTemplateName="ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon";i=[n(59)],void 0!==(s=function(){return ServiceDesk.Templates.CustomerFields.RequestTypeSelector}.apply(t,i))&&(e.exports=s)},159:function(e,t,n){var i,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))e[i]=n[i]}return e};i=[n(1),n(38),n(35),n(32),n(26),n(68),n(160),n(170),n(148)],void 0!==(s=function(e,t,n,i,s,o,a){var l=function(e){return{value:e.id,label:e.name}},c=t.extend({init:function(t,n,i,s){var r=ServiceDesk.Templates.Components.ServiceEntityField.serviceSelectOption,o=t.properties.value,l=t.properties.label;this.$lozenge=e(r({name:l})),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"));var c=this;a(n,o,function(e){var t=e.name;c.$lozenge.find(".service-entity-select-option-value").text(t),s()}),i(this.$lozenge)},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),u=n.extend({init:function(e){var t=this;this._super(r({},e,{showDropdownButton:!1,itemAttrDisplayed:"label",itemBuilder:function(t){var n=this;return new c(t,e.serviceDetailsBaseUrl,function(e){e.appendTo(n.$selectedItemsContainer)},function(){n.updateItemsIndent()})},ajaxOptions:{url:e.autocompleteUrl,query:!0,formatResponse:this._formatResponse,headers:{"X-B3-Sampled":"1"}}})),this.$container.addClass("service-entity-field"),this._updateNoneItem(),this.$container.find("textarea").keyup(function(){return t._updateTextAreaHasValue()})},_updateTextAreaHasValue:function(){var e=this.$container.find("textarea"),t=e.val();if("string"==typeof t&&""!==t.trim())e.addClass("has-value");else e.removeClass("has-value")},updateItemsIndent:function(){this._updateTextAreaHasValue(),this._updateNoneItem(),this._super(),this._postOnUpdate()},_updateNoneItem:function(){if(void 0===this.$noneItem)this.$noneItem=e('<span class="service-entity-field-none-placeholder">').text("None"),this.$noneItem.appendTo(this.$container);if("true"===this.options.showNoneWhenEmpty){if(0===this.lozengeGroup.items.length)this.$noneItem.show();else this.$noneItem.hide()}else this.$noneItem.hide()},_postOnUpdate:function(){var t=this.options.postOnUpdateUrl;if("string"==typeof t){var n=this.model.getSelectedValues().join(",");if(n===this.lastSavedSerializedServiceIds)return;this.lastSavedSerializedServiceIds=n;var i=this.model.id,s=new FormData;s.append("issueId",String(o.getIssueId())),s.append("atl_token",atl_token()),s.append("singleFieldEdit","true"),s.append("fieldsToForcePresent",i),this.model.getSelectedValues().forEach(function(e){s.append(i,e)}),e.ajax({type:"POST",url:""+AJS.contextPath()+t,data:s,contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0}})}},_formatResponse:function(e){return e.services.map(function(e){return new i(l(e))})}});return s("js-request-service-entity-field",{created:function(e){e.field=new u({element:e,autocompleteUrl:e.dataset.autocompleteUrl,serviceDetailsBaseUrl:e.dataset.serviceDetailsBaseUrl,showNoneWhenEmpty:e.dataset.showNoneWhenEmpty,postOnUpdateUrl:e.dataset.postOnUpdateUrl})}})}.apply(t,i))&&(e.exports=s)},16:function(e,t){},160:function(e,t,n){var i,s;i=[n(1)],void 0!==(s=function(e){return function(t,n,i){if(i){var s=t+"/"+encodeURIComponent(n);e.ajax({url:s,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){i({id:n,name:"Failed to load service!"})}).then(function(e){i({id:e.id,name:e.name})})}}}.apply(t,i))&&(e.exports=s)},161:function(e,t,n){var i,s,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))e[i]=n[i]}return e};i=[n(1),n(38),n(35),n(43),n(32),n(26),n(68),n(127),n(171),n(149)],void 0!==(s=function(e,t,n,i,s,o,a,l){var c=function(e){return{value:e.id,label:e.label}},u=function(e){return e.results.map(function(e){return new s(c(e))})},m=t.extend({init:function(t,n,i,s){var r=ServiceDesk.Templates.Components.CmdbObjectField.cmdbObjectSelectOption,o=t.properties.value,a=t.properties.label;this.$lozenge=e(r({label:a})),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"));var c=this;l(n,o,function(e){var t=e.label;c.$lozenge.find(".cmdb-object-select-option-value").text(t),s()}),i(this.$lozenge)},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),d=n.extend({init:function(e){var t=this;this._super(r({},e,{showDropdownButton:!1,itemAttrDisplayed:"label",itemBuilder:function(t){var n=this;return new m(t,e.cmdbObjectDetailsBaseUrl,function(e){e.appendTo(n.$selectedItemsContainer)},function(){n.updateItemsIndent()})},ajaxOptions:{url:e.autocompleteUrl,query:!0,formatResponse:u,headers:{"X-B3-Sampled":"1"}}})),this.$container.addClass("cmdb-object-field"),this._updateNoneItem(),this.$container.find("textarea").keyup(function(){return t._updateTextAreaHasValue()})},_updateTextAreaHasValue:function(){var e=this.$container.find("textarea"),t=e.val();if("string"==typeof t&&""!==t.trim())e.addClass("has-value");else e.removeClass("has-value")},updateItemsIndent:function(){this._updateTextAreaHasValue(),this._updateNoneItem(),this._super(),this._postOnUpdate()},_updateNoneItem:function(){if(void 0===this.$noneItem)this.$noneItem=e('<span class="cmdb-object-field-none-placeholder">').text("None"),this.$noneItem.appendTo(this.$container);if("true"===this.options.showNoneWhenEmpty){if(0===this.lozengeGroup.items.length)this.$noneItem.show();else this.$noneItem.hide()}else this.$noneItem.hide()},_postOnUpdate:function(){var t=this.options.postOnUpdateUrl;if("string"==typeof t){var n=this.model.getSelectedValues().join(",");if(n===this.lastSavedSerializedObjectIds)return;this.lastSavedSerializedObjectIds=n;var i=this.model.id,s=new FormData;s.append("issueId",String(a.getIssueId())),s.append("atl_token",atl_token()),s.append("singleFieldEdit","true"),s.append("fieldsToForcePresent",i),this.model.getSelectedValues().forEach(function(e){s.append(i,e)}),e.ajax({type:"POST",url:""+AJS.contextPath()+t,data:s,contentType:!1,processData:!1,headers:{"X-SITEMESH-OFF":!0}})}}}),p=i.extend({init:function(e){var t=this;this._super(e);var n=e.element.querySelector("option:checked");l(e.cmdbObjectDetailsBaseUrl,n.value,function(e){var n=e.label;t.$container.find("input").val(n)})}});return o("js-cmdb-object-field",{created:function(e){if(e.multiple)e.field=new d({element:e,autocompleteUrl:e.dataset.autocompleteUrl,cmdbObjectDetailsBaseUrl:e.dataset.cmdbObjectDetailsBaseUrl,showNoneWhenEmpty:e.dataset.showNoneWhenEmpty,postOnUpdateUrl:e.dataset.postOnUpdateUrl});else e.field=new p({element:e,errorMessage:"Please select a valid CMDB object",ajaxOptions:{url:e.dataset.autocompleteUrl,query:!0,headers:{"X-B3-Sampled":"1"},formatResponse:u},cmdbObjectDetailsBaseUrl:e.dataset.cmdbObjectDetailsBaseUrl})}})}.apply(t,i))&&(e.exports=s)},162:function(e,t,n){var i,s;i=[n(0),n(2),n(4),n(1),n(26),n(139),n(46),n(150),n(172),n(72),n(125)],void 0!==(s=function(e,t,n,i,s,r,o){var a=t.Collection.extend({model:r}),l=t.Model.extend({namedAttributes:{maxDisplayedOrganisations:Number,expanded:Boolean,organisations:a,displayRemoveLink:Boolean,removeLinkClass:String,removeLinkTrigger:String,removeLinkStatusClass:String},getDisplayedOrganizations:function(){var e=this.getOrganisations().toJSON();if(this.getExpanded())return e;else return e.slice(0,this.getMaxDisplayedOrganisations())},getRemoveLinkOptions:function(){return{class:this.getRemoveLinkClass(),trigger:this.getRemoveLinkTrigger(),statusClass:this.getRemoveLinkStatusClass()}},hasToggle:function(){return this.getOrganisations().length>this.getMaxDisplayedOrganisations()},defaults:{maxDisplayedOrganisations:5,expanded:!1,displayRemoveLink:!1,removeLinkClass:"",removeLinkTrigger:"",removeLinkStatusClass:""}}),c=t.View.extend({template:ServiceDesk.Templates.Components.CustomerOrganizations.main,events:{"click .js-orgs-expand":"onExpandClicked","click .js-orgs-contract":"onContractClicked"},onContractClicked:function(e){this.model.setExpanded(!1),n.trackEvent("servicedesk.issue.customer.organisations.list.contracted",{issueId:o.getIssueId()}),e.preventDefault(),this.render()},onExpandClicked:function(e){this.model.setExpanded(!0),n.trackEvent("servicedesk.issue.customer.organisations.list.expanded",{issueId:o.getIssueId()}),e.preventDefault(),this.render()},render:function(){var e=this.template({displayedOrganisations:this.model.getDisplayedOrganizations(),totalOrganisations:this.model.getOrganisations().length,hasToggle:this.model.hasToggle(),expanded:this.model.getExpanded(),displayRemoveLink:this.model.getDisplayRemoveLink(),removeLinkOptions:this.model.getRemoveLinkOptions()});this.$el.html(e)}});return s("sd-customer-organizations",{created:function(e){var t=i(e);new c({el:t,model:new l(t.data())}).render()}})}.apply(t,i))&&(e.exports=s)},163:function(e,t,n){var i,s;i=[n(0),n(1),n(9),n(2),n(38),n(60),n(35),n(91),n(32),n(26),n(4),n(37),n(46),n(151),n(173)],void 0!==(s=function(e,t,n,i,s,r,o,a,l,c,u,m,d){var p="com.atlassian.servicedesk:sd-customer-organizations",f=r.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),v=s.extend({template:ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge,init:function(e){this.$lozenge=t(this.template(e.properties)),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"))},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),h=o.extend({init:function(){this._super.apply(this,arguments),this.$container.addClass("sd-organizations-field")},_getDefaultOptions:function(e){var n=e.projectId||t(e.element).data("projectId");return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new f,itemAttrDisplayed:"label",errorMessage:!1,itemBuilder:function(e){var t=new v(e);return t.$lozenge.appendTo(this.$selectedItemsContainer),t},ajaxOptions:{url:AJS.contextPath()+"/rest/servicedesk/1/organisations/project/"+n+"/search?",query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(t){var n=e.map(t,function(e){return new l({label:e.name,value:e.id})}),i=void 0;if(t.resultExceedsLimit)i=[new a({items:n,footerHtml:ServiceDesk.Templates.Components.Participants.resultsExceedLimit()})];else i=n;return i},updateItemsIndent:function(){var e=5,n=this.$selectedItemsContainer.outerHeight()+e+e;if(this.$field.css({paddingLeft:e,paddingTop:n,height:n+20+e}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){var t=this;if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)e.defer(e.bind(function(){t.lozengeGroup.shiftFocus(-1)},this))}}}),g=function(){u.trackEvent("servicedesk.issue.customer.organizations.saved",{issueId:d.getIssueId()})},y=function(e,t,n){if(n===p)u.trackEvent("servicedesk.issue.customer.organizations.start.editing",{issueId:d.getIssueId()}),m.one(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,g)},S=function(){m.bind(JIRA.Events.INLINE_EDIT_STARTED,y)},b=function(){m.unbind(JIRA.Events.INLINE_EDIT_STARTED,y),m.unbind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,g)};return c("js-request-organizations-field",{created:function(e){S(),new h({element:e})},detached:function(){b()}})}.apply(t,i))&&(e.exports=s)},164:function(e,t,n){var i,s;i=[n(0),n(1),n(9),n(4),t],void 0!==(s=function(e,t,n,i,s){s.install=e.once(function(){n("data-analytics-key",{type:n.types.ATTR,attached:function(e){var n=t(e);n.click(function(){var e={},t=n.data("analytics-key");if(-1!==t.substr(".help.docs."))e.docsUrl=n.attr("href");i.trackEvent(t,e)})}})})}.apply(t,i))&&(e.exports=s)},166:function(e,t,n){var i,s;i=[n(0),n(1),n(9),t,n(174)],void 0!==(s=function(e,t,n,i){function s(e){if(e.is("button")){var n=e.attr("title");e.removeAttr("title");var i=t("<span />").addClass("sd-tipsy-btn-container").insertBefore(e);if(e.appendTo(i),e.is(":disabled"))return t("<span />").addClass("sd-tipsy-btn-blanket").attr("title",n).appendTo(i);else return i.attr("title",n),i}return e}i.install=e.once(function(){n("js-tooltip",{type:n.types.CLASS,created:function(n){var i=t(n),r=i.data();n.tipsyClassName=e.uniqueId("sd-tipsy-tooltip-"),r.className=n.tipsyClassName,s(i).tooltip(r)},detached:function(e){if(e.tipsyClassName)t("."+e.tipsyClassName).remove()}})})}.apply(t,i))&&(e.exports=s)},168:function(e,t,n){var i,s;i=[n(1),n(0),n(92),n(178),n(155),n(177),n(124)],void 0!==(s=function(e,t,n,i){var s=i.extend({_renders:{option:function(t){var n=t.icon;t.icon=e.noop;var s=i.prototype._renders.option.call(this,t);return t.icon=n,s}}}),r=function(e){if(!e)return null;if(t.isFinite(parseInt(e,10)))return{iconId:e};else return{iconUrl:e}},o=function(e){var t=null;if(e.id>-1)if(e.iconUrl)t=e.iconUrl;else t=e.icon;return t},a=n.extend({templates:{requestTypeItemIcon:ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon},_renders:{suggestion:function(t,i){var s=t.icon;t.icon=e.noop;var o=n.prototype._renders.suggestion.call(this,t,i),a=o.find(".aui-list-item-link");if(t.icon=s,t.disabled())o.addClass("disabled"),a.addClass("disabled"),o.addClass("js-tooltip"),o.attr("title","This request type is not applicable for current issue type");if(t.icon()){var l=this.templates.requestTypeItemIcon(r(t.icon()||{}));a.addClass("aui-iconised-link").prepend(l)}return o}}});return AJS.SingleSelect.extend({templates:{selectedRTIcon:ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon},init:function(n){function i(e){e=e||{};var i=[{requestTypes:e.validRequestTypes,isValid:!0,groupName:"Current issue type"},{requestTypes:e.invalidRequestTypes,isValid:!1,groupName:"Other issue types"}],a=[];return t.each(i,function(e){var i=e.requestTypes;if(i&&i.length>0){var l=new AJS.GroupDescriptor({label:t.escape(e.groupName)});if(t.each(i,function(t){var i=n.buildItemValue(t);if(!r.getSelectedDescriptor()||r.getSelectedDescriptor().value()!==i)l.addItem(new AJS.ItemDescriptor({value:i,label:t.name,title:t.name,icon:o(t),disabled:e.isValid?!1:!0}))}),a.push(l),e.isValid)s.data("groupDescriptor",l)}}),a}var s=n.element,r=this;n.selectedRequestType=n.selectedRequestType||{},n.buildItemValue=n.buildItemValue||function(e){return e.portalKey+"/"+e.key},e.extend(n,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/servicedesk/1/servicedesk/request/"+s.attr("data-issue-id")+"/request-types",query:!0,formatResponse:i}}),s.on("initialized",t.bind(function(){if(!t.isEmpty(n.selectedRequestType))this.setSelection(new AJS.ItemDescriptor({value:n.buildItemValue(n.selectedRequestType),icon:o(n.selectedRequestType),label:n.selectedRequestType.name}))},this)),this._super(n)},_createSelectModel:function(){this.model=new s({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})},_createListController:function(){var t=this;this.listController=new a({containerSelector:e(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(n){if(e(n.currentTarget).hasClass("disabled"))n.stopPropagation();else{var i=this.getFocused(),s=i.data("descriptor");t.setSelection(s),t.$field.select()}n.preventDefault()}})},handleFreeInput:function(n){this._super(n);var i=e.trim(this.$field.val());if(!t.isEmpty(i)){var s=n||this._matchAgainstSuggestions(t.unescape(i));if(s)this.setSelection(s),this.hideErrorMessage();else{if(this.options.errorMessage)this.options.errorMessage=AJS.format("Customer Request Type {0} does not exist",t.escape(i));this.showErrorMessage(n)}}},_matchAgainstSuggestions:function(t){var n=null,i=this.model.$element.data("groupDescriptor");if(i&&i.items())e.each(i.items(),function(i,s){if(t===e.trim(s.label().toLowerCase())||t===e.trim(s.value().toLowerCase()))return n=s,!1});return n},_hasIcon:function(){var e=this.getSelectedDescriptor();return e&&t.isFinite(parseInt(e.icon(),10))},_renders:{entityIcon:function(t){var n=r(t);if(n)return e(this.templates.selectedRTIcon(n));else return e("<span/>")},container:function(t){return e('<div class="aui-ss sd-rt-picker-container" id="'+t+'-single-select" />')},suggestionsContainer:function(t){return e('<div class="aui-list sd-rt-suggestion-container" id="'+t+'-suggestions" tabindex="-1" />')}}})}.apply(t,i))&&(e.exports=s)},17:function(e,t,n){var i;void 0!==(i=function(){return function(){if(window.JIRA&&window.JIRA.trace)window.JIRA.trace.apply(this,arguments)}}.call(t,n,t,e))&&(e.exports=i)},170:function(e,t){},171:function(e,t){},172:function(e,t){},173:function(e,t){},174:function(e,t){},177:function(e,t){},178:function(e,t){e.exports=window.require("jira/ajs/select/select-model")},179:function(e,t){e.exports=window.require("jira/util/events/reasons")},18:function(e,t,n){var i,s;if(void 0===r)var r={};if(void 0===r.buttons)r.buttons={};if(r.buttons.button=function(e,t){return e.href?'<a href="'+soy.$$escapeHtml(e.href)+'"'+r.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:"a"}))+">"+r.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</a>":"input"==e.tagName?'<input type="'+soy.$$escapeHtml(e.inputType?e.inputType:"button")+'" '+r.buttons.buttonAttributes(e)+' value="'+soy.$$escapeHtml(e.text)+'" />':"<"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+r.buttons.buttonAttributes(soy.$$augmentMap(e,{tagName:e.tagName?e.tagName:"button"}))+">"+r.buttons.buttonIcon(e)+(e.hasLabel?'<span class="aui-button-label">':"")+soy.$$escapeHtml(e.text)+(e.hasLabel?"</span>":"")+"</"+soy.$$escapeHtml(e.tagName?e.tagName:"button")+">"},goog.DEBUG)r.buttons.button.soyTemplateName="aui.buttons.button";if(r.buttons.buttons=function(e,t){return"<div"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-buttons'+r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+">"+soy.$$filterNoAutoescape(e.content)+"</div>"},goog.DEBUG)r.buttons.buttons.soyTemplateName="aui.buttons.buttons";if(r.buttons.buttonAttributes=function(e,t){e=e||{};var n=(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-button'+("main"==e.splitButtonType?" aui-button-split-main":"")+(e.dropdown2Target?" aui-dropdown2-trigger"+("more"==e.splitButtonType?" aui-button-split-more":""):"");switch(e.type){case"primary":n+=" aui-button-primary";break;case"link":n+=" aui-button-link";break;case"subtle":n+=" aui-button-subtle"}return n+=r.renderExtraClasses(e)+'"'+r.renderExtraAttributes(e)+(e.isPressed?' aria-pressed="'+soy.$$escapeHtml(e.isPressed)+'"':"")+(e.isDisabled?' aria-disabled="'+soy.$$escapeHtml(e.isDisabled)+'"'+(1==e.isDisabled?"button"==e.tagName||"input"==e.tagName?' disabled="disabled" ':"":""):"")+(e.dropdown2Target?' aria-owns="'+soy.$$escapeHtml(e.dropdown2Target)+'" aria-haspopup="true"':"")+("a"==e.tagName?' tabindex="0"':"")},goog.DEBUG)r.buttons.buttonAttributes.soyTemplateName="aui.buttons.buttonAttributes";if(r.buttons.buttonIcon=function(e,t){return e=e||{},e.iconType?'<span class="'+("aui"==e.iconType?"aui-icon":"")+(e.iconClass?" "+soy.$$escapeHtml(e.iconClass):"")+'">'+(e.iconText?soy.$$escapeHtml(e.iconText)+" ":"")+"</span>":""},goog.DEBUG)r.buttons.buttonIcon.soyTemplateName="aui.buttons.buttonIcon";if(r.buttons.splitButton=function(e,t){return""+r.buttons.button(soy.$$augmentMap(e.splitButtonMain,{splitButtonType:"main"}))+r.buttons.button(soy.$$augmentMap(e.splitButtonMore,{splitButtonType:"more"}))},goog.DEBUG)r.buttons.splitButton.soyTemplateName="aui.buttons.splitButton";i=[n(13)],void 0!==(s=function(){return r.buttons}.apply(t,i))&&(e.exports=s)},19:function(e,t,n){var i,s;(function(){function n(e){function t(t,n,i,s,r,o){for(;r>=0&&r<o;r+=e){var a=s?s[r]:r;i=n(i,t[a],a,t)}return i}return function(n,i,s,r){i=D(i,r,4);var o=!A(n)&&T.keys(n),a=(o||n).length,l=e>0?0:a-1;if(arguments.length<3)s=n[o?o[l]:l],l+=e;return t(n,i,s,o,l,a)}}function r(e){return function(t,n,i){n=x(n,i);for(var s=E(t),r=e>0?0:s-1;r>=0&&r<s;r+=e)if(n(t[r],r,t))return r;return-1}}function o(e,t,n){return function(i,s,r){var o=0,a=E(i);if("number"==typeof r)if(e>0)o=r>=0?r:Math.max(r+a,o);else a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,s),i[r]===s?r:-1;if(s!==s)return r=t(f.call(i,o,a),T.isNaN),r>=0?r+o:-1;for(r=e>0?o:a-1;r>=0&&r<a;r+=e)if(i[r]===s)return r;return-1}}function a(e,t){var n=_.length,i=e.constructor,s=T.isFunction(i)&&i.prototype||m,r="constructor";if(T.has(e,r)&&!T.contains(t,r))t.push(r);for(;n--;)if((r=_[n])in e&&e[r]!==s[r]&&!T.contains(t,r))t.push(r)}var l=this,c=l._,u=Array.prototype,m=Object.prototype,d=Function.prototype,p=u.push,f=u.slice,v=m.toString,h=m.hasOwnProperty,g=Array.isArray,y=Object.keys,S=d.bind,b=Object.create,k=function(){},T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);else return void(this._wrapped=e)};if(!0){if(void 0!==e&&e.exports)t=e.exports=T;t._=T}else l._=T;T.VERSION="1.8.3";var D=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,r){return e.call(t,n,i,s,r)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){if(null==e)return T.identity;if(T.isFunction(e))return D(e,t,n);if(T.isObject(e))return T.matcher(e);else return T.property(e)};T.iteratee=function(e,t){return x(e,t,1/0)};var $=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var s=1;s<i;s++)for(var r=arguments[s],o=e(r),a=o.length,l=0;l<a;l++){var c=o[l];if(!t||void 0===n[c])n[c]=r[c]}return n}},C=function(e){if(!T.isObject(e))return{};if(b)return b(e);k.prototype=e;var t=new k;return k.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},I=Math.pow(2,53)-1,E=w("length"),A=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=I};T.each=T.forEach=function(e,t,n){t=D(t,n);var i,s;if(A(e))for(i=0,s=e.length;i<s;i++)t(e[i],i,e);else{var r=T.keys(e);for(i=0,s=r.length;i<s;i++)t(e[r[i]],r[i],e)}return e},T.map=T.collect=function(e,t,n){t=x(t,n);for(var i=!A(e)&&T.keys(e),s=(i||e).length,r=Array(s),o=0;o<s;o++){var a=i?i[o]:o;r[o]=t(e[a],a,e)}return r},T.reduce=T.foldl=T.inject=n(1),T.reduceRight=T.foldr=n(-1),T.find=T.detect=function(e,t,n){var i;if(A(e))i=T.findIndex(e,t,n);else i=T.findKey(e,t,n);if(void 0!==i&&-1!==i)return e[i]},T.filter=T.select=function(e,t,n){var i=[];return t=x(t,n),T.each(e,function(e,n,s){if(t(e,n,s))i.push(e)}),i},T.reject=function(e,t,n){return T.filter(e,T.negate(x(t)),n)},T.every=T.all=function(e,t,n){t=x(t,n);for(var i=!A(e)&&T.keys(e),s=(i||e).length,r=0;r<s;r++){var o=i?i[r]:r;if(!t(e[o],o,e))return!1}return!0},T.some=T.any=function(e,t,n){t=x(t,n);for(var i=!A(e)&&T.keys(e),s=(i||e).length,r=0;r<s;r++){var o=i?i[r]:r;if(t(e[o],o,e))return!0}return!1},T.contains=T.includes=T.include=function(e,t,n,i){if(!A(e))e=T.values(e);if("number"!=typeof n||i)n=0;return T.indexOf(e,t,n)>=0},T.invoke=function(e,t){var n=f.call(arguments,2),i=T.isFunction(t);return T.map(e,function(e){var s=i?t:e[t];return null==s?s:s.apply(e,n)})},T.pluck=function(e,t){return T.map(e,T.property(t))},T.where=function(e,t){return T.filter(e,T.matcher(t))},T.findWhere=function(e,t){return T.find(e,T.matcher(t))},T.max=function(e,t,n){var i,s,r=-1/0,o=-1/0;if(null==t&&null!=e){e=A(e)?e:T.values(e);for(var a=0,l=e.length;a<l;a++)if((i=e[a])>r)r=i}else t=x(t,n),T.each(e,function(e,n,i){if((s=t(e,n,i))>o||s===-1/0&&r===-1/0)r=e,o=s});return r},T.min=function(e,t,n){var i,s,r=1/0,o=1/0;if(null==t&&null!=e){e=A(e)?e:T.values(e);for(var a=0,l=e.length;a<l;a++)if((i=e[a])<r)r=i}else t=x(t,n),T.each(e,function(e,n,i){if((s=t(e,n,i))<o||s===1/0&&r===1/0)r=e,o=s});return r},T.shuffle=function(e){for(var t,n=A(e)?e:T.values(e),i=n.length,s=Array(i),r=0;r<i;r++){if((t=T.random(0,r))!==r)s[r]=s[t];s[t]=n[r]}return s},T.sample=function(e,t,n){if(null==t||n){if(!A(e))e=T.values(e);return e[T.random(e.length-1)]}return T.shuffle(e).slice(0,Math.max(0,t))},T.sortBy=function(e,t,n){return t=x(t,n),T.pluck(T.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var N=function(e){return function(t,n,i){var s={};return n=x(n,i),T.each(t,function(i,r){var o=n(i,r,t);e(s,i,o)}),s}};T.groupBy=N(function(e,t,n){if(T.has(e,n))e[n].push(t);else e[n]=[t]}),T.indexBy=N(function(e,t,n){e[n]=t}),T.countBy=N(function(e,t,n){if(T.has(e,n))e[n]++;else e[n]=1}),T.toArray=function(e){if(!e)return[];if(T.isArray(e))return f.call(e);if(A(e))return T.map(e,T.identity);else return T.values(e)},T.size=function(e){if(null==e)return 0;else return A(e)?e.length:T.keys(e).length},T.partition=function(e,t,n){t=x(t,n);var i=[],s=[];return T.each(e,function(e,n,r){(t(e,n,r)?i:s).push(e)}),[i,s]},T.first=T.head=T.take=function(e,t,n){if(null!=e)if(null==t||n)return e[0];else return T.initial(e,e.length-t)},T.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},T.last=function(e,t,n){if(null!=e)if(null==t||n)return e[e.length-1];else return T.rest(e,Math.max(0,e.length-t))},T.rest=T.tail=T.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var j=function(e,t,n,i){for(var s=[],r=0,o=i||0,a=E(e);o<a;o++){var l=e[o];if(A(l)&&(T.isArray(l)||T.isArguments(l))){if(!t)l=j(l,t,n);var c=0,u=l.length;for(s.length+=u;c<u;)s[r++]=l[c++]}else if(!n)s[r++]=l}return s};T.flatten=function(e,t){return j(e,t,!1)},T.without=function(e){return T.difference(e,f.call(arguments,1))},T.uniq=T.unique=function(e,t,n,i){if(!T.isBoolean(t))i=n,n=t,t=!1;if(null!=n)n=x(n,i);for(var s=[],r=[],o=0,a=E(e);o<a;o++){var l=e[o],c=n?n(l,o,e):l;if(t){if(!o||r!==c)s.push(l);r=c}else if(n){if(!T.contains(r,c))r.push(c),s.push(l)}else if(!T.contains(s,l))s.push(l)}return s},T.union=function(){return T.uniq(j(arguments,!0,!0))},T.intersection=function(e){for(var t=[],n=arguments.length,i=0,s=E(e);i<s;i++){var r=e[i];if(!T.contains(t,r)){for(var o=1;o<n&&T.contains(arguments[o],r);o++);if(o===n)t.push(r)}}return t},T.difference=function(e){var t=j(arguments,!0,!0,1);return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){return T.unzip(arguments)},T.unzip=function(e){for(var t=e&&T.max(e,E).length||0,n=Array(t),i=0;i<t;i++)n[i]=T.pluck(e,i);return n},T.object=function(e,t){for(var n={},i=0,s=E(e);i<s;i++)if(t)n[e[i]]=t[i];else n[e[i][0]]=e[i][1];return n},T.findIndex=r(1),T.findLastIndex=r(-1),T.sortedIndex=function(e,t,n,i){n=x(n,i,1);for(var s=n(t),r=0,o=E(e);r<o;){var a=Math.floor((r+o)/2);if(n(e[a])<s)r=a+1;else o=a}return r},T.indexOf=o(1,T.findIndex,T.sortedIndex),T.lastIndexOf=o(-1,T.findLastIndex),T.range=function(e,t,n){if(null==t)t=e||0,e=0;n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),s=Array(i),r=0;r<i;r++,e+=n)s[r]=e;return s};var F=function(e,t,n,i,s){if(!(i instanceof t))return e.apply(n,s);var r=C(e.prototype),o=e.apply(r,s);if(T.isObject(o))return o;else return r};T.bind=function(e,t){if(S&&e.bind===S)return S.apply(e,f.call(arguments,1));if(!T.isFunction(e))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),i=function(){return F(e,i,t,this,n.concat(f.call(arguments)))};return i},T.partial=function(e){var t=f.call(arguments,1),n=function(){for(var i=0,s=t.length,r=Array(s),o=0;o<s;o++)r[o]=t[o]===T?arguments[i++]:t[o];for(;i<arguments.length;)r.push(arguments[i++]);return F(e,n,this,this,r)};return n},T.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=T.bind(e[n],e);return e},T.memoize=function(e,t){var n=function(i){var s=n.cache,r=""+(t?t.apply(this,arguments):i);if(!T.has(s,r))s[r]=e.apply(this,arguments);return s[r]};return n.cache={},n},T.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=T.partial(T.delay,T,1),T.throttle=function(e,t,n){var i,s,r,o=null,a=0;if(!n)n={};var l=function(){if(a=!1===n.leading?0:T.now(),o=null,r=e.apply(i,s),!o)i=s=null};return function(){var c=T.now();if(!a&&!1===n.leading)a=c;var u=t-(c-a);if(i=this,s=arguments,u<=0||u>t){if(o)clearTimeout(o),o=null;if(a=c,r=e.apply(i,s),!o)i=s=null}else if(!o&&!1!==n.trailing)o=setTimeout(l,u);return r}},T.debounce=function(e,t,n){var i,s,r,o,a,l=function(){var c=T.now()-o;if(c<t&&c>=0)i=setTimeout(l,t-c);else if(i=null,!n)if(a=e.apply(r,s),!i)r=s=null};return function(){r=this,s=arguments,o=T.now();var c=n&&!i;if(!i)i=setTimeout(l,t);if(c)a=e.apply(r,s),r=s=null;return a}},T.wrap=function(e,t){return T.partial(t,e)},T.negate=function(e){return function(){return!e.apply(this,arguments)}},T.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},T.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},T.before=function(e,t){var n;return function(){if(--e>0)n=t.apply(this,arguments);if(e<=1)t=null;return n}},T.once=T.partial(T.before,2);var U=!{toString:null}.propertyIsEnumerable("toString"),_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];T.keys=function(e){if(!T.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)if(T.has(e,n))t.push(n);if(U)a(e,t);return t},T.allKeys=function(e){if(!T.isObject(e))return[];var t=[];for(var n in e)t.push(n);if(U)a(e,t);return t},T.values=function(e){for(var t=T.keys(e),n=t.length,i=Array(n),s=0;s<n;s++)i[s]=e[t[s]];return i},T.mapObject=function(e,t,n){t=x(t,n);for(var i,s=T.keys(e),r=s.length,o={},a=0;a<r;a++)i=s[a],o[i]=t(e[i],i,e);return o},T.pairs=function(e){for(var t=T.keys(e),n=t.length,i=Array(n),s=0;s<n;s++)i[s]=[t[s],e[t[s]]];return i},T.invert=function(e){for(var t={},n=T.keys(e),i=0,s=n.length;i<s;i++)t[e[n[i]]]=n[i];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)if(T.isFunction(e[n]))t.push(n);return t.sort()},T.extend=$(T.allKeys),T.extendOwn=T.assign=$(T.keys),T.findKey=function(e,t,n){t=x(t,n);for(var i,s=T.keys(e),r=0,o=s.length;r<o;r++)if(i=s[r],t(e[i],i,e))return i},T.pick=function(e,t,n){var i,s,r={},o=e;if(null==o)return r;if(T.isFunction(t))s=T.allKeys(o),i=D(t,n);else s=j(arguments,!1,!1,1),i=function(e,t,n){return t in n},o=Object(o);for(var a=0,l=s.length;a<l;a++){var c=s[a],u=o[c];if(i(u,c,o))r[c]=u}return r},T.omit=function(e,t,n){if(T.isFunction(t))t=T.negate(t);else{var i=T.map(j(arguments,!1,!1,1),String);t=function(e,t){return!T.contains(i,t)}}return T.pick(e,t,n)},T.defaults=$(T.allKeys,!0),T.create=function(e,t){var n=C(e);if(t)T.extendOwn(n,t);return n},T.clone=function(e){if(!T.isObject(e))return e;else return T.isArray(e)?e.slice():T.extend({},e)},T.tap=function(e,t){return t(e),e},T.isMatch=function(e,t){var n=T.keys(t),i=n.length;if(null==e)return!i;for(var s=Object(e),r=0;r<i;r++){var o=n[r];if(t[o]!==s[o]||!(o in s))return!1}return!0};var L=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e instanceof T)e=e._wrapped;if(t instanceof T)t=t._wrapped;var s=v.call(e);if(s!==v.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!=+e)return+t!=+t;else return 0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var r="[object Array]"===s;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(T.isFunction(o)&&o instanceof o&&T.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),r){if((l=e.length)!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],n,i))return!1}else{var c,u=T.keys(e);if(l=u.length,T.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!T.has(t,c)||!L(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};if(T.isEqual=function(e,t){return L(e,t)},T.isEmpty=function(e){if(null==e)return!0;if(A(e)&&(T.isArray(e)||T.isString(e)||T.isArguments(e)))return 0===e.length;else return 0===T.keys(e).length},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=g||function(e){return"[object Array]"===v.call(e)},T.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},T.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){T["is"+e]=function(t){return v.call(t)==="[object "+e+"]"}}),!T.isArguments(arguments))T.isArguments=function(e){return T.has(e,"callee")};if("function"!=typeof/./&&"object"!=typeof Int8Array)T.isFunction=function(e){return"function"==typeof e||!1};T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!==+e},T.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===v.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return null!=e&&h.call(e,t)},T.noConflict=function(){return l._=c,this},T.identity=function(e){return e},T.constant=function(e){return function(){return e}},T.noop=function(){},T.property=w,T.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},T.matcher=T.matches=function(e){return e=T.extendOwn({},e),function(t){return T.isMatch(t,e)}},T.times=function(e,t,n){var i=Array(Math.max(0,e));t=D(t,n,1);for(var s=0;s<e;s++)i[s]=t(s);return i},T.random=function(e,t){if(null==t)t=e,e=0;return e+Math.floor(Math.random()*(t-e+1))},T.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=T.invert(H),B=function(e){var t=function(t){return e[t]},n="(?:"+T.keys(e).join("|")+")",i=RegExp(n),s=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(s,t):e}};T.escape=B(H),T.unescape=B(O),T.result=function(e,t,n){var i=null==e?void 0:e[t];if(void 0===i)i=n;return T.isFunction(i)?i.call(e):i};var R=0;T.uniqueId=function(e){var t=++R+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+M[e]};T.template=function(e,t,n){if(!t&&n)t=n;t=T.defaults({},t,T.templateSettings);var i=RegExp([(t.escape||P).source,(t.interpolate||P).source,(t.evaluate||P).source].join("|")+"|$","g"),s=0,r="__p+='";if(e.replace(i,function(t,n,i,o,a){if(r+=e.slice(s,a).replace(J,z),s=a+t.length,n)r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";else if(i)r+="'+\n((__t=("+i+"))==null?'':__t)+\n'";else if(o)r+="';\n"+o+"\n__p+='";return t}),r+="';\n",!t.variable)r="with(obj||{}){\n"+r+"}\n";r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var a=function(e){return o.call(this,e,T)},l=t.variable||"obj";return a.source="function("+l+"){\n"+r+"}",a},T.chain=function(e){var t=T(e);return t._chain=!0,t};var q=function(e,t){return e._chain?T(t).chain():t};if(T.mixin=function(e){T.each(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),q(this,n.apply(T,e))}})},T.mixin(T),T.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];T.prototype[e]=function(){var n=this._wrapped;if(t.apply(n,arguments),("shift"===e||"splice"===e)&&0===n.length)delete n[0];return q(this,n)}}),T.each(["concat","join","slice"],function(e){var t=u[e];T.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),T.prototype.value=function(){return this._wrapped},T.prototype.valueOf=T.prototype.toJSON=T.prototype.value,T.prototype.toString=function(){return""+this._wrapped},!0)i=[],void 0!==(s=function(){return T}.apply(t,i))&&(e.exports=s)}).call(this)},2:function(e,t,n){var i,s;i=[n(0),n(10),n(25)],void 0!==(s=function(e,t,n){var i=n(e,t);return i.Model.prototype.ignoreUnknownAttributes=!0,i}.apply(t,i))&&(e.exports=s)},20:function(e,t,n){var i,s;i=[t],void 0!==(s=function(e){window.wrmDataCache=window.wrmDataCache||{},e.claim=function(e){if(window.wrmDataCache[e])return window.wrmDataCache[e];var t=window.WRM.data.claim(e);return window.wrmDataCache[e]=t,t}}.apply(t,i))&&(e.exports=s)},21:function(e,t,n){var i,s;i=[n(1),n(0),n(29),n(30),n(40)],void 0!==(s=function(e,t,n){return{applySDErrorsShimToField:function(e,n,i){t.each(n.errors,function(t){if(!t.field)t.field=e}),this.applyErrors(n,null,!1,!1,i||{})},handleSubmit:function(n,i){i=i||{};var s=e.Deferred();return this.showSpinner(),this.disableSubmit(),n.done(t.bind(function(){var e=this,t=arguments;if(i.showSuccess||i.alwaysHideSpinner)this.hideSpinner();if(i.showSuccess)this.showSuccess(function(){if(!i.redirectAfterSuccess)e.enableSubmit();s.resolve.apply(s,t)});else{if(!i.redirectAfterSuccess)this.enableSubmit();s.resolve.apply(s,t)}},this)).fail(t.bind(function(e,t){var n=arguments;if(this.hideSpinner(),this.enableSubmit(),"abort"!==t||!i.doNotHandleErrorsOnAbort){var r=i.selector||"";this.applyErrors(e,r,!1,!1,i)}s.reject.apply(s,n)},this)),s},applyErrors:function(e,n,i,s,r){if(r=r||{},i=!!i,this.$(".error").remove(),e){if(e.errors){var o=t.filter(e.errors,function(e){return!e.field}),a=t.filter(e.errors,function(e){return!!e.field});this.applyFieldErrors(a,t.extend(r,{selector:n})),this.applyErrorMessage(o,i,s,n,r)}if(e["status-code"]&&e["status-code"]>400&&e.message)this.applyError(e.message)}},removeError:function(t){e(t.currentTarget).closest(".error").remove(),t.preventDefault()},removeFieldError:function(t,n){n=n||".field-container, .field-group";var i=this._getFieldByName(t),s=i.closest(n);e(".error",s).remove()},removeWarning:function(){this.$(".warning").remove()},applyError:function(t){var n=e(ServiceDesk.Templates.Shared.Form.error({error:t}));this._bindRemoveErrorOnClick(n),this.$(".aui-message.error.shadowed.closeable").remove(),this.$("form").prepend(n),n.find(".icon-close")},applyErrorMessage:function(t,n,i,s,r){if(r=r||{},t.length)if(r.errorsHandler)r.errorsHandler(t);else{var o=e(ServiceDesk.Templates.Shared.Form.errorMessage({errors:t,isNotAdmin:n}));if(this._bindRemoveErrorOnClick(o),this.$(".aui-message.error.shadowed.closeable").remove(),s)this.$(s).prepend(o);else this.$("form").prepend(o);if(!i)o[0].scrollIntoView();o.find(".icon-close"),this._bindReloadClick()}},_bindRemoveErrorOnClick:function(e){var t=e.find(".icon-close");if(t)t.click(this.removeError);else e.click(this.removeError)},_bindReloadClick:function(){this.$(".js-sd-reload-page").click(function(e){e.preventDefault(),location.reload()})},_getFieldByName:function(e){return this.$(":input[name='"+e+"'], [data-select2-name='"+e+"']")},applyFieldErrors:function(i,s){s=s||{},s.selector=s.selector||".field-container, .field-group";var r=n.defaultsWithNull(s,{clearPassword:!0});t.each(i,function(t){this.removeFieldError(t.field,r.selector);var n=e("<div class='error' />").attr("data-field",t.field).text(t.errorMessage),i=this._getFieldByName(t.field);if(!0===r.clearPassword&&i.is(":password"))i.val("");i.closest(r.selector).append(n)},this)},applyFieldWarnings:function(n,i,s){i=i||".field-container, .field-group",this.$(".warning").remove(),t.each(n,function(t){var n=e("<div class='error warning' />").attr("data-field",t.field);if(!0===s)n.html(t.errorMessage);else n.text(t.errorMessage);var r=this._getFieldByName(t.field);if(r.is(":password"))r.val("");r.closest(i).append(n)},this)},showSpinner:function(t){if(t)e(t).spin("small");else this.$(".js-status").addClass("loading")},hideSpinner:function(t){if(t)e(t).spinStop();else this.$(".js-status").removeClass("loading")},showSuccess:function(e,n,i){var s=this.$(i||".js-status");if(this.hideSpinner(i?s:void 0),s.addClass("success"),e)t.delay(t.bind(e,n),800)},disableSubmit:function(){this.$(":input[type='submit']").attr({"aria-disabled":"aria-disabled",disabled:!0})},enableSubmit:function(){this.$(":input[type='submit']").removeAttr("aria-disabled disabled")},isSubmitEnabled:function(){return!(this.$(":input[type='submit']").attr("aria-disabled")||this.$(":input[type='submit']").attr("disabled"))}}}.apply(t,i))&&(e.exports=s)},230:function(e,t,n){var i,s;i=[n(2),n(6)],void 0!==(s=function(e,t){return e.Model.extend({namedAttributes:{isAgent:Boolean,isPreview:Boolean,isExternalMode:Boolean,isEdit:Boolean,selectionPosition:Number,issueKey:String,userName:String,comment:String,commentHtml:String,modifierKey:String,avatarUrl:String,agentDisplayName:String,reporterDisplayName:String,isSecurityLevelAvailable:Boolean,groupSecurityLevels:Array,roleSecurityLevels:Array,selectedCommentSecurityLevel:String,prePopulatedSetting:Boolean,isRteEnabled:Boolean},getCommentPreview:function(e){this.setComment(e),this.setIsPreview(!0);var n=contextPath+"/rest/api/1.0/render",i={issueKey:this.getIssueKey(),rendererType:"atlassian-wiki-renderer",unrenderedMarkup:this.getComment()};return t.postForHtml(n,i)}})}.apply(t,i))&&(e.exports=s)},231:function(e,t,n){var i,s;i=[n(1),n(2),n(4),n(230),n(233),t,n(52),n(53)],void 0!==(s=function(e,t,n,i,s,r){var o=t.View.extend({initialize:function(){var e=this.$el.data("is-agent"),t=this.$el.data("user-name"),n=this.$el.data("is-external"),r=this.$el.data("issue-key"),o=this.$el.data("modifier-key"),a=this.$el.data("is-edit"),l=this.$el.data("avatar-url"),c=this.$el.data("agent-display-name"),u=this.$el.data("reporter-display-name"),m=this.$el.data("isSecurityLevelAvailable"),d=this.$el.data("pre-populated-setting"),p=this.$el.data("is-rte-enabled"),f={isAgent:e,issueKey:r,userName:t,isEdit:a,isExternalMode:n,modifierKey:o,avatarUrl:l,agentDisplayName:c,reporterDisplayName:u,isSecurityLevelAvailable:m,prePopulatedSetting:d,isRteEnabled:p};if(m){var v=JSON.parse(this.$(".js-comment-security-jsonpayload").text());f.groupSecurityLevels=v.groupSecurityLevels,f.roleSecurityLevels=v.roleSecurityLevels,f.selectedCommentSecurityLevel=v.selectedCommentSecurityLevel}this.model=new i(f),this.commentView=new s({model:this.model,el:this.el})}});r.create=function(e){return new o(e)}}.apply(t,i))&&(e.exports=s)},232:function(e,t,n){var i,s;i=[n(1),n(0),n(9),n(231),t,n(52),n(53)],void 0!==(s=function(e,t,n,i,s){s.install=t.once(function(){n("sd-comment-field",{created:function(e){e._commentModule=i.create({el:e})}})})}.apply(t,i))&&(e.exports=s)},233:function(e,t,n){var i,s;i=[n(1),n(0),n(2),n(4),n(96),n(52),n(53)],void 0!==(s=function(e,t,n,i,s){return n.View.extend({initialize:function(e){this.listenTo(this.model,"change:isExternalMode",this.switchTabs,this)},events:{"click .js-sd-external-comment":"switchToExternal","click .js-sd-internal-comment":"switchToInternal","click .js-sd-preview":"togglePreview","focus .sd-comment-textarea":"prePopulatedCommentWithTimeOut","change .js-comment-level":"onCommentLevelChange"},switchToExternal:function(){if(!this.model.getIsExternalMode()&&this.model.getIsAgent())this.model.setIsExternalMode(!0)},switchToInternal:function(){if(this.model.getIsExternalMode())this.model.setIsExternalMode(!1)},togglePreview:function(){if(this.model.getIsPreview())this.model.setIsPreview(!1),this.$(".sd-comment-field-form-container").html(ServiceDesk.Comment.Field.drawCommentForm(this.model.toJSON())),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.$el,JIRA.CONTENT_ADDED_REASON.panelRefreshed,"servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"]);else{var e=this.$("textarea").val();this.model.getCommentPreview(e).done(t.bind(function(e){this.model.setCommentHtml(e),this.$(".sd-comment-field-form-container").html(ServiceDesk.Comment.Field.drawCommentForm(this.model.toJSON())),new AJS.SecurityLevelSelect(this.$(".js-comment-level"))},this))}},focusTextArea:function(){if(this.$("textarea").focus(),this.model.getPrePopulatedSetting())this.prePopulatedComment()},prePopulatedComment:function(){var e=this.$("textarea"),t=this.model.getAgentDisplayName(),n=this.model.getReporterDisplayName(),i=this.model.getIsAgent(),r=this.model.getIsExternalMode();s.prepopulateCommentField(e,{isAgent:i,isExternalMode:r,agentDisplayName:t,reporterDisplayName:n})},prePopulatedCommentWithTimeOut:function(){if(this.model.getPrePopulatedSetting()){var e=this.$("textarea"),t=this.model.getAgentDisplayName(),n=this.model.getReporterDisplayName(),i=this.model.getIsAgent(),r=this.model.getIsExternalMode();setTimeout(function(){s.prepopulateCommentField(e,{isAgent:i,isExternalMode:r,agentDisplayName:t,reporterDisplayName:n})},0)}},switchTabs:function(){var e=this.$("textarea"),t=e.selectionRange().end;this.model.setSelectionPosition(t),this.$(".sd-comment-tab-container").html(ServiceDesk.Comment.Field.drawCommentTabs(this.model.toJSON())),this.$(".sd-comment-message").html(ServiceDesk.Comment.Field.drawCommentMessage(this.model.toJSON())),this.focusTextArea()},onCommentLevelChange:function(){var e=this.$(".js-comment-level :selected").val();this.model.setSelectedCommentSecurityLevel(e)}})}.apply(t,i))&&(e.exports=s)},234:function(e,t,n){var i,s;i=[n(0),n(237),n(232),t],void 0!==(s=function(e,t,n,i){i.install=e.once(function(){t.install(),n.install()})}.apply(t,i))&&(e.exports=s)},235:function(e,t,n){var i,s;i=[n(2),n(6),n(0),n(7)],void 0!==(s=function(e,t,n,i){return e.Model.extend({namedAttributes:{enabled:Boolean,isPreview:Boolean,isAgent:Boolean,isExternalMode:Boolean,userName:String,selectionPosition:Number,issueId:Number,issueKey:String,comment:String,commentHtml:String,modifierKey:String,avatarUrl:String,agentDisplayName:String,reporterDisplayName:String,isSecurityLevelAvailable:Boolean,groupSecurityLevels:Array,roleSecurityLevels:Array,selectedCommentSecurityLevel:String,prePopulatedSetting:Boolean,isRteEnabled:Boolean},defaults:{enabled:!1,isPreview:!1,comment:""},initialize:function(e){if(e.isAgent)this.setIsExternalMode(!0);else this.setIsExternalMode(!1)},clearComment:function(){this.setIsPreview(!1),this.setComment(""),this.setCommentHtml(""),this.setEnabled(!1),this.clearCommentLocally()},getCommentPreview:function(e){this.setComment(e),this.setIsPreview(!0);var n=i+"/rest/api/1.0/render",s={issueKey:this.getIssueKey(),rendererType:"atlassian-wiki-renderer",unrenderedMarkup:this.getComment()};return t.postForHtml(n,s)},sendComment:function(e){var n={};if(n.body=e.comment,n.properties=[{key:"sd.public.comment",value:{internal:e.isInternal}}],e.visibility)n.visibility=e.visibility;var s=this.getIssueId(),r=i+"/rest/api/2/issue/"+s+"/comment",o=t.post(r,n);return this.clearCommentLocally(),o},clearCommentLocally:function(){sessionStorage.removeItem("commentIssue"),sessionStorage.removeItem("currentComment")},saveCommentLocally:function(e,t){if(this._isCommentValueDefined(e)&&t){var i=t;if(!n.isString(i))i=String(i);sessionStorage.setItem("commentIssue",i),sessionStorage.setItem("currentComment",e)}},getCommentLocally:function(e){if(e){var t=e;if(!n.isString(t))t=String(t);if(sessionStorage.getItem("commentIssue")===t){return sessionStorage.getItem("currentComment")}}},isCommentLocallyDefined:function(){var e=this.getCommentLocally(this.getIssueId());return this._isCommentValueDefined(e)},_isCommentValueDefined:function(e){return e||""===e}})}.apply(t,i))&&(e.exports=s)},236:function(e,t,n){var i,s;i=[n(1),n(0),n(2),n(4),n(235),n(238),t,n(52),n(53)],void 0!==(s=function(e,t,n,i,s,r,o){var a=n.View.extend({initialize:function(){var n=this.$el.data("is-agent"),i=this.$el.data("user-name"),o=this.$el.data("issue-id"),a=this.$el.data("issue-key"),l=this.$el.data("modifier-key"),c=this.$el.data("avatar-url"),u=this.$el.data("agent-display-name"),m=this.$el.data("reporter-display-name"),d=this.$el.data("isSecurityLevelAvailable"),p=this.$el.data("pre-populated-setting"),f=this.$el.data("is-rte-enabled"),v={isAgent:n,userName:i,issueId:o,issueKey:a,modifierKey:l,avatarUrl:c,agentDisplayName:u,reporterDisplayName:m,isSecurityLevelAvailable:d,prePopulatedSetting:p,isRteEnabled:f};if(d){var h=JSON.parse(this.$(".js-comment-security-jsonpayload").text());v.groupSecurityLevels=h.groupSecurityLevels,v.roleSecurityLevels=h.roleSecurityLevels,v.selectedCommentSecurityLevel=h.selectedCommentSecurityLevel}this.model=new s(v),this.commentView=new r({model:this.model,el:this.el}),this.onJComment=t.bind(this.commentView.enableComments,this.commentView),e(document).on("click","#comment-issue",this.onJComment)},disable:function(){this.commentView.disable(),e(document).off("click","#comment-issue",this.onJComment)}});o.create=function(e){return new a(e)}}.apply(t,i))&&(e.exports=s)},237:function(e,t,n){var i,s;i=[n(1),n(0),n(9),n(236),t],void 0!==(s=function(e,t,n,i,s){s.install=t.once(function(){n("sd-comment",{created:function(e){e._commentModule=i.create({el:e})},detached:function(e){if(e._commentModule)e._commentModule.disable()},prototype:{enableCommentWithoutPrefill:function(){this._executeIfCommentModuleExists(function(e){var t=e.model.getPrePopulatedSetting();e.model.setPrePopulatedSetting(!1),e.enableComments(),e.model.setPrePopulatedSetting(t)})},isCommentCurrentlyInProgress:function(){var e=!1;return this._executeIfCommentModuleExists(function(t){e=t.model.getEnabled()}),e},getCurrentCommentValue:function(){var e=void 0;return this._executeIfCommentModuleExists(function(t){e=t.$("textarea").val()}),e},appendToInProgressComment:function(e){this._executeIfCommentModuleExists(function(t){var n=t.$("textarea").val();if(n&&n.length>0)t.$("textarea").val(""+n+e);else t.$("textarea").val(e);t.saveCurrentWork()})},_executeIfCommentModuleExists:function(e){var t=this._commentModule;if(null!==t){e(t.commentView)}}}})})}.apply(t,i))&&(e.exports=s)},238:function(e,t,n){var i,s;i=[n(1),n(0),n(2),n(4),n(6),n(21),n(17),n(96),n(52),n(53)],void 0!==(s=function(e,t,n,i,s,r,o,a){var l="addcommentmodule";return n.View.extend({initialize:function(e){var n=this;if(this.shouldUseButtons=!0,this.listenTo(this.model,"change:enabled",this.render,this),!this.shouldUseButtons)this.listenTo(this.model,"change:isExternalMode",this.switchTabs,this);this.$(".sd-comment-collapse .textarea").addClass("sd-initialised"),this.saveCurrentWork=t.debounce(function(){return n.saveCurrentWorkSynchronously()},200)},mixins:[r],events:{"submit .js-comment-form":"onFormSubmit","focus .sd-comment-collapse .textarea":"enableComments","click .cancel":"cancelComments","click .js-sd-external-comment":"switchToExternal","click .js-sd-internal-comment":"switchToInternal","click .sd-external-submit":"submitExternal","click .sd-internal-submit":"submitInternal","click .js-sd-preview":"saveAndPreview","change .js-comment-level":"onCommentLevelChange","keyup #comment":"saveCurrentWork"},disable:function(){this.cancelComments(),this.undelegateEvents(),this.stopListening()},enableComments:function(){if(!this.model.getEnabled())JIRA.trigger(JIRA.Events.LOCK_PANEL_REFRESHING,[l]),this.model.setEnabled(!0);else this.focusTextArea()},cancelComments:function(){if(this.model.getEnabled())JIRA.trigger(JIRA.Events.UNLOCK_PANEL_REFRESHING,[l]),this.model.clearComment()},switchToExternal:function(){if(!this.model.getIsExternalMode()&&this.model.getIsAgent())this.model.setIsExternalMode(!0)},switchToInternal:function(){if(this.model.getIsExternalMode())this.model.setIsExternalMode(!1)},submitExternal:function(){e(".js-comment-form").submit({isInternal:!1},t.bind(this.onFormSubmit,this))},submitInternal:function(){e(".js-comment-form").submit({isInternal:!0},t.bind(this.onFormSubmit,this))},switchTabs:function(){if(!this.shouldUseButtons){var e=this.$("textarea"),t=e.val().trim(),n=e.selectionRange().end;this.model.setSelectionPosition(n),this.model.setComment(t),this.render()}},saveAndPreview:function(e){this.saveCurrentWorkSynchronously(),this.togglePreview(e)},togglePreview:function(e){if(e.preventDefault(),this.model.getIsPreview())this.model.setIsPreview(!1),this.render();else{var n=this.$("textarea").val();this.model.getCommentPreview(n).done(t.bind(function(e){this.model.setCommentHtml(e),this.render()},this))}},render:function(){var t=this.$el.parents(".module#addcomment").first();if(this.model.getEnabled()){t.addClass("active");var n=e.extend({shouldUseButtons:this.shouldUseButtons},this.model.toJSON());this.$el.html(ServiceDesk.Comment.Field.commentExpanded(n)),this.focusTextArea(),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.$el,JIRA.CONTENT_ADDED_REASON.panelRefreshed,"servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"])}else t.removeClass("active"),this.$el.html(ServiceDesk.Comment.Field.drawCollapsedComment(this.model.toJSON())),this.$(".sd-comment-collapse .textarea").addClass("sd-initialised");if(this.$el.scrollIntoView)this.$el.scrollIntoView({marginBottom:200})},focusTextArea:function(){var e=this.$("textarea");if(e.focus(),this.model.isCommentLocallyDefined())e.val(this.model.getCommentLocally(this.model.getIssueId()));else if(e[0].setSelectionRange(this.model.getSelectionPosition(),this.model.getSelectionPosition()),this.model.getPrePopulatedSetting()){var t=this.model.getAgentDisplayName(),n=this.model.getReporterDisplayName(),i=this.model.getIsAgent(),s=this.model.getIsExternalMode();a.prepopulateCommentField(e,{isAgent:i,isExternalMode:s,agentDisplayName:t,reporterDisplayName:n})}},onFormSubmit:function(n){var i=this;n.preventDefault();var r=this.$("textarea").val(),c=this.$(".sd-comment-buttons button");if(e.trim(r)&&!c.attr("aria-disabled")){c.attr("aria-disabled","true").attr("disabled","true");var u=this.model,m=u.getIssueId();this.showSpinner();var d=!this.model.getIsExternalMode();if(this.shouldUseButtons)if(n.data)d=n.data.isInternal;else d=!0;var p=function(e){JIRA.trigger(JIRA.Events.UNLOCK_PANEL_REFRESHING,[l,"servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"]),JIRA.trigger(JIRA.Events.REFRESH_ISSUE_PAGE,[m,{complete:t.bind(function(){if(this.hideSpinner(),this.cancelComments(),e&&e.id)a.scrollToComment(e.id);o("sd.comment.submit.complete")},i)},"servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"])},f=function(t,n){i.hideSpinner(),c.removeAttr("aria-disabled").removeAttr("disabled");var r=void 0,o=s.getErrorCollection(t);if(o&&o.errors&&o.errors.comment)r=o.errors.comment;else r=s.buildSimpleErrorContent(t,n);new JIRA.FormDialog({content:e(ServiceDesk.Comment.Field.errorContent({errorMessage:r}))}).show()};u.sendComment({comment:r,visibility:this.getCommentVisibility(),isInternal:d}).done(p).fail(f)}},onCommentLevelChange:function(){var e=this.$(".js-comment-level :selected").val();this.model.setSelectedCommentSecurityLevel(e)},getCommentVisibility:function(){var e=this.$(".js-comment-level :selected").val();if(e)return{type:e.split(":")[0],value:this.$(".js-comment-level :selected").text()};else return null},saveCurrentWorkSynchronously:function(){var e=this.$("#comment").val();this.model.saveCommentLocally(e,this.model.getIssueId())}})}.apply(t,i))&&(e.exports=s)},239:function(e,t,n){var i,s;i=[n(0),n(1),n(9),n(2),n(38),n(60),n(35),n(91),n(32),n(256),n(3),t,n(126),n(129)],void 0!==(s=function(e,t,n,i,s,r,o,a,l,c,u,m){var d=r.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),p=s.extend({template:ServiceDesk.Templates.Components.Participants.participantsLozenge,init:function(e){this.$lozenge=t(this.template(e.properties)),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"))},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),f=o.extend({init:function(e){this._super.apply(this,arguments),this.$container.addClass("sd-participants-field")},_getDefaultOptions:function(e){var n=e.issueKey||t(e.element).data("issueKey");return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new d,itemAttrDisplayed:"label",suggestionsHandler:c,errorMessage:!1,itemBuilder:function(e){var t=new p(e);return t.$lozenge.appendTo(this.$selectedItemsContainer),t},ajaxOptions:{url:AJS.contextPath()+"/rest/servicedesk/1/servicedesk/sd-user-search/participants?issueKey="+n,query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(t){var n=e.map(t.users,function(e){if(u.isFeatureEnabled("jsd-fsn-1082-remove-username-from-participants-cf-ui"))return new l({value:e.accountId,label:e.displayName,html:e.highlightedHtml,icon:e.avatarUrl,allowDuplicate:!1,highlighted:!0});else return new l({value:e.username,label:e.displayName,html:e.highlightedHtml,icon:e.avatarUrl,allowDuplicate:!1,highlighted:!0})});if(t.resultExceedsLimit)return[new a({items:n,footerHtml:ServiceDesk.Templates.Components.Participants.resultsExceedLimit()})];else return n},updateItemsIndent:function(){var e=5,n=this.$selectedItemsContainer.outerHeight()+e+e;if(this.$field.css({paddingLeft:e,paddingTop:n,height:n+20+e}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)e.defer(e.bind(function(){this.lozengeGroup.shiftFocus(-1)},this))}}});m.install=function(){n("js-request-participants-field",{type:n.types.CLASS,created:function(e){new f({element:e})}})}}.apply(t,i))&&(e.exports=s)},24:function(e,t){e.exports=window.require("atlassian/libs/factories/backbone-1.0.0")},240:function(e,t,n){var i,s;i=[n(0),n(2),n(4),n(1),n(9),n(46),n(3),t,n(126),n(129)],void 0!==(s=function(e,t,n,i,s,r,o,a){var l;if(o.isFeatureEnabled("jsd-fsn-1082-remove-username-from-participants-cf-ui"))l=t.Model.extend({idAttribute:"accountId",namedAttributes:{accountId:String,avatarUrls:Object,displayName:String,emailAddress:String,active:Boolean,self:String,timeZone:String}});else l=t.Model.extend({idAttribute:"key",namedAttributes:{accountId:String,key:String,avatarUrls:Object,displayName:String,emailAddress:String,active:Boolean,name:String,self:String,timeZone:String}});var c=t.Collection.extend({model:l}),u=t.Model.extend({namedAttributes:{maxDisplayedUsers:Number,expanded:Boolean,editable:Boolean,users:c},getDisplayedUsers:function(){var e=this.getUsers().toJSON();if(this.getExpanded())return e;else return e.slice(0,this.getMaxDisplayedUsers())},hasToggle:function(){return this.getUsers().length>this.getMaxDisplayedUsers()},defaults:{maxDisplayedUsers:5}}),m=t.View.extend({template:ServiceDesk.Templates.Components.Participants.main,initialize:function(){this.listenTo(this.model,"change:expanded",this.render)},onContractClicked:function(e){this.model.setExpanded(!1),n.trackPageview("servicedesk/issue/requestparticipants/contracted",{issueId:r.getIssueId()}),e.preventDefault(),e.stopPropagation()},onExpandClicked:function(e){this.model.setExpanded(!0),n.trackPageview("servicedesk/issue/requestparticipants/expanded",{issueId:r.getIssueId()}),e.preventDefault(),e.stopPropagation()},render:function(){var t=this.template({displayedUsers:this.model.getDisplayedUsers(),totalUsers:this.model.getUsers().length,hasToggle:this.model.hasToggle(),expanded:this.model.getExpanded()});this.$el.html(t),this.$(".js-expand").click(e.bind(this.onExpandClicked,this)),this.$(".js-contract").click(e.bind(this.onContractClicked,this))}});a.create=function(e){return new m({el:e,model:new u(e.data())})},a.install=function(){s("request-participants",{type:s.types.TAG,created:function(e){a.create(i(e)).render()}})}}.apply(t,i))&&(e.exports=s)},241:function(e,t,n){var i,s;i=[n(0),n(1),n(168),n(32),n(37),n(75),n(179),t],void 0!==(s=function(e,t,i,s,r,o,a,l){function c(e){t("#bulkedit").on("submit",function(){var i=t("#cb"+e.model.id),r=t.trim(e.$field.val());if(i.is(":checked")&&0===r.length)e.model.setSelected(new s({value:-1,label:""}),!1);else{n(4).trackPageview("jira/bulkedit/requesttype")}})}function u(e){t(".js-request-type-selector",e).each(function(){var e=t(this);c(new i({element:e,errorMessage:""}))})}l.install=e.once(function(){r.bind(o.NEW_CONTENT_ADDED,function(e,t,n){if(n!==a.panelRefreshed)u(t)})})}.apply(t,i))&&(e.exports=s)},25:function(e,t){e.exports=window.require("atlassian/libs/factories/brace-1.1.0")},253:function(e,t){},256:function(e,t){e.exports=window.require("jira/ajs/select/suggestions/user-list-suggest-handler")},26:function(e,t,n){var i,s;i=[n(0),n(9)],void 0!==(s=function(e,t){var n=void 0;return function(){var i=this,s=e.toArray(arguments);return{install:e.once(function(){try{n=t.apply(i,s)}catch(e){console.log("Failed to install skate component, maybe it has already been installed")}return n})}}}.apply(t,i))&&(e.exports=s)},27:function(e,t,n){var i,s;i=[n(12),t],void 0!==(s=function(e,t){t.getPluginVersion=function(){return(AJS.Meta||e).get("sdPluginVersion")}}.apply(t,i))&&(e.exports=s)},28:function(e,t){e.exports=window.require("atlassian/libs/skate-0.12.6")},29:function(e,t,n){var i,s;i=[n(0),t],void 0!==(s=function(e,t){t.defaultsWhen=function(t,n,i){if(!t||e.isEqual(t,{}))return e.extend({},n);var s=e.union(e.keys(t),e.keys(n));return e.reduce(s,function(e,s){var r=t[s];if(!t.hasOwnProperty(s))e[s]=n[s];else{var o=n.hasOwnProperty(s)&&i(r,s);e[s]=o?n[s]:r}return e},{})},t.defaultsWithNull=function(e,n){return t.defaultsWhen(e,n,function(e){return null==e})},t.uniqueBy=function(t,n){if(!t)return[];else return e.reduce(t,function(t,i){if(-1===e.findIndex(t,e.partial(n,i)))t.push(i);return t},[])}}.apply(t,i))&&(e.exports=s)},3:function(e,t){e.exports=window.require("jira/featureflags/feature-manager")},30:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Form)ServiceDesk.Templates.Shared.Form={};if(ServiceDesk.Templates.Shared.Form.errorMessage=function(e,t){for(var n='<div class="aui-message error shadowed closeable"><p class="title">'+soy.$$escapeHtml("Error")+'</p><span class="aui-icon icon-error"></span>',i=e.errors,s=i.length,r=0;r<s;r++){var o=i[r];n+="<p>"+soy.$$filterNoAutoescape(o.errorMessage)+"</p>"}return n+=(e.isNotAdmin?"<p>"+soy.$$escapeHtml("Please contact the system administrator.")+"</p>":"")+'<span class="aui-icon icon-close" role="button" tabindex="0"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Shared.Form.errorMessage.soyTemplateName="ServiceDesk.Templates.Shared.Form.errorMessage";if(ServiceDesk.Templates.Shared.Form.error=function(e,t){return'<div class="aui-message error shadowed closeable"><p class="title">'+soy.$$escapeHtml("Error")+'</p><span class="aui-icon icon-error"></span><p>'+soy.$$escapeHtml(e.error)+"</p><p>"+soy.$$escapeHtml("Please contact the system administrator.")+'</p><span class="aui-icon icon-close" role="button" tabindex="0"></span></div>'},goog.DEBUG)ServiceDesk.Templates.Shared.Form.error.soyTemplateName="ServiceDesk.Templates.Shared.Form.error";if(ServiceDesk.Templates.Shared.Form.withKeyboardTooltip=function(e,t){return'<span class="js-tooltip" data-delay-in="500"'+(e.isCancel?'title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel",e.key,e.modifierKey))+'"':'title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form",e.key,e.modifierKey))+'"')+">"+soy.$$filterNoAutoescape(e.html)+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Form.withKeyboardTooltip.soyTemplateName="ServiceDesk.Templates.Shared.Form.withKeyboardTooltip";if(ServiceDesk.Templates.Shared.Form.extraAttributes=function(e,t){for(var n="",i=soy.$$getMapKeys(e.extraAttributes),s=i.length,r=0;r<s;r++){var o=i[r];n+=soy.$$escapeHtml(o)+'="'+soy.$$escapeHtml(e.extraAttributes[o])+'"'}return n},goog.DEBUG)ServiceDesk.Templates.Shared.Form.extraAttributes.soyTemplateName="ServiceDesk.Templates.Shared.Form.extraAttributes";if(ServiceDesk.Templates.Shared.Form.submitButton=function(e,t){var n="",i='<button type="submit" accesskey="'+(e.accessKey?soy.$$escapeHtml(e.accessKey):"s")+'"'+(e.extraAttributes?ServiceDesk.Templates.Shared.Form.extraAttributes(e):"")+'class="aui-button '+(e.extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'">'+soy.$$escapeHtml(e.label)+"</button>";return n+=e.modifierKey?ServiceDesk.Templates.Shared.Form.withKeyboardTooltip({html:i,modifierKey:e.modifierKey,key:""+(e.accessKey?soy.$$escapeHtml(e.accessKey):"s")}):soy.$$filterNoAutoescape(i)},goog.DEBUG)ServiceDesk.Templates.Shared.Form.submitButton.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitButton";if(ServiceDesk.Templates.Shared.Form.cancelButton=function(e,t){e=e||{};var n="",i='<button type="button" accesskey="`" class="aui-button aui-button-link cancel '+(e.extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'"'+(e.extraAttributes?ServiceDesk.Templates.Shared.Form.extraAttributes(e):"")+">"+(e.text?soy.$$escapeHtml(e.text):soy.$$escapeHtml("Cancel"))+"</button>";return n+=e.modifierKey?ServiceDesk.Templates.Shared.Form.withKeyboardTooltip({html:i,modifierKey:e.modifierKey,key:"`",isCancel:!0}):soy.$$filterNoAutoescape(i)},goog.DEBUG)ServiceDesk.Templates.Shared.Form.cancelButton.soyTemplateName="ServiceDesk.Templates.Shared.Form.cancelButton";if(ServiceDesk.Templates.Shared.Form.submitButtons=function(e,t){return""+("left"==e.alignment&&!e.hideSubmitStatus?ServiceDesk.Templates.Shared.Form.submitStatus(null):"")+ServiceDesk.Templates.Shared.Form.submitButton({modifierKey:e.modifierKey,extraClasses:e.submitExtraClasses,extraAttributes:e.submitExtraAttributes,label:e.submitButtonLabel})+ServiceDesk.Templates.Shared.Form.cancelButton({modifierKey:e.modifierKey,extraClasses:e.cancelExtraClasses,text:e.cancelText,extraAttributes:e.cancelExtraAttributes})+("left"!=e.alignment&&!e.hideSubmitStatus?ServiceDesk.Templates.Shared.Form.submitStatus(null):"")},goog.DEBUG)ServiceDesk.Templates.Shared.Form.submitButtons.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitButtons";if(ServiceDesk.Templates.Shared.Form.submitStatus=function(e,t){return'<span class="cv-sd-status js-status"></span>'},goog.DEBUG)ServiceDesk.Templates.Shared.Form.submitStatus.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitStatus";i=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Form}.apply(t,i))&&(e.exports=s)},31:function(e,t,n){var i,s;i=[n(20),t],void 0!==(s=function(e,t){var n=e.claim("com.atlassian.servicedesk.core-ui:util-help-links.help-links");t.getUrl=function(e){var t=n&&n.help&&n.help[e];if(t)return t},t.getKBUrl=function(e){var t=n&&n.kb&&n.kb[e];if(t)return t}}.apply(t,i))&&(e.exports=s)},32:function(e,t){e.exports=window.require("jira/ajs/list/item-descriptor")},35:function(e,t){e.exports=window.require("jira/ajs/select/multi-select")},37:function(e,t){e.exports=window.require("jira/util/events")},38:function(e,t){e.exports=window.require("jira/ajs/control")},4:function(e,t,n){var i,s;i=[n(0),n(1),n(27),t],void 0!==(s=function(e,t,n,i){function s(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){return""+s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()}function o(){if(window.trackingSession.setTimeoutId)clearTimeout(window.trackingSession.setTimeoutId);window.trackingSession.setTimeoutId=setTimeout(function(){if(!window.trackingSession.isUserActive)i.trackEvent("servicedesk.inactive-timeout",{lastEvent:window.trackingSession.actionBeforeInactive},!1,!0)},v)}function a(){window.trackingSession.timeLoaded=Math.round(performance.now()),window.trackingSession.isUserActive=!1,o()}function l(){window.trackingSession={actionBeforeInactive:"pageLoad",sessionIdentifier:r(),isUserActive:!1},a(),o(window.trackingSession)}function c(){if(!window.trackingSession)l()}function u(){if(AJS&&AJS.Meta)return AJS.Meta.get("projectId");else return t("body").data("projectId")||null}function m(e,t){if(f)AJS.log("Tracking page view: "+e,t);var n=e.replace(/^\/?/,"").replace(/\//g,".");this.trackEvent("page.view."+n,t)}function d(t,i,s,r){if(c(),"string"==typeof i)t=[t,i].join("."),i=arguments[2];if(f)AJS.log("TrackEvent: "+t,i);if(!s&&0!==t.indexOf("servicedesk."))t="servicedesk."+t;var o={};if(void 0!==i)if(!e.isObject(i)||e.isArray(i)){var a="A tracking call was made with invalid properties. Data should be key-value pairs. Event name is '"+t+"' and data is: ";AJS.warn(a,i)}else e.extend(o,i);var l=n.getPluginVersion();if(l)o.sdVersion=l;else o.sdVersion=o.sdVersion||"unknown";var m=u();if(m)o.projectId=o.projectId||m;if(window.trackingSession)o.sessionId=window.trackingSession.sessionIdentifier;if(r&&!window.trackingSession.isUserActive)window.trackingSession.timeLoaded=window.trackingSession.timeLoaded||Math.round(performance.now()),o.timeToFirstAction=Math.round(performance.now())-window.trackingSession.timeLoaded;var d={name:t,properties:o};AJS.EventQueue.push(d)}function p(e,t,n){window.trackingSession.actionBeforeInactive=e,d(e,t,n,!0),window.trackingSession.isUserActive=!0}var f=!1,v=3e5;AJS.EventQueue=AJS.EventQueue||[],c(),i.trackEvent=d,i.trackPageview=m,i.trackAction=p,i.resetTimer=a}.apply(t,i))&&(e.exports=s)},40:function(e,t){},411:function(e,t,n){var i,s;i=[n(0),t,n(163),n(162)],void 0!==(s=function(e,t,n,i){t.install=e.once(function(){n.install(),i.install()})}.apply(t,i))&&(e.exports=s)},42:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Utils)ServiceDesk.Templates.Shared.Utils={};if(ServiceDesk.Templates.Shared.Utils.helpLinkStart=function(e,t){return'<a class="sd-help-link-docs'+(e.extraClasses?" "+soy.$$escapeHtml(e.extraClasses):"")+'" href="'+soy.$$escapeHtml(n(31).getUrl(e.helpLinkKey))+'" data-analytics-key="page.view.help.docs.'+soy.$$escapeHtml(e.analyticsKey)+'"'+(0!=e.newTab?'target="_blank"':"")+">"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpLinkStart.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLinkStart";if(ServiceDesk.Templates.Shared.Utils.helpKBLinkStart=function(e,t){return'<a class="sd-help-kb-link-docs" href="'+soy.$$escapeHtml(n(31).getKBUrl(e.helpLinkKey))+'" data-analytics-key="page.view.help.docs.'+soy.$$escapeHtml(e.analyticsKey)+'"'+(0!=e.newTab?'target="_blank"':"")+">"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpKBLinkStart.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpKBLinkStart";if(ServiceDesk.Templates.Shared.Utils.helpLinkEnd=function(e,t){return"</a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpLinkEnd.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLinkEnd";if(ServiceDesk.Templates.Shared.Utils.helpLink=function(e,t){return""+ServiceDesk.Templates.Shared.Utils.helpLinkStart(e)+soy.$$escapeHtml(e.linkText)+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLink";if(ServiceDesk.Templates.Shared.Utils.helpKBLink=function(e,t){return""+ServiceDesk.Templates.Shared.Utils.helpKBLinkStart(e)+soy.$$escapeHtml(e.linkText)+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.helpKBLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpKBLink";if(ServiceDesk.Templates.Shared.Utils.user=function(e,t){return e=e||{},'<span class="sd-user '+(e.tag?"sd-user-tagged":"")+'" title="'+soy.$$escapeHtml(e.displayName)+'">'+(e.avatarSize?'<span class="aui-avatar aui-avatar-'+soy.$$escapeHtml(e.avatarSize)+" "+(e.tag?"sd-user-cell sd-avatar-cell":"")+'"><span class="aui-avatar-inner"><img src="'+soy.$$filterNoAutoescape(e.avatarUrl)+'"></img></span></span>':"")+(e.tag?'<span class="sd-user-cell">':"")+'<span class="sd-user-value">'+(e.isNotActive?"<del>"+soy.$$escapeHtml(e.displayName)+"</del> ("+soy.$$escapeHtml("Inactive")+")":soy.$$escapeHtml(e.displayName))+"</span>"+(e.tag?'<span class="sd-user-tag" title="'+soy.$$escapeHtml(e.tag)+'">'+soy.$$escapeHtml(e.tag)+"</span></span>":"")+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.user.soyTemplateName="ServiceDesk.Templates.Shared.Utils.user";if(ServiceDesk.Templates.Shared.Utils.organisation=function(e,t){return e=e||{},'<a href="'+soy.$$escapeHtml(e.organisationProfileUrl)+'"><span class="sd-user" title="'+soy.$$escapeHtml(e.displayName)+'">'+(e.avatarSize?'<span class="aui-avatar aui-avatar-'+soy.$$escapeHtml(e.avatarSize)+'"><span class="aui-avatar-inner">'+(e.avatarUrl?'<img alt="'+soy.$$escapeHtml("Organization\'s avatar")+'"src="'+soy.$$escapeHtml(e.avatarUrl)+'"></img>':'<span class="organization-listing-avatar" />')+"</span></span>":"")+'<span class="sd-user-value">'+soy.$$escapeHtml(e.displayName)+"</span></span></a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.organisation.soyTemplateName="ServiceDesk.Templates.Shared.Utils.organisation";if(ServiceDesk.Templates.Shared.Utils.profileLink=function(e,t){return'<a class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.name)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/ViewProfile.jspa?name="+soy.$$escapeUri(e.name)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.profileLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.profileLink";if(ServiceDesk.Templates.Shared.Utils.profileLinkPrivacySafe=function(e,t){var n="",i='{"accountId": "'+soy.$$escapeHtml(e.accountId)+'"}';return n+='<a class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.accountId)+'" data-user="'+soy.$$escapeHtml(i)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/ViewProfile.jspa?accountId="+soy.$$escapeHtml(e.accountId)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</a>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.profileLinkPrivacySafe.soyTemplateName="ServiceDesk.Templates.Shared.Utils.profileLinkPrivacySafe";if(ServiceDesk.Templates.Shared.Utils.userHover=function(e,t){return'<span class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.name)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.userHover.soyTemplateName="ServiceDesk.Templates.Shared.Utils.userHover";if(ServiceDesk.Templates.Shared.Utils.userHoverPrivacySafe=function(e,t){var n="",i='{"accountId": "'+soy.$$escapeHtml(e.accountId)+'"}';return n+='<span class="user-hover sd-user-hover" data-user="'+soy.$$escapeHtml(i)+'" rel="'+soy.$$escapeHtml(e.accountId)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.userHoverPrivacySafe.soyTemplateName="ServiceDesk.Templates.Shared.Utils.userHoverPrivacySafe";if(ServiceDesk.Templates.Shared.Utils.generalError=function(e,t){var n="";if(n+=soy.$$filterNoAutoescape(AJS.format("We were unable to submit your request. Please {0}refresh{1} the page and try again. Note that this will clear your request details.",'<a href="#" class="js-sd-reload-page">',"</a>"))+"<br /><br />",e.contactLink){var i='<a href="'+soy.$$escapeHtml(e.contactLink)+'" class="js-sd-reload-page">';n+=soy.$$filterNoAutoescape(AJS.format("If you have already tried again, {0}tell us about this issue{1}.",i,"</a>"))}else n+=soy.$$escapeHtml("If you have already tried again, contact your Jira Administrator.");return n},goog.DEBUG)ServiceDesk.Templates.Shared.Utils.generalError.soyTemplateName="ServiceDesk.Templates.Shared.Utils.generalError";i=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Utils}.apply(t,i))&&(e.exports=s)},43:function(e,t){e.exports=window.require("jira/ajs/select/single-select")},46:function(e,t){e.exports=window.require("jira/issue")},52:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Comment)ServiceDesk.Comment={};if(void 0===ServiceDesk.Comment.Field)ServiceDesk.Comment.Field={};if(ServiceDesk.Comment.Field.commentFieldEdit=function(e,t){return""+(e.isBulkEdit?'<td class=" aui-field-wikiedit comment-input" id="comment_container">'+ServiceDesk.Comment.Field.commentFieldEditContent(e)+"</td>":ServiceDesk.Comment.Field.commentFieldEditContent(e))},goog.DEBUG)ServiceDesk.Comment.Field.commentFieldEdit.soyTemplateName="ServiceDesk.Comment.Field.commentFieldEdit";if(ServiceDesk.Comment.Field.commentFieldEditContent=function(e,t){var n='<div class="field-group">'+(!e.isBulkEdit?'<label for="comment">'+soy.$$escapeHtml("Comment")+"</label>":"")+'<sd-comment-field class="sd-comment-field" data-avatar-url="'+soy.$$escapeHtml(e.avatarUrl)+'" data-modifier-key="'+soy.$$escapeHtml(e.modifierKey)+'" data-is-edit="'+soy.$$escapeHtml(e.isEdit)+'" data-is-agent="'+soy.$$escapeHtml(e.isAgent)+'" data-is-external="'+soy.$$escapeHtml(e.isExternalMode)+'" data-issue-key="'+soy.$$escapeHtml(e.issueKey)+'" data-user-name="'+soy.$$escapeHtml(e.userName)+'" data-is-rte-enabled="'+soy.$$escapeHtml(e.isRteEnabled)+'" data-agent-display-name="'+soy.$$escapeHtml(e.agentDisplayName)+'" data-reporter-display-name="'+soy.$$escapeHtml(e.reporterDisplayName)+'" data-is-security-level-available="'+soy.$$escapeHtml(e.isSecurityLevelAvailable)+'" >'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelPayload(e):"")+'<div class="sd-comment-tab-container tabwrap tabs2">'+ServiceDesk.Comment.Field.drawCommentTabs(e)+'</div><div class="sd-comment-message">'+ServiceDesk.Comment.Field.drawCommentMessage(e)+'</div><div class="sd-comment-field-form-container">'+ServiceDesk.Comment.Field.drawCommentForm(e)+"</div>";if(e.errors&&e.errors.length>0){n+='<div class="error">';for(var i=e.errors,s=i.length,r=0;r<s;r++){var o=i[r];n+="<p>"+soy.$$escapeHtml(o)+"</p>"}n+="</div>"}return n+="</sd-comment-field></div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentFieldEditContent.soyTemplateName="ServiceDesk.Comment.Field.commentFieldEditContent";if(ServiceDesk.Comment.Field.commentIssuePageEdit=function(e,t){return'<sd-comment class="sd-comment-container" data-avatar-url="'+soy.$$escapeHtml(e.avatarUrl)+'" data-modifier-key="'+soy.$$escapeHtml(e.modifierKey)+'"  data-is-agent="'+soy.$$escapeHtml(e.isAgent)+'" data-user-name="'+soy.$$escapeHtml(e.userName)+'" data-issue-id="'+soy.$$escapeHtml(e.issueId)+'" data-issue-key="'+soy.$$escapeHtml(e.issueKey)+'" data-is-rte-enabled="'+soy.$$escapeHtml(e.isRteEnabled)+'" data-agent-display-name="'+soy.$$escapeHtml(e.agentDisplayName)+'" data-reporter-display-name="'+soy.$$escapeHtml(e.reporterDisplayName)+'" data-is-security-level-available="'+soy.$$escapeHtml(e.isSecurityLevelAvailable)+'">'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelPayload(e):"")+ServiceDesk.Comment.Field.drawCollapsedComment(e)+"</sd-comment>"},goog.DEBUG)ServiceDesk.Comment.Field.commentIssuePageEdit.soyTemplateName="ServiceDesk.Comment.Field.commentIssuePageEdit";if(ServiceDesk.Comment.Field.drawCollapsedComment=function(e,t){return'<div class="sd-comment-collapse"><img class="sd-comment-avatar" src="'+soy.$$escapeHtml(e.avatarUrl)+'"><form class="aui dont-default-focus"><textarea id="sd-comment-collapsed-textarea" class="textarea" placeholder="'+soy.$$escapeHtml("Click to add comment")+'"></textarea></form></div>'},goog.DEBUG)ServiceDesk.Comment.Field.drawCollapsedComment.soyTemplateName="ServiceDesk.Comment.Field.drawCollapsedComment";if(ServiceDesk.Comment.Field.commentExpanded=function(e,t){var n=(!e.shouldUseButtons?'<div class="sd-comment-tab-container tabwrap tabs2">'+ServiceDesk.Comment.Field.drawCommentTabs(e)+"</div>":"")+'<div class="sd-add-comment-container">'+(!e.shouldUseButtons?'<div class="sd-comment-message">'+ServiceDesk.Comment.Field.drawCommentMessage(e)+"</div>":"")+'<form class="aui js-comment-form">',i=""+ServiceDesk.Comment.Field.drawCommentButtons(e);return n+=ServiceDesk.Comment.Field.drawCommentForm(soy.$$augmentMap(e,{extraCommentContent:e.isRteEnabled?i:""}))+(!e.isRteEnabled?soy.$$filterNoAutoescape(i):"")+"</form></div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentExpanded.soyTemplateName="ServiceDesk.Comment.Field.commentExpanded";if(ServiceDesk.Comment.Field.drawCommentTabs=function(e,t){return'<ul id="sd-comment-tabs" class="tabs horizontal"><li class="js-sd-external-comment '+(e.isExternalMode?"active":"inactive")+" "+(!e.isAgent?"disabled":"")+'">'+(!e.isExternalMode?"<a>":"")+"<strong>"+soy.$$escapeHtml("Respond to customer")+"</strong>"+(!e.isExternalMode?"</a>":"")+'</li><li class="js-sd-internal-comment '+(!e.isExternalMode?"active":"inactive")+'">'+(e.isExternalMode?"<a>":"")+"<strong>"+soy.$$escapeHtml("Internal comment")+"</strong>"+(e.isExternalMode?"</a>":"")+"</li></ul>"},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentTabs.soyTemplateName="ServiceDesk.Comment.Field.drawCommentTabs";if(ServiceDesk.Comment.Field.drawCommentMessage=function(e,t){return(e.isExternalMode?soy.$$escapeHtml("Your comment will be visible to customers. Embed attachments to make them visible to customers."):'<span class="aui-icon aui-icon-small aui-iconfont-locked">Locked</span>'+soy.$$escapeHtml("Your comments will not be visible to customers on the portal."))+'<input name="commentProperty" type="hidden" value="[{key: &quot;sd.public.comment&quot;, value: {internal: &quot;'+soy.$$escapeHtml(!e.isExternalMode)+'&quot;}}]"/>'},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentMessage.soyTemplateName="ServiceDesk.Comment.Field.drawCommentMessage";if(ServiceDesk.Comment.Field.drawCommentForm=function(e,t){return'<div class="sd-comment-form-container wiki-edit-content comment-input"><img class="sd-comment-avatar" src="'+soy.$$escapeHtml(e.avatarUrl)+'">'+(e.isPreview?'<div class="sd-comment-preview">'+soy.$$filterNoAutoescape(e.commentHtml)+'</div><textarea id="comment" name="comment" class="textarea hidden">':'<textarea id="comment" name="comment" class="textarea wiki-textfield sd-comment-textarea mentionable" data-issuekey="'+soy.$$escapeHtml(e.issueKey)+'">')+soy.$$escapeHtml(e.comment)+'</textarea><div class="field-tools '+(e.isRteEnabled?"sd-rte-bar":"")+'">'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelSelector(e):"")+(!e.isRteEnabled?'<span class="sd-preview-container"><a class="js-sd-preview" href="#" id="sd-comment-preview_link" title="'+soy.$$escapeHtml("preview")+'">'+(e.isPreview?soy.$$escapeHtml("exit preview"):soy.$$escapeHtml("preview"))+'</a></span><span><a class="help-lnk" id="viewHelp" href="'+soy.$$escapeHtml(AJS.contextPath())+'/secure/WikiRendererHelpAction.jspa?section=texteffects" title="'+soy.$$escapeHtml("wiki markup help")+'" data-helplink="local">'+soy.$$escapeHtml("syntax help")+"</a></span>":"")+(e.extraCommentContent?soy.$$filterNoAutoescape(e.extraCommentContent):"")+"</div></div>"},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentForm.soyTemplateName="ServiceDesk.Comment.Field.drawCommentForm";if(ServiceDesk.Comment.Field.drawCommentButtons=function(e,t){return'<div class="sd-comment-buttons">'+(e.shouldUseButtons?ServiceDesk.Comment.Field.drawCommentSubmitButtons(e):ServiceDesk.Comment.Field.drawCommentSubmitButton(e))+"</div>"},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentButtons.soyTemplateName="ServiceDesk.Comment.Field.drawCommentButtons";if(ServiceDesk.Comment.Field.drawCommentSubmitButton=function(e,t){return""+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraClasses:e.isExternalMode?"aui-button-primary sd-external-submit":"sd-internal-submit",submitButtonLabel:""+(e.isExternalMode?soy.$$escapeHtml("Send response"):soy.$$escapeHtml("Add internal comment")),modifierKey:e.modifierKey})},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentSubmitButton.soyTemplateName="ServiceDesk.Comment.Field.drawCommentSubmitButton";if(ServiceDesk.Comment.Field.drawCommentSubmitButtons=function(e,t){return""+(e.isAgent?ServiceDesk.Templates.Shared.Form.submitButton({extraClasses:"aui-button-primary sd-external-submit",label:"Share with customer",modifierKey:e.modifierKey,accessKey:"e"}):"")+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraClasses:"sd-internal-submit",submitButtonLabel:"Comment internally",modifierKey:e.modifierKey,alignment:"right"})},goog.DEBUG)ServiceDesk.Comment.Field.drawCommentSubmitButtons.soyTemplateName="ServiceDesk.Comment.Field.drawCommentSubmitButtons";if(ServiceDesk.Comment.Field.prepopulatedComment=function(e,t){return(e.reporter?soy.$$escapeHtml(AJS.format("Hi {0},",e.reporter))+"\n":soy.$$escapeHtml("Hi,")+"\n")+"\n\n\n "+soy.$$escapeHtml(e.agent)},goog.DEBUG)ServiceDesk.Comment.Field.prepopulatedComment.soyTemplateName="ServiceDesk.Comment.Field.prepopulatedComment";if(ServiceDesk.Comment.Field.commentSecurityLevelSelector=function(e,t){for(var n="",i=e.roleSecurityLevels&&e.roleSecurityLevels.length>0,s=e.groupSecurityLevels&&e.groupSecurityLevels.length>0,r="",o=e.roleSecurityLevels,a=o.length,l=0;l<a;l++){var c=o[l];r+=e.selectedCommentSecurityLevel=="role:"+c.id?soy.$$escapeHtml(c.name):""}for(var u=e.groupSecurityLevels,m=u.length,d=0;d<m;d++){var p=u[d];r+=e.selectedCommentSecurityLevel=="group:"+p?soy.$$escapeHtml(p):""}var f=r?AJS.format("Restricted to {0}",'<span class="redText">'+r+"</span>"):"Viewable by All Users";if(n+='<div class="sd-comment-security-level security-level"><fieldset class="hidden parameters"><input type="hidden" title="securityLevelViewableByAll" value="'+soy.$$escapeHtml("Viewable by All Users")+'"><input type="hidden" title="securityLevelViewableRestrictedTo" value="'+soy.$$escapeHtml("Restricted to {0}")+'"></fieldset><a class="drop" href="#"><span class="security-level-drop-icon aui-icon aui-icon-small'+(r?" aui-iconfont-locked":" aui-iconfont-unlocked")+'">'+soy.$$filterNoAutoescape(AJS.format("This comment will be {0}",f))+'</span> <span class="icon drop-menu"></span></a><select name="commentLevel" id="commentLevel" class="js-comment-level"><option value="">'+soy.$$escapeHtml("All Users")+"</option>",i){n+='<optgroup label="'+soy.$$escapeHtml("Project Roles")+'">';for(var v=e.roleSecurityLevels,h=v.length,g=0;g<h;g++){var y=v[g];n+='<option value="role:'+soy.$$escapeHtml(y.id)+'"'+(e.selectedCommentSecurityLevel=="role:"+y.id?' selected="selected"':"")+">"+soy.$$escapeHtml(y.name)+"</option>"}n+="</optgroup>"}if(s){n+='<optgroup label="'+soy.$$escapeHtml("Groups")+'">';for(var S=e.groupSecurityLevels,b=S.length,k=0;k<b;k++){var T=S[k];n+='<option value="group:'+soy.$$escapeHtml(T)+'" '+(e.selectedCommentSecurityLevel=="group:"+T?'selected="selected"':"")+">"+soy.$$escapeHtml(T)+"</option>"}n+="</optgroup>"}return n+='</select> <span class="current-level">'+soy.$$filterNoAutoescape(f)+"</span></div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentSecurityLevelSelector.soyTemplateName="ServiceDesk.Comment.Field.commentSecurityLevelSelector";if(ServiceDesk.Comment.Field.commentSecurityLevelPayload=function(e,t){return'<div class="js-comment-security-jsonpayload hidden">'+soy.$$escapeHtml(e.commentSecurityLevelPayload)+"</div>"},goog.DEBUG)ServiceDesk.Comment.Field.commentSecurityLevelPayload.soyTemplateName="ServiceDesk.Comment.Field.commentSecurityLevelPayload";if(ServiceDesk.Comment.Field.errorContent=function(e,t){return"<h2>"+soy.$$escapeHtml("Communications Breakdown")+'</h2><div class="dialog-error"><p>'+soy.$$escapeHtml(e.errorMessage)+"</p><p>"+soy.$$escapeHtml("Close this dialog and press refresh in your browser")+"</p></div>"},goog.DEBUG)ServiceDesk.Comment.Field.errorContent.soyTemplateName="ServiceDesk.Comment.Field.errorContent";i=[n(30)],void 0!==(s=function(){return ServiceDesk.Comment.Field}.apply(t,i))&&(e.exports=s)},53:function(e,t){},536:function(e,t,n){!function(e,t){e(function(){t.install()})}(n(1),n(159))},541:function(e,t,n){!function(e,t){e(function(){t.install()})}(n(1),n(161))},547:function(e,t,n){!function(e){e.install()}(n(411))},570:function(e,t,n){!function(e,t,n,i,s,r,o,a){e.install(),t.install(),n.install(),i.install(),s.install(),o.install(),r.install(),a.install()}(n(234),n(241),n(240),n(239),n(82),n(164),n(166),n(116),n(253))},59:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.RequestTypeIcons)ServiceDesk.Templates.Components.RequestTypeIcons={};if(ServiceDesk.Templates.Components.RequestTypeIcons.icon=function(e,t){return e.iconUrl?'<img aria-hidden="true" '+(e.style?'style="'+soy.$$escapeHtml(e.style)+'" ':"")+'class="'+(e.class?soy.$$escapeHtml(e.class)+" ":"")+'vp-rq-icon" src="'+soy.$$escapeHtml(e.iconUrl)+'" '+(e.title?'title="'+soy.$$escapeHtml(e.title)+'"':"")+" "+(e.dataKey?"data-"+soy.$$escapeHtml(e.dataKey)+'="'+soy.$$escapeHtml(e.dataValue)+'"':"")+">":'<img aria-hidden="true" '+(e.style?'style="'+soy.$$escapeHtml(e.style)+'" ':"")+'class="'+(e.class?soy.$$escapeHtml(e.class)+" ":"")+'vp-rq-icon" src="'+soy.$$escapeHtml(AJS.contextPath())+(e.useCustomerShim?"/servicedesk/customershim":"")+"/secure/viewavatar?avatarType=SD_REQTYPE&amp;avatarId="+soy.$$escapeHtml(e.iconId)+'" '+(e.title?'title="'+soy.$$escapeHtml(e.title)+'"':"")+" "+(e.dataKey?"data-"+soy.$$escapeHtml(e.dataKey)+'="'+soy.$$escapeHtml(e.dataValue)+'"':"")+">"},goog.DEBUG)ServiceDesk.Templates.Components.RequestTypeIcons.icon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.icon";if(ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon=function(e,t){return""+ServiceDesk.Templates.Components.RequestTypeIcons.icon(soy.$$augmentMap(e,{class:e.class?e.class+" vp-rq-icon-small":"vp-rq-icon-small"}))},goog.DEBUG)ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon";if(ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon=function(e,t){return""+ServiceDesk.Templates.Components.RequestTypeIcons.icon(soy.$$augmentMap(e,{class:e.class?e.class+" vp-rq-icon-medium":"vp-rq-icon-medium"}))},goog.DEBUG)ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon";i=[],void 0!==(s=function(){return ServiceDesk.Templates.Components.RequestTypeIcons}.apply(t,i))&&(e.exports=s)},6:function(e,t,n){var i,s;i=[n(1),n(0),t],void 0!==(s=function(e,t,n){function i(e,t){var n=void 0;if("timeout"===t)n="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.";else if(401===e.status)n="You are not authorized to perform this operation.  Please log in.";else if(e.responseText&&e.responseText.length>0)n="The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.";else n="The Jira server could not be contacted. This may be a temporary glitch or the server may be down.";return n}function s(e){return e.then(null,function(e){return t.extend(e,n.getErrorCollection(e))}),e}function r(e,n,i,s,r){return t.extend({},v,{url:e,type:n,dataType:i,contentType:s,timeout:h,headers:r||{}})}function o(n,i){var o=r(n,"GET","json","application/json",i);if(t.isObject(n))o=t.extend(o,n);else o.url=n;return s(e.ajax(o))}function a(t,n,i,o,a,l){var c=r(i,"POST",t,n,a);if("application/json"===n)c.data=JSON.stringify(o);else c.data=o;if(l)c.timeout=l;return s(e.ajax(c))}function l(e,t,n,i){return s(a("json","application/json",e,t,n,i))}function c(e,t,n,i){return s(a("html","application/json",e,t,n,i))}function u(e,t,n,i,r){return s(a("json",e,t,n,i,r))}function m(t,n,i){var o=r(t,"PUT","json","application/json",i);return o.data=JSON.stringify(n),s(e.ajax(o))}function d(t,n){var i=r(t,"DELETE","json","application/json",n);return s(e.ajax(i))}function p(t){e(document).ajaxSuccess(t)}function f(t){e(document).off("ajaxSuccess",t)}var v={traditional:!0},h=18e4;n.get=o,n.post=l,n.postForHtml=c,n.postWithContentType=u,n.put=m,n.del=d,n.registerGlobalAjaxSuccessHandler=p,n.unregisterGlobalAjaxSuccessHandler=f,n.markupWithErrors=s,n.getErrorCollection=function(e){var t=void 0;try{t=JSON.parse(e.responseText)}catch(e){t={errors:[{errorMessage:"Something has gone wrong with your request. If symptoms persist contact your System Administrator."}]}}return t},n.getErrorMessage=function(e){try{return JSON.parse(e.responseText).errors[0].errorMessage}catch(e){return "Something has gone wrong with your request. If symptoms persist contact your System Administrator."}},n.buildSimpleErrorContent=i}.apply(t,i))&&(e.exports=s)},60:function(e,t){e.exports=window.require("jira/ajs/select/multi-select/lozenge-group")},68:function(e,t,n){var i;void 0!==(i=function(){return JIRA.Issue}.call(t,n,t,e))&&(e.exports=i)},7:function(e,t,n){var i,s;i=[n(12)],void 0!==(s=function(e){var t=e.get("context-path");if(void 0===t)if(AJS&&AJS.contextPath)t=AJS.contextPath();return t}.apply(t,i))&&(e.exports=s)},72:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Components)ServiceDesk.Templates.Shared.Components={};if(void 0===ServiceDesk.Templates.Shared.Components.CustomerOrganization)ServiceDesk.Templates.Shared.Components.CustomerOrganization={};if(ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer=function(e,t){return'<span class="sd-organization" title="'+soy.$$escapeHtml(e.organisationName)+'"><span class="sd-organization-cell">'+(e.avatarUrl?'<img src="'+soy.$$escapeHtml(e.avatarUrl)+'" />':'<div class="default-organization-avatar"></div>')+'</span><span class="sd-organization-value">'+soy.$$escapeHtml(e.organisationName)+"</span></span>"},goog.DEBUG)ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer.soyTemplateName="ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer";i=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Components.CustomerOrganization}.apply(t,i))&&(e.exports=s)},75:function(e,t){e.exports=window.require("jira/util/events/types")},799:function(e,t,n){n(8),n(570),n(547),n(536),e.exports=n(541)},8:function(e,t,n){"use strict";e.exports=n(14).polyfill()},81:function(e,t,n){var i,s;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Shared)ServiceDesk.Templates.Shared={};if(void 0===ServiceDesk.Templates.Shared.Spinners)ServiceDesk.Templates.Shared.Spinners={};if(ServiceDesk.Templates.Shared.Spinners.spinner=function(e,t){return'<div class="sd-spinner-'+soy.$$escapeHtml(e.size)+" "+(e.extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'" '+(e.extraAttributes?soy.$$escapeHtml(e.extraAttributes):"")+"></div>"},goog.DEBUG)ServiceDesk.Templates.Shared.Spinners.spinner.soyTemplateName="ServiceDesk.Templates.Shared.Spinners.spinner";if(ServiceDesk.Templates.Shared.Spinners.adg3Spinner=function(e,t){return'<div class="sd-spinner-adg3-'+soy.$$escapeHtml(e.size)+'"><svg focusable="false" height="'+soy.$$escapeHtml(e.diameter)+'" size="'+soy.$$escapeHtml(e.diameter)+'" viewBox="0 0 '+soy.$$escapeHtml(e.diameter)+" "+soy.$$escapeHtml(e.diameter)+'" width="'+soy.$$escapeHtml(e.diameter)+'" xmlns="http://www.w3.org/2000/svg" ><circle cx='+soy.$$escapeHtml(e.diameter/2)+" cy="+soy.$$escapeHtml(e.diameter/2)+" r="+soy.$$escapeHtml(e.diameter/2-e.diameter/20)+" /></svg></div>"},goog.DEBUG)ServiceDesk.Templates.Shared.Spinners.adg3Spinner.soyTemplateName="ServiceDesk.Templates.Shared.Spinners.adg3Spinner";i=[],void 0!==(s=function(){return ServiceDesk.Templates.Shared.Spinners}.apply(t,i))&&(e.exports=s)},82:function(e,t,n){var i,s;i=[n(0),n(1),n(9),t,n(83),n(81)],void 0!==(s=function(e,t,n,i){var s={small:20,medium:30,large:50,xlarge:100},r=s.small,o=ServiceDesk.Templates.Shared.Spinners.adg3Spinner,a=function(e,n){var i=s[n]||r;t(e).html(o({size:n,diameter:i}))};i.install=e.once(function(){n("sd-spinner-small",{type:n.types.CLASS,attached:function(e){a(e,"small")}}),n("sd-spinner-medium",{type:n.types.CLASS,attached:function(e){a(e,"medium")}}),n("sd-spinner-large",{type:n.types.CLASS,attached:function(e){a(e,"large")}}),n("sd-spinner-xlarge",{type:n.types.CLASS,attached:function(e){a(e,"xlarge")}})})}.apply(t,i))&&(e.exports=s)},83:function(e,t){},9:function(e,t,n){var i,s;i=[n(28)],void 0!==(s=function(e){return e}.apply(t,i))&&(e.exports=s)},91:function(e,t){e.exports=window.require("jira/ajs/list/group-descriptor")},92:function(e,t){e.exports=window.require("jira/ajs/list/list")},96:function(e,t,n){var i,s;i=[n(1),n(0),n(3),n(17),n(52),n(53)],void 0!==(s=function(e,t,n,i){function s(t,n){e(t).val(n)}function r(e,t,n){s(e,ServiceDesk.Comment.Field.prepopulatedComment({agent:t,reporter:n}))}function o(t,n){e(t).get(0).setSelectionRange(n,n)}function a(e){return e.indexOf("\n")}function l(e,t){if(t.isAgent)if(t.isExternalMode)c(e,t.agentDisplayName,t.reporterDisplayName);else u(e,t.agentDisplayName,t.reporterDisplayName)}function c(t,n,s){if(!t.val()){r(t,n,s);o(t,a(e(t).val())+2),i("sd.comment.populated")}}function u(e,t,n){if(!d(e,t,n))e.val("")}function m(e,t){return ServiceDesk.Comment.Field.prepopulatedComment({agent:e,reporter:t})}function d(e,t,n){return e.val()!==m(t,n)}function p(t){var n="comment-"+t,i=e("#"+n),s=e(".aui-item.detail-panel");if(s.length>0)s.scrollTop(s.scrollTop()+i.offset().top);else i.scrollIntoView({marginBottom:200,marginTop:200});e("#issue_actions_container > .issue-data-block.focused").removeClass("focused"),i.addClass("focused")}return{prepopulateCommentField:l,fill:s,fillWithDefault:r,setCaretPosition:o,getFirstLineBreakIndex:a,isChangeCommentFromPrepopulated:d,handleInternalComment:u,getTemplateContent:m,handleExternalComment:c,scrollToComment:p}}.apply(t,i))&&(e.exports=s)}},[799]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-atl.general.asset.unlicensed', location = 'atl.general.asset.unlicensed.bundle.js' */
sdJsonp([48],{0:function(n,t,e){var r,i;r=[e(19)],void 0!==(i=function(n){return n}.apply(t,r))&&(n.exports=i)},1:function(n,t,e){var r;void 0!==(r=function(){return jQuery}.call(t,e,t,n))&&(n.exports=r)},10:function(n,t,e){var r,i;r=[e(0),e(1),e(24)],void 0!==(i=function(n,t,e){return e(n,t)}.apply(t,r))&&(n.exports=i)},11:function(n,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){if("object"==typeof window)e=window}n.exports=e},13:function(n,t,e){var r,i;if(void 0===o)var o={};if(o.table=function(n,t){return"<table"+(n.id?' id="'+soy.$$escapeHtml(n.id)+'"':"")+' class="aui'+o.renderExtraClasses(n)+'"'+o.renderExtraAttributes(n)+">"+(n.columnsContent?soy.$$filterNoAutoescape(n.columnsContent):"")+(n.captionContent?"<caption>"+soy.$$filterNoAutoescape(n.captionContent)+"</caption>":"")+(n.theadContent?"<thead>"+soy.$$filterNoAutoescape(n.theadContent)+"</thead>":"")+(n.tfootContent?"<tfoot>"+soy.$$filterNoAutoescape(n.tfootContent)+"</tfoot>":"")+(!n.contentIncludesTbody?"<tbody>":"")+soy.$$filterNoAutoescape(n.content)+(!n.contentIncludesTbody?"</tbody>":"")+"</table>"},goog.DEBUG)o.table.soyTemplateName="aui.table";r=[],void 0!==(i=function(){return o}.apply(t,r))&&(n.exports=i)},14:function(n,t,e){(function(t,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(t,e){!0?n.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function n(n){return"function"==typeof n||"object"==typeof n&&null!==n}function i(n){return"function"==typeof n}function o(n){Y=n}function u(n){V=n}function s(){return function(){return t.nextTick(p)}}function a(){if(void 0!==Q)return function(){Q(p)};else return l()}function c(){var n=0,t=new Z(p),e=document.createTextNode("");return t.observe(e,{characterData:!0}),function(){e.data=n=++n%2}}function f(){var n=new MessageChannel;return n.port1.onmessage=p,function(){return n.port2.postMessage(0)}}function l(){var n=setTimeout;return function(){return n(p,1)}}function p(){for(var n=0;n<J;n+=2){(0,en[n])(en[n+1]),en[n]=void 0,en[n+1]=void 0}J=0}function h(){try{var n=e(16);return Q=n.runOnLoop||n.runOnContext,a()}catch(n){return l()}}function v(n,t){var e=arguments,r=this,i=new this.constructor(y);if(void 0===i[on])z(i);var o=r._state;if(o)!function(){var n=e[o-1];V(function(){return O(o,i,n,r._result)})}();else $(r,i,n,t);return i}function d(n){var t=this;if(n&&"object"==typeof n&&n.constructor===t)return n;var e=new t(y);return j(e,n),e}function y(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function b(n){try{return n.then}catch(n){return cn.error=n,cn}}function w(n,t,e,r){try{n.call(t,e,r)}catch(n){return n}}function _(n,t,e){V(function(n){var r=!1,i=w(e,t,function(e){if(!r)if(r=!0,t!==e)j(n,e);else k(n,e)},function(t){if(!r)r=!0,S(n,t)},"Settle: "+(n._label||" unknown promise"));if(!r&&i)r=!0,S(n,i)},n)}function x(n,t){if(t._state===sn)k(n,t._result);else if(t._state===an)S(n,t._result);else $(t,void 0,function(t){return j(n,t)},function(t){return S(n,t)})}function A(n,t,e){if(t.constructor===n.constructor&&e===v&&t.constructor.resolve===d)x(n,t);else if(e===cn)S(n,cn.error),cn.error=null;else if(void 0===e)k(n,t);else if(i(e))_(n,t,e);else k(n,t)}function j(t,e){if(t===e)S(t,m());else if(n(e))A(t,e,b(e));else k(t,e)}function T(n){if(n._onerror)n._onerror(n._result);C(n)}function k(n,t){if(n._state===un)if(n._result=t,n._state=sn,0!==n._subscribers.length)V(C,n)}function S(n,t){if(n._state===un)n._state=an,n._result=t,V(T,n)}function $(n,t,e,r){var i=n._subscribers,o=i.length;if(n._onerror=null,i[o]=t,i[o+sn]=e,i[o+an]=r,0===o&&n._state)V(C,n)}function C(n){var t=n._subscribers,e=n._state;if(0!==t.length){for(var r=void 0,i=void 0,o=n._result,u=0;u<t.length;u+=3)if(r=t[u],i=t[u+e],r)O(e,r,i,o);else i(o);n._subscribers.length=0}}function E(){this.error=null}function F(n,t){try{return n(t)}catch(n){return fn.error=n,fn}}function O(n,t,e,r){var o=i(e),u=void 0,s=void 0,a=void 0,c=void 0;if(o){if((u=F(e,r))===fn)c=!0,s=u.error,u.error=null;else a=!0;if(t===u)return void S(t,g())}else u=r,a=!0;if(t._state!==un);else if(o&&a)j(t,u);else if(c)S(t,s);else if(n===sn)k(t,u);else if(n===an)S(t,u)}function I(n,t){try{t(function(t){j(n,t)},function(t){S(n,t)})}catch(t){S(n,t)}}function D(){return ln++}function z(n){n[on]=ln++,n._state=void 0,n._result=void 0,n._subscribers=[]}function N(n,t){if(this._instanceConstructor=n,this.promise=new n(y),!this.promise[on])z(this.promise);if(G(t)){if(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length)k(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)k(this.promise,this._result)}else S(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function B(n){return new N(this,n).promise}function L(n){var t=this;if(!G(n))return new t(function(n,t){return t(new TypeError("You must pass an array to race."))});else return new t(function(e,r){for(var i=n.length,o=0;o<i;o++)t.resolve(n[o]).then(e,r)})}function q(n){var t=this,e=new t(y);return S(e,n),e}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(n){if(this[on]=D(),this._result=this._state=void 0,this._subscribers=[],y!==n)"function"!=typeof n&&H(),this instanceof R?I(this,n):P()}function U(){var n=void 0;if(void 0!==r)n=r;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=n.Promise;if(t){var e=null;try{e=Object.prototype.toString.call(t.resolve())}catch(n){}if("[object Promise]"===e&&!t.cast)return}n.Promise=R}var K=void 0;if(!Array.isArray)K=function(n){return"[object Array]"===Object.prototype.toString.call(n)};else K=Array.isArray;var G=K,J=0,Q=void 0,Y=void 0,V=function(n,t){if(en[J]=n,en[J+1]=t,2===(J+=2))if(Y)Y(p);else rn()},W="undefined"!=typeof window?window:void 0,X=W||{},Z=X.MutationObserver||X.WebKitMutationObserver,nn="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),tn="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,en=new Array(1e3),rn=void 0;if(nn)rn=s();else if(Z)rn=c();else if(tn)rn=f();else if(void 0===W)rn=h();else rn=l();var on=Math.random().toString(36).substring(16),un=void 0,sn=1,an=2,cn=new E,fn=new E,ln=0;return N.prototype._enumerate=function(){for(var n=this.length,t=this._input,e=0;this._state===un&&e<n;e++)this._eachEntry(t[e],e)},N.prototype._eachEntry=function(n,t){var e=this._instanceConstructor,r=e.resolve;if(r===d){var i=b(n);if(i===v&&n._state!==un)this._settledAt(n._state,t,n._result);else if("function"!=typeof i)this._remaining--,this._result[t]=n;else if(e===R){var o=new e(y);A(o,n,i),this._willSettleAt(o,t)}else this._willSettleAt(new e(function(t){return t(n)}),t)}else this._willSettleAt(r(n),t)},N.prototype._settledAt=function(n,t,e){var r=this.promise;if(r._state===un)if(this._remaining--,n===an)S(r,e);else this._result[t]=e;if(0===this._remaining)k(r,this._result)},N.prototype._willSettleAt=function(n,t){var e=this;$(n,void 0,function(n){return e._settledAt(sn,t,n)},function(n){return e._settledAt(an,t,n)})},R.all=B,R.race=L,R.resolve=d,R.reject=q,R._setScheduler=o,R._setAsap=u,R._asap=V,R.prototype={constructor:R,then:v,catch:function(n){return this.then(null,n)}},R.polyfill=U,R.Promise=R,R})}).call(t,e(15),e(11))},146:function(n,t,e){var r,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Assets)ServiceDesk.Templates.Components.Assets={};if(void 0===ServiceDesk.Templates.Components.Assets.Field)ServiceDesk.Templates.Components.Assets.Field={};if(ServiceDesk.Templates.Components.Assets.Field.assetLozenge=function(n,t){return'<li class="sd-asset-lozenge" title="'+soy.$$escapeHtml(n.asset.label.value)+'"><span class="sd-asset" title="'+soy.$$escapeHtml(n.asset.label.value)+'">'+("Unknown Asset"==n.asset.label.value?'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml("Unknown Asset")+"&nbsp;</span>"+aui.icons.icon({useIconFont:!0,icon:"warning",extraClasses:"aui-iconfont-warning"}):'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml(n.asset.label.value)+"</span>")+'</span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.assetLozenge.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.assetLozenge";r=[e(39)],void 0!==(i=function(){return ServiceDesk.Templates.Components.Assets.Field}.apply(t,r))&&(n.exports=i)},15:function(n,t){function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(n){if(f===setTimeout)return setTimeout(n,0);if((f===e||!f)&&setTimeout)return f=setTimeout,setTimeout(n,0);try{return f(n,0)}catch(t){try{return f.call(null,n,0)}catch(t){return f.call(this,n,0)}}}function o(n){if(l===clearTimeout)return clearTimeout(n);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(n);try{return l(n)}catch(t){try{return l.call(null,n)}catch(t){return l.call(this,n)}}}function u(){if(d&&h){if(d=!1,h.length)v=h.concat(v);else y=-1;if(v.length)s()}}function s(){if(!d){var n=i(u);d=!0;for(var t=v.length;t;){for(h=v,v=[];++y<t;)if(h)h[y].run();y=-1,t=v.length}h=null,d=!1,o(n)}}function a(n,t){this.fun=n,this.array=t}function c(){}var f,l,p=n.exports={};!function(){try{if("function"==typeof setTimeout)f=setTimeout;else f=e}catch(n){f=e}try{if("function"==typeof clearTimeout)l=clearTimeout;else l=r}catch(n){l=r}}();var h,v=[],d=!1,y=-1;p.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(v.push(new a(n,t)),1===v.length&&!d)i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(n){return[]},p.binding=function(n){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(n){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},156:function(n,t,e){var r,i;r=[e(1),e(146),e(90)],void 0!==(i=function(n){var t=ServiceDesk.Templates.Components.Assets.Field.assetLozenge;return function(e){return n(t({asset:e}))}}.apply(t,r))&&(n.exports=i)},157:function(n,t,e){var r,i;r=[e(0),e(1),e(9),e(2),e(38),e(60),e(35),e(32),e(26),e(156),e(88),e(89),e(90)],void 0!==(i=function(n,t,e,r,i,o,u,s,a,c,f,l){var p=o.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),h=i.extend({init:function(n,t){var e=this;l(n.properties.value,function(n){e.$lozenge=c(n),e._assignEvents("instance",e)._assignEvents("removeButton",e.$lozenge.find(".js-remove")),t(e.$lozenge)})},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),v=u.extend({init:function(){this._super.apply(this,arguments),this.$container.addClass("sd-asset-field")},_getTypeOriginAsSerializedType:function(n){return encodeURIComponent((n.appKey+"/"+n.originId).toLowerCase())},_getAssetFieldConfigQueryParamsAsString:function(n,t){var e=this,r="";if(""!==t)r+="prioritizedAssignee="+t+"&";return n.types.forEach(function(n){r+="type="+e._getTypeOriginAsSerializedType(n)+"&"}),r.slice(0,-1)},_getDefaultOptions:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=t(e[0].element).data().assetFieldConfig,o=t(e[0].element).data().assetFieldReporterAccountId,u="";if(i)u=this._getAssetFieldConfigQueryParamsAsString(i,o);return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new p,itemAttrDisplayed:"label",errorMessage:!1,matchingStrategy:".*",itemBuilder:function(n){var t=this;return new h(n,function(n){n.appendTo(t.$selectedItemsContainer),t.updateItemsIndent()})},ajaxOptions:{url:AJS.contextPath()+"/rest/assetapi/asset/search?"+u,query:!0,formatResponse:this._formatResponse,headers:{"X-B3-Sampled":"1"}}})},_formatResponse:function(t){return n.map(t.values,function(n){return new s(f(n))})},updateItemsIndent:function(){var n=5,e=this.$selectedItemsContainer.outerHeight()+n+n;if(this.$field.css({paddingLeft:n,paddingTop:e,height:e+20+n}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){var t=this;if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)n.defer(n.bind(function(){t.lozengeGroup.shiftFocus(-1)},this))}}});return a("js-request-asset-field",{created:function(n){n.field=new v({element:n})}})}.apply(t,r))&&(n.exports=i)},16:function(n,t){},19:function(n,t,e){var r,i;(function(){function e(n){function t(t,e,r,i,o,u){for(;o>=0&&o<u;o+=n){var s=i?i[o]:o;r=e(r,t[s],s,t)}return r}return function(e,r,i,o){r=A(r,o,4);var u=!E(e)&&x.keys(e),s=(u||e).length,a=n>0?0:s-1;if(arguments.length<3)i=e[u?u[a]:a],a+=n;return t(e,r,i,u,a,s)}}function o(n){return function(t,e,r){e=j(e,r);for(var i=C(t),o=n>0?0:i-1;o>=0&&o<i;o+=n)if(e(t[o],o,t))return o;return-1}}function u(n,t,e){return function(r,i,o){var u=0,s=C(r);if("number"==typeof o)if(n>0)u=o>=0?o:Math.max(o+s,u);else s=o>=0?Math.min(o+1,s):o+s+1;else if(e&&o&&s)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=t(v.call(r,u,s),x.isNaN),o>=0?o+u:-1;for(o=n>0?u:s-1;o>=0&&o<s;o+=n)if(r[o]===i)return o;return-1}}function s(n,t){var e=z.length,r=n.constructor,i=x.isFunction(r)&&r.prototype||l,o="constructor";if(x.has(n,o)&&!x.contains(t,o))t.push(o);for(;e--;)if((o=z[e])in n&&n[o]!==i[o]&&!x.contains(t,o))t.push(o)}var a=this,c=a._,f=Array.prototype,l=Object.prototype,p=Function.prototype,h=f.push,v=f.slice,d=l.toString,y=l.hasOwnProperty,m=Array.isArray,g=Object.keys,b=p.bind,w=Object.create,_=function(){},x=function(n){if(n instanceof x)return n;if(!(this instanceof x))return new x(n);else return void(this._wrapped=n)};if(!0){if(void 0!==n&&n.exports)t=n.exports=x;t._=x}else a._=x;x.VERSION="1.8.3";var A=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,i){return n.call(t,e,r,i)};case 4:return function(e,r,i,o){return n.call(t,e,r,i,o)}}return function(){return n.apply(t,arguments)}},j=function(n,t,e){if(null==n)return x.identity;if(x.isFunction(n))return A(n,t,e);if(x.isObject(n))return x.matcher(n);else return x.property(n)};x.iteratee=function(n,t){return j(n,t,1/0)};var T=function(n,t){return function(e){var r=arguments.length;if(r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],u=n(o),s=u.length,a=0;a<s;a++){var c=u[a];if(!t||void 0===e[c])e[c]=o[c]}return e}},k=function(n){if(!x.isObject(n))return{};if(w)return w(n);_.prototype=n;var t=new _;return _.prototype=null,t},S=function(n){return function(t){return null==t?void 0:t[n]}},$=Math.pow(2,53)-1,C=S("length"),E=function(n){var t=C(n);return"number"==typeof t&&t>=0&&t<=$};x.each=x.forEach=function(n,t,e){t=A(t,e);var r,i;if(E(n))for(r=0,i=n.length;r<i;r++)t(n[r],r,n);else{var o=x.keys(n);for(r=0,i=o.length;r<i;r++)t(n[o[r]],o[r],n)}return n},x.map=x.collect=function(n,t,e){t=j(t,e);for(var r=!E(n)&&x.keys(n),i=(r||n).length,o=Array(i),u=0;u<i;u++){var s=r?r[u]:u;o[u]=t(n[s],s,n)}return o},x.reduce=x.foldl=x.inject=e(1),x.reduceRight=x.foldr=e(-1),x.find=x.detect=function(n,t,e){var r;if(E(n))r=x.findIndex(n,t,e);else r=x.findKey(n,t,e);if(void 0!==r&&-1!==r)return n[r]},x.filter=x.select=function(n,t,e){var r=[];return t=j(t,e),x.each(n,function(n,e,i){if(t(n,e,i))r.push(n)}),r},x.reject=function(n,t,e){return x.filter(n,x.negate(j(t)),e)},x.every=x.all=function(n,t,e){t=j(t,e);for(var r=!E(n)&&x.keys(n),i=(r||n).length,o=0;o<i;o++){var u=r?r[o]:o;if(!t(n[u],u,n))return!1}return!0},x.some=x.any=function(n,t,e){t=j(t,e);for(var r=!E(n)&&x.keys(n),i=(r||n).length,o=0;o<i;o++){var u=r?r[o]:o;if(t(n[u],u,n))return!0}return!1},x.contains=x.includes=x.include=function(n,t,e,r){if(!E(n))n=x.values(n);if("number"!=typeof e||r)e=0;return x.indexOf(n,t,e)>=0},x.invoke=function(n,t){var e=v.call(arguments,2),r=x.isFunction(t);return x.map(n,function(n){var i=r?t:n[t];return null==i?i:i.apply(n,e)})},x.pluck=function(n,t){return x.map(n,x.property(t))},x.where=function(n,t){return x.filter(n,x.matcher(t))},x.findWhere=function(n,t){return x.find(n,x.matcher(t))},x.max=function(n,t,e){var r,i,o=-1/0,u=-1/0;if(null==t&&null!=n){n=E(n)?n:x.values(n);for(var s=0,a=n.length;s<a;s++)if((r=n[s])>o)o=r}else t=j(t,e),x.each(n,function(n,e,r){if((i=t(n,e,r))>u||i===-1/0&&o===-1/0)o=n,u=i});return o},x.min=function(n,t,e){var r,i,o=1/0,u=1/0;if(null==t&&null!=n){n=E(n)?n:x.values(n);for(var s=0,a=n.length;s<a;s++)if((r=n[s])<o)o=r}else t=j(t,e),x.each(n,function(n,e,r){if((i=t(n,e,r))<u||i===1/0&&o===1/0)o=n,u=i});return o},x.shuffle=function(n){for(var t,e=E(n)?n:x.values(n),r=e.length,i=Array(r),o=0;o<r;o++){if((t=x.random(0,o))!==o)i[o]=i[t];i[t]=e[o]}return i},x.sample=function(n,t,e){if(null==t||e){if(!E(n))n=x.values(n);return n[x.random(n.length-1)]}return x.shuffle(n).slice(0,Math.max(0,t))},x.sortBy=function(n,t,e){return t=j(t,e),x.pluck(x.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,e,r){var i={};return e=j(e,r),x.each(t,function(r,o){var u=e(r,o,t);n(i,r,u)}),i}};x.groupBy=F(function(n,t,e){if(x.has(n,e))n[e].push(t);else n[e]=[t]}),x.indexBy=F(function(n,t,e){n[e]=t}),x.countBy=F(function(n,t,e){if(x.has(n,e))n[e]++;else n[e]=1}),x.toArray=function(n){if(!n)return[];if(x.isArray(n))return v.call(n);if(E(n))return x.map(n,x.identity);else return x.values(n)},x.size=function(n){if(null==n)return 0;else return E(n)?n.length:x.keys(n).length},x.partition=function(n,t,e){t=j(t,e);var r=[],i=[];return x.each(n,function(n,e,o){(t(n,e,o)?r:i).push(n)}),[r,i]},x.first=x.head=x.take=function(n,t,e){if(null!=n)if(null==t||e)return n[0];else return x.initial(n,n.length-t)},x.initial=function(n,t,e){return v.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},x.last=function(n,t,e){if(null!=n)if(null==t||e)return n[n.length-1];else return x.rest(n,Math.max(0,n.length-t))},x.rest=x.tail=x.drop=function(n,t,e){return v.call(n,null==t||e?1:t)},x.compact=function(n){return x.filter(n,x.identity)};var O=function(n,t,e,r){for(var i=[],o=0,u=r||0,s=C(n);u<s;u++){var a=n[u];if(E(a)&&(x.isArray(a)||x.isArguments(a))){if(!t)a=O(a,t,e);var c=0,f=a.length;for(i.length+=f;c<f;)i[o++]=a[c++]}else if(!e)i[o++]=a}return i};x.flatten=function(n,t){return O(n,t,!1)},x.without=function(n){return x.difference(n,v.call(arguments,1))},x.uniq=x.unique=function(n,t,e,r){if(!x.isBoolean(t))r=e,e=t,t=!1;if(null!=e)e=j(e,r);for(var i=[],o=[],u=0,s=C(n);u<s;u++){var a=n[u],c=e?e(a,u,n):a;if(t){if(!u||o!==c)i.push(a);o=c}else if(e){if(!x.contains(o,c))o.push(c),i.push(a)}else if(!x.contains(i,a))i.push(a)}return i},x.union=function(){return x.uniq(O(arguments,!0,!0))},x.intersection=function(n){for(var t=[],e=arguments.length,r=0,i=C(n);r<i;r++){var o=n[r];if(!x.contains(t,o)){for(var u=1;u<e&&x.contains(arguments[u],o);u++);if(u===e)t.push(o)}}return t},x.difference=function(n){var t=O(arguments,!0,!0,1);return x.filter(n,function(n){return!x.contains(t,n)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(n){for(var t=n&&x.max(n,C).length||0,e=Array(t),r=0;r<t;r++)e[r]=x.pluck(n,r);return e},x.object=function(n,t){for(var e={},r=0,i=C(n);r<i;r++)if(t)e[n[r]]=t[r];else e[n[r][0]]=n[r][1];return e},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(n,t,e,r){e=j(e,r,1);for(var i=e(t),o=0,u=C(n);o<u;){var s=Math.floor((o+u)/2);if(e(n[s])<i)o=s+1;else u=s}return o},x.indexOf=u(1,x.findIndex,x.sortedIndex),x.lastIndexOf=u(-1,x.findLastIndex),x.range=function(n,t,e){if(null==t)t=n||0,n=0;e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),o=0;o<r;o++,n+=e)i[o]=n;return i};var I=function(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var o=k(n.prototype),u=n.apply(o,i);if(x.isObject(u))return u;else return o};x.bind=function(n,t){if(b&&n.bind===b)return b.apply(n,v.call(arguments,1));if(!x.isFunction(n))throw new TypeError("Bind must be called on a function");var e=v.call(arguments,2),r=function(){return I(n,r,t,this,e.concat(v.call(arguments)))};return r},x.partial=function(n){var t=v.call(arguments,1),e=function(){for(var r=0,i=t.length,o=Array(i),u=0;u<i;u++)o[u]=t[u]===x?arguments[r++]:t[u];for(;r<arguments.length;)o.push(arguments[r++]);return I(n,e,this,this,o)};return e},x.bindAll=function(n){var t,e,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e=arguments[t],n[e]=x.bind(n[e],n);return n},x.memoize=function(n,t){var e=function(r){var i=e.cache,o=""+(t?t.apply(this,arguments):r);if(!x.has(i,o))i[o]=n.apply(this,arguments);return i[o]};return e.cache={},e},x.delay=function(n,t){var e=v.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(n,t,e){var r,i,o,u=null,s=0;if(!e)e={};var a=function(){if(s=!1===e.leading?0:x.now(),u=null,o=n.apply(r,i),!u)r=i=null};return function(){var c=x.now();if(!s&&!1===e.leading)s=c;var f=t-(c-s);if(r=this,i=arguments,f<=0||f>t){if(u)clearTimeout(u),u=null;if(s=c,o=n.apply(r,i),!u)r=i=null}else if(!u&&!1!==e.trailing)u=setTimeout(a,f);return o}},x.debounce=function(n,t,e){var r,i,o,u,s,a=function(){var c=x.now()-u;if(c<t&&c>=0)r=setTimeout(a,t-c);else if(r=null,!e)if(s=n.apply(o,i),!r)o=i=null};return function(){o=this,i=arguments,u=x.now();var c=e&&!r;if(!r)r=setTimeout(a,t);if(c)s=n.apply(o,i),o=i=null;return s}},x.wrap=function(n,t){return x.partial(t,n)},x.negate=function(n){return function(){return!n.apply(this,arguments)}},x.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},x.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},x.before=function(n,t){var e;return function(){if(--n>0)e=t.apply(this,arguments);if(n<=1)t=null;return e}},x.once=x.partial(x.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(n){if(!x.isObject(n))return[];if(g)return g(n);var t=[];for(var e in n)if(x.has(n,e))t.push(e);if(D)s(n,t);return t},x.allKeys=function(n){if(!x.isObject(n))return[];var t=[];for(var e in n)t.push(e);if(D)s(n,t);return t},x.values=function(n){for(var t=x.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=n[t[i]];return r},x.mapObject=function(n,t,e){t=j(t,e);for(var r,i=x.keys(n),o=i.length,u={},s=0;s<o;s++)r=i[s],u[r]=t(n[r],r,n);return u},x.pairs=function(n){for(var t=x.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=[t[i],n[t[i]]];return r},x.invert=function(n){for(var t={},e=x.keys(n),r=0,i=e.length;r<i;r++)t[n[e[r]]]=e[r];return t},x.functions=x.methods=function(n){var t=[];for(var e in n)if(x.isFunction(n[e]))t.push(e);return t.sort()},x.extend=T(x.allKeys),x.extendOwn=x.assign=T(x.keys),x.findKey=function(n,t,e){t=j(t,e);for(var r,i=x.keys(n),o=0,u=i.length;o<u;o++)if(r=i[o],t(n[r],r,n))return r},x.pick=function(n,t,e){var r,i,o={},u=n;if(null==u)return o;if(x.isFunction(t))i=x.allKeys(u),r=A(t,e);else i=O(arguments,!1,!1,1),r=function(n,t,e){return t in e},u=Object(u);for(var s=0,a=i.length;s<a;s++){var c=i[s],f=u[c];if(r(f,c,u))o[c]=f}return o},x.omit=function(n,t,e){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(O(arguments,!1,!1,1),String);t=function(n,t){return!x.contains(r,t)}}return x.pick(n,t,e)},x.defaults=T(x.allKeys,!0),x.create=function(n,t){var e=k(n);if(t)x.extendOwn(e,t);return e},x.clone=function(n){if(!x.isObject(n))return n;else return x.isArray(n)?n.slice():x.extend({},n)},x.tap=function(n,t){return t(n),n},x.isMatch=function(n,t){var e=x.keys(t),r=e.length;if(null==n)return!r;for(var i=Object(n),o=0;o<r;o++){var u=e[o];if(t[u]!==i[u]||!(u in i))return!1}return!0};var N=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;if(n instanceof x)n=n._wrapped;if(t instanceof x)t=t._wrapped;var i=d.call(n);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":if(+n!=+n)return+t!=+t;else return 0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof t)return!1;var u=n.constructor,s=t.constructor;if(u!==s&&!(x.isFunction(u)&&u instanceof u&&x.isFunction(s)&&s instanceof s)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var a=e.length;a--;)if(e[a]===n)return r[a]===t;if(e.push(n),r.push(t),o){if((a=n.length)!==t.length)return!1;for(;a--;)if(!N(n[a],t[a],e,r))return!1}else{var c,f=x.keys(n);if(a=f.length,x.keys(t).length!==a)return!1;for(;a--;)if(c=f[a],!x.has(t,c)||!N(n[c],t[c],e,r))return!1}return e.pop(),r.pop(),!0};if(x.isEqual=function(n,t){return N(n,t)},x.isEmpty=function(n){if(null==n)return!0;if(E(n)&&(x.isArray(n)||x.isString(n)||x.isArguments(n)))return 0===n.length;else return 0===x.keys(n).length},x.isElement=function(n){return!(!n||1!==n.nodeType)},x.isArray=m||function(n){return"[object Array]"===d.call(n)},x.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){x["is"+n]=function(t){return d.call(t)==="[object "+n+"]"}}),!x.isArguments(arguments))x.isArguments=function(n){return x.has(n,"callee")};if("function"!=typeof/./&&"object"!=typeof Int8Array)x.isFunction=function(n){return"function"==typeof n||!1};x.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},x.isNaN=function(n){return x.isNumber(n)&&n!==+n},x.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===d.call(n)},x.isNull=function(n){return null===n},x.isUndefined=function(n){return void 0===n},x.has=function(n,t){return null!=n&&y.call(n,t)},x.noConflict=function(){return a._=c,this},x.identity=function(n){return n},x.constant=function(n){return function(){return n}},x.noop=function(){},x.property=S,x.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},x.matcher=x.matches=function(n){return n=x.extendOwn({},n),function(t){return x.isMatch(t,n)}},x.times=function(n,t,e){var r=Array(Math.max(0,n));t=A(t,e,1);for(var i=0;i<n;i++)r[i]=t(i);return r},x.random=function(n,t){if(null==t)t=n,n=0;return n+Math.floor(Math.random()*(t-n+1))},x.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=x.invert(M),L=function(n){var t=function(t){return n[t]},e="(?:"+x.keys(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,t):n}};x.escape=L(M),x.unescape=L(B),x.result=function(n,t,e){var r=null==n?void 0:n[t];if(void 0===r)r=e;return x.isFunction(r)?r.call(n):r};var q=0;x.uniqueId=function(n){var t=++q+"";return n?n+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,U=function(n){return"\\"+P[n]};x.template=function(n,t,e){if(!t&&e)t=e;t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";if(n.replace(r,function(t,e,r,u,s){if(o+=n.slice(i,s).replace(R,U),i=s+t.length,e)o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'";else if(r)o+="'+\n((__t=("+r+"))==null?'':__t)+\n'";else if(u)o+="';\n"+u+"\n__p+='";return t}),o+="';\n",!t.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var u=new Function(t.variable||"obj","_",o)}catch(n){throw n.source=o,n}var s=function(n){return u.call(this,n,x)},a=t.variable||"obj";return s.source="function("+a+"){\n"+o+"}",s},x.chain=function(n){var t=x(n);return t._chain=!0,t};var K=function(n,t){return n._chain?x(t).chain():t};if(x.mixin=function(n){x.each(x.functions(n),function(t){var e=x[t]=n[t];x.prototype[t]=function(){var n=[this._wrapped];return h.apply(n,arguments),K(this,e.apply(x,n))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=f[n];x.prototype[n]=function(){var e=this._wrapped;if(t.apply(e,arguments),("shift"===n||"splice"===n)&&0===e.length)delete e[0];return K(this,e)}}),x.each(["concat","join","slice"],function(n){var t=f[n];x.prototype[n]=function(){return K(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},!0)r=[],void 0!==(i=function(){return x}.apply(t,r))&&(n.exports=i)}).call(this)},2:function(n,t,e){var r,i;r=[e(0),e(10),e(25)],void 0!==(i=function(n,t,e){var r=e(n,t);return r.Model.prototype.ignoreUnknownAttributes=!0,r}.apply(t,r))&&(n.exports=i)},24:function(n,t){n.exports=window.require("atlassian/libs/factories/backbone-1.0.0")},25:function(n,t){n.exports=window.require("atlassian/libs/factories/brace-1.1.0")},26:function(n,t,e){var r,i;r=[e(0),e(9)],void 0!==(i=function(n,t){var e=void 0;return function(){var r=this,i=n.toArray(arguments);return{install:n.once(function(){try{e=t.apply(r,i)}catch(n){console.log("Failed to install skate component, maybe it has already been installed")}return e})}}}.apply(t,r))&&(n.exports=i)},28:function(n,t){n.exports=window.require("atlassian/libs/skate-0.12.6")},32:function(n,t){n.exports=window.require("jira/ajs/list/item-descriptor")},35:function(n,t){n.exports=window.require("jira/ajs/select/multi-select")},38:function(n,t){n.exports=window.require("jira/ajs/control")},39:function(n,t,e){var r,i;if(void 0===o)var o={};if(void 0===o.icons)o.icons={};if(o.icons.icon=function(n,t){return"<"+soy.$$escapeHtml(n.tagName?n.tagName:"span")+(n.id?' id="'+soy.$$escapeHtml(n.id)+'"':"")+' class="aui-icon'+(n.useIconFont?" aui-icon-"+soy.$$escapeHtml(n.size?n.size:"small"):"")+" aui"+soy.$$escapeHtml(n.useIconFont?"-iconfont":"-icon")+soy.$$escapeHtml(n.iconFontSet?"-"+n.iconFontSet:"")+"-"+soy.$$escapeHtml(n.icon)+o.renderExtraClasses(n)+'"'+o.renderExtraAttributes(n)+">"+(n.accessibilityText?soy.$$escapeHtml(n.accessibilityText):"")+"</"+soy.$$escapeHtml(n.tagName?n.tagName:"span")+">"},goog.DEBUG)o.icons.icon.soyTemplateName="aui.icons.icon";r=[e(13)],void 0!==(i=function(){return o.icons}.apply(t,r))&&(n.exports=i)},531:function(n,t,e){!function(n,t){n(function(){t.install()})}(e(1),e(157))},60:function(n,t){n.exports=window.require("jira/ajs/select/multi-select/lozenge-group")},793:function(n,t,e){e(8),n.exports=e(531)},8:function(n,t,e){"use strict";n.exports=e(14).polyfill()},88:function(n,t,e){var r,i;r=[],void 0!==(i=function(){return function(n){return{value:n.origin.appKey+"/"+n.origin.originId,label:n.label.value}}}.apply(t,r))&&(n.exports=i)},89:function(n,t,e){var r,i;r=[e(1)],void 0!==(i=function(n){return function(t,e){n.ajax({url:AJS.contextPath()+"/rest/assetapi/asset/"+t,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){var n=t.split("/");e({origin:{appKey:n[0],originId:n[1]},label:{value:"Unknown Asset"}})}).then(function(n){e&&e(n)})}}.apply(t,r))&&(n.exports=i)},9:function(n,t,e){var r,i;r=[e(28)],void 0!==(i=function(n){return n}.apply(t,r))&&(n.exports=i)},90:function(n,t){}},[793]);;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:lodash-amd', location = 'applinks/internal/lib/lodash-jslibs.js' */
define('applinks/lib/lodash', ['atlassian/libs/underscore-1.5.2'], function(lodash) {
        return lodash;
    });;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/lib-version.js' */
// NOTE: this is in "lib" because it's required by aui-amd.js. This module _cannot_ have any dependencies on non-lib
// modules (like "common")
define('applinks/lib/version', [
    'applinks/lib/lodash'
], function(
    _
) {

    function checkIntValue(value, desc) {
        if (_.isUndefined(value)) {
            return 0;
        } else if (typeof value !== 'number' || isNaN(value)) {
            throw new Error(desc + ': expected a number, was: <' + value + '>');
        } else {
            return Math.floor(value);
        }
    }

    function checkVersionObject(object, desc) {
        if (!object || !(object instanceof Version)) {
            throw new Error(desc + ': expected a Version object, was: <' + object + '>');
        }
        return object;
    }

    function compareInt(intOne, intTwo) {
        return intOne > intTwo ? 1 : intOne == intTwo ? 0 : -1;
    }

    /**
     * Constructs a version object that contains version information and can be compared with other version objects.
     *
     * @param major major version component
     * @param minor minor version component
     * @param bugfix bugfix version component
     * @constructor
     */
    function Version(major, minor, bugfix) {
        this.major = checkIntValue(major, 'major');
        this.minor = checkIntValue(minor, 'minor');
        this.bugfix = checkIntValue(bugfix, 'bugfix');
    }

    /**
     * Constructs a Version by parsing a version string.
     *
     * @param versionString version string to parse, expected to be in the form of <major>.<minor>.<bugfix>
     * @param versionDesc what version does the `versionString` represent
     */
    Version.parse = function(versionString, versionDesc) {
        versionDesc = versionDesc || 'versionString';
        if (!versionString) {
            throw new Error(versionDesc + ': expected a non-empty string');
        }
        var versionSplit = versionString.split('.');
        if (versionSplit.length !== 3) {
            throw new Error(versionDesc + ': expected <major>.<minor>.<bugfix> string, was: <' + versionString + '>');
        }
        return new Version(parseInt(versionSplit[0]), parseInt(versionSplit[1]), parseInt(versionSplit[2]));
    };

    /**
     * Comparator function to sort Version objects.
     *
     * @param versionOne first version object
     * @param versionTwo second version object
     * @returns {Number} comparison result
     * @see Version.compareTo(that)
     */
    Version.comparator = function(versionOne, versionTwo) {
        return checkVersionObject(versionOne, 'versionOne').compareTo(checkVersionObject(versionTwo, 'versionTwo'));
    };

    /**
     * Return -1, 0 or 1 as this Version object represents a version less than, equal to, or greater than `that`.
     *
     * @param that the other version to compare to
     * @returns {Number} comparison result
     */
    Version.prototype.compareTo = function(that) {
        checkVersionObject(that, 'that');
        var majorResult = compareInt(this.major, that.major);
        if (majorResult != 0) {
            return majorResult;
        }
        var minorResult = compareInt(this.minor, that.minor);
        if (minorResult != 0) {
            return minorResult;
        }
        return compareInt(this.bugfix, that.bugfix);
    };

    Version.prototype.greaterThan = function(that) {
        return this.compareTo(that) > 0;
    };

    Version.prototype.greaterThanOrEqual = function(that) {
        return this.compareTo(that) >= 0;
    };

    Version.prototype.lessThan = function(that) {
        return this.compareTo(that) < 0;
    };

    Version.prototype.lessThanOrEqual = function(that) {
        return this.compareTo(that) <= 0;
    };

    Version.prototype.equals = function(that) {
        return this.compareTo(that) == 0;
    };

    Version.prototype.toMinor = function() {
        return new Version(this.major, this.minor);
    };

    Version.prototype.toMajor = function() {
        return new Version(this.major);
    };

    Version.prototype.toString = function() {
        return this.major + '.' + this.minor + '.' + this.bugfix;
    };

    return Version;
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-version-details.js' */
define('applinks/lib/aui-version-details', [
    'applinks/lib/version'
], function(
    Version
) {
    // minimum 5.8.x and 5.9.x AUI versions - lower versions ship with bugs that break some of the Applinks functionality
    var MINIMUM_58_VERSION = new Version(5, 8, 15);
    var MINIMUM_59_VERSION = new Version(5, 9, 13);
    var VERSION_58 = new Version(5, 8);
    var VERSION_59 = new Version(5, 9);

    function checkVersion(version) {
        // must be >= the minimum required 5.8.x version
        if (version.lessThan(MINIMUM_58_VERSION)) {
            throw new Error('AUI version ' + version + ' is too low, you need to upgrade AUI to ' + MINIMUM_58_VERSION +
                ' or ' + MINIMUM_59_VERSION + ' for Applinks to work');
        }
        // if 5.9, must be >= the minimum required 5.9.x version
        if (version.greaterThanOrEqual(VERSION_59) && version.lessThan(MINIMUM_59_VERSION)) {
            throw new Error('AUI version ' + version + ' is too low, you need to upgrade AUI to ' + MINIMUM_59_VERSION +
                ' for Applinks to work');
        }
    }

    function addVersionDetails(AJS) {
        var ajsVersion = Version.parse(AJS.version, 'AUI version');
        checkVersion(ajsVersion);

        AJS.versionDetails = ajsVersion;
        AJS.versionDetails.is58 = ajsVersion.toMinor().equals(VERSION_58);
        AJS.versionDetails.is59 = ajsVersion.toMinor().equals(VERSION_59);

        return AJS;
    }

    return  {
        /**
         * Check AUI version for compatibility with Applinks and add `versionDetails` field.
         */
        addVersionDetails: addVersionDetails
    };
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/console-amd.js' */
define('applinks/lib/console', function() {
    return window.console;
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/jquery-amd.js' */
define('applinks/lib/jquery', function() {
   return window.jQuery;
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-amd.js' */
define('applinks/lib/aui', [
    'applinks/lib/window',
    'applinks/lib/aui-version-details'
], function(
    window,
    VersionDetails
) {
    var AJS = window.AJS;
    if (!AJS) {
        throw new Error('window.AJS not defined, cannot load AUI');
    }

    return VersionDetails.addVersionDetails(AJS);
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/wrm-amd.js' */
/**
 * Define Web resource manager as an AMD dependency. This should also be present in apps using Atlassian Plugins Web
 * Resources framework.
 */
define('applinks/lib/wrm', function() {
   return window.WRM;
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/skate-amd.js' */
define('applinks/lib/skate', function() {
   // window.skate is not exposed as a global from AUI 5.9, this will return undefined with that version or later
   return window.skate;
});
;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/window-amd.js' */
/**
 * Define window as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/window', function() {
    return window;
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-public', location = 'js/applinks.public.js' */
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

/**
 * Support code to provide appropriate behavior for HTML elements created by
 * ApplicationLinkUIService; also, public functions that can be used from JS code
 * in other plugins to create the same kinds of HTML elements, in case it's not
 * convenient to do so on the back end.
 */
var ApplinksUtils = ApplinksUtils || (function($) {

    var pendingRequests = {},
        pendingConfirmations = {};
    
    // Provide a well-defined name for the authentication window/tab we create with
    // window.open() - may be useful in debugging, and is used by integration tests.
    // Note, IE8 does not allow this name to contain hyphens or periods.
    var authWindowName = "com_atlassian_applinks_authentication";

    /**
     * This function is basically duplicated from messages.js in AJS, because some products
     * only provide a stub version of messages.js within gadgets.
     */
    function makeCloseable(message) {
        var $icon = $('<span class="aui-icon icon-close"></span>').click(function () {
            message.trigger("messageClose", [this]).remove();
        });
        message.append($icon);
    }

    /**
     * Helper function to get the DOM object of the current iframe.
     * @return {Object} a DOM object, or null if we are not in an iframe
     */
    function getCurrentIframe() {
        if (window === parent.window) {
            return null;
        }
        var ret = null,
            myFrameWindow = window;
        $('iframe', parent.document.body).each(function(index) {
            if (this.contentWindow.window === myFrameWindow) {
                ret = this;
            }
        });
        return ret;
    }

    /**
     * Event handler that is called by the applinks authorization completion servlet.  It triggers
     * the completion function for any pending authorization request that matches the given applink
     * ID, and also redispatches the event to any other iframes in the current window.
     * @param {Object} eventObject  JQuery event object
     * @param {string} applinkId  application link ID
     * @param {boolean} success  true if the request was approved
     * @param {string} authAdminUri  URI of the "OAuth Access Tokens" page (will be displayed in the
     *   confirmation message)
     * @param {boolean} wasRedispatched  true if the event has been retriggered from another frame
     * @param {Object} [messages]
     *      'userError': an error message relevant to a non-admin user,
     *      'adminError': an error message relevant to an admin user,
     *      'adminErrorDetails': a list of details related to the admin message if there is one 
     */
    function onAuthCompletion(eventObject, applinkId, success, authAdminUri, wasRedispatched, messages) {
        if (applinkId in pendingRequests) {
            var request = pendingRequests[applinkId];
            if (success) {
                request.authAdminUri = authAdminUri;
                delete pendingRequests[applinkId];
            }
            completeAuthRequest(request, success, messages);
        }
        if (!wasRedispatched && parent && (parent !== window)) {
            var myWindow = window;
            $('iframe', parent.document.body).each(function(index, frame) {
                var scope = frame.contentWindow;
                if (scope !== myWindow) {
                    if (scope.AJS && scope.AJS.$) {
                        scope.AJS.$(scope.document).trigger('applinks.auth.completion',
                            [applinkId, success, authAdminUri, true, messages]);
                    }
                }
            });
        }
    }
      
    /**
     * Fires the appropriate event when the authorization flow has completed.  On approval, reloads
     * the window/frame unless an event handler calls {@code preventDefault()} on the event.
     * @param {Object} applinkProperties  has the same properties passed to {@link createAuthRequestBanner}
     * @param {boolean} approved  true if the request was approved
     * @param {Object} [messages]
     *      'userError': an error message relevant to a non-admin user,
     *      'adminError': an error message relevant to an admin user,
     *      'adminErrorDetails': a list of details related to the admin message if there is one
     */
    function completeAuthRequest(applinkProperties, approved, messages) {
        var $scope = $(document);
        if (approved) {
            // Temporarily bind an event handler so our handler runs after any other handlers that
            // may exist.
            var defaultApprovalHandler = function (eventObject) {
                if (eventObject.isDefaultPrevented()) {
                    // Don't reload, just show the confirmation message
                    showAuthConfirmationBanner(applinkProperties);
                } else {
                    // Reload, but first save a reminder to make us show a confirmation message
                    // after we've reloaded.
                    registerPendingConfirmation(applinkProperties);
                    document.location.reload(true);
                }
            };
            $scope.bind('applinks.auth.approved', defaultApprovalHandler);
            $scope.trigger('applinks.auth.approved', applinkProperties);
            $scope.unbind('applinks.auth.approved', defaultApprovalHandler);
        } else {
            // There's no default behavior for a request that was denied, but fire an event in case
            // anyone is interested.
            $scope.trigger('applinks.auth.denied', [applinkProperties, messages]);
        }
    }

    /**
     * Used internally to make the applink support code aware of a "please authenticate" message
     * element that has been displayed, by wiring the appropriate event handlers and adding the
     * applink's properties to an internal list of authentication requests.
     * @param $element {Object}  a JQuery object
     * @param applinkProperties {Object}  has the same properties passed to {@link createAuthRequestBanner}
     */
    function initAuthRequest($element, applinkProperties) {
        var $authLink = $element.find("a.applink-authenticate");
        
        if ($element.hasClass('aui-message')) {
            // Workaround for incomplete AJS availability in some products
            makeCloseable($element);
        }
        
        $authLink.click(function(e) {
            window.open(applinkProperties.authUri, authWindowName);
            e.preventDefault();
        });
        
        pendingRequests[applinkProperties.id] = applinkProperties;
        
        return $element;
    }
    
    /**
     * Used internally to ensure that {@link initAuthRequest} is called for every
     * authorisation request element that was generated as HTML from the back end,
     * rather than by calling {@link createAuthRequestBanner} or
     * {@link createAuthRequestInline}.  The parameters of the request are passed
     * from the back end in hidden input elements.
     */
    function initAuthRequestElements() {
        $('.applinks-auth-request').each(function(index) {
            var $e = $(this),
                applinkId = $e.find(".applinkId").val(),
                appName = $e.find(".appName").val(),
                appUri = $e.find(".appUri").val(),
                authUri = $e.find(".authUri").val();
            // Ignore request banners that have already been created (by {@link createAuthRequestBanner} or
            // {@link createAuthRequestInline})
            if (applinkId && authUri) {
                initAuthRequest($e, {
                    id: applinkId,
                    appName: appName,
                    appUri: appUri,
                    authUri: authUri});
            }
        });
    }

    /**
     * Builds a "please authenticate" banner (in a standard AUI message box) containing a link that
     * that will start authorization for an application link that needs credentials.
     * <p>
     * On completion of the authorization flow, a JQuery event will be triggered on the document,
     * with the event type "applinks.auth.approved" or "applinks.auth.denied", and an additional
     * parameter equal to the {@code applinkProperties} parameter that was passed here.
     * <p>
     * If authorization is granted (event "applinks.auth.approved"), the default behavior is for the
     * window or frame to be reloaded; also, a confirmation banner will be displayed either within
     * a &lt;div&gt; element of class "applinks-auth-confirmation-container" if one exists, or at the top of
     * the document otherwise.  Reloading of the window/frame can be disabled by having an event
     * handler call {@code preventDefault()} on the event.
     *
     * @param {Object} applinkProperties contains the following application link properties:
     *   {@code id}: the application link identifier;
     *   {@code appName}: the name of the remote application;
     *   {@code appUri}: the base URI of the remote application;
     *   {@code authUri}: the URI for starting the authorization flow
     * @return {Object} a JQuery object referring to a {@code <div>} element, which has not yet
     *   been inserted anywhere on the page; its class is "applinks-auth-request"
     */
    function createAuthRequestBanner(applinkProperties) {
        var $banner = $('<div class="aui-message warning closeable applinks-auth-request"><p><span class="aui-icon icon-applinks-key"></span></p></div>');
        // Note that we can't just use the AJS.messages.warning() function, because it will put a
        // standard warning icon in the message box and we want a custom icon.
        $banner.append(AJS.format("Additional information may be available, please \u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eauthenticate\u003c/a\u003e with \u003ca href=\"{1}\"\u003e{2}\u003c/a\u003e.",
                                        AJS.escapeHtml(applinkProperties.authUri),
                                        AJS.escapeHtml(applinkProperties.appUri),
                                        AJS.escapeHtml(applinkProperties.appName)));
        initAuthRequest($banner, applinkProperties);
        return $banner;
    }

    /**
     * Builds a "please authenticate" message suitable for displaying inline (in a span
     * with the class "applinks-auth-request"), containing a link that will start authorization.
     * This behaves identically to {@link createAuthRequestBanner}, except it creates a {@code <span>}
     * element instead of a {@code div} and also allows additional text to be displayed.
     * 
     * @param {string} content  optional HTML content to be displayed within the inline
     *   element (e.g. a description of the entity for which authorization is required);
     *   will not be escaped; may be null
     * @param {Object} applinkProperties  see {@link createAuthRequestBanner}
     * @return {Object} a JQuery object referring to a {@code <span>} element, which has not yet
     *   been inserted anywhere on the page; its class is "applinks-auth-request"
     */
    function createAuthRequestInline(content, applinkProperties) {
        var $lozenge = $('<span class="applinks-auth-request"></span>'),
            $contentSpan = $('<span class="applinks-request-description"></span>'),
            message = AJS.format("\u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eAuthenticate\u003c/a\u003e to see additional information.", AJS.escapeHtml(applinkProperties.authUri));
        if (content) {
            $contentSpan.append(content);
            $contentSpan.append(" - ");
        }
        $contentSpan.append(message);
        $lozenge.append($contentSpan);
        initAuthRequest($lozenge, applinkProperties);
        return $lozenge;
    }

    /**
     * Used internally to remember the fact that we have just completed authorizing an
     * applink and are about to refresh the iframe associated with it, so that we can
     * display a confirmation message after the iframe is refreshed.
     */
    function registerPendingConfirmation(applinkProperties) {
        var frame = getCurrentIframe();
        if ((!frame) || (!frame.id)) {
            return;
        }
        if (! parent.ApplinksUtils.pendingConfirmations) {
            parent.ApplinksUtils.pendingConfirmations = { };
        }
        if (!(frame.id in parent.ApplinksUtils.pendingConfirmations)) {
            parent.ApplinksUtils.pendingConfirmations[frame.id] = [];
        }
        parent.ApplinksUtils.pendingConfirmations[frame.id].push(applinkProperties);
        return;
    }

    /**
     * Called after a page load, to see if we've been refreshed due to a successful authorization.
     * If we're in an iframe, a variable will have been set on the parent window to tell us that
     * this happened.  If so, insert a confirmation banner at the top of the iframe.
     */
    function checkForPendingConfirmations() {
        if (parent && parent.ApplinksUtils && parent.ApplinksUtils.pendingConfirmations) {
            var myFrame = getCurrentIframe();
            if (myFrame) {
                if (myFrame.id in parent.ApplinksUtils.pendingConfirmations) {
                    var pendingConfirmations = parent.ApplinksUtils.pendingConfirmations[myFrame.id];
                    delete parent.ApplinksUtils.pendingConfirmations[myFrame.id];
                    for (var i = 0, n = pendingConfirmations.length; i < n; i++) {
                        showAuthConfirmationBanner(pendingConfirmations[i]);
                    }
                }
            }
        }
    }

    /**
     * Displays a confirmation banner.  If an element exists with the class
     * "applinks-auth-confirmation-contianer", it is inserted there, otherwise at the top of the
     * document.
     */
    function showAuthConfirmationBanner(applinkProperties) {
        var scope = $(document),
            banner = $('<div class="aui-message success closeable applinks-auth-confirmation"><p><span class="aui-icon icon-applinks-key-success"></span></p></div>'),
            container = scope.find('div.applinks-auth-confirmation-container');
        if (!container.length) {
            container = scope.find('body');
        }
        banner.append(AJS.format("This application is now using \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e\'\'s credentials. Revoke access at any time by going to \u003ca href=\"{2}\"\u003eOAuth access tokens\u003c/a\u003e.",
                                        AJS.escapeHtml(applinkProperties.appUri),
                                        AJS.escapeHtml(applinkProperties.appName),
                                        AJS.escapeHtml(applinkProperties.authAdminUri)));
        makeCloseable(banner);
        container.prepend(banner);
        setTimeout(function() {
            banner.fadeOut(1000, function() {
                $(this).remove();
            });
        }, 5000);
    }
    
    /**
     * Initialization function to be called once at document ready time.
     */
    function setup() {
        // If we're in an iframe, set up an object in the parent window that we can use to
        // keep track of state even if the iframe is refreshed.
        if (parent && !(parent === window)) {
            if (! parent.ApplinksUtils) {
                parent.ApplinksUtils = { };
            }
        }
        
        $(document).bind('applinks.auth.completion', onAuthCompletion);

        initAuthRequestElements();
        checkForPendingConfirmations();
    }

    $(document).ready(setup);
    
    return {      
        createAuthRequestBanner: createAuthRequestBanner,
        createAuthRequestInline: createAuthRequestInline
    };
})(AJS.$);
;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/events.js' */
define('applinks/common/events', [
    'applinks/lib/jquery',
    'applinks/lib/lodash',
    'applinks/lib/window',
    'applinks/common/preconditions'
], function(
    $,
    _,
    window,
    Preconditions
) {
    var PREFIX = 'applinks.event.';

    function applinksEvent(eventId) {
        return PREFIX + Preconditions.nonEmptyString(eventId, 'eventId');
    }

    /**
     * Provides common Applinks event IDs and a simple event system facade API. This is a preferred way to subscribe to
     * and raise Applinks-specific events as it does not depend on a specific event bus or event target (such as
     * `document`), as well as facilitates unit testing.
     */
    return {
        PREREADY: applinksEvent('preready'),
        READY: applinksEvent('ready'),

        /**
         * Raised when applinks list is first loaded
         */
        APPLINKS_LOADED: applinksEvent('loaded'),
        /**
         * Raised when applinks list is updated
         */
        APPLINKS_UPDATED: applinksEvent('updated'),

        /**
         * This event is only raised when linking to Atlassian applications
         * Can be consumed by other plugins
         */
        NEW_APPLINK_CREATED: applinksEvent('created'),

        // legacy events
        Legacy: {
            MESSAGE_BOX_DISPLAYED: applinksEvent('message-box-displayed')
        },

        applinksEvent: applinksEvent,

        on: function(events, handler, context) {
            var handlerWithContext = context ? _.bind(handler, context) : handler;
            $(window.document).on(events, handlerWithContext);
        },

        off: function(events, handler) {
            $(window.document).off(events, handler);
        },

        trigger: function(event, data) {
            $(window.document).trigger(event, data);
        }
    }
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/i18n.js' */
define('applinks/common/i18n', [
    'applinks/lib/lodash',
    'applinks/lib/jquery',
    'applinks/lib/wrm',
    'applinks/common/modules',
    'applinks/common/preconditions',
    'applinks/common/products'
], function(
    _,
    $,
    WRM,
    ApplinksModules,
    Preconditions,
    ApplinksProducts
) {
    var getAllEntityTypes = _.memoize(function() {
        var val = WRM.data.claim(ApplinksModules.dataFqn(ApplinksModules.COMMON_EXPORTED, 'entity-types'));
        return Preconditions.hasValue(val, 'entity-types', 'Entity Types data not found');
    });

    var getAllAuthTypes = _.memoize(function() {
        var val = WRM.data.claim(ApplinksModules.dataFqn(ApplinksModules.COMMON_EXPORTED, 'authentication-types'));
        return Preconditions.hasValue(val, 'authentication-types', 'Authentication Types data not found');
    });

    return {
        
        /**
         * @param typeId ID of the application type to resolve
         * @returns {string} resolved i18n-ed type name, or the original `typeId` if there is no mapping
         */
        getApplicationTypeName: function(typeId) {
            return ApplinksProducts.getTypeName(typeId);
        },

        /**
         * @param typeId ID of the entity type to resolve
         * @returns {string} resolved i18n-ed singular entity type name, or the original `typeId` if there is no mapping
         */
        getEntityTypeName: function(typeId) {
            return getAllEntityTypes().singular[typeId] || typeId;
        },

        /**
         * @param typeId ID of the entity type to resolve
         * @returns {string} resolved i18n-ed plural entity type name, or the original `typeId` if there is no mapping
         */
        getPluralizedEntityTypeName: function(typeId) {
            return getAllEntityTypes().plural[typeId] || typeId;
        },

        /**
         * @param type ID of the authentication type to resolve (usually in a form of full class name)
         * @returns {string} resolved i18n-ed authentication type name, or the original `type` if there is no mapping
         */
        getAuthenticationTypeName: function(type) {
            return getAllAuthTypes()[type] || type;
        }
    };
});
;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/modules.js' */
/**
 * Applinks plugin modules core constants and definitions.
 */
define('applinks/common/modules', function() {
    return {
        /**
         * Applinks plugin key
         */
        PLUGIN_KEY: 'com.atlassian.applinks.applinks-plugin',

        // key web resource keys
        COMMON_EXPORTED: 'applinks-common-exported',
        COMMON: 'applinks-common',

        /**
         * Fully qualifies a module name using the plugin key.
         *
         * @param {string} moduleName module name to qualify
         * @returns {string} fully qualified name
         */
        fqn: function(moduleName) {
            return this.PLUGIN_KEY + ':' + moduleName;
        },

        /**
         * Fully qualifies web-resource data using module name and data key.
         *
         * @param {string} moduleName module name
         * @param {string} dataKey key of the data element
         * @returns {string} fully qualified name
         */
        dataFqn: function(moduleName, dataKey) {
            return this.fqn(moduleName) + '.' + dataKey;
        }
    };
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/preconditions.js' */
define('applinks/common/preconditions', [
    'applinks/lib/lodash'
], function(
    _
) {
    function nonEmptyString(value, varName, customMessage) {
        return _checkArgument(
            _.isString(value) && !_.isEmpty(value),
            customMessage,
            _withVarName(varName, ': expected a non-empty string, was: <' + value + '>'),
            value
        );
    }

    function isFunction(value, varName, customMessage) {
        return _checkArgument(
            _.isFunction(value),
            customMessage,
            _withVarName(varName, ': expected a function, was: ' + value),
            value
        );
    }

    function isArray(value, varName, customMessage) {
        return _checkArgument(
            _.isArray(value),
            customMessage,
            _withVarName(varName, ': expected an array, was: ' + value),
            value
        );
    }

    function hasValue(value, varName, customMessage) {
        return _checkArgument(
            value,
            customMessage,
            _withVarName(varName, ': expected a value'),
            value
        );
    }

    function _checkArgument(test, message, defaultMessage, actualValue) {
        var actualMessage = message ? message : defaultMessage;
        if (!test) {
            throw new Error(actualMessage)
        }
        return actualValue || test;
    }

    function _withVarName(varName, msg) {
        return (varName || '[unspecified]') + msg;
    }

    return {
        checkArgument: _.partial(_checkArgument, _, _, '', _),
        nonEmptyString: nonEmptyString,
        isArray: isArray,
        isFunction: isFunction,
        hasValue: hasValue
    };
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/products.js' */
define('applinks/common/products', [
    'applinks/lib/lodash',
    'applinks/lib/wrm',
    'applinks/common/modules',
    'applinks/common/preconditions'
], function(
    _,
    WRM,
    ApplinksModules,
    Preconditions
) {
    var getAllTypes = _.memoize(function() {
        var val = WRM.data.claim(ApplinksModules.dataFqn(ApplinksModules.COMMON_EXPORTED, 'applinks-types'));
        return Preconditions.hasValue(val, 'types', 'Application Types data not found');
    });

    /**
     * @param typeId ID of the application type to resolve
     * @returns {string} resolved i18n-ed type name, or the original `typeId` if there is no mapping
     */
    function getTypeName(typeId) {
        return getAllTypes()[typeId] || typeId;
    }

    /**
     * Map of Atlassian product keys to application type IDs
     */
    return {
        BAMBOO: 'bamboo',
        BITBUCKET: 'stash', // special case, see java class com.atlassian.applinks.application.bitbucket.BitbucketApplicationTypeImpl.TYPE_ID
        CONFLUENCE: 'confluence',
        FECRU: 'fecru',
        JIRA: 'jira',
        REFAPP: 'refapp',
        STASH: 'stash',
        getTypeName: getTypeName
    };
});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/rest-service.js' */
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

(function(AppLinksI18n, ApplinksEvents) {
    /**
     * The triggering of AppLinks initialisation can be customised by setting a function on
     * AJS.AppLinksInitialisationBinder. The binder function should take a single argument which is a zero-arg function to
     * run and should execute this function when appropriate.
     */
    AppLinks = AJS.$.extend(window.AppLinks || {}, {
        Event: {
            NAMESPACE: 'applinks'
        },
        I18n: AppLinksI18n
    });
    AppLinks.Event = AJS.$.extend(window.AppLinks.Event, ApplinksEvents);

    // Is there an overridden initialisation binder?
    if (AJS.AppLinksInitialisationBinder) {
        AppLinks.initialisationBinder = AJS.AppLinksInitialisationBinder;
    } else {
        // The default bind if no specific binder is specified
        AppLinks.initialisationBinder = function(f) {
            AJS.toInit(f);
        }
    }

    AppLinks.initialisationBinder(function() {
        //$ is passed in by AJS.toInit but initilizationBinder can be over loaded by products so that $ is unsafe.
        var $ = AJS.$;
        AppLinks = $.extend(window.AppLinks || {}, {
            failure: function(data) {
                if (data.status == 401) {
                    window.location.reload();
                } else {
                    var message = AppLinks.parseError(data);
                    var errorDivs = $('.page-error');

                    if (errorDivs.length > 0) {
                        errorDivs.html(message).fadeIn('slow');
                    } else {
                        alert('REST request failed: ' + message);
                    }
                }
            },
            jsonRequest: function(url, type, data, success, error) {
                if (data) {
                    data = JSON.stringify(data);
                }
                $(".page-error").fadeOut('fast');
                if (!error) error = AppLinks.failure;
                return jQuery.ajax({
                    url: url,
                    type: type,
                    data: data,
                    dataType: 'json',
                    contentType: "application/json; charset=utf-8",
                    cache: false,
                    success: success,
                    error: error,
                    jsonp: false
                });
            },
            xmlRequest: function(url, type, data, success, error) {
                if (data) {
                    data = JSON.stringify(data);
                }
                $(".page-error").fadeOut('fast');
                if (!error) error = AppLinks.failure;
                return jQuery.ajax({
                    url: url,
                    type: type,
                    data: data,
                    dataType: 'xml',
                    contentType: "application/xml; charset=utf-8",
                    cache: false,
                    success: success,
                    error: error
                });
            },
            parseError: function(errorData) {
                var error;
                try {
                    error = JSON.parse(errorData.responseText);
                } catch (e) {
                    if (errorData.statusText) {
                        return error = errorData.statusText;
                    } else {
                        return errorData;
                    }
                }
                if (error.message) {
                    if ($.isArray(error.message)) {
                        return error.message.join(' ');
                    }
                    return error.message;
                }
                else {
                    return errorData.statusText;
                }
            },
            put: function(url, data, success, error) {
                return AppLinks.jsonRequest(url, 'PUT', data, success, error);
            },
            post: function(url, data, success, error) {
                return AppLinks.jsonRequest(url, 'POST', data, success, error);
            },
            update: function(data, success, error) {
                AppLinks.put(AppLinks.self_link(data), data, success, error);
            },
            get: function(url, success, error) {
                return AppLinks.jsonRequest(url, 'GET', null, success, error);
            },
            getXml: function(url, success, error) {
                return AppLinks.xmlRequest(url, 'GET', null, success, error);
            },
            self_link: function(item) {
                for (var i = 0, _i = item.link.length; i < _i; i++) {
                    var link = item.link[i];
                    if (link.rel == "self") return link.href;
                }

                throw "No self-link found";
            },
            del: function(urlOrObject, success, error) {
                var url;
                if (typeof(urlOrObject) == 'string') url = urlOrObject;
                else url = AppLinks.self_link(urlOrObject);
                return AppLinks.jsonRequest(url, 'DELETE', null, success, error);
            },
            SPI: $.extend({}, {
                API_VERSION: "1.0",
                REST_RESOURCE_URL: AJS.contextPath() + "/rest/applinks/",
                BASE_URL: AJS.contextPath() + "/rest/applinks/1.0",
                OAUTH_REST_RESOURCE_URL: AJS.contextPath() + "/rest/applinks-oauth/",
                OAUTH_BASE_URL: AJS.contextPath() + "/rest/applinks-oauth/1.0",

                /**
                 * Update the API version and associated urls.
                 * @param version
                 */
                setApiVersion: function(version){
                    AppLinks.SPI.API_VERSION = version;
                    AppLinks.SPI.setBaseUrl(AppLinks.SPI.REST_RESOURCE_URL + AppLinks.SPI.API_VERSION);
                },
                setBaseUrl: function(url){
                    AppLinks.SPI.BASE_URL = url;
                },
                setOAuthBaseUrl: function(url){
                    AppLinks.SPI.OAUTH_BASE_URL = url;
                },
                /**
                 * Build a base URL for rest calls using the specified baseUrl.
                 * @param baseUrl
                 * @returns {string}
                 */
                getRemoteRestBaseUrl: function(baseUrl) {
                    return baseUrl + "/rest/applinks/" + AppLinks.SPI.API_VERSION;
                },
                /**
                 * Build a base URL for plugin servlet calls using the specified baseUrl.
                 * @param baseUrl
                 * @returns {string}
                 */
                getRemotePluginServletBaseUrl: function(baseUrl) {
                    return baseUrl + "/plugins/servlet";
                },
                getAllLinks: function(success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink";
                    return AppLinks.get(url, success, failure);
                },
                getAllLinksWithAuthInfo: function(success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/listApplicationlinks";
                    return AppLinks.get(url, success, failure);
                },
                getApplicationLinkState: function(id, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/listApplicationlinkstates/id/" + id;
                    return AppLinks.get(url, success, failure);
                },
                getLinksOfType: function(typeId, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink/type/" + typeId;
                    return AppLinks.get(url, success, failure);
                },
                tryToFetchManifest: function(url, success, failure) {
                    var restUrl = AppLinks.SPI.BASE_URL + '/applicationlinkForm/manifest.json?url=' + encodeURIComponent(url);
                    return AppLinks.get(restUrl, success, failure);
                },
                getManifestFor: function(id, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/manifest/' + id + ".json";
                    return AppLinks.get(url, success, failure);
                },
                getLocalManifest: function(success, failure){
                    var url = AppLinks.SPI.BASE_URL + '/manifest.json';
                    return AppLinks.get(url, success, failure);
                },
                /**
                 * Attempt to get the Manifest of the remote application, via a direct REST call.
                 * Requires CORS enabled on the REST resource.
                 * @param url
                 * @param success
                 * @param failure
                 * @returns {*}
                 */
                getRemoteManifest: function(remoteBaseUrl, success, failure){
                    var remoteManifestUrl = AppLinks.SPI.getRemoteRestBaseUrl(remoteBaseUrl) + '/manifest.json';
                    return AppLinks.get(remoteManifestUrl, success, failure);
                },
                /**
                 * Attempt to get the OAuth Consumer Info of the remote application, via a direct call.
                 * Requires CORS enabled on the REST resource.
                 * @param url
                 * @param success
                 * @param failure
                 * @returns {*}
                 */
                getRemoteOAuthConsumerInfo: function(remoteBaseUrl, success, failure){
                    var remoteManifestUrl = AppLinks.SPI.getRemotePluginServletBaseUrl(remoteBaseUrl) + '/oauth/consumer-info';
                    return AppLinks.getXml(remoteManifestUrl, success, failure);
                },
                getApplinkStatus: function (applinkId, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/status/' + applinkId;
                    return AppLinks.get(url, success, failure);
                },
                createStaticUrlAppLink: function(applicationType, success, failure) {
                    var restUrl = AppLinks.SPI.BASE_URL + '/applicationlinkForm/createStaticUrlAppLink?typeId=' + applicationType;
                    return AppLinks.post(restUrl, null, success, failure);
                },
                createLink: function(applicationLink, username, password, createTwoWayLink, customRpcUrl, rpcUrl, configFormValues, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlinkForm/createAppLink';
                    var data = {
                        applicationLink: applicationLink,
                        username: username,
                        password: password,
                        createTwoWayLink: createTwoWayLink,
                        customRpcURL: customRpcUrl,
                        rpcUrl: rpcUrl,
                        configFormValues: configFormValues
                    };
                    return AppLinks.post(url, data, success, failure);
                },
                verifyTwoWayLinkDetails : function (remoteUrl, rpcUrl, username, password, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlinkForm/details';
                    var data = {
                        username: username,
                        password: password,
                        remoteUrl: remoteUrl,
                        rpcUrl: rpcUrl
                    };
                    return AppLinks.post(url, data, success, failure);
                },
                getApplicationLinkInfo: function (appId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlinkInfo/id/" + appId;
                    return AppLinks.get(url, success, error);
                },
                deleteLink: function(applicationLink, reciprocate, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink/" + applicationLink.id;
                    if (reciprocate) url += "?reciprocate=true";
                    return AppLinks.del(url, success, error);
                },
                makePrimary: function(applicationLink, success) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink/primary/" + applicationLink.id;
                    return AppLinks.post(url, null, success);
                },
                relocate: function(applicationLink, newUrl, suppressWarnings, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/relocateApplicationlink/" + applicationLink.id + "?newUrl=" + encodeURIComponent(newUrl) +
                        "&nowarning=" + (suppressWarnings ? "true" : "false");
                    return AppLinks.post(url, null, success, error);
                },
                legacyUpgrade: function(applicationLink, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/upgrade/legacy/" + applicationLink.id;
                    return AppLinks.post(url, null, success, error);
                },
                ualUpgrade: function(applicationLink, body, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/upgrade/ual/" + applicationLink.id;
                    return AppLinks.post(url, body, success, error);
                },
                getEntityTypesForApplicationType: function(applicationType, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/type/entity/" + applicationType;
                    return AppLinks.get(url, success, error);
                },
                getLocalEntitiesWithLinksToApplication: function(applicationLinkId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/localEntitiesWithLinksTo/" + applicationLinkId + ".json";
                    return AppLinks.get(url, success, error);
                },
                getEntityLinksForApplication: function(applicationLinkId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entities/" + applicationLinkId + ".json";
                    AppLinks.get(url, success, error);
                },
                getEntityLinksForApplicationUsingAnonymousAccess: function(applicationLinkId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entities/anonymous/" + applicationLinkId + ".json";
                    return AppLinks.get(url, success, error);
                },
                createNonUalEntityLink: function(localType, localKey, applicationId, remoteTypeId, remoteKey, name, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/" + localType + "/" + localKey + "?reciprocate=false";
                    var data = {
                        applicationId: applicationId,
                        typeId: remoteTypeId,
                        key: remoteKey,
                        name: name,
                        isPrimary: false
                    };
                    return AppLinks.put(url, data, success, error);
                },
                createEntityLink: function(localType, localKey, entity, reciprocate, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/" + localType + "/" + localKey + "?reciprocate=";
                    url += (reciprocate ? "true" : "false");
                    return AppLinks.put(url, entity, success, failure);
                },
                getConfiguredEntityLinks: function(localType, localKey, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/primaryLinks/" + localType + "/" + localKey + ".json";
                    return AppLinks.get(url, success, error);
                },
                deleteEntityLink: function(localTypeId, localKey, entity, reciprocate, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/" + localTypeId + "/" + localKey + "?typeId=" + entity.typeId + "&key=" + encodeURIComponent(entity.key) + "&applicationId=" + entity.applicationId + "&reciprocate=" + reciprocate;
                    return AppLinks.del(url, success, error);
                },
                makePrimaryEntityLink: function(localTypeID, localKey, entity, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/primary/" + localTypeID + "/" + localKey + "?typeId=" + entity.typeId + "&key=" + encodeURIComponent(entity.key) + "&applicationId=" + entity.applicationId;
                    return AppLinks.post(url, null, success, error);
                },
                canDeleteAppLink: function(applicationId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/permission/reciprocate-application-delete/" + applicationId;
                    return AppLinks.get(url, success, error);
                },
                canDeleteEntityLink: function(localTypeId, localKey, entity, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/permission/reciprocate-entity-delete/" + entity.applicationId + "/" + localTypeId + "/" + localKey + "/" + entity.typeId + "/" + encodeURIComponent(entity.key);
                    return AppLinks.get(url, success, error);
                },
                canCreateReciprocateEntityLink: function(applicationId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/permission/reciprocate-entity-create/" + applicationId;
                    return AppLinks.get(url, success, error);
                },
                processPermissionCode: function(settings) {
                    var config = {
                        noPermission: function() {},
                        missing: function() {},
                        credentialsRequired: function(authUrl) {},
                        authenticationFailed: function(authUrl) {},
                        noAuthentication: function(authUrl) {},
                        noAuthenticationConfigured: function() {},
                        noConnection: function() {},
                        allowed: function() {},
                        unrecognisedCode: function(code) {},
                        updateView: function(message, icon, button) {}
                    };

                    if (!settings) settings = {};

                    settings = $.extend(config, settings);

                    return function(data) {
                        var url = data.url;
                        if (url && !url.startsWith("http://") && !url.startsWith("https://")) {
                            throw "url '" + url + "' is not an http/https url.";
                        }

                        var code = data.code;
                        if (code == "NO_PERMISSION") {
                            settings.noPermission();
                        } else if (code == "MISSING") {
                            settings.missing();
                        } else if (code == "CREDENTIALS_REQUIRED") {
                            settings.credentialsRequired(url);
                        } else if (code == "AUTHENTICATION_FAILED") {
                            settings.authenticationFailed(url);
                        } else if (code == "NO_AUTHENTICATION") {
                            settings.noAuthentication(url);
                        } else if (code == "NO_AUTHENTICATION_CONFIGURED") {
                            settings.noAuthenticationConfigured();
                        } else if (code == "NO_CONNECTION") {
                            settings.noConnection();
                        } else if (code == "ALLOWED") {
                            settings.allowed();
                        } else {
                            settings.unrecognisedCode(data.code);
                        }
                    };
                },
                addAuthenticationTrigger: function(target, authUrl, callbacks) {
                    if (!callbacks) {
                        callbacks = {};
                    }

                    if (typeof callbacks.onSuccess == "undefined") {
                        callbacks.onSuccess = function() {
                            location.reload();
                        }
                    }

                    if (typeof callbacks.onFailure == "undefined") {
                        callbacks.onFailure = function() {
                            return true;
                        }
                    }
                    //Unbind previous click listener, otherwise we might end up opening multiple windows.
                    $(target).unbind('click');
                    $(target).click(function() {
                        if (callbacks.before) {
                            callbacks.before();
                        }
                        AppLinks.authenticateRemoteCredentials(authUrl, callbacks.onSuccess, callbacks.onFailure);
                    });
                },
                showCreateEntityLinkSuggestion: function() {
                    return true;
                },
                getApplicationLink: function(id, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlink/' + id;
                    return AppLinks.get(url, success, failure);
                },
                createApplicationLink: function(id, name, rpcUrl, displayUrl, typeId, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlink';
                    var data = {
                        id: id,
                        name: name,
                        rpcUrl: rpcUrl,
                        displayUrl: displayUrl,
                        typeId: typeId
                    };
                    return AppLinks.put(url, data, success, failure);
                },
// TODO APLDEV-3 extract OAuth creation code into OAuth specific js files in the Oauth plugin.
                createConsumer: function(id, key, name, description, sharedSecret, publicKey, twoLOAllowed, executingTwoLOUser, twoLOImpersonationAllowed, outgoing, success, failure) {
                    var url = AppLinks.SPI.OAUTH_BASE_URL + '/applicationlink/' + id + '/authentication/consumer';
                    var data = {
                        key: key,
                        name: name,
                        description: description,
                        sharedSecret: sharedSecret,
                        publicKey: publicKey,
                        outgoing: outgoing,
                        twoLOAllowed: twoLOAllowed,
                        executingTwoLOUser: executingTwoLOUser,
                        twoLOImpersonationAllowed: twoLOImpersonationAllowed
                    };
                    return AppLinks.put(url, data, success, failure);
                },
                createConsumerAutoConfigure: function(id, twoLOAllowed, executingTwoLOUser, twoLOImpersonationAllowed, success, failure) {
                    var url = AppLinks.SPI.OAUTH_BASE_URL + '/applicationlink/' + id + '/authentication/consumer?autoConfigure=true';
                    var data = {
                        twoLOAllowed: twoLOAllowed,
                        executingTwoLOUser: executingTwoLOUser,
                        twoLOImpersonationAllowed: twoLOImpersonationAllowed
                    };
                    return AppLinks.put(url, data, success, failure);
                },
                registerProvider: function(id, provider, config, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlink/' + id + '/authentication/provider';
                    var data = {
                        config : config,
                        provider : provider
                    };
                    return AppLinks.put(url, data, success, failure);
                }
            }, (window.AppLinks && window.AppLinks.SPI) || {})
        });

        AppLinks.UI = {
            showInfoBox: function(message) {
                $('.aui-message.success').remove();
                AppLinks.UI.createMessage('success', message, 'page-info');
            },
            hideInfoBox: function() {
                $('.aui-message.success').remove();
            },
            showErrorBox: function(message) {
                AppLinks.UI.createMessage('error', message, 'page-error');
            },
            hideErrorBox: function() {
                $('.aui-message.error').remove();
            },
            showWarningBox: function(messages) {
                if ($.isArray(messages) && messages.length > 0) {
                    var ulEl = $("<ul></ul>");
                    $(messages).each(function(index) {
                        ulEl.append($("<li/>", {
                            text: messages[index]
                        }));
                    });
                    var messageEl = $('<div class="page-warning"></div>').append(ulEl);
                    AppLinks.UI.createMessage('warning', messageEl.html(), 'page-warning');
                } else {
                    AppLinks.UI.createMessage('warning', messages, 'page-warning');
                }
            },
            hideWarningBox: function() {
                $('.aui-message.warning').remove();
            },
            shortenString: function(message, maxLength) {
                if (message.length  > maxLength) {
                    message = message.substring(0, maxLength) + "...";
                }
                return message;
            },
            createMessage: function(type, message, cssClass) {
                var messageEl = $('<div class="' + cssClass + '">');
                messageEl.html(message);
                AJS.messages[type](".applinks-message-bar", {
                    title: "",
                    body: messageEl.wrap('<div></div>').parent().html(),
                    closeable: true
                });
                $(document).trigger(AppLinks.Event.Legacy.MESSAGE_BOX_DISPLAYED);
            },
            displayValidationErrorMessages: function (errorClass, rootEl, messages) {
                if ($.isArray(messages)) {
                    $(messages).each(function(i,v) {
                        var d = $('<div class="error applinks-error">');
                        d.text(v);
                        $(rootEl).find("." + errorClass).append(d);
                    });
                } else if(typeof messages != 'undefined'){
                    var d = $('<div class="error applinks-error">');
                    d.text(messages.toString());
                    $(rootEl).find("." + errorClass).append(d);
                }
            },
            displayValidationError: function(errorClass, rootEl, errorFn) {
                return function(xhr) {
                    if (xhr.status == 401) {
                        window.location.reload();
                        return;
                    }

                    $('.applinks-error').remove();
                    $('.loading').remove();
                    var respJSON = xhr.responseText;
                    var respObj = $.parseJSON(respJSON);
                    var messages = respObj.message;
                    if (typeof respObj.fields == "undefined") {
                        AppLinks.UI.displayValidationErrorMessages(errorClass, rootEl, messages);
                    } else {
                        var fields = respObj.fields;
                        $(fields).each(function(index) {
                            var d = $('<div class="error applinks-error" id="' + fields[index] + '-error">');
                            d.text(messages[index]);
                            if ($(rootEl).find('.' + fields[index]).length > 0) {
                                d.insertAfter($(rootEl).find('.' + fields[index]));
                            } else {
                                d.insertAfter($(rootEl).find('.' + errorClass).append(d));
                            }
                        });
                    }
                    $(rootEl).find('.' + errorClass).addClass("fully-populated-errors");
                    if (errorFn) {
                        errorFn();
                    }
                }
            },
            addProtocolToURL : function(url) {
                var newUrl = $.trim(url);
                var tempURL = newUrl.toLowerCase();
                var hasProtocol = false;
                if (tempURL.length >= 7) {
                    if (tempURL.substring(0,7).indexOf('http') != -1) {
                        hasProtocol = true;
                    }
                }
                //default protocol is http
                if (!hasProtocol) {
                    newUrl = 'http://' + newUrl;
                }
                return newUrl;
            },
            /**
             * Similar to the standard Javascript join() method, but nicer in that
             * it uses a different delimiter for the last node (by default "and"),
             * so that:
             * {code}
             * "1, 2 and 3" == prettyJoin(['1', '2', '3'], function(value) {return value;});
             * {code}
             *
             * @param inputArray
             * @param resolveFn
             * @param finalDelimiter
             */
            prettyJoin : function(inputArray, resolveFn, finalDelimiter) {
                if (!finalDelimiter) {
                    finalDelimiter = "and";
                }
                var maxLength = inputArray.length;
                var message = "";
                $.each(inputArray, function(index, value) {
                    if (index == (maxLength - 1) && maxLength > 1) {
                        message += " " + finalDelimiter + "  " + resolveFn(value);
                    } else {
                        message += resolveFn(value);
                        if (index + 2 < maxLength) {
                            message += ", ";
                        }
                    }
                });
                return message;
            },
            showLoadingIcon: function(element) {
                $('<span class="loading">&nbsp;</span>').insertAfter(element);
            },
            hideLoadingIcon: function(element) {
                $(element).next('.loading').remove();
            },
            findUrl: function(text) {
                var url = undefined;
                var lcText = text.toLowerCase();
                var startOfUrl = lcText.indexOf('http:');
                if (startOfUrl == -1) {
                    startOfUrl = lcText.indexOf('https:');
                }
                if (startOfUrl > -1) {
                    var endOfUrl = lcText.indexOf(' ', startOfUrl);
                    if (endOfUrl == -1) {
                        endOfUrl = lcText.length;
                    }
                    url = text.substring(startOfUrl, endOfUrl); // use _case-sensitive_ version to retrieve the actual URL
                }
                return url;
            },
            findApplicationType : function(id) {
                id = id.toLowerCase();
                if (id.indexOf("jira") != -1) {
                    return "jira";
                } else if (id.indexOf("fisheye") != -1) {
                    return "fecru";
                } else if (id.indexOf("confluence") != -1) {
                    return "confluence";
                } else if (id.indexOf("refapp") != -1) {
                    return "refapp";
                } else {
                    return undefined;
                }
            },
            escapeSelector: function(selector) {
                // based on http://samuelsjoberg.com/archive/2009/09/escape-jquery-selectors
                return selector.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g, "\\$1");
            },
            sanitiseHTML: function(input) {
                var replacements = {
                    "<": "&lt;",
                    '"': "&quot;",
                    "&": "&amp;"
                };
                return input.replace(/[<"&]/g, function(match) {
                    return replacements[match];
                });
            },
            removeCssClass: function(element, prefix) {
                $(element).removeClass( function(index, className) {
                    var classes = className.split(' ');
                    var classToRemove = "";
                    $.each(classes, function(index, value) {
                        if (value.indexOf(prefix) != -1) {
                            classToRemove = value;
                        }
                    });
                    return classToRemove;
                } );
            }
        };

        /**
         * Add jQuery event system to AppLinks.UI namespace.
         */
        (function(){
            var eventBus = $({});
            $.each(['bind', 'unbind', 'trigger'], function(i, current){
                AppLinks.UI[current] = function(){
                    return eventBus[current].apply(eventBus, arguments);
                }
            });
        })();

        $(document).trigger(AppLinks.Event.PREREADY);
        $(document).trigger(AppLinks.Event.READY);
    });
})(require('applinks/common/i18n'), require('applinks/common/events'));
;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/autocomplete.js' */
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

AJS.$(document).bind(AppLinks.Event.READY, function() {
/**
 * TODO: THIS CODE IS COPIED FROM CONFLUENCE and should be part of AUI/AJS.
 * IF AUI comes with the InputDrivenDropDown when can remove this file.
 * https://studio.atlassian.com/browse/AJS-471
 *
 * A simple cache manager that supports a
 * FIFO cache invalidation strategy.
 *
 * @class cacheManager
 * @namespace AJS.Confluence
 * @constructor
 * @param cacheSize the size of the cache before keys are invalidated
 */
AppLinks.autoComplete = {
        cacheManager : function (cacheSize) {
    var cache = {},
        cacheStack = [],
        cacheSize = cacheSize || 30;

    return {
        /**
         * Return the value stored in the cache for the given key
         * @method get
         * @param key {String}
         */
        get: function(key) {
            return cache[key];
        },
        /**
         * Put the given key, value in the cache
         * @method put
         * @param key {String}
         * @param value {Object}
         */
        put: function(key, value) {
            cache[key] = value;
            cacheStack.push(key);
            if (cacheStack.length > cacheSize) {
                delete cache[cacheStack.shift()];
            }
        },
        /**
         * Clear the cache.
         */
        clear : function() {
            cache = {};
            cacheStack = [];
        }
    };
}};


(function($){
    /**
     * Check that all items in the drop down can be displayed - show ellipses at the end of any that
     * are too long. Also remove any unused properties that the dropDown may have stored for each
     * item in the list.
     *
     * @method truncateText
     * @private
     */
    var truncateText = function (dd) {
        AJS.log("InputDrivenDropDown: truncating text");
        var width = dd.$.closest(".aui-dropdown").width(),
            rightPadding = 20; // add some padding so the ellipsis doesn't run over the edge of the box

        $("a span:not(.icon)", dd.$).each(function () {
            var $a = $(this),
                elpss = AJS("var", "&#8230;"),
                elwidth = elpss.width(),
                isLong = false;

            $a.wrapInner($("<em>"));
            $("em", $a).each(function () {
                var $label = $(this);

                $label.show();
                if (this.offsetLeft + this.offsetWidth > width) {
                    var childNodes = this.childNodes,
                        success = false;

                    for (var j = childNodes.length - 1; j >= 0; j--) {
                        var childNode = childNodes[j],
                            truncatedChars = 1,
                            valueAttr = (childNode.nodeType == 3) ? "nodeValue" : "innerHTML",
                            nodeText = childNode[valueAttr];

                        do {
                            if (truncatedChars <= nodeText.length) {
                                childNode[valueAttr] = nodeText.substr(0, nodeText.length - truncatedChars++);
                            } else { // if we cannot fit even one character of the next word, then try truncating the node just previous to this
                                break;
                            }
                        } while (this.offsetLeft + this.offsetWidth + elwidth > width - rightPadding);

                        if (truncatedChars <= nodeText.length) {
                            // we've managed truncate part of the word and fit it in
                            success = true;
                            break;
                        }
                    }

                    if (success) {
                        isLong = true;
                    } else {
                        $label.hide();
                    }
                }
            });
            if (isLong) {
                $a.append(elpss);
                this.elpss = elpss;
            }
        });
    };

    var highlightTokens = function(dd, tokens) {
        if (!tokens.length || !tokens[0]) return;

        AJS.log("InputDrivenDropDown: highlighting tokens");

        // escape regex chars .*+?|()[]{}\ first
        for (var i = 0, ii = tokens.length; i < ii; i++) {
            var token = tokens[i];
            tokens[i] = token ? token.replace(/[\.\*\+\?\|\(\)\[\]{}\\]/g, "\\$") : "";
        }

        var regex = new RegExp("(" + tokens.join("|") + ")", "gi");

        $("li a:not(.dropdown-prevent-highlight) span", dd.$).each(function() {
            var span = $(this),
                html = span.html().replace(regex, "<strong>$1</strong>");
            span.html(html);
        });
    };

    /**
     * Builds and shows the dropdown.
     *
     * @param idd the InputDrivenDropdown
     * @param dropdownData in the form { matrix, query, queryTokens }
     * @private
     */
    var makeDropdown = function (idd, dropdownData) {
        var options = idd.options,
            old_dd = idd.dd;

        if (old_dd) {
            old_dd.hide();
            old_dd.$.remove();
        }

        options.ajsDropDownOptions = options.ajsDropDownOptions || {};
        if (options.ajsDropDownOptions && !options.ajsDropDownOptions.alignment) { // default to left alignment
            options.ajsDropDownOptions.alignment = "left";
        }
        //this needs to be moved into aui
        options.ajsDropDownOptions.selectionHandler = options.ajsDropDownOptions.selectionHandler || function(e, element) {
            if(e.type != "click") {
                e.preventDefault();
                $("a",element).click();
                document.location = $("a",element).attr("href");
            }
        };

        /* Fixing an AUI bug in here:  AJS.dropdown puts the raw 'matrix[i].name' as html, without escaping it !
           The solution is to override their displayHandler
         */
        /**
         * Escape obj.name and return it
         */
        options.ajsDropDownOptions.displayHandler = function (obj) {
            return AJS.escapeHtml(obj.name);
        }

        var dd = idd.dd = new AJS.dropDown(dropdownData.matrix, options.ajsDropDownOptions)[0];

        // could move into dropdown.js in AUI
        if (options.ajsDropDownOptions && options.ajsDropDownOptions.className) {
            dd.$.addClass(options.ajsDropDownOptions.className);
        }

        // place the created drop down using the configured dropdownPlacement function
        // if there is none then use a default behaviour
        if (options.dropdownPlacement) {
            options.dropdownPlacement(dd.$);
        } else {
            AJS.log("No dropdownPlacement function specified. Appending dropdown to the body.");
            $("body").append(dd.$);
        }

        highlightTokens(dd, dropdownData.queryTokens || [dropdownData.query]);
        truncateText(dd);

        if (options.dropdownPostprocess) {
            options.dropdownPostprocess(dd.$);
        }
        dd.show(idd._effect);

        if (typeof options.onShow == "function") {
            options.onShow.call(dd, dd.$);
        }

        return dd;
    };

    /**
     * Provides a controller-agnostic object that listens for controller changes and populates a dropdown
     * via a callback. Most aspects can be customized via the options object parameter.
     * <br>
     * Options are:
     * <li>
     *   getDataAndRunCallback - (required) callback method used to provide data for the dropdown. It must take
     *                          two parameters, user input value and the callback function to execute.
     * </li>
     * <li>
     *   onShow - function to call when the drop-down is displayed
     * </li>
     * <li>
     *   dropdownPlacement - a function that will be called with the drop down and which should place it in the
     *                          correct place on the page. The supplied arguments are 1) the input that issued the
     *                          search, 2) the dropDown to be placed.
     * </li>
     * <li>
     *   ajsDropDownOptions - any options the underlying dropDown component can handle expects
     * </li>
     * <li>
     *   onDeath - callback to run when dropdown dies
     * </li>
     * @class InputDrivenDropDown
     * @namespace AJS
     */
    function InputDrivenDropDown(id, options) {
        this._effect = "appear";
        this._timer = null;

        this.id = id;
        this.options = options;
        this.inactive = false;
        this.busy = false;
        this.cacheManager = AppLinks.autoComplete.cacheManager();
    }

    /**
     * Clears the cache.
     */
    InputDrivenDropDown.prototype.clearCache = function () {
        this.cacheManager.clear();
    };

    /**
     * This method should be called when the user input for this dropdown has changed.
     * It will check the cache before fetching data (via options.getDataAndRunCallback)
     * and displaying the dropdown.
     *
     * @param value {String} the new value of the user input
     * @param force {Boolean} force a change to occur regardless of user input
     */
    InputDrivenDropDown.prototype.change = function (value, force) {
        var t = this;
        if (value != t._value || force) {
            t._value = value;
            t.busy = false;

            clearTimeout(t._timer);

            if (force || (/\S{0,}/).test(value)) {
                var cachedVal = t.cacheManager.get(value);
                if (cachedVal) {
                    makeDropdown(t, cachedVal);
                } else {
                    t.busy = true;
                    t._timer = setTimeout(function () { // delay sending a request to give the user a chance to finish typing their search term(s)
                        t.options.getDataAndRunCallback.call(t, value, t.show);
                    }, 200);
                }
            } else {
                t.dd && t.dd.hide();
            }
        }
    };

    /**
     * Gets the number of visible options in the dropdown.
     */
    InputDrivenDropDown.prototype.dropDownLength = function () {
        return this.dd.links ? this.dd.links.length : 0;
    };
    
    /**
     * Gets the specified menu item from the dropdown list.
     * 
     * @param index {Integer} the 0-based index of the dropdown option list
     */
    InputDrivenDropDown.prototype.dropDownItem = function (index) {
        return this.dropDownLength() > index ? this.dd.links[index] : null;
    };
    
    /**
     * Hides the drop down
     */
    InputDrivenDropDown.prototype.hide = function () {
        this.dd && this.dd.hide();
    };

    /**
     * Hides and removes the drop down from the DOM.
     */
    InputDrivenDropDown.prototype.remove = function () {
        var dd = this.dd;
        if (dd) {
            this.hide();
            dd.$.remove();
        }
        this.inactive = true;
        this.options.onDeath && this.options.onDeath();
    };

    /**
     * Shows the drop down with the given matrix data and query.
     * <br>
     * Matrix property should be an array of arrays, where the sub-arrays represent the different
     * search categories.
     *
     * Expected properties of category sub-array objects are:
     *  - href
     *  - name
     *  - className
     *  - html (optional, replaces href and name)
     *  - icon (optional)
     *
     *
     * @param matrix {Array} matrix to populate the drop down from
     * @param query {String} the user input string that triggered this show
     * @param queryTokens {Array} an array of strings of the query tokens. Use for highlighting search terms.
     */
    InputDrivenDropDown.prototype.show = function (matrix, query, queryTokens) {
        if (this.inactive) {
            AJS.log("Quick search abandoned before server response received, ignoring. " + this);
            return;
        }

        var dropdownData = {
            matrix: matrix,
            query: query,
            queryTokens: queryTokens
        };
        this.cacheManager.put(query, dropdownData);

        makeDropdown(this, dropdownData);
        this.busy = false;
    };

    /**
     * Returns an InputDrivenDropDown. See InputDrivenDropDown for more documentation.
     * @param options {Object} options for the InputDrivenDropDown
     * @constructor
     */
    AppLinks.inputDrivenDropdown = function (options) {
        return new InputDrivenDropDown("inputdriven-dropdown", options);
    };

})(jQuery);
});
;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-applinks-common-plugin:issue-link-applinks', location = 'js/issuelink-applinks.js' */
define("issue-link-app-links/app-links",["jquery","wrm/context-path","jira/util/formatter","aui/message","require"],function(e,n,i,t,a){function s(n,a,s){function l(e){f=u(n,e);var i=f&&f.requireCredentials;return c(i,a),{authenticationRequired:i}}function r(e,i){var t=u(n,e);t&&(t.requireCredentials=i,f&&f.id===e&&c(i,a))}function c(n,i){e(".issue-link-applinks-authentication-message",i).empty(),n?(p(e(".issue-link-applinks-authentication-message",i),i),e(".issue-link-oauth-toggle").hide(),e(".buttons-container input[type=submit]",i).attr("disabled","disabled")):(e(".issue-link-oauth-toggle").show(),e(".buttons-container input[type=submit]",i).removeAttr("disabled"))}function p(n,a){var u={onSuccess:function(){f.requireCredentials=!1,c(!1,a),s.onAuthenticationSuccessCallback&&s.onAuthenticationSuccessCallback(a,f.id,k)},onFailure:function(){s.onAuthenticationFailedCallback&&s.onAuthenticationFailedCallback(a,f.id,k)}},l=AJS.escapeHtml(f.name);if(f.authUrl){var o=e('<div class="aui-message warning closeable shadowed applinks-auth-request"><p><span class="aui-icon icon-applinks-key"></span></p></div>');o.append(i.format("Authorization required to create issue link. Please \u003ca href=\"{0}\" class=\"applink-authenticate\"\u003eauthenticate\u003c/a\u003e with \u003ca href=\"{1}\"\u003e{2}\u003c/a\u003e.",f.authUrl,f.url,l)),e("a",o).addClass("applink-authenticate"),e(".applink-authenticate",o).click(function(e){d(f.authUrl,u.onSuccess,u.onFailure),e.preventDefault()}),n.append(o)}else{var r=i.format("Unable to create a link to \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e as the application does not have any authentication configured.",f.url,l);t.warning(n,{body:r})}}function h(){o.OAuthCallback||"undefined"!=typeof window.oauthCallback||(o.OAuthCallback=function(){},o.OAuthCallback.prototype.success=function(){this.aouthWindow.close(),this.onSuccess(),delete window.oauthCallback,delete o.OAuthCallback},o.OAuthCallback.prototype.failure=function(){this.aouthWindow.close(),this.onFailure(),delete window.oauthCallback,delete o.OAuthCallback},o.OAuthCallback.prototype.show=function(e,n,i){this.onSuccess=n,this.onFailure=i,this.aouthWindow=window.open(e,"com_atlassian_applinks_authentication")},window.oauthCallback=new o.OAuthCallback)}function d(n,i,t){h(),e(".applinks-error").remove(),window.oauthCallback.show(n,i,t)}var k={},f=null;return e.extend(k,{selectServer:l,setAuthenticationRequired:r})}function u(e,n){var i;if(e.length)for(i=0;i<e.length;i++)if(e[i].id===n)return e[i];return null}function l(i,t,a){var l=i.getCurrentAppId(t),o=e(".issue-link-applinks-application-type",t).val(),r=i.getIssueId(t);e.get(n()+"/rest/issueLinkAppLink/1/appLink/info",{type:o,issueIdOrKey:r},function(n){var o,r=s(n,t,i);if(n&&n.length){var c=u(n,l);c&&(o=e(".issue-link-applinks-authentication-message",t).hasClass("required"),o&&(c.requireCredentials=!0),r.selectServer(l)),a.resolve(t,r)}else a.reject(t)})}var o=window.AppLinks;return{init:function(n,i){var t=e.Deferred(),a=0!==e(".issue-link-applinks-authentication-message",i).length;return a&&n.shouldExecute(i)&&l(n,i,t),t.promise()}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-remote-jira-js', location = 'js/issuelink-jira.js' */
require(["jquery","wrm/context-path","jira/util/events","jira/util/events/types","issue-link-app-links/app-links"],function(e,t,a,r,i){e(function(){var n={getCurrentAppId:function(t){return e("#jira-app-link",t).val()},shouldExecute:function(t){return 0!==e("#jira-app-link",t).length},getIssueId:function(t){return e("input[name=id]",t).val()}},c=function(e,a){e.length&&(e.attr("data-ajax-options.data.app-id",a),a&&""!==a?e.attr("data-ajax-options.url",t()+"/rest/remoteJiraIssueLink/1/remoteJira/picker"):e.attr("data-ajax-options.url",t()+"/rest/api/2/issue/picker"),e.trigger("updateOptions"),e.trigger("clearSelection"))},l=function(t,a){var r=e("#create-reciprocal",a);if(r.length)if(t&&""!==t){var i="true"==e("#create-reciprocal-default",a).val();i?r.attr("checked","checked"):r.removeAttr("checked"),r.removeAttr("disabled"),e("#create-reciprocal-fieldset",a).removeClass("disabled")}else r.attr("checked","checked"),r.attr("disabled","disabled"),e("#create-reciprocal-fieldset",a).addClass("disabled")};a.bind(r.NEW_PAGE_ADDED,function(t,a){var r=e("#jira-issue-keys",a);if(r.length){var s=e("#jira-app-link",a).val();c(r,s),l(s,a)}i.init(n,a).done(function(t,a){e("#jira-app-link",t).change(function(){var i=e(this).val();a.selectServer(i),c(r,i),l(i,t)})})})})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-jira-search-js', location = 'js/issuelink-jira-jqlautocomplete.js' */
define("jira-issue-link-remote-jira/issue-link-jira/jql-autocomplete",["jquery","jira/util/forms","require"],function(e,r,t){return{initialize:function(i){var l=t("jira/autocomplete/jql-autocomplete"),o=t("jira/jql/jql-parser"),n=i.fieldID,a=i.errorID,u=i.autoCompleteUrl,s=i.autoCompleteData,d=i.formSubmitFunction,c=e("#"+n),m=c.length>0&&c[0]==document.activeElement,p=s.visibleFieldNames||[],j=s.visibleFunctionNames||[],f=s.jqlReservedWords||[],q=function(){var e=t("jira/featureflags/feature-manager");return e.isFeatureEnabled("jira.jql.autoselectfirst")},C=l({fieldID:n,parser:o(f),queryDelay:.65,jqlFieldNames:p,jqlFunctionNames:j,minQueryLength:0,allowArrowCarousel:!0,autoSelectFirst:q(),errorID:a,autoCompleteUrl:u});c.unbind("keypress",r.submitOnEnter),d&&c.keypress(function(e){if(null===C.dropdownController||!C.dropdownController.displayed||C.selectedIndex<0)return!(13===e.keyCode&&!e.ctrlKey&&!e.shiftKey)||(d(),!1)}),C.buildResponseContainer(),C.parse(c.text()),C.updateColumnLineCount(),c.click(function(){C.dropdownController.hideDropdown()}),m&&c.select()}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-jira-search-js', location = 'templates/dialog/linkjiraissue-search.soy' */
// This file was automatically generated from linkjiraissue-search.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.RemoteJiraIssueSearch.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.RemoteJiraIssueSearch == 'undefined') { JIRA.Templates.RemoteJiraIssueSearch = {}; }


JIRA.Templates.RemoteJiraIssueSearch.dialog = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Find Jira issues') + '</h2><form class="aui search-form" id="remote-jira-simple-search-form" action="#" method="post"><div class="field-group"><label for="link-search-text">' + soy.$$escapeHtml('Search') + ':</label><input id="link-search-text" type="text" tabindex="0" class="text" size="50"> <input type="submit" tabindex="0" class="button" id="simple-search-panel-button" value="' + soy.$$escapeHtml('Search') + '"> <a id="advanced-search-toggle" href="#" title="' + soy.$$escapeHtml('Perform a JQL search') + '">' + soy.$$escapeHtml('Advanced Search') + '</a><span id="link-search-loading" class="icon loading throbber hidden"/></div></form><form class="aui search-form" id="remote-jira-advanced-search-form" action="#" method="post"><div class="field-group"><label for="jql-search-text">' + soy.$$escapeHtml('JQL Search') + '<span id="autocomplete-loading" class="hidden"><span class="icon loading throbber"/>' + soy.$$escapeHtml('Loading auto-complete') + '</span><span id="autocomplete-failed" class="hidden">' + soy.$$escapeHtml('(auto-complete unavailable)') + '</span></label><div id="jql-search-container"><span id="jql-search-error" class="icon jqlgood" /><div class="atlassian-autocomplete"><textarea id="jql-search-text" class="text full-width-field" tabindex="0" /></div></div><button class="aui-button aui-button-subtle search-button" id="advanced-search-panel-button" type="submit"><span class="aui-icon aui-icon-small aui-iconfont-search" title="' + soy.$$escapeHtml('Search') + '"></span></button> <a id="simple-search-toggle" href="#" title="' + soy.$$escapeHtml('Perform a plain text search') + '">' + soy.$$escapeHtml('Simple Search') + '</a><span id="link-search-loading" class="icon loading throbber hidden"/></div></form><div class="message-panel hidden"></div><div id="search-results-table" class="data-table"></div><div class="buttons-container form-footer"><div class="buttons"><button type="button" class="aui-button" id="linkjiraissue-add-selected">' + soy.$$escapeHtml('Add') + '</button><button class="aui-button aui-button-link cancel" href="#" id="remote-jira-link-cancel" title="' + soy.$$escapeHtml('Press Esc to close') + '">' + soy.$$escapeHtml('Close') + '</button></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.dialog.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.dialog';
}


JIRA.Templates.RemoteJiraIssueSearch.resultsTable = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.result.issues.length > 0) {
    output += '<table id="remote-jira-searchresult" class="aui"><thead><tr><th class="selection" ><input id="linkjiraissue-select-all" type="checkbox"/></th><th class="type">' + soy.$$escapeHtml('Type') + '</th><th class="key">' + soy.$$escapeHtml('Key') + '</th><th class="summary">' + soy.$$escapeHtml('Summary') + '</th><th class="status">' + soy.$$escapeHtml('Status') + '</th></tr></thead><tbody>';
    var issueList44 = opt_data.result.issues;
    var issueListLen44 = issueList44.length;
    for (var issueIndex44 = 0; issueIndex44 < issueListLen44; issueIndex44++) {
      var issueData44 = issueList44[issueIndex44];
      output += '<tr title="' + soy.$$escapeHtml(issueData44.key) + '"><td class="selection" data-key="' + soy.$$escapeHtml(issueData44.key) + '"><input type="checkbox"/></td><td class="type">' + JIRA.Templates.RemoteJiraIssueSearch.issueType({issueType: issueData44.fields.issuetype}) + '</td><td class="key" title="' + soy.$$escapeHtml(issueData44.key) + '">' + soy.$$escapeHtml(issueData44.key) + '</td><td class="summary" title="' + soy.$$escapeHtml(issueData44.fields.summary) + '">' + soy.$$escapeHtml(issueData44.fields.summary) + '</td><td class="status">' + JIRA.Templates.RemoteJiraIssueSearch.status({status: issueData44.fields.status}) + '</td></tr>';
    }
    output += '</tbody></table>';
  } else {
    output += '<div class="aui-message info"><span class="aui-icon icon-info"></span><p>' + soy.$$escapeHtml('Search returned no results.') + '</p></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.resultsTable.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.resultsTable';
}


JIRA.Templates.RemoteJiraIssueSearch.issueType = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.issueType.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issueType.name) + '" title="' + soy.$$escapeHtml(opt_data.issueType.name) + ' - ' + soy.$$escapeHtml(opt_data.issueType.description) + '"/>';
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.issueType.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.issueType';
}


JIRA.Templates.RemoteJiraIssueSearch.status = function(opt_data, opt_ignored) {
  return '' + JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status});
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.status.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.status';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-jira-search-js', location = 'js/remote-jira-issue-search-template.js' */
define("jira-issue-link-remote-jira/dialog/remote-jira-issue-search/templates",[],function(){"use strict";return window.JIRA.Templates.RemoteJiraIssueSearch});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-jira-search-js', location = 'js/issuelink-jira-search.js' */
require(["jquery","wrm/context-path","jira/dialog/form-dialog","jira-issue-link-remote-jira/dialog/remote-jira-issue-search/templates","jira/ajs/ajax/smart-ajax","aui/message","jira/util/formatter","wrm/require","jira-issue-link-remote-jira/issue-link-jira/jql-autocomplete"],function(e,t,r,a,i,s,l,n,o){e(function(){function c(t){var r=e("#jira-app-link").val(),a=v(r);e("#simple-search-panel-button",t).click(function(){e("#search-results-table",t).empty();var r=e("#link-search-text",t).val();return r=e.trim(r),r?j(r,t):s.info("#search-results-table",{body:"Please enter search value.",closeable:!1}),!1}),e("#advanced-search-panel-button",t).click(function(){return d(t),!1}),e("#simple-search-toggle",t).click(function(){return e("#remote-jira-simple-search-form",t).show(),e("#remote-jira-advanced-search-form",t).hide(),!1}),e("#linkjiraissue-add-selected",t).click(function(){e("table tbody tr:visible  td.selection input:checked",t).each(function(){var t=e(this).parent().data("key");e("#jira-issue-keys").trigger("selectOption",[{value:t}])}),e("#link-issue-dialog .error").hide(),x.hide(),e("#link-issue-dialog").show().trigger("multiSelectRevealed"),e("#jira-issue-keys-textarea").focus().select()}),e("#advanced-search-toggle",t).click(function(){e("#remote-jira-advanced-search-form",t).show(),e("#remote-jira-simple-search-form",t).hide();var i=e("#jql-search-text");return i.attr("jql-initialized")||(p(!0,t),n("wr!jira.webresources:jqlautocomplete",function(){a.done(function(e){e.successful?o.initialize({fieldID:"jql-search-text",errorID:"jql-search-error",autoCompleteUrl:u(r),autoCompleteData:e.data,formSubmitFunction:function(){d(t)}}):(f(!1,t),h(!0,t)),p(!1,t),i.attr("jql-initialized",1)})})),i.focus(),!1}),e("#simple-search-toggle",t).trigger("click")}function u(e){return e&&""!==e?y+"/rest/remoteJiraIssueLink/1/remoteJira/autocomplete?appId="+e:""}function d(t){e("#search-results-table",t).empty();var r=e("#jql-search-text",t).val();r=e.trim(r),r?k(r,t):s.info("#search-results-table",{body:"Please enter search value.",closeable:!1})}function m(t,r){e("#link-search-loading",r).toggleClass("hidden",!t)}function p(t,r){e("#autocomplete-loading",r).toggleClass("hidden",!t)}function h(t,r){e("#autocomplete-failed",r).toggleClass("hidden",!t)}function f(t,r){e("#jql-search-error",r).toggleClass("hidden",!t)}function j(t,r){m(!0,r);var a=e("#jira-app-link").val(),i='key = "'+t+'"',s='project = "'+t+'"',l='summary ~ "'+t+'" OR description ~ "'+t+'" OR comment ~ "'+t+'"';g(i,a).done(function(e){e.successful&&e.data.issues.length>0?(m(!1,r),b(e,r)):g(s,a).done(function(e){e.successful&&e.data.issues.length>0?(m(!1,r),b(e,r)):g(l,a).done(function(e){m(!1,r),e.successful?b(e,r):q(e)})})})}function k(t,r){m(!0,r);var a=e("#jira-app-link").val();g(t,a).done(function(e){m(!1,r),e.successful?b(e,r):400===e.status?s.warning("#search-results-table",{body:"Invalid JQL query.",closeable:!1}):q(e)})}function g(t,r){var a,s=e.Deferred();if(r&&""!==r)a=y+"/rest/remoteJiraIssueLink/1/remoteJira/search?jql="+t+"&appId="+r+"&maxResults=10";else{var l=e("#current-issue-key").val();t="("+t+") and key != "+l,a=y+"/rest/api/2/search?jql="+t+"&maxResults=10"}return i.makeRequest({url:a,complete:function(e,t,r){s.resolve(r)}}),s.promise()}function v(t){var r,a,s=e.Deferred();return t&&""!==t?(a=y+"/rest/remoteJiraIssueLink/1/remoteJira/autocompletedata?appId="+t,r=!0):(a=y+"/rest/api/2/jql/autocompletedata",r=!1),i.makeRequest({url:a,complete:function(e,a,l){!l.successful&&r?i.makeRequest({url:y+"/rest/remoteJiraIssueLink/1/remoteJira/autocompletedata/legacy?appId="+t,complete:function(e,t,r){s.resolve(r)}}):s.resolve(l)}}),s.promise()}function b(t,r){var i=a.resultsTable({result:t.data});e("#search-results-table",r).html(i),e("#linkjiraissue-select-all",r).click(function(){var t=e(this).prop("checked");e("tbody tr td.selection input",r).prop("checked",t)}),e("tbody tr",r).click(function(t){if(!e(t.target).is(":checkbox")){var r=e(this).find("td.selection input");r.prop("checked",!r.prop("checked"))}})}function q(e){s.error("#search-results-table",{body:i.buildSimpleErrorContent(e),closeable:!1})}var y=t(),x=new r({id:"remote-jira-search-dialog",trigger:"#link-jira-issue .remote-jira-search-trigger",widthClass:"large",content:function(e){e(a.dialog()),c(this.$popup)},submitHandler:function(t,r){t.preventDefault(),e("#simple-search-panel-button").removeAttr("disabled"),e("#advanced-search-panel-button").removeAttr("disabled"),"remote-jira-simple-search-form"===e(t.target).attr("id")?e("#simple-search-panel-button").click():e("#advanced-search-panel-button").click(),r()}})})});;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:util-resources', location = 'user-provisioning-vertigo-module/js/atlassian/um-utils.js' */
define('user-management/helpers/um-utils', [
    'jquery'
], function (
    $
) {
    var isSiteAdminWRM = WRM.data.claim("com.atlassian.crowd.user-provisioning-plugin:create-users-resources.isSiteAdmin");
    /*
        This is going to have to change when UM moves to a different URL.
        We'll also need to look at usages of this because commumication
        will need to be a bit different, eg. using CORS
     */
    function restBaseUrl() {
        return '/admin';
    }

    return {

        /**
         * @returns A promise which resolves to a boolean.
         */
        isSiteAdmin: function() {
            return $.when(isSiteAdminWRM).promise();
        },
        restBaseUrl: restBaseUrl,
        productName: function() {
            var contextPath = AJS.contextPath();
            var productName = "Unknown";
            if (contextPath === "") {
                productName = "jira";
            } else if (contextPath === "/builds") {
                productName = "bamboo";
            } else if (contextPath === "/wiki") {
                productName = "confluence";
            }
            return productName;
        }
    };
});;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:adminmenu-analytics', location = 'user-provisioning-vertigo-module/js/atlassian/analytics-upp.js' */
require([
    'user-management/helpers/um-utils'
], function(
    umUtils
) {
    var triggerAnalytics = function (name, properties) {
        AJS.trigger("analytics", {
            name: "unified.admin." + name,
            data: properties || {}
        });
    };

    var getProductName = umUtils.productName;

    AJS.$(document)
        .on("click", "#admin-billing-link", function () {
            triggerAnalytics("menu.billing.click", {product:getProductName()});
        })
        .on("click", "#admin-discovernewapps-link", function () {
            triggerAnalytics("menu.addApplications.click", {product:getProductName()});
        })
        .on("click", "#admin-management-link", function () {
            triggerAnalytics("menu.userManagement.click", {product:getProductName()});
        })
        // handle admin menu links from JIRA due to required use of web sections
        .on("click", "#admin_billing_section", function () {
            triggerAnalytics("menu.billing.click", {product:getProductName()});
        })
        .on("click", "#admin_discovernewapps_section", function () {
            triggerAnalytics("menu.addApplications.click", {product:getProductName()});
        })
        .on("click", "#user_management_section", function () {
            triggerAnalytics("menu.userManagement.click", {product:getProductName()});
        })
        .on("click", "#pending-invites-flag .icon-close", function () {
            triggerAnalytics("inproduct.invite.pending.message.dismissed")
        })
    ;

});
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:common-flag-resources', location = 'user-provisioning-vertigo-module/js/atlassian/aui-polyfill/flag.js' */
/*
 * Polyfill for aui/flag for use in products that don't provide a version (due to using an ancient AUI version).
 */
(function() {
    try {
        require('aui/flag')
    } catch (e) {
        define('aui/flag', [], displayFlagAsMessage);
    }

    function displayFlagAsMessage(args) {
        var type = (args.type || "").toLowerCase();
        var message = typeof AJS.messages[type] == 'function' ? AJS.messages[type] : AJS.messages.generic;

        // for some reason we display info messages as warnings... keeping that for backward compatibility
        message(".notifications", { body: args.message });
    }
})();
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:common-flag-resources', location = 'user-provisioning-vertigo-module/js/atlassian/flag.js' */
/**
 * This is a wrapper around AUI Flag which will escape the body text of the Flag unless explicitly told not to.
 *
 * The body will NOT be escaped iff the passed in object has an attribute 'isHtml' and it is set to true.
 */
define('user-management-common/flag', [
    'aui/flag',
    'underscore',
    'jquery'
], function(
    flag,
    _,
    $
) {
    return function(options){
        var createdFlag;
        // If not explicitly HTML, escape the body
        if(!options.isHtml) {
            options.body = _.escape(options.body);
        }

        createdFlag = flag(options);
        $(createdFlag).on('aui-flag-close', function(){
            createdFlag.dispatchEvent(new CustomEvent('um-flag-close', { bubbles: true }));
        });
        return createdFlag;
    };
});
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:impersonation-resources', location = 'user-provisioning-vertigo-module/js/atlassian/helpers/cookies.js' */
define('user-management-common/helpers/cookies', [], function() {
    return {
        readCookie: function (name) {
            //document.cookie lists cookies in the format "name1=value1; name2=value2" etc
            //see https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie
            var nameEQ = name + "=";
            var cookieList = document.cookie.split(';');
            for (var i = 0; i < cookieList.length; i++) {
                var cookie = cookieList[i];

                //Remove any leading spaces (normally 1, but I don't want to make assumptions)
                while (cookie.charAt(0) == ' ') {
                    cookie = cookie.substring(1, cookie.length);
                }

                //Remove the name1= part and return what is left
                if (cookie.indexOf(nameEQ) === 0) {
                    return decodeURIComponent(cookie.substring(nameEQ.length, cookie.length));
                }
            }
            return null;
        }
    };
});
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:impersonation-resources', location = 'user-provisioning-vertigo-module/js/atlassian/impersonation/impersonation.js' */
/**
 * This module displays an informational message with a link to drop the impersonation, if the current user is
 * being impersonated. This script is used in both user management and user provisioning plugins.
 */
define('user-management-common/impersonation/impersonation', [
    'jquery',
    'underscore',
    'user-management-common/flag',
    'user-management-common/helpers/cookies'
], function(
    $,
    _,
    flag,
    cookies
) {
    var showImpersonationMessaging = function(username){
        var message = AJS.format("You\'\'re temporarily logged in as {0}. When you\'\'re done, {1}switch back{2} to your account.",
            _.escape(impersonation.getDisplayName()),
            '<a id="impersonation-dismiss-trigger" href="#">', '</a>');

        var messageFlag = flag({ type: 'info', isHtml: true, body: message });

        $(messageFlag).find("#impersonation-dismiss-trigger").click(function (e) {
            e.preventDefault();
            impersonation.dropImpersonation().then(function () {
                if (username) {
                    window.open("/admin/users/view?username=" + encodeURIComponent(username), "_top");
                } else {
                    window.open("/admin/users", "_top");
                }
            });
        });
    };

    function showImpersonationFlag() {
        var message = AJS.format("You\'\'re temporarily logged in as another user. When you\'\'re done, {0}switch back{1} to your account.",
            '<a id="impersonation-dismiss-trigger" href="#">', '</a>');

        var messageFlag = flag({ type: 'info', isHtml: true, body: message });

        $(messageFlag).find('#impersonation-dismiss-trigger').click(function (e) {
            e.preventDefault();
            impersonation.getReleaseImpersonationLink().then(function (data) {
                window.open(data.link, '_top');
            });
        });
    }

    var impersonation = {
        init: function () {
            if (impersonation.isImpersonated()) {
                showImpersonationMessaging(impersonation.getUsername());
            } else if (impersonation.getUserId()) {
                showImpersonationFlag();
            }
        },

        getUserId: function () {
            return cookies.readCookie('um.user.impersonated.userid');
        },

        getUsername: function () {
            return cookies.readCookie("um.user.impersonated.username");
        },

        getDisplayName: function () {
            return cookies.readCookie("um.user.impersonated.displayname");
        },

        getReleaseImpersonationLink: function () {
            var userId = impersonation.getUserId();
            var cloudId = AJS.Meta.get('cloud-id');
            return $.ajax({
                type: 'POST',
                url: '/gateway/api/adminhub/um/site/' + cloudId + '/users/' + userId + '/impersonate/release',
                dataType: 'json'
            });
        },

        dropImpersonation: function () {
            return $.ajax({
                type: "POST",
                contentType: 'application/json',
                url: "/admin/rest/um/1/impersonate/release"
            });
        },

        isImpersonated: function () {
            return !!impersonation.getUsername();
        }
    };
    return impersonation;
});
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:impersonation-resources', location = 'user-provisioning-vertigo-module/js/atlassian/impersonation-init.js' */
require(['jquery', 'user-management-common/impersonation/impersonation'],
function($, impersonation) {
    $(impersonation.init);
});;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:create-users-resources', location = 'user-provisioning-vertigo-module/js/atlassian/create-user/request-invite.js' */
/**
 * This module allows external products to request an invite for a user.
 */
define('user-management-common/create-user/request-invite', [
    'jquery',
    'user-management/helpers/um-utils'
], function(
    $,
    umUtils
) {
    function requestInvite(emailAddresses, extraProductId, extraGroups){
        return $.ajax({
            type: 'PUT',
            url: umUtils.restBaseUrl() + '/rest/um/1/requestaccess',
            contentType: 'application/json',
            data: JSON.stringify({
                emailAddresses: emailAddresses,
                extraProductId: extraProductId,
                extraGroups: extraGroups
            })
        });
    }
    return {
        createUser: requestInvite
    };
});;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:create-users-resources', location = 'user-provisioning-vertigo-module/js/atlassian/create-user/pending-invites.js' */
/**
 * This module allows external products to request an invite for a user.
 */
define('user-management-common/create-user/pending-invites', [
    'jquery',
    'user-management-common/flag',
    'user-management-common/create-user/request-invite',
    'user-management/helpers/um-utils'
], function(
    $,
    flag,
    requestInvite,
    umUtils
) {
    var pendingInvites = {};
    pendingInvites.hasCompleted = false;
    var pendingInvitesFlag;
    var INVITES_FLAG_CLOSED_KEY = "uppPendingInvitesFlagClosed";
    var LAST_CHECK_FOR_PENDING_INVITES_TIME = "uppLastCheckForPendingInvitesTime";
    var PENDING_INVITES = "uppLastPendingInvites";
    var ONE_HOUR = (1000 * 60 * 60);

    pendingInvites.flagHasBeenDismissed = function () { //visible for testing
        var dismissed = false;
        var lastClosed = localStorage[INVITES_FLAG_CLOSED_KEY];
        if (lastClosed) {
            dismissed = (new Date().getTime() - lastClosed) < ONE_HOUR; // Show the flag again after one hour
        }
        return dismissed;
    };

    function pendingInviteCount() {
        var deferredCount = $.Deferred();
        if (localStorage[LAST_CHECK_FOR_PENDING_INVITES_TIME] != null && (new Date().getTime() - localStorage[LAST_CHECK_FOR_PENDING_INVITES_TIME]) < ONE_HOUR) {
            deferredCount.resolve(localStorage[PENDING_INVITES]);
        } else {
            $.ajax({
                url: umUtils.restBaseUrl() + '/rest/um/1/user/search?activeFilter=pending&max-results=1',
                dataType: 'json',
                // Revert JIRA's override of jQuery's default. This means the &_=<timestamp>
                // query param is not included on requests
                cache: true
            }).then(function (invites) {
                localStorage[PENDING_INVITES] = invites.length;
                localStorage[LAST_CHECK_FOR_PENDING_INVITES_TIME] = new Date().getTime();
                deferredCount.resolve(invites.length);
            }, deferredCount.reject);
        }

        return deferredCount.promise();
    }

    function showPendingInvitesFlag() {
        pendingInvitesFlag = flag({
            id: 'pending-invites-flag',
            type: 'info',
            isHtml: true,
            body: AJS.format("There are users with pending invites to your Atlassian Cloud. {0}Approve here{1}.", '<a href="/admin/users?activeFilter=pending&src=pending.flag.' + encodeURIComponent(umUtils.productName()) + '">', '</a>')
        });
        $(pendingInvitesFlag).on('um-flag-close', function() {
            localStorage[INVITES_FLAG_CLOSED_KEY] = new Date().getTime();
        });
    }

    pendingInvites.closePendingInvitesFlag = function() {
        if (pendingInvitesFlag != null) {
            pendingInvitesFlag.close();
        }
    };

    pendingInvites.init = function() {
        umUtils.isSiteAdmin().then(function (isSiteAdmin) {
            if (isSiteAdmin && !pendingInvites.flagHasBeenDismissed()) {
                return pendingInviteCount().then(function (inviteCount) {
                    if (inviteCount > 0) {
                        showPendingInvitesFlag();
                    }
                });
            }
        }).always(function() { pendingInvites.hasCompleted = true; })
    };

    return pendingInvites;
});;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:create-users-resources', location = 'user-provisioning-vertigo-module/js/atlassian/create-user-init.js' */
require(['jquery', 'user-management-common/create-user/request-invite', 'user-management-common/create-user/pending-invites'],
function($, requestInvite, pendingInvites) {
    $(pendingInvites.init);
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/ajs-amd.js' */
define('pas/ajs', [], function () {
    'use strict';

    return AJS;
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/store_js/store.js' */
//
// store.js by Frank Kohlhepp
// Copyright (c) 2011 - 2012 Frank Kohlhepp
// https://github.com/frankkohlhepp/store-js
// License: MIT-license
//
(function () {
    var has = function (object, key) {
        return Object.prototype.hasOwnProperty.call(object, key);
    };

    var objectGetLength = function (object) {
        var count = 0;
        for (var key in object) {
            if (has(object, key)) {
                count++;
            }
        }

        return count;
    };

    var arrayIndexOf = function (array, item, from) {
        var length = array.length >>> 0;
        for (var i = (from < 0) ? Math.max(0, length + from) : from || 0; i < length; i++) {
            if (array[i] === item) {
                return i;
            }
        }

        return -1;
    };

    var arrayContains = function (array, item, from) {
        return arrayIndexOf(array, item, from) !== -1;
    };

    var arrayInclude = function (array, item) {
        if (!arrayContains(array, item)) {
            array.push(item);
        }
        return array;
    };

    var Store = this.Store = function (name, defaults, watcherSpeed) {
        this.name = name;
        this.defaults = defaults || {};
        this.watcherSpeed = watcherSpeed || 500;
        this.listeners = {};

        // Apply defaults
        this.applyDefaults();
    };

    Store.clear = function () {
        localStorage.clear();
    };

    Store.prototype.applyDefaults = function () {
        for (var key in this.defaults) {
            if (has(this.defaults, key) && this.get(key) === undefined) {
                this.set(key, this.defaults[key]);
            }
        }

        return this;
    };

    Store.prototype.watcher = function (force) {
        if (this.watcherTimer) {
            clearTimeout(this.watcherTimer);
        }

        if (objectGetLength(this.listeners) || force) {
            this.newObject = this.toObject();

            if (this.oldObject) {
                for (var key in this.newObject) {
                    if (has(this.newObject, key) && this.newObject[key] !== this.oldObject[key]) {
                        this.fireEvent(key, this.newObject[key]);
                    }
                }

                for (var key in this.oldObject) {
                    if (has(this.oldObject, key) && !has(this.newObject, key)) {
                        this.fireEvent(key, this.newObject[key]);
                    }
                }
            }

            this.oldObject = this.newObject;
            var that = this;
            this.watcherTimer = setTimeout(function () {
                that.watcher();
            }, this.watcherSpeed);
        }

        return this;
    };

    Store.prototype.get = function (name) {
        var value = localStorage.getItem("store." + this.name + "." + name);
        if (value === null) {
            return undefined;
        }
        try {
            return JSON.parse(value);
        } catch (e) {
            return null;
        }
    };

    Store.prototype.set = function (name, value) {
        if (value === undefined) {
            this.remove(name);
        } else {
            if (typeof value === "function") {
                value = null;
            }
            try {
                value = JSON.stringify(value);
            } catch (e) {
                value = null;
            }
            localStorage.setItem("store." + this.name + "." + name, value);
        }

        return this;
    };

    Store.prototype.remove = function (name) {
        localStorage.removeItem("store." + this.name + "." + name);
        return this.applyDefaults();
    };

    Store.prototype.reset = function () {
        var name = "store." + this.name + ".";
        for (var i = (localStorage.length - 1); i >= 0; i--) {
            if (localStorage.key(i).substring(0, name.length) === name) {
                localStorage.removeItem(localStorage.key(i));
            }
        }

        return this.applyDefaults();
    };

    Store.prototype.toObject = function () {
        var values = {};
        var name = "store." + this.name + ".";
        for (var i = (localStorage.length - 1); i >= 0; i--) {
            if (localStorage.key(i).substring(0, name.length) === name) {
                var key = localStorage.key(i).substring(name.length);
                var value = this.get(key);
                if (value !== undefined) {
                    values[key] = value;
                }
            }
        }

        return values;
    };

    Store.prototype.fromObject = function (values, merge) {
        if (!merge) {
            this.reset();
        }
        for (var key in values) {
            if (has(values, key)) {
                this.set(key, values[key]);
            }
        }

        return this;
    };

    Store.prototype.addEvent = function (selector, callback) {
        this.watcher(true);
        if (!this.listeners[selector]) {
            this.listeners[selector] = [];
        }
        arrayInclude(this.listeners[selector], callback);
        return this;
    };

    Store.prototype.removeEvent = function (selector, callback) {
        for (var i = (this.listeners[selector].length - 1); i >= 0; i--) {
            if (this.listeners[selector][i] === callback) {
                this.listeners[selector].splice(i, 1);
            }
        }

        if (!this.listeners[selector].length) {
            delete this.listeners[selector];
        }
        return this;
    };

    Store.prototype.fireEvent = function (name, value) {
        var selectors = [name, "*"];
        for (var i = 0; i < selectors.length; i++) {
            var selector = selectors[i];
            if (this.listeners[selector]) {
                for (var j = 0; j < this.listeners[selector].length; j++) {
                    this.listeners[selector][j](value, name, this.name);
                }
            }
        }

        return this;
    };
}());;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/store_js/store-amd.js' */
define("pas/js/store_js/store", function () {
    return Store;
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/pasConfig.js' */
define("pas/js/pas-config", [
    "jquery",
    "pas/ajs",
    "pas/js/store_js/store"
], function ($,
             AJS,
             Store) {
    "use strict";

    var MINUTE = 60 * 1000;

    return {
        timeUpdateInterval: MINUTE,
        pollingInterval: 15 * MINUTE,
        url: AJS.contextPath() + "/rest/pas/latest/announcement",
        store: new Store("Atlassian.PAS.Announcements." + document.location.hostname + AJS.contextPath() + "." + $("meta[name='ajs-remote-user']").attr('content')),
        nextAnnouncementKey: "nextAnnouncement",
        timeStampKey: "timeStamp",
        config: {
            url: AJS.contextPath() + "/rest/pas/latest/settings",
            timeStampKey: "configTimeStampKey",
            pollingInterval: 30 * 60 * 1000,
            currentConfigKey: "currentConfigKey"
        },
        cookieKey: AJS.contextPath().replace('/', '') + "_pas.dismiss"
    };
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/pas.js' */
require([
    "jquery",
    "aui/flag",
    "pas/ajs",
    "pas/js/pas-config"
], function ($,
             flag,
             AJS,
             PAS) {
    "use strict";

    AJS.toInit(function () {
        var showTimeout = null;
        var hideTimeout = null;
        var updateTimeout = null;
        var timeLeft = 0;

        var announcementSource;
        var projectKey;
        var issueNumber;

        var friendlyFormatDate = function (delay) {
            var padString = function (s, c, len) {
                s = "" + s; // ensure it's a string
                while (s.length < len) {
                    s = c + s;
                }
                return s;
            };
            var pluralize = function (val, unit) {
                var result = val + " " + unit;
                if (val != 1) {
                    result += "s";
                }
                return result;
            };

            var oneMinute = 60000;
            var oneHour = 3600000;
            var oneDay = 86400000;

            if (delay < oneMinute) {
                return "in less than a minute";
            }
            else if (delay < oneHour) {
                return "in " + pluralize(Math.round(delay / oneMinute), "min");
            }
            else if (delay < oneDay) {
                return "in " + pluralize(Math.round(delay / oneHour), "hour") + " " + pluralize(Math.round((delay % oneHour) / oneMinute), "minute");
            }
            else {
                var d = new Date();
                d.setSeconds(d.getSeconds() + Math.round(delay / 1000));
                return (
                    padString(d.getFullYear(), '0', 4) +
                    "/" +
                    padString(d.getMonth() + 1, '0', 2) +
                    "/" +
                    padString(d.getDate(), '0', 2) +
                    " " +
                    padString(d.getHours(), '0', 2) +
                    ":" +
                    padString(d.getMinutes(), '0', 2)
                );
            }
        };

        var clearState = function () {
            if (showTimeout != null) {
                clearTimeout(showTimeout);
            }
            if (hideTimeout != null) {
                clearTimeout(hideTimeout);
            }
            if (updateTimeout != null) {
                clearInterval(updateTimeout);
            }
            document.getElementById("pas-announcement").close();
        };

        var showAnnouncement = function () {
            var announcementContent = PAS.announcementText;
            var announcementUrl = PAS.announcementUrl || "";
            var announcementTime = PAS.announcementTime;
            var announcementId = PAS.announcementId;

            var announcementTicket = PAS.announcementTicket;
            announcementSource = PAS.announcementSource;

            var projectKeyPattern = /([A-Z])\w+/g;
            var issueNumberPattern = /\d+/g;

            projectKey = projectKeyPattern.exec(announcementTicket);
            issueNumber = issueNumberPattern.exec(announcementTicket);

            function escapeRegExp(str) {
                return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
            }

            var announcementTargetPath = escapeRegExp(PAS.announcementTargetPath) || "";
            var announcementTargetPathRegex = new RegExp(announcementTargetPath);

            var announcementFlag;

            if (location.href.match(announcementTargetPathRegex) !== null) {
                announcementFlag = flag({
                    type: "info",
                    title: "Public service announcement",
                    body: announcementContent + announcementUrl + announcementTime,
                    close: "manual"
                });

                if (announcementSource == "alertr") {
                    triggerPasAlertrAnalytics({
                        name: "pas.alertr.announcement.display"
                    });
                }
            }

            if (announcementFlag !== undefined) {
                announcementFlag.setAttribute("id", "pas-announcement");
                announcementFlag.setAttribute("announcementId", announcementId);

                announcementFlag.addEventListener("aui-flag-close", function () {
                    dismissAnnouncement();
                });
            }

            addUrlClickedEventHandler();
        };

        var addUrlClickedEventHandler = function () {
            AJS.$("#more-info").on('click', function () {
                if (announcementSource == "alertr") {
                    triggerPasAlertrAnalytics({
                        name: "pas.alertr.announcement.url.clicked"
                    });
                }
            });
        };

        var dismissAnnouncement = function () {
            var announcementId = PAS.announcementId;
            var expiry = new Date();
            var cookieValue;

            expiry.setMonth(expiry.getMonth() + 1);
            cookieValue = announcementId + "; expires=" + expiry.toUTCString();
            document.cookie = PAS.cookieKey + "=" + cookieValue + "; path=/";
            AJS.trigger('analyticsEvent', {
                name: 'com.atlassian.plugins.pas.dismiss-announcement.click',
                data: {message: $("#pas-announcement span:first").text()}
            });

            if (announcementSource == "alertr") {
                triggerPasAlertrAnalytics({
                    name: "pas.alertr.announcement.dismissed"
                });
            }
        };

        var checkDismissed = function (announcementId, cookieKey) {
            var cookies = document.cookie.split(";");
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i];
                var pos = cookie.indexOf("=");
                var key = cookie.substr(0, pos).trim();
                var value = cookie.substr(pos + 1).trim();
                if (key == cookieKey) {
                    return value == announcementId;
                }
            }
            return false;
        };

        var updateTimeLeft = function () {
            if (timeLeft > 0) {
                var newTimeLeft = timeLeft - PAS.timeUpdateInterval;
                timeLeft = newTimeLeft;
                PAS.announcementTime = Atlassian.PAS.Templates.pasTime({
                    time: friendlyFormatDate(newTimeLeft)
                });
            }
            else {
                clearInterval(updateTimeout);
                updateTimeout = null;
            }
        };

        var triggerPasAlertrAnalytics = function (event) {
            var key = projectKey[0];
            AJS.trigger('analyticsEvent', {
                name: event.name,
                data: {issueNumber: issueNumber, project: key}
            });
        };

        var scheduleAnnouncementToAppear = function () {
            function adjustTimeToStart() {
                return data.timeToStart - getTimeSinceLastPoll();
            }

            var data = getFromLocalStorage(PAS.nextAnnouncementKey);

            // Do nothing if no announcement or if the user dismissed it
            if (data == null || data.message == null || checkDismissed(data.id, PAS.cookieKey)) {
                return;
            }

            timeLeft = data.timeLeft;

            PAS.announcementText = data.message;
            PAS.announcementTime = Atlassian.PAS.Templates.pasTime({
                time: friendlyFormatDate(timeLeft)
            });
            updateTimeout = setInterval(updateTimeLeft, PAS.timeUpdateInterval);
            if (data.url) {
                PAS.announcementUrl = Atlassian.PAS.Templates.pasUrl({
                    url: data.url
                });
            }

            PAS.announcementTargetPath = data.targetPath;
            PAS.announcementId = data.id;

            var timeToHide = data.duration;
            data.timeToStart = adjustTimeToStart();

            if (data.source) {
                PAS.announcementSource = data.source;
            }
            if (data.incidentTicket) {
                PAS.announcementTicket = data.incidentTicket;
            }

            if (data.timeToStart > 0) {
                timeToHide += data.timeToStart;
                showTimeout = setTimeout(function () {
                    showAnnouncement();
                }, data.timeToStart);
            } else {
                showAnnouncement();
            }

            if (timeToHide > 0) {
                hideTimeout = setTimeout(function () {
                    clearState();
                }, timeToHide);
            }
        };

        function pollForMessage(callback) {
            $.ajax({
                type: "GET",
                contentType: "application/json",
                url: PAS.url,
                cache: false,
                global: false,
                timeout: 5000,
                success: function (json, resultStatus) {
                    setInLocalStorage(PAS.timeStampKey, nowInMs());
                    setInLocalStorage(PAS.nextAnnouncementKey, json);
                    callback();
                }, error: function (xhr, resultStatus, e) {
                    AJS.log("Could not get announcement from server: " + e);
                }

            });
        }

        var nowInMs = function () {
            return new Date().getTime();
        };

        var getTimeSinceLastPoll = function () {
            return (nowInMs() - getFromLocalStorage(PAS.timeStampKey));
        };

        function getFromLocalStorage(key) {
            return PAS.store.get(key);
        }

        function setInLocalStorage(key, value) {
            return PAS.store.set(key, value);
        }

        function isStale(timeStampKey, pollingInterval) {
            var previousPollTimeStamp = getFromLocalStorage(timeStampKey);
            var timeSinceLastPoll = nowInMs() - previousPollTimeStamp;
            return previousPollTimeStamp == undefined || timeSinceLastPoll > pollingInterval
        }

        function announcementCacheIsStale() {
            return isStale(PAS.timeStampKey, PAS.pollingInterval);
        }

        function configurationCacheIsStale() {
            return isStale(PAS.config.timeStampKey, PAS.config.pollingInterval);
        }

        function setupAnalyticsEvents() {
            $("#more-info").live("click", function (event) {
                AJS.trigger('analyticsEvent', {
                    name: 'com.atlassian.plugins.pas.more-info.click',
                    data: {message: $("#pas-announcement span:first").text()}
                });
            });
        }

        function pollForMessageIfNecessary() {
            if (announcementCacheIsStale()) {
                pollForMessage(scheduleAnnouncementToAppear);
            } else {
                scheduleAnnouncementToAppear();
            }
        }

        setupAnalyticsEvents();

        pollForMessageIfNecessary();
    });
});

;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/templates/soy/pas.soy' */
// This file was automatically generated from pas.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Atlassian.PAS.Templates.
 */

if (typeof Atlassian == 'undefined') { var Atlassian = {}; }
if (typeof Atlassian.PAS == 'undefined') { Atlassian.PAS = {}; }
if (typeof Atlassian.PAS.Templates == 'undefined') { Atlassian.PAS.Templates = {}; }


Atlassian.PAS.Templates.pasTime = function(opt_data, opt_ignored) {
  return '<span class="pas-announcement-time">' + soy.$$escapeHtml(opt_data.time) + '</span>';
};
if (goog.DEBUG) {
  Atlassian.PAS.Templates.pasTime.soyTemplateName = 'Atlassian.PAS.Templates.pasTime';
}


Atlassian.PAS.Templates.pasUrl = function(opt_data, opt_ignored) {
  return '<p><a id="more-info" target="_blank" href=\'' + soy.$$escapeHtml(opt_data.url) + '\'>' + soy.$$escapeHtml('More information') + '</a></p>';
};
if (goog.DEBUG) {
  Atlassian.PAS.Templates.pasUrl.soyTemplateName = 'Atlassian.PAS.Templates.pasUrl';
}
;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/jquery/plugins/avataror/avataror.js' */
jQuery.fn.avataror=function(i){var t=jQuery,e=t(document);this.each(function(){var r=t(this),a=r.find("img").attr("src");r.css({"-moz-border-radius":"10px","-webkit-border-radius":"10px"}),r.html("<p>Loading?</p>");var o={previewSize:48};o.preview=t("<div/>").addClass("avataror-preview").css({border:"solid 1px #000",float:"left",height:o.previewSize+"px",overflow:"hidden",width:o.previewSize+"px",position:"relative",top:"-9999em",left:"-9999em"}),o.preview.prependTo(i.previewElement),o.img=t('<img alt="Avatar Source"/>'),o.img.load(function(){o.image=t("<div/>").css({background:"url('"+a+"') no-repeat",clear:"left",position:"relative","background-size":"cover"}),o.marker=t("<div/>").css({cursor:"move",position:"relative"}),o.dash=t("<div/>"),o.shadow=t("<div/>"),o.dash.add(o.shadow).css({cursor:"move",opacity:.5,left:0,top:0,position:"absolute"}),o.image.append(o.shadow).append(o.dash).append(o.marker),r.append(o.image),o.marker.html("<div></div><div></div><div></div><div></div>"),t("div",o.marker).each(function(i){var e=t(this);e.css({background:"#000",border:"solid 1px #fff",width:"10px",height:"10px",position:"absolute","font-size":"1px"}),e.css(["left","right","right","left"][i],"-6px"),e.css(["top","top","bottom","bottom"][i],"-6px"),e.css("cursor",["nw-resize","ne-resize","se-resize","sw-resize"][i]),e.mousedown(function(t){t.preventDefault(),t.stopPropagation(),o.dragging={x:t.pageX,y:t.pageY,ax:o.x,ay:o.y,w:o.width,h:o.height,i:i+1},o.shadow.hide()})}),o.marker.add(o.image).mousedown(function(i){i.preventDefault(),o.dragging={x:i.pageX,y:i.pageY,ax:o.x,ay:o.y,w:o.width,h:o.height},o.shadow.hide()}),e.mouseup(function(i){o.handleMouseUp(i)}),e.mousemove(function(i){o.dragging&&(o.handleMouseMove(i.pageX,i.pageY),i.preventDefault())}),o.imgwidth=o.img[0].naturalWidth,o.imgheight=o.img[0].naturalHeight,o.imgwidth>500?(o.ratio=o.imgwidth/500,o.imgwidth=500,o.imgheight/=o.ratio):o.ratio=1;var i=+t("#avatar-offsetX").val(),g=+t("#avatar-offsetY").val(),h=+t("#avatar-width").val();if(i+h>o.imgwidth||g+h>o.imgheight){i=h>=o.imgwidth?0:(o.imgwidth-h)/5,g=h>=o.imgheight?0:(o.imgheight-h)/5;var d=Math.min(o.imgwidth,o.imgheight);d<=h&&(h=d)}o.x=i,o.y=g,o.width=h,o.height=h,o.image.css({width:o.imgwidth+"px",height:o.imgheight+"px"}),o.setMarker(),r.css({width:o.imgwidth+"px"}),o.preview.css({position:"static"}),t("p",r).remove(),r.trigger("AvatarImageLoaded"),o.adjustPreview()}),o.img.attr("src",a),o.preview.append(o.img),o.setMarker=function(){o.marker.css("border","dashed 1px #fff"),o.dash.css("border","solid 1px #000"),o.shadow.css("border","solid 1px #000"),o.marker.add(this.dash).css("left",this.x-1+"px"),o.marker.add(o.dash).css("top",o.y-1+"px"),o.shadow.css("border-left-width",o.x+"px"),o.shadow.css("border-right-width",o.imgwidth-o.x-o.width+"px"),o.shadow.css("border-top-width",o.y+"px"),o.shadow.css("border-bottom-width",o.imgheight-o.y-o.height+"px"),o.shadow.css("width",o.width+"px"),o.shadow.css("height",o.height+"px"),o.marker.add(o.dash).css("width",o.width+"px"),o.marker.add(o.dash).css("height",o.height+"px")},o.adjustPreview=function(){o.img.attr("width",o.imgwidth*o.previewSize/o.width),o.img.attr("height",o.imgheight*o.previewSize/o.height),o.img.css("margin-left","-"+o.x*o.previewSize/o.width+"px"),o.img.css("margin-top","-"+o.y*o.previewSize/o.height+"px"),o.preview.select()},o.handleMouseMove=function(i,t){var e=i-o.dragging.x,r=t-o.dragging.y;if(this.dragging.i){var a=o.resizeHandlers[this.dragging.i-1];a(e,r)}else o.x=o.dragging.ax+e,o.y=o.dragging.ay+r,o.x+o.width>o.imgwidth&&(o.x=o.imgwidth-o.width),o.y+o.height>o.imgheight&&(o.y=o.imgheight-o.height),o.x<0&&(o.x=0),o.y<0&&(o.y=0);o.setMarker(),o.adjustPreview()},o.handleMouseUp=function(i){t("#avatar-offsetX").val(Math.floor(o.x*o.ratio)),t("#avatar-offsetY").val(Math.floor(o.y*o.ratio)),t("#avatar-width").val(Math.floor(o.width*o.ratio)),o.dragging=null,o.shadow.show()},o.originX=function(){return o.dragging.ax},o.originY=function(){return o.dragging.ay},o.originBottomX=function(){return o.dragging.ax+o.dragging.w},o.originBottomY=function(){return o.dragging.ay+o.dragging.h},o.originNw=function(){return{x:o.originX(),y:o.originY()}},o.originNe=function(){return{x:o.originBottomX(),y:o.originY()}},o.originSe=function(){return{x:o.originBottomX(),y:o.originBottomY()}},o.originSw=function(){return{x:o.originX(),y:o.originBottomY()}},o.nwHandler=function(i,t){var e=o.originSe(),r={x:o.originX()+i,y:o.originY()+t},a=Math.abs(r.x-e.x),g=Math.abs(r.y-e.y),h=Math.min(a,g);h<20&&(h=20),e.x-h<0&&(h=e.x),e.y-h<0&&(h=e.y),o.x=e.x-h,o.y=e.y-h,o.width=o.height=h},o.neHandler=function(i,t){var e=o.originSw(),r={x:o.originBottomX()+i,y:o.originY()+t},a=Math.abs(r.x-e.x),g=Math.abs(r.y-e.y),h=Math.min(a,g);h<20&&(h=20),e.x+h>o.imgwidth&&(h=o.imgwidth-e.x),e.y-h<0&&(h=e.y),o.y=e.y-h,o.width=o.height=h},o.seHandler=function(i,t){var e=o.originNw(),r={x:o.originBottomX()+i,y:o.originBottomY()+t},a=Math.abs(r.x-e.x),g=Math.abs(r.y-e.y),h=Math.min(a,g);h<20&&(h=20),e.x+h>o.imgwidth&&(h=o.imgwidth-e.x),e.y+h>o.imgheight&&(h=o.imgheight-e.y),o.width=o.height=h},o.swHandler=function(i,t){var e=o.originNe(),r={x:o.originX()+i,y:o.originBottomY()+t},a=Math.abs(r.x-e.x),g=Math.abs(r.y-e.y),h=Math.min(a,g);h<20&&(h=20),e.x-h<0&&(h=e.x),e.y+h>o.imgheight&&(h=o.imgheight-e.y),o.x=e.x-h,o.width=o.height=h},o.resizeHandlers=[o.nwHandler,o.neHandler,o.seHandler,o.swHandler]})};;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/Avatar.js' */
define("jira/ajs/avatarpicker/avatar",["jira/lib/class"],function(t){return t.extend({init:function(t){this._id=t.id,this._isSystemAvatar=t.isSystemAvatar,this._isSelected=t.isSelected,this._urls=t.urls},setUnSelected:function(){this._isSelected=!1},setSelected:function(){this._isSelected=!0},isSelected:function(){return!!this._isSelected},isSystemAvatar:function(){return this._isSystemAvatar},getId:function(){return this._id},getUrl:function(t){return this._urls[t]},toJSON:function(){return{id:this._id,isSystemAvatar:this._isSystemAvatar,isSelected:this._isSelected,urls:this._urls}}})});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/avatar-sizes.js' */
define("jira/ajs/avatarpicker/avatar/sizes",["exports","jquery"],function(a,e){a.getSizeObjectFromName=function(r){if("object"==typeof r)return r;"string"==typeof r?e.trim(r):"";return a.LARGE.param===r?a.LARGE:a.MEDIUM.param===r?a.MEDIUM:a.SMALL.param===r?a.SMALL:"xsmall"===r?a.SMALL:a.LARGE},a.LARGE={param:"large",height:48,width:48},a.MEDIUM={param:"medium",width:32,height:32},a.SMALL={param:"small",width:16,height:16}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/avatar-factory.js' */
define("jira/ajs/avatarpicker/avatar-factory",["jira/ajs/avatarpicker/avatar","exports"],function(a,t){t.createCustomAvatar=function(t){return t.isSystemAvatar=!1,new a(t)},t.createSystemAvatar=function(t){return t.isSystemAvatar=!0,new a(t)}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarManager.js' */
define("jira/ajs/avatarpicker/avatar-manager",["jira/util/formatter","jira/lib/class","wrm/context-path","jquery"],function(t,r,e,a){var s=e();return r.extend({init:function(t){this.store=t.store,this.ownerId=t.ownerId,this.username=t.username,this.anonymousAvatarId=t.anonymousAvatarId,this.avatarSrcBaseUrl=t.avatarSrcBaseUrl},selectAvatar:function(t,r){return this.store.selectAvatar(t,r)},getById:function(t){return this.store.getById(t)},destroy:function(t,r){this.store.destroy(t,r)},update:function(t,r){this.store.update(t,r)},add:function(t,r){this.store._add(t,r)},getAllSystemAvatars:function(){return this.store.getAllSystemAvatars()},getAllCustomAvatars:function(){return this.store.getAllCustomAvatars()},getSelectedAvatar:function(){return this.store.getSelectedAvatar()},getAllAvatars:function(){return this.store.getAllAvatars()},getAllAvatarsRenderData:function(t){var r,e=this,a=this.getAllAvatars(),s={system:[],custom:[]};for(r=0;r<a.system.length;r++)s.system.push(e.getAvatarRenderData(a.system[r],t));for(r=0;r<a.custom.length;r++)s.custom.push(e.getAvatarRenderData(a.custom[r],t));return s},getAvatarRenderData:function(t,r){var e=t.toJSON();return e.src=this.getAvatarSrc(t,r),e.width=r.width,e.height=r.height,e},refreshStore:function(t){this.store.refresh(t)},getAvatarSrc:function(r,e){return this.store.isTempAvatar(r)?s+"/secure/temporaryavatar?"+a.param({cropped:!0,magic:(new Date).getTime(),size:e.param}):r.getUrl(t.format("{0}x{1}",e.height,e.width))},createTemporaryAvatar:function(t,r){this.store.createTemporaryAvatar(t,r)},createAvatar:function(t,r,e){this.store.createAvatar(t,r,e)},createAvatarFromTemporary:function(t,r){this.store.createAvatarFromTemporary(t,r)},getAnonymousAvatarId:function(){return this.anonymousAvatarId}})});;
;
/* module-key = 'jira.webresources:avatar-picker', location = 'includes/ajs/avatarpicker/avatar-manager-factory.js' */
define("jira/ajs/avatarpicker/avatar-manager-factory",["jira/ajs/avatarpicker/avatar-store","jira/ajs/avatarpicker/avatar-manager","wrm/context-path","exports"],function(a,r,e,t){var s=e();t.createUniversalAvatarManager=function(e){var t,v="",n="",p="",l="",c="";if(e.projectId){var o=s+"/rest/api/latest/universal_avatar/type/"+e.avatarType+"/owner/"+e.projectId;t=o;var u=o+"/avatar";v=null,n=o+"/temp",p=o,l=u,c=u}else t=s+"/rest/api/latest/avatar/project/system",n=s+"/rest/api/latest/avatar/project/temporary",l=s+"/rest/api/latest/avatar/project/temporaryCrop";var i=new a({restQueryUrl:t,restUpdateUrl:v,restCreateTempUrl:n,restCreateUrl:p,restUpdateTempUrl:l,restSingleAvatarUrl:c,defaultAvatarId:e.defaultAvatarId});return new r({store:i,ownerId:e.projectId,avatarSrcBaseUrl:s+"/secure/projectavatar"})},t.createProjectAvatarManager=function(a){return a.avatarType="project",t.createUniversalAvatarManager(a)},t.createUserAvatarManager=function(e){var t=s+"/rest/api/latest/user",v=new a({restQueryUrl:t+"/avatars",restUpdateUrl:t+"/avatar",restCreateTempUrl:t+"/avatar/temporary",restUpdateTempUrl:t+"/avatar",restSingleAvatarUrl:t+"/avatar",restParams:{username:e.username},defaultAvatarId:e.defaultAvatarId});return new r({store:v,username:e.username,avatarSrcBaseUrl:s+"/secure/useravatar"})}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarStore.js' */
define("jira/ajs/avatarpicker/avatar-store",["jira/util/formatter","jira/ajs/avatarpicker/avatar-util","jira/ajs/avatarpicker/avatar-factory","jira/ajs/ajax/smart-ajax","jira/lib/class","jquery"],function(t,e,r,a,s,i){return s.extend({TEMP_ID:"TEMP",init:function(t){if(!t.restQueryUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restQueryUrl], The rest url for querying avatars (see class description)");if(!t.restCreateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restCreateTempUrl], The rest url for creating a temporary avatar (see class description)");if(!t.restUpdateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restUpdateTempUrl], The rest url for updating a temporary avatar (see class description)");if(!t.defaultAvatarId)throw new Error("JIRA.AvatarStore.init: You must specify [defaultAvatarId] to the contructor so the store knows what to select if you delete the selected one");this.restQueryUrl=t.restQueryUrl,this.restUpdateUrl=t.restUpdateUrl,this.restCreateTempUrl=t.restCreateTempUrl,this.restCreateUrl=t.restCreateUrl,this.restUpdateTempUrl=t.restUpdateTempUrl,this.restSingleAvatarUrl=t.restSingleAvatarUrl,this.restParams=t.restParams||{},this.restParams.atl_token=atl_token(),this.defaultAvatarId=t.defaultAvatarId,this.avatars={system:[],custom:[]}},_buildCompleteUrl:function(e){var r=e;if(this.restParams){var a="";for(var s in this.restParams)a+=t.format("&{0}={1}",encodeURIComponent(s),encodeURIComponent(this.restParams[s]));r+="?"+a.substr(1)}return r},getById:function(t){var e;return i.each(this.avatars.system,function(r,a){if(this.getId()===t)return e=a,!1}),e||i.each(this.avatars.custom,function(r,a){if(this.getId()===t)return e=a,!1}),e},isTempAvatar:function(t){return t.getId()===this.TEMP_ID},_selectAvatar:function(t){var e=this.getSelectedAvatar();e&&e.setUnSelected(),t.setSelected()},selectAvatar:function(t,e){var r=this;if(!t)throw new Error("JIRA.AvatarStore.selectAvatar: Cannot select Avatar that does not exist");this.restUpdateUrl?a.makeRequest({type:"PUT",contentType:"application/json",dataType:"json",url:this._buildCompleteUrl(this.restUpdateUrl),data:JSON.stringify(t.toJSON()),success:function(){r._selectAvatar(t),e.success&&e.success.call(this,t)},error:e.error}):(r._selectAvatar(t),e.success&&e.success.call(this,t))},_destory:function(t){var e=i.inArray(t,this.avatars.custom);if(e===-1)throw new Error("JIRA.AvatarStore._destroy: Cannot remove avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");this.avatars.custom.splice(e,1)},destroy:function(t,e){var r=this;if(e=e||{},!t)throw new Error("JIRA.AvatarStore.destroy: Cannot delete Avatar that does not exist");a.makeRequest({type:"DELETE",url:this.getRestUrlForAvatar(t),success:function(){r._destory(t),t.isSelected()?r.selectAvatar(r.getById(r.defaultAvatarId),e):e.success&&e.success.apply(this,arguments)},error:e.error})},getSelectedAvatar:function(){for(var t=0;t<this.avatars.custom.length;t++)if(this.avatars.custom[t].isSelected())return this.avatars.custom[t];for(t=0;t<this.avatars.system.length;t++)if(this.avatars.system[t].isSelected())return this.avatars.system[t]},_update:function(t){var e=this;if(!this.getById(t.getId()))throw new Error("JIRA.AvatarStore._update: Cannot update avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");i.each(this.avatars.custom,function(r){this.getId()===t.getId()&&(e.avatars.custom[r]=t)})},update:function(t,e){var r=this;e=e||{},a.makeRequest({type:"PUT",url:this.getRestUrlForAvatar(t),error:e.error,success:function(){r._update(t),e.success&&e.success.apply(this,arguments)}})},_add:function(t){t.isSystemAvatar()?this.avatars.system.push(t):this.avatars.custom.push(t)},createAvatarFromTemporary:function(t,e){var s=this;e=e||{},this.restUpdateTempUrl&&a.makeRequest({type:"POST",url:this._buildCompleteUrl(this.restUpdateTempUrl),data:JSON.stringify(t),contentType:"application/json",dataType:"json",success:function(t){t||(t={id:s.TEMP_ID,isSelected:!0});var a=r.createCustomAvatar(t);s._add(a),e.success&&e.success.call(this,t)},error:e.error})},createTemporaryAvatar:function(t,r){r=i.extend(!0,{},r,{params:this.restParams}),e.uploadTemporaryAvatar(this.restCreateTempUrl,t,r)},createAvatar:function(t,r,a){var s={x:r.cropperOffsetX,y:r.cropperOffsetY,size:r.cropperWidth};a=i.extend(!0,{},a,{params:this.restParams},{params:s}),e.uploadAvatar(this.restCreateUrl,t,a)},_refresh:function(t){var e=this;e.avatars.system=[],e.avatars.custom=[],t.system&&i.each(t.system,function(t,a){e.avatars.system.push(r.createSystemAvatar(a))}),t.custom&&i.each(t.custom,function(t,a){e.avatars.custom.push(r.createCustomAvatar(a))})},refresh:function(t){var e=this,r=this.getById(e.TEMP_ID);t=t||{},a.makeRequest({url:this._buildCompleteUrl(this.restQueryUrl),error:t.error,success:function(a){e._refresh(a),r&&e._add(r),t.success&&t.success.apply(this,arguments)}})},getAllAvatars:function(){return this.avatars},getAllSystemAvatars:function(){return this.avatars.system},getAllCustomAvatars:function(){return this.avatars.custom},getRestUrlForAvatar:function(t){return this._buildCompleteUrl(this.restSingleAvatarUrl+"/"+t.getId())}})});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarUtil.js' */
define("jira/ajs/avatarpicker/avatar-util",["jira/util/logger","jira/attachment/inline-attach","jquery"],function(r,e,a){var n={uploadUsingIframeRemoting:function(o,t,i){i=i||{};var s=t.val(),l=new e.Form(new e.FileInput(t,(!1))),u=l.addStaticProgress(s),d=l.cloneFileInput();l.fileSelector.clear();var c=new e.Timer(function(){},this),p=new e.FormUpload({$input:d,url:o,params:a.extend({},i.params,{filename:s,atl_token:window.atl_token()}),scope:this,before:function(){!this.cancelled&&u.start()},success:function(r,e){r.errorMessages&&r.errorMessages.length?l.addErrorWithFileName(r.errorMessages[0],s,n.getErrorTarget(l)):i.success&&i.success(r,e)},error:function(a){r.log(a),this.cancelled||(a.indexOf("SecurityTokenMissing")>=0?l.addError(e.Text.tr("upload.xsrf.timeout",s),n.getErrorTarget(l)):l.addError(e.Text.tr("upload.error.unknown",s),n.getErrorTarget(l)))},after:function(){c.cancel(),u.remove(),this.cancelled||l.enable()}});u.onCancel(function(){p.abort()}),p.upload()},uploadTemporaryUsingFileApi:function(r,n,o){var t=new e.Form(new e.FileInput(n,(!1))),i=n[0].files[0];o=o||{},o.params=a.extend({},o.params,{filename:i.name,size:i.size,atl_token:window.atl_token()}),this.handleFileUpload(r,n,i,t,o)},uploadUsingFileApi:function(r,o,t){var i=a(o),s=new e.Form(new e.FileInput(a(i),(!1)));e.AjaxPresenter.isSupported(i)||s.addError(e.Text.tr("upload.error.unsupported.browser"),n.getErrorTarget(s));var l=o.files[0];this.handleFileUpload(r,i,l,s,t||{})},handleFileUpload:function(r,o,t,i,s){var l,u=i.addProgress(t),d=new e.Timer(function(){l||u.show()}),c=new e.AjaxUpload({file:t,params:a.extend({},s.params),scope:this,url:r,before:function(){o.hide(),!l&&u.start()},progress:function(r){u.progress.$progress.parent().parent().show(),!l&&u.update(r)},success:function(r,e){l||(r.errorMessages&&r.errorMessages.length?(i.addErrorWithFileName(r.errorMessages[0],t.name,n.getErrorTarget(i)),s.error&&s.error(r.errorMessages[0],e)):201===e&&s.success(r,e))},error:function(r,a){a<0?i.addError(r,n.getErrorTarget(i)):i.addError(e.Text.tr("upload.error.unknown",t.name),n.getErrorTarget(i)),s.error&&s.error(r,a)},after:function(){d.cancel(),u.finish().remove(),o.val("").show()}});c.upload(),u.onCancel(function(){c.abort()})},getErrorTarget:function(r){return{$element:r.$form.find(".error")}},uploadTemporaryAvatar:function(r,a,n){e.AjaxPresenter.isSupported(a)?this.uploadTemporaryUsingFileApi(r,a,n):this.uploadUsingIframeRemoting(r,a,n)},uploadAvatar:function(r,e,a){this.uploadUsingFileApi(r,e,a)}};return n});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/ClientFileReader.js' */
define("jira/ajs/avatarpicker/client-file-reader",["jira/attachment/inline-attach","jira/util/formatter","underscore"],function(e,t,i){"use strict";var r=function(e){this.init(e)};return r.prototype.defaults={fileTypeFilter:/^image.*/,fileSizeLimit:10485760},r.prototype.init=function(e){this.options=i.defaults({},e,this.defaults)},r.prototype.readFileAsDataUri=function(e){var t=Array.prototype.slice.call(e,0,1)[0],i=this.validateFile(t);if(i.valid===!1){var r=new Error(i.error);return r.name="ValidationError",Promise.reject(r)}var a=new FileReader,n=new Promise(function(e,t){a.addEventListener("load",function(){e(a.result)}),a.addEventListener("error",function(e){t(e)})});return a.readAsDataURL(t),n},r.prototype.validateFile=function(i){var r="";return this.options.fileTypeFilter.test(i.type)?i.size>this.options.fileSizeLimit&&(r=t.format("The image {0} is too big. The maximum allowed upload size is {1}.",i.name,e.Text.fileSize(this.options.fileSizeLimit))):r="The file content you have provided is not a supported image format. Please try a JPEG, GIF or PNG file.",""===r?{valid:!0}:{valid:!1,error:r}},r});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/avatar-picker.js' */
define("jira/ajs/avatarpicker/avatar-picker",["jira/util/logger","jira/util/formatter","jira/ajs/avatarpicker/client-file-reader","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/ajax/smart-ajax","jira/dialog/dialog","jira/ajs/control","jquery","underscore"],function(a,e,r,t,i,n,o,c,l){return o.extend({defaults:{cropOffline:!1,maxImageDimension:2e3},init:function(a){a=l.defaults(a,this.defaults),this.avatarManager=a.avatarManager,this.avatarRenderer=a.avatarRenderer,this.imageEditor=a.imageEditor,this.size=a.size,this.selectCallback=a.select,this.cropperDialog=null,this.initialSelection=a.initialSelection,this.cropOffline=a.cropOffline,this.maxImageDimension=a.maxImageDimension},render:function(a){var e=this;this.avatarManager.refreshStore({success:function(){e.cropperDialog instanceof n&&(e.cropperDialog.hide(),delete e.cropperDialog),e.element=c('<div id="jira-avatar-picker" />'),e.element.html(JIRA.Templates.AvatarPicker.picker({avatars:e.avatarManager.getAllAvatarsRenderData(e.size)})),e._assignEvents("selectAvatar",e.element.find(".jira-avatar button")),e._assignEvents("deleteAvatar",e.element.find(".jira-delete-avatar")),e._assignEvents("uploader",e.element.find("#jira-avatar-uploader")),e._assignEvents("selectFilePicker",e.element.find("label.jira-avatar-uploader")),e._assignEvents("selectFilePicker",e.element.find("#jira-avatar-uploader-button")),e.$fileErrorContainer=e.element.find(".jira-avatar-upload-form .error"),void 0!==e.initialSelection&&e.getAvatarElById(e.initialSelection).addClass("jira-selected-avatar"),a(e.element),e.element.find("#jira-avatar-uploader-button").addClass("aui-button")},error:function(r,t,i,n){e.appendErrorContent(e.element,n),a(e.element)}})},appendErrorContent:function(a,e){try{var r=JSON.parse(e.data);r&&r.errorMessages?c.each(r.errorMessages,function(e,r){AJS.messages.error(a,{body:AJS.escapeHTML(r),closeable:!1,shadowed:!1})}):a.append(i.buildDialogErrorContent(e,!0))}catch(r){a.append(i.buildDialogErrorContent(e,!0))}},showFileError:function(a){this.$fileErrorContainer.text(a)},clearFileError:function(){this.$fileErrorContainer.text("")},createCropperDialog:function(a,e){var r=this;return new n({id:"project-avatar-cropper",width:560,content:function(t){var i=r.imageEditor.render(e);r.imageEditor.edit({confirm:function(e){r.imageEditor.startProgress(),r.avatarManager.createAvatar(a,e,{success:function(a){r.render(function(){r.selectAvatar(a.id)})},error:function(){r.resetCropping()}})},cancel:r.resetCropping.bind(r)}),t(i)}})},cropLocalFile:function(e){var i,n=this,o=new r;o.readFileAsDataUri(e.files).then(function(a){return i=a,n.validateImage(i)}).then(function(){var a={cropperOffsetX:100,cropperOffsetY:100,cropperWidth:100,url:i};n.cropperDialog=n.createCropperDialog(e,a),n.cropperDialog.bind("dialogContentReady",function(){c(n).trigger(t.LOADED)}),n.cropperDialog.bind("Dialog.hide",function(){c(n).trigger(t.DISMISSED)}),n.cropperDialog.show()}).catch(function(e){"ValidationError"===e.name?n.showFileError(e.message):a.error(e)})},resetCropping:function(){this.cropperDialog&&this.cropperDialog.hide(),this.element.find("#jira-avatar-uploader").val("")},validateImage:function(a){var r=new Image,t=this,i=new Promise(function(a,i){r.onload=function(){if(this.naturalHeight>t.maxImageDimension||this.naturalWidth>t.maxImageDimension){var r=new Error(e.format("The selected image size is too big. The maximum allowed image size is {0}px * {0}px",t.maxImageDimension));r.name="ValidationError",i(r)}else a(this.naturalWidth,this.naturalHeight)},r.onerror=function(){var a=new Error("Cannot read selected image. Please try again or choose a different image.");a.name="ValidationError",i(a)}});return r.src=a,i},uploadTempAvatar:function(e){var r=this;this.avatarManager.createTemporaryAvatar(e,{success:function(a){a.id?r.render(function(){r.selectAvatar(a.id)}):(e.val(""),r.cropperDialog=new n({id:"project-avatar-cropper",width:560,content:function(e){function t(){var a=i.find("input[type=submit]"),e=c("<span class='icon throbber loading'></span>");return a.attr("aria-disabled","true").attr("disabled",""),a.before(e),function(){e.remove(),a.removeAttr("aria-disabled").removeAttr("disabled")}}var i=r.imageEditor.render(a);r.imageEditor.edit({confirm:function(a){var e=t();r.avatarManager.createAvatarFromTemporary(a,{success:function(a){r.render(function(){r.selectAvatar(a.id)})},error:e})}}),i.find(".cancel").click(function(){r.cropperDialog.hide()}),e(i)}}),r.cropperDialog.bind("dialogContentReady",function(){c(r).trigger(t.LOADED)}),r.cropperDialog.bind("Dialog.hide",function(){c(r).trigger(t.DISMISSED)}),r.cropperDialog.show())},error:function(){a.log(arguments)}})},getAvatarElById:function(a){return this.element.find(".jira-avatar[data-id='"+a+"']")},selectAvatar:function(a){var e=this.avatarManager.getById(a),r=this;this.avatarManager.selectAvatar(this.avatarManager.getById(a),{error:function(){},success:function(){r.getAvatarElById(a).remove(),r.selectCallback&&r.selectCallback.call(r,e,r.avatarManager.getAvatarSrc(e,r.size))}})},selectFilePicker:function(){var a=c("#jira-avatar-uploader");a&&a.click()},deleteAvatar:function(a){var r=this;confirm("Are you sure you want to delete avatar?")&&this.avatarManager.destroy(this.avatarManager.getById(a),{error:function(){},success:function(){var e=r.avatarManager.getSelectedAvatar(),t=r.getAvatarElById(a);t.fadeOut(function(){t.remove()}),e.getId()!==a&&(r.getAvatarElById(e.getId()).addClass("jira-selected-avatar"),r.selectCallback.call(r,e,r.avatarManager.getAvatarSrc(e,r.size),!0))}})},_events:{uploader:{change:function(a,e){this.clearFileError(),this.cropOffline?this.cropLocalFile(e[0]):this.uploadTempAvatar(e)}},deleteAvatar:{click:function(a,e){this.deleteAvatar(e.attr("data-id"))}},selectAvatar:{click:function(a,e){"select-avatar-button"===e[0].id&&this.selectAvatar(e.attr("data-id"))}},selectFilePicker:{click:function(a,e){this.selectFilePicker()}}}})});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/avatar-picker-factory.js' */
define("jira/ajs/avatarpicker/avatar-picker-factory",["jira/util/formatter","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/avatarpicker/avatar-manager","jira/ajs/avatarpicker/avatar-manager-factory","jira/ajs/avatarpicker/avatar","jira/ajs/avatarpicker/avatar/sizes","jira/dialog/form-dialog","wrm/context-path","wrm/data","jquery","exports"],function(a,e,t,r,i,c,n,o,v,p,d,l){l.createUniversalAvatarPicker=function(a){return new e({avatarManager:i.createUniversalAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,avatarType:a.avatarType}),initialSelection:a.initialSelection,imageEditor:new t,size:a.hasOwnProperty("avatarSize")?a.avatarSize:n.LARGE,select:a.select,cropOffline:!0})},l.createProjectAvatarPicker=function(a){return new e({avatarManager:i.createProjectAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId}),imageEditor:new t,size:n.LARGE,select:a.select,cropOffline:!0})},l.createUserAvatarPicker=function(a){return new e({avatarManager:i.createUserAvatarManager({username:a.username,defaultAvatarId:a.defaultAvatarId}),imageEditor:new t,size:n.LARGE,select:a.select})},l.createUniversalAvatarPickerDialog=function(e){var t=e.initialSelection||e.defaultAvatarId,r=new o({trigger:e.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(i){var c,n;n=d('<div id="projectavatar-content-wrapper"/>'),d("<h2 />").text(e.title||"Select a Project Avatar").appendTo(n),c=l.createUniversalAvatarPicker({projectKey:e.projectKey,projectId:e.projectId,defaultAvatarId:e.defaultAvatarId,initialSelection:t,avatarType:e.avatarType,avatarSize:e.avatarSize,select:function(a,i,c){t=String(a.getId()),e.select&&e.select.apply(this,arguments),c||r.hide()}}),c.render(function(a){n.append(a),i(n)})}});r._focusFirstField=function(){}},l.createProjectAvatarPickerDialog=function(e){var t=new o({trigger:e.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(r){var i,c;c=d('<div id="projectavatar-content-wrapper"/>'),d("<h2 />").text("Select a Project Avatar").appendTo(c),i=l.createProjectAvatarPicker({projectKey:e.projectKey,projectId:e.projectId,defaultAvatarId:e.defaultAvatarId,select:function(a,r,i){e.select&&e.select.apply(this,arguments),i||t.hide()}}),i.render(function(a){c.append(a),r(c)})}});t._focusFirstField=function(){}}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/avatar-picker-image-editor.js' */
define("jira/ajs/avatarpicker/avatar-picker/image-editor",["jira/ajs/control","jquery"],function(e,t){var a=e.extend({render:function(e){return this.element=t('<div id="avatar-picker-image-editor"/>').html(JIRA.Templates.AvatarPicker.imageEditor(e)),this.element},edit:function(e){var a=this,i=this.element.find(".avataror");e=e||{},i.unbind(),i.bind("AvatarImageLoaded",function(){e.ready&&e.ready()}),i.find("img").load(function(){i.avataror({previewElement:a.element.find(".jira-avatar-cropper-header"),parent:a.element})}),this.element.find("#avataror").submit(function(a){a.preventDefault(),e.confirm&&e.confirm({cropperOffsetX:t("#avatar-offsetX").val(),cropperOffsetY:t("#avatar-offsetY").val(),cropperWidth:t("#avatar-width").val()})}).find(".cancel").click(function(t){t.preventDefault(),e.cancel&&e.cancel()})},startProgress:function(){this.element.find("input[type=submit]").attr("aria-disabled","true").attr("disabled",""),this.element.find(".spinner").spin()},stopProgress:function(){this.element.find("input[type=submit]").removeAttr("aria-disabled").removeAttr("disabled"),this.element.find(".spinner").spinStop()}});return a.LOADED="imageEditorLoaded",a.DISMISSED="imageEditorDismissed",a});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/GravatarUtil.js' */
define("jira/ajs/avatarpicker/gravatar-util",["jquery","exports"],function(a,e){e.showGravatarHelp=function(e){"undefined"!=typeof e&&"undefined"!=typeof e.entry&&(a(".gravatar-signup-text").addClass("hidden"),a(".gravatar-login-text").removeClass("hidden"))},e.displayGravatarHelp=function(){var r=a("#gravatar_json_url");r.length&&a.ajax(r.val(),{dataType:"jsonp",success:e.showGravatarHelp})}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/initAvatarPicker.js' */
!function(){var a=require("jquery"),r=require("jira/ajs/avatarpicker/avatar/sizes"),e=require("jira/ajs/avatarpicker/avatar-factory"),t=require("jira/ajs/avatarpicker/avatar-manager-factory"),A=require("jira/ajs/avatarpicker/avatar-picker-factory"),c=require("jira/ajs/avatarpicker/gravatar-util");AJS.namespace("JIRA.Avatar",null,require("jira/ajs/avatarpicker/avatar")),AJS.namespace("JIRA.Avatar.createCustomAvatar",null,e.createCustomAvatar),AJS.namespace("JIRA.Avatar.createSystemAvatar",null,e.createSystemAvatar),AJS.namespace("JIRA.Avatar.getSizeObjectFromName",null,r.getSizeObjectFromName),AJS.namespace("JIRA.Avatar.LARGE",null,r.LARGE),AJS.namespace("JIRA.Avatar.MEDIUM",null,r.MEDIUM),AJS.namespace("JIRA.Avatar.SMALL",null,r.SMALL),AJS.namespace("JIRA.AvatarManager",null,require("jira/ajs/avatarpicker/avatar-manager")),AJS.namespace("JIRA.AvatarManager.createUniversalAvatarManager",null,t.createUniversalAvatarManager),AJS.namespace("JIRA.AvatarManager.createProjectAvatarManager",null,t.createProjectAvatarManager),AJS.namespace("JIRA.AvatarManager.createUserAvatarManager",null,t.createUserAvatarManager),AJS.namespace("JIRA.AvatarPicker",null,require("jira/ajs/avatarpicker/avatar-picker")),AJS.namespace("JIRA.AvatarPicker.ImageEditor",null,require("jira/ajs/avatarpicker/avatar-picker/image-editor")),AJS.namespace("JIRA.AvatarPicker.createUniversalAvatarPicker",null,A.createUniversalAvatarPicker),AJS.namespace("JIRA.AvatarPicker.createProjectAvatarPicker",null,A.createProjectAvatarPicker),AJS.namespace("JIRA.AvatarPicker.createUserAvatarPicker",null,A.createUserAvatarPicker),AJS.namespace("JIRA.createUniversalAvatarPickerDialog",null,A.createUniversalAvatarPickerDialog),AJS.namespace("JIRA.createProjectAvatarPickerDialog",null,A.createProjectAvatarPickerDialog),AJS.namespace("JIRA.AvatarStore",null,require("jira/ajs/avatarpicker/avatar-store")),AJS.namespace("JIRA.AvatarUtil",null,require("jira/ajs/avatarpicker/avatar-util")),AJS.namespace("JIRA.GravatarUtil.showGravatarHelp",null,c.showGravatarHelp),a(function(){a("#gravatar_help_params")&&c.displayGravatarHelp()})}();;
;
/* module-key = 'jira.webresources:avatar-picker', location = 'includes/ajs/avatarpicker/AvatarPicker.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.AvatarPicker&&(JIRA.Templates.AvatarPicker={}),JIRA.Templates.AvatarPicker.picker=function(a,t){for(var e='<form class="jira-avatar-upload-form aui top-label" action="#"><input name="id" value="10000" type="hidden" ><input name="pid" value="10000" type="hidden" ><div class="field-group"><button id="jira-avatar-uploader-button" type="button">'+soy.$$escapeHtml("Upload a new avatar")+'</button><input type="file" class="ignore-inline-attach" name="avatar" id="jira-avatar-uploader" style="visibility:hidden;"/><div class="error"></div></div></form><div class="form-body"><ul class="jira-avatars">',i=a.avatars.system,s=i.length,r=0;r<s;r++){var l=i[r];e+='<li class="jira-avatar jira-system-avatar '+(l.isSelected?"jira-selected-avatar":"")+'" title="Select this Avatar" data-id="'+soy.$$escapeHtml(l.id)+'"><button id="select-avatar-button" data-id="'+soy.$$escapeHtml(l.id)+'" class="jira-icon-button" title="'+soy.$$escapeHtml("Select this Avatar")+'"><img id="avatar-'+soy.$$escapeHtml(l.id)+'" src="'+soy.$$escapeHtml(l.src)+'" width="'+soy.$$escapeHtml(l.width)+'" height="'+soy.$$escapeHtml(l.height)+'" alt="'+soy.$$escapeHtml("Select this Avatar")+'"/></button></li>'}for(var c=a.avatars.custom,o=c.length,p=0;p<o;p++){var d=c[p];e+='<li class="jira-avatar jira-custom-avatar '+(d.isSelected?"jira-selected-avatar":"")+'" title="Select this avatar" data-id="'+soy.$$escapeHtml(d.id)+'"><button id="select-avatar-button" data-id="'+soy.$$escapeHtml(d.id)+'" class="jira-icon-button" title="'+soy.$$escapeHtml("Select this Avatar")+'"><img id="avatar-'+soy.$$escapeHtml(d.id)+'" src="'+soy.$$escapeHtml(d.src)+'" width="'+soy.$$escapeHtml(d.width)+'" height="'+soy.$$escapeHtml(d.height)+'" alt="'+soy.$$escapeHtml("Select this Avatar")+'" /></span><button class="jira-delete-avatar jira-icon-button" data-id="'+soy.$$escapeHtml(d.id)+'" title="'+soy.$$escapeHtml("Delete this Avatar")+'">'+soy.$$escapeHtml("Delete this Avatar")+"</button></li>"}return e+="</ul></div>"},JIRA.Templates.AvatarPicker.imageEditor=function(a,t){return'<form id="avataror" class="jira-avatar-cropper-form aui" action="/jira/secure/project/AvatarPicker.jspa"><input type="hidden" name="cropperOffsetX" id="avatar-offsetX" value="'+soy.$$escapeHtml(a.cropperOffsetX)+'"><input type="hidden" name="cropperOffsetY" id="avatar-offsetY" value="'+soy.$$escapeHtml(a.cropperOffsetY)+'"><input type="hidden" name="cropperWidth" id="avatar-width"  value="'+soy.$$escapeHtml(a.cropperWidth)+'"><div class="jira-avatar-cropper-header"><p>'+soy.$$escapeHtml("Please select which part of the uploaded image you wish to use as the avatar.")+'</p></div><div class="form-body"><div class="avataror"><img src="'+soy.$$escapeHtml(a.url)+'" height="300" /></div></div><div class="form-footer buttons-container"><div class="buttons"><span class="icon spinner"></span><input type="submit" class="aui-button aui-button-primary" value="'+soy.$$escapeHtml("Confirm")+'"><a class="aui-button aui-button-link cancel" href="#">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"};;
;
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/initAvatarPickerTrigger.js' */
define("jira/admin/init/avatar-picker-trigger",["jira/ajs/layer/layer-constants","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/layer/inline-layer","jira/ajs/contentretriever/content-retriever","jira/ajs/avatarpicker/avatar","jira/ajs/avatarpicker/avatar-picker-factory","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jquery"],function(t,a,e,r,i,n,c,s,v,o,d){"use strict";function f(t){var a=d(".jira-avatar-picker-trigger"),e=d(".jira-avatar-picker-trigger img, img.jira-avatar-picker-trigger",t),r=d(t).find("#avatar-picker-avatar-id"),i=d(t).find("#avatar-picker-iconurl"),n=d(t).find("#avatar-type");""!==n.text()&&s.createUniversalAvatarPickerDialog({trigger:a,title:d(t).find("#avatar-dialog-title").text(),projectId:d(t).find("#avatar-owner-id").text(),projectKey:d(t).find("#avatar-owner-key").text(),defaultAvatarId:d(t).find("#default-avatar-id").text(),initialSelection:r.val(),avatarSize:c.getSizeObjectFromName(d(t).find("#avatar-size").text()),avatarType:n.text(),select:function(t,a){e.attr("src",a),i.val(a),r.val(t.getId())}})}function l(a){var e=d(".jira-inline-avatar-picker-trigger",a);e.length&&new j({offsetTarget:e,projectId:d(a).find("#avatar-owner-id").text(),projectKey:d(a).find("#avatar-owner-key").text(),defaultAvatarId:d(a).find("#default-avatar-id").text(),alignment:t.LEFT,width:420,allowDownsize:!0})}var g=n.extend({init:function(t){this.avatarPicker=t},content:function(t){this.avatarPicker.render(function(a){t(d("<div />").html(a))})},cache:function(){return!1},isLocked:function(){},startingRequest:function(){},finishedRequest:function(){}}),j=i.extend({init:function(t){var a=this;this.avatarPicker=v.createProjectAvatarPicker({projectId:t.projectId,projectKey:t.projectKey,defaultAvatarId:t.defaultAvatarId,select:function(e,r,i){t.select&&t.select.apply(this,arguments),i||a.hide(),a.offsetTarget().attr("src",r),a.offsetTarget().trigger("AvatarSelected")}}),t.contentRetriever=new g(this.avatarPicker),d(this.avatarPicker.imageEditor).bind(o.LOADED,function(){a.setWidth(a.layer().attr("scrollWidth"))}),this._super(t);var e=this.offsetTarget(),r=d("<span class='jira-avatar-picker-trigger'></span>");r.insertBefore(e).append(e),this._assignEvents("offsetTarget",r)},_events:{offsetTarget:{click:function(t){this.show()}}}});a.bind(e.NEW_CONTENT_ADDED,function(t,a,e){e!==r.panelRefreshed&&(f(a),l(a))})});;
;
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/init/init-avatar-picker.js' */
require("jira/admin/init/avatar-picker-trigger");;
;
/* module-key = 'jira.webresources:croneditor', location = '/includes/js/cron/croneditor.js' */
define("jira/util/cron",["exports"],function(n){n.hideCronEdit=function(n){document.getElementById(n).style.display="none"},n.showCronEdit=function(n){document.getElementById(n).style.display=""},n.toggleFrequencyControl=function(n,i){var e=document.getElementById(n+"interval");0==e.value?switchToOnce(n,i):switchToMany(n,i)},n.switchToOnce=function(n,i){hideCronEdit(n+"runMany"),showCronEdit(n+"runOnce"),i&&(timesOnce[n]=!0)},n.switchToMany=function(n,i){hideCronEdit(n+"runOnce"),showCronEdit(n+"runMany"),i&&(timesOnce[n]=!1)},n.switchToDaysOfMonth=function(n){hideCronEdit(n+"daysOfWeek"),showCronEdit(n+"daysOfMonth"),showCronEdit(n+"freqDiv"),hideCronEdit(n+"innerFreqDiv"),hideCronEdit(n+"advanced"),switchToOnce(n,!1)},n.switchToDaysOfWeek=function(n){showCronEdit(n+"daysOfWeek"),hideCronEdit(n+"daysOfMonth"),showCronEdit(n+"freqDiv"),showCronEdit(n+"innerFreqDiv"),hideCronEdit(n+"advanced"),switchToOriginal(n)},n.switchToDaily=function(n){hideCronEdit(n+"daysOfWeek"),hideCronEdit(n+"daysOfMonth"),showCronEdit(n+"freqDiv"),showCronEdit(n+"innerFreqDiv"),hideCronEdit(n+"advanced"),switchToOriginal(n)},n.switchToAdvanced=function(n){hideCronEdit(n+"daysOfWeek"),hideCronEdit(n+"daysOfMonth"),hideCronEdit(n+"runOnce"),hideCronEdit(n+"runMany"),hideCronEdit(n+"freqDiv"),showCronEdit(n+"advanced")},n.switchToOriginal=function(n){timesOnce[n]?switchToOnce(n,!1):switchToMany(n,!1)}}),AJS.namespace("hideCronEdit",null,require("jira/util/cron").hideCronEdit),AJS.namespace("showCronEdit",null,require("jira/util/cron").showCronEdit),AJS.namespace("toggleFrequencyControl",null,require("jira/util/cron").toggleFrequencyControl),AJS.namespace("switchToOnce",null,require("jira/util/cron").switchToOnce),AJS.namespace("switchToMany",null,require("jira/util/cron").switchToMany),AJS.namespace("switchToDaysOfMonth",null,require("jira/util/cron").switchToDaysOfMonth),AJS.namespace("switchToDaysOfWeek",null,require("jira/util/cron").switchToDaysOfWeek),AJS.namespace("switchToDaily",null,require("jira/util/cron").switchToDaily),AJS.namespace("switchToAdvanced",null,require("jira/util/cron").switchToAdvanced),AJS.namespace("switchToOriginal",null,require("jira/util/cron").switchToOriginal);;
;
/* module-key = 'jira.webresources:field-templates', location = 'includes/jira/field/templates/singleUserPicker.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Fields&&(JIRA.Templates.Fields={}),"undefined"==typeof JIRA.Templates.Fields.Pickers&&(JIRA.Templates.Fields.Pickers={}),"undefined"==typeof JIRA.Templates.Fields.Pickers.User&&(JIRA.Templates.Fields.Pickers.User={}),JIRA.Templates.Fields.Pickers.User.single=function(e,s){for(var t='<select id="'+soy.$$escapeHtml(e.field.id)+'" name="'+soy.$$escapeHtml(e.field.name)+'" class="single-user-picker js-'+(e.type?soy.$$escapeHtml(e.type):"default-user-picker")+'"'+(e.inputText?' data-input-text="'+soy.$$escapeHtml(e.inputText)+'"':"")+(e.editValue?' data-edit-value="'+soy.$$escapeHtml(e.editValue)+'"':"")+(e.showDropdownButton?' data-show-dropdown-button="true"':"")+(e.userType?' data-user-type="'+soy.$$escapeHtml(e.userType)+'"':"")+(e.containerClass?' data-container-class="'+soy.$$escapeHtml(e.containerClass)+'"':"")+">",a=e.options,l=a.length,o=0;o<l;o++){var i=a[o];if(i.optionGroup){t+='<optgroup id="'+soy.$$escapeHtml(e.field.id)+"-group-"+soy.$$escapeHtml(i.id)+'" label="'+soy.$$escapeHtml(i.display)+'"'+(i.footer?' data-footer-text="'+soy.$$escapeHtml(i.footer)+'"':"")+(i.weight!=-1?' data-weight="'+soy.$$escapeHtml(i.weight)+'"':"")+">";for(var p=i.groupOptions,d=p.length,r=0;r<d;r++){var n=p[r];t+=JIRA.Templates.Fields.Pickers.User.option(n)}t+="</optgroup>"}else t+=JIRA.Templates.Fields.Pickers.User.option(i)}return t+="</select>"},JIRA.Templates.Fields.Pickers.User.option=function(e,s){return"<option "+(e.loggedInUser?'class="current-user" ':"")+(e.selected?'selected="selected" ':"")+'value="'+soy.$$escapeHtml(e.optionName)+'" data-field-text="'+soy.$$escapeHtml(e.displayName)+'" data-field-label="'+soy.$$escapeHtml(e.displayName)+(e.emailAddress?" - "+soy.$$escapeHtml(e.emailAddress):"")+'" data-icon="'+soy.$$escapeHtml(e.avatarURL)+'" >'+soy.$$escapeHtml(e.displayName)+"</option>"};;
;
/* module-key = 'jira.webresources:field-templates', location = 'includes/jira/field/templates/assigneeField.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Fields&&(JIRA.Templates.Fields={}),"undefined"==typeof JIRA.Templates.Fields.Pickers&&(JIRA.Templates.Fields.Pickers={}),"undefined"==typeof JIRA.Templates.Fields.Pickers.User&&(JIRA.Templates.Fields.Pickers.User={}),JIRA.Templates.Fields.Pickers.User.assignee=function(e,s){return""+JIRA.Templates.Fields.Pickers.User.single(soy.$$augmentMap(e,{options:e.assigneeOptions.options,showDropdownButton:!0,userType:"assignee",type:"assignee-picker",containerClass:"long-field"}))+(e.isLoggedInUserAssignable?'<a href="#'+soy.$$escapeHtml(e.field.id)+'" id="assign-to-me-trigger">'+soy.$$escapeHtml("Assign to me")+"</a>":"")+'<fieldset class="hidden parameters"><input type="hidden" title="projectKeys" value="'+soy.$$escapeHtml(e.projectKeys)+'"/>'+(e.issueKey?'<input type="hidden" title="assigneeEditIssueKey" value="'+soy.$$escapeHtml(e.issueKey)+'"/>':"")+(e.actionDescriptorId?'<input type="hidden" title="actionDescriptorId" value="'+soy.$$escapeHtml(e.actionDescriptorId)+'"/>':"")+"</fieldset>"};;
;
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/user-picker-template-wrapper.js' */
define("jira/field/user-picker/templates",[],function(){"use strict";return window.JIRA.Templates.Fields.Pickers.User});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/lib/jquery.dotdotdot-1.5.7.js' */
!function(t){function e(t,e,n){var o=t.children(),i=!1;t.empty();for(var d=0,a=o.length;d<a;d++){var l=o.eq(d);if(t.append(l),n&&t.append(n),r(t,e)){l.remove(),i=!0;break}n&&n.remove()}return i}function n(e,i,d,a,l){var u=e.contents(),f=!1;e.empty();for(var c="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style",s=0,h=u.length;s<h&&!f;s++){var p=u[s],g=t(p);"undefined"!=typeof p&&(e.append(g),l&&e[e.is(c)?"after":"append"](l),3==p.nodeType?r(d,a)&&(f=o(g,i,d,a,l)):f=n(g,i,d,a,l),f||l&&l.remove())}return f}function o(t,e,n,d,u){var f=!1,c=t[0];if("undefined"==typeof c)return!1;for(var s="letter"==d.wrap?"":" ",h=l(c).split(s),p=-1,g=-1,v=0,w=h.length-1;v<=w;){var m=Math.floor((v+w)/2);if(m==g)break;g=m,a(c,h.slice(0,g+1).join(s)+d.ellipsis),r(n,d)?w=g:(p=g,v=g)}if(p==-1||1==h.length&&0==h[0].length){var y=t.parent();t.remove();var b=u?u.length:0;if(y.contents().size()>b){var x=y.contents().eq(-1-b);f=o(x,e,n,d,u)}else{var c=y.prev().contents().eq(-1)[0];if("undefined"!=typeof c){var T=i(l(c),d);a(c,T),y.remove(),f=!0}}}else{var T=i(h.slice(0,p+1).join(s),d);f=!0,a(c,T)}return f}function r(t,e){return t.innerHeight()>e.maxHeight}function i(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function a(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function l(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function u(e,n){return"undefined"!=typeof e&&(!!e&&("string"==typeof e?(e=t(e,n),!!e.length&&e):"object"==typeof e&&("undefined"!=typeof e.jquery&&e)))}function f(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],o=0,r=n.length;o<r;o++){var i=parseInt(t.css(n[o]),10);isNaN(i)&&(i=0),e-=i}return e}function c(t,e){return!!t&&(e="string"==typeof e?"dotdotdot: "+e:["dotdotdot:",e],"undefined"!=typeof window.console&&"undefined"!=typeof window.console.log&&window.console.log(e),!1)}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(o){if(0==this.length)return o&&o.debug===!1||c(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(o)});var i=this;i.data("dotdotdot")&&i.trigger("destroy.dot"),i.bind_events=function(){return i.bind("update.dot",function(o,d){o.preventDefault(),o.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:f(i),l.maxHeight+=l.tolerance,"undefined"!=typeof d&&(("string"==typeof d||d instanceof HTMLElement)&&(d=t("<div />").append(d).contents()),d instanceof t&&(a=d)),v=i.wrapInner('<div class="dotdotdot" />').children(),v.empty().append(a.clone(!0)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var u=!1,c=!1;return h.afterElement&&(u=h.afterElement.clone(!0),h.afterElement.remove()),r(v,l)&&(c="children"==l.wrap?e(v,l,u):n(v,i,v,l,u)),v.replaceWith(v.contents()),v=null,t.isFunction(l.callback)&&l.callback.call(i[0],c,a),h.isTruncated=c,c}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(i[0],h.isTruncated),h.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(i[0],a),a}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),i.unwatch().unbind_events().empty().append(a).data("dotdotdot",!1)}),i},i.unbind_events=function(){return i.unbind(".dot"),i},i.watch=function(){if(i.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),o=e.height();e.bind("resize.dot"+h.dotId,function(){n==e.width()&&o==e.height()&&l.windowResizeFix||(n=e.width(),o=e.height(),g&&clearInterval(g),g=setTimeout(function(){i.trigger("update.dot")},10))})}else p=d(i),g=setInterval(function(){var t=d(i);p.width==t.width&&p.height==t.height||(i.trigger("update.dot"),p=d(i))},100);return i},i.unwatch=function(){return t(window).unbind("resize.dot"+h.dotId),g&&clearInterval(g),i};var a=i.contents(),l=t.extend(!0,{},t.fn.dotdotdot.defaults,o),h={},p={},g=null,v=null;return h.afterElement=u(l.after,i),h.isTruncated=!1,h.dotId=s++,i.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&i.watch(),i},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,debug:!1};var s=1,h=t.fn.html;t.fn.html=function(t){return"undefined"!=typeof t?this.data("dotdotdot")&&"function"!=typeof t?this.trigger("update",[t]):h.call(this,t):h.call(this)};var p=t.fn.text;t.fn.text=function(e){if("undefined"!=typeof e){if(this.data("dotdotdot")){var n=t("<div />");return n.text(e),e=n.html(),n.remove(),this.trigger("update",[e])}return p.call(this,e)}return p.call(this)}}}(require("jquery"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/soy/ProjectTemplatesList.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ProjectTemplates&&(JIRA.Templates.ProjectTemplates={}),JIRA.Templates.ProjectTemplates.renderProjectTemplates=function(e,t){return""+(0==soy.$$getMapKeys(e.projectTemplates).length?JIRA.Templates.errorMsg({closeable:!1,msg:"No project templates could be found."}):JIRA.Templates.ProjectTemplates.renderTemplates(e))},JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType=function(e,t){var a="";if(0==e.projectTemplatesByType.length)a+=JIRA.Templates.errorMsg({closeable:!1,msg:"No project templates could be found."});else for(var s=e.projectTemplatesByType,p=s.length,l=0;l<p;l++){var m=s[l];a+='<div class="template-group" id="project-template-group-'+soy.$$escapeHtml(m.projectTypeBean.projectTypeKey)+'"><div class="template-group-header"><h6><img class="project-type-icon" src="data:image/svg+xml;base64, '+soy.$$escapeHtml(m.projectTypeBean.icon)+' "/><span>'+soy.$$escapeHtml(m.projectTypeBean.projectTypeDisplayKey)+"</span></h6></div>"+JIRA.Templates.ProjectTemplates.renderTemplates({projectTemplates:m.projectTemplates,projectTypeKey:m.projectTypeBean.projectTypeKey})+"</div>"}return a},JIRA.Templates.ProjectTemplates.renderTemplates=function(e,t){return'<div class="pt-templates-list">'+JIRA.Templates.ProjectTemplates.renderItems(e)+"</div>"},JIRA.Templates.ProjectTemplates.renderItems=function(e,t){var a='<ol class="templates" tabindex="100">',s=4;if(e.projectTemplates.length>s&&"business"==e.projectTypeKey)a+=JIRA.Templates.ProjectTemplates.renderBusinessTemplatesWithViewMoreTemplate({templates:e.projectTemplates,maxItemsWithoutViewMoreLink:s});else for(var p=e.projectTemplates,l=p.length,m=0;m<l;m++){var o=p[m];a+=JIRA.Templates.ProjectTemplates.renderItem({templateItem:o})}return a+="</ol>"},JIRA.Templates.ProjectTemplates.renderItem=function(e,t){return'<li class="template '+(e.additionalClasses?soy.$$escapeHtml(e.additionalClasses):"")+'"'+(e.templateItem.itemModuleCompleteKey?'data-item-module-complete-key="'+soy.$$escapeHtml(e.templateItem.itemModuleCompleteKey)+'"':"")+(e.templateItem.projectTemplateModuleCompleteKey?'data-project-template-module-complete-key="'+soy.$$escapeHtml(e.templateItem.projectTemplateModuleCompleteKey)+'"':"")+(e.templateItem.createProject?'data-create-project="'+soy.$$escapeHtml(e.templateItem.createProject)+'"':"")+(e.templateItem.demoProject?'data-demo-project="'+soy.$$escapeHtml(e.templateItem.demoProject)+'"':"")+(e.templateItem.backgroundIconUrl?'data-background-icon-url="'+soy.$$escapeHtml(e.templateItem.backgroundIconUrl)+'"':"")+(e.templateItem.name?'data-name="'+soy.$$escapeHtml(e.templateItem.name)+'"':"")+(e.templateItem.description?'data-description="'+soy.$$escapeHtml(e.templateItem.description)+'"':"")+(e.templateItem.longDescriptionContent?'data-long-description-content="'+soy.$$escapeHtml(e.templateItem.longDescriptionContent)+'"':"")+(e.templateItem.infoSoyPath?'data-info-soy-path="'+soy.$$escapeHtml(e.templateItem.infoSoyPath)+'"':"")+(e.templateItem.projectTypeKey?'data-project-type="'+soy.$$escapeHtml(e.templateItem.projectTypeKey)+'"':"")+'><img class="template-preview" src="'+soy.$$escapeHtml(e.templateItem.iconUrl)+'" /><div class="template-meta"><div class="template-name">'+soy.$$escapeHtml(e.templateItem.name)+'</div><div class="template-description">'+soy.$$escapeHtml(e.templateItem.description)+"</div></div></li>"},JIRA.Templates.ProjectTemplates.renderBusinessTemplatesWithViewMoreTemplate=function(e,t){for(var a="",s=e.templates.length,p=0;p<s;p++){var l=e.maxItemsWithoutViewMoreLink-1;a+=JIRA.Templates.ProjectTemplates.renderItem({templateItem:e.templates[p],additionalClasses:""+(p>=l?"more-business-templates":"")})}return a+=JIRA.Templates.ProjectTemplates.renderViewMoreBusinessTemplatesItem(null)},JIRA.Templates.ProjectTemplates.renderViewMoreBusinessTemplatesItem=function(e,t){var a="",s="More project templates",p="Choose from other project types, such as content management or recruitment.";return a+='<li id="view-more-business-templates" class="template"><div class="template-preview" /><div class="template-meta"><div class="template-name">'+soy.$$escapeHtml(s)+'</div><div class="template-description">'+soy.$$escapeHtml(p)+"</div></div></li>"},JIRA.Templates.ProjectTemplates.loadingTemplatesList=function(e,t){return'<div class="wait-container"><img class="wait-icon" src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/wait.gif"><span class="wait-text">'+soy.$$escapeHtml("Loading project templates")+"&hellip;</span></div>"},JIRA.Templates.ProjectTemplates.footerLinks=function(e,t){return'<div class="footer-links">'+(e.projectImportAvailable?'<a class="import-project-trigger button-panel-link" href="'+soy.$$escapeHtml(AJS.contextPath())+'/secure/admin/views/ExternalImport1.jspa">'+soy.$$escapeHtml("Import a project")+"</a>|":"")+'<a class="create-with-shared-config button-panel-link" href="#"><span class="aui-icon aui-icon-create-shared">'+soy.$$escapeHtml("Create with shared configuration")+"</span> "+soy.$$escapeHtml("Create with shared configuration")+"</a>"+(e.showDemoLink&&e.projectImportAvailable?'| <a class="add-demo-project-trigger button-panel-link" href="#">'+soy.$$escapeHtml("Create sample data")+"</a>":"")+"</div>"},JIRA.Templates.ProjectTemplates.addWorkflowsLink=function(e,t){return'<a class="add-workflow-link" href="'+soy.$$escapeHtml(e.baseUrl)+'/plugins/servlet/wfshare-import?src=projecttemplates" tabindex="-1">'+soy.$$escapeHtml("View Marketplace Workflows")+"</a>"};;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/soy/AddProject.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ProjectTemplates&&(JIRA.Templates.ProjectTemplates={}),JIRA.Templates.ProjectTemplates.addProjectForm=function(e,t){var r=""+(e.warnUserUnableToAccessApplication?JIRA.Templates.ProjectTemplates.warnApplicationAccess(e):"");if(e.errors.errorMessages)for(var a=e.errors.errorMessages,o=a.length,i=0;i<o;i++){var s=a[i];r+=JIRA.Templates.errorMsg({closeable:!1,msg:s})}return r+='<div class="add-project-wrapper"><div class="add-project-form-wrapper">'+aui.form.form({content:""+aui.form.fieldset({legendContent:"",content:""+JIRA.Templates.ProjectTemplates.longTextField({id:"name",name:"name",isRequired:!1,maxLength:e.maxNameLength,labelContent:"Name",descriptionText:AJS.format("Max. {0} characters.",e.maxNameLength),value:e.currentName?e.currentName:"",errorTexts:e.errors.errors.projectName?[e.errors.errors.projectName]:[]})+JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon({id:"key",name:"key",isRequired:!1,maxLength:e.maxKeyLength,labelContent:"Key",descriptionText:AJS.format("Max. {0} characters.",e.maxKeyLength),helpTitle:"What\'s a project key?",value:e.currentKey?e.currentKey:"",errorTexts:e.errors.errors.projectKey?[e.errors.errors.projectKey]:[]})+(e.shouldShowLead?JIRA.Templates.ProjectTemplates.projectLeadField({field:e.projectLeadPickerField,isRequired:!1,errorTexts:e.errors.errors.projectLead?[e.errors.errors.projectLead]:[],options:e.leadOptions}):"")+'<input type="hidden" name="keyEdited" id="keyEdited" value="false"><input type="hidden" name="projectTemplateWebItemKey" value="'+soy.$$escapeHtml(e.projectTemplateWebItemKey)+'"><input type="hidden" name="projectTemplateModuleKey" value="'+soy.$$escapeHtml(e.projectTemplateModuleKey)+'"><input type="submit" class="pt-hidden-submit offscreen-left">'}),id:"add-project-form"})+"</div>"+(e.projectTemplateDescriptionContent?'<div class="add-project-description-wrapper"><div class="project-template-title"><h3>'+soy.$$escapeHtml(e.projectTemplateTitle)+'</h3></div><div class="project-template-description">'+soy.$$filterNoAutoescape(e.projectTemplateDescriptionContent)+"</div></div>":"")+"</div>"},JIRA.Templates.ProjectTemplates.keyHelp=function(e,t){return'<div class="project-key-help"><h6>'+soy.$$escapeHtml("PROJECT KEY")+"</h6><p>"+soy.$$filterNoAutoescape("The project key is a unique code that distinguishes a project from another.\u003cbr/\u003eIt also prefixes all issues in the project.")+"</p></div>"},JIRA.Templates.ProjectTemplates.projectLeadField=function(e,t){var r=""+aui.form.label({forField:e.field.name+"-field",isRequired:e.isRequired,content:"Project lead"})+JIRA.Templates.Fields.Pickers.User.single({field:e.field,options:e.options,editValue:e.value})+aui.form.fieldDescription({message:"Enter the username of the project lead."});if(e.errorTexts)for(var a=e.errorTexts,o=a.length,i=0;i<o;i++){var s=a[i];r+=aui.form.fieldError({message:s})}var n=""+aui.form.fieldGroup({content:r});return n},JIRA.Templates.ProjectTemplates.warnApplicationAccess=function(e,t){var r="",a=""+JIRA.Templates.Links.basicHelpLink({url:"/admin/apps",desc:"Update your access",title:"Update your access",isLocal:!1}),o=""+(null!=e.applicationName&&e.applicationName.length>2?soy.$$filterNoAutoescape(AJS.format("Uh-oh. You can create this project, but it won\'\'t be fully functional until you have the right access for {0}. {1} now or contact your site administrator.",e.applicationName,a)):soy.$$filterNoAutoescape(AJS.format("Uh-oh. You can create this project, but it won\'\'t be fully functional until you have the right access for this application. {0} now or contact your site administrator.",a)));return r+=aui.message.hint({id:"project-create-admin-access-error",content:""+soy.$$filterNoAutoescape(o)})},JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon=function(e,t){var r=""+aui.form.label({forField:e.name,isRequired:e.isRequired,content:e.labelContent})+aui.form.input({id:e.id,name:e.name,type:"text",maxLength:e.maxLength,value:e.value})+'<a class="help-lnk" title="'+soy.$$escapeHtml(e.helpTitle)+'" id="'+soy.$$escapeHtml(e.id)+'-help-icon"><span class="aui-icon aui-icon-help">'+soy.$$escapeHtml(e.helpTitle)+"</span></a>"+(e.descriptionText?aui.form.fieldDescription({message:e.descriptionText}):"");if(e.errorTexts)for(var a=e.errorTexts,o=a.length,i=0;i<o;i++){var s=a[i];r+=aui.form.fieldError({message:s})}var n=""+aui.form.fieldGroup({content:r});return n},JIRA.Templates.ProjectTemplates.longTextField=function(e,t){var r=""+aui.form.label({forField:e.name,isRequired:e.isRequired,content:e.labelContent})+aui.form.input({id:e.id,name:e.name,type:"text",maxLength:e.maxLength,value:e.value,extraClasses:"long-field"})+(e.descriptionText?aui.form.fieldDescription({message:e.descriptionText}):"");if(e.errorTexts)for(var a=e.errorTexts,o=a.length,i=0;i<o;i++){var s=a[i];r+=aui.form.fieldError({message:s})}var n=""+aui.form.fieldGroup({content:r});return n},JIRA.Templates.ProjectTemplates.spinner=function(e,t){return"<span id='"+soy.$$escapeHtml(e.id)+"' class='icon throbber loading'/>"},JIRA.Templates.ProjectTemplates.formatAnchor=function(e,t){return'<a href="'+soy.$$escapeHtml(e.href)+'"'+(e.title?' title="'+soy.$$escapeHtml(e.title)+'"':"")+">"+soy.$$escapeHtml(e.body)+"</a>"};;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/soy/CreateSharedProject.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ProjectTemplates&&(JIRA.Templates.ProjectTemplates={}),JIRA.Templates.ProjectTemplates.createSharedProjectForm=function(e,t){return'<div class="create-shared-project-wrapper"><div class="create-shared-project-form-wrapper">'+aui.form.form({content:""+aui.form.fieldset({content:"<p>"+soy.$$escapeHtml("Select the existing project that you\'d like to share configurations with.")+'<a class="help-lnk" title="'+soy.$$escapeHtml("What will be shared?")+'" id="shared-help-icon"><span class="aui-icon aui-icon-help">'+soy.$$escapeHtml("What will be shared?")+"</span></a></p>"+aui.form.fieldGroup({extraClasses:"project-picker-group",content:""+aui.form.label({forField:"project-picker",isRequired:!1,content:"Choose a project"})+aui.form.input({id:"project-picker",name:"project",type:"text"})+'<div id="project-picker-options" data-suggestions="'+soy.$$escapeHtml(e.projectSuggestions)+'"></div>'})+'<p class="create-shared-info">'+soy.$$escapeHtml("When a configuration is shared with several projects, it means that any changes made to the configuration will affect all the projects.")+"</p>"}),id:"create-shared-project-form"})+"</div></div>"},JIRA.Templates.ProjectTemplates.loading=function(e,t){return'<div><div class="dialog-spinner"></div></div>'},JIRA.Templates.ProjectTemplates.noProjects=function(e,t){return"<p>"+soy.$$escapeHtml("Looks like no other projects exist yet. Please create a brand new project first before trying to share an existing project\'s configuration.")+"</p>"},JIRA.Templates.ProjectTemplates.sharedHelp=function(e,t){return'<div class="shared-help"><p><strong>'+soy.$$escapeHtml("What will be shared?")+"</strong></p><p>"+soy.$$escapeHtml("Configuration refers to the set of schemes used by a project")+"</p><ul><li>"+soy.$$escapeHtml("Permission Scheme")+"</li><li>"+soy.$$escapeHtml("Notification Scheme")+"</li><li>"+soy.$$escapeHtml("Issue Security Scheme")+"</li><li>"+soy.$$escapeHtml("Workflow Scheme")+"</li><li>"+soy.$$escapeHtml("Issue Type Scheme")+"</li><li>"+soy.$$escapeHtml("Issue Type Screen Scheme")+"</li><li>"+soy.$$escapeHtml("Field Configuration Scheme")+"</li></ul></div>"};;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/config.js' */
define("jira/project-templates/config",{model:{}});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/project-key-generator.js' */
define("jira/project-templates/project-key-generator",["jquery","underscore"],function(A,e){var R={};return R.IGNORED_WORDS=["THE","A","AN","AS","AND","OF","OR"],R.CHARACTER_MAP={},R.CHARACTER_MAP[199]="C",R.CHARACTER_MAP[231]="c",R.CHARACTER_MAP[252]="u",R.CHARACTER_MAP[251]="u",R.CHARACTER_MAP[250]="u",R.CHARACTER_MAP[249]="u",R.CHARACTER_MAP[233]="e",R.CHARACTER_MAP[234]="e",R.CHARACTER_MAP[235]="e",R.CHARACTER_MAP[232]="e",R.CHARACTER_MAP[226]="a",R.CHARACTER_MAP[228]="a",R.CHARACTER_MAP[224]="a",R.CHARACTER_MAP[229]="a",R.CHARACTER_MAP[225]="a",R.CHARACTER_MAP[239]="i",R.CHARACTER_MAP[238]="i",R.CHARACTER_MAP[236]="i",R.CHARACTER_MAP[237]="i",R.CHARACTER_MAP[196]="A",R.CHARACTER_MAP[197]="A",R.CHARACTER_MAP[201]="E",R.CHARACTER_MAP[230]="ae",R.CHARACTER_MAP[198]="Ae",R.CHARACTER_MAP[244]="o",R.CHARACTER_MAP[246]="o",R.CHARACTER_MAP[242]="o",R.CHARACTER_MAP[243]="o",R.CHARACTER_MAP[220]="U",R.CHARACTER_MAP[255]="Y",R.CHARACTER_MAP[214]="O",R.CHARACTER_MAP[241]="n",R.CHARACTER_MAP[209]="N",R.desiredKeyLength=4,R.maxKeyLength=10,R.getTotalLength=function(A){return A.join("").length},R.removeIgnoredWords=function(C){return e.reject(C,function(e){return A.inArray(e,R.IGNORED_WORDS)!==-1})},R.createAcronym=function(e){var R="";return A.each(e,function(A,e){R+=e.charAt(0)}),R},R.getFirstSyllable=function(A){var e,C=!1;for(e=0;e<A.length;e++)if(R.isVowelOrY(A[e]))C=!0;else if(C)return A.substring(0,e+1);return A},R.isVowelOrY=function(A){return A&&1===A.length&&A.search("[AEIOUY]")!==-1},R.init=function(A,e){R.desiredKeyLength=A,R.maxKeyLength=e},R.generate=function(e){if(e=A.trim(e),!e)return"";for(var C=[],r=0,n=e.length;r<n;r++){var t=R.CHARACTER_MAP[e.charCodeAt(r)];C.push(t?t:e[r])}e=C.join("");var i=[];A.each(e.split(/\s+/),function(A,e){e&&(e=e.replace(/[^a-zA-Z]/g,""),e=e.toUpperCase(),e.length&&i.push(e))}),R.desiredKeyLength&&R.getTotalLength(i)>R.desiredKeyLength&&(i=R.removeIgnoredWords(i));var E;if(0==i.length)E="";else if(1==i.length){var a=i[0];E=R.desiredKeyLength&&a.length>R.desiredKeyLength?R.getFirstSyllable(a):a}else E=R.createAcronym(i);return R.maxKeyLength&&E.length>R.maxKeyLength&&(E=E.substr(0,R.maxKeyLength)),E},R});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/dialog-view.js' */
define("jira/project-templates/dialog-view",["jira/project-templates/dialog-view-impl","jquery"],function(e,i){return new e({el:i(document)})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/dialog-view-impl.js' */
define("jira/project-templates/dialog-view-impl",["require","backbone","underscore"],function(e,t,o){var i=AJS.Dialog,r=AJS.trigger;return t.View.extend({events:{"click   .add-project-trigger":"_onClickAddProject","click   .add-demo-project-trigger":"_onClickAddDemoProject","click   .add-workflow-link":"_onClickViewMarketplaceWorkflows","click   #add-project-dialog .add-demo-project-trigger":"_onCreateProjectAddDemoProjectClick","click   #add-project-dialog .import-project-trigger":"_onClickImportProject","click   #add-project-dialog .create-with-shared-config":"_onClickCreateShared","keydown #add-project-dialog .pt-templates-list":"_onKeydownInTemplatesList"},initialize:function(){JIRA.API&&JIRA.API.getSidebar&&JIRA.API.getSidebar().then(function(e){e.on(e.events.JIRA_SUMMON_CREATE_PROJECT_DIALOG,function(){this.getDialogController().handleProjectTemplateTriggered()}.bind(this),!0)}.bind(this))},draw:function(){var e=new i({width:840,height:400,id:"add-project-dialog",closeOnOutsideClick:!1,keypressListener:o.bind(this._onKeyPressed,this)}),t=e.popup.element;return e.addPage("project-templates-page"),e.addHeader("Create project","add-project-dialog-header"),e.addPanel("ProjectTemplatesListPanel",JIRA.Templates.ProjectTemplates.loadingTemplatesList(),"pt-content"),this._dialog=e,this._$dialogElement=t,e.show(),e},remove:function(){this._dialog&&this._dialog.remove()},showErrorMessage:function(e){this._dialog.getPanel(1,0).html(JIRA.Templates.errorMsg({closable:!1,msg:e}))},get$PTContent:function(){return this.getDialogController().$dialogElement.find(".pt-content")},_onKeyPressed:function(e){var t=27;return!this._dialog||e.keyCode!==t||(this.getDialogController().hideDialogFromNewUser("dismissed"),this._dialog.remove(),!1)},_onKeydownInTemplatesList:function(e){var t=13;return!this._dialog||e.keyCode!==t||(this._$dialogElement.find(".pt-submit-button:visible").click(),!1)},_onClickAddProject:function(e){e.preventDefault(),this.getDialogController().handleProjectTemplateTriggered()},_onCreateProjectAddDemoProjectClick:function(){r("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.create.project.clicked"})},_onClickViewMarketplaceWorkflows:function(){r("analyticsEvent",{name:"jira.project.templates.dialog.create.viewmarketplaceworkflows.clicked"})},_onClickAddDemoProject:function(e){e.preventDefault();var t=this.getDialogController().dialog;t&&t.popup&&t.popup.element&&t.remove(),this.getDialogController().handleDemoProjectTemplateTriggered()},_onClickImportProject:function(e){this.getDialogController().hideDialogFromNewUser("importproject")},_onClickCreateShared:function(e){this.getDialogController().handleCreateShared()},getDialogController:function(){return e("jira/project-templates/dialog-controller")}})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/dialog-controller.js' */
define("jira/project-templates/dialog-controller",["jira/project-templates/dialog-view","jira/project-templates/config","jira/ajs/ajax/smart-ajax","jira/util/data/meta","jira/lib/class","jquery","underscore","wrm/data"],function(e,t,a,i,o,r,n,l){function d(e,t){AJS.trigger("analyticsEvent",{name:e,data:t})}var s,c=AJS.contextPath(),m=AJS.isDevMode,p=AJS.log,u=function(){return s||(s=l.claim("com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData")||{}),s},h=o.extend({WELCOME_REST_URL:c+"/rest/welcome/1.0/show/welcome",onboarding:{isOptimusPrimeOnboarding:!1},initialize:function(){n.bindAll(this,"handleProjectTemplateTriggered","hideDialogFromNewUser"),i.getBoolean("show-welcome-screen")&&this.handleProjectTemplateTriggered()},handleProjectTemplateTriggered:function(e){e&&e.onboarding&&(this.onboarding=e.onboarding),this.demoProject=!1,d("jira.project.templates.dialog.create.show"),this.openWithFirstProjectTemplateOfTypePreSelected()},handleDemoProjectTemplateTriggered:function(e){e&&e.onboarding&&(this.onboarding=e.onboarding),this.demoProject=!0;var t=this.getTemplateController().loadDemoProjectTemplatesData();this.openWithFirstProjectTemplateOfTypePreSelected(null,t),this._addAnalyticsToCreateDemoShow(t)},_addAnalyticsToCreateDemoShow:function(e){e.done(function(e){var t={},a=function(e){return e.projectTemplatesGroupedByType.map(function(e){return e.projectTemplates.map(function(e){return e.itemModuleCompleteKey}).join()}).join()};t.demoSets=a(e),t.instanceCreatedDate=u().instanceCreatedDate,d("jira.project.templates.dialog.create.demo.show",t)}.bind(this))},openWithFirstProjectTemplateOfTypePreSelected:function(a,i){var o=this.onboarding;i=i||this.getTemplateController().loadProjectTemplatesData(),this.dialog=e.draw(),i.fail(n.bind(function(e){this._handleUnknownErrorOfPTRetrieval()},this)),i.done(function(e){this.$dialogElement=this.dialog.popup.element;var i;n.isUndefined(t.model.selectedTemplate)||(i=t.model.selectedTemplate),t.model=e,t.model.selectedTemplate=i,this.getTemplateController().init(e,a,o)}.bind(this))},handleCreateShared:function(){d("jira.project.templates.dialog.create.shared.clicked"),this.demoProject=!1,this.openWithCreateShared()},openWithCreateShared:function(){var e=require("jira/project-templates/create-shared-controller");e.initCreateShared()},callbackWithResize:function(e){return n.bind(n.wrap(e,function(e){e.call(this),this.dialog.updateHeight()}),this)},addPage:function(e){var t=this.dialog.addPage(e.name).page[this.dialog.curpage];this.dialog.addHeader(e.title,"add-project-dialog-header"),this.dialog.addPanel(e.panelName,"","pt-content"),e.backButton&&this._addBackButton(t,{panelName:e.panelName}),this.dialog.addButton(e.submitButtonText,this.callbackWithResize(e.submitButtonCallback),e.submitButtonClass+" pt-submit-button");var a=this.$dialogElement.find("."+e.submitButtonClass);return a.removeClass("button-panel-button").addClass("aui-button aui-button-primary"),a.focus(),this.onboarding.isOptimusPrimeOnboarding||this.dialog.addCancel("Cancel",n.bind(function(e){this.hideDialogFromNewUser("dismissed"),this.dialog.remove()},this)),t},_backButtonOnClickCallback:function(t,a){if(this.onboarding.isOptimusPrimeOnboarding&&"ProjectTemplatesListPanel"===a.panelName){var i=function(){this.dialog.remove()}.bind(this);return i}return n.bind(function(){d(this.demoProject?"jira.project.templates.dialog.demo.back":"jira.project.templates.dialog.create.back");var a=e.get$PTContent();a.css("background-image","none"),this.dialog.prevPage(),t.remove(),this.dialog.page.pop()},this)},_addBackButton:function(e,t){this.dialog.addButton("Back",this.callbackWithResize(this._backButtonOnClickCallback(e,t)),"add-project-back-button");var a=this.$dialogElement.find(".add-project-back-button");a.removeClass("button-panel-button").addClass("aui-button")},_handleUnknownErrorOfPTRetrieval:function(){e.showErrorMessage("An error occurred while trying to contact Jira")},hideDialogFromNewUser:function(e){"dismissed"===e?d(this.demoProject?"jira.project.templates.dialog.demo.dismissed":"jira.project.templates.dialog.create.dismissed"):"importproject"===e?d("jira.project.templates.dialog.import.clicked"):"templateselected"===e&&d(this.demoProject?"jira.project.templates.dialog.demo.templateselected":"jira.project.templates.dialog.create.templateselected"),i.getBoolean("show-welcome-screen")&&r.ajax({url:this.WELCOME_REST_URL+"/"+e,type:"DELETE",success:function(){m&&m()&&p("don't show project template dialog anymore")}})},getTemplateController:function(){return require("jira/project-templates/select-project-template-controller")}});return new h});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/add-project-view.js' */
define("jira/project-templates/add-project-view",["jira/project-templates/add-project-view-impl","jira/project-templates/dialog-view","jquery"],function(e,t,i){return new e({el:i(document),dialogView:t})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/add-project-view-impl.js' */
define("jira/project-templates/add-project-view-impl",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/util/events","jira/util/events/types","require","backbone","jquery","underscore"],function(e,t,n,i,a,r,o,l){var d=AJS.InlineDialog;return r.View.extend({TIMEOUT_MS:100,postDrawCallbacks:[],events:{"submit #add-project-form":"onSubmitForm"},page:void 0,isSubmitting:!1,initialize:function(e){l.bindAll(this,"bindHook")},addPostDrawCallback:function(e){this.postDrawCallbacks.push(e)},prepareDialog:function(t){this.page=e.addPage({name:"add-project",title:t,panelName:"add-project",backButton:!0,submitButtonText:"Submit",submitButtonCallback:this.onSubmitForm.bind(this),submitButtonClass:"add-project-dialog-create-button"})},draw:function(r){function s(e){return e.errors||(e.errors={}),e}this.isSubmitting=!1,e.dialog.gotoPage(this.page.id);var m=r.webItemData.projectTemplateModuleCompleteKey||r.webItemData.itemModuleCompleteKey,c=l.find(t.model.projectTemplatesGroupedByType,function(e){return l.any(e.projectTemplates,function(e){return e.itemModuleCompleteKey===m})}),u=c&&c.applicationInfo||{},p={maxNameLength:t.model.maxNameLength,maxKeyLength:t.model.maxKeyLength,shouldShowLead:t.model.shouldShowProjectLead,projectTemplateWebItemKey:t.model.selectedTemplate||r.webItemData.itemModuleCompleteKey,projectTemplateModuleKey:m,projectTemplateTitle:r.webItemData.name,projectTemplateDescriptionContent:r.webItemData.longDescriptionContent,currentKey:r.currentKey||"",currentName:r.currentName||"",errors:s(r.errors),projectLeadPickerField:{id:"lead",name:"lead"},leadOptions:[{selected:!0,displayName:r.currentUserDisplayName,optionName:r.currentUserName,avatarURL:r.currentUserAvatarUrl}],applicationName:u.applicationName||"",warnUserUnableToAccessApplication:!u.canUserUseApplication},h=JIRA.Templates.ProjectTemplates.addProjectForm(p);if(e.dialog.getPanel(this.page.id,0).html(h),r.webItemData&&r.webItemData.backgroundIconUrl){var f=e.$dialogElement.find(".pt-content");f.css("background-image",'url("'+r.webItemData.backgroundIconUrl+'")')}var g=o("#add-project-form");n.trigger(i.NEW_CONTENT_ADDED,[g]),this.nameElement=e.$dialogElement.find("#name"),this.keyElement=e.$dialogElement.find("#key"),this.keyEditedElement=e.$dialogElement.find("#keyEdited"),this.leadDisplayElement=e.$dialogElement.find("#lead-field"),this.leadValueElement=e.$dialogElement.find("#lead");var b=this.keyElement.parent().find(".aui-icon-help");b.length&&new d(b,"project-key-help-popup",function(e,t,n){e.html(JIRA.Templates.ProjectTemplates.keyHelp()),n()},{width:280,gravity:"w"}),this.keyElement.attr("style","text-transform: uppercase");var E=a("jira/project-templates/add-project-controller");this.nameElement.focus(l.bind(function(e){this.bindHook(e,E.nameTimeout)},this));var y=this;this.nameElement.change(function(e){E.validateName(),y.unbindHook(e)}),this.nameElement.focus(),this.keyElement.focus(l.bind(function(e){var t=o(e.target);t.data("lastValue",t.val()),this.bindHook(e,E.keyTimeout)},this)),this.keyElement.blur(l.bind(function(e){this.unbindHook(e)},this)),this.keyElement.change(function(){E.validateKey(),E.autofillKeyIfNeeded()}),l.isEmpty(this.postDrawCallbacks)||l.each(this.postDrawCallbacks,function(e){e({projectType:r&&r.webItemData&&(r.webItemData.projectTemplateModuleCompleteKey||r.webItemData.itemModuleCompleteKey)})}),e.dialog.updateHeight()},onSubmitForm:function(e){var t=a("jira/project-templates/add-project-controller");return t.submit(),!1},get$SubmitButton:function(){return e.$dialogElement.find(".add-project-dialog-create-button")},get$BackButton:function(){return e.$dialogElement.find(".add-project-back-button")},bindHook:function(e,t){var n=o(e.target),i=l.bind(function(){this.unbindHook(e),t.apply(),n.is(":visible")&&n.data("checkHook",setTimeout(i,this.TIMEOUT_MS))},this);n.data("checkHook")||n.data("checkHook",setTimeout(i,0))},unbindHook:function(e){var t=o(e.target);clearTimeout(t.data("checkHook")),t.removeData("checkHook")},showInlineError:function(e,t){if(!this.isSubmitting){var n=e.parent().find(".error");n.length||(n=o("<div class='error'></div>"),e.parent().append(n)),n.text(t),n.show()}},showInlineErrorForName:function(e){this.showInlineError(this.nameElement,e)},showInlineErrorForKey:function(e){this.showInlineError(this.keyElement,e)},hideInlineError:function(e){e.parent().find(".error").hide()},hideInlineErrorForName:function(){this.hideInlineError(this.nameElement)},hideInlineErrorForKey:function(){this.hideInlineError(this.keyElement)},setName:function(e){this.nameElement.val(e)},getName:function(){return this.nameElement.val()},setKey:function(e){this.keyElement.val(e)},getKey:function(){return this.keyElement.val().toUpperCase()},getLeadDisplayName:function(){return this.leadDisplayElement.val()},getLeadUserName:function(){return this.leadValueElement.val()},getAvatarUrlOfSelectedLead:function(){var t=e.$dialogElement.find("#lead-single-select .aui-ss-entity-icon").css("background-image");if(l.isUndefined(t))return"";var n=t.match(/^url\((.+)\)$/);return n&&n[1]?n[1]:""},setKeyEdited:function(e){this.keyEditedElement.val(e)},getKeyEdited:function(){return this.keyEditedElement.val()},setKeyEdited:function(){var e=this.getKey();this.keyElement.data("lastValue")!==e&&this.keyEditedElement.val(e?"true":"false"),this.keyElement.data("lastValue",e)},hasNameErrors:function(){return this.nameElement.parent().find(".error").size()>0},getAddProjectForm:function(){return o("#add-project-form")},get$FormFields:function(){return e.$dialogElement.find(":input")},enterLoadingState:function(){var e=this.get$SubmitButton();if(e.attr("disabled"))return!1;var t=this.get$BackButton();return e.attr("disabled","disabled"),t.attr("disabled","disabled"),t.before(JIRA.Templates.ProjectTemplates.spinner({id:"addproject-loading"})),this.get$FormFields().attr("disabled","disabled"),this.isSubmitting=!0,!0},hideLoadingState:function(){e.$dialogElement.find("#addproject-loading").remove(),this.get$SubmitButton().removeAttr("disabled"),this.get$BackButton().removeAttr("disabled"),this.get$FormFields().removeAttr("disabled")},avoidDirtyFormWarning:function(){o.fn.removeDirtyWarning&&this.getAddProjectForm().removeDirtyWarning()},hasInlineErrors:function(){return 0!==e.$dialogElement.find(".field-group .error:visible").length}})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/add-project-controller.js' */
define("jira/project-templates/add-project-controller",["jira/project-templates/add-project-controller-impl","jquery"],function(e,r){return new e({el:r(document)})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/add-project-controller-impl.js' */
define("jira/project-templates/add-project-controller-impl",["jira/project-templates/add-project-view","jira/project-templates/project-key-generator","jira/project-templates/dialog-controller","jira/project-templates/config","jira/lib/class","jira/analytics/web-client","jira/featureflags/feature-manager","jquery","underscore"],function(e,t,r,a,i,o,s,n,c){var d=AJS.contextPath(),l=AJS.trigger;return i.extend({postProjectCreationCallbacks:[],projectKeyValidationCallbacks:[],projectNamesUpperCased:[],init:function(e){this._window=e.window||window,c.bindAll(this,"projectCreatedHandler","projectValidationFailedHandler","nameTimeout","keyTimeout","submit")},initCreateShared:function(e){this.existingProjectData=e,this._initAddProject("Create with shared configuration")},initProjectTemplate:function(e){this.existingProjectData=void 0,this.webItemData=e,this._initAddProject(e.name)},_initAddProject:function(r){this.desiredKeyLength=4,this.lastKeyValidated="",this._getExistingProjects(),t.init(this.desiredKeyLength,a.model.maxKeyLength),e.prepareDialog(r),e.draw({webItemData:this.webItemData||{},maxKeyLength:a.model.maxKeyLength,maxNameLength:a.model.maxNameLength,currentUserName:a.model.currentUserName,currentUserDisplayName:a.model.currentUserDisplayName,currentUserAvatarUrl:a.model.currentUserAvatarUrl,errors:{}})},_resetProjectLeadValues:function(){a.model.currentUserDisplayName="",a.model.currentUserName="",a.model.currentUserAvatarUrl=""},_hasFullyConfiguredProjectLead:function(){return e.getLeadDisplayName()&&""!=e.getAvatarUrlOfSelectedLead()},submit:function(t){var r;r=this.existingProjectData?{key:e.getKey(),name:e.getName(),lead:e.getLeadUserName()&&e.getLeadUserName()[0]}:jQuery.param(e.getAddProjectForm().serializeArray().map(function(e){return"key"===e.name&&(e.value=e.value.toUpperCase()),e})),e.hasInlineErrors()||e.enterLoadingState()&&(this._hasFullyConfiguredProjectLead()?(a.model.currentUserDisplayName=e.getLeadDisplayName(),a.model.currentUserName=a.model.currentUserDisplayName?e.getLeadUserName():"",a.model.currentUserAvatarUrl=e.getAvatarUrlOfSelectedLead()):this._resetProjectLeadValues(),this.existingProjectData?n.ajax({url:d+"/rest/project-templates/1.0/createshared/"+this.existingProjectData.existingProjectId,type:"POST",contentType:"application/json",data:JSON.stringify(r)}).then(this.projectCreatedHandler,this.projectValidationFailedHandler):n.ajax({url:d+(this.webItemData.demoProject?"/rest/jira-importers-plugin/1.0/demo/create":"/rest/project-templates/1.0/templates"),type:"POST",data:r,headers:{"X-Atlassian-Token":"no-check"}}).then(this.projectCreatedHandler,this.projectValidationFailedHandler))},registerPostProjectCreationCallback:function(e){this.postProjectCreationCallbacks.push(e)},registerProjectKeyValidationCallback:function(e){this.projectKeyValidationCallbacks.push(e)},localStoragePrefix:"jira.projecttemplates.",isSimplified:function(){return"com.pyxis.greenhopper.jira:simplified-project-template"===this.webItemData.projectTemplateModuleCompleteKey},projectCreatedHandler:function(t){this.existingProjectData?l("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.success"}):this.webItemData.demoProject?l("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.success"}):l("analyticsEvent",{name:"jira.project.templates.dialog.create.project.success"});var a={action:"created",source:"createProjectModal",actionSubject:"project",containerType:"project",containerId:String(t.projectId),attributes:{}};this.existingProjectData?(a.attributes.sharedConfigurationProjectId=this.existingProjectData.existingProjectId,a.attributes.createdUsing="sharedConfiguration"):this.webItemData.demoProject?a.attributes.createdUsing="sample":(a.attributes.projectTemplateKey=this.webItemData.projectTemplateModuleCompleteKey,a.attributes.createdUsing="template",a.attributes.projectType=this.webItemData.projectType,a.attributes.simplified=this.isSimplified(),a.attributes.projectAccessLevel=this.isSimplified()?"open":""),o.sendTrackEvent(a),e.avoidDirtyFormWarning();var i=this.localStoragePrefix,s=["confluenceProject","fisheyeProject","crucibleProject","bambooProject"];c.map(s,function(e){t.remoteProjectLinks&&t.remoteProjectLinks[e]&&localStorage.setItem(i+e,t.remoteProjectLinks[e])}),c.isEmpty(this.postProjectCreationCallbacks)?this._window.location=d+t.returnUrl:(r.dialog.addPage("post-project-created-page"),c.each(this.postProjectCreationCallbacks,function(e){e(r.dialog,t.returnUrl,t.projectId,t.projectKey,t.projectName)}))},projectValidationFailedHandler:function(t,r){this.existingProjectData?l("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.failure"}):this.webItemData.demoProject?l("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.failure"}):l("analyticsEvent",{name:"jira.project.templates.dialog.create.project.failure"});var i={};if(this.isBadRequest(t))i=JSON.parse(t.responseText);else if(this.isUnDefinedServerSideError(t))i={errorMessages:["Hmm... we couldn\'t create your project due to an unknown error. Try refreshing the page to start again."]};else{if(this.isDefinedServerSideError(t)){var o=JSON.parse(t.responseText);return JIRA.Messages.showReloadErrorMsg(o.message),e.avoidDirtyFormWarning(),void(this._window.location=d+o.returnUrl)}i=this.isTimeoutError(r)?{errorMessages:["Request timeout when creating project"]}:{errorMessages:[AJS.format("Error creating project, {0}",t.responseText)]}}e.draw({webItemData:this.webItemData||{},errors:i,currentName:e.getName(),currentKey:e.getKey(),currentUserDisplayName:a.model.currentUserDisplayName,currentUserName:a.model.currentUserName,currentUserAvatarUrl:a.model.currentUserAvatarUrl}),e.hideLoadingState()},isBadRequest:function(e){return 400===e.status},isUnDefinedServerSideError:function(e){if(500===e.status)try{JSON.parse(e.responseText)}catch(e){return!0}return!1},isDefinedServerSideError:function(e){return 500===e.status&&!c.isUndefined(JSON.parse(e.responseText).message)},isTimeoutError:function(e){return"timeout"===e},_updateAndValidateKey:function(t){e.setKey(t),this.validateKey()},_shouldUpdateKey:function(){return"true"!=e.getKeyEdited()},autofillKeyIfNeeded:function(){if(this._shouldUpdateKey()){var r=t.generate(e.getName());r.length>1?this._updateAndValidateKey(r):e.setKey("")}},_doesProjectNameExists:function(e){var t;for(t in this.projectNamesUpperCased)if(e.toUpperCase()==this.projectNamesUpperCased[t])return!0;return!1},validateName:function(){var t=n.trim(e.getName());if(t)return t.length<a.model.minNameLength?void e.showInlineErrorForName(AJS.format("The project name should be at least {0} characters in length.",a.model.minNameLength)):t.length>a.model.maxNameLength?void e.showInlineErrorForName(AJS.format("The project name must not exceed {0} characters in length.",a.model.maxNameLength)):this._doesProjectNameExists(t)?void e.showInlineErrorForName("A project with that name already exists."):void e.hideInlineErrorForName()},_performKeyValidationChecks:function(t){var r=n.ajax({url:d+"/rest/api/latest/projectvalidate/key?key="+t.toUpperCase()});r.done(c.bind(function(r){if(r.errors&&r.errors.projectKey)e.showInlineErrorForKey(r.errors.projectKey);else{var a=!1;c.each(this.projectKeyValidationCallbacks,function(r){var i=r(t.toUpperCase());i.errors&&i.errors.projectKey&&(a=!0,e.showInlineErrorForKey(i.errors.projectKey))}),a||e.hideInlineErrorForKey()}},this))},validateKey:function(){var t=e.getKey();this.lastKeyValidated!==t&&(t?(this.lastKeyValidated=t,this._performKeyValidationChecks(t)):e.hideInlineErrorForKey())},nameTimeout:function(){this.autofillKeyIfNeeded()},keyTimeout:function(){e.setKeyEdited()},_getExistingProjects:function(){if(this.projectNamesUpperCased.length>0)return this.projectNamesUpperCased;var e=n.ajax({url:d+"/rest/api/latest/project"});e.done(c.bind(function(e){this.projectNamesUpperCased=c.map(e,function(e){return e.name.toUpperCase()})},this))}})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/template-info-view.js' */
define("jira/project-templates/template-info-view",["jira/project-templates/dialog-controller","require","backbone","jquery","underscore"],function(t,e,n,a,i){var o=AJS.trigger;return n.View.extend({initialize:function(t){i.bindAll(this,"draw","onNext")},draw:function(e,n){var a=t.addPage({name:"template-info",title:n,panelName:"template-info",backButton:!0,submitButtonText:"Select",submitButtonCallback:this.onNext,submitButtonClass:"template-info-dialog-create-button"}),i=this._nameToObj(e)();t.dialog.getPanel(a.id,0).html(i),t.dialog.gotoPage(a.id)},_nameToObj:function(t){return i.reduce(t.split("."),function(t,e){if(t)return t[e]},window)},onNext:function(t){o("analyticsEvent",{name:"jira.project.templates.dialog.create.templateinfo.next"});var n=e("jira/project-templates/template-info-controller");return n.next(),!1}})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/template-info-controller.js' */
define("jira/project-templates/template-info-controller",["jira/project-templates/template-info-view","jira/lib/class","require","underscore"],function(e,t,n,a){var i=t.extend({init:function(e){a.bindAll(this,"initTemplateInfo","next")},initTemplateInfo:function(t){this.projectTemplateData=t;var n=new e;n.draw(t.infoSoyPath,t.name)},next:function(){var e=n("jira/project-templates/select-project-template-controller");e.openAddProjectPage(this.projectTemplateData)}});return new i});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/select-project-template-view.js' */
define("jira/project-templates/select-project-template-view",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/featureflags/feature-manager","require","backbone","jquery","underscore"],function(e,t,i,a,o,r,n){var l=AJS.contextPath(),s=AJS.preventDefault,c=AJS.trigger;return{ROW_LENGTH:2,DIALOG_BODY_CLASS:"select-project-templates-page",DIALOG_WIDTH:800,draw:function(i,o,n){function s(){return d.isProjectTypesEnabled(i)?JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType({projectTemplatesByType:i.projectTemplatesGroupedByType}):JIRA.Templates.ProjectTemplates.renderProjectTemplates({projectTemplates:i.projectTemplates})}function p(e){return!e.isOptimusPrimeOnboarding||e.isOptimusPrimeOnboarding&&e.hasProjectsInSystem}var d=a("jira/project-templates/select-project-template-controller");this.page=e.addPage({name:this.DIALOG_BODY_CLASS,title:i.demoProjects?"Create project with sample data":"Create project",panelName:"ProjectTemplatesListPanel",backButton:n.isOptimusPrimeOnboarding,submitButtonText:"Next",submitButtonCallback:d.dialogSubmitted,submitButtonClass:"create-project-dialog-create-button"}),e.dialog.getPanel(this.page.id,0).html(s()),t.model.projectCount>=2&&!i.demoProjects&&r(JIRA.Templates.ProjectTemplates.addWorkflowsLink({baseUrl:l})).appendTo(e.$dialogElement.find(".dialog-title"));var m=e.$dialogElement.find(".create-project-dialog-create-button"),u=this;this.getTemplateItems().click(function(){var e=r(this);e.addClass("selected"),u.getTemplateItems().not(this).removeClass("selected")}).dblclick(function(){m.click()}).focus(function(){r(this).click()});var f=this.get$TemplatesContainer();!i.demoProjects&&p(n)&&r(JIRA.Templates.ProjectTemplates.footerLinks({showDemoLink:!0,projectImportAvailable:i.projectImportAvailable})).prependTo(e.$dialogElement.find(".dialog-button-panel")),this.bindKeyboardEvents(f),d.isProjectTypesEnabled(i)?0==i.projectTemplatesGroupedByType.length&&m.attr("disabled","disabled"):0==i.projectTemplates.length&&m.attr("disabled","disabled"),this.focusOnFirstTemplate(f,o),e.dialog.updateHeight(),this.truncateTemplateDescriptions(),this.resizeTemplateWidths();var h=e.$dialogElement.find("#view-more-business-templates");h.click(function(){c("analyticsEvent",{name:"jira.project.templates.dialog.create.more-business-templates.clicked"}),e.$dialogElement.find("#project-template-group-business").addClass("view-more-business-templates-selected"),requestAnimationFrame(function(){e.dialog.updateHeight(),this.resizeTemplateWidths()}.bind(this)),this.focusOnFirstTemplate(this.get$TemplatesContainer())}.bind(this))},get$TemplatesContainer:function(){return e.$dialogElement.find(".templates")},focusOnFirstTemplate:function(e,t){t?this.getFirstTemplateItemOfProjectType(t).click():this.getFirstTemplateItem().click(),setTimeout(function(){e.focus()},0)},getSelectedTemplateData:function(){var t=e.$dialogElement.find(".template.selected");return t.data()},getMoveDeltaForKey:function(e){switch(e){case 37:return-1;case 39:return 1;case 38:return-this.ROW_LENGTH;case 40:return+this.ROW_LENGTH}return 0},bindKeyboardEvents:function(e){e.bind("keydown",n.bind(function(t){var i=this.getMoveDeltaForKey(t.which);if(i)return this.moveSelection(e,i),s(t)},this))},moveSelection:function(e,t){var i=e.find(".template"),a=i.filter(".selected"),o=i.index(a)+t;if(o<i.length&&o>=0){var r=i.eq(o);r.click().focus(),this.scrollToSelectedElement(r)}},scrollToSelectedElement:function(e){var t=r(".dialog-panel-body.pt-content"),i=t.offset().top,a=e.offset().top,o=a+e.height(),n=i+t.height();a<i?t.scrollTop(t.scrollTop()-(i-a)):o>i+t.height()&&t.scrollTop(t.scrollTop()+o-n)},get$NextButton:function(){return e.$dialogElement.find(".create-project-dialog-create-button")},disableNextButton:function(){this.get$NextButton().attr("disabled","disabled")},truncateTemplateDescriptions:function(){var t=AJS.Meta.get("user-locale"),i="word";"ja_JP"===t&&(i="letter"),e.$dialogElement.find(".template-description").each(function(){r(this).dotdotdot({wrap:i,lastCharacter:{remove:[" ",",",";",".","!","?",""],noEllipsis:[]}})})},getTemplatesDialogContainer:function(){return e.$dialogElement.find("."+this.DIALOG_BODY_CLASS).find(".dialog-panel-body.pt-content").get(0)},getFirstTemplateItem:function(){return this.getTemplateItems().first()},getFirstTemplateItemOfProjectType:function(e){return this.getTemplateItems().filter("#project-template-group-"+e+" *").first()},getTemplateItems:function(){return e.$dialogElement.find(".template")},widthOfScrollbarForElement:function(e){var t=e.offsetWidth,i=e.clientWidth;return t-i},widthOfDialogAvailableForTemplateList:function(){var e=this.getTemplatesDialogContainer(),t=this.widthOfScrollbarForElement(e),i=r(e).width()||this.DIALOG_WIDTH;return i-t},widthOfTemplateItem:function(){var e=this.widthOfDialogAvailableForTemplateList()/this.ROW_LENGTH;return e-this.borderWidthOfTemplateItem()},borderWidthOfTemplateItem:function(){var e=this.getFirstTemplateItem().css("border-top-width");return parseInt(e,10)},resizeTemplateWidths:function(){this.getTemplateItems().each(n.bind(function(e,t){r(t).css("width",this.widthOfTemplateItem())},this))}}});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/select-project-template-controller.js' */
define("jira/project-templates/select-project-template-controller",["jira/project-templates/select-project-template-view","jira/project-templates/template-info-controller","jira/project-templates/add-project-controller","jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/project-templates/config","wrm/context-path","jquery","underscore"],function(e,t,o,r,a,l,n,i,p){var c=n(),s={init:function(t,o,r){this.onboarding=r,e.draw(t,o,r)},isProjectTypesEnabled:function(e){return null!=e.projectTemplatesGroupedByType},loadProjectTemplatesData:function(){return i.ajax({url:c+"/rest/project-templates/1.0/templates",type:"GET"})},loadDemoProjectTemplatesData:function(){return i.ajax({url:c+"/rest/project-templates/1.0/templates/demo-projects",type:"GET"}).then(function(e){return e.demoProjects=!0,e})},dialogSubmitted:function(){var o=e.getSelectedTemplateData();r.hideDialogFromNewUser("templateselected"),s.raiseAtlassianEvent(o.itemModuleCompleteKey),p.isUndefined(o.infoSoyPath)?s.openAddProjectPage(o):t.initTemplateInfo(o)},openAddProjectPage:function(e){return e?void(e.createProject?(o.initProjectTemplate(e),this.onboarding&&"function"==typeof this.onboarding.handleSuccessfulProjectCreation&&o.registerPostProjectCreationCallback(this.onboarding.handleSuccessfulProjectCreation)):(r.dialog.addPage("blank-template-page"),i("body").trigger(e.itemModuleCompleteKey,r.dialog))):void a.showErrorMessage("An error occurred while trying to contact Jira")},raiseAtlassianEvent:function(e){l.model.selectedTemplate=e,AJS.EventQueue&&AJS.EventQueue.push({name:"projecttemplates.templateselected",properties:{selectedTemplate:e}})}};return s});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/create-shared-view.js' */
define("jira/project-templates/create-shared-view",["jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","require","backbone","jquery"],function(e,t,r,o,a,i,n){"use strict";var l=AJS.InlineDialog,s=AJS.trigger,c=i.View.extend({events:{"submit #create-shared-project-form":"onSubmitForm"},page:void 0,prepareDialog:function(t){var r=a("jira/project-templates/create-shared-controller");this.page=e.addPage({name:"create-shared-project",title:t,panelName:"create-shared-project",backButton:!0,submitButtonText:"Next",submitButtonCallback:r.dialogSubmitted,submitButtonClass:"create-shared-dialog-button"})},draw:function(t){e.dialog.gotoPage(this.page.id);var r=JIRA.Templates.ProjectTemplates.createSharedProjectForm({projectSuggestions:JSON.stringify(t.projectSuggestions)});e.dialog.getPanel(this.page.id,0).html(r),this._createProjectPicker();var o=e.$dialogElement.find("#shared-help-icon");o.length&&new l(o,"shared-project-help-popup",function(e,t,r){e.html(JIRA.Templates.ProjectTemplates.sharedHelp()),r()},{width:330,offsetX:-30}),e.$dialogElement.find(".dialog-button-panel button").removeAttr("disabled")},showProjectMissingError:function(){this._clearFormErrors(),this._getProjectPickerInput().after(aui.form.fieldError({extraClasses:"project-picker-missing-error",message:"Please select an existing project first."}))},drawEmptyInfo:function(){var t=JIRA.Templates.ProjectTemplates.noProjects();e.dialog.getPanel(this.page.id,0).html(t),e.$dialogElement.find(".dialog-button-panel button").hide()},drawError:function(t){e.dialog.getPanel(this.page.id,0).html(JIRA.Templates.errorMsg({closable:!1,msg:t}))},drawLoading:function(){e.dialog.gotoPage(this.page.id);var t=JIRA.Templates.ProjectTemplates.loading();e.dialog.getPanel(this.page.id,0).html(t),e.$dialogElement.find(".dialog-spinner").spin(),e.$dialogElement.find(".dialog-button-panel button").attr("disabled","disabled")},_clearFormErrors:function(){e.$dialogElement.find(".project-picker-missing-error").remove()},_getProjectPickerInput:function(){return e.$dialogElement.find("#project-picker")},onSubmitForm:function(e){this._clearFormErrors();var t=a("jira/project-templates/create-shared-controller");return t.dialogSubmitted(),!1},_getExtraInfoMessage:function(){return e.$dialogElement.find(".create-shared-info")},_createProjectPicker:function(){this._getExtraInfoMessage().hide(),this.projectSelect=new r({element:this._getProjectPickerInput(),revertOnInvalid:!0,pageSize:50,pagingThreshold:100,model:o}),this.projectSelect.$field.focus();var e=this;this._getProjectPickerInput().on("selected",function(t,r){r.value()&&(s("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.selected"}),e._getExtraInfoMessage().show())})},getSelectedProject:function(){return this.projectSelect.getSelectedDescriptor()&&this.projectSelect.getSelectedDescriptor().value()}});return new c({el:n(document),dialogView:t})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/create-shared-controller.js' */
define("jira/project-templates/create-shared-controller",["jira/project-templates/create-shared-controller-impl","jquery"],function(e,r){return new e({el:r(document)})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/create-shared-controller-impl.js' */
define("jira/project-templates/create-shared-controller-impl",["jira/project-templates/add-project-controller","jira/project-templates/create-shared-view","jira/lib/class","jquery","underscore"],function(e,t,r,i,a){"use strict";var n=AJS.contextPath();return r.extend({init:function(e){this._window=e.window||window,a.bindAll(this,"dialogSubmitted")},initCreateShared:function(){t.prepareDialog("Create with shared configuration");var e=this;this._getProjectSuggestions().done(function(r){e._hasSuggestions(r)?t.draw({projectSuggestions:r}):t.drawEmptyInfo()}).fail(function(){t.drawError("An error occurred while trying to contact Jira")}),t.drawLoading()},_hasSuggestions:function(e){var t=!1;return i.each(e,function(e,r){r&&r.items&&r.items.length>0&&(t=!0)}),t},_getProjectSuggestions:function(){return i.ajax({url:n+"/rest/project-templates/1.0/createshared"})},dialogSubmitted:function(){var r=t.getSelectedProject();r?e.initCreateShared({existingProjectId:r}):t.showProjectMissingError()}})});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/RemoteProjectsCreatedMessage.js' */
var $=require("jquery");$(function(){function e(e,o){return JIRA.Templates.ProjectTemplates.formatAnchor({href:e,body:o,title:o})}function o(o,t,r,a){var c=[];return c.push("a Jira project"),o&&c.push(e(o,"a Confluence space")),t&&c.push(e(t,"a FishEye repository")),r&&c.push(e(r,"a Crucible project")),a&&c.push(e(a,"a Bamboo project")),c}function t(e,t,r,c){var l="The following entities were created: {0} and {1}.",m=o(e,t,r,c),n=m.pop();return m.length>0?a(l,m.join(", "),n):null}function r(e){var o=$(e).offset();o&&window.scrollTo(o.left,o.top)}var a=AJS.format,c=require("jira/project-templates/add-project-controller"),l=localStorage.getItem(c.localStoragePrefix+"confluenceProject"),m=localStorage.getItem(c.localStoragePrefix+"fisheyeProject"),n=localStorage.getItem(c.localStoragePrefix+"crucibleProject"),s=localStorage.getItem(c.localStoragePrefix+"bambooProject");localStorage.removeItem(c.localStoragePrefix+"confluenceProject"),localStorage.removeItem(c.localStoragePrefix+"fisheyeProject"),localStorage.removeItem(c.localStoragePrefix+"crucibleProject"),localStorage.removeItem(c.localStoragePrefix+"bambooProject");var g;(l||m||n||s)&&(g=t(l,m,n,s),g&&JIRA.Messages.showSuccessMsg(g,{closeable:!0}),r("#project-config-webpanel-summary-settings"))});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/namespace.js' */
AJS.namespace("JPT.AddProjectController",null,require("jira/project-templates/add-project-controller")),AJS.namespace("JPT.AddProjectView",null,require("jira/project-templates/add-project-view")),AJS.namespace("JPT.CreateSharedController",null,require("jira/project-templates/create-shared-controller")),AJS.namespace("JPT.DialogView",null,require("jira/project-templates/dialog-view")),AJS.namespace("JPT.ConfigModel",null,require("jira/project-templates/config")),AJS.namespace("JPT.CreateSharedView",null,require("jira/project-templates/create-shared-view")),AJS.namespace("JPT.DialogController",null,require("jira/project-templates/dialog-controller")),AJS.namespace("JPT.ProjectKeyGenerator",null,require("jira/project-templates/project-key-generator")),AJS.namespace("JPT.SelectProjectTemplateController",null,require("jira/project-templates/select-project-template-controller")),AJS.namespace("JPT.SelectProjectTemplateView",null,require("jira/project-templates/select-project-template-view")),AJS.namespace("JPT.TemplateInfoControllerImpl",null,require("jira/project-templates/template-info-controller")),AJS.namespace("JPT.TemplateInfoView",null,require("jira/project-templates/template-info-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/project-create-bridge.js' */
!function(){function e(e){n(e)}var n,t=new Promise(function(e){n=e});t.done=function(e){return this.then(e)},define("jira/project-templates/new-project-create/bridge",function(){return e}),define("jira/project-templates/new-project-create",function(){return t})}();;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/project-create-experience.js' */
define("jira/project-templates/project-create-experience",[],function(){return{trigger:function(e){e.preventDefault(),JIRA.API.getSidebar().then(function(e){e.openDrawerForProjectCreate(!0)})}}});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/project-create-onboarding-experience.js' */
define("jira/project-templates/project-create-onboarding-experience",["jquery","jira/project-templates/dialog-controller","jira/project-templates/new-project-create"],function(e,r,t){function n(e){AJS.trigger("analyticsEvent",{name:e})}var o="jira.project.templates.onboarding.",a=o+"new-project-create.",c=a+"opened",i=a+"created",l=a+"cancelled",d=a+"load-error";return{trigger:function(o){o.preventDefault(),n(c);var a=e("#onboarding");t.then(function(e){a.hide();var r=document.getElementById("new-project-create");e.renderNewProjectCreate(r,function(e){n(i),window.location.assign(e.returnUrl)},function(){n(l),a.show()})}).catch(function(){n(d),a.show(),r.handleProjectTemplateTriggered()})}}});;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = 'project-templates-module/js/project-create-experience-init.js' */
require(["jquery","jira/project-templates/project-create-experience","jira/project-templates/project-create-onboarding-experience"],function(e,r,c){e(document).ready(function(){e(".trigger-project-create-experience").click(r.trigger),e(document).on("click",".trigger-onboarding-project-create-experience",c.trigger)})});;
;
/* module-key = 'com.atlassian.jira-core-project-templates:jira-core-project-templates-resources', location = 'jira-core-project-templates-module/soy/CoreProjectTemplates.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ProjectTemplates&&(JIRA.Templates.ProjectTemplates={}),"undefined"==typeof JIRA.Templates.ProjectTemplates.CoreTemplates&&(JIRA.Templates.ProjectTemplates.CoreTemplates={}),JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Create and assign everyday tasks for your team.",projectTemplate:"taskManagement"})},JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Estimate tasks, predict work volumes, set due dates, and easily report on project progress.",projectTemplate:"projectManagement"})},JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Monitor recurring activities, such as expense approvals, design development, or reporting processes.",projectTemplate:"processManagement"})},JIRA.Templates.ProjectTemplates.CoreTemplates.contentManagementInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Create an issue for each piece of content and manage it through your publishing process.",projectTemplate:"contentManagement",issueTypesHtml:""+JIRA.Templates.ProjectTemplates.CoreTemplates.assetIssueType(null)})},JIRA.Templates.ProjectTemplates.CoreTemplates.recruitmentInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Create an issue for each candidate and manage them through your company\'s hiring process.",projectTemplate:"recruitment",issueTypesHtml:""+JIRA.Templates.ProjectTemplates.CoreTemplates.candidateIssueType(null)})},JIRA.Templates.ProjectTemplates.CoreTemplates.documentApprovalInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Create an issue for each document and manage it though the authoring, review and approval process.",projectTemplate:"documentApproval",issueTypesHtml:""+JIRA.Templates.ProjectTemplates.CoreTemplates.documentIssueType(null)})},JIRA.Templates.ProjectTemplates.CoreTemplates.leadTrackingInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Create an issue for each lead and trace the opportunity through negotiation to conversion.",projectTemplate:"leadTracking",issueTypesHtml:""+JIRA.Templates.ProjectTemplates.CoreTemplates.leadIssueType(null)})},JIRA.Templates.ProjectTemplates.CoreTemplates.procurementInfoDialog=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description:"Create an issue for each procurement request and trace it through the approval process to final delivery.",projectTemplate:"procurement",issueTypesHtml:""+JIRA.Templates.ProjectTemplates.CoreTemplates.orderIssueType(null)})},JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog=function(e,t){return'<div><div class="top-panel"><p>'+soy.$$escapeHtml(e.description)+'</p></div><div class="left-panel"><h6>'+soy.$$escapeHtml("Issue Types")+'</h6><ul class="project-template-issuetype-list">'+(null!=e.issueTypesHtml?soy.$$filterNoAutoescape(e.issueTypesHtml):JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null)+JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType(null))+'</ul></div><div class="right-panel"><h6>'+soy.$$escapeHtml("Workflow")+'</h6><div class="workflow '+soy.$$escapeHtml(e.projectTemplate)+'"></div></div></div>'},JIRA.Templates.ProjectTemplates.CoreTemplates.issueType=function(e,t){return'<li><span class="issuetype-list-label"><span class="issuetype-icon '+soy.$$escapeHtml(e.iconKey)+'"></span><span class="issuetype-name">'+soy.$$escapeHtml(e.label)+"</span></span></li>"},JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey:"task",label:"Task"})},JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey:"subtask",label:"Sub-task"})},JIRA.Templates.ProjectTemplates.CoreTemplates.assetIssueType=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey:"asset",label:"Asset"})},JIRA.Templates.ProjectTemplates.CoreTemplates.candidateIssueType=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey:"candidate",label:"Candidate"})},JIRA.Templates.ProjectTemplates.CoreTemplates.documentIssueType=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey:"document",label:"Document"})},JIRA.Templates.ProjectTemplates.CoreTemplates.leadIssueType=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey:"lead",label:"Lead"})},JIRA.Templates.ProjectTemplates.CoreTemplates.orderIssueType=function(e,t){return""+JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey:"order",label:"Order"})};;
;
/* module-key = 'com.atlassian.jira.ip.allowlisting:ip-allowlisting', location = '/ip-allowlisting.js' */
define('atlassian/jira/module/ip-allowlisting', 
    ['jquery', 'jira/container-api', 'jira/analytics/web-client'],
    function ($, ContainerApi, AnalyticsWebClient) {
        const getIPBlocklistApi = ContainerApi.APIs.getIPBlocklistApi;
        const IP_BLOCKLIST_ERROR = "The IP address has been rejected because it is not on the allowedlist. See your admin for more information.";
        const REQUEST_BLOCK_LIST = ['rest', 'plugins'];

        const REQUEST_URL_REGEX = generateBlockListRegEx(REQUEST_BLOCK_LIST);

        getIPBlocklistApi().then((ipBlocklist) => {
            $(document).on('ajaxComplete', (event, jqXHR, settings) => {
                const {status, responseText} = jqXHR;
                const {url} = settings;
                const {hideIPBlocklistBanner, showIPBlocklistBanner} = ipBlocklist;

                const isRequestURLInBlocklist = validateRequestURL(url);

                if(!isRequestURLInBlocklist) {
                    return;
                }

                if(status !== 403) {
                    return hideIPBlocklistBanner();
                }

                const errorMessages = parseJSON(responseText);

                if(errorMessages.length && isIPBlocklistError(errorMessages[0])) {
                    AnalyticsWebClient.sendTrackEvent({
                        actionSubject: 'IPAdressByAtlassianEdge',
                        action: 'blocked',
                        source: "IPAllowlisting",
                    });

                    showIPBlocklistBanner();
                } else {
                    hideIPBlocklistBanner();
                }
            });
        });

        function validateRequestURL(url) {
            return REQUEST_URL_REGEX.test(url);
        }

        function isIPBlocklistError(errorMessage) {
            return errorMessage === IP_BLOCKLIST_ERROR;
        }

        function parseJSON(data) {
            try {
                const {errorMessages} = JSON.parse(data);
                return errorMessages;
            } catch (err){
                return [];
            }
        }

        /*
        * Input: ['rest', 'plugins']
        * Output: /^((\/rest\/)|(\/plugins\/))/
        */
        function generateBlockListRegEx(blockList) {
            const preRegEx = '^((\\/';
            const postRegEx = '\\/))';

            const blockedRequests = blockList.join('\\/)|(\\/');
            const blockListRegEx = preRegEx + blockedRequests + postRegEx;

            return new RegExp(blockListRegEx);
        }
    }
);

require('atlassian/jira/module/ip-allowlisting');
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:next-gen-pickers', location = 'jira-issue-navigator-components-module/includes/js/fields/IssueParentMultiselect.js' */
require(["require"],function(e){var t=e("jquery"),r=e("underscore"),s=e("jira/util/events/types"),i=e("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"),n=e("jira/components/issue-parent-multiselect-util");JIRA.bind(s.NEW_CONTENT_ADDED,function(e,s){var a=t("#jql",this).val();s.find(".js-issue-checkboxmultiselect").each(function(){var e=i.extend({formatSuggestions:function(e,t){var s=this.model.getDisplayableSelectedDescriptors(),i=function(e){var t;for(t in s)if(s[t].properties.value===e.properties.value.toString())return!1;return!0};return e=r.map(e,function(e){var t=r.filter(e.properties.items,i);return e.properties.items=t,e}),this._super(e,t)}}),t=new AJS.CheckboxMultiSelect({element:this,matchingStrategy:"(^|.*?(.*))({0})(.*)",maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/api/3/search",dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json"},type:"POST",error:function(){t._setSuggestions([])},data:function(e){var t="",r=n.extractProjectKeysFromJql(a);return r.length>0&&(t="project in ("+r+")"),e.length>0&&(t='(summary ~ "'+e+'*" OR key = "'+e+'") AND '+t),JSON.stringify({jql:t.replace(/\sAND\s$/,""),fields:["summary"],validateQuery:!1})},query:!0,minQueryLength:0,formatResponse:function(e){var t=[];if(t.push(new AJS.GroupDescriptor({weight:0,items:[new AJS.ItemDescriptor({highlighted:!0,label:"No Parent",value:"EMPTY",title:"EMPTY"})]})),!e||!e.issues||0===e.total)return t;var s=new AJS.GroupDescriptor({label:"Issues",weight:1});return r.each(e.issues,function(e){s.addItem(new AJS.ItemDescriptor({highlighted:!0,label:e.fields.summary+" - ("+e.key+")",value:e.key,title:e.fields.summary}))}),t.push(s),t}},suggestionsHandler:e})})})});
//# sourceMappingURL=IssueParentMultiselect-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:next-gen-pickers', location = 'jira-issue-navigator-components-module/includes/js/fields/issueParentMultiselectUtil.js' */
define("jira/components/issue-parent-multiselect-util",[],function(){"use strict";function e(e){function t(e){var t=/\bproject\s*=\s*(\S+)/i.exec(e);return t?t[1]:null}function n(e){var t=/\bproject\s+in\s+\((.*?)\)/i.exec(e);return t?t[1]:null}return t(e)||n(e)}return{extractProjectKeysFromJql:function(t){return t&&0===t.indexOf("project")?e(t).trim():""}}});
//# sourceMappingURL=issueParentMultiselectUtil-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-confluence-plugin:issue-link-confluence-js', location = 'js/issuelink-confluence.js' */
require(["jquery","jira/util/events","jira/util/events/types","issue-link-app-links/app-links"],function(n,e,i,u){var t={getCurrentAppId:function(e){return n("#issue-link-confluence-app-id",e).val()},shouldExecute:function(e){return 0!==n("#confluence-page-link",e).length},getIssueId:function(e){return n("input[name=id]",e).val()}};e.bind(i.NEW_PAGE_ADDED,function(n,e){u.init(t,e)})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-confluence-plugin:confluence-page-resource', location = 'templates/dialog/searchresult.soy' */
// This file was automatically generated from searchresult.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ConfluencePageSearch.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ConfluencePageSearch == 'undefined') { JIRA.Templates.ConfluencePageSearch = {}; }


JIRA.Templates.ConfluencePageSearch.result = function(opt_data, opt_ignored) {
  var output = '<h2>' + soy.$$escapeHtml('Find a Confluence page') + '</h2><form class="aui search-form" id="confluence-page-search-form" action="#" method="post"><div class="field-group"><label for="confluence-app-link">' + soy.$$escapeHtml('Server') + ':</label>';
  if (opt_data.appLinks.length == 1) {
    output += '<span class="field-value">' + soy.$$escapeHtml(opt_data.appLinks[0].name) + '</span><input id="confluence-app-link" class="hidden" type="hidden" name="appId" value="' + soy.$$escapeHtml(opt_data.appLinks[0].id) + '"/>';
  } else {
    output += '<select id="confluence-app-link" class="select medium-field" name="appId">';
    var appLinkList17 = opt_data.appLinks;
    var appLinkListLen17 = appLinkList17.length;
    for (var appLinkIndex17 = 0; appLinkIndex17 < appLinkListLen17; appLinkIndex17++) {
      var appLinkData17 = appLinkList17[appLinkIndex17];
      output += '<option value="' + soy.$$escapeHtml(appLinkData17.id) + '">' + soy.$$escapeHtml(appLinkData17.name) + '</option>';
    }
    output += '</select>';
  }
  output += '</div><div class="issue-link-applinks-authentication-message applinks-message-bar"></div><div class="hidden"><input class="issue-link-applinks-application-type" type="hidden" value="com.atlassian.applinks.api.application.confluence.ConfluenceApplicationType"/></div><div class="issue-link-oauth-toggle field-group"><label for="link-search-text" id="linkSearch-label">' + soy.$$escapeHtml('Search') + ':</label><input id="link-search-text" type="text" tabindex="0" class="text" name="linkSearch" size="50" /> <select tabindex="0" class="search-space select" id="search-panel-space"><option value="">' + soy.$$escapeHtml('All Spaces') + '</option></select> <input type="submit" tabindex="0" class="aui-button" id="search-panel-button" value="' + soy.$$escapeHtml('Search') + '"/><span id="link-search-loading" class="icon loading throbber hidden"/></div><div class="message-panel hidden"></div><div id="search-results-table" class="data-table"></div><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-link cancel" id="confluence-link-cancel" title="' + soy.$$escapeHtml('Press Esc to close') + '">' + soy.$$escapeHtml('Close') + '</button></div></div></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.result.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.result';
}


JIRA.Templates.ConfluencePageSearch.resultsTable = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.results.length > 0) {
    output += '<table id="confluence-searchresult" class="aui"><thead><tr><th width="180px">' + soy.$$escapeHtml('Title') + '</th><th width="550px">' + soy.$$escapeHtml('Excerpt') + '</th></tr></thead><tbody>';
    var resultList44 = opt_data.results;
    var resultListLen44 = resultList44.length;
    for (var resultIndex44 = 0; resultIndex44 < resultListLen44; resultIndex44++) {
      var resultData44 = resultList44[resultIndex44];
      output += '<tr title="' + soy.$$escapeHtml(resultData44.title) + '"><td class="title" data-url="' + soy.$$escapeHtml(resultData44.url) + '">' + soy.$$escapeHtml(resultData44.title) + '</td><td class="excerpt">' + soy.$$escapeHtml(resultData44.excerpt) + '</td></tr>';
    }
    output += '</tbody></table>';
  } else {
    output += '<div class="aui-message info"><span class="aui-icon icon-info"></span><p>' + soy.$$escapeHtml('Search returned no results.') + '</p></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.resultsTable.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.resultsTable';
}


JIRA.Templates.ConfluencePageSearch.spaceOptions = function(opt_data, opt_ignored) {
  var output = '<option value="">' + soy.$$escapeHtml('All Spaces') + '</option>';
  var spaceList64 = opt_data.spaces;
  var spaceListLen64 = spaceList64.length;
  for (var spaceIndex64 = 0; spaceIndex64 < spaceListLen64; spaceIndex64++) {
    var spaceData64 = spaceList64[spaceIndex64];
    output += '<option value="' + soy.$$escapeHtml(spaceData64.key) + '">' + soy.$$escapeHtml(spaceData64.name) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.spaceOptions.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.spaceOptions';
}


JIRA.Templates.ConfluencePageSearch.allSpacesOption = function(opt_data, opt_ignored) {
  return '<option value="">' + soy.$$escapeHtml('All Spaces') + '</option><option value="" disabled="disabled">' + soy.$$escapeHtml('Loading...') + '</option>';
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.allSpacesOption.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.allSpacesOption';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-confluence-plugin:confluence-page-resource', location = 'templates/dialog/template-wrapper.js' */
define("jira-issue-link-confluence/dialog/searchresult/templates",[],function(){"use strict";return window.JIRA.Templates.ConfluencePageSearch});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-confluence-plugin:confluence-page-resource', location = 'js/ConfluencePageSearch.js' */
require(["jquery","wrm/context-path","jira/util/formatter","aui/message","jira/ajs/ajax/smart-ajax","jira-issue-link-confluence/dialog/searchresult/templates","jira/dialog/form-dialog","issue-link-app-links/app-links"],function(e,a,n,t,s,l,r,c){e(function(){function i(a,s){e("#confluence-app-link",a).change(function(){var n=s.selectServer(e(this).val()).authenticationRequired;n||u(a,e(this).val(),s),e("#search-results-table",a).empty(),o(!0,a)}),e("#search-panel-button",a).click(function(){e("#search-results-table",a).empty();var s=e("#link-search-text",a).val();return s=e.trim(s),s?d(s,a):t.info("#search-results-table",{body:"Please enter search value.",closeable:!1}),!1})}function u(r,c,i){e("select#search-panel-space",r).html(l.allSpacesOption());var u=++m;s.makeRequest({url:a()+"/rest/confluenceIssueLink/1/confluence/space?appId="+c,complete:function(a,s,p){if(u===m)if(p.successful){var d=p.data.spaces;e("select#search-panel-space",r).html(l.spaceOptions({spaces:d}))}else if(401===p.status)i.setAuthenticationRequired(c,!0);else{o(!1,r);var f;f=403===p.status?"Content on the Confluence site could not be accessed because the Confluence server\'s \'Remote API\' feature is disabled. The Confluence system administrator must enable this \'Remote API\' feature for Jira to successfully access this content.":"Unable to gather information from the selected Confluence instance.",t.error("#search-results-table",{body:f,closeable:!1})}}})}function o(a,n){a?(e("#link-search-text",n).removeAttr("disabled"),e("#search-panel-space",n).removeAttr("disabled"),e("#search-panel-button",n).removeAttr("disabled")):(e("#link-search-text",n).attr("disabled","disabled"),e("#search-panel-space",n).attr("disabled","disabled"),e("#search-panel-button",n).attr("disabled","disabled"))}function p(a,n){e("#link-search-loading",n).toggleClass("hidden",!a)}function d(r,c){p(!0,c);var i=e("#confluence-app-link",c).val(),u=e("#search-panel-space option:selected",c).val();s.makeRequest({url:a()+"/rest/confluenceIssueLink/1/confluence/search?query="+r+"&appId="+i+"&spaceKey="+u+"&maxResults=10",complete:function(a,s,r){if(p(!1,c),r.successful){var i=r.data.result,u=l.resultsTable({results:i});e("#search-results-table",c).html(u)}else{var o;o=r.hasData?"The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.":"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.",t.error("#search-results-table",{body:o,closeable:!1})}e("#confluence-searchresult tbody tr",c).click(function(){var a=e(this).children().first().data("url");e("#confluence-page-url").val(a),e("#link-issue-dialog .error").hide(),h.hide(),e("#link-issue-dialog").show(),e("#confluence-page-url").focus().select()})}})}function f(a){var n={getCurrentAppId:function(a){return e("#confluence-app-link",a).val()},shouldExecute:function(a){return 0!==e("#confluence-app-link",a).length},onAuthenticationSuccessCallback:function(e,a,n){u(e,a,n)},getIssueId:function(a){return e("#confluence-page-link input[name=id]").val()}};return c.init(n,a.$popup).done(function(e,a){u(e,n.getCurrentAppId(e),a)})}var h=new r({id:"confluence-page-search-dialog",trigger:"#confluence-page-link .confluence-search-trigger",widthClass:"large",height:"565px",content:function(r){var c=this;s.makeRequest({url:a()+"/rest/confluenceIssueLink/1/confluence/applink",complete:function(a,s,u){if(u.successful){var o=u.data.applicationLinks;r(l.result({appLinks:o})),f(c).done(function(a,n){i(a,n),e("#link-search-text",a).focus()})}else t.error("#search-results-table",{body:"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.",closeable:!1}),r()}})},submitHandler:function(a,n){a.preventDefault(),e("#search-panel-button").click().removeAttr("disabled"),n()}}),m=0})});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:client-analytics-runtime', location = 'jira-client-analytics-module/client-analytics/project-api-resolver/project-api-resolver.js' */
define("client-analytics/project-api-resolver/project-api-resolver",["jquery","exports"],function(e,r){r.resolve=function(){return new Promise(function(r,t){window.JIRA&&window.JIRA.API&&window.JIRA.API.getSidebar?JIRA.API.getSidebar().done(function(){var t=JIRA.Issues&&JIRA.Issues.Api&&JIRA.Issues.Api.getSelectedIssueId;r({getCurrentProjectId:JIRA.API.Projects.getCurrentProjectId,getCurrentProjectType:JIRA.API.Projects.getCurrentProjectType,getCurrentIssueId:t||e.noop})}).fail(t):t()})}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:client-analytics-runtime', location = 'jira-client-analytics-module/client-analytics/runtime/client-analytics-runtime.js' */
define("client-analytics/runtime/client-analytics-runtime",["jquery","jira/analytics","client-analytics/project-api-resolver/project-api-resolver","exports"],function(e,t,r,n){function i(e,t){var r=t.trigger.split(" "),n=r[0],i=r[1],c=Object.keys(t.properties||{}).map(function(e){var r=t.properties[e].split(" "),n=r[0],i=r[1];return{analyticEventPropertyName:e,elementAttribute:n,elementSelector:i}});return{analyticEventName:e,trigger:{eventType:n,selector:i},properties:c}}function c(e){return Object.keys(e).map(function(t){var r=e[t].events||{};return Object.keys(r).map(function(e){var n=r[e],c=["jira",t,e].join(".");return i(c,n)})}).reduce(function(e,t){return e.concat(t)},[])}function a(t){var r=e(t.elementSelector),n=u[t.elementAttribute];if(r.length&&n)return n(r)}function o(n){e(document).on(n.trigger.eventType,n.trigger.selector,function(){var e=n.analyticEventName,i={};n.properties.forEach(function(e){var t;t=a(e),t&&(i[e.analyticEventPropertyName]=t)}),r.resolve().then(function(r){var n=r.getCurrentProjectId(),c=r.getCurrentProjectType(),a=r.getCurrentIssueId();n&&(i.projectId=n),c&&(i.projectType=c),a&&(i.issueId=a),t.send({name:e,properties:i})}).catch(function(){t.send({name:e,properties:i})})})}var u={"value.length":function(e){var t=e.val();if(t)return t.length}};n.registerEvents=function(e){var t=c(e);t.forEach(o)}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:client-analytics-runtime-init', location = 'jira-client-analytics-module/client-analytics/client-analytics-init.js' */
require(["jira/analytics/context-provider","client-analytics/runtime/client-analytics-runtime"],function(t,e){var i=t.getContext();i&&e.registerEvents(i.analyticsResource)});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:logging-client', location = 'jira-client-analytics-module/client-analytics/logging-client.js' */
define("jira/analytics/logging-client",["jquery","wrm/context-path"],function(n,t){var a=t()+"/rest/internal/2/log/unsafe/emau";return{logEMAU:function(t,e,r){n.ajax({url:a,contentType:"application/json",type:"POST",data:JSON.stringify({eventData:{url:e,urlParams:r,subproduct:t}})})}}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:track-emau', location = 'jira-client-analytics-module/client-analytics/track-emau.js' */
require(["jira/analytics/web-client","jira/analytics/logging-client","jquery"],function(n,i,t){t(document).ready(function(){n.startUIViewedEvent(function(n){"jira"===n.product&&i.logEMAU(n.subproduct,window.location.pathname,window.location.search)})})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts', location = 'jira-agile-module/includes/js/gh-globalkeyboardshortcuts.js' */
!function(e){e.namespace("gh.app.globalkeyboardshortcuts");var s=gh.app.globalkeyboardshortcuts;s.findSelectedIssueId=function(){var e;return jira&&jira.app&&jira.app.issuenavigator&&jira.app.issuenavigator.getSelectedIssueId&&(e=jira.app.issuenavigator.getSelectedIssueId()),!e&&jira&&jira.app&&jira.app.issue&&jira.app.issue.getIssueId&&(e=jira.app.issue.getIssueId()),e},s.goToAgile=function(){var e=(contextPath?contextPath:"")+"/secure/RapidBoard.jspa";window.location.href=e},s.followLink=function(s){var t=e(s);t.length>0&&("a"===t[0].nodeName.toLowerCase()||"link"===t[0].nodeName.toLowerCase())&&(t.click(),window.location.href=t.attr("href"))},s.sendToTop=function(e,t,o){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToTop)return GH.Shortcut.sendToTop(e,o),void s.closeDialogAndPopMessage();if("Action"===e){var a=t||s.findSelectedIssueId();contextPath||(contextPath=""),JIRA.SmartAjax.makeRequest({type:"post",contentType:"application/json",url:contextPath+"/rest/greenhopper/1.0/rank/global/first",data:JSON.stringify({issueId:a}),success:s.handleRankSuccess}),AJS.$(AJS).trigger("gh.global.rankissues",{action:"rankToTop"+(e?e:""),count:1})}},s.sendToBottom=function(e,t,o){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToBottom)return GH.Shortcut.sendToBottom(e,o),void s.closeDialogAndPopMessage();if("Action"===e){var a=t||s.findSelectedIssueId();contextPath||(contextPath=""),JIRA.SmartAjax.makeRequest({type:"post",contentType:"application/json",url:contextPath+"/rest/greenhopper/1.0/rank/global/last",data:JSON.stringify({issueId:a}),success:s.handleRankSuccess}),AJS.$(AJS).trigger("gh.global.rankissues",{action:"rankToBottom"+(e?e:""),count:1})}},s.closeDialogAndPopMessage=function(){JIRA.IssueNavigator.isNavigator()?AJS.reloadViaWindowLocation():(JIRA.Dialog&&JIRA.Dialog.current&&JIRA.Dialog.current.hide(),window.GH?(GH.Message&&GH.Message.showIssueMessage?GH.Message.showIssueMessage():GH.RapidBoard&&GH.Notification&&GH.Notification.showIssueMessage&&GH.Notification.showIssueMessage(),window.Boards&&Boards.refreshAll()):JIRA.IssueNavigator&&JIRA.IssueNavigator.Shortcuts&&JIRA.IssueNavigator.Shortcuts.flashIssueRow&&JIRA.IssueNavigator.Shortcuts.flashIssueRow())},s.handleRankSuccess=function(e,t,o){s.storeSuccessMessage(e.issueId,e.issueKey,"thanks_issue_updated"),s.closeDialogAndPopMessage()},s.storeSuccessMessage=function(e,s,t){var o=JIRA.SessionStorage;o.setItem("selectedIssueId",e),o.setItem("selectedIssueKey",s),o.setItem("selectedIssueMsg",t)},AJS.$(function(){AJS.$(document).delegate(".issueaction-greenhopper-rank-top-operation","click",function(e){e.preventDefault();var t=AJS.$(this).attr("data-issueid");s.sendToTop("Action",t)}),AJS.$(document).delegate(".issueaction-greenhopper-rank-bottom-operation","click",function(e){e.preventDefault();var t=AJS.$(this).attr("data-issueid");s.sendToBottom("Action",t)})})}(AJS.$);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-issue-type-whitelist', location = 'jira-agile-module/includes/js/rapid/analytics/register-software-issue-types.js' */
function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}require(["jira/analytics/transformers/issue-type"],function(e){var r,t=(r={},_defineProperty(r,"Story","Story"),_defineProperty(r,"Epic","Epic"),r);e.registerAll(t)});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-analytics-tracker', location = 'jira-agile-module/includes/js/rapid/AnalyticsTracker.js' */
define("jira-agile/rapid/analytics-tracker",["require"],function(e){function a(e,a,r){if(i.isUndefined(e))throw new Error("You must specify a category");this.params={},this.params.category=e;var t=0;i.isUndefined(a)||(this.params.action=a,t++,i.isUndefined(r)||(this.params.label=r,t++)),this.requiredArgumentNames=["action","label","value"].slice(t),this.useAsync=!0}var i=e("underscore");return a.prototype.setAsync=function(e){return this.useAsync=e,this},a.prototype.trigger=function(){for(var e=i.clone(this.params),a=0;a<arguments.length&&!i.isUndefined(this.requiredArgumentNames[a]);a++)e[this.requiredArgumentNames[a]]=arguments[a];this._validateParams(e);var r="gh.analytics.async";AJS.$(AJS).trigger(r,e)},a.prototype._validateParams=function(e){var a=["category","action","label"];i.each(a,function(a){i.isUndefined(e[a])||i.isString(e[a])?i.isUndefined(e[a])&&(e[a]=""):e[a]=e[a].toString()}),i.each(["category","action"],function(a){e[a]=e[a].replace(/\s+/g,"")}),i.isUndefined(e.value)||(e.value=parseInt(e.value,10),isNaN(e.value)&&(e.value=void 0))},a}),AJS.namespace("GH.AnalyticsTracker",null,require("jira-agile/rapid/analytics-tracker"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'jira-agile-module/includes/js/rapid/ui/help/HelpAnalytics.js' */
AJS.$(function(){var e=require("jira-agile/rapid/analytics-tracker"),r=function(r){return new e(r).setAsync(!1)};AJS.$("#gh_view_help").click(function(e){return r("gh.gethelp").trigger("usermenu","docs"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-enablement").click(function(e){return r("gh.myjirahome").trigger("usermenu","enabled"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-enablement-ondemand").click(function(e){return r("gh.myjirahome").trigger("usermenu","set"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-disablement-ondemand").click(function(e){return r("gh.myjirahome").trigger("usermenu","disable"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-set").click(function(e){return r("gh.myjirahome").trigger("usermenu","set"),n(AJS.$(this))}),AJS.$("#beta_gh\\.configuration\\.rapid\\.removal").click(function(e){var n=AJS.$(this),t=n.attr("checked")?"on":"off";return r("gh.labs.feature").trigger("rapid_removal",t),!0}),AJS.$(document).delegate("#js-classic-link_lnk","click",function(e){return r("gh.agile.menu").trigger("classic"),!0});var n=function(e){return"_blank"==e.attr("target")||(setTimeout('document.location = "'+e.attr("href")+'"',100),!1)}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'jira-agile-module/includes/js/rapid/Analytics.js' */
"undefined"==typeof GH&&(window.GH={}),function(e,n,a,t){function c(){n(document).on(s,function(e,n){i(n)})}function i(n){var t={},c=n.category;a.isUndefined(n.action)||(c=c+"."+n.action),a.isUndefined(n.label)||(t.label=n.label),a.isUndefined(n.value)||(t.value=n.value),t.searchSessionId=t.searchSessionId||e.Meta.get("search-session-id"),t.searchObjectId=t.searchObjectId||e.Meta.get("search-object-id"),t.searchContainerId=t.searchContainerId||e.Meta.get("search-container-id"),t.searchContentType=t.searchContentType||e.Meta.get("search-content-type"),e.trigger("analytics",{name:c,data:t});var i=require("jira/customevents/trigger-custom-event");i&&i.trigger("legacy-gas-v2-event",c,t)}t.AnalyticsEnabled=!0;var s="gh.analytics.async";c()}(AJS,AJS.$,_,GH);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalissueoperations', location = 'jira-agile-module/includes/js/gh-globalissueoperations.js' */
!function(){var r=require("jira-agile/rapid/analytics-tracker"),i=new r("gh.issueaction.gotorapidboard").setAsync(!1),e=require("jira/dialog/form-dialog"),a=require("jira/dialog/dialog-register"),o=e.extend({_performRedirect:function(r){i.trigger("direct"),window.location.href=r}}),n=new o({id:"gh-rapidboard-dialog",trigger:"a.issueaction-greenhopper-rapidboard-operation",ajaxOptions:function(){return a.getDefaultAjaxOptions.apply(this,arguments)}}),t=function(r,i){var e="",a=AJS.$(r);return a.hasClass("js-rapidboard-operation-sprint")?e="sprint.":a.hasClass("js-rapidboard-operation-issue")&&(e="issue."),e+=i};AJS.$(function(){AJS.$(document).on("simpleClick",".issueaction-greenhopper-rapidboard-operation",function(r){r.preventDefault();var e=t(r.currentTarget,"open");i.trigger(e),n.show()}),AJS.$(document).on("simpleClick",".js-select-rapidboard",function(r){var e=t(r.currentTarget,"chosen");i.trigger(e)})})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/initFieldPickers.js' */
!function(e){function i(i){e(".js-epic-picker",i).each(function(){var i=e(this),n=new JIRA.EpicPicker({element:i});e(document).trigger(JIRA.EpicPicker.READY_EVENT,n)})}function n(i){e(".js-sprint-picker",i).each(function(){var i=e(this),n=new JIRA.SprintPicker({element:i});e(document).trigger(JIRA.SprintPicker.READY_EVENT,n)})}var r=require("jira/util/events/types");JIRA.bind(r.NEW_CONTENT_ADDED,function(e,r,t){t!==JIRA.CONTENT_ADDED_REASON.panelRefreshed&&(i(r),n(r))})}(AJS.$);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/EpicPicker.js' */
!function(){"use strict";var e=require("jira/ajs/select/single-select");JIRA.EpicPicker=e.extend({init:function(e){function r(e){var r=!l();return{query:e,projectKey:AJS.$(h).attr("data-project-key"),maxResults:20,excludeDone:r}}function t(e,r,t,i){e=AJS.escapeHTML(String(e)),r=AJS.escapeHTML(String(r)),t=t,i=AJS.escapeHTML(String(i));var n,a=i.toUpperCase(),o=e.toUpperCase(),s=r.toUpperCase(),a=(a+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1"),c=new RegExp("("+a+")","gi"),l=o.search(c);l>-1&&(n=e.slice(l,l+i.length),e=e.replace(n,"<em>"+n+"</em>")),l=s.search(c),l>-1&&(n=r.slice(l,l+i.length),r=r.replace(n,"<em>"+n+"</em>"));var p=t?" &#8226; "+"Done":"";return e+" - <span class='epic-menu-metadata'>("+r+p+")</span>"}function i(e){if(!e||!e.values)return[];var r=g.getQueryVal(),t=new AJS.GroupDescriptor({weight:0,showLabel:!1,items:[new AJS.ItemDescriptor({label:r,highlighted:!0,styleClass:"ghx-epic-menu-header",customItem:!0,html:"<li><label for='chkShowDoneEpic'><input type='checkbox' id='chkShowDoneEpic'"+(l()?" checked":"")+">"+"Show done epics"+"</label></li>"})],replace:!0});return _.each(e.values,function(e){t.addItem(n(e,r))}),[t]}function n(e,r){var i=e.key,n=e.name,a=e.isDone,o=t(n,i,a,r);return new AJS.ItemDescriptor({value:"key:"+i,fieldText:n,label:o,html:o,allowDuplicate:!1,highlighted:!0})}function a(e,r,t){var i=AJS.$(h);i.siblings(".ghx-error").remove(),i.before(GH.tpl.rapid.notification.renderAuiMessage({message:"Error"+": "+t,type:"error",className:"ghx-error aui-ss"}))}function o(e){var r="",t=!1;return e&&e.length>0&&(r=AJS.format("Epic with key \'\'{0}\'\' does not exist.",e),t=!0),{isError:t,message:r}}function s(e){var r,t;u.apply(g,[e]),e=e||AJS.$.trim(g.$field.val()),t=g.model.getDescriptor(e),!t&&g.$container.hasClass("aui-ss-editing")&&(r=o(e),r.isError?(g.options.errorMessage=r.message,g.showErrorMessage(e)):g.hideErrorMessage())}function c(){g._super(e),u=g.handleFreeInput,g.handleFreeInput=s;var r=require("jira/ajs/layer/inline-layer");g.dropdownController.bind(r.EVENTS.show,function(e,r){r.off("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',p),r.on("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',p)})}function l(){return"true"===localStorage.getItem("gh.epicpicker.showdone")}function p(e){e.preventDefault();var r=!l();return localStorage.setItem("gh.epicpicker.showdone",r),g.$field.click(),!1}var u,h=e.element,g=this;AJS.$.extend(e,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:contextPath+"/rest/agile/1.0/epic/search",query:!0,data:r,formatResponse:i,error:a}});var d=this.setSelection;this.setSelection=function(e,r){e.properties.customItem||d.apply(this,arguments)},c()}}),JIRA.EpicPicker.READY_EVENT="gh.epic-picker.ready"}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/SprintPicker.js' */
JIRA.SprintPicker=AJS.SingleSelect.extend({init:function(e){function n(e){var n=h.apply(this,arguments);return n.find("a").append(GH.tpl.customfields.sprintpicker.renderSuggestionMeta(e.properties)),n}function t(e){var n,t=this.getSelectedDescriptor();e||t||p(null),o(),this.hideErrorMessage(),n=t?r(t):i(e),n.message&&(this.options.errorMessage=n.message,f.apply(this,arguments),this.$errorMessage.addClass("inline-edit-error")),n.needsScopeChangeWarning&&s()}function i(e){var n=null,t=!1;return e&&e.length>0?v?(n=AJS.format("{0} is not a valid sprint name. This issue will be returned to the backlog.",e),v===m.ACTIVE&&(t=!0)):n=AJS.format("{0} is not a valid sprint name.",e):v===m.ACTIVE&&(t=!0),{message:n,needsScopeChangeWarning:t}}function r(e){var n=!1;return v===m.ACTIVE?n=!!u()||x!=e.properties.value:v===m.FUTURE?e.properties.stateKey===m.ACTIVE&&(n=!0):v||e.properties.stateKey===m.ACTIVE&&(n=!0),{message:null,needsScopeChangeWarning:n}}function s(){if(!S){u()||(S=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"Sprint scope will be affected by this action."})));var e=I.$container.closest(".inline-edit-fields");e.size()>0?u()?(S=AJS.$('<div class="ghx-estimate-scope-warning"></div>'),S.text("Sprint scope will be affected by this action."),0===e.find(".field-group .ghx-estimate-scope-warning").length&&e.find(".field-group").append(S)):0===e.find(".field-group .ghx-estimate-scope-warning").length&&e.closest(".editable-field").append(S):(u()&&(S=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"Sprint scope will be affected by this action."}))),0===I.$container.closest(".field-group .ghx-sprint-picker-scope-warning").length&&I.$container.closest(".field-group").append(S))}S.show()}function o(){S&&(S.remove(),S=null)}function a(e){if(!e.suggestions&&!e.allMatches)return[];var n=new AJS.GroupDescriptor({weight:0,label:"Suggestions"}),t=new AJS.GroupDescriptor({weight:1,label:"All sprints"});return _.each(l(e.suggestions),function(e){n.addItem(g(e,!0))}),_.each(l(e.allMatches),function(e){t.addItem(g(e,!1))}),[n,t]}function g(e,n){var t=AJS.escapeHTML(String(e.name));return new AJS.ItemDescriptor({value:e.id.toString(),label:e.name,html:t,stateKey:e.stateKey,boardName:e.boardName,allowDuplicate:!1,isSuggestion:n})}function l(e){return _.sortBy(e,function(e){return e.name.toLowerCase()})}function p(e){GH.SprintConfig&&AJS.$(GH).trigger("QuickEdit.fieldChange",{fieldId:GH.SprintConfig.getSprintFieldId(),fieldChangeData:{original:x,updated:e?e.properties.value:null}})}function d(){if(I._super(e),h=I.listController._renders.suggestion,f=I.showErrorMessage,I.listController._renders.suggestion=n,I.showErrorMessage=t,u()){var i=I.$container.closest(".inline-edit-fields"),r=i.size()>0;if(r){var s=w.parent().find("input");s.on("focus",function(){I.showErrorMessage()})}}w.bind("selected",function(e,n,t){u()&&r||t.showErrorMessage(t.getQueryVal()),p(n),I.showErrorMessage()}),I.suggestionsHandler=new J(I.options,I.model)}function c(e,n,t){var i=AJS.$(w);i.siblings(".ghx-error").remove(),i.before(GH.tpl.rapid.notification.renderAuiMessage({message:"Error"+": "+t,type:"error",className:"ghx-error aui-ss"}))}function u(){return GH&&GH.DetailsView}var h,f,S,m={ACTIVE:"ACTIVE",FUTURE:"FUTURE",CLOSED:"CLOSED"},A=10,w=e.element,v=w.data("saved-state"),x=w.data("saved-id"),I=this,J=AJS.SelectSuggestHandler.extend({formatSuggestions:function(e,n){return e=this._super(e,n),0===n.length&&e[e.length-1].footerText("Start typing for sprints."),e}});AJS.$.extend(e,{submitInputVal:!1,showDropdownButton:!0,removeOnUnSelect:!1,maxInlineResultsDisplayed:A,ajaxOptions:{url:contextPath+"/rest/greenhopper/1.0/sprint/picker",query:!0,formatResponse:a,error:c}}),d()}}),JIRA.SprintPicker.READY_EVENT="gh.sprint-picker.ready";;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/SprintPicker.soy' */
// This file was automatically generated from SprintPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintpicker.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintpicker == 'undefined') { GH.tpl.customfields.sprintpicker = {}; }


GH.tpl.customfields.sprintpicker.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '' + ((opt_data.boardName && ! opt_data.isSuggestion) ? '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithBoardName(opt_data) + ')</span>' : '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName(opt_data) + ')</span>');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderSuggestionMeta';
}


GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml('Active sprint') : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('Future sprint') : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintpicker.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('Active sprint in {0}',opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format('Future sprint in {0}',opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithBoardName';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/rapid/ui/notification/Notification.js' */
!function(){var e=require("jira/util/top-same-origin-window"),i=function(){return e(window).document};AJS.namespace("GH.Notification"),GH.Notification.autoHideEnabled=!0;var t=Object.freeze({INFO:"info",SUCCESS:"success"});GH.Notification.showErrors=function(e,i){var t=GH.Notification.prepareNotificationDiv(),o=GH.tpl.rapid.notification.renderErrorMessages(e);"undefined"==typeof i&&(i=!0),AJS.messages.error(t,{title:"Error",body:o,closeable:i}),GH.Notification._divStyle(t)&&t.css(GH.Notification._divStyle(t)),t.show()},GH.Notification.showError=function(e,i,t){var o=GH.Notification.prepareNotificationDiv();"undefined"==typeof t&&(t=!0),AJS.messages.error(o,{title:e,body:i,closeable:t}),GH.Notification._divStyle(o)&&o.css(GH.Notification._divStyle(o)),o.show()},GH.Notification.showWarnings=function(e,i){var t={autoHide:!0,autoHideDelay:5e3,preRendered:!1,showTitle:!1};i=_.extend({},t,i);var o,a=GH.Notification.prepareNotificationDiv();o=i.preRendered?e:GH.tpl.rapid.notification.renderErrorMessages({errors:e});var n={body:o,closeable:!0};i.showTitle&&(n.title="Warning"),AJS.messages.warning(a,n),GH.Notification._divStyle(a)&&a.css(GH.Notification._divStyle(a)),a.show(),i.autoHide&&GH.Notification.autoHideEnabled&&setTimeout(function(){a.hide()},i.autoHideDelay)},GH.Notification.showWarning=function(e){var i=GH.Notification.prepareNotificationDiv();AJS.messages.warning(i,{body:e,closeable:!0}),GH.Notification._divStyle(i)&&i.css(GH.Notification._divStyle(i)),i.show()},GH.Notification.clear=function(){GH.Notification.prepareNotificationDiv().hide()},GH.Notification.handleDateFormatMismatchError=function(e){var i='<a href="'+GH.Ajax.CONTEXT_PATH+'/secure/admin/AdvancedApplicationProperties.jspa">';i+="Advanced Settings",i+="</a>";var t=AJS.format("It appears your Jira date format settings are misconfigured. Please check the {0} and ensure that \'\'jira.date.time.picker.java.format\'\' and \'\'jira.date.time.picker.javascript.format\'\' have matching output.",i);GH.Notification.showWarnings(t,{autoHide:!1,preRendered:!0})},GH.Notification.auiMessage=function(e){var i=_.extend({type:"generic",icon:!0,messageHtml:!1},e);return GH.tpl.rapid.notification.renderAuiMessage({type:i.type,title:i.title,icon:i.icon,messageHtml:i.messageHtml,message:i.message})},GH.Notification.Handler={_defaultNotificationHandler:function(){var e=AJS.$("<div/>").addClass("global-msg");return AJS.$(".global-msg",i()).remove(),AJS.$("body",i()).append(e),e},_defaultDivStyleHandler:function(e){return{marginLeft:-e.outerWidth()/2,top:20}},setCustomDivStyleHandler:function(e){this._customDivStyleHandler=e,this._useDefault=!1},_useDefault:!0,setCustomNotificationHandler:function(e){this._customNotificationHandler=e,this._useDefault=!1},removeCustomHandlers:function(){this._useDefault=!0},getNotificationHandler:function(){return this._useDefault||null==this._customNotificationHandler?this._defaultNotificationHandler:this._customNotificationHandler},getDivStyleHandler:function(){return this._useDefault||null==this._customDivStyleHandler?this._defaultDivStyleHandler:this._customDivStyleHandler}},GH.Notification._divStyle=function(e){var i=GH.Notification.Handler.getDivStyleHandler();return i(e)},GH.Notification.prepareNotificationDiv=function(){var e=GH.Notification.Handler.getNotificationHandler();return e()},GH.Notification.showSuccess=function(e,i){o(t.SUCCESS,e,i)},GH.Notification.showInfo=function(e,i){o(t.INFO,e,i)};var o=function(e,t,o){clearTimeout(GH.Notification.current);var a={timeout:5e3,closeable:!0,shadowed:!0};o=_.extend(a,o,{body:t});var n=GH.Notification.prepareNotificationDiv();AJS.messages[e](n,o),GH.Notification._divStyle(n)&&n.css(GH.Notification._divStyle(n)),n.show(),GH.Notification.autoHideEnabled&&(GH.Notification.current=setTimeout(function(){AJS.$(".global-msg",i()).hide()},o.timeout))};GH.Notification.showIssueMessage=function(e){var i=JIRA.SessionStorage,t=null,o=null;e||(e=i.getItem("selectedIssueId")),e&&(o=i.getItem("selectedIssueKey"),t=i.getItem("selectedIssueMsg"),GH.Notification.showIssueMessageImpl(e,t,o)),i.removeItem("selectedIssueId"),i.removeItem("selectedIssueKey"),i.removeItem("selectedIssueMsg")},GH.Notification.showIssueMessageImpl=function(e,i,t){i||(i="thanks_issue_updated");var o=AJS.params[i];o&&t&&(o=AJS.format(o,t),GH.Notification.showSuccess(o))},GH.Notification.addPageLoadMessage=function(e,i){var t=GH.storage.get("gh.pageloadmessages",!0)||[];t.push({message:e,type:i||"success"}),GH.storage.put("gh.pageloadmessages",t,!0)},GH.Notification._displayPageLoadMessages=function(){var e=GH.storage.get("gh.pageloadmessages",!0);if(e){var i=e[0].type,t="";switch(_.each(e,function(e){t.length>0&&(t+="<br>"),t+=e.message}),i){case"warning":GH.Notification.showWarning(t);break;case"success":default:GH.Notification.showSuccess(t)}GH.storage.put("gh.pageloadmessages",null,!0)}};var a=null;GH.Notification.showBoardUpdatedMessage=function(){var e=void 0,i=AJS.$.Deferred();if(0===AJS.$(".aui-flag[aria-hidden=false]").length){var t=GH.tpl.rapid.notification.renderGHtvMessage({showIgnore:!1});a=AJS.flag({type:"info",body:t}),e=AJS.$(t)}var o=function(e){e.preventDefault(),GH.Notification.clearBoardUpdatedMessage(),i.resolve()};return AJS.$(".js-refresh-now").off("click",o).click(o),i.promise()},GH.Notification.clearBoardUpdatedMessage=function(){a&&a.close()},GH.Notification.isBoardUpdatedMessageVisible=function(){var e=AJS.$("#ghx-update-message");return e.length>0},AJS.$(document).ready(function(){GH.Notification.showIssueMessage(),GH.storage&&GH.Notification._displayPageLoadMessages()})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/rapid/ui/notification/Notification.soy' */
// This file was automatically generated from Notification.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.notification.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.notification == 'undefined') { GH.tpl.rapid.notification = {}; }


GH.tpl.rapid.notification.renderErrorMessages = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length > 1) {
    output += '<ul>';
    var errorList6 = opt_data.errors;
    var errorListLen6 = errorList6.length;
    for (var errorIndex6 = 0; errorIndex6 < errorListLen6; errorIndex6++) {
      var errorData6 = errorList6[errorIndex6];
      output += '<li>' + ((errorData6.noAutoescape) ? soy.$$filterNoAutoescape(errorData6.message) : soy.$$escapeHtml(errorData6.message)) + '</li>';
    }
    output += '</ul>';
  } else {
    var errorList18 = opt_data.errors;
    var errorListLen18 = errorList18.length;
    for (var errorIndex18 = 0; errorIndex18 < errorListLen18; errorIndex18++) {
      var errorData18 = errorList18[errorIndex18];
      output += '<p>' + ((errorData18.noAutoescape) ? soy.$$filterNoAutoescape(errorData18.message) : soy.$$escapeHtml(errorData18.message)) + '</p>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderErrorMessages.soyTemplateName = 'GH.tpl.rapid.notification.renderErrorMessages';
}


GH.tpl.rapid.notification.renderContextualErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList29 = opt_data.errors;
  var errorListLen29 = errorList29.length;
  for (var errorIndex29 = 0; errorIndex29 < errorListLen29; errorIndex29++) {
    var errorData29 = errorList29[errorIndex29];
    output += '<div class="ghx-error">' + soy.$$escapeHtml(errorData29.message) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderContextualErrors.soyTemplateName = 'GH.tpl.rapid.notification.renderContextualErrors';
}


GH.tpl.rapid.notification.renderMessageHolder = function(opt_data, opt_ignored) {
  return '<div class="ghx-body-warning">' + soy.$$escapeHtml(AJS.format('This version of {0} is not a supported browser.',opt_data.browser)) + ' <a href="' + soy.$$escapeHtml(opt_data.docsUrl) + '">' + soy.$$escapeHtml('See our documentation for the list of supported browsers.') + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderMessageHolder.soyTemplateName = 'GH.tpl.rapid.notification.renderMessageHolder';
}


GH.tpl.rapid.notification.renderAuiMessage = function(opt_data, opt_ignored) {
  return '<div id="ghx-global-message" class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ((opt_data.className) ? ' ' + soy.$$escapeHtml(opt_data.className) : '') + '">' + ((opt_data.title) ? '<p class="title">' + ((opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' : '') + ((opt_data.message) ? '<p>' + ((! opt_data.title && opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + ((opt_data.messageHtml) ? soy.$$filterNoAutoescape(opt_data.message) : soy.$$escapeHtml(opt_data.message)) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderAuiMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderAuiMessage';
}


GH.tpl.rapid.notification.renderGHtvMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div id="ghx-update-message" class="ghx-tv-message"><p>' + soy.$$escapeHtml('This board has been updated') + ': <a href="" class="js-refresh-now">' + soy.$$escapeHtml('Refresh') + '</a>' + ((opt_data.showIgnore) ? '<span class="ghx-divider">&bull;</span><a href="" class="js-ignore-refresh">' + soy.$$escapeHtml('Ignore') + '</a>' : '') + '</p></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderGHtvMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderGHtvMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/SprintMultiselect.js' */
!function(){"use strict";var e=require("jira/util/events/types");JIRA.bind(e.NEW_CONTENT_ADDED,function(e,t){function n(e){var t=new AJS.GroupDescriptor({weight:0,label:"Suggestions",items:_.map(e.suggestions,s)}),n=new AJS.GroupDescriptor({weight:1,label:"All sprints",items:_.map(e.allMatches,s)});return[t,n]}function s(e){e.date=moment(e.date,"YYYY-MM-DDTHH:mm:ssZ").format("LL");var t=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(e);return new AJS.ItemDescriptor({value:e.id,label:e.name,html:t,title:GH.tpl.customfields.sprintmultiselect.renderTooltip(e),date:e.date,boardName:e.boardName,stateKey:e.stateKey,highlighted:!0,allowDuplicate:!1})}AJS.$(".js-sprint-checkboxmultiselect",t).each(function(){var e=new AJS.CheckboxMultiSelect({element:this,maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/greenhopper/1.0/sprint/picker",error:function(){e._setSuggestions([])},data:{excludeCompleted:!1},query:!0,formatResponse:n},suggestionsHandler:GH.SprintSuggestHandler})})})}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/SprintMultiselect.soy' */
// This file was automatically generated from SprintMultiselect.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintmultiselect.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintmultiselect == 'undefined') { GH.tpl.customfields.sprintmultiselect = {}; }


GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '<div>' + soy.$$escapeHtml(opt_data.name) + '</div><div><span class=\'ghx-sprint-multiselect-meta\'> ' + ((opt_data.boardName) ? GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName(opt_data) : GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName(opt_data)) + '</span></div>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml('Active') : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('Future') : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml('Closed') : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('Active \xb7 {0}',opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format('Future \xb7 {0}',opt_data.boardName)) : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format('Closed \xb7 {0}',opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderTooltip = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('Started on {0}',opt_data.date)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('Future') : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format('Closed on {0}',opt_data.date)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderTooltip.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderTooltip';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/SprintSuggestHandler.js' */
function prepareSelectedDescriptors(e){_.each(e,function(e){var t=JSON.parse(e.properties.meta);t.date=moment(t.date).format("LL"),e.properties.title=GH.tpl.customfields.sprintmultiselect.renderTooltip(t),e.properties.html=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(t)})}define("includes/js/field/sprint-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(e){return e.extend({formatSuggestions:function(e,t){var r=this.model.getDisplayableSelectedDescriptors();prepareSelectedDescriptors(r);var s=function(e){var t;for(t in r)if(r[t].properties.value===e.properties.value.toString())return!1;return!0};return e=_.map(e,function(e){var t=_.filter(e.properties.items,s);return e.properties.items=t,e}),this._super(e,t)}})}),AJS.namespace("GH.SprintSuggestHandler",null,require("includes/js/field/sprint-suggest-handler"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/EpicLinkMultiselect.js' */
require(["require"],function(e){function t(e){return 0!==e.indexOf("project")?"":i(e).trim()}function i(e){function t(e){var t=e.match(/\bproject\s*=\s*(\S+)/i);return t?t[1]:null}function i(e){var t=e.match(/\bproject\s+in\s+\((.*?)\)/i);return t?t[1]:null}return t(e)||i(e)}var n=e("jquery"),r=e("underscore"),s=e("jira/util/events/types");JIRA.bind(s.NEW_CONTENT_ADDED,function(e,i){var s=n("#jql",this).val();i.find(".js-epiclink-checkboxmultiselect").each(function(){var e=new AJS.CheckboxMultiSelect({element:this,matchingStrategy:"(^|.*?(.*))({0})(.*)",maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/greenhopper/1.0/epics",error:function(){e._setSuggestions([])},data:{searchQuery:"",projectKey:t(s),filterEpicsByGivenProjects:!0,maxResults:100},query:!0,minQueryLength:0,formatResponse:function(e){var t=[];if(t.push(new AJS.GroupDescriptor({weight:1,items:[new AJS.ItemDescriptor({highlighted:!0,label:"No Epic Link",value:"EMPTY",title:"EMPTY"})]})),!e||!e.epicLists||0===e.total)return t;for(var i=0;i<e.epicLists.length;i++){var n=e.epicLists[i],s=n.epicNames,c=new AJS.GroupDescriptor({label:n.listDescriptor,weight:i});s.length>0&&(r.each(s,function(e){c.addItem(new AJS.ItemDescriptor({highlighted:!0,label:e.name+" - ("+e.key+")",value:e.key,title:e.key}))}),t.push(c))}return t}},suggestionsHandler:GH.EpicLinkSuggestHandler})})})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'jira-agile-module/includes/js/field/EpicLinkSuggestHandler.js' */
define("includes/js/field/epic-link-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(e){return e.extend({formatSuggestions:function(e,r){var i=this.model.getDisplayableSelectedDescriptors(),t=function(e){var r;for(r in i)if(i[r].properties.value===e.properties.value.toString())return!1;return!0};return e=_.map(e,function(e){var r=_.filter(e.properties.items,t);return e.properties.items=r,e}),this._super(e,r)}})}),AJS.namespace("GH.EpicLinkSuggestHandler",null,require("includes/js/field/epic-link-suggest-handler"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:project-template-resources', location = '/jira-agile-module/projecttemplates/soy/ProjectTemplates.soy' */
// This file was automatically generated from ProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.projecttemplates.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.projecttemplates == 'undefined') { GH.tpl.projecttemplates = {}; }


GH.tpl.projecttemplates.agilityProjectInfoPage = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml('The setup\x27s simple, which means your team can be up-and-running faster.') + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml('Issue Types') + '</h6><ul class="project-template-issuetype-list" ><li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml('Story') + '</span></span></li></ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml('workflow') + '</h6><div class="workflow simple-workflow-screenshot"></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.agilityProjectInfoPage.soyTemplateName = 'GH.tpl.projecttemplates.agilityProjectInfoPage';
}


GH.tpl.projecttemplates.kanbanInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: 'Use this project to optimize the flow of work in your development project. Add constraints to work-in-progress, analyze how long it takes to complete issues, find bottlenecks in your process, and more. This project includes a Kanban board, a basic Agile workflow and issue type configuration, which you can change later on.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml('Story') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'kanban-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.kanbanInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.kanbanInfoPageJira7';
}


GH.tpl.projecttemplates.scrumInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: 'Use this project to manage your Agile development work. Create a backlog, organise work into sprints, check progress using reports, and more. This project includes a Scrum board, a basic Agile workflow and issue type configuration, which you can change later on.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml('Story') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'scrum-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.scrumInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.scrumInfoPageJira7';
}


GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: 'Use this template to track development tasks and bugs. It provides you with a basic workflow and issue type configuration, which you can change later on.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon improvement"></span><span class="issuetype-name">' + soy.$$escapeHtml('Improvement') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon newfeature"></span><span class="issuetype-name">' + soy.$$escapeHtml('New Feature') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'basic-development-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7';
}


GH.tpl.projecttemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml('Issue Types') + '</h6><ul class="project-template-issuetype-list" ><li><span class="issuetype-list-label"><span class="issuetype-icon bug"></span><span class="issuetype-name">' + soy.$$escapeHtml('Bug') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon task"></span><span class="issuetype-name">' + soy.$$escapeHtml('Task') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon subtask"></span><span class="issuetype-name">' + soy.$$escapeHtml('Sub-task') + '</span></span></li>' + soy.$$filterNoAutoescape(opt_data.extraIssueTypes) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml('workflow') + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.workflowScreenshotClass) + '"></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.templateInfoDialog.soyTemplateName = 'GH.tpl.projecttemplates.templateInfoDialog';
}
;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:bamboo-soy-resources', location = 'templates/plugins/bamboo/components.soy' */
// This file was automatically generated from components.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.components.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.components == 'undefined') { bamboo.components = {}; }


bamboo.components.pageHeader = function(opt_data, opt_ignored) {
  return '' + aui.page.pageHeader({content: '' + ((opt_data.headerImageContent) ? aui.page.pageHeaderImage({content: opt_data.headerImageContent}) : '') + aui.page.pageHeaderMain({content: opt_data.headerMainContent}) + ((opt_data.headerActionsContent) ? aui.page.pageHeaderActions({content: opt_data.headerActionsContent}) : '')});
};
if (goog.DEBUG) {
  bamboo.components.pageHeader.soyTemplateName = 'bamboo.components.pageHeader';
}


bamboo.components.icon = function(opt_data, opt_ignored) {
  return '<span class="bamboo-icon bamboo-icon-' + soy.$$escapeHtml(opt_data.type) + '"' + ((opt_data.text && opt_data.showTitle) ? ' title="' + soy.$$escapeHtml(opt_data.text) + '"' : '') + '>' + ((opt_data.text) ? '<span>' + soy.$$escapeHtml(opt_data.text) + '</span>' : '') + '</span>';
};
if (goog.DEBUG) {
  bamboo.components.icon.soyTemplateName = 'bamboo.components.icon';
}


bamboo.components.buildDetail = function(opt_data, opt_ignored) {
  return '<dl><dt class="' + soy.$$escapeHtml(opt_data.keyClass) + '">' + soy.$$escapeHtml(opt_data.key) + '</dt><dd>' + soy.$$filterNoAutoescape(opt_data.value) + '</dd></dl>';
};
if (goog.DEBUG) {
  bamboo.components.buildDetail.soyTemplateName = 'bamboo.components.buildDetail';
}


bamboo.components.artifacts = function(opt_data, opt_ignored) {
  var output = '<ul id="shared-artifacts">';
  var artifactList42 = opt_data.artifacts;
  var artifactListLen42 = artifactList42.length;
  for (var artifactIndex42 = 0; artifactIndex42 < artifactListLen42; artifactIndex42++) {
    var artifactData42 = artifactList42[artifactIndex42];
    output += bamboo.components.artifactItem(soy.$$augmentMap(artifactData42, {id: artifactData42.name, url: artifactData42.link.href}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.artifacts.soyTemplateName = 'bamboo.components.artifacts';
}


bamboo.components.artifactItem = function(opt_data, opt_ignored) {
  return '<li>' + bamboo.components.icon({type: 'artifact-shared'}) + ' <a class="artifact-link" id="artifact-' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a><span class="filesize">(' + soy.$$escapeHtml(opt_data.prettySizeDescription) + ')</span></li>';
};
if (goog.DEBUG) {
  bamboo.components.artifactItem.soyTemplateName = 'bamboo.components.artifactItem';
}


bamboo.components.labels = function(opt_data, opt_ignored) {
  var output = '<ul class="labels">';
  var labelList65 = opt_data.labels;
  var labelListLen65 = labelList65.length;
  for (var labelIndex65 = 0; labelIndex65 < labelListLen65; labelIndex65++) {
    var labelData65 = labelList65[labelIndex65];
    output += bamboo.components.labelItem(soy.$$augmentMap(labelData65, {url: opt_data.baseBambooUrl + '/browse/label/' + labelData65.name}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.labels.soyTemplateName = 'bamboo.components.labels';
}


bamboo.components.labelItem = function(opt_data, opt_ignored) {
  return '<li><a class="lozenge" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '"><span>' + soy.$$escapeHtml(opt_data.name) + '</span></a></li>';
};
if (goog.DEBUG) {
  bamboo.components.labelItem.soyTemplateName = 'bamboo.components.labelItem';
}


bamboo.components.errorResponseMessage = function(opt_data, opt_ignored) {
  return '' + bamboo.components.auiWarning({body: '' + ((opt_data.errorMessage.messageBody) ? '<p>' + soy.$$escapeHtml(opt_data.errorMessage.messageBody) + '</p>' : (opt_data.errorMessage.oauthCallback) ? '<p><a href="' + soy.$$filterNoAutoescape(opt_data.errorMessage.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '">' + soy.$$escapeHtml('bamboo.loginAndApprove') + '</a></p>' : '<p>' + soy.$$escapeHtml(opt_data.errorMessage.message) + '</p>')});
};
if (goog.DEBUG) {
  bamboo.components.errorResponseMessage.soyTemplateName = 'bamboo.components.errorResponseMessage';
}


bamboo.components.auiWarning = function(opt_data, opt_ignored) {
  return '<div class="aui-message warning"><span class="aui-icon icon-warning"></span>' + soy.$$filterNoAutoescape(opt_data.body) + '</div>';
};
if (goog.DEBUG) {
  bamboo.components.auiWarning.soyTemplateName = 'bamboo.components.auiWarning';
}
;
;
/* module-key = 'com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources', location = 'atlassian-admin-quicksearch-jira-module/com/atlassian/administration/quicksearch/jira/js/adminQuickNav.js' */
/**
 * Shifter group for admin search
 */
require([
    'jquery',
    'underscore',
    'jira/ajs/ajax/smart-ajax',
    'jira/shifter',
    'wrm/context-path',
    'jira/featureflags/feature-manager'
], function (jQuery,
             _,
             SmartAjax,
             Shifter,
             contextPath,
             FeatureManager) {
    Shifter.register(function () {
        var suggestionsDeferred = jQuery.Deferred();

        function formatItem(item) {
            return {
                label: item.label,
                value: item.linkUrl,
                keywords: item.aliases
            };
        }

        function getItemsInSection(section) {
            return _.map(section.items, formatItem).concat(_.map(section.sections, getItemsInSection));
        }

         // TODO EI-22: Should be removed when cleaning up FF endeavour.admin.settings.system-configuration and use formatResponseSPA instead
        function formatResponse(data) {
            return _.flatten(getItemsInSection(data));
        }

        // Same as formatResponse and getItemsInSection above but works in both SPA and non-SPA contexts
        // Currently it is behind FF for rollback purpose but should replace formatResponse eventually
        function formatResponseSPA(data) {
                // In SPA underscore is replaced by Lodash that has .flatMap instead of .flatten
                var flatMap = _.flatMap
                    ? _.flatMap
                    : function(collection, fn) {
                        return _.flatten(_.map(collection, fn));
                    }

                function getItems(section) {
                    return _.map(section.items, formatItem).concat(flatMap(section.sections, getItems));
                }

                return getItems(data)
        }

        var isSPASystemConfigurationEnabled = FeatureManager.isFeatureEnabled('endeavour.admin.settings.system-configuration');

        SmartAjax.makeRequest({
            dataType: 'json',
            url: contextPath() + '/rest/adminquicksearch/latest/links/default'
        })
            .pipe(isSPASystemConfigurationEnabled
                ? formatResponseSPA
                : formatResponse)
            .done(function (suggestions) {
                suggestionsDeferred.resolve(suggestions);
            })
            .fail(function () {
                suggestionsDeferred.reject();
            });

        return {
            id: 'admin',
            name: "Administration",
            weight: 500,
            getSuggestions: function () {
                return suggestionsDeferred;
            },
            onSelection: function (value) {
                var ContainerApi;
                var nativeNavigate = function() {
                    window.location = value;
                };

                try {
                    ContainerApi = require('jira/container-api');
                } catch (e) {
                    nativeNavigate();
                }

                ContainerApi && ContainerApi.navigate(value, nativeNavigate);

                return jQuery.Deferred();
            }
        };
    });
});
;
;
/* module-key = 'com.atlassian.jira.ext.calendar:browse-project-tip', location = 'com/atlassian/jira/ext/calendar/resources/js/BrowseProjectTip.js' */
require(["jira/util/formatter","jira/util/events","jira/util/events/types","wrm/data","jquery"],function(e,t,a,n,i){AJS.toInit(function(){var r=n.claim("com.atlassian.jira.ext.calendar:tipDataProvider.tip").suppressTip;if(!r){var s="browse-project-calendar-info",o=function(t){if(t.length){var a=i("<div/>");AJS.messages.info(a,{body:e.format("This calendar shows when issues are due to be completed. This is set by the {0} field for an issue.","Due date"),closeable:!0}),a.find(".aui-message").attr("id",s),t.prepend(a)}};t.bind(a.NEW_CONTENT_ADDED,function(e,t,a){var n;n="project-tab"==t.attr("id")?i(".issues-calendar-container",t):i("#project-tab .issues-calendar-container",t),o(n)}),o(i("#project-tab .issues-calendar-container")),AJS.bind("messageClose",function(e,t){t.attr("id")==s&&(AJS.EventQueue&&AJS.EventQueue.push({name:"browseprojectcalendarinfo.closebutton"}),i.ajax({data:{tipKey:"browseProjectCalendarTab",atl_token:atl_token()},type:"POST",url:contextPath+"/rest/calendar-plugin/1.0/suppressedTips"}))})}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-browser-metrics:sensors', location = 'jira-browser-metrics-frontend/sensors.js' */
require(["internal/browser-metrics","jira/util/events","jira/featureflags/feature-manager"],function(e,i,a,o){var d,t={},r={},l={};t=function(e,i,a){function o(){function e(e){return o.hasOwnProperty(e)?o[e]:null}var o={"browse_link-content":"jira.header.menu.projects","find_link-content":"jira.header.menu.issues","greenhopper_menu-content":"jira.header.menu.agile","home_link-content":"jira.header.menu.dashboards","plugins-jira-webitem-main-content":"jira.header.menu.portfolio","servicedesk-section-content":"jira.header.menu.service-desk","system-admin-menu-content":"jira.header.menu.admin","system-help-menu-content":"jira.header.menu.help","user-options-content":"jira.header.menu.profile"};i.bind("aui-dropdown2-show-before",function(i){var o=i.target,d=e(o&&o.id);d&&a.start({key:d,isInitial:!1,threshold:250})}),i.bind("aui-dropdown2-show-after",function(i){var o=i.target,d=e(o&&o.id);d&&a.end({key:d})})}return e.applicationMenusSensorInit=o,e}(t,i,e),r=function(e){function i(e){var i;if(a.hasOwnProperty(e))return e;for(i=0;i<o.length;i++)if(e.match(o[i].pattern))return o[i].dialogId;return null}e.safeDialogId=i;var a=["about-dialog","add-basicuser-dialog","add-developer-dialog","add-field-configuration-dialog","add-field-configuration-scheme-dialog","add-field-dialog","add-field-screen-dialog","add-field-screen-scheme-dialog","add-incoming-mail-handler-dialog","add-issue-type-dialog","add-issue-type-field-configuration-association-dialog","add-issue-type-screen-scheme-configuration-association-dialog","add-issue-type-screen-scheme-dialog","add-new-issue-type-to-scheme-dialog","add-screen-scheme-item-dialog","add-subtask-type-dialog","add-workflow-dialog","add_workflowscheme-dialog","assign-dialog","assign-issue-types-dialog","assign-to-me-link-handler","attach-file-dialog","attach-screenshot-dialog","auditing-settings-dialog","clone-issue-dialog","comment-add-dialog","configure_wallboard_dialog","confluence-page-search-dialog","copy_classic default workflow-dialog","copy-filter-dialog","copy_jira-dialog","create-issue-dialog","create-issue-dialog.issueType","create-issue-dialog.projectId","create-request-dialog","create-service-desk-dialog","create-status-dialog","create-story-dialog","create-story-dialog.issueType","create-story-dialog.projectId","create-subtask-dialog","create-subtask-dialog.issueType","create-team-dialog","create_user-dialog","credits-dialog","delete-attachment-dialog","delete-comment-dialog","delete-dshboard","delete-filter-dialog","delete-issue-dialog","delete-issue-link-dialog","delete-log-work-dialog","delete-metric","delete-queue","delete-status-dialog","deleteuser_link-dialog","devstatus-branch-detail-dialog","devstatus-build-detail-dialog","devstatus-commit-detail-dialog","devstatus-cta-dialog","devstatus-deployment-detail-dialog","devstatus-pullrequest-detail-dialog","devstatus-review-detail-dialog","discard-draft-dialog","discard_draft_workflow-dialog","edit-attachments-dialog","edit-comment","editgroups_admin-dialog","editgroups_link-dialog","editgroups_sysadmin-dialog","edit-issue-dialog","edit-labels-dialog","edit-log-work-dialog","edit-status-dialog","edituser_link_admin-dialog","edit-workflow-dialog","gh-rapidboard-dialog","inline-issue-create-dialog","invite_user-dialog","issue-actions-dialog","issue-tab-error-dialog","jim-create-project-dialog","keyboard-shortcuts-dialog","link-issue-dialog","log-work-dialog","manage-attachment-dialog","metric-pre-save-dialog","modal-field-view","permission-helper-dialog","project-avatar-cropper","project-avatar-picker","project-config-details-project-category-dialog","project-config-project-edit-dialog","project-config-project-edit-lead-and-default-assignee-dialog","project-email-dialog","publish_draft_workflow-dialog","queue-dirty-edits","QuickCreateIssue.error","QuickCreateIssue.success","QuickCreateSubtask.error","QuickCreateSubtask.success","QuickEdit.error","QuickEdit.success","remote-jira-search-dialog","rename-filter-dialog","report-dirty-edits","save-filter-dialog","sd-add-default-value","sd-add-remove-agent-dialog","sd-remove-field-dialog","server-error-dialog","report-delete-confirm","user-avatar-picker","user-defaults-edit-dialog","versionsMergeDialog","view-workflow-dialog","view-workflow-dialog-project-admin","view-workflow-dialog-workflow-schemes","wait-migrate-dialog","whereismycf-dialog","workflow-text-view"].reduce(function(e,i){return e[i]=!0,e},{}),o=[{dialogId:"component-delete-dialog",pattern:/^component-\d+-delete-dialog$/i},{dialogId:"version-delete-dialog",pattern:/^version-\d+-delete-dialog$/i},{dialogId:"workflow-transition-dialog",pattern:/^workflow-transition-\d+-dialog$/i}];return e}(r),l=function(e,i,a,o){function d(){i.bind("beforeShow",function(e,i){if("string"==typeof i){var d=(0,o.safeDialogId)(i);d&&a.start({key:"jira.dialog.open."+d,isInitial:!1,threshold:1e3})}}),i.bind("dialogContentReady",function(e,i){if("string"==typeof i.options.id&&!i.options.useReadyForInteractionMetric){var d=(0,o.safeDialogId)(i.options.id);d&&a.end({key:"jira.dialog.open."+d})}}),i.bind("dialogContentReadyForInteraction",function(e,i){if("string"==typeof i.options.id&&i.options.useReadyForInteractionMetric){var d=(0,o.safeDialogId)(i.options.id);d&&a.end({key:"jira.dialog.open."+d})}})}return e.dialogsSensorInit=d,e}(l,i,e,r),d=function(e,i){(0,e.applicationMenusSensorInit)(),(0,i.dialogsSensorInit)()}(t,l)});;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-header-async', location = 'node_modules/@atlassian/aui/src/js/aui/header-async.js' */
("undefined"===typeof window?global:window).__b85c25eb273a1b11a40084d04bbc6270=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__906ea2ee8af7ec57662c322a720a678d,c=a&&a.__esModule?a:{"default":a},a=(a=__c1ce1f1e3e613f564fc234ff043570f1)&&a.__esModule?a:{"default":a},a=(0,a.default)("aui-header",{type:a.default.type.CLASSNAME,created:function(a){(0,c.default)(a)}});b.default=a;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.soy' */
// This file was automatically generated from appswitcher.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher == 'undefined') { navlinks.templates.appswitcher = {}; }


navlinks.templates.appswitcher.linkSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    output += '<div class="aui-nav-heading sidebar-section-header">' + soy.$$escapeHtml(opt_data.title) + '</div><ul class="aui-nav nav-links">';
    var linkList8 = opt_data.list;
    var linkListLen8 = linkList8.length;
    for (var linkIndex8 = 0; linkIndex8 < linkListLen8; linkIndex8++) {
      var linkData8 = linkList8[linkIndex8];
      output += navlinks.templates.appswitcher.applicationsItem(linkData8);
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.linkSection.soyTemplateName = 'navlinks.templates.appswitcher.linkSection';
}


navlinks.templates.appswitcher.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher.applicationsItem';
}


navlinks.templates.appswitcher.shortcutsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.shortcutsItem.soyTemplateName = 'navlinks.templates.appswitcher.shortcutsItem';
}


navlinks.templates.appswitcher.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.error.soyTemplateName = 'navlinks.templates.appswitcher.error';
}


navlinks.templates.appswitcher.sidebarContents = function(opt_data, opt_ignored) {
  return '<div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="app-switcher-section app-switcher-applications"><div class="aui-nav-heading">' + soy.$$escapeHtml('Application Links') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading\x26hellip;') + '</div></div><div class="app-switcher-section app-switcher-shortcuts"><div class="aui-nav-heading">' + soy.$$escapeHtml('Shortcuts') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading\x26hellip;') + '</div></div></nav></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebarContents.soyTemplateName = 'navlinks.templates.appswitcher.sidebarContents';
}


navlinks.templates.appswitcher.loading = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading\x26hellip;') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.loading.soyTemplateName = 'navlinks.templates.appswitcher.loading';
}


navlinks.templates.appswitcher.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('Linked Applications') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.trigger.soyTemplateName = 'navlinks.templates.appswitcher.trigger';
}


navlinks.templates.appswitcher.projectHeaderSection = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-title">' + aui.avatar.avatar({size: 'large', avatarImageUrl: opt_data.avatarUrl, isProject: true, title: opt_data.name}) + '<div class="sidebar-project-name">' + soy.$$escapeHtml(opt_data.name) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.projectHeaderSection.soyTemplateName = 'navlinks.templates.appswitcher.projectHeaderSection';
}


navlinks.templates.appswitcher.cogDropdown = function(opt_data, opt_ignored) {
  var output = '';
  var dropdownList__soy79 = '' + navlinks.templates.appswitcher.dropdownList({list: opt_data.links});
  output += aui.dropdown2.dropdown2({menu: {id: opt_data.id, content: dropdownList__soy79, extraClasses: 'aui-style-default sidebar-customize-section'}, trigger: {showIcon: false, content: '<span class="aui-icon aui-icon-small aui-iconfont-configure"></span>', container: '#app-switcher'}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.cogDropdown.soyTemplateName = 'navlinks.templates.appswitcher.cogDropdown';
}


navlinks.templates.appswitcher.dropdownList = function(opt_data, opt_ignored) {
  var output = '<ul class="sidebar-admin-links">';
  var linkList87 = opt_data.list;
  var linkListLen87 = linkList87.length;
  for (var linkIndex87 = 0; linkIndex87 < linkListLen87; linkIndex87++) {
    var linkData87 = linkList87[linkIndex87];
    output += '<li class="nav-link"><a href="' + soy.$$escapeHtml(linkData87.href) + '" title="' + soy.$$escapeHtml(linkData87.title) + '"><span class="nav-link-label">' + soy.$$escapeHtml(linkData87.label) + '</span></a></li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.dropdownList.soyTemplateName = 'navlinks.templates.appswitcher.dropdownList';
}


navlinks.templates.appswitcher.switcher = function(opt_data, opt_ignored) {
  var output = '';
  var loadingContent__soy98 = '' + navlinks.templates.appswitcher.loading(null);
  var triggerContent__soy100 = '' + navlinks.templates.appswitcher.trigger(null);
  output += aui.dropdown2.dropdown2({menu: {id: 'app-switcher', content: loadingContent__soy98, extraClasses: 'aui-style-default', extraAttributes: {'data-environment': {}, 'data-is-switcher': 'true'}}, trigger: {showIcon: false, content: triggerContent__soy100, extraClasses: 'app-switcher-trigger', extraAttributes: {href: '#app-switcher'}}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.switcher.soyTemplateName = 'navlinks.templates.appswitcher.switcher';
}


navlinks.templates.appswitcher.suggestionApp = function(opt_data, opt_ignored) {
  var output = '';
  var href__soy106 = opt_data.isBillingSystemEnabled == true ? opt_data.suggestionApp.billingSystemDiscoveryUrl : opt_data.suggestionApp.discoveryUrl;
  output += '<li class="app-discovery-suggestion-app"><a id="' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '" href="' + soy.$$escapeHtml(href__soy106) + '" class="app-discovery-link aui-icon-container app-discovery-' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '-product-icon" title="' + soy.$$escapeHtml(href__soy106) + '" target="_blank"/><div class="app-discovery-small">' + soy.$$escapeHtml(opt_data.suggestionApp.appDesc) + '</div></li>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.suggestionApp.soyTemplateName = 'navlinks.templates.appswitcher.suggestionApp';
}


navlinks.templates.appswitcher.suggestionApps = function(opt_data, opt_ignored) {
  return '<ul class=\'nav-links suggestion-apps\'><li><span class=\'app-discovery-suggest-title nav-link-label\'><h6>' + soy.$$escapeHtml('Try other Atlassian apps') + '</h6></span></li></ul><div class=\'buttons-container app-discovery-suggest-apps-buttons\'><div class=\'buttons\'><button class=\'aui-button aui-button-link app-discovery-cancel-button\' name=\'cancel\' accesskey=\'c\' href=\'#\'>' + soy.$$escapeHtml('Don\x27t show this again') + '</button></div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.suggestionApps.soyTemplateName = 'navlinks.templates.appswitcher.suggestionApps';
}


navlinks.templates.appswitcher.applications = function(opt_data, opt_ignored) {
  return '' + navlinks.templates.appswitcher.applicationsSection({list: opt_data.apps, listClass: 'nav-links', showDescription: opt_data.showDescription}) + ((opt_data.custom) ? navlinks.templates.appswitcher.applicationsSection({list: opt_data.custom, showDescription: opt_data.showDescription}) : '') + ((opt_data.showAdminLink) ? navlinks.templates.appswitcher.adminSection(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applications.soyTemplateName = 'navlinks.templates.appswitcher.applications';
}


navlinks.templates.appswitcher.applicationsSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    var param141 = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
    var linkList149 = opt_data.list;
    var linkListLen149 = linkList149.length;
    for (var linkIndex149 = 0; linkIndex149 < linkListLen149; linkIndex149++) {
      var linkData149 = linkList149[linkIndex149];
      param141 += navlinks.templates.appswitcher.applicationsSectionItem(soy.$$augmentMap(linkData149, {showDescription: opt_data.showDescription}));
    }
    param141 += '</ul>';
    output += aui.dropdown2.section({content: param141});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsSection.soyTemplateName = 'navlinks.templates.appswitcher.applicationsSection';
}


navlinks.templates.appswitcher.applicationsSectionItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link' + ((opt_data.self) ? ' nav-link-local' : '') + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" class="aui-dropdown2-radio ' + ((opt_data.self) ? 'aui-dropdown2-checked' : '') + '" title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsSectionItem.soyTemplateName = 'navlinks.templates.appswitcher.applicationsSectionItem';
}


navlinks.templates.appswitcher.adminSection = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.section({content: '<ul class="nav-links"><li><a class="nav-link-edit-wrapper" href="' + soy.$$escapeHtml(opt_data.adminLink) + '"><span class="nav-link-edit">' + soy.$$filterNoAutoescape('Configure\x26hellip;') + '</span></a></li></ul>'});
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.adminSection.soyTemplateName = 'navlinks.templates.appswitcher.adminSection';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.js' */
var APPSWITCHER_TRIGGER_CLICK = "appswitcher.trigger.click";
var APPSWITCHER_DROPDOWN_SHOW = "appswitcher.dropdown.show";
var APPSWITCHER_DROPDOWN_DISPLAY_ERROR = "appswitcher.dropdown.display.error";
var APPSWITCHER_APP_LINK_CLICK = "appswitcher.app.link.click";
var APPSWITCHER_CONFIGURE_LINK_CLICK = "appswitcher.configure.link.click";

(function ($, NL) {
    var APP_SUGGESTION_KEY = 'isAppSuggestionAvailable';
    var SITE_ADMIN_KEY = 'isSiteAdminUser';
    var USER_ADMIN_KEY = 'isUserAdmin';
    var SWITCHER_SELECTOR = '#app-switcher';

    NL.AppSwitcher = function (options) {
        var ADMIN_EDIT_PATH = AJS.contextPath() + "/plugins/servlet/customize-application-navigator";
        var GLOBAL_BILLING_SYSTEM_DARK_FEATURE_KEY = "unified.usermanagement";
        var that = this;
        this.$dropdown = null;

        options = $.extend({
            dropdownContents: null
        }, options);

        this.getLinks = function () {
            return $.ajax({
                url: AJS.contextPath() + '/rest/menu/latest/appswitcher',
                cache: false,
                dataType: 'json'
            }).done(this.updateDropdown).fail(this.showError);
        };

        this.getDropdown = function () {
            if (!this.$dropdown) {
                this.$dropdown = $(options.dropdownContents);
                this.envData = this.$dropdown.data('environment');
            }
            return this.$dropdown;
        };

        this.updateDropdown = function (data) {
            this.getDropdown().html(navlinks.templates.appswitcher.applications({
                apps: data,
                showAdminLink: this.envData[USER_ADMIN_KEY],
                adminLink: ADMIN_EDIT_PATH
            }));

            this.bindAnalyticsHandlers();
            if (this.envData[APP_SUGGESTION_KEY] === true) {
                this.handleSuggestionApps(data);
            }
        }.bind(this);

        this.bindAnalyticsHandlers = function () {
            $(".app-switcher-trigger").on("click", function () {
                AJS.trigger("analyticsEvent", {name: APPSWITCHER_TRIGGER_CLICK});
            });

            $("#app-switcher").on("aui-dropdown2-show", function () {
                AJS.trigger("analyticsEvent", {name: APPSWITCHER_DROPDOWN_SHOW});
            });

            $('#app-switcher .nav-link').on('click', function () {
                var product = "custom";
                var productLink = $(this).find("a");
                var url = productLink.attr("href");
                var hostname = window.location.hostname;

                if (url.indexOf(hostname + "/wiki") > -1) {
                    product = "confluence";
                } else if (url.indexOf(hostname + "/build") > -1) {
                    product = "bamboo";
                } else if (url.indexOf(hostname) > -1) {
                    product = "jira";
                }

                AJS.trigger("analyticsEvent", {
                    name: APPSWITCHER_APP_LINK_CLICK,
                    data: {product: product}
                });
            });

            $('.nav-link-edit-wrapper').on('click', function () {
                AJS.trigger("analyticsEvent", {name: APPSWITCHER_CONFIGURE_LINK_CLICK});
            })
        };

        this.isBillingSystemEnabled = function () {
            return (this.envData[SITE_ADMIN_KEY] === true) && AJS.DarkFeatures.isEnabled(GLOBAL_BILLING_SYSTEM_DARK_FEATURE_KEY);
        };

        this.handleSuggestionApps = function (data) {

            var installedApps = _.map(data, function (app) {
                return app.applicationType.toLowerCase();
            });

            var $suggestionApps = $("<div id='app-switcher-suggestion-apps' class='aui-dropdown2-section'/>");
            $suggestionApps.html(navlinks.templates.appswitcher.suggestionApps);

            var apps = $suggestionApps.find('.suggestion-apps');
            var hasSuggestionApps = false;
            _.each(suggestions, function (value) {
                if (!_.contains(installedApps, value.appName)) {
                    hasSuggestionApps = true;
                    apps.append(navlinks.templates.appswitcher.suggestionApp({
                        suggestionApp: value,
                        isBillingSystemEnabled: that.isBillingSystemEnabled()
                    }));
                }
            });

            if (!hasSuggestionApps) return;

            $("#app-switcher").append($suggestionApps);

            $('.app-discovery-suggestion-app').click(function () {
                var $suggestionAppLink = $(this).find("a");
                var eventName;
                if (that.envData[SITE_ADMIN_KEY] === true) {
                    eventName = 'appswitcher.discovery.siteadmin.select.inproduct.';
                } else {
                    eventName = 'appswitcher.discovery.user.select.';
                }
                eventName = eventName + $suggestionAppLink.attr("id").toLowerCase();
                AJS.trigger("analytics", {name: eventName});
            });

            $('.app-discovery-suggestion-app').hover(function () {
                $(this).find("a").removeClass("active").removeClass("aui-dropdown2-active");
            });

            $('.app-discovery-cancel-button').click(function () {
                AJS.trigger("analytics", {name: "appswitcher.discovery.nothanks.button.click"});
                storeUserStorageData(KEY_NO_THANKS, "true");
                $suggestionApps.remove();
            });
        };

        this.showError = function () {
            AJS.trigger("analyticsEvent", {name: APPSWITCHER_DROPDOWN_DISPLAY_ERROR});
            this.getDropdown()
                .html(navlinks.templates.appswitcher.error())
                .off('.appswitcher')
                .on('click.appswitcher', '.app-switcher-retry', $.proxy(that.retryLoading, that));
        }.bind(this);

        this.retryLoading = function (e) {
            this.getDropdown().html(navlinks.templates.appswitcher.loading());
            this.getLinks();
            e && e.stopPropagation();
        };

        $(".app-switcher-trigger").on("click", function () {
            if (!this.$dropdown) {
                this.getLinks();
            }
        }.bind(this));
    };

    var KEY_NO_THANKS = "key-no-thanks";
    var suggestions = [
        {
            appName: "jira",
            appDesc: "Issue & Project Tracking Software",
            discoveryUrl: 'https://www.atlassian.com/software/jira',
            billingSystemDiscoveryUrl: '/admin/billing/addapplication'
        },
        {
            appName: "confluence",
            appDesc: "Collaboration and content sharing",
            discoveryUrl: 'https://www.atlassian.com/software/confluence',
            billingSystemDiscoveryUrl: '/admin/billing/addapplication?product=confluence.ondemand'
        }];

    var storeUserStorageData = function (key, value) {
        $.ajax({
            url: AJS.contextPath() + '/rest/menu/latest/userdata/',
            type: "PUT",
            contentType: "application/json",
            data: JSON.stringify({
                key: key,
                value: value
            })
        });
    };

    $(function () {
        if ($(SWITCHER_SELECTOR).data('is-switcher') === true) {
            new NL.AppSwitcher({
                dropdownContents: SWITCHER_SELECTOR
            });
        }
    })
}(jQuery, window.NL = (window.NL || {})));;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'soy/headerDropdown.soy' */
// This file was automatically generated from headerDropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Menu.Dropdowns.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Menu == 'undefined') { JIRA.Templates.Menu = {}; }
if (typeof JIRA.Templates.Menu.Dropdowns == 'undefined') { JIRA.Templates.Menu.Dropdowns = {}; }


JIRA.Templates.Menu.Dropdowns.dropdown2Fragment = function(opt_data, opt_ignored) {
  var output = '';
  var sectionList3 = opt_data.sections;
  var sectionListLen3 = sectionList3.length;
  for (var sectionIndex3 = 0; sectionIndex3 < sectionListLen3; sectionIndex3++) {
    var sectionData3 = sectionList3[sectionIndex3];
    var hasItems__soy4 = sectionData3.items && sectionData3.items.length > 0;
    if (hasItems__soy4) {
      output += '<div class="aui-dropdown2-section">' + ((sectionData3.label) ? '<strong>' + soy.$$escapeHtml(sectionData3.label) + '</strong>' : '') + '<ul class=\'aui-list-truncate\'' + ((sectionData3.id) ? ' id="' + soy.$$escapeHtml(sectionData3.id) + '"' : '') + ((sectionData3.style) ? ' class="' + soy.$$escapeHtml(sectionData3.style) + '"' : '') + '>';
      var itemList25 = sectionData3.items;
      var itemListLen25 = itemList25.length;
      for (var itemIndex25 = 0; itemIndex25 < itemListLen25; itemIndex25++) {
        var itemData25 = itemList25[itemIndex25];
        output += JIRA.Templates.Menu.Dropdowns.dropdown2Item(itemData25);
      }
      output += '</ul></div>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Fragment.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Fragment';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Item = function(opt_data, opt_ignored) {
  var output = '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.style) ? ' class="' + soy.$$escapeHtml(opt_data.style) + '"' : '') + '><a href="' + soy.$$escapeHtml(opt_data.url) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '_lnk"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ' class="' + ((opt_data.iconUrl) ? 'aui-icon-container' : '') + ((opt_data.parameters && opt_data.parameters['class']) ? ' ' + soy.$$escapeHtml(opt_data.parameters['class']) : '') + '"';
  if (opt_data.parameters) {
    var keyList66 = soy.$$getMapKeys(opt_data.parameters);
    var keyListLen66 = keyList66.length;
    for (var keyIndex66 = 0; keyIndex66 < keyListLen66; keyIndex66++) {
      var keyData66 = keyList66[keyIndex66];
      output += (keyData66 != 'class') ? ' ' + soy.$$escapeHtml(keyData66) + '="' + soy.$$escapeHtml(opt_data.parameters[keyData66]) + '"' : '';
    }
  }
  output += '>' + ((opt_data.iconUrl) ? '<img class="icon" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" />' : '') + soy.$$escapeHtml(opt_data.label) + '</a></li>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Item.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Item';
}
;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'js/init-dropdown2.js' */
require(["jira/ajs/ajax/smart-ajax","jira/skate","jira/util/data/meta","wrm/context-path","jquery"],function(a,e,o,n,t){t(document).on("aui-responsive-menu-item-created",function(a){var e=a.originalEvent.detail.originalItem,o=a.originalEvent.detail.newItem,n=!!t(e).find(".aui-dropdown2-ajax").length;n&&t(o).find("a").addClass("aui-dropdown2-ajax")}),e("aui-dropdown2-ajax",{type:e.type.CLASSNAME,attached:function(e){var r=t(document.getElementById(e.getAttribute("aria-controls")));!r.length&&e.hasAttribute("aria-owns")&&"undefined"!=typeof console&&console.warn&&console.warn('Deprecation warning: Since AUI 5.9.4 "aria-owns" attribute has been change for "aria-controls"');var d=r.data("aui-dropdown2-ajax-key");r.on("aui-dropdown2-show.aui-dropdown2-ajax",function(e,t){r.trigger("aui-dropdown2-show-before"),d?(r.empty(),r.addClass("aui-dropdown2-loading"),a.makeRequest({url:n()+"/rest/api/1.0/menus/"+d,data:{inAdminMode:o.getBoolean("in-admin-mode")},dataType:"json",cache:!1,success:function(a){r.removeClass("aui-dropdown2-loading"),r.html(JIRA.Templates.Menu.Dropdowns.dropdown2Fragment(a)),r.trigger("aui-dropdown2-show-after")}})):r.trigger("aui-dropdown2-show-after")}),e.setAttribute("data-dropdown2-loaded",""),t(e).trigger("jira-header-plugin-dropdown2-menu-loaded",{bubbles:!0})},detached:function(a){var e=t(document.getElementById(a.getAttribute("aria-controls")));e.off("aui-dropdown2-show.aui-dropdown2-ajax")}})});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'js/app-switcher-analytics.js' */
require(["jquery"],function(i){i(document).on("aui-dropdown2-show-before","#app-switcher",function(){AJS.trigger("analyticsEvent",{name:"navigation.header.appswitcher.open"})}),i(document).on("click","#app-switcher a, #app-switcher button",function(n){var e,t=i(n.target),a=t.closest("li").index();t.is(".nav-link-edit")?e="configure":t.is(".app-discovery-link")?e=this.id?this.id:"unknown.app.discovery":t.is(".app-discovery-cancel-button")?(e="dont.show",a=0):e="application",AJS.trigger("analyticsEvent",{name:"navigation.header.appswitcher.click",data:{position:a,linkType:e}})}),i(document).on("aui-dropdown2-hide","#app-switcher",function(){AJS.trigger("analyticsEvent",{name:"navigation.header.appswitcher.close"})})});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:analytics-header', location = 'js/header-analytics.js' */
require(["jira/util/logger","jquery"],function(n,e){function t(n,e){var t=void 0;return n.forEach(function(n){n.id===e&&(t=n.analyticEventKey)}),t}var i="jira.navigation.header.",o="jira.header.analytics.event",r=function(n,e){return n.some(function(n){return n.id===e})},a=function(e,r,a){var c=t(r,e),u=i+c+a;AJS.EventQueue.push({name:u}),n.trace(o)},c=e(document);c.on("click","#logo",function(){AJS.EventQueue.push({name:i+"home"}),n.trace(o)}),c.on("click","#create_link",function(){AJS.EventQueue.push({name:i+"createissue.click"})});var u=[{id:"home_link-content",analyticEventKey:"dashboards"},{id:"browse_link-content",analyticEventKey:"projects"},{id:"find_link-content",analyticEventKey:"issues"},{id:"greenhopper_menu-content",analyticEventKey:"boards"},{id:"plugins-jira-webitem-main-content",analyticEventKey:"portfolio"},{id:"system-help-menu-content",analyticEventKey:"help"},{id:"system-admin-menu-content",analyticEventKey:"admin"}],d="#system-help-menu-content, #user-options-content, #system-admin-menu-content, #app-switcher",s=u.map(function(n){return"#"+n.id}).join(", ");c.on("aui-dropdown2-show",s,function(){var n=e(this).attr("id");r(u,n)&&a(n,u,".open")}),c.on("aui-dropdown2-hide",s,function(){var n=e(this).attr("id");r(u,n)&&a(n,u,".close")}),c.on("aui-dropdown2-show",d,function(){var n=e(this);n.trigger("aui-dropdown2-show-before"),n.trigger("aui-dropdown2-show-after")});var l=u.reduce(function(n,e){return n+"a.aui-dropdown2-trigger[aria-controls="+e.id+"], "},"");c.on("click",l,function(){var n=this.getAttribute("aria-controls");r(u,n)&&a(n,u,".click")}),c.on("click",".aui-dropdown2 .aui-dropdown2-section a",function(r){var a=e(r.target).closest(s).first();if(null!==a){var c=a.find("a").index(r.target),d=a.attr("id"),l=t(u,d),p=e(this).parents("ul").attr("id"),m={name:i+l+".item.click",properties:{itemIndex:c}};p&&(m.properties.itemType=p),AJS.EventQueue.push(m),n.trace(o)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'jira-issue-navigator-components-module/issuenav-analytics/Analytics.js' */
define("jira/components/analytics",["require"],function(e){"use strict";var r=e("jira/components/libs/underscore"),i=e("jira/components/libs/marionette-1.4.1/controller"),t=e("jira/components/analytics/services/trigger"),n=e("jira/components/analytics/services/domtracker");return i.extend({initialize:function(e){this.triggerService=new t(e),this.trackerService=new n(this.triggerService)},trigger:function(e,r){this.triggerService.trigger(e,r)},registerEvent:function(e){var i=[].concat(e);r.each(i,function(e){this.triggerService.registerEvent(e)},this)},registerTracker:function(e){var i=[].concat(e);r.each(i,function(e){this.trackerService.registerTracker(e)},this)}})});
//# sourceMappingURL=Analytics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'jira-issue-navigator-components-module/issuenav-analytics/AnalyticsAppModule.js' */
define("jira/components/analytics/appmodule",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1/appmodule"),r=e("jira/components/libs/underscore"),t=e("jira/components/analytics");return n.extend({name:"analytics",generateMasterRequest:!0,create:function(e){return e=r.defaults({},e,{useLog:!1}),new t(e)},commands:{trigger:!0,registerEvent:!0,registerTracker:!0}})});
//# sourceMappingURL=AnalyticsAppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'jira-issue-navigator-components-module/issuenav-analytics/services/Trigger.js' */
define("jira/components/analytics/services/trigger",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1/controller"),t=e("jira/components/utils/ajshelper");return n.extend({initialize:function(){},trigger:function(e,n){t.trigger("analyticsEvent",{name:e,data:n})},registerEvent:function(){}})});
//# sourceMappingURL=Trigger-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'jira-issue-navigator-components-module/issuenav-analytics/services/DomTracker.js' */
define("jira/components/analytics/services/domtracker",["require"],function(e){"use strict";var r=e("jira/components/libs/marionette-1.4.1/controller"),t=e("jquery"),n=e("jira/components/libs/underscore");return r.extend({initialize:function(e){this.triggerService=e,this.trackers=[]},registerTracker:function(e){var r=this.triggerService;n.defaults(e,{type:"click",handler:function(e,t){r.trigger(this.name,t)},context:document}),r.registerEvent(e.name),e.domHandler=function(r){r.preventFurtherAnalytics||e.handler.apply(e,Array.prototype.slice.call(arguments))},t(e.context).on(e.type,e.selector,e.domHandler),this.trackers.push(e)},clear:function(){n.each(this.trackers,function(e){t(e.context).off(e.type,e.selector,e.domHandler)})}})});
//# sourceMappingURL=DomTracker-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-ajs-namespace', location = 'jira-issue-navigator-components-module/issuenav-analytics/namespace.js' */
AJS.namespace("JIRA.Components.Analytics",null,require("jira/components/analytics")),AJS.namespace("JIRA.Components.Analytics.AppModule",null,require("jira/components/analytics/appmodule")),AJS.namespace("JIRA.Components.Analytics.Services.Trigger",null,require("jira/components/analytics/services/trigger")),AJS.namespace("JIRA.Components.Analytics.Services.DomTracker",null,require("jira/components/analytics/services/domtracker"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:functional-utils', location = 'jira-issue-navigator-components-module/util/FunctionalUtils.js' */
define("jira/components/util/functionalutils",["require"],function(n){"use strict";var i=n("jira/components/libs/underscore");return{lambda:function(n){return function(){return n}},isNotBlank:function(n){return!!n},bindObjectTo:function(n,t){i.map(n,function(u,r){i.isFunction(u)&&(n[r]=u.bind(t))})}}});
//# sourceMappingURL=FunctionalUtils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-utils', location = 'content/js/util/actions.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.Actions"),JIRA.Issues.Actions.DELETE="delete",JIRA.Issues.Actions.UPDATE="update",JIRA.Issues.Actions.INLINE_EDIT="inlineEdit",JIRA.Issues.Actions.ROW_UPDATE="rowUpdate"}();
//# sourceMappingURL=actions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-utils', location = 'content/js/util/Utils.js' */
define("jira/issue/utils",["require"],function(e){"use strict";var i=e("jira/dialog/dialog-register"),t=e("underscore");return{isIssueDialog:function(e){return!!e.issueId||t.include(i,e)},isDeleteDialog:function(e){return"delete-issue-dialog"===e.options.id},isEditCommentDialog:function(e){return"edit-comment"===e.options.id},getEffectiveIssueKeyForDialog:function(e){var i=e&&e.$activeTrigger&&e.$activeTrigger.data("issuekey");return i?i:JIRA.Issues.Api.getSelectedIssue().getKey()},getEffectiveIssueIdForDialog:function(e){return e.issueId?e.issueId:JIRA.Issues.Api.getSelectedIssue().getId()},getAction:function(e){return this.isDeleteDialog(e)?JIRA.Issues.Actions.DELETE:this.isEditCommentDialog(e)?JIRA.Issues.Actions.EDIT_COMMENT:JIRA.Issues.Actions.UPDATE},getMessage:function(e){if(!this.isEditCommentDialog(e))return e.options.issueMsg||"thanks_issue_updated"},getMeta:function(e){return this.isEditCommentDialog(e)?{commentId:e.$activeTrigger.attr("id").replace("edit_comment_","")}:{}},getUpdateCommandForDialog:function(e){var i=this;if(this.isIssueDialog(e))return{key:i.getEffectiveIssueKeyForDialog(e),id:i.getEffectiveIssueIdForDialog(e),action:i.getAction(e),message:i.getMessage(e),meta:i.getMeta(e)}},debounce:function(e,i){var s=Array.prototype.slice.call(arguments,2);e||console.error("JIRA.Issues.Utils.debounce: ctx must be defined"),clearTimeout(e[i+"DebounceTimeout"]),e[i].apply(e,s),e[i+"DebounceTimeout"]||(e[i+"Original"]=e[i],e[i]=t.debounce(function(){return e[i+"Original"].apply(e,arguments)},300)),e[i+"DebounceTimeout"]=setTimeout(function(){e[i]=e[i+"Original"],e[i+"DebounceTimeout"]=null},500)},waitForDeferreds:function(e,i,s){s=s||window;var n=[],o=new jQuery.Deferred;return t.each(e,function(){var e=i.apply(s,arguments);e&&e.promise&&n.push(e)}),n.length?jQuery.when.apply(jQuery,n).then(function(){o.resolveWith(s)}):o.resolveWith(s),o.promise()},resolvedPromise:function(){return(new jQuery.Deferred).resolve().promise()},patch:function(e,i,t){var s=e.hasOwnProperty(i),n=e[i];return e[i]=t,function(){s?e[i]=n:delete e[i]}}}});
//# sourceMappingURL=Utils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-utils', location = 'content/js/util/xsrf-token-header.js' */
define("jira/issue/utils/xsrf-token-header",[],function(){"use strict";return{"X-Atlassian-Token":"no-check"}});
//# sourceMappingURL=xsrf-token-header-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-utils', location = 'content/js/util/namespace.js' */
AJS.namespace("JIRA.Issues.XsrfTokenHeader",null,require("jira/issue/utils/xsrf-token-header")),AJS.namespace("JIRA.Issues.Utils",null,require("jira/issue/utils"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/AttributesMixinCreator.js' */
define("jira/issues/attributesmixincreator",["require"],function(e){"use strict";var t=e("underscore"),r=e("jira/issues/mixins");return{create:function(e){var i={};return t.indexOf(e,"id")===-1&&e.unshift("id"),t.each(e,function(e){var t=r.createMethodName("set",e);i[t]=function(t,r){var i={};return i[e]=t,this.set(i,r),this};var n=r.createMethodName("get",e);i[n]=function(){return this.get(e)}}),i}}});
//# sourceMappingURL=AttributesMixinCreator-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/EventsMixinCreator.js' */
define("jira/issues/eventsmixincreator",["require"],function(t){"use strict";var r=t("underscore"),n=t("jira/issues/mixins");return{create:function(t){var e={},i=function(t){var i=n.createMethodName("bind",t);e[i]=function(){return this.bind.apply(this,[t].concat(r.toArray(arguments)))};var a=n.createMethodName("unbind",t);e[a]=function(){return this.unbind.apply(this,[t].concat(r.toArray(arguments)))};var c=n.createMethodName("trigger",t);e[c]=function(){return this.trigger.apply(this,[t].concat(r.toArray(arguments)))};var o=n.createMethodName("one",t);e[o]=function(){var n=this,e=arguments[0],i=function c(){n.unbind(t,c),e(arguments)},a=r.toArray(arguments).slice(1);return this.bind.apply(this,[t,i].concat(a))}};return r.each(t,i.bind(this)),e}}});
//# sourceMappingURL=EventsMixinCreator-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Extensions.js' */
define("jira/issue/extensions",["require"],function(e){"use strict";function t(e,t){c.forEach(c.keys(t),function(i){var r=e.prototype;if("initialize"===i){var n=r.initialize;return void(r.initialize=function(){t.initialize.apply(this,arguments),n&&n.apply(this,arguments)})}if("validate"===i){var o=r.validate;return void(r.validate=function(){var e=t.validate.apply(this,arguments);return e?e:o?o.apply(this,arguments):void 0})}if("defaults"!==i){if("properties"===i){if(!c.isArray(t[i]))throw"Expects properties member on mixin to be an array";return r.properties||(r.properties=[]),void(r.properties=r.properties.concat(t[i]))}if("namedEvents"===i){if(!c.isArray(t[i]))throw"Expects events member on mixin to be an array";return r.namedEvents||(r.namedEvents=[]),void(r.namedEvents=r.namedEvents.concat(t[i]))}if(r.hasOwnProperty(i))throw"Mixin error: object "+e+" already has property "+i+" for mixin "+t;r[i]=t[i]}else{var s=r.defaults||(r.defaults={}),a=t[i];for(var p in a){if(s.hasOwnProperty(p))throw"Mixin error: object "+e+" already has default "+p+" defined for mixin "+t;s[p]=a[p]}}},this)}function i(e){return function i(r,n){var o,s,a=c.extend({},r);return r&&r.mixins&&(s=r.mixins,delete a.mixins),o=e.call(this,a,n),s&&c.each(r.mixins,function(e){t(o,e)}),o.prototype.namedEvents&&t(o,u.create(o.prototype.namedEvents)),o.prototype.properties&&t(o,d.create(o.prototype.properties)),o.extend=i,o}}function r(e,t){var i=e.prototype,r=t.prototype;r.set=function(e,t){var r,n=this.properties;if(n){c.isObject(e)||null==e?r=e:(r={},r[e]=t);for(var o in r)if(c.indexOf(n,o)<0)throw"Property '"+o+"' does not exist"}return i.set.apply(this,arguments)},r.get=function(e){if(this.properties&&c.indexOf(this.properties,e)<0)throw"Property '"+e+"' does not exist";return i.get.apply(this,arguments)}}function n(e){var t=e.prototype;t.cleanup=function(){this.unbind(),this.off()}}function o(e,t){var i=t.prototype;i.addListener=function(e,t,i,r){if(arguments.length<3)throw"The 'other', 'event', and 'callback' arguments are mandatory";var n,o,s=t.charAt(0).toUpperCase()+t.slice(1),a="on"+s,p="off"+s,f="bind"+s,c="unbind"+s;if(e[a]){if(n=a,o=p||c,"function"!=typeof e[n])throw"object does not have method "+a+"'";if("function"!=typeof e[o])throw"object does not have method "+p+"'"}else if(n=f,o=c,"function"!=typeof e[n])throw"object does not have event ["+t+"] registered'";e[n](i,r),this._cleanerUppers=this._cleanerUppers||[],this._cleanerUppers.push(function(){e[o](i,r)})},i.removeListeners=function(){this._cleanerUppers&&c.each(this._cleanerUppers,function(e){e()})}}function s(e,t){var i=t.prototype,r=e.prototype.remove;i.remove=function(){return this.removeListeners(),r.apply(this,arguments)},i.deactivate=function(){this.undelegateEvents(),this.removeListeners()},i.cleanup=function(){this.off(),this.unbind(),this.remove()}}function a(e){var t=e.extend(),r=e.extend;return t.extend=i(r),n(t),t}function p(e){var t=a(e);return r(e,t),t}function f(e){var t=a(e);return o(e,t),s(e,t),t}var c=e("underscore"),u=e("jira/issues/eventsmixincreator"),d=e("jira/issues/attributesmixincreator");return{applyModelExtensions:p,applyExtensions:a,applyViewExtensions:f}});
//# sourceMappingURL=Extensions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseCollection.js' */
define("jira/issues/basecollection",["require"],function(e){"use strict";var i=e("backbone"),s=e("jira/issue/extensions");return s.applyExtensions(i.Collection)});
//# sourceMappingURL=BaseCollection-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseEvented.js' */
define("jira/issues/baseevented",["require"],function(e){"use strict";var i=e("backbone"),n=e("underscore"),t=e("jira/issue/extensions"),s=function(){this.initialize.apply(this,arguments)};return n.extend(s.prototype,i.Events,{initialize:function(){}}),s.extend=i.Model.extend,t.applyExtensions(s)});
//# sourceMappingURL=BaseEvented-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseModel.js' */
define("jira/issues/basemodel",["require"],function(e){"use strict";var s=e("backbone"),i=e("jira/issue/extensions");return i.applyModelExtensions(s.Model)});
//# sourceMappingURL=BaseModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseRouter.js' */
define("jira/issues/baserouter",["require"],function(e){"use strict";var s=e("backbone"),r=e("jira/issue/extensions");return r.applyExtensions(s.Router)});
//# sourceMappingURL=BaseRouter-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseView.js' */
define("jira/issues/baseview",["require"],function(e){"use strict";var i=e("backbone"),s=e("jira/issue/extensions");return s.applyViewExtensions(i.View)});
//# sourceMappingURL=BaseView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Mixins.js' */
define("jira/issues/mixins",function(){"use strict";return{createMethodName:function(e,t){return e+t.charAt(0).toUpperCase()+t.substr(1)}}});
//# sourceMappingURL=Mixins-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/ModelUtils.js' */
define("jira/issues/modelutils",["require"],function(t){"use strict";function n(){this.modelEvents={}}function e(t){var n=this;"change"===t||0===t.indexOf("change:")?i.log.captureEvent(n,r.toArray(arguments)):o.Events.trigger.apply(n,arguments)}var i,r=t("underscore"),o=t("backbone"),c=t("jira/issue/utils");n.prototype.captureEvent=function(t,n){var e=n[0];this.modelEvents[t.cid]||(this.modelEvents[t.cid]={model:t,events:{}}),this.modelEvents[t.cid].events[e]=n},n.prototype.replayEvents=function(){r.each(this.modelEvents,function(t){r.each(t.events,function(n){o.Events.trigger.apply(t.model,n)})})};var a=function(){if(i)return{commit:function(){}};i={log:new n};var t=c.patch(o.Model.prototype,"trigger",e);return{commit:function(){t(),i.log.replayEvents(),i=null}}},s={transaction:function(t,n){var e=a();try{return t.apply(n)}finally{e.commit()}},makeTransactional:function(t){var n=function(t){return function(){var n=arguments;return s.transaction(function(){return t.apply(this,n)},this)}},e=Array.prototype.slice.call(arguments,1);0===e.length&&(e=r.functions(t)),r.each(e,function(e){0!==e.indexOf("_")&&(t[e]=n(t[e]))})}};return s});
//# sourceMappingURL=ModelUtils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/namespace.js' */
AJS.namespace("JIRA.Issues.AttributesMixinCreator",null,require("jira/issues/attributesmixincreator")),AJS.namespace("JIRA.Issues.BaseCollection",null,require("jira/issues/basecollection")),AJS.namespace("JIRA.Issues.BaseEvented",null,require("jira/issues/baseevented")),AJS.namespace("JIRA.Issues.BaseModel",null,require("jira/issues/basemodel")),AJS.namespace("JIRA.Issues.BaseRouter",null,require("jira/issues/baserouter")),AJS.namespace("JIRA.Issues.BaseView",null,require("jira/issues/baseview")),AJS.namespace("JIRA.Issues.EventsMixinCreator",null,require("jira/issues/eventsmixincreator")),AJS.namespace("JIRA.Issues.Mixins",null,require("jira/issues/mixins")),AJS.namespace("JIRA.Issues.ModelUtils",null,require("jira/issues/modelutils"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/init.js' */
!function(){"use strict";var i=require("jira/components/util/functionalutils"),n=require("underscore");n.mixin({lambda:i.lambda,isNotBlank:i.isNotBlank,bindObjectTo:i.bindObjectTo})}();
//# sourceMappingURL=init-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:brace', location = 'libs/brace.js' */
define("jira/components/libs/brace",["atlassian/libs/factories/brace-2014.09.03","jira/components/libs/backbone","jira/components/libs/underscore"],function(e,s,n){"use strict";return e(n,s)}),AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));
//# sourceMappingURL=brace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:user-parms', location = 'content/js/util/UserParams.js' */
define("jira/issues/user-params",function(){"use strict";var e=WRM.data.claim("com.atlassian.jira.jira-issue-nav-plugin:user-parms.userParms");return{createSharedObjects:function(){return e.createSharedObjects},get:function(){return e}}}),AJS.namespace("JIRA.Issues.UserParms",null,require("jira/issues/user-params"));
//# sourceMappingURL=UserParams-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:login-utils', location = 'content/js/util/LoginUtils.js' */
define("jira/issues/utils/login",["require"],function(t){"use strict";var n=t("jira/util/data/meta"),e=t("wrm/context-path"),r=e();return{isLoggedIn:function(){return!!this.loggedInUserName()},loggedInUserName:function(){return n.get("remote-user")},loggedInUserAccountId:function(){return n.get("atlassian-account-id")},currentContextRelativePath:function(){var t=this._getWindowLocation(),n=t.protocol+"//"+t.host+(r||""),e=t.href;return 0===e.indexOf(n)?e.substr(n.length):e},redirectUrlToCurrent:function(){var t=this.currentContextRelativePath();return r+"/login.jsp?os_destination="+encodeURIComponent(t)},redirectUrl:function(t){return r+"/login.jsp?os_destination="+encodeURIComponent(t)},_getWindowLocation:function(){return window.location}}}),AJS.namespace("JIRA.Issues.LoginUtils",null,require("jira/issues/utils/login"));
//# sourceMappingURL=LoginUtils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:resize-utils', location = 'content/js/util/Resize.js' */
define("jira/issues/utils/resize",[],function(){"use strict";var e=require("underscore"),i=require("jquery"),s="horizontalResize",r="verticalResize";return{offHorizontalResize:function(e){i(document).off(s,e)},onHorizontalResize:function(e){i(document).on(s,e)},triggerHorizontalResize:e.throttle(function(){i(document).trigger(s)},100),offVerticalResize:function(e){i(document).off(r,e)},onVerticalResize:function(e){i(document).on(r,e)},triggerVerticalResize:e.throttle(function(){i(document).trigger(r)},100),init:function(){i(window).resize(this.triggerVerticalResize)}}}),function(){"use strict";var e=require("jira/issues/utils/resize");e.init()}(),AJS.namespace("JIRA.Issues.offHorizontalResize",null,require("jira/issues/utils/resize").offHorizontalResize),AJS.namespace("JIRA.Issues.onHorizontalResize",null,require("jira/issues/utils/resize").onHorizontalResize),AJS.namespace("JIRA.Issues.triggerHorizontalResize",null,require("jira/issues/utils/resize").triggerHorizontalResize),AJS.namespace("JIRA.Issues.offVerticalResize",null,require("jira/issues/utils/resize").offVerticalResize),AJS.namespace("JIRA.Issues.onVerticalResize",null,require("jira/issues/utils/resize").onVerticalResize),AJS.namespace("JIRA.Issues.triggerVerticalResize",null,require("jira/issues/utils/resize").triggerVerticalResize);
//# sourceMappingURL=Resize-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:trace', location = 'libs/trace.js' */
define("jira/issues/libs/trace",[],function(){"use strict";return function(){return window.JIRA.trace.apply(window.JIRA,arguments)}});
//# sourceMappingURL=trace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inline-edit-feature', location = 'jira-issue-navigator-components-module/util/InlineEditFeature.js' */
define("jira/components/util/inline-edit-feature",["require"],function(n){"use strict";function e(){var n=i.claim("com.atlassian.jira.jira-issue-nav-components:inline-edit-feature.enabled");a=void 0===n||Boolean(n)}var i=n("wrm/data"),a=null;return{isEnabled:function(){return null===a&&e(),a}}});
//# sourceMappingURL=InlineEditFeature-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/IssueEditor.js' */
define("jira/components/issueeditor",["require"],function(e){"use strict";var s=e("jira/components/libs/underscore"),i=e("jira/components/issueeditor/controllers/editissue"),t=e("jira/util/events"),r=e("jira/components/issueeditor/eventtypes"),o=e("jira/components/issueeditor/controllers/fields"),n=e("jira/components/issueeditor/services/fieldsloader"),d=e("jira/components/issueeditor/services/issuesaver"),l=e("jira/components/issueviewer"),u=e("jira/util/data/meta"),a=e("jira/components/issueeditor/views/modalfield"),h=e("jira/components/issueeditor/views/saveerror"),v=e("jira/components/issueeditor/services/saveinprogressmanager"),c=window.JIRA,f=e("jira/components/issueeditor/services/unloadinterceptor"),I=window.AJS.contextPath(),g=function(){c.trace.apply(c,arguments)};return l.extend({namedEvents:["loadComplete","loadError","returnToSearch","saveSuccess","saveError","editField","editFieldCancel","fieldSubmitted","replacedFocusedPanel","fieldsLoaded"],initialize:function(e){l.prototype.initialize.call(this,e),this._buildFieldsLoader(),this._buildIssueSaver(),this._buildEditIssueController(),this._buildFieldsController(),this._handleUnload(),this.listenAndRethrow(this.eventBus,"fieldSubmitted")},_buildFieldsLoader:function(){this.fieldsLoader=new n({contextPath:I}),this.listenTo(this.fieldsLoader,"fieldsLoaded",function(e){this.viewIssueData.updateIssue(e.issueKey,e),e.issueId=Number(e.issueId);var s=e.fields&&e.fields.length;s?this.editIssueController.update(e):this.editIssueController.reset(),this.trigger("fieldsLoaded"),g("jira.issue.fields.loaded",{id:e.issueId})}),this.listenTo(this.fieldsLoader,"fieldsError",function(e){this.fieldsController.showError(e.errorCollection,e.isTimeout),g("jira.issue.fields.loaded",{id:e.issueId})})},_buildIssueSaver:function(){this.saveInProgressManager=new v,this.issueSaver=new d({saveInProgressManager:this.saveInProgressManager,model:this.model}),this.listenTo(this.issueSaver,"error",function(e){var s=e.issueId,i=e.attemptedSavedIds,t=e.response,r=e.duration;if(!this.model.isCurrentIssue(s))return void this._showSaveError({issueId:s,issueKey:e.issueKey,response:t});this.eventBus.triggerSaveError(s,i,t);var o=t&&t.fields&&t.fields.length;!o&&t&&(this.editIssueController.reset(),this.model.update(t,{fieldsSaved:[],fieldsInProgress:[]})),this.trigger("saveError",{issueId:s,duration:r,deferred:!1}),g("jira.issue.refreshed",{id:s})}),this.listenTo(this.issueSaver,"saveStarted",function(e,s){this.eventBus.triggerSavingStarted(s)}),this.listenTo(this.issueSaver,"save",function(e){var s=e.issueId,i=e.issueKey,t=e.savedFieldIds,r=e.savedFieldTypes,o=e.response,n=e.shouldSkipSaveIssueSuccessHandler,d=e.duration;if(this.model.isCurrentIssue(s)&&!n){this.eventBus.triggerSaveSuccess(s,i,t,o),this.viewIssueData.set(i,o),this.model.update(o,{fieldsSaved:t,fieldsInProgress:this.editIssueController.getEditsInProgress()}),g("jira.psycho.issue.refreshed",{id:s});var l=o.fields&&o.fields.length;l&&this.editIssueController.update({fields:o.fields,issueId:s,issueKey:i},{editable:!0,editIssueController:this.editIssueController,issueModel:this.model,issueId:s,fieldsSaved:t,initialize:!1,fieldsInProgress:this.editIssueController.getEditsInProgress()}),g("jira.issue.refreshed",{id:s})}this.trigger("saveSuccess",{issueId:s,issueKey:i,savedFieldIds:t,savedFieldTypes:r,duration:d})})},_buildEditIssueController:function(){this.editIssueController=new i({issueEventBus:this.eventBus}),this.listenTo(this.editIssueController,"save",function(e,s,i,t,r,o){this.issueSaver.setSkipSaveIssueSuccessHandler(!1),this.issueSaver.save(e,s,i,t,r,o)}),this.listenAndRethrow(this.editIssueController,"editField"),this.listenAndRethrow(this.editIssueController,"editFieldCancel")},_buildFieldsController:function(){this.fieldsController=new o},_onIssueLoaded:function(e,s,i){e.issue.isEditable&&(s.error||s.fromCache||this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:i.issueEntity}));var t=!s.mergeIntoCurrent&&i.initialize!==!1;s.isUpdate&&!t||this.editIssueController.reset(),l.prototype._onIssueLoaded.call(this,e,s,i),e.fields&&(this.editIssueController.update({fields:e.fields,issueId:e.issue.id,issueKey:e.issue.key}),g("jira.issue.fields.loaded",{id:e.issue.id}))},_handleUnload:function(){var e=function(){var e;return this.editIssueController.getDirtyEditsInProgress().length>0&&(e="You are still editing this page. Are you sure you want to leave?"),e}.bind(this);this.unloadInterceptor=new f,this.unloadInterceptor.addAfterEvent(e),this.on("destroy",function(){this.unloadInterceptor.removeAfterEvent(e)})},_updateModel:function(e,i){var t=e.fields&&e.fields.length;t&&this.editIssueController.update(e.fields,{fieldsInProgress:this.editIssueController.getEditsInProgress(),changed:i.changed}),i=s.extend({},i,{fieldsInProgress:this.editIssueController.getEditsInProgress()}),l.prototype._updateModel.call(this,e,i)},_loadIssueFromDom:function(e){u.get("server-view-issue-is-editable")&&(this.editIssueController.setIssueId(e.id),this.editIssueController.setIssueKey(e.key),this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:e}),u.set("server-view-issue-is-editable",null)),l.prototype._loadIssueFromDom.call(this,e)},editField:function(e){if(e.isEditable()){var s=this.model.getEntity(),i=function(){e.matchesFieldSelector()?e.edit():new a({issueEventBus:this.eventBus,model:e,issue:s}).show()}.bind(this);e.getSaving()?t.one(r.ISSUE_REFRESHED,function(){i()}):i()}},abortPending:function(){this.fieldsLoader.cancel(),l.prototype.abortPending.call(this)},beforeHide:function(){this.issueSaver.setSkipSaveIssueSuccessHandler(!0),l.prototype.beforeHide.call(this)},setContainer:function(e){this.editIssueController.setIssueViewContext(e),l.prototype.setContainer.call(this,e)},dismiss:function(){this.editIssueController.reset(),l.prototype.dismiss.call(this)},getFields:function(){return this.editIssueController.getFields()},hasSavesInProgress:function(){return this.saveInProgressManager.hasSavesInProgress()},_showSaveError:function(e){var i,t;i=new h(e).render(),t=s.partial(this.stopListening,i),this.listenTo(i,{close:t,issueLinkClick:function(e){var s={isPrevented:!1,preventDefault:function(){this.isPrevented=!0},isDefaultPrevented:function(){return this.isPrevented===!0},issueData:e};this.trigger("linkInErrorMessage",s),s.isDefaultPrevented()||this.loadIssue(e)}})}})});
//# sourceMappingURL=IssueEditor-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/IssueEditorAppModule.js' */
define("jira/components/issueeditor/appmodule",["require"],function(e){"use strict";var r=e("jira/components/libs/underscore"),t=e("jira/components/issueeditor"),n=e("jira/components/issueviewer/appmodule");return n.extend({name:"issueEditor",generateMasterRequest:!0,create:function(e){return e=r.defaults({},e,{showReturnToSearchOnError:function(){return!1}}),new t({showReturnToSearchOnError:e.showReturnToSearchOnError})},commands:function(e){var t=n.prototype.commands.call(this,e);return r.extend(t,{editField:!0})},requests:function(e){var t=n.prototype.requests.call(this,e);return r.extend(t,{fields:function(){return e.getFields()},hasSavesInProgress:!0})},events:function(e){var r=n.prototype.events.call(this,e);return r.concat(["saveSuccess","saveError","editField","editFieldCancel","fieldSubmitted","fieldsLoaded"])}})});
//# sourceMappingURL=IssueEditorAppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/NoInlineAppModule.js' */
define("jira/components/issueeditor/noinlineappmodule",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore"),r=e("jira/components/issueviewer/appmodule");return r.extend({name:"issueEditor",requests:function(e){var s=r.prototype.requests.call(this,e);return n.extend(s,{fields:function(){return[]},hasSavesInProgress:function(){return!1}})}})});
//# sourceMappingURL=NoInlineAppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/templates/Fields.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueEditor&&(JIRA.Templates.IssueEditor={}),"undefined"==typeof JIRA.Templates.IssueEditor.Fields&&(JIRA.Templates.IssueEditor.Fields={}),JIRA.Templates.IssueEditor.Fields.saveErrorMessage=function(e,s){var t="",o='<a class="issue" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issueKey)+'">'+soy.$$escapeHtml(e.issueKey)+"</a>";if(t+=soy.$$filterNoAutoescape(AJS.format("Saving of \u003cstrong\u003e{0}\u003c/strong\u003e failed!",o)),e.errors.length>0){t+="<ul>";for(var a=e.errors,i=a.length,l=0;l<i;l++){var n=a[l];t+="<li>"+soy.$$escapeHtml(n)+"</li>"}t+="</ul>"}return t},JIRA.Templates.IssueEditor.Fields.field=function(e,s){return'<form id="'+soy.$$escapeHtml(e.issue.id)+'-form" class="ajs-dirty-warning-exempt aui" action= "#"><div class="inline-edit-fields">'+soy.$$filterNoAutoescape(e.issue.editHtml)+'</div><span class="overlay-icon throbber" /><div class="save-options"><button type="submit" class="aui-button submit" accessKey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.accessKey))+'"><span class="aui-icon aui-icon-small aui-iconfont-success">'+soy.$$escapeHtml("Save")+'</span></button><button type="cancel" class="aui-button cancel" accessKey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.accessKey))+'"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Cancel")+"</span></button></div></form>"},JIRA.Templates.IssueEditor.Fields.modalField=function(e,s){return'<div class="aui-dialog-content"><h2 class="dialog-title">'+soy.$$escapeHtml(AJS.format("Edit {0} for {1}",e.field.label,e.issue.key))+'</h2><form action="" class="aui" method="post"><div class="form-body">'+soy.$$filterNoAutoescape(e.field.editHtml)+'</div><div class="buttons-container form-footer"><div class="buttons"><input class="button" type="submit" value="'+soy.$$escapeHtml("Submit")+'"/><a class="cancel" href="#">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form></div>"},JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors=function(e,s){var t='<div class="error">';if(1==e.messages.length)t+=soy.$$escapeHtml(e.messages[0]);else if(e.messages.length>0){t+="<ul>";for(var o=e.messages,a=o.length,i=0;i<a;i++){var l=o[i];t+="<li>"+soy.$$escapeHtml(l)+"</li>"}t+="</ul>"}return t+="</div>"},JIRA.Templates.IssueEditor.Fields.errorsLoading=function(e,s){var t=""+(e.isTimeout?soy.$$escapeHtml("The Jira server could not be contacted. This may be a temporary glitch or the server may be down."):soy.$$escapeHtml("There were errors loading the issue."));if(e.errorMessages){t+="<ul>";for(var o=e.errorMessages,a=o.length,i=0;i<a;i++){var l=o[i];t+="<li>"+soy.$$escapeHtml(l)+"</li>"}t+="</ul>"}return t};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/templates/amd-wrapper.js' */
define("jira/components/issueeditor/templates",function(){"use strict";return JIRA.Templates.IssueEditor.Fields}),AJS.namespace("JIRA.Templates.IssueEditor.Fields",null,require("jira/components/issueeditor/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/entities/FieldModel.js' */
define("jira/components/issueeditor/entities/field",["require"],function(t){"use strict";var i=t("jira/components/libs/underscore"),e=t("jira/components/libs/brace"),s=t("jira/util/events"),r=t("jira/components/issueviewer/legacy/issuefieldutil"),n=t("jquery"),a=t("jira/skate"),h=t("jira/components/issueeditor/templates"),o=t("jira/components/issueeditor/eventtypes");return e.Model.extend({namedEvents:["editingStarted","focusRequested","editingCancelled","save","saveError","savingStarted","saveComplete","saveSuccess","updateRequired","validationError","modelDestroyed"],namedAttributes:["id","initParams","params","editHtml","viewHtml","required","fieldType","editing","saving","error","label","contentId"],initialize:function(){if(this.collection){var t=this;this.collection.on("reset",function(){t.triggerModelDestroyed()})}this.on("change:viewHtml",function(){var t=this.previous("viewHtml");t&&n.cleanData(t)}),this.onModelDestroyed(function(){var t=this.getViewHtml();t&&n.cleanData(t)})},blurEdit:function(){this.getEditing()&&(this.isDirty()||this.hasValidationError()?this.save():this.cancelEdit())},setValidationError:function(t,i,e){this.setSaving(!1),this.setError(i),this.edit({ignoreBlur:!0}),this.triggerSaveError(),this.triggerValidationError(t,e)},handleSaveError:function(){this.setSaving(!1),this.triggerSaveError()},cancelEdit:function(t){if(!this.cancelLocked){var i=new n.Event(o.BEFORE_INLINE_EDIT_CANCEL);s.trigger(i,[this.getId(),this.getFieldType(),t]),i.isDefaultPrevented()||(this.cancelLocked=!0,(this.getEditing()||this.getSaving())&&(this.setEditing(!1),this.setSaving(!1),this.unset("params"),this.unset("initParams"),this.triggerEditingCancelled(),this.unset("viewHtml")),delete this.cancelLocked)}},edit:function(t){this.getEditing()?t&&t.ignoreBlur||this.triggerFocusRequested(this,t):(this.setEditing(!0),this.triggerEditingStarted(this,t))},getCurrentParams:function(){this.triggerUpdateRequired();var t={};if(this.getParams())t=this.getParams();else if(this.getInitParams())t=this.getInitParams();else{var e=n("<div />").html(this.getEditHtml());this.setInitParams(this._serializeObject(e)),t=this.getInitParams()}var s={};return i.each(t,function(t,i){s[i]=t}),s},isEditable:function(){return!!this.getEditHtml()&&0!==n(this.getEditHtml()).find("textarea, :text,:radio,:checkbox, select").length},hasValidationError:function(){return!!this.getError()},switchElToEdit:function(t){this.getViewHtml()||this.setViewHtml(t.contents()),t.contents().detach(),t.html(h.field({issue:this.toJSON(),accessKey:r.getAccessKeyModifier()})),t.each(function(){a.init(this)}),this.getInitParams()||this.setInitParams(this._serializeObject(t)),this.setEditing(!0)},update:function(t){this.getEditing()&&this.setParams(this._serializeObject(t))},handleSaveSuccess:function(){this.setSaving(!1),this.setEditing(!1),this.unset("viewHtml"),this.unset("initParams"),this.setError(null),this.triggerSaveSuccess()},handleSaveStarted:function(){this.setSaving(!0),this.triggerSavingStarted()},save:function(){this.getSaving()||(this.triggerUpdateRequired(),this.triggerSave(this))},isDirty:function(){return this.triggerUpdateRequired(),this._isDirty(this.getCurrentParams())},_isDirty:function(t){return JSON.stringify(t)!==JSON.stringify(this.getInitParams())},matchesFieldSelector:function(){return r.matchesFieldSelector(this.id)},_serializeObject:function(t){var i={},e=n(t).find(":input").serializeArray();return n.each(e,function(){i[this.name]?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i}},{IS_EDITABLE:function(t){return t.isEditable()}})});
//# sourceMappingURL=FieldModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/entities/FieldCollection.js' */
define("jira/components/issueeditor/entities/fields",["require"],function(i){"use strict";var t=i("jira/components/libs/underscore"),e=i("jira/components/libs/brace"),n=i("jira/components/issueeditor/entities/field");return e.Collection.extend({model:n,initialize:function(){this.on("editingStarted",this._handleEditingStarted,this)},_handleEditingStarted:function(i,t){t=t||{},t.ignoreBlur||this.each(function(t){i!==t&&t.getEditing()&&t.blurEdit()})},update:function(i,e){var n=this;if(e&&e.changed){var d=e.changed,r=d.updated?d.updated.fields:[],a=d.added?d.added.fields:[];t.each(i,function(i){if(t.contains(r,i.id)){var e=n.get(i.id);e?(e.hasValidationError()&&delete i.editHtml,e.set(i,{silent:!0}),n.trigger("updated",e)):n.add(i)}else t.contains(a,i.id)&&n.add(i)})}else t.each(i,function(i){var t=n.get(i.id);t?(t.hasValidationError()&&delete i.editHtml,t.set(i,{silent:!0}),n.trigger("updated",t)):n.add(i)})},cancelEdit:function(){this.each(function(i){i.cancelEdit()})},isDirty:function(){return this.any(function(i){return i.isDirty()})},getDirtyFields:function(){return this.filter(function(i){return i.isDirty()})}})});
//# sourceMappingURL=FieldCollection-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/views/FieldView.js' */
define("jira/components/issueeditor/views/field",["require"],function(e){"use strict";var t=e("jira/components/issueeditor/cancelreasons"),i=e("jira/util/events"),s=e("jira/components/issueviewer/legacy/issuefieldutil"),n=e("jquery"),l=e("jira/components/libs/marionette-1.4.1/itemview"),o=e("jira/util/events/reasons"),d=e("jira/components/issueeditor/templates"),a=e("jira/components/issueeditor/eventtypes"),r=e("jira/components/issueeditor/analytics/viewissue");return l.extend({events:{"click .cancel":"onClickCancel",keyup:"onKeyCancel","click .submit":"onSubmit",click:"onEdit",mousedown:"saveSelectedText","submit form":"onSubmit",'keydown select[multiple="multiple"]':"_enterToSubmitMultiSelect","keypress select":"_enterToSubmitSelect","keypress textarea.no-line-break":"_enterToSubmitSelect","beforeBlurInput *":"_preventBlurByEsc"},initialize:function(e){this.model.on("validationError",this.handleValidationError,this),this.model.on("editingStarted",this.switchToEdit,this),this.model.on("focusRequested",this.focus,this),this.model.on("editingCancelled",this.switchToRead,this),this.model.on("saveError",this.handleSaveError,this),this.model.on("updateRequired",this.updateModel,this),this.model.on("savingStarted",this.handleSavingStarted,this),this.model.on("modelDestroyed",this.destroy,this),this.decorate(),this.issueEventBus=e.issueEventBus,this.issueEventBus.on("panelRendered",this.handlePanelRendered,this),this.model.setFieldType(this.$el.data("fieldtypecompletekey")),this._editDelay=0;var t=this.$el.children("shorten");t.length&&t.shorten();var s=this;i.bind(a.INLINE_EDIT_BLURRED,function(e,t){t===s.model.getId()&&s._onPossibleBlur()}),i.bind(a.INLINE_EDIT_REQUESTED,function(e,t){t!==s.model.getId()&&0!==s._editDelay&&(clearTimeout(s._editDelay),s._editDelay=0)})},destroy:function(){this.issueEventBus.off("panelRendered",this.handlePanelRendered)},decorate:function(){this.model.isEditable()&&!this.model.getEditing()&&(this.$el.addClass("editable-field inactive"),this.$el.append('<span class="overlay-icon aui-icon aui-icon-small aui-iconfont-edit" />'),this._addToolTip())},getEditElements:function(){return this.$el.find(".inline-edit-fields")},_addToolTip:function(){this.$el.attr("title","Click to edit"),n("a:not([title]):not([original-title])",this.$el).attr("title","Follow link")},_removeToolTip:function(){this.$el.removeAttr("title")},_stealAccessKeys:function(){n("[accessKey='"+"s"+"']").attr("accessKey","_s"),n("[accessKey='"+"`"+"']").attr("accessKey","_x")},_returnAccessKeys:function(){n("[accessKey=_s]").attr("accessKey","s"),n("[accessKey=_x]").attr("accessKey","`")},_handleEditingStarted:function(e){var t=this.$el.find(".field-tools");i.trigger(a.NEW_CONTENT_ADDED,[this.$el,o.inlineEditStarted]),i.trigger(a.INLINE_EDIT_STARTED,[this.model.getId(),this.model.getFieldType(),this.getEditElements(),this.$el]),this.$el.find(".textarea").css("height",Math.max(this._originalHeight,60)).expandOnInput(window.innerHeight-n("#stalker").height()-100),this.$el.find("textarea.initial-height").css("height",this._originalHeight).expandOnInput(window.innerHeight-n("#stalker").height()-100),e&&this.$el.find(":input:visible:first").focus(),this.$el.find(".error").size()||this.$el.find("select.aui-ss-select").each(function(){var e=n(this);e.data("static-suggestions")&&e.trigger("showSuggestions")}),this.$el.find(".save-options").attr("tabindex",1).prepend(t)},handleValidationError:function(e,t){this.$el.html(d.field({issue:{id:this.model.id,editHtml:e},accessKey:s.getAccessKeyModifier()})),this.$el.find(".error").addClass("inline-edit-error").attr("data-field",this.model.id),this._handleEditingStarted(t)},handlePanelRendered:function(e,t){var i=n(s.getFieldSelector(this.model.id),t);1===i.length&&(this.$el=i,this.el=this.$el[0],this.decorate(),this.delegateEvents())},handleSaveError:function(){this.$el.find(":input").removeAttr("disabled").trigger("enable"),this.$el.removeClass("saving saving-"+this.model.id)},handleSavingStarted:function(){this.$el.find(":input").attr("disabled","disabled").trigger("disable"),this.$el.find(".overlay-icon.throbber").spin(),this.$el.addClass("saving saving-"+this.model.id)},updateModel:function(){this.model.update(this.$el)},reveal:function(){var e=40;this.$el.scrollIntoView({direction:"y",marginBottom:e,marginTop:n("#stalker").outerHeight(!0)+e}),this.$el.trigger("reveal")},focus:function(){if(this.reveal(),this.$el.find(":input").removeAttr("disabled"),0===n(".aui-blanket[aria-hidden='false']").length){var e=this.$el.find(":input:visible:first");e.focus(),this.$el.hasClass("field-ignore-highlight")||e.select()}},switchToEdit:function(){this.trigger("editField",{fieldId:this.model.getId()}),this._stealAccessKeys(),this._removeToolTip(),this.$el.removeClass("inactive saving").addClass("active"),this._originalHeight=this.$el.height(),this.model.switchElToEdit(this.$el),this._handleEditingStarted(),this.focus()},switchToRead:function(){this.trigger("editFieldCancel",{fieldId:this.model.getId()}),this._addToolTip(),this.$el.addClass("inactive").removeClass("active"),this.$el.html(this.model.getViewHtml()),this.$el.closest("form").unbind("submit",this.onSubmit),this._returnAccessKeys()},onKeyCancel:function(e){27===e.keyCode&&(this.model.cancelEdit(t.escPressed),e.preventDefault())},onClickCancel:function(e){this.model.cancelEdit(),e.preventDefault(),e.stopPropagation()},onSubmit:function(e){var t=new n.Event("before-submit");this.$el.find("form").trigger(t),t.isDefaultPrevented()||(this.$el.find(":focus").blur(),this.issueEventBus.triggerFieldSubmitted(),this.model.save(),this._returnAccessKeys()),e.preventDefault()},onEdit:function(e){var t=n(e.target).is(".overlay-icon.aui-iconfont-edit"),s=0===n(e.target).closest("a, .uneditable").length&&this.$el.hasClass("inactive"),l=""===this._getCurrentlySelectedText()&&!this._previouslySelectedText,o=s&&(t||l),d=this.model.getId(),c=this.model.getFieldType();if(0!==this._editDelay)r.triggerEditableFieldDoubleClick(d,c),clearTimeout(this._editDelay),this._editDelay=0;else if(o){i.trigger(a.INLINE_EDIT_REQUESTED,[d]);var h=this;t?(r.triggerEditableFieldClickPencilIcon(d,c),n(document).one("click",function(e){e.isDefaultPrevented()||h.model.edit()})):this._editDelay=setTimeout(function(){!e.isDefaultPrevented()&&h.$el.hasClass("inactive")&&""===h._getCurrentlySelectedText()&&(r.triggerEditableFieldSingleClick(d,c),h.model.edit()),h._editDelay=0},250)}},_onPossibleBlur:function(){this.model.getSaving()||n(".aui-blanket[aria-hidden='false']").length>0||this.model.blurEdit()},_preventBlurByEsc:function(e){e.preventDefault()},_getCurrentlySelectedText:function(){return n(document.activeElement).is(":input")?"":document.selection&&document.selection.createRange?document.selection.createRange().text||"":window.getSelection?window.getSelection().toString():""},_enterToSubmitSelect:function(e){e.isDefaultPrevented()||13===e.which&&(e.preventDefault(),n(e.target).closest("form").submit())},_enterToSubmitMultiSelect:function(e){e.isDefaultPrevented()||13===e.which&&n(e.target).blur()},saveSelectedText:function(){this._previouslySelectedText=this._getCurrentlySelectedText()}})});
//# sourceMappingURL=FieldView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/views/ModalFieldView.js' */
define("jira/components/issueeditor/views/modalfield",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),o=e("jira/util/events"),t=e("jira/dialog/form-dialog"),s=e("jira/components/libs/marionette-1.4.1/itemview"),r=e("jira/components/issueeditor/templates");return s.extend({errorsTemplate:r.modalFieldGeneralErrors,template:r.modalField,initialize:function(e){i.bindAll(this,"_onHide","_onSubmit","_remove","_showGeneralError","_showValidationError","_updateModel"),o.bind("Dialog.hide",this._onHide),this.issueEventBus=e.issueEventBus,this.issueEventBus.on("saveError",this._showGeneralError),this.model.onSaveSuccess(this._remove),this.model.onUpdateRequired(this._updateModel),this.model.onValidationError(this._showValidationError)},_enable:function(){var e=this._getDialog();e.hideFooterLoadingIndicator();var i=e.$popup;i.find(":input").removeAttr("disabled").trigger("enable"),i.find(":input:first").focus().select(),i.find(":submit").removeAttr("disabled")},_getDialog:function(){return this._dialog||(this._dialog=new t({id:"modal-field-view",submitHandler:this._onSubmit,content:function(e){e(this.template({field:this.model.toJSON(),issue:this.options.issue}))}.bind(this)}),this._dialog.get$popup().data("field-id",this.model.getId())),this._dialog},_onHide:function(e,i){i===this._getDialog().get$popup()&&this._remove()},_onSubmit:function(e,i){e.preventDefault(),this.model.save(),i();var o=this._getDialog();o.showFooterLoadingIndicator(),o.$popup.find(":input").attr("disabled","disabled").trigger("disable")},close:function(){this._remove()},_remove:function(){var e=this._getDialog();e.get$popup().is(":visible")&&e.hide(),e.destroy(),this.model.cancelEdit(),o.unbind("Dialog.hide",this._onHide),this.issueEventBus.off("saveError",this._showGeneralError),this.model.off("saveSuccess",this._remove),this.model.off("updateRequired",this._updateModel),this.model.off("validationError",this._showValidationError)},show:function(){this.model.edit(),this._getDialog().show()},_showGeneralError:function(e,o,t){this._enable();var s=this._getDialog().$popup,r=t&&t.errorCollection;if(r){var n=!i.isEmpty(r.errors),d=!i.isEmpty(r.errorMessages);!n&&d&&s.find(".form-body").append(this.errorsTemplate({messages:r.errorMessages}))}},_showValidationError:function(e){this._enable(),this._getDialog().$popup.find(".form-body").html(e)},_updateModel:function(){this.model.update(this._getDialog().$popup)}})});
//# sourceMappingURL=ModalFieldView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/views/LoadingError.js' */
define("jira/components/issueeditor/views/loadingerror",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/itemview"),s=e("jira/message"),t=e("jira/components/issueeditor/templates");return i.extend({template:t.errorsLoading,initialize:function(e,i){this.errorMessages=e,this.isTimeout=i},serializeData:function(){return{errorMessages:this.errorMessages,isTimeout:this.isTimeout}},onRender:function(){this.setElement(s.showErrorMsg(this.$el.html(),{closeable:!0,timeout:0}))}})});
//# sourceMappingURL=LoadingError-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/views/SaveError.js' */
define("jira/components/issueeditor/views/saveerror",["require"],function(e){"use strict";var s=e("jira/components/libs/underscore"),i=e("jira/components/libs/marionette-1.4.1/itemview"),r=e("jira/message"),t=e("jira/components/issueeditor/templates");return i.extend({events:{"simpleClick .issue":"onIssueLinkClick"},template:t.saveErrorMessage,getErrorMessages:function(){var e,i=[];return e=this.options.response.errorCollection,e&&(i=e.errorMessages.concat(s.values(e.errors))),i},onIssueLinkClick:function(e){var s;s={id:this.options.issueId,key:this.options.issueKey},e.preventDefault(),this.trigger("issueLinkClick",s),this.close()},onRender:function(){this.setElement(r.showErrorMsg(this.$el.html(),{closeable:!0,timeout:0}))},serializeData:function(){return{errors:this.getErrorMessages(),issueKey:this.options.issueKey}}})});
//# sourceMappingURL=SaveError-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/controllers/EditIssueController.js' */
define("jira/components/issueeditor/controllers/editissue",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),t=e("jira/components/libs/brace"),s=e("jira/components/issueeditor/entities/fields"),n=e("jira/components/issueeditor/views/field"),r=e("jira/components/issueviewer/legacy/issuefieldutil"),d=e("jquery"),a=e("jira/message"),l=e("jira/components/issueeditor/templates");return t.Model.extend({namedAttributes:["issueId","issueKey","issueViewContext","fields","issueEventBus"],namedEvents:["save","editField","editFieldCancel"],initialize:function(){i.bindAll(this,"_handleSaveError","_handleSaveSuccess","_handleSavingStarted","cancelUneditedFields","createFieldView","handleFieldUpdate","save"),this.set({fields:new s},{silent:!0}),this.getFields().bind("add",this.createFieldView).bind("updated",this.handleFieldUpdate).bind("save",this.save),this.getIssueEventBus().onSavingStarted(this._handleSavingStarted),this.getIssueEventBus().onSaveSuccess(this._handleSaveSuccess),this.getIssueEventBus().onSaveError(this._handleSaveError),this.getIssueEventBus().onSave(this.save),this.getIssueEventBus().onSave(this.cancelUneditedFields)},_saveById:function(e){var i=this.getFields().get(e);i&&i.blurEdit()},_handleSaveError:function(e,t,s){var n=this;s?this.applyErrors(s):i.each(t,function(e){var i=n.getFields().get(e);i&&i.handleSaveError()})},_handleSavingStarted:function(e){this.getFields().each(function(t){i.include(e,t.id)&&t.handleSaveStarted()})},handleFieldUpdate:function(e){var i=d(r.getFieldSelector(e.id));i.hasClass("editable-field")||this.createFieldView(e)},applyErrors:function(e,t){var s=e.errorCollection;if(s&&s.errors&&this.getFields().each(function(n){if(s.errors[n.id]){var r=i.find(e.fields,function(e){return e.id===n.id});r&&(n.setValidationError(r.editHtml,s.errors[n.id],t),t=!1)}}),s.errorMessages&&s.errorMessages.length){var n=l.saveErrorMessage({errors:s.errorMessages,issueKey:this.getIssueKey()});a.showErrorMsg(n,{closeable:!0})}},reset:function(){this.getFields().reset()},cancelEdit:function(){this.getFields().each(function(e){e.cancelEdit()})},_handleSaveSuccess:function(e,t,s){var n=this.getFields().filter(function(e){return i.indexOf(s,e.id)>=0});i.each(n,function(e){e.handleSaveSuccess()})},getDirtyEditsInProgress:function(){return i.pluck(this.getFields().filter(function(e){return e.getEditing()&&e.isDirty()}),"id")},getEditsInProgress:function(){return i.pluck(this.getFields().filter(function(e){return e.getEditing()}),"id")},save:function(e,t){var s={},n=[],r=[],d=[e];if(e){if(!e.getEditing()||e.getSaving())return}else d=this.getFields().filter(function(e){return!e.getSaving()&&e.getEditing()&&e.isDirty()});i.each(d,function(e){n.push(e.getId()),r.push(e.getFieldType()||""),i.extend(s,e.getCurrentParams())}),n.length>0&&this.triggerSave(this.getIssueId(),this.getIssueKey(),n,s,t,r)},cancelUneditedFields:function(){this.getFields().each(function(e){!e.getEditing()||e.isDirty()||e.hasValidationError()||e.cancelEdit()})},update:function(e,t){e.fields&&(t&&t.fieldsInProgress&&i.each(e.fields,function(e){i.contains(t.fieldsInProgress,e.id)&&(e.editing=!0)}),this.getFields().update(e.fields,t)),e.issueId&&this.setIssueId(e.issueId),e.issueKey&&this.setIssueKey(e.issueKey)},createFieldView:function(e){var t=d(r.getFieldSelector(e.id),this.getIssueViewContext());if(1===t.length){var s=new n({model:e,el:t,issueEventBus:this.getIssueEventBus()}),a=function(t){var s={issueId:this.getIssueId(),issueKey:this.getIssueKey(),fieldId:e.getId(),fieldType:e.attributes.fieldType};return t=i.extend(s,t)}.bind(this);s.on("editField",function(e){this.trigger("editField",a(e))}.bind(this)),s.on("editFieldCancel",function(e){this.trigger("editFieldCancel",a(e))}.bind(this))}}})});
//# sourceMappingURL=EditIssueController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/controllers/FieldsController.js' */
define("jira/components/issueeditor/controllers/fields",["require"],function(e){"use strict";var i=e("jira/components/issueeditor/views/loadingerror"),t=e("jira/components/libs/marionette-1.4.1/controller");return t.extend({showError:function(e,t){(e||t)&&(this.close(),this.triggerMethod("before:render"),this.view=new i(e,t),this.view.render(),this.listenTo(this.view,"close",this.close),this.triggerMethod("render"))},close:function(){this.view&&(this.view.close(),this.stopListening(this.view),delete this.view)}})});
//# sourceMappingURL=FieldsController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/services/FieldsLoaderService.js' */
define("jira/components/issueeditor/services/fieldsloader",["require"],function(e){"use strict";var i=e("jira/components/issueviewer/legacy/issuefieldutil"),s=e("jquery"),t=e("jira/components/libs/marionette-1.4.1/controller"),r=e("jira/featureflags/feature-manager"),a=r.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli");return t.extend({initialize:function(e){this.recurringPromise=(new s.RecurringPromise).sub(),this.recurringPromise.done(function(e){this.trigger("fieldsLoaded",e)}.bind(this)).fail(function(e){this.trigger("fieldsError",e)}.bind(this)),this.contextPath=e.contextPath},load:function(e){var i=this._buildUpdateTask(e);this.recurringPromise.add(i)},cancel:function(){this.recurringPromise.reset()},_getFieldsData:function(e,t){var r=s.ajax({url:this.contextPath+"/secure/AjaxIssueEditAction!default.jspa?decorator=none",headers:{"X-SITEMESH-OFF":!0},data:{issueId:e}}),n=r.pipe(function(s){a&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("getLegacyIssueViewEditFields");var r=i.transformFieldHtml(s);return{issueId:e,issueKey:t,fields:r.fields}},function(i){var s,t={};switch(a&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&i.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("getLegacyIssueViewEditFields",{reason:"get-legacy-issue-view-edit-fields-failed-with-status-code",statusCode:i.status}),i.status){case 400:s=!1;try{var r=JSON.parse(i.responseText)||{};t=r.errorCollection}catch(n){}break;case 401:s=!1,t=null;break;default:s=!0,t={}}return{issueId:e,fields:null,errorCollection:t,isTimeout:"timeout"===i.statusText,fatalError:s}});return n.abort=function(){r.abort.apply(r,arguments)},n},_buildUpdateTask:function(e){var i=e.viewIssueData,t=e.issueEntity,r=new s.Deferred;return i.setPending(t.id,this._getFieldsData(t.id,t.key),function(e){r.resolve(e)},function(e){e.fatalError?r.reject(e):r.resolve(e)}),r.promise()}})});
//# sourceMappingURL=FieldsLoaderService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/services/IssueSaverService.js' */
define("jira/components/issueeditor/services/issuesaver",["require"],function(e){"use strict";var s=e("jira/components/issueviewer/legacy/issuefieldutil"),i=e("jira/components/libs/marionette-1.4.1/controller");return i.extend({initialize:function(e){this.saveInProgressManager=e.saveInProgressManager,this.model=e.model,this._saveStarted=[],this.saveInProgressManager.onSavingStarted(function(e,s){this._saveStarted.push((new Date).getTime()),this.trigger("saveStarted",e,s)}.bind(this)),this.saveInProgressManager.onSaveSuccess(function(e,i,t,r,a){r&&r.fields&&s.transformFieldHtml(r),this.trigger("save",{issueId:e,issueKey:i,savedFieldIds:t,savedFieldTypes:a,response:r,shouldSkipSaveIssueSuccessHandler:this._shouldSkipSaveIssueSuccessHandler,duration:(new Date).getTime()-this._saveStarted.shift()})}.bind(this)),this.saveInProgressManager.onSaveError(function(e,i,t,r){r&&r.fields&&s.transformFieldHtml(r),this.trigger("error",{issueId:e,issueKey:i,attemptedSavedIds:t,response:r,duration:(new Date).getTime()-this._saveStarted.shift()})}.bind(this))},setSkipSaveIssueSuccessHandler:function(e){this._shouldSkipSaveIssueSuccessHandler=e},save:function(e,s,i,t,r,a){this.saveInProgressManager.saveIssue(e,s,i,t,r,a)}})});
//# sourceMappingURL=IssueSaverService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/services/SaveInProgressManager.js' */
define("jira/components/issueeditor/services/saveinprogressmanager",["require"],function(e){"use strict";var r=e("jira/components/libs/underscore"),s=e("jira/components/libs/brace"),t=window.AJS.contextPath(),a=e("jira/util/events"),n=e("jira/components/issueviewer/legacy/issuefieldutil"),o=e("jira/dialog/form-dialog"),i=e("jquery"),g=e("jira/message"),c=e("jira/ajs/ajax/smart-ajax"),v=e("jira/components/issueeditor/eventtypes"),l=e("jira/components/utils/ajshelper");return s.Model.extend({namedAttributes:["savesInProgress"],namedEvents:["beforeSaving","savingStarted","saveSuccess","saveError"],initialize:function(){this.setSavesInProgress([])},saveIssue:function(e,s,o,i,g,l){this.triggerBeforeSaving();var d,u,S=this;u=r.extend(i,{issueId:e,atl_token:atl_token(),singleFieldEdit:!0,fieldsToForcePresent:o});var h=r.extend({type:"POST",url:t+"/secure/AjaxIssueAction.jspa?decorator=none",headers:{"X-SITEMESH-OFF":!0},error:function(r){S._handleSaveError(e,s,o,r)},success:function(r,t,a,i){var g=i.data;"string"==typeof g?S._handleHtmlResponse(e,s,o,g,l):(n.transformFieldHtml(g),S.triggerSaveSuccess(e,s,o,g,l))},complete:function(){S.removeSaveInProgress(d),a.trigger(v.INLINE_EDIT_SAVE_COMPLETE)},data:u},g);d=c.makeRequest(h),this.addSaveInProgress(d),this.triggerSavingStarted(e,o,i)},hasSavesInProgress:function(){return this.getSavesInProgress().length>0},removeSaveInProgress:function(e){this.setSavesInProgress(r.without(this.getSavesInProgress(),e))},addSaveInProgress:function(e){var r=this.getSavesInProgress();r.push(e),this.setSavesInProgress(r)},_handleHtmlResponse:function(e,r,s,t,a){var g=this,c=i(l.extractBodyFromResponse(t)),v=c.find("#atl_token").val();v&&i("#atlassian-token").attr("content",v);var d=new o({offsetTarget:"body",content:c});this.triggerSaveError(e,r,s),d._handleServerSuccess=function(t){d.hide();var o=g._parseResponse(t);o&&(n.transformFieldHtml(o),g.triggerSaveSuccess(e,r,s,o,a))},d._handleServerError=function(t){d.hide();var a=g._parseResponse(t.responseText);a&&(n.transformFieldHtml(a),g.triggerSaveError(e,r,s,a))},d.show()},_handleSaveError:function(e,r,s,t){var a=this._parseResponse(t.responseText);a&&(n.transformFieldHtml(a),this.triggerSaveError(e,r,s,a))},_parseResponse:function(e){try{return JSON.parse(e)}catch(r){return this._showFatalErrorMessage(),null}},_showFatalErrorMessage:function(){var e="<p>"+"Communications Breakdown"+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p>";g.showErrorMsg(e,{closeable:!0})}})});
//# sourceMappingURL=SaveInProgressManager-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/services/UnloadInterceptor.js' */
define("jira/components/issueeditor/services/unloadinterceptor",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore"),t=e("jira/components/libs/marionette-1.4.1/controller");return t.extend({initialize:function(){this._afterEventHandlers=[],this.originalBeforeUnload=window.onbeforeunload,window.onbeforeunload=this.onBeforeUnload.bind(this)},addAfterEvent:function(e){this._afterEventHandlers.push(e)},removeAfterEvent:function(e){this._afterEventHandlers=n.without(this._afterEventHandlers,e)},onBeforeUnload:function(){var e,t=arguments;return n.isFunction(this.originalBeforeUnload)&&(e=this.originalBeforeUnload.apply(window,t)),e||(e=n.reduce(this._afterEventHandlers,function(e,n){return e?e:n.apply(window,t)},e)),e}})});
//# sourceMappingURL=UnloadInterceptor-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/InlineEditUtils.js' */
define("jira/components/issueeditor/inlineeditutils",["require"],function(e){"use strict";function s(e){var s=document.activeElement;return e.find(s).length>0||e.filter(s).length>0||r()}function r(){var e=i(".mediaPickerPopup");return e.length>0&&"block"===e.css("display")}var i=e("jquery"),t=e("jira/util/events"),l=e("jira/components/issueeditor/eventtypes"),u={};return u.BLUR_FOCUS_TIMEOUT=50,u.BlurTriggers={Default:function(e,r){function i(){s(r)||(n=!1,t.trigger(l.INLINE_EDIT_BLURRED,[e]))}r=r.nextAll(".save-options").andSelf();var a,g=":input, a[href], [tabindex]",n=s(r),o={focus:function(){n||(n=!0,t.trigger(l.INLINE_EDIT_FOCUSED,[e]))},blur:function(){a&&clearTimeout(a),a=setTimeout(i,u.BLUR_FOCUS_TIMEOUT)}};r.attr("tabindex",1).bind(o).delegate(g,o)}},u.BlurTriggerMapping={system:{summary:u.BlurTriggers.Default,priority:u.BlurTriggers.Default,issuetype:u.BlurTriggers.Default,components:u.BlurTriggers.Default,versions:u.BlurTriggers.Default,fixVersions:u.BlurTriggers.Default,assignee:u.BlurTriggers.Default,reporter:u.BlurTriggers.Default,environment:u.BlurTriggers.Default,description:u.BlurTriggers.Default,labels:u.BlurTriggers.Default,duedate:u.BlurTriggers.Default},custom:{"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datepicker":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datetime":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:float":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:grouppicker":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:labels":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiselect":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiversion":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:project":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:select":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textarea":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textfield":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:url":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:userpicker":u.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:version":u.BlurTriggers.Default}},t.bind(l.INLINE_EDIT_STARTED,function(e,s,r,i){var t;if(r){if(t=u.BlurTriggerMapping.custom[r],!t){var l=r.replace(/.+:(.+)/,"$1");t=u.BlurTriggerMapping.custom[l]}}else t=u.BlurTriggerMapping.system[s];t&&t(s,i)}),u});
//# sourceMappingURL=InlineEditUtils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/eventtypes.js' */
define("jira/components/issueeditor/eventtypes",["require"],function(e){"use strict";var E=e("jira/components/issueviewer/eventtypes");return E.INLINE_EDIT_SAVE_COMPLETE="inlineEditSaveComplete",E.INLINE_EDIT_STARTED="inlineEditStarted",E.BEFORE_INLINE_EDIT_CANCEL="inlineEditCancelled",E.INLINE_EDIT_BLURRED="inlineEditBlurred",E.INLINE_EDIT_FOCUSED="inlineEditFocused",E.INLINE_EDIT_REQUESTED="inlineEditRequested",E.LOCK_PANEL_REFRESHING="lockPanelRefreshing",E.UNLOCK_PANEL_REFRESHING="unlockPanelRefreshing",E});
//# sourceMappingURL=eventtypes-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/cancelreasons.js' */
define("jira/components/issueeditor/cancelreasons",function(){"use strict";return{escPressed:"escPressed"}});
//# sourceMappingURL=cancelreasons-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/analytics/ViewIssue.js' */
define("jira/components/issueeditor/analytics/viewissue",["require"],function(e){"use strict";function i(e,i){l.trigger("analyticsEvent",{name:e,data:{fieldId:i}})}var l=e("jira/components/utils/ajshelper"),t=e("jira/components/analytics-tracker/tracker");return{triggerEditableFieldDoubleClick:function(e,l){i("jira.viewissue.editable-field.double-click",e),t.trackEvent("viewissue.editable-field","double-click",{fieldId:e,fieldType:l})},triggerEditableFieldSingleClick:function(e,l){i("jira.viewissue.editable-field.single-click",e),t.trackEvent("viewissue.editable-field","single-click",{fieldId:e,fieldType:l})},triggerEditableFieldClickPencilIcon:function(e,l){i("jira.viewissue.editable-field.click.pencil-icon",e),t.trackEvent("viewissue.editable-field","click.pencil-icon",{fieldId:e,fieldType:l})}}});
//# sourceMappingURL=ViewIssue-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'jira-issue-navigator-components-module/issueeditor/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueEditor",null,require("jira/components/issueeditor")),AJS.namespace("JIRA.Components.IssueEditor.AppModule",null,require("jira/components/issueeditor/appmodule")),AJS.namespace("JIRA.Components.IssueEditor.NoInlineAppModule",null,require("jira/components/issueeditor/noinlineappmodule")),AJS.namespace("JIRA.Components.IssueEditor.Controllers.EditIssue",null,require("jira/components/issueeditor/controllers/editissue")),AJS.namespace("JIRA.Components.IssueEditor.Controllers.Fields",null,require("jira/components/issueeditor/controllers/fields")),AJS.namespace("JIRA.Components.IssueEditor.Collections.Fields",null,require("jira/components/issueeditor/entities/fields")),AJS.namespace("JIRA.Components.IssueEditor.Models.Field",null,require("jira/components/issueeditor/entities/field")),AJS.namespace("JIRA.Components.IssueEditor.Services.FieldsLoader",null,require("jira/components/issueeditor/services/fieldsloader")),AJS.namespace("JIRA.Components.IssueEditor.Services.IssueSaver",null,require("jira/components/issueeditor/services/issuesaver")),AJS.namespace("JIRA.Components.IssueEditor.Services.SaveInProgressManager",null,require("jira/components/issueeditor/services/saveinprogressmanager")),AJS.namespace("JIRA.Components.IssueEditor.Services.UnloadInterceptor",null,require("jira/components/issueeditor/services/unloadinterceptor")),AJS.namespace("JIRA.Components.IssueEditor.Views.FieldView",null,require("jira/components/issueeditor/views/field")),AJS.namespace("JIRA.Components.IssueEditor.Views.LoadingError",null,require("jira/components/issueeditor/views/loadingerror")),AJS.namespace("JIRA.Components.IssueEditor.Views.ModalFieldView",null,require("jira/components/issueeditor/views/modalfield")),AJS.namespace("JIRA.Components.IssueEditor.Views.SaveError",null,require("jira/components/issueeditor/views/saveerror")),AJS.namespace("JIRA.Components.IssueEditor.InlineEditUtils",null,require("jira/components/issueeditor/inlineeditutils")),AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggers",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggers),AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggerMapping",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggerMapping),AJS.namespace("JIRA.Issues.CANCEL_REASON",null,require("jira/components/issueeditor/cancelreasons"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:url-serializer', location = 'content/js/util/URLSerializer.js' */
define("jira/issues/utils/url-serializer",["require"],function(e){"use strict";var t=e("underscore"),r="browse/",s="issues/",n=function(e){return e},i=function(e){return"string"==typeof e?parseInt(e,10):e};return{getURLFromState:function(e){e=e||{};var t,n=[];return t=e.selectedIssueKey?r+e.selectedIssueKey:s,null!=e.filter&&n.push("filter="+e.filter),null==e.jql||null!=e.filterJql&&e.jql===e.filterJql||n.push("jql="+encodeURIComponent(e.jql)),e.startIndex&&!e.selectedIssueKey&&n.push("startIndex="+e.startIndex),t+(n.length?"?"+n.join("&"):"")},getStateFromURL:function(e){var s,n,i={},u=e.split("?")[0];if(n={filter:null,jql:null,selectedIssueKey:null,startIndex:0},0===e.indexOf(r)&&(n.selectedIssueKey=u.split("/")[1]),e.indexOf("?")!==-1){s=e.substr(e.indexOf("?")),i=JIRA.Issues.QueryStringParser.parse(s);var l=t.pick(i,"focusedCommentId","attachmentSortBy","attachmentOrder","attachmentViewMode");t.isEmpty(l)||(n.viewIssueQuery=l)}return t.inject(this.PARAMETER_TRANSFORM,function(e,t,r){var s=i[r];return void 0!==s&&(e[r]=t(s)),e},t.extend(n))},PARAMETER_TRANSFORM:{filter:n,jql:n,startIndex:i}}}),AJS.namespace("JIRA.Issues.URLSerializer",null,require("jira/issues/utils/url-serializer"));
//# sourceMappingURL=URLSerializer-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/State.js' */
define("jira/issues/modules/navigation/state",["require"],function(t){"use strict";var e=t("jira/issues/utils/url-serializer"),i=t("underscore"),r=function(t){this.filter=null,this.jql=null,t&&i.extend(this,t.toJSON())};return i.extend(r.prototype,{toUrl:function(){return e.getURLFromState(this)},isStandaloneIssue:function(){return Boolean(this.selectedIssueKey)&&!i.isString(this.jql)&&!this.filter},getStateFromUrl:function(t){return e.getStateFromURL(t)}}),r});
//# sourceMappingURL=State-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/NavigationController.js' */
define("jira/issues/modules/navigation/controller",["require"],function(t){"use strict";var e=t("jira/issues/application"),s=t("jira/issues/modules/navigation/state"),i=t("jira/components/libs/marionette-1.4.1/controller"),n=t("underscore");return i.extend({initialize:function(t){t=n.defaults(t,{isFullPageLoad:!0}),this.state=t.model||new s,this.isFullPageLoad=t.isFullPageLoad,this.eventQueue=[]},reset:function(){this.state=new s},navigate:function(t,s){e.request("issueEditor:canDismissComment")&&this.updateState(t,s)},navigateToUrl:function(t,e,s){s=s||{};var i=n.extend(this.state.getStateFromUrl(t),s);this.navigate(i,e)},updateState:function(t,e){e=e||{};var s=n.pick(this.state,n.keys(this.state));e.reset&&this.reset(),n.extend(this.state,t),this.state.isStandaloneIssue()&&(e.forceFullPageLoad=!0),n.isEqual(s,n.pick(this.state,n.keys(this.state)))&&!e.forceRefresh||this._triggerStateChangedEvent(e),JIRA.API.getNavigationApi().then(function(t){t.updateActiveView()})},_triggerStateChangedEvent:function(t){this.isFullPageLoad&&(n.extend(t,{fullPageLoad:!0}),this.isFullPageLoad=!1),t=n.omit(t,"forceRefresh"),this.eventQueue.push({state:n.clone(this.state),options:t}),this._processEvents()},_processEvents:function(){if(!this.processingEvent){this.processingEvent=!0;var t=this.eventQueue.shift();this.trigger("stateChanged",t.state,t.options),this.processingEvent=!1,this.eventQueue.length&&this._processEvents()}}})});
//# sourceMappingURL=NavigationController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/NavigationAppModule.js' */
define("jira/issues/modules/navigation/module",["require"],function(e){"use strict";var n=e("jira/issues/modules/navigation/controller"),t=e("jira/components/libs/marionette-1.4.1/appmodule");return t.extend({name:"navigation",create:function(){return new n},commands:{reset:!0,updateState:!0,navigate:!0,navigateToUrl:!0},events:["stateChanged"]})});
//# sourceMappingURL=NavigationAppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:ajshelper', location = 'libs/ajshelper.js' */
define("jira/issues/libs/ajshelper",[],function(){"use strict";var e=window.AJS;return{trigger:e.trigger.bind(e),escapeHtml:e.escapeHtml.bind(e),LEFT:e.LEFT,whenIType:function(){return e.whenIType},activeShortcuts:function(){return e.activeShortcuts}}});
//# sourceMappingURL=ajshelper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerTemplate.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ViewIssue&&(JIRA.Templates.ViewIssue={}),"undefined"==typeof JIRA.Templates.ViewIssue.Header&&(JIRA.Templates.ViewIssue.Header={}),JIRA.Templates.ViewIssue.Header.pager=function(e,s){return'<ul class="ajax ops page-navigation page-navigation--one-line\'"><li class="previous">'+(e.previousIssue&&1!=e.position?'<a data-id="'+soy.$$escapeHtml(e.previousIssue.id)+'" data-key="'+soy.$$escapeHtml(e.previousIssue.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.previousIssue.key)+'" id="previous-issue" rel="'+soy.$$escapeHtml(e.previousIssue.key)+'" title="'+soy.$$escapeHtml("Previous Issue")+" '"+soy.$$escapeHtml(e.previousIssue.key)+'\'"><span class="icon icon-page-prev"><span>'+soy.$$escapeHtml("Previous Issue")+" '"+soy.$$escapeHtml(e.previousIssue.key)+"'</span></span></a>":e.position&&e.resultCount?'<span class="icon icon-page-prev-deactivated" title="'+soy.$$escapeHtml("Not available - this is the first issue")+'"></span>':"")+'</li><li class="showing">'+(e.position&&e.resultCount?soy.$$escapeHtml(AJS.format("{0} of {1}",e.position,e.resultCount)):"")+'</li><li class="next">'+(e.nextIssue&&e.position!=e.resultCount?'<a data-id="'+soy.$$escapeHtml(e.nextIssue.id)+'" data-key="'+soy.$$escapeHtml(e.nextIssue.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.nextIssue.key)+'" id="next-issue" rel="'+soy.$$escapeHtml(e.nextIssue.key)+'" title="'+soy.$$escapeHtml("Next Issue")+" '"+soy.$$escapeHtml(e.nextIssue.key)+'\'"><span class="icon icon-page-next"><span>'+soy.$$escapeHtml("Next Issue")+" '"+soy.$$escapeHtml(e.nextIssue.key)+"'</span></span></a>":e.position&&e.resultCount?'<span class="icon icon-page-next-deactivated" title="'+soy.$$escapeHtml("Not available - this is the last issue")+'"></span>':"")+"</li>"+(e.isError||e.hasSearchLink?'<li class="return"><a id="return-to-search" href="'+soy.$$escapeHtml(AJS.contextPath())+'/issues/" title="'+soy.$$escapeHtml("Return to search")+'">'+soy.$$escapeHtml("Return to search")+"</a></li>":"")+"</ul>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/Pager.js' */
define("jira/issues/modules/pager",["require"],function(e){"use strict";var i=e("jira/issues/modules/pager/model"),o=e("jira/issues/modules/pager/controller");return function(e){var s,n;this.initialize=function(){s=new i},this.update=function(e){e?s.update(e):s.get("isError")!==!0&&s.clear()},this.show=function(i,t){n||(n=new o({model:s}),n.on("goBack",e.goBack),n.on("nextItem",e.nextItem),n.on("previousItem",e.previousItem)),n.show(i,t)},this.close=function(){n&&n.close(),n=null,s.clear()}}});
//# sourceMappingURL=Pager-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerModel.js' */
define("jira/issues/modules/pager/model",["require"],function(e){"use strict";var s=e("jira/issues/basemodel");return s.extend({properties:["nextIssue","previousIssue","position","resultCount","hasSearchLink","isError"],update:function(e){e.hasSearchLink=!e.isSplitView,delete e.isSplitView,this.set(e)}})});
//# sourceMappingURL=PagerModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerView.js' */
define("jira/issues/modules/pager/view",["require"],function(e){"use strict";var t=e("jquery"),i=e("jira/components/libs/marionette-1.4.1/itemview"),r=e("jira/issues/modules/pager/templates"),s=e("jira/issues/libs/ajshelper");return i.extend({template:function(e){return r.pager(e||{})},events:{"simpleClick #return-to-search":"_onReturnToSearchClick"},triggers:{"simpleClick #next-issue":"nextItem","simpleClick #previous-issue":"previousItem"},ui:{nextIssue:"#next-issue",previousIssue:"#previous-issue",returnToSearch:"#return-to-search"},modelEvents:{change:"render"},onRender:function(){var e=s.activeShortcuts();e&&(e.j&&e.j._addShortcutTitle(this.$el.find(this.ui.nextIssue)),e.k&&e.k._addShortcutTitle(this.$el.find(this.ui.previousIssue)),e.u&&e.u._addShortcutTitle(this.$el.find(this.ui.returnToSearch)))},_onReturnToSearchClick:function(e){e.preventDefault(),this.trigger("goBack"),AJS.$("body").trigger("return-to-search-clicked"),t("body").focus()}})});
//# sourceMappingURL=PagerView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerController.js' */
define("jira/issues/modules/pager/controller",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/controller"),t=e("jira/issues/modules/pager/view");return i.extend({initialize:function(e){this.model=e.model},getView:function(e){return this.pagerView?e&&this.pagerView.setElement(e):(this.pagerView=new t({model:this.model,el:e}),this.listenTo(this.pagerView,"close",this.destroyView),this.listenAndRethrow(this.pagerView,["goBack","nextItem","previousItem"])),this.pagerView},show:function(e){var i=this.getView(e.pager);this.model.set("isError",e.isError),i.render()},onClose:function(){this.pagerView.close()},destroyView:function(){delete this.pagerView}})});
//# sourceMappingURL=PagerController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerAppModule.js' */
define("jira/issues/modules/pager/appmodule",["require"],function(e){"use strict";var i=e("jira/issues/modules/pager"),r=e("jira/issues/api");return function(e,s){var n=new i({nextItem:function(){r.nextIssue()},previousItem:function(){r.prevIssue()},goBack:function(){s.execute("returnToSearch")}});s.addInitializer(function(){n.initialize(),s.commands.setHandlers({"pager:update":n.update,"pager:render":n.show,"pager:close":n.close})})}});
//# sourceMappingURL=PagerAppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/amd-wrapper.js' */
define("jira/issues/modules/pager/templates",function(){"use strict";return JIRA.Templates.ViewIssue.Header}),AJS.namespace("JIRA.Templates.ViewIssue.Header",null,require("jira/issues/modules/pager/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/namespace.js' */
AJS.namespace("JIRA.Components.Pager",null,require("jira/issues/modules/pager")),AJS.namespace("JIRA.Components.Pager.AppModule",null,require("jira/issues/modules/pager/appmodule")),AJS.namespace("JIRA.Components.Pager.Controller",null,require("jira/issues/modules/pager/controller")),AJS.namespace("JIRA.Components.Pager.Model",null,require("jira/issues/modules/pager/model")),AJS.namespace("JIRA.Components.Pager.View",null,require("jira/issues/modules/pager/view")),AJS.namespace("JIRA.Templates.ViewIssue.Header",null,require("jira/issues/modules/pager/templates"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-application', location = 'content/js/Application.js' */
define("jira/issues/application",["require"],function(n){"use strict";var i=n("jira/components/util/inline-edit-feature"),e=new JIRA.Marionette.Application;return e.addInitializer(function(){this.module("JIRA.Components.Pager",JIRA.Components.Pager.AppModule),i.isEnabled()?this.module("JIRA.Components.IssueEditor",(new JIRA.Components.IssueEditor.AppModule).definition):this.module("JIRA.Components.IssueEditor",(new JIRA.Components.IssueEditor.NoInlineAppModule).definition),this.module("JIRA.Components.Analytics",(new JIRA.Components.Analytics.AppModule).definition),JIRA.Issues.AnalyticsLoader.init();var e=n("jira/issues/modules/navigation/module");this.module("JIRA.Components.Navigation",(new e).definition)}),e.cleanup=function(){e.unbind(),e.off()},e}),AJS.namespace("JIRA.Issues.Application",null,require("jira/issues/application"));
//# sourceMappingURL=Application-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:browser-metrics', location = 'jira-issue-navigator-components-module/browser-metrics/reporters/performance-mark.js' */
define("jira/components/browser-metrics/reporters/performance-mark",function(){"use strict";return function(r){return function(e){var t={};if(!window.performance.mark)return t;if(!e.isInitial)return t;var n=window.performance.getEntriesByName(r);if(!(n.length>0))return t;var i=n[0];if(i.startTime<e.start||i.startTime>e.end)return t;var a,s=i.startTime-e.start,o=e.threshold,f=4*e.threshold;return a=s<=o?1:s<=f?.5:0,{readyForUser:s,apdex:a}}}});
//# sourceMappingURL=performance-mark-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:metrics', location = 'content/js/util/metrics.js' */
define("jira/issues/navigator/metrics",["internal/browser-metrics","jira/components/browser-metrics/reporters/performance-mark","jira/featureflags/feature-manager"],function(e,s,i){"use strict";function r(e,s){for(var i=document.querySelectorAll(e),r=0;r<i.length;r++)i[r].classList.add(s);return i.length}function t(e){var s=window.performance.getEntriesByName(e);if(s.length>0){var i=s[0];return i}}var n=i.isFeatureEnabled("empanada.gin-in-spa");return{notifyIssueView:function(i){if(JIRA.Issues.Api.isNewIssueViewEnabled())AJS.$("body").trigger("global-issue-navigator-issue-selected");else if(i)e.start({key:"jira.issue.view",isInitial:!0,reporters:s("issue-container-rendered")}),e.end({key:"jira.issue.view"});else{var t="#key-val",n=".issue-body-content:not(.browser-metrics-stale)";r(n,"browser-metrics-stale"),e.start({key:"jira.issue.view",isInitial:!1,ready:[{selector:t,requireUpdate:!1},{selector:n,requireUpdate:!1}]})}},notifyIssueNavList:function(s){if(s&&!n){var i=[],r=t("issue-list-created");r&&i.push(function(){return{ttr:r.startTime}}),e.start({key:"jira.issue.nav-list",isInitial:!0,reporters:i}),e.end({key:"jira.issue.nav-list"})}},startNotifyIssueNavList:function(){var s=[];s.push(function(){return{isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}});var i=t("issue-list-created");i&&s.push(function(){return{ttr:i.startTime}}),s.push(function(){return{pageVisible:!(window&&window.document&&window.document.hidden)}}),e.start({key:"jira.issue.nav-list",isInitial:!0,reporters:s})},endNotifyIssueNavList:function(){e.end({key:"jira.issue.nav-list"})}}});
//# sourceMappingURL=metrics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-nav-render-state', location = 'content/js/util/IssueNavRenderState.js' */
define("jira/issues/utils/issue-nav-render-state",["require"],function(e){"use strict";var t=e("jquery"),s=e("wrm/context-path"),a=e("jira/featureflags/feature-manager"),n="gin-new-render-approach",i="gin-new-render-approach-log-routes",r=1,o=2,u=4,c=8;return{_state:void 0,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,r=a.getFlagValue(n),h=!!e.pathname.match(/^\/projects\/.*\/issues.*/),l="server"===r&&!h;this._state=l?o:0,"client"!==r&&"server"!==r||(this._state|=u),h&&(this._state|=c),a.isFeatureEnabled(i)&&!e.pathname.match(/^\/projects\/.*\/issues.*|^\/browse\/.*|\/issues($|\?|\/).*/)&&t.ajax({type:"POST",url:s()+"/rest/internal/2/log/unsafe/frontend-exception",data:JSON.stringify({sentFrom:"jira.legacy.GlobalIssueNavigator",message:"IssueNavRenderState unexpected use from route "+e.pathname,event:{},buildKey:"N/A",logTime:(new Date).toISOString()}),contentType:"application/json"})},get state(){if("undefined"==typeof this._state&&this.init(),~this._state&r){this._state|=r;var e=document.querySelector("#global-issue-navigator-container .navigator-content");this.computeNext({hasInitiallyLoadedWithData:null!=e&&e.childElementCount>0})}return this._state},computeNext:function(e){(e.hasInitiallyLoadedWithData===!1||e.hasStartedRenderingEmptyView||e.hasStartedTransitioningBetweenViews)&&this._state&o&&(this._state^=o)},shouldUseServerRenderedIssueTableJson:function(){return!!(this.state&u)},shouldUseServerRenderedIssueListHtml:function(){return!!(this.state&o)&&!this.isRouteLegacyPIN()},isRouteLegacyPIN:function(){return!!(this.state&c)}}});
//# sourceMappingURL=IssueNavRenderState-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/Notifications.js' */
define("jira/issues/notifications",[],function(){"use strict";var s={thanks_issue_updated:"{0} has been updated.",thanks_issue_transitioned:"{0} has been updated.",thanks_issue_assigned:"{0} has been assigned.",thanks_issue_commented:"{0} has been updated with your comment.",thanks_issue_worklogged:"Work has been logged on {0}.",thanks_issue_voted:"Your vote on {0} has been updated.",thanks_issue_watched:"Your watcher status on {0} has been updated.",thanks_issue_moved:"{0} has been moved.",thanks_issue_linked:"The links on {0} have been updated.",thanks_issue_cloned:"{0} has been cloned.",thanks_issue_labelled:"The labels on {0} have been updated.",thanks_issue_deleted:"{0} has been deleted.",thanks_issue_attached:"The file(s) have been attached to {0}."};return function(t,e){var a;t||(t="thanks_issue_updated"),a=s[t],a&&e&&(a=AJS.format(a,e)),JIRA.Messages.showSuccessMsg(a||t,{closeable:!0})}}),AJS.namespace("JIRA.Issues.showNotification",null,require("jira/issues/notifications"));
//# sourceMappingURL=Notifications-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/IssueNavRouter.js' */
!function(e){"use strict";AJS.namespace("JIRA.Issues.IssueNavRouter");var t=e("underscore"),s=e("jira/featureflags/feature-manager"),a=s.isFeatureEnabled("empanada.gin-in-spa");JIRA.Issues.IssueNavRouter=JIRA.Issues.BaseRouter.extend({initialize:function(e){t.extend(this,e),t.bindAll(this,"_restoreSessionSearch","_route"),this.route(/^(.*?)([\?]{1}.*)?$/,this._route),this.route(/^(issues\/)?$/,this._restoreSessionSearch),delete Backbone.Router.arrayValueSplit,this.listenTo(JIRA.Issues.Application,"navigation:stateChanged",this.onStateChanged)},navigate:function(){if(JIRA.Issues.Tipsy.revalidate(),this.trigger("navigate"),JIRA&&JIRA.spa&&a&&arguments){var e="/"+arguments[0],t=JIRA.spa.history&&JIRA.spa.history.location&&0===JIRA.spa.history.location.pathname.indexOf("/issues")||/^\/browse\/\w+-\d+$/.test(JIRA.spa.history.location.pathname)&&(JIRA.spa.history.location.search.indexOf("jql")>-1||JIRA.spa.history.location.search.indexOf("filter")>-1),s=arguments[1]&&arguments[1].replace;t&&(s?JIRA.spa.history.replace(e):JIRA.spa.history.push(e))}else JIRA.Issues.BaseRouter.prototype.navigate.apply(this,arguments)},onStateChanged:function(e,s){if(s=s||{},s.forceFullPageLoad)t.defer(this._redirectToUrl,e.toUrl());else{var a={trigger:!1,replace:s.replace||!1};this._setStatePermalink(e),this.navigate(e.toUrl(),a)}},pushState:function(e){this._setStatePermalink(e),this.navigate(JIRA.Issues.URLSerializer.getURLFromState(e),{trigger:!1})},replaceState:function(e){this._setStatePermalink(e),this.navigate(JIRA.Issues.URLSerializer.getURLFromState(e),{trigger:!1,replace:!0})},_restoreSessionSearch:function(){var e=this.initialSessionSearchState;JIRA.Issues.Application.execute("navigation:updateState",e,{replace:!0,reset:!0,resetQuery:!0})},_route:function(e,t){var s=this.toFragment(e,t);if(!JIRA.Issues.ignorePopState){var a=AJS.Meta.get("jql");null!=a&&AJS.Meta.set("jql",null);var i={checkPermission:!0,replace:!0,reset:!0,routerEvent:!0};JIRA.Issues.Application.execute("navigation:navigateToUrl",s,i,null!=a?{jql:a}:void 0)}},_setStatePermalink:function(e){var s=t.pick(e,"selectedIssueKey"),a=AJS.Meta.get("jira-base-url");t.isEmpty(s)||AJS.Meta.set("viewissue-permlink",a+"/"+JIRA.Issues.URLSerializer.getURLFromState(s));var i=t.omit(e,"selectedIssueKey");t.isEmpty(i)||AJS.Meta.set("issuenav-permlink",a+"/"+JIRA.Issues.URLSerializer.getURLFromState(i))},_redirectToUrl:function(e){window.location.assign(JIRA.Issues.IssueNavRouter.getBackboneRoot()+e)}},{getBackboneRoot:function(){return AJS.contextPath()+"/"}})}(window.require);
//# sourceMappingURL=IssueNavRouter-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/IssueNavCreator.js' */
!function(e){"use strict";var s=e("jquery"),a=e("jira/util/events"),i=e("jira/issues/navigator/metrics"),t=e("jira/issues/utils/issue-nav-render-state");JIRA.Events.LAYOUT_RENDERED="layoutRendered",AJS.namespace("JIRA.Issues.ViewIssueCreator"),JIRA.Issues.ViewIssueCreator.create=function(e,r){return this.$issueContainer=s(t.shouldUseServerRenderedIssueListHtml()?"#content > .issue-container":".issue-container"),this.$searchContainer=s(".navigator-container"),this.fullScreenIssue=new JIRA.Issues.FullScreenIssue({issueContainer:this.$issueContainer,searchContainer:this.$searchContainer}),this.issueNavRouter=new JIRA.Issues.IssueNavRouter({initialSessionSearchState:r.initialSessionSearchState}),JIRA.Issues.enhanceLinks.toIssueNav(),JIRA.Issues.enhanceLinks.toIssue(),JIRA.Issues.enhanceLinks.withPushState({}),JIRA.Issues.Application.on("issueEditor:linkToIssue",function(e){i.notifyIssueView(),JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:e.issueKey},{reset:!0})}),JIRA.Issues.Application.on("issueEditor:saveSuccess",function(e){a.trigger(JIRA.Events.ISSUE_REFRESHED,[e.issueId])}),JIRA.Issues.Application.on("issueEditor:saveError",function(e){e.deferred||a.trigger(JIRA.Events.ISSUE_REFRESHED,[e.issueId])}),JIRA.Issues.Application.on("issueEditor:render",function(e){JIRA.Issues.Application.execute("pager:render",e)}),JIRA.Dialogs.BeforeShowIssueDialogHandler.add(JIRA.Issues.Api.waitForSavesToComplete),this}}(window.require),function(e){"use strict";function s(){var e=JIRA.Issues.LoginUtils.redirectUrlToCurrent();a(".login-link").attr("href",e)}var a=e("jquery"),i=e("underscore"),t=e("jira/util/data/meta"),r=e("jira/util/events"),u=e("jira/issues/search/legacyissuenavigator"),n=e("jira/issues/search/legacyissuenavigatorshortcuts");e("jira/featureflags/feature-manager");AJS.namespace("JIRA.Issues.IssueNavCreator"),JIRA.Issues.IssueNavCreator.create=function(e,l){l=i.defaults(l,{standaloneIssue:!1});var o=l.viewIssueComponents||JIRA.Issues.ViewIssueCreator.create(e,l);this.fullScreenIssue=o.fullScreenIssue;var c=this.searchPageModule=new JIRA.Issues.SearchPageModule({},{initialIssueTableState:l.initialIssueTableState,issueTablePromise:l.issueTablePromise});c.registerViewContainers({issueContainer:o.$issueContainer,searchContainer:o.$searchContainer});var I=this.searchHeaderModule=new JIRA.Issues.SearchHeaderModule({searchPageModule:c}),d=new JIRA.Issues.FilterModule({searchPageModule:c,systemFilters:c.addOwnerToSystemFilters(l.systemFilters),systemFiltersPromise:l.systemFiltersPromise}),h=this.fullScreenIssue.searchContainer.find("form.navigator-search"),S=JIRA.Components.Query.create({el:h,searchers:l.initialSearcherCollectionState,queryComponentPromise:l.queryComponentPromise,preferredSearchMode:t.get("user.search.mode"),layoutSwitcher:t.getBoolean("layout-switcher-enabled"),modeSwitcher:t.getBoolean("mode-switcher-enabled"),autocompleteEnabled:t.getBoolean("autocomplete-enabled"),basicAutoUpdate:t.getBoolean("hasCriteriaAutoUpdate"),basicQueryComponentParameters:{includeCollapsedFields:!0},advancedParameters:{includeCollapsedFields:!0}});r.bind(JIRA.Events.ISSUE_TABLE_REORDER,function(e){JIRA.Issues.Application.request("issueEditor:canDismissComment")||e.preventDefault()}),this.layoutSwitcherView=new JIRA.Issues.LayoutSwitcherView({searchPageModule:c});var g=this.fullScreenIssue.searchContainer.find("#layout-switcher-toggle");g&&this.layoutSwitcherView.setElement(g).render();var p=JIRA.Issues.Application.request("issueEditor");JIRA.Issues.Application.on("issueEditor:refineViewer",function(e){e.preventDefault(),JIRA.Issues.Application.execute("issueEditor:updateIssueWithQuery",e.query)}),JIRA.Issues.Application.commands.setHandler("returnToSearch",function(){JIRA.Issues.Application.execute("issueEditor:close")}),JIRA.Issues.FocusShifter.init();var A=p.viewIssueData,R=new JIRA.Issues.IssueSearchManager({initialIssueTableState:l.initialIssueTableState,initialIssueIds:l.initialIssueIds,issueTablePromise:l.issueTablePromise}),v=new JIRA.Issues.SearchModule({searchPageModule:c,queryModule:S,issueSearchManager:R,initialSelectedIssue:l.initialSelectedIssue}),f=new JIRA.Issues.Cache.IssueCacheManager({searchResults:v.getResults(),viewIssueData:A});this.fullScreenIssue.registerIssueCacheManager(f);var w=this.fullScreenIssue.searchContainer.find(".saved-search-selector");return c.registerSearch(v),c.registerSearchHeaderModule(I),c.registerFilterModule(d),c.registerQueryModule(S),c.registerFullScreenIssue(o.fullScreenIssue),c.registerIssueSearchManager(R),c.registerIssueCacheManager(f),c.registerLayoutSwitcher(this.layoutSwitcherView),I.registerSearch(v),I.createToolsView(w),l.standaloneIssue&&(c.standalone=!0),JIRA.Issues.enhanceLinks.registerSearchPageModule(c),JIRA.Issues.dialogCleaner(),JIRA.Issues.Api.initialize({searchPageModule:c}),JIRA.Issues.overrideIssueDialogs({getIssueId:c.getEffectiveIssueId.bind(c),isNavigator:!0,updateIssue:function(e){var s=JIRA.Issues.Utils.getUpdateCommandForDialog(e);return c.updateIssue(s)}}),u.initialize(),n.initialize(),a(document).keydown(function(e){var s=a(".aui-blanket[aria-hidden='true']").length>0,i=e.which===a.ui.keyCode.ENTER||e.which===a.ui.keyCode.LEFT||e.which===a.ui.keyCode.UP||e.which===a.ui.keyCode.RIGHT||e.which===a.ui.keyCode.DOWN;if(!s&&i){var t=a(e.target),r=t.is(":not(:input)");if(null==t||r)if(e.which===a.ui.keyCode.ENTER)(null==t||t.is(":not(a)"))&&JIRA.Issues.Api.viewSelectedIssue();else if(e.which===a.ui.keyCode.LEFT)c.focusIssueList();else if(e.which===a.ui.keyCode.RIGHT){var u=JIRA.Issues.Api.isNewIssueViewEnabled();u?a("#new-issue-body-container").find(":tabbable").first().focus():c.focusIssueEditor()}else e.which===a.ui.keyCode.UP?c.handleUp()&&e.preventDefault():e.which===a.ui.keyCode.DOWN&&c.handleDown()&&e.preventDefault()}}),this.searchResults=v.getResults(),this.searchPageModule.on("change",s),this.searchResults.on("change",s),this.searchResults.getSelectedIssue().on("change",s),this.cleanup=function(){this.searchPageModule.cleanup(),this.searchHeaderModule.cleanup(),this.layoutSwitcherView.cleanup(),this.fullScreenIssue.cleanup(),this.searchResults.cleanup(),d.cleanup(),S.cleanup(),p.close(),f.cleanup(),v.cleanup(),R.cleanup(),JIRA.Issues.enhanceLinks.cleanup()},this}}(window.require),function(e){"use strict";var s=e("jquery"),a=e("jira/message"),i=e("jira/components/utils/ajshelper"),t=e("jira/issues/utils/issue-nav-render-state");AJS.namespace("JIRA.Issues.GlobalIssueNavCreator"),JIRA.Issues.GlobalIssueNavCreator.create=function(e,t){var r=JIRA.Issues.IssueNavCreator.create(e,t);JIRA.Issues.GlobalIssueNavCreator.cleanup=function(){r.cleanup()};var u=r.searchPageModule.filterModule,n=r.fullScreenIssue.searchContainer.find("#search-header-view");u.filtersComponent.showFilterHeader({el:n,model:r.searchPageModule.getFilter(),isEdited:r.searchPageModule.isDirty()});var l=s("#quicksearch-message");if(l.length){var o=a.showWarningMsg(l.find("p").html(),{closeable:!0});s("a",o).click(function(){i.trigger("analyticsEvent",{name:"kickass.run.search.without.smart.query"}),o.remove()})}return r},JIRA.Issues.GlobalIssueNavCreator.readInitialData=function(){var e={},a=s(".navigator-content"),i=t.shouldUseServerRenderedIssueTableJson();try{if(e.initialIssueTableState=a.attr("data-issue-table-model-state"),e.initialIssueTableState&&(e.initialIssueTableState=s.parseJSON(e.initialIssueTableState),i&&e.initialIssueTableState.issueTable.table&&(e.initialIssueTableState.issueTable.rawTableJson=e.initialIssueTableState.issueTable.table),e.initialIssueTableState&&!e.initialIssueTableState.table)){var r=s("<div></div>").append(a.children().clone());e.initialIssueTableState.issueTable.table=r.html()}}catch(u){AJS.log("Unable to read data-issue-table-model-state in DOM")}return e.initialIssueIds=AJS.$("#stableSearchIds").data("ids"),e.initialSelectedIssue=a.data("selected-issue"),e.initialSearcherCollectionState=s.parseJSON(s("#criteriaJson").text()),e.initialSessionSearchState=a.data("session-search-state"),e.systemFilters=s.parseJSON(s("#systemFiltersJson").text()),e}}(window.require);
//# sourceMappingURL=IssueNavCreator-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:wrm-spa-utils', location = 'content/js/util/WrmSpaUtils.js' */
define("jira/issues/wrm-spa-utils",["require","jira/featureflags/feature-manager"],function(e,n){var t=n.isFeatureEnabled("empanada.gin-in-spa"),a="GIN_TTI_CONTENT_READY",i="GIN_CONTENT_READY",s=function(){var e=window.location.pathname.split("/"),n=e[e.length-1];return n||void 0},r=function(e,n){var t=document.createEvent("Event");t.initEvent(e,!0,!0),n&&(t.mode=n),window.dispatchEvent(t)},u=function(e){t&&r(a,e)},o=function(){t&&r(i)};return{sendEventToSpa:r,sendTTIContentReadyEvent:u,sendContentReadyEvent:o,getIssueKey:s}}),AJS.namespace("JIRA.Issues.WrmSpaUtils",null,require("jira/issues/wrm-spa-utils"));
//# sourceMappingURL=WrmSpaUtils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'lib/backbone.queryparams.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&t.require?module.exports=e(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],function(r,n){return e(r||t._,n||t.Backbone)}):e(_,Backbone)}(this,function(t,e){function r(e,r,n){t.each(Array.prototype.slice.call(arguments,2),function(t){Object.defineProperty(r,t,{get:function(){return e[t]},set:function(r){e[t]=r}})})}function n(t){var e=t.location,n={};r(e,n,"assign","ancestorOrigins","origin","hash","search","pathname","port","hostname","host","protocol","href","reload"),n.replace=function(){e.replace(t.root+"#"+t.fragment)},n.unPatch=function(){return t.location=e},t.location=n}function a(t){var e=t.history,n={};r(e,n,"length","state","back","forward","go","pushState"),n.replaceState=function(r,n,a){return a=t.root+t.fragment,e.replaceState(r,n,a)},n.unPatch=function(){t.history=e},t.history=n}function o(e,r){var n=e.split("&");t.each(n,function(t){var e=t.split("=");r(e.shift(),e.join("="))})}var i=/^\?(.*)/,s=/\((.*?)\)/g,u=/(\(\?)?:\w+/g,c=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g,h=/^([^\?]*)/,p=/[\:\*]([^\:\?\/]+)/g,f=/^[#\/]|\s+$/g,m=/\/$/;e.Router.arrayValueSplit="|";var y=function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var r=this.root.replace(m,""),n=this.location.search;t.indexOf(r)||(t=t.substr(r.length)),n&&(t+=n)}else t=this.getHash();return t.replace(f,"")};r.isSupported=function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();var d=e.History.prototype.start,g=e.History.prototype.loadUrl;t.extend(e.History.prototype,{getFragment:y,getQueryParameters:function(e,r){e=y.apply(this,arguments);var n=e.replace(h,""),a=n.match(i);if(a){n=a[1];var s={};return o(n,function(e,r){r=r.replace(/\+/g,"%20"),r=decodeURIComponent(r),s[e]?t.isString(s[e])?s[e]=[s[e],r]:s[e].push(r):s[e]=r}),s}return{}},start:function(){r.isSupported&&(n(this),a(this));try{return d.apply(this,arguments)}finally{this.location.unPatch&&this.location.unPatch(),this.history.unPatch&&this.history.unPatch()}},loadUrl:function(){return this.location&&this.location.unPatch&&this.location.unPatch(),this.history&&this.history.unPatch&&this.history.unPatch(),g.apply(this,arguments)}}),t.extend(e.Router.prototype,{initialize:function(t){this.encodedSplatParts=t&&t.encodedSplatParts},getFragment:y,_routeToRegExp:function(e){var r=c.exec(e)||{index:-1},n=u.exec(e)||{index:-1},a=e.match(p)||[];e=e.replace(l,"\\$&").replace(s,"(?:$1)?").replace(u,function(t,e){return e?t:"([^\\/\\?]+)"}).replace(c,"([^??]*?)"),e+="(\\?.*)?";var o=new RegExp("^"+e+"$");return r.index>=0&&(n>=0?o.splatMatch=r.index-n.index:o.splatMatch=-1),o.paramNames=t.map(a,function(t){return t.substring(1)}),o.namedParameters=this.namedParameters,o},_extractParameters:function(r,n){var a=r.exec(n).slice(1),s={};a.length>0&&t.isUndefined(a[a.length-1])&&a.splice(a.length-1,1);var u=a.length&&a[a.length-1]&&a[a.length-1].match(i);if(u){var c=u[1],l={};if(c){var h=this;o(c,function(t,e){h._setParamValue(t,e,l)})}a[a.length-1]=l,t.extend(s,l)}var p=a.length;if(r.splatMatch&&this.encodedSplatParts){if(r.splatMatch<0)return a;p-=1}for(var f=0;f<p;f++)t.isString(a[f])&&(a[f]=decodeURIComponent(a[f]),r.paramNames&&r.paramNames.length>=f-1&&(s[r.paramNames[f]]=a[f]));return e.Router.namedParameters||r.namedParameters?[s]:a},_setParamValue:function(t,e,r){t=t.replace("[]","");for(var n=t.split("."),a=r,o=0;o<n.length;o++){var i=n[o];o===n.length-1?a[i]=this._decodeParamValue(e,a[i]):a=a[i]=a[i]||{}}},_decodeParamValue:function(r,n){r=r.replace(/\+/g,"%20");var a=e.Router.arrayValueSplit;if(a&&r.indexOf(a)>=0){for(var o=r.split(a),i=o.length-1;i>=0;i--)o[i]?o[i]=decodeURIComponent(o[i]):o.splice(i,1);return o}return r=decodeURIComponent(r),n?t.isArray(n)?(n.push(r),n):[n,r]:r},toFragment:function(e,r){return r&&(t.isString(r)||(r=this._toQueryString(r)),r&&(e+="?"+r)),e},_toQueryString:function(r,n){function a(t){return String(t).replace(o,encodeURIComponent(o))}var o=e.Router.arrayValueSplit;if(!r)return"";n=n||"";var i="";for(var s in r){var u=r[s];if(t.isString(u)||t.isNumber(u)||t.isBoolean(u)||t.isDate(u))u=this._toQueryParam(u),(t.isBoolean(u)||t.isNumber(u)||t.isString(u)||u)&&(i+=(i?"&":"")+this._toQueryParamName(s,n)+"="+a(encodeURIComponent(u)));else if(t.isArray(u)){for(var c="",l=0;l<u.length;l++){var h=this._toQueryParam(u[l]);(t.isBoolean(h)||null!==h)&&(c+=o+a(h))}c&&(i+=(i?"&":"")+this._toQueryParamName(s,n)+"="+c)}else{var p=this._toQueryString(u,this._toQueryParamName(s,n,!0));p&&(i+=(i?"&":"")+p)}}return i},_toQueryParamName:function(t,e,r){return e+t+(r?".":"")},_toQueryParam:function(e){return t.isNull(e)||t.isUndefined(e)?null:e}})});
//# sourceMappingURL=backbone.queryparams-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/ScrollIntoView.js' */
!function(){"use strict";var o=jQuery.fn.scrollIntoView;JIRA.Issues.overrideScrollIntoViewForSplit=function(){jQuery.fn.scrollIntoView=jQuery.fn.scrollIntoViewForAuto},JIRA.Issues.restoreScrollIntoViewForNormal=function(){jQuery.fn.scrollIntoView=o}}();
//# sourceMappingURL=ScrollIntoView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/analytics.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.AnalyticsLoader"),JIRA.Issues.AnalyticsLoader={init:function(){function e(e){var i=AJS.$(e.target);JIRA.Issues.Application.execute("analytics:trigger",this.name,{name:s(i.attr("href"))})}function i(){var e=1===AJS.$(".system-filters a.active").length,i=1===AJS.$(".favourite-filters a.active").length;JIRA.Issues.Application.execute("analytics:trigger",this.name,{systemFilterSelected:e,favouriteFilterSelected:i})}function s(e){var i=parseUri(e);return i.queryKey.filter}function t(e){var i=AJS.$(e.target),s=i.text();JIRA.Issues.Application.execute("analytics:trigger",this.name,{page:s})}function a(e){70===e.keyCode&&(e.metaKey||e.ctrlKey)&&JIRA.Issues.Application.execute("analytics:trigger",this.name)}function n(e){82===e.keyCode&&(e.metaKey||e.ctrlKey)&&JIRA.Issues.Application.execute("analytics:trigger",this.name)}function c(e,i){if(i&&i.find("#criteria-multi-select").length){var s=AJS.$("#criteria-multi-select"),t=s.find("input[checked]").length-s.find(".selected-group input[checked]").length;JIRA.Issues.Application.execute("analytics:trigger",this.name,{count:t})}}function r(e){var i=jQuery(e.target);i.is("th")||(i=i.parent("th")),i.length&&JIRA.Issues.Application.execute("analytics:trigger",this.name,{direction:i.hasClass("ascending")?"descending":"ascending",column:i.data("id")})}var o=require("jira/components/analytics-tracker/tracker"),l=require("jira/analytics/web-client");JIRA.Issues.Application.execute("analytics:registerEvent",["kickass.search","kickass.switchtobasic","kickass.switchtoadvanced","kickass.returntosearch","kickass.editField","kickass.editMultipleFields","kickass.editClientDuration","kickass.editClientCancelledDuration","kickass.editSaveonserverDuration","kickass.issueLoadDuration","kickass.openIssueFromTable","kickass.issueTotalSaveDuration","kickass.focusshifteropened","kickass.queryTooComplexSwitchToAdvanced","kickass.basicModeCriteriaCountWhenSearching","kickass.criteriaAutoUpdateEnabled","kickass.issueTableRefresh","kickass.conditionalLoading","kickass.viewIssue","kickass.inlineEdit","kickass.inlineEdit.start","kickass.inlineEdit.cancel","kickass.viewIssueNavigationPageReload","kickass.viewIssueNavigationRequested","kickass.filterLoad"]),JIRA.Issues.Application.execute("analytics:trigger","kickass.criteriaAutoUpdateEnabled",{enabled:AJS.Meta.getBoolean("hasCriteriaAutoUpdate")}),JIRA.Issues.Application.execute("analytics:registerTracker",[{name:"kickass.clickedOnSystemFilter",selector:".system-filters a",handler:e},{name:"kickass.clickedOnFavouriteFilter",selector:".favourite-filters a.filter-link"},{name:"kickass.clickedOnFavouriteFilterActionsMenu",selector:".favourite-filters a.filter-actions"},{name:"kickass.renamedFilterFromActionsMenu",selector:"#rename-filter-form",type:"submit"},{name:"kickass.deletedFilterFromActionsMenu",selector:"#delete-filter-form",type:"submit"},{name:"kickass.copiedFilterFromActionsMenu",selector:"#copy-filter-dialog form",type:"submit"},{name:"kickass.removeFilterFromFavouritesViaActionsMenu",selector:".unfavourite-filter"},{name:"kickass.saveACopyOfFilterFromSearchHeader",selector:"#save-filter-dialog form",type:"submit"},{name:"kickass.filterChangesSaved",selector:".header-section-primary .save-changes"},{name:"kickass.clickedOnShowFiltersDetailsDropDown",selector:".show-filter-details",type:"mousedown"},{name:"kickass.clickedOnChangePermissions",selector:".filter-permissions .change-permissions"},{name:"kickass.clickedOnUnfavouriteStar",selector:".filter-operations .fav-link.aui-iconfont-unstar"},{name:"kickass.clickedOnSaveFilterAs",selector:".save-as-new-filter",handler:i},{name:"kickass.clickedOnPagniationLink",selector:".pagination a",handler:t},{name:"kickass.inbrowsersearch",type:"keydown",handler:a},{name:"kickass.reloadPage",type:"keydown",handler:n},{name:"kickass.moreCriteriaNewlySelectedCount",type:AJS.InlineLayer.EVENTS.beforeHide,handler:c},{name:"kickass.createdNewSearch",selector:".new-search"},{name:"kickass.sortByColumn",selector:".sortable",handler:r},{name:"kickass.findFiltersClicked",selector:".find-filters"}]),JIRA.Issues.Application.on("issueEditor:loadComplete",function(e,i){if(o.initialize(e.getProjectId(),e.getProjectType(),e.getId()),!i.fromCache){var s=i.issueKey;JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:e.getId(),loadReason:i.loadReason,duration:i.duration,loadedFromDom:!1,projectId:e.getProjectId(),projectType:e.getProjectType()||"unknown",issueMatchesProjectContext:null!=s&&0===s.indexOf(e.getProjectKey()+"-")}),l.sendPageEvent("viewIssueScreen")}JIRA.Issues.Application.execute("analytics:trigger","kickass.issueLoadDuration",{issueId:i.issueId,duration:i.duration,loadReason:i.loadReason,fromCache:i.fromCache})}),JIRA.Issues.Application.on("issueEditor:render",function(e,i){if(i.loadedFromDom){var s=i.issueKey;JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:i.issueId,loadedFromDom:!0,projectId:i.projectId,projectType:i.projectType||"unknown",issueMatchesProjectContext:null!=s&&0===s.indexOf(i.projectKey+"-")}),l.sendPageEvent("viewIssueScreen")}}),JIRA.Issues.Application.on("issueEditor:saveSuccess",function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit",{issueId:e.issueId,savedFieldIds:e.savedFieldIds,savedFieldTypes:e.savedFieldTypes,duration:e.duration})}),JIRA.Issues.Application.on("issueEditor:editField",function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.start",{issueId:e.issueId,fieldId:e.fieldId,fieldType:e.fieldType})}),JIRA.Issues.Application.on("issueEditor:editFieldCancel",function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.cancel",{issueId:e.issueId,fieldId:e.fieldId,fieldType:e.fieldType})})}}}();
//# sourceMappingURL=analytics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/Stalker.js' */
!function(e){"use strict";var t;e.fn.stalker=function(s){function i(){t&&(f.css({position:"",top:"",left:"",right:"",height:""}).removeClass("detached"),f.off("stalkerHeightUpdated",l),t.remove(),t=null)}function o(){t||JIRA.Issues.Api.isNewIssueViewEnabled()||(t=jQuery("<div class='stalker-placeholder' />").css("visibility","hidden").addClass(f[0].className).height(f.outerHeight()).width(f.outerWidth()).insertBefore(f),f.on("stalkerHeightUpdated",l),f.css({position:"fixed",top:s.offsetTop,left:n.left,right:n.right}).addClass("detached"))}function l(){t.height(f.height())}function a(){f.is(":visible")&&(n||(n=f.offset()),e(window).scrollTop()+s.offsetTop>=n.top?o():i())}var n,f=this;if(f.length&&!f.data("stalker-applied"))return f.data("stalker-applied",!0),s=s||{},s.offsetTop=s.offsetTop||0,e(window).on("resize scroll",a),a(),{unstalk:function(){i(),e(window).off("resize scroll",a)}}}}(AJS.$);
//# sourceMappingURL=Stalker-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/Sidebar.js' */
!function(t){t.widget("ui.sidebar",{version:"0.1",options:{minWidth:function(t){return 50},maxWidth:function(t){return window.innerWidth},resize:t.noop,easeOff:0},_create:function(){_.bindAll(this,"_handleDrag","_persist","_setContainment","_setHandlePosition","updatePosition"),this.options.easeOff&&(this.updatePosition=_.debounce(this.updatePosition,this.options.easeOff)),this.options.id||console.error("ui.sidebar: You must specify an id"),this._addHandle(),this._restore(),t(window).resize(_.debounce(this.updatePosition,30))},_restore:function(){if(window.localStorage){var t=localStorage.getItem("ui.sidebar."+this.options.id);t&&this._setWidth(t)}},_persist:function(){window.localStorage&&localStorage.setItem("ui.sidebar."+this.options.id,this.element.outerWidth())},_setContainment:function(){var t=window.innerHeight;this._elementLeft=this.element.offset().left,this._minLeft=this._elementLeft+this.options.minWidth(this),this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth(this)),this.handle.draggable({containment:[this._minLeft,t,this._maxLeft,t]})},_handleDrag:function(t,e){var i=e.position.left-this._elementLeft;this._setWidth(i,!0)},_setWidth:function(t,e){if(!e){var i=this.options.maxWidth(this),s=this.options.minWidth(this);t>i?t=i:t<s&&(t=s)}t-=this.element.outerWidth()-this.element.width(),this.element.width(t),this.options.resize(t)},_addHandle:function(){var e=document.createElement("div");e.setAttribute("class","ui-sidebar"),this.handle=t(e).appendTo(this.element),this.handle.draggable({axis:"x",drag:this._handleDrag,stop:this._persist}),this.handle.mousedown(this._setContainment),_.defer(this._setHandlePosition)},_setHandlePosition:function(){if(this._setContainment(),this._minLeft===this._maxLeft)this.handle.hide();else{var t=this.element.offset(),e=t.left+this.element.outerWidth();this.handle.css({top:t.top,left:e,height:this.element.outerHeight()}).show()}},updatePosition:function(){this._setHandlePosition(),this._setWidth(this.handle.offset().left-this._elementLeft),this._persist()}})}(jQuery);
//# sourceMappingURL=Sidebar-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/HtmlCatchExceptions.js' */
!function(n){"use strict";var t=function(n){return function(t){try{n.apply(this,arguments)}catch(e){console&&console.error&&"string"==typeof t&&console.error("Error while evaluating HTML: "+e.message+", in: ",t)}return this}};n.fn.htmlCatchExceptions=t(n.fn.html),n.fn.appendCatchExceptions=t(n.fn.append),n.fn.prependCatchExceptions=t(n.fn.prepend),n.catchExceptions=function(t){return n("<div>").htmlCatchExceptions(t).children()}}(AJS.$);
//# sourceMappingURL=HtmlCatchExceptions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/mixin/SingleSelect.js' */
define("jira/issues/mixin/singleselect",function(){"use strict";return{properties:["collection"],selectById:function(e){this.setSelected(this.getCollection().get(e))},selectAt:function(e){this.setSelected(this.getCollection().at(e))},clearSelection:function(){this.setSelected()},next:function(){var e=this.getSelected(),t=this.getCollection();if(e){var i=t.indexOf(e),s=(i+1)%t.length;this.setSelected(t.at(s))}else t.length>0&&this.setSelected(t.first())},prev:function(){var e=this.getSelected(),t=this.getCollection();if(e){var i=t.indexOf(e),s=(i+t.length-1)%t.length;this.setSelected(t.at(s))}else t.length>0&&this.setSelected(t.last())}}}),AJS.namespace("JIRA.Issues.Mixin.SingleSelect",null,require("jira/issues/mixin/singleselect"));
//# sourceMappingURL=SingleSelect-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/DefaultMessageOptions.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.getDefaultMessageOptions",window,function(){return{closeable:!0,timeout:5}})}();
//# sourceMappingURL=DefaultMessageOptions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/SessionTimedOutDialog.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.SessionTimedOutDialog"),JIRA.Issues.SessionTimedOutDialog={dialogHasShown:!1,whiteList:["/secure/Search!Jql.jspa","/secure/SearchRendererEdit!Default.jspa","/rest/issueNav/1/issueTable","/rest/issueNav/latest","/rest/api/2/filter"],onRequestResponse:function(e,s,i){if(!this.dialogHasShown&&this.urlIsInWhiteList(i.url)){var t,n=JIRA.Issues.LoginUtils.loggedInUserAccountId(),o=s.getResponseHeader("X-AACCOUNTID");if(t=this.userHasChanged(n,o)){this.dialogHasShown=!0;var a=new JIRA.FormDialog({content:AJS.$(JIRA.Templates.Issues.Util.anonymousErrorDialog({modifierKey:AJS.Navigator.modifierKey(),redirect:window.location.href.substring(window.location.href.indexOf(AJS.contextPath())+AJS.contextPath().length)}))});a.show()}}},userHasChanged:function(e,s){return(""!==e||"anonymous"!==s)&&((""!==e||!s||"anonymous"===s||""===s)&&(""!==e&&"anonymous"===s))},urlIsInWhiteList:function(e){for(var s=0;s<this.whiteList.length;s++){var i=this.whiteList[s];if(e.indexOf(i)>-1)return!0}return!1}},function(e){e(document).ajaxComplete(function(e,s,i){JIRA.Issues.SessionTimedOutDialog.onRequestResponse(e,s,i)})}(AJS.$)}();
//# sourceMappingURL=SessionTimedOutDialog-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/cache/IssueCacheManager.js' */
define("jira/issues/search/cache/cache-manager",["require"],function(e){"use strict";var s=e("jira/issues/baseevented");return s.extend({initialize:function(e){this.searchResults=e.searchResults,this.viewIssueData=e.viewIssueData,this.searchResults.bind("issueDeleted",this._onIssueDeleted,this),this.searchResults.bind("nextIssueSelected",this._onNextIssueSelected,this),this.searchResults.bind("prevIssueSelected",this._onPrevIssueSelected,this),this._prefetchCandidate=null},prefetchIssues:function(){this._prefetchCandidate&&this._prefetchCandidate.key&&(this._prefetchIssue(this._prefetchCandidate.key),this._prefetchCandidate=null)},scheduleIssueToBePrefetched:function(e){this._prefetchCandidate=e},_onIssueDeleted:function(e){this.viewIssueData.remove(e.key)},_onNextIssueSelected:function(e){this._prefetchCandidate=e.nextNextIssue},_onPrevIssueSelected:function(e){this._prefetchCandidate=e.prevPrevIssue},_prefetchIssue:function(e){this.viewIssueData.get(e,!1,{prefetch:!0})}})});
//# sourceMappingURL=IssueCacheManager-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/SimpleIssue.js' */
define("jira/issues/search/issue/simple-issue",["require"],function(e){"use strict";var s=e("jira/issues/basemodel");return s.extend({properties:["id","key"],defaults:{id:null,key:null},hasIssue:function(){return!!this.getId()}})});
//# sourceMappingURL=SimpleIssue-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/FullScreenIssue.js' */
define("jira/issues/search/issue/full-screen-issue",["require"],function(e){"use strict";var s=e("jira/issues/libs/trace"),i=e("jira/issues/baseview"),t=e("jira/issues/application"),r=e("jira/util/events"),a=e("jira/util/events/types"),n=e("jira/util/events/reasons"),o=e("underscore"),u=e("jquery"),h=e("jira/issues/notifications"),d=e("jira/issues/wrm-spa-utils");return i.extend({namedEvents:["issueHidden"],initialize:function(e){o.extend(this,e),o.bindAll(this,"onLoadComplete","showError"),this.issueContainer.hasClass("hidden")&&(this.issueContainer.detach(),this.issueContainer.removeClass("hidden")),this.searchContainer.hasClass("hidden")&&(this.searchContainer.detach(),this.searchContainer.removeClass("hidden"))},bindSearchService:function(e){this.listenTo(e,{issueUpdated:function(e,s,i){if("inlineEdit"!==i.action&&"rowUpdate"!==i.action)return this.updateIssue(i)},selectedIssueChanged:function(i){i.hasIssue()?(t.execute("issueEditor:abortPending"),this.show({id:i.getId(),key:i.getKey(),pager:e.getPager()}),this.updatePager(e.getPager())):this.isVisible()&&(this.hide(),s("jira.returned.to.search"),s("jira.psycho.returned.to.search"),t.execute("analytics:trigger","kickass.returntosearch"))}})},deactivate:function(){this.stopListening(),this.active&&(this.stalker&&this.stalker.unstalk(),t.off("issueEditor:loadComplete",this.onLoadComplete),t.off("issueEditor:loadError",this.showError),t.execute("issueEditor:abortPending"),this.active=!1)},activate:function(){this.active||(t.on("issueEditor:loadComplete",this.onLoadComplete),t.on("issueEditor:loadError",this.showError),this.active=!0)},onLoadComplete:function(e,s){this.stalker=u(".js-stalker",this.issueContainer).stalker(),this._makeIssueVisible(),s.isNewIssue&&this._scrollToTop()},_makeIssueVisible:function(){t.execute("issueEditor:beforeShow"),this._setBodyClasses({error:!1,issue:!0,search:!0}),this.isVisible()||(this.issueContainer.insertBefore(this.searchContainer),this.searchContainer.detach(),d.sendContentReadyEvent(),s("jira.psycho.issue.refreshed",{id:t.request("issueEditor:getIssueId")}),r.trigger(a.NEW_CONTENT_ADDED,[this.issueContainer,n.pageLoad]))},updateIssue:function(e){var s,i;return i=e.key===t.request("issueEditor:getIssueKey"),this.isVisible()?(s=t.request("issueEditor:refreshIssue",e),s.done(function(){!i&&e.message&&h(e.message,e.key)})):s=(new u.Deferred).resolve().promise(),s},showError:function(){this._setBodyClasses({error:!0,issue:!1,search:!1})},isVisible:function(){return this.issueContainer.closest("body").length>0},isNavV3Enabled:function(){if(!document||!document.querySelector)return!1;var e=document.querySelector('header[data-testid="atlassian-navigation--header"]');return null!==e},_scrollToTop:function(){u(window).scrollTop(0)},_setBodyClasses:function(e){var s=this.isNavV3Enabled();u("body").toggleClass("page-type-message",e.error).toggleClass("navigator-issue-only",e.issue).toggleClass("with-individual-scrolling-enabled",e.issue).toggleClass("with-nav3",e.issue&&s).toggleClass("page-type-navigator",e.search)},hide:function(){this._setBodyClasses({error:!1,issue:!1,search:!0}),this.isVisible()&&(this.searchContainer.insertBefore(this.issueContainer),this.issueContainer.detach(),this.trigger("issueHidden"))},updatePager:function(e){t.execute("pager:update",e)},show:function(e){return this.activate(),t.execute("issueEditor:setContainer",this.issueContainer),t.request("issueEditor:loadIssue",e).always(function(){u(".js-stalker",this.issueContainer).stalker(),this.updatePager(e.pager),this.issueCacheManager&&this.issueCacheManager.prefetchIssues()}.bind(this))},isLoading:function(){return t.request("issueEditor:isCurrentlyLoading")},registerIssueCacheManager:function(e){this.issueCacheManager=e}})});
//# sourceMappingURL=FullScreenIssue-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/QueryStringParser.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.QueryStringParser"),JIRA.Issues.QueryStringParser={parser:/(?:^|&)([^&=]*)=?([^&]*)/g,parse:function(e){if(!e&&0!==e)return{};e=""+e,"?"===e.charAt(0)&&(e=e.substring(1));var r={};return e.replace(this.parser,function(e,s,n){var t=decodeURIComponent((n||"").replace(/\+/g," "));r[decodeURIComponent(s)]=t}),r}}}();
//# sourceMappingURL=QueryStringParser-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/components/table/analytics/HeaderOperations.js' */
define("jira/issues/components/table/analytics/header-operations",["require"],function(t){"use strict";var e=t("jquery"),s=t("jira/analytics/web-client"),i={printable:"printList",printdetails:"printDetails",xml:"exportXml",rssIssues:"exportRss",rssComments:"exportRssComments",word:"exportWord",allExcelFields:"exportHtmlAll",currentExcelFields:"exportHtmlCurrent",allCsvFields:"exportExcelCsvAll",currentCsvFields:"exportExcelCsvCurrent",charts:"createDashboardGadget"};return{attachAnalytics:function(t){t.on("click",".aui-list-item-link",function(){var t=this.id in i?i[this.id]:"unknown";s.sendUIEvent({source:"globalIssueNavigatorHeaderOperationsDropdown",actionSubject:"dropdownItem",actionSubjectId:"export",action:"clicked",attributes:{dropdownItem:t}})})},attachAnalyticsToHeaderButtons:function(t){t.on("click","a",function(){var t=e(this).attr("id")||"no-element-id",i=e(this).attr("class")||"no-element-className";s.sendUIEvent({source:"globalIssueNavigatorHeaderOperations",actionSubject:"link",actionSubjectId:t,action:"clicked",attributes:{className:i}})})}}});
//# sourceMappingURL=HeaderOperations-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/cache/namespace.js' */
AJS.namespace("JIRA.Issues.Cache.IssueCacheManager",null,require("jira/issues/search/cache/cache-manager"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/namespace.js' */
AJS.namespace("JIRA.Issues.FullScreenIssue",null,require("jira/issues/search/issue/full-screen-issue")),AJS.namespace("JIRA.Issues.SimpleIssue",null,require("jira/issues/search/issue/simple-issue"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/util/FocusShifterService.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.FocusShifter"),JIRA.Issues.FocusShifter.init=function(){return JIRA.Shifter.register(function(){var e;if(JIRA.Issues.Api.isNewIssueViewEnabled()||JIRA.Issues.Api.issueIsVisible&&!JIRA.Issues.Api.issueIsVisible())e=[];else{var s=JIRA.Issues.Api.getFieldsOnSelectedIssue();e=s?JIRA.Issues.FocusShifter.getSuggestions(s):[]}return{id:"edit-fields",name:"Edit Fields",context:JIRA.Issue.getIssueKey(),weight:100,getSuggestions:function(){return(new jQuery.Deferred).resolve(e)},onSelection:function(e){JIRA.Issues.Api.editFieldOnSelectedIssue(e)}}})},JIRA.Issues.FocusShifter.show=function(){JIRA.Shifter.show()},JIRA.Issues.FocusShifter.getSuggestions=function(e){return _.chain(e.models).filter(JIRA.Components.IssueEditor.Models.Field.IS_EDITABLE).filter(function(e){return"comment"!==e.id}).map(function(e){return{label:e.getLabel(),value:e.id}}).value()}}();
//# sourceMappingURL=FocusShifterService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/util/Overrides.js' */
!function(){"use strict";JIRA.Messages.showMsgOnReload=function(s,e){JIRA.one(JIRA.Events.ISSUE_REFRESHED,function(){e.type=JIRA.Messages.Types[e.type],JIRA.Messages.showMsg(s,e)})}}();
//# sourceMappingURL=Overrides-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/templates/util.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issues&&(JIRA.Templates.Issues={}),"undefined"==typeof JIRA.Templates.Issues.Util&&(JIRA.Templates.Issues.Util={}),JIRA.Templates.Issues.Util.simpleLink=function(e,s){return"<a"+(e.link.id?' id="'+soy.$$escapeHtml(e.link.id)+'"':"")+'href="'+(e.link.href?soy.$$escapeHtml(e.link.href):"#")+'"'+(e.link.styleClass||e.additionalStyleClass?'class="'+soy.$$escapeHtml(e.link.styleClass)+(e.additionalStyleClass?" "+soy.$$escapeHtml(e.additionalStyleClass):"")+'"':"")+(e.link.title?'title="'+soy.$$escapeHtml(e.link.title)+'"':"")+"><span>"+soy.$$escapeHtml(e.link.label)+"</span></a>"},JIRA.Templates.Issues.Util.issueAnchor=function(e,s){return'<a class="issue-key" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issueKey)+'"> '+soy.$$escapeHtml(e.issueKey)+" </a>"},JIRA.Templates.Issues.Util.anonymousErrorDialog=function(e,s){return'<div class="aui-dialog-content"><div class="form-body"><h2 class="dialog-title">'+soy.$$escapeHtml("Session Expired")+"</h2>"+JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass:"warning",messages:["It looks like your session has timed out, or you have been logged out of Jira. You will need to log back in to continue."]})+'</div><div class="buttons-container form-footer"><div class="buttons"><a accesskey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button submit" href="'+soy.$$escapeHtml(AJS.contextPath())+"/login.jsp?os_destination="+soy.$$escapeHtml(e.redirect)+'">'+soy.$$escapeHtml("Log in again")+'</a><a accesskey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="aui-button aui-button-link cancel">'+soy.$$escapeHtml("Ignore")+"</a></div></div></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/IssueNavLoader.js' */
define("jira/issues/viewissue/issuenavloader",["jquery","jira/util/browser"],function(e,i){"use strict";return{SPA_NAVIGATION_TIMEOUT:6e3,stateChange:void 0,initialize:function(e){this.issueNavOptions=e},requireIssueNav:function(){var i=new e.Deferred;return WRM.require(["wrc!com.atlassian.jira.jira-issue-nav-plugin:issuenav"],function(){i.resolve()}),i.promise()},loadIssueNav:function(){return JIRA.Issues.Application.on("navigation:stateChanged",this._onStateChanged,this),this.requireIssueNav().then(function(){JIRA.Issues.GlobalIssueNavCreator.create(e(document),this.issueNavOptions)}.bind(this)).then(this._onIssueNavInitialized.bind(this))},_onIssueNavInitialized:function(){this.stateChange&&(JIRA.Issues.Application.execute("navigation:updateState",this.stateChange,{replace:!0,reset:!0,forceRefresh:!0}),this.stateChange=void 0),JIRA.Issues.Application.off("navigation:stateChanged",this._onStateChanged)},_onStateChanged:function(e){this.stateChange=e,this._triggerNavigationAnalyticsEvent(),setTimeout(function(){if(this.stateChange){JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssueNavigationPageReload",{navigationTimeout:this.SPA_NAVIGATION_TIMEOUT});var e=AJS.contextPath()+"/"+this.stateChange.toUrl();i.reloadViaWindowLocation(e)}}.bind(this),this.SPA_NAVIGATION_TIMEOUT)},_triggerNavigationAnalyticsEvent:function(){var e;e=parseInt(window.performance.now()-window.performance.timing.loadEventEnd+window.performance.timing.navigationStart),JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssueNavigationRequested",{navigationTime:e})}}});
//# sourceMappingURL=IssueNavLoader-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/DialogCleanup.js' */
!function(){"use strict";JIRA.Issues.dialogCleaner=function(){JIRA.Issues.Application.on("navigation:stateChanged",function(e,n){n=n||{},n.fullPageLoad||(JIRA.Dialog.current&&JIRA.Dialog.current.hide(),AJS.HelpTip&&AJS.HelpTip.Manager&&(AJS.HelpTip.Manager.hideSequences(),AJS.HelpTip.Manager.clearSequences()))})}}();
//# sourceMappingURL=DialogCleanup-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/OverrideIssueDialogUtil.js' */
!function(){"use strict";JIRA.Dialogs.getDefaultAjaxOptions=function(){var e=this.options.url||this.getRequestUrlFromTrigger();if(this.issueId=JIRA.Issues.Api.getSelectedIssueId(),this.issueKey=JIRA.Issues.Api.getSelectedIssueKey(),/id=\{0\}/.test(e)){if(!this.issueId)return!1;e=e.replace(/(id=\{0\})/,"id="+this.issueId)}return{data:{decorator:"dialog",inline:"true"},url:e}}}();
//# sourceMappingURL=OverrideIssueDialogUtil-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/OverrideIssueDialogs.js' */
define("jira/issues/search/util/overrideissuedialogs",[],function(){"use strict";function i(){if("clone-issue-dialog"===this.options.id)r.apply(this,arguments);else if("delete-issue-dialog"===this.options.id)if(t)this.hide(),o(this);else{var i=this._getTargetUrlValue();i&&""!==i?AJS.reloadViaWindowLocation(i):AJS.$(".page-navigation #next-issue").length>0?AJS.reloadViaWindowLocation(AJS.$(".page-navigation #next-issue").attr("href")):AJS.$(".page-navigation #return-to-search").length>0?AJS.reloadViaWindowLocation(AJS.$(".page-navigation #return-to-search").attr("href")):AJS.reloadViaWindowLocation(AJS.$("#find_link").attr("href"))}else{var e=this;this.showFooterLoadingIndicator(),o(this).always(function(){JIRA.trace("jira.issue.update"),e.hideFooterLoadingIndicator(),e.hide()})}}var e,t,o,a=!1,n=function(i){i=_.defaults({},i,{isNavigator:!1}),e=i.getIssueId,t=!!i.isNavigator,o=i.updateIssue,a||(t&&(JIRA.LabelsDialog.prototype._handleSubmitResponse=JIRA.FormDialog.prototype._handleSubmitResponse),AJS.$(function(){JIRA.bind("QuickEdit.sessionComplete",function(){o(JIRA.Dialog.current)}),JIRA.bind("QuickCreateSubtask.sessionComplete",function(){o(JIRA.Dialog.current)})}),JIRA.bind("Dialog.show",function(i,t,o){o&&(o.issueId=e(JIRA.Dialog.current))}),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(i,e){e.find(".issueaction-workflow-transition").each(function(){var i=AJS.$(this),e=i.attr("href");e=e.replace(/atl_token=[^&]*/,"atl_token="+atl_token()),i.attr("href",e)})}),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(){var i=AJS.$("#ops-login-lnk");if(0!==i.length){var e=window.location,t=parseUri(i.attr("href"));t.queryKey.os_destination=e.pathname.slice(AJS.contextPath().length)+e.search,i.attr("href",t.path+"?"+AJS.$.param(t.queryKey))}}),a=!0)},s=JIRA.FormDialog.prototype._getDefaultOptions;JIRA.FormDialog.prototype._getDefaultOptions=function(){var e=s.call(this),t=e.onDialogFinished;return e.onDialogFinished=function(){this.isIssueDialog()?i.apply(this,arguments):t.apply(this,arguments)},e};var r=JIRA.FormDialog.prototype._performRedirect;return JIRA.FormDialog.prototype._performRedirect=function(){this.isIssueDialog()?i.apply(this,arguments):r.apply(this,arguments)},n}),AJS.namespace("JIRA.Issues.overrideIssueDialogs",null,require("jira/issues/search/util/overrideissuedialogs"));
//# sourceMappingURL=OverrideIssueDialogs-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/enhanceIssueLinks.js' */
!function(){"use strict";var e=require("jira/components/libs/uri");JIRA.Issues.enhanceLinks={withPushState:function(s){s=_.defaults(s,{selector:".push-state"}),AJS.$(document).delegate(s.selector,"simpleClick",function(s){if(this.href){s.preventDefault();var i=new e(this.href).fragment("").resource();i=i.replace(JIRA.Issues.IssueNavRouter.getBackboneRoot(),""),JIRA.Issues.Application.execute("navigation:navigateToUrl",i,{forceRefresh:!0,checkPermission:!0,replace:!0,reset:!0})}})},toIssueNav:function(){var e="a.filter-link[data-filter-id], a.filter-link[data-jql]",s="#issues_new_search_link_lnk";AJS.$(document).on("simpleClick",e,function(e){e.preventDefault();var s=AJS.$(e.target).closest("a"),i=s.data("filter-id"),t=s.data("jql");JIRA.Issues.Application.execute("navigation:navigate",{filter:i,jql:t,searchId:_.uniqueId()},{reset:!0,resetQuery:!0})}),AJS.$(document).on("simpleClick",s,function(e){e.preventDefault(),JIRA.Issues.Application.execute("navigation:navigate",{jql:"",searchId:_.uniqueId()},{reset:!0,resetQuery:!0})})},isIssueTableDropdown:function(){if(AJS.InlineLayer.current){var e=jQuery(AJS.InlineLayer.current.offsetTarget());if(e.closest(".list-view table#issuetable").size())return!0}},toIssue:function(){var e="a.issue-link[data-issue-key]",s=".parentIssue",i=".list-view table#issuetable a.issue-link[data-issue-key]";AJS.$(document).on("simpleClick",e,function(e){if(!e.isDefaultPrevented()){e.preventDefault(),e.stopPropagation();var t=AJS.$(e.target).closest("a").data("issue-key"),a=AJS.$(e.target).is(i),n=AJS.$(e.target).is(s),r=JIRA.Issues.enhanceLinks.isIssueTableDropdown(i);if(this.searchPageModule&&(a&&!n||r)){var u=this.searchPageModule.searchResults,l=u._getIssueIdForKey(t),o=parseInt(l,10);JIRA.Issues.Application.execute("analytics:trigger","kickass.openIssueFromTable",{issueId:l,absolutePosition:u.getPositionOfIssueInSearchResults(o)+1,relativePosition:u.getPositionOfIssueInPage(o)+1,source:"jira.issuenav.global"}),JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:t})}else require("jira/issues/navigator/metrics").notifyIssueView(),JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:t},{reset:!0})}}.bind(this))},cleanup:function(){var e="a.issue-link[data-issue-key]",s="a.filter-link[data-filter-id], a.filter-link[data-jql]",i=".push-state",t="#issues_new_search_link_lnk";AJS.$(e).off("simpleClick"),AJS.$(i).off("simpleClick"),AJS.$(s).off("simpleClick"),AJS.$(t).off("simpleClick")},registerSearchPageModule:function(e){this.searchPageModule=e}}}();
//# sourceMappingURL=enhanceIssueLinks-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/orderby.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.OrderBy&&(JIRA.Templates.OrderBy={}),JIRA.Templates.OrderBy.orderBy=function(e,s){return(e.sortBy&&e.sortBy.fieldId?'<a class="order-by '+("ASC"==e.sortBy.order?"ascending":"descending")+'" data-field-id="'+soy.$$escapeHtml(e.sortBy.fieldId)+'" data-direction="'+soy.$$escapeHtml(e.sortBy.order)+'" href="#" title="'+soy.$$escapeHtml(AJS.format("Order by {0}",e.sortBy.fieldName))+'"><span>'+soy.$$escapeHtml(AJS.format("Order by {0}",e.sortBy.fieldName))+'</span><span class="aui-icon aui-icon-small aui-iconfont-'+("ASC"==e.sortBy.order?"up":"down")+'"></span></a>':'<a class="order-by" title="'+soy.$$escapeHtml("Order by")+'"><span>'+soy.$$escapeHtml("Order by")+"</span></a>")+'<a class="order-options" title="'+soy.$$escapeHtml("Select the field that issues are ordered by.")+'">'+soy.$$escapeHtml("Select the field that issues are ordered by.")+"</a>"},JIRA.Templates.OrderBy.orderByOptions=function(e,s){for(var t='<select id="order-by-options" multiple="multiple" class="hidden"><optgroup data-footer-text="'+soy.$$escapeHtml(e.footer)+'">',o=e.options,n=o.length,r=0;r<n;r++){var a=o[r];t+='<option title="'+soy.$$escapeHtml(a.fieldName)+'" value="'+soy.$$escapeHtml(a.fieldId)+'" data-meta="'+soy.$$escapeHtml(a.meta)+'">'+soy.$$escapeHtml(a.fieldName)+"</option>"}return t+="</optgroup></select>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/OrderByModel.js' */
define("jira/components/orderby/orderbymodel",["require"],function(t){"use strict";var e=t("jira/components/libs/brace"),i=t("jquery"),r=t("wrm/context-path");return e.Model.extend({namedEvents:["sort"],namedAttributes:["sortBy","jql"],initialize:function(){this.on("change:jql",this.updateSelectedSort,this)},updateSelectedSort:function(){i.ajax({type:"POST",url:r()+"/rest/orderbycomponent/latest/orderByOptions/primary",data:JSON.stringify({jql:this.getJql()}),contentType:"application/json",success:function(t){this.setSortBy(t)}.bind(this)})},toggleSort:function(){this.setJql(this.getSortBy().toggleJql),this.triggerSort(this.getJql())},doSort:function(t){this.setJql(t),this.triggerSort(this.getJql())}})});
//# sourceMappingURL=OrderByModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/OrderByView.js' */
define("jira/components/orderby/orderbyview",["require"],function(e){"use strict";var r=e("jira/components/libs/brace"),t=e("jquery"),o=e("jira/util/events"),n=e("jira/components/orderby/eventtypes"),i=e("jira/components/orderby/templates"),d=e("jira/components/orderby/orderbydropdownview");return r.View.extend({template:i.orderBy,events:{"click a.order-by":"_onClickOrderBy","click a.order-options":"_toggleShowDropDown"},initialize:function(){this.model.on("change:sortBy",this.render,this)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},deactivate:function(){this.orderByDropDown&&this.orderByDropDown.deactivate(),this.undelegateEvents()},_onClickOrderBy:function(e){var r=new t.Event(n.ISSUE_TABLE_REORDER);if(o.trigger(r),!r.isDefaultPrevented()){var i=t(e.currentTarget).data("field-id");i&&this.model.toggleSort()}e.preventDefault()},_toggleShowDropDown:function(e){this.orderByDropDown||(this.orderByDropDown=new d({model:this.model,offsetTarget:this.$("a.order-by"),onHideCallback:function(){this.orderByDropDown=null}.bind(this)})),this.orderByDropDown.toggle(),e.preventDefault()}})});
//# sourceMappingURL=OrderByView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/OrderByDropDownView.js' */
define("jira/components/orderby/orderbydropdownview",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jira/components/libs/brace"),n=e("jquery"),r=e("jira/util/events"),o=e("jira/components/orderby/eventtypes"),s=e("jira/components/orderby/templates"),a=e("jira/ajs/layer/inline-layer"),d=e("jira/ajs/select/checkbox-multi-select"),l=e("jira/ajs/select/suggestions/select-suggest-handler"),u=e("jira/ajs/list/group-descriptor"),h=e("jira/ajs/list/item-descriptor"),c=e("jira/issues/baseview"),f=e("jira/issues/tipsy"),p=e("wrm/context-path");return i.View.extend({initialize:function(e){t.bindAll(this,"_onDropdownHidden","_onDropdownShown"),this.offsetTarget=e.offsetTarget,this._onHideCallback=e.onHideCallback,this._pending=null,this._inlineLayer=null},deactivate:function(){this._inlineLayer&&this._inlineLayer.hide(),c.prototype.deactivate.apply(this,arguments)},toggle:function(){this._inlineLayer?this._inlineLayer.hide():(this._pending=n.ajax(this._ajaxDefaults()),this._inlineLayer=this._createInlineLayer(this._pending),this._inlineLayer.bind(a.EVENTS.show,this._onDropdownShown),this._inlineLayer.bind(a.EVENTS.hide,this._onDropdownHidden),this._inlineLayer.show())},_createInlineLayer:function(e){var t=function(e){return this._deferredAddTipsyToFooter(e),this._renderInitialContent(e)}.bind(this),i=new a({offsetTarget:this.offsetTarget,content:function(){return e.pipe(t)},width:218});return this._onHideCallback&&i.bind(a.EVENTS.hide,this._onHideCallback),i},_initSingleSelect:function(e){var i=e.find("select");i.bind("selected",this._onFieldSelected.bind(this)),this.selectControl=new d({element:i,itemAttrDisplayed:"label",suggestionsHandler:l,ajaxOptions:this._ajaxDefaults({data:function(e){return JSON.stringify(this._ajaxOptionsData(e))}.bind(this),query:!0,minQueryLength:0,formatResponse:function(e){this._removeTipsy();var i=new u;t.each(e.fields,function(e){i.addItem(new h({title:e.fieldName,value:e.fieldId,label:e.fieldName,meta:{sortJql:e.sortJql}}))});var n=this._getFooterText(e);return n&&(i.footerText(n),this._deferredAddTipsyToFooter(e)),[i]}.bind(this)})});var n=e.find("#order-by-options-input");n.focus()},_ajaxDefaults:function(e){var i={url:p()+"/rest/orderbycomponent/latest/orderByOptions",type:"POST",contentType:"application/json",data:JSON.stringify(this._ajaxOptionsData())};return t.extend(i,e)},_ajaxOptionsData:function(e){var t=this.model.getJql(),i=this.model.getSortBy();return{query:e,jql:t?t:void 0,sortBy:i?i.fieldId:void 0}},_renderInitialContent:function(e){var i=t.map(e.fields,function(e){return t.extend({},e,{meta:JSON.stringify({sortJql:e.sortJql})})});return n("<div></div>").addClass("order-dropdown").html(s.orderByOptions({options:i,footer:this._getFooterText(e)}))},_onDropdownShown:function(e,t){this._initSingleSelect(t)},_onDropdownHidden:function(){this._removeTipsy(),n("div.order-dropdown").remove(),this._inlineLayer=null},_onFieldSelected:function(e,i){var s=new n.Event(o.ISSUE_TABLE_REORDER);r.trigger(s),s.isDefaultPrevented()||t.defer(function(){this.selectControl.outstandingRequest&&this.selectControl.outstandingRequest.reject(),a.current.hide();var e=i.meta();this.model.doSort(e.sortJql)}.bind(this))},_getFooterText:function(e){if("number"==typeof e.matchesCount&&"number"==typeof e.maxResults){var t=e.matchesCount-e.maxResults;if(t>0)return AJS.format("{0} more fields...",t)}return""},_deferredAddTipsyToFooter:function(e){if(this._inlineLayer){var i=e.matchesCount,n=Math.min(e.matchesCount,e.maxResults),r=AJS.format("Showing {0} of {1} matching fields. Find more fields by typing in the search box.",n,i),o=this;t.defer(function(){o._tipsyTrigger=new f({el:o._inlineLayer.$layer.find(".aui-list-section-footer"),tipsy:{title:function(){return r},className:"tipsy-front"}})})}},_removeTipsy:function(){this._tipsyTrigger&&(this._tipsyTrigger.hide(),this._tipsyTrigger=null)}})});
//# sourceMappingURL=OrderByDropDownView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/OrderBy.js' */
define("jira/components/orderby",["require"],function(r){"use strict";var t=r("jira/components/orderby/orderbyview"),e=r("jira/components/orderby/orderbymodel");return{create:function(r){var n,o;return r=r||{},n=new e({sortBy:r.sortBy,jql:r.jql}),o=new t({model:n}),{onSort:function(){return n.onSort.apply(n,arguments),this},offSort:function(r){return n.off("sort",r),this},render:function(){return o.render(),this},setElement:function(r){return o.setElement(r),this},setJql:function(r){return n.setJql(r),this},setSortBy:function(r){return n.setSortBy(r),this}}}}});
//# sourceMappingURL=OrderBy-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/eventtypes.js' */
define("jira/components/orderby/eventtypes",[],function(){"use strict";return{ISSUE_TABLE_REORDER:"issueTableReorder"}});
//# sourceMappingURL=eventtypes-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/amd-wrapper.js' */
define("jira/components/orderby/templates",function(){"use strict";return JIRA.Templates.OrderBy}),AJS.namespace("JIRA.Templates.OrderBy",null,require("jira/components/orderby/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'jira-issue-navigator-components-module/orderby/namespace.js' */
AJS.namespace("JIRA.Components.OrderBy",null,require("jira/components/orderby")),AJS.namespace("JIRA.Issues.OrderByDropDownView",null,require("jira/components/orderby/orderbydropdownview")),AJS.namespace("JIRA.Issues.OrderByView",null,require("jira/components/orderby/orderbyview")),AJS.namespace("JIRA.Issues.OrderByModel",null,require("jira/components/orderby/orderbymodel"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/jql-autocomplete.js' */
define("jira/autocomplete/jql-autocomplete",["jira/util/formatter","jira/autocomplete/autocomplete","jira/jql/jql-grammar","jira/jql/util","jira/jql/operator-util","jira/util/data/meta","jira/util/objects","jquery","underscore","jira/featureflags/feature-manager","wrm/context-path"],function(e,t,r,a,s,n,i,l,o,d){var g=function(n){var o,g=i.begetObject(t),u=n.parser,p=l.grep(n.jqlFieldNames,function(e){return e.searchable}),c=l.grep(n.jqlFieldNames,function(e){return e.orderable}),f=n.jqlFunctionNames,m=l("#"+n.errorID),h=0,v=l("#jqlcolumnnum"),O=l("#jqlrownum"),S=n.autoCompleteUrl||contextPath+"/rest/api/2/jql/autocompletedata/suggestions";g.textToSuggestionCursorPosition=function(){return g.field.selectionRange().textBefore},g.pushSuggestionsOnHtmlStack=function(e,t,r,s,n,i){for(var l=Math.min(15,e.length),d=0;d<l;d++){var g,u;if(e[d].value){var p=e[d];g=o&&n?(o.getNeedsOpenParen()?"(":"")+p.value:p.value,u=p.displayName}else u=e[d],g=u;t.push(g);var c=u.replace(/<b>/g,"").replace(/<\/b>/g,"");if(i&&a.isCollapsedField(g)){var f=a.extractFieldTypeInformation(g);null===f?L(r,s,d,u,c):y(r,s,d,u,g,f)}else L(r,s,d,u,c)}};var L=function(e,t,r,a,s){e.push('<li id="',t,r,'" title="',s,'">',a,"</li>")},y=function(e,t,r,a,s,n){var i=a.replace(" - "+s.replace(/(^")|("$)/g,""),""),l=i.replace(/<\/?b>/g,""),o="";if("string"==typeof n.name){var d="string"==typeof n.icon?'<img src="'+n.icon+'" alt="'+n.name+'">':"";o='<span class="custom-field-type">'+d+n.name+"</span>",l+=" ["+n.name+"]"}e.push('<li id="',t,r,'" title="',l,'">',i,o,"</li>")};return g.renderSuggestions=function(t,r,a,s){var n=[];if(t instanceof Array){if(t.length<1&&r&&r.length<1&&a&&a.length<1)return n;var i=["<ul>"];a&&a.length>0&&g.pushSuggestionsOnHtmlStack(a,n,i,"jql_operator_suggest_",!1,!1),g.pushSuggestionsOnHtmlStack(t,n,i,"jql_value_suggest_",!0,s),r&&r.length>0&&g.pushSuggestionsOnHtmlStack(r,n,i,"jql_function_suggest_",!1,!1),i.push("</ul>");var o=l('<a class="syntax-help" target="_jiraHelp"></a>').attr("title","query_filter.advanced_search.title").attr("href","https://confluence.atlassian.com/display/SERVICEDESKCLOUD/Advanced+searching").text("Syntax Help"),d=l('<div class="syntax-help-container">').append(o);g.responseContainer.html(i.join("")).append(d).find("li").each(function(e){var t=l(this);n[e]=[t,n[e]],t.tooltip({gravity:"w"})}),g.addSuggestionControls(n)}return n},g.completeField=function(e){var t,r=g.getReplacementStartIndex(o,e),a=g.getReplacementEndIndex(o,r);t=g.isAutoSelectFirstEnabled()?o.isInsideList()?e:e+" ":e,g.replaceValue(r,a,t);var s=u.parse(g.field.val());g.updateParseIndicator(s)},g.findFieldNameForSuggestions=function(e){for(var t=0;t<p.length;t++){var r=p[t];if(a.equalsIgnoreCase(a.getUnquotedString(r.value),e)){if(r.cfid)return r.cfid;break}}return a.stripEscapeCharacters(e)},g.prepareOperandSuggestions=function(e,t,r,n,i){if(e){var l=h,d=null==i?null===o.getLastOperand()?"":a.stripEscapeCharacters(o.getLastOperand()):i,u=t+":"+d,p={fieldName:g.findFieldNameForSuggestions(t)};null===o.getLastOperand()&&null===i||(p.fieldValue=d);var c=s.isWasOperator(o.getLastOperator());g.getSavedResponse(u)?g.renderSuggestionsForOperands(d,g.getSavedResponse(u),r,n,l):(g.dropdownController.dropdown.removeClass("dropdown-ready"),g.delay(function(){g._makeRequest({url:S,dataType:"json",data:p,success:function(e){var t;if(t=null!==e&&null!==e.results?e.results:[],c){var a=p.fieldValue;t=g.appendEmpty(a,t)}g.saveResponse(u,t),g.renderSuggestionsForOperands(d,t,r,n,l)},error:function(){g.renderSuggestionsForOperands(d,[],r,n,l)}})},g.queryDelay))}else g.renderSuggestionsForOperands(a.stripEscapeCharacters(o.getLastOperand()),[],r,n,h)},g.preparePredicateSuggestions=function(e,t){"undefined"==typeof t&&(t=null);var r=g.slimListForPredicates(t,f,e);g.boldMatchingString(t,r);var s=null==t?null===o.getLastOperand()?"":a.stripEscapeCharacters(o.getLastOperand()):t,n=e+":"+s,i={predicateName:a.stripEscapeCharacters(e)};null===o.getLastOperand()&&null===t||(i.predicateValue=s),null!==o.getLastFieldName()&&(i.fieldName=g.findFieldNameForSuggestions(o.getLastFieldName()),n=o.getLastFieldName()+":"+n),g.predicateSupportsAutoComplete(e)?g.getSavedResponse(n)?g.renderSuggestions(g.getSavedResponse(n),r):(g.dropdownController.dropdown.removeClass("dropdown-ready"),g.delay(function(){g._makeRequest({url:S,dataType:"json",data:i,success:function(e){var t;t=null!==e&&null!==e.results?e.results:[];var a=i.predicateValue;t=g.appendEmpty(a,t),g.saveResponse(n,t),g.renderSuggestions(t,r)},error:function(){g.renderSuggestionsForOperands(s,[])}})},g.queryDelay)):g.renderSuggestions([],r)},g.incompleteOperator=function(){var e=o.getTokens();return null==e||e.length<2?"":(e=g.textToSuggestionCursorPosition().split(" "),e.length>2?e[e.length-1]:"")},g.incompletePredicateValue=function(){var e=o.getTokens();return null==e||e.length<3?"":(e=g.textToSuggestionCursorPosition().split(/[\s(,]+/),e.length>3?e[e.length-1]:"")},g.appendEmpty=function(e,t){var a=g.slimListForMapResults(e,r.empty_operand,!0);return null!=e&&g.boldMatchingString(e,a),t.length<15?t=t.concat(a):t[14]=a[0],t},g.dispatcher=function(e){var t,n,i=l(g.field).selectionRange(),d=e.substring(0,i.start),m=u.parse(d);if(o=m.getResult(),h++,o.getNeedsField())g.renderSuggestionsFromMap(a.stripEscapeCharacters(o.getLastFieldName()),p,r.jql_not_logical_operator,!1,!0);else if(o.getNeedsOperatorOrOperand()){n=s.isEmptyOnlyOperator(o.getLastOperator())?r.empty_operand:f,m.calcLastOperandStartIndex();var v=m.getParsedOperator(),O=g.getSuggestionsForOperators(v,r.jql_operators);if(O&&O.length>0){var S=g.incompleteOperator();g.prepareOperandSuggestions(!0,o.getLastFieldName(),n,O,S)}}else if(o.getNeedsOperator())g.renderSuggestionsForOperators(o.getLastOperator(),r.jql_operators);else if(o.getNeedsPredicateOperand()){var L=o.getLastWasPredicate();g.preparePredicateSuggestions(L,a.stripEscapeCharacters(o.getLastOperand()))}else if(o.getNeedsLogicalOperator())o.getNeedsWasPredicate()?o.getNeedsOrderBy()?(t=null===o.getLastOrderBy()?o.getLastWasPredicate():o.getLastOrderBy(),"was"===o.getLastOperator()?g.renderSuggestionsFromMap(t,r.jql_was_predicates_and_order_by,!1):g.renderSuggestionsFromMap(t,r.jql_changed_predicates_and_order_by,!1)):"was"===o.getLastOperator()?g.renderSuggestionsFromMap(o.getLastWasPredicate(),r.jql_was_predicates_and_logical_operators,!1):g.renderSuggestionsFromMap(o.getLastWasPredicate(),r.jql_changed_predicates_and_logical_operators,!1):o.getNeedsOrderBy()?(t=null===o.getLastOrderBy()?o.getLastLogicalOperator():o.getLastOrderBy(),g.renderSuggestionsFromMap(t,r.jql_logical_operators_and_order_by,!1)):g.renderSuggestionsFromMap(o.getLastLogicalOperator(),r.jql_logical_operators,!1);else if(o.getNeedsOrderByField())g.renderSuggestionsFromMap(a.stripEscapeCharacters(o.getLastOrderByFieldName()),c,!0,!1,!0);else if(o.getNeedsOrderByDirection())g.renderSuggestionsFromMap(o.getLastOrderByDirection(),r.jql_order_by_direction,!1);else if(o.getNeedsOperand()){var y=o.getLastFieldName(),_=!1;if(!s.isEmptyOnlyOperator(o.getLastOperator()))for(var q=0;q<p.length;q++)if(a.equalsIgnoreCase(a.getUnquotedString(p[q].value),y)||p[q].cfid&&a.equalsIgnoreCase(p[q].cfid,y)){_=p[q].auto;break}n=s.isEmptyOnlyOperator(o.getLastOperator())?r.empty_operand:f,g.prepareOperandSuggestions(_,y,n,{})}else o.getNeedsOrderBy()?g.renderSuggestionsFromMap(o.getLastOrderBy(),r.jql_logical_operators_and_order_by,!1):g.dropdownController.hideDropdown();g.parse(e)},g.parse=function(e){var t=u.parse(e);return g.updateParseIndicator(t),g.updateColumnLineCount(),t.getResult()},g.renderSuggestionsFromMap=function(e,t,r,a,s){r||(r={});var n=g.slimListForMapResults(e,t,a),i=g.slimListForMapResults(e,r,a);g.boldMatchingString(e,i),g.boldMatchingString(e,n),g.renderSuggestions(n,i,[],s),0===n.length&&0===i.length&&g.dropdownController.hideDropdown()},g.getSuggestionsForOperators=function(e,t){for(var r,s=g.slimListForMapResults(e,t,!1),n=o.getLastFieldName(),i=0;i<p.length;i++)if(a.equalsIgnoreCase(a.getUnquotedString(p[i].value),n)||p[i].cfid&&a.equalsIgnoreCase(p[i].cfid,n)){r=p[i].operators;break}return r&&(s=l.grep(s,function(e){return l.inArray(e.value,r)>-1})),g.boldMatchingString(e,s),s},g.renderSuggestionsForOperators=function(e,t){var r=g.getSuggestionsForOperators(e,t);g.renderSuggestions(r),0===r.length&&g.dropdownController.hideDropdown()},g.renderSuggestionsForOperands=function(e,t,r,a,s){if(s===h){var n=g.slimListForFunctionResults(e,r,o.getLastOperator());g.boldMatchingString(e,n),g.renderSuggestions(t,n,a,!1),0===t.length&&0===n.length&&0===a.length&&g.dropdownController.hideDropdown()}},g.boldMatchingString=function(e,t){if(null!=e&&0!==t.length){for(var r=e.length,a=0,s=r;a<s;a++)switch(e.charAt(a)){case"<":case">":r+=3;break;case"&":r+=4;break;case'"':r+=5}for(var n=0;n<t.length;n++)if(t[n].displayName){var i=t[n].displayName;t[n]={value:t[n].value,displayName:"<b>"+i.substring(0,r)+"</b>"+i.substring(r)}}else t[n]={value:t[n],displayName:"<b>"+t[n].substring(0,r)+"</b>"+t[n].substring(r)}}},g.getReplacementStartIndex=function(e,t){var r,a=l(g.field);return r=e.getNeedsField()?e.getLastFieldNameStartIndex():e.getNeedsOperatorOrOperand()?e.getNeedsOperator()&&s.isWasOperator(t)?e.getLastOperatorStartIndex():e.getLastOperandStartIndex():e.getNeedsOperand()?e.getLastOperandStartIndex():e.getNeedsOperator()?e.getLastOperatorStartIndex():e.getNeedsOrderByField()?e.getLastOrderByFieldNameStartIndex():e.getNeedsOrderByDirection()?e.getLastOrderByDirectionStartIndex():e.getNeedsPredicateOperand()?e.getLastOperandStartIndex():e.getNeedsLogicalOperator()?null!==e.getLastLogicalOperatorStartIndex()&&0!==e.getLastLogicalOperatorStartIndex()?e.getLastLogicalOperatorStartIndex():null!==e.getLastOrderBy()&&0!==e.getLastOrderByStartIndex()?e.getLastOrderByStartIndex():null!=e.getLastWasPredicate()&&0!==e.getLastWasPredicateStartIndex()?e.getLastWasPredicateStartIndex():e.getMustBeOperatorOrPredicate()===!0?a.selectionRange().start:a.selectionRange().start-1:e.getNeedsWasPredicate()?e.getLastWasPredicateStartIndex():e.getNeedsOrderBy()?e.getLastOrderByStartIndex():a.selectionRange().start-1,null!=r?r:a.selectionRange().start},g.getReplacementEndIndex=function(e,t){var a=l(g.field),s=a.selectionRange(),n=null;if(s.start===s.end&&s.end!==g.field.val().length&&t<s.start){var i=e.getTokens().length-1,o=u.parse(g.field.val());if(!o.getParseError()){var d=o.getResult().getTokens()[i];if(null!==d&&"("!==d&&")"!==d){for(var p=g.field.val(),c=p.substring(t,p.length),f=c.split(""),m=0,h=0;h<f.length&&r.REGEXP_WHITESPACE.test(f[h]);h++)m++;n=t+d.length+m}}}return null===n&&(n=s.end),n<t&&(g.replaceValue(t,n," "),n=t),n},g.replaceValue=function(e,t,r){var a=l(g.field);a.selectionRange(e,t),l.browser.webkit&&!g.field.forceSelection?document.execCommand("insertText",!1,r):g.field.forceSelection&&g.field.selection?g.field.selection(r):a.selection(r);var s=a.selectionRange().end;a.selectionRange(s,s)},g.slimListForMapResults=function(e,t,r){var s=a.htmlEscape(e),n=l.grep(t,function(e){return a.startsWithIgnoreCaseNullsMeanAll(s,e.displayName)});return r||1!==n.length||a.startsWithNotEqualsIgnoreCaseNullMeansAll(s,n[0].displayName)?n:{}},g.slimListForFunctionResults=function(e,t,r){for(var n,i=o.getLastFieldName(),d=0;d<p.length;d++)if(a.equalsIgnoreCase(a.getUnquotedString(p[d].value),i)||p[d].cfid&&a.equalsIgnoreCase(p[d].cfid,i)){n=p[d].types;break}var g=l.grep(t,function(t){if(t.isList&&!s.isListSupportingOperator(r)||!t.isList&&s.isListSupportingOperator(r))return!1;if(!n)return!1;for(var i=l.inArray("java.lang.Object",t.types)>-1||l.inArray("java.lang.Object",n)>-1,o=0;o<n.length&&!i;o++)i=l.inArray(n[o],t.types)!==-1;return!!i&&(a.startsWithIgnoreCaseNullsMeanAll(e,t.value)||a.startsWithIgnoreCaseNullsMeanAll(e,t.displayName))});return 1!==g.length||a.startsWithNotEqualsIgnoreCaseNullMeansAll(e,g[0].displayName)?g:{}},g.slimListForPredicates=function(e,t,s){for(var n,i,o=0;o<r.jql_changed_predicates.length;o++)if(a.equalsIgnoreCase(a.getUnquotedString(r.jql_changed_predicates[o].value),s)){n=r.jql_changed_predicates[o].type,i=r.jql_changed_predicates[o].supportsList;break}var d=l.grep(t,function(t){if("undefined"!=typeof t.isList&&(t.isList&&i||!t.isList&&i))return!1;var r=l.inArray(n,t.types)!==-1;return!!r&&(a.startsWithIgnoreCaseNullsMeanAll(e,t.value)||a.startsWithIgnoreCaseNullsMeanAll(e,t.displayName))});return 1!==d.length||a.startsWithNotEqualsIgnoreCaseNullMeansAll(e,d[0].displayName)?d:{}},g.predicateSupportsAutoComplete=function(e){for(var t,s=0;s<r.jql_changed_predicates.length;s++)if(a.equalsIgnoreCase(a.getUnquotedString(r.jql_changed_predicates[s].value),e)){t=r.jql_changed_predicates[s].auto;break}return t},g.getSavedResponse=function(e){return this.requested||(this.requested={}),this.requested[e]},g.saveResponse=function(e,t){"string"==typeof e&&"object"==typeof t&&(this.requested||(this.requested={}),this.requested[e]=t)},g.startsWithIgnoreCase=function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},g.updateParseIndicator=function(e){e.getParseError()?m.attr("title",e.getResult().getParseErrorMsg()).removeClass("jqlgood").addClass("jqlerror"):m.attr("title","").removeClass("jqlerror").addClass("jqlgood")},g.updateColumnLineCount=function(){var e=l(g.field),t=0;if(g.field[0]===document.activeElement){var a=e.selectionRange();t=a.start}else t=g.field[0].value.length;for(var s=1,n=1,i=g.field.val(),o=0;o<t;o++)r.REGEXP_NEW_LINE.test(i.charAt(o))?(s++,n=1):n++;v.text(n),O.text(s)},g.isAutoSelectFirstEnabled=function(){return d.isFeatureEnabled("jira.jql.autoselectfirst")},g.init(n),g};return g});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-grammar.js' */
define("jira/jql/jql-grammar",function(){"use strict";var a={};return a.jql_order_by=[{value:"ORDER BY",displayName:"ORDER BY"}],a.jql_operators=[{value:"=",displayName:"="},{value:"!=",displayName:"!="},{value:"~",displayName:"~"},{value:"<=",displayName:"&lt;="},{value:">=",displayName:"&gt;="},{value:">",displayName:"&gt;"},{value:"<",displayName:"&lt;"},{value:"!~",displayName:"!~"},{value:"is not",displayName:"is not"},{value:"is",displayName:"is"},{value:"not in",displayName:"not in"},{value:"in",displayName:"in"},{value:"was",displayName:"was"},{value:"was not",displayName:"was not"},{value:"was in",displayName:"was in"},{value:"was not in",displayName:"was not in"},{value:"changed",displayName:"changed"}],a.jql_logical_operators=[{value:"AND",displayName:"AND"},{value:"OR",displayName:"OR"}],a.jql_logical_operators_and_order_by=a.jql_logical_operators.concat(a.jql_order_by),a.jql_order_by_direction=[{value:"ASC",displayName:"ASC"},{value:"DESC",displayName:"DESC"}],a.empty_operand=[{value:"EMPTY",displayName:"EMPTY",types:["java.lang.Object"]}],a.jql_not_logical_operator=[{value:"NOT",displayName:"NOT"}],a.jql_was_predicates=[{value:"AFTER",displayName:"AFTER",type:"java.util.Date",supportsList:"false"},{value:"BEFORE",displayName:"BEFORE",type:"java.util.Date",supportsList:"false"},{value:"BY",displayName:"BY",type:"com.atlassian.crowd.embedded.api.User",supportsList:"false",auto:"true"},{value:"DURING",displayName:"DURING",type:"java.util.Date",supportsList:"true"},{value:"ON",displayName:"ON",type:"java.util.Date",supportsList:"false"}],a.jql_changed_predicates=a.jql_was_predicates.concat([{value:"FROM",displayName:"FROM",type:"java.lang.String",supportsList:"true",auto:"true"},{value:"TO",displayName:"TO",type:"java.lang.String",supportsList:"true",auto:"true"}]),a.jql_was_predicates_and_order_by=a.jql_was_predicates.concat(a.jql_logical_operators_and_order_by),a.jql_was_predicates_and_logical_operators=a.jql_was_predicates.concat(a.jql_logical_operators),a.jql_changed_predicates_and_order_by=a.jql_changed_predicates.concat(a.jql_logical_operators_and_order_by),a.jql_changed_predicates_and_logical_operators=a.jql_changed_predicates.concat(a.jql_logical_operators),a.REGEXP_ANDS=/^AND\s/i,a.REGEXP_ORS=/^OR\s/i,a.REGEXP_NOTS=/^NOT\s/i,a.REGEXP_SNOT=/^\s+not/i,a.REGEXP_SIN=/^\s+in/i,a.REGEXP_SNOT_IN=/^\s+(not\s+in|not|in)/i,a.REGEXP_COMMA_DELIMITER=/^\s*,/,a.REGEXP_ASCENDING=/^\s+asc/i,a.REGEXP_DESCENDING=/^\s+desc/i,a.REGEXP_ORDER_BY=/^order\s+by/i,a.REGEXP_WHITESPACE=/^\s/,a.REGEXP_UNICODE=/^u[a-fA-F0-9]{4}/,a.REGEXP_FIELD_NAME=/^\s-\scf\[\d\d\d\d\d\]/,a.REGEXP_NEW_LINE=/[\r\n]/,a.REGEXP_NUMBER=/\d/,a.REGEXP_TOKEN_CHAR=/[^=!~<>(),\s&|\]]/,a.REGEXP_SPECIAL_CHAR=/[{}*\/%+$#@?;\][]/,a.REGEXP_SPACE_OR_ELSE=/[\s(]/,a.REGEXP_CHARS_TO_ESCAPE=/[^trn"'\\\s]/,a.REGEXP_NOTSTART=/^NO?$/i,a.REGEXP_INSTART=/^IN?$/i,a.REGEXP_PREDICATE=/^(after|before|by|during|from|on|to)/i,a.REGEXP_GROUPED_CUSTOM_FIELD=/^[^\[\]\s.'"]+\[[\w\s]+]/,a});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-parse-result.js' */
define("jira/jql/jql-parse-result",["jira/jql/util"],function(e){"use strict";return function(){var t=[],r=[],n=0;return{getTokens:function(){return r},getRichTokens:function(){return t},addToken:function(e){r[n]=e,t[n]={value:e,kind:"unknown"},n++},setLastFieldName:function(s,i){this.fieldNameStartIndex=null===s?i.getMaxTokenStringIdx():i.getTokenStringIdx()-s.length,this.lastFieldName=e.getUnquotedString(s),r[n]=s,t[n]={value:s,kind:"fieldName",startIndex:this.fieldNameStartIndex},n++},getLastFieldName:function(){return this.lastFieldName},getLastFieldNameStartIndex:function(){return this.fieldNameStartIndex},setLastOrderByFieldName:function(s,i){this.orderByFieldNameStartIndex=null===s?i.getMaxTokenStringIdx():i.getTokenStringIdx()-s.length,this.lastOrderByFieldName=e.getUnquotedString(s),this.lastOrderByDirection=null,r[n]=s,t[n]={value:s,kind:"orderByFieldName",startIndex:this.orderByFieldNameStartIndex},n++},getLastOrderByFieldName:function(){return this.lastOrderByFieldName},getLastOrderByFieldNameStartIndex:function(){return this.orderByFieldNameStartIndex},setLastOrderByDirection:function(e,s){this.orderByDirectionStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length,this.lastOrderByDirection=e,r[n]=e,t[n]={value:this.lastOrderByDirection,kind:"orderByDirection",startIndex:this.orderByDirectionStartIndex},n++},getLastOrderByDirection:function(){return this.lastOrderByDirection},getLastOrderByDirectionStartIndex:function(){return this.orderByDirectionStartIndex},setNeedsField:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!0,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1,this.needsWasPredicate=!1,this.lastWasOperator=null},getNeedsField:function(){return this.needsField},setNeedsOrderByField:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!0,this.needsOrderByDirection=!1,this.lastOrderByDirection=null,this.needsListComma=!1},getNeedsOrderByField:function(){return this.needsOrderByField},setNeedsOrderByDirection:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!0,this.needsListComma=!1},getNeedsOrderByDirection:function(){return this.needsOrderByDirection},setNeedsOrderByComma:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},setNeedsListComma:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!0},getNeedsListComma:function(){return this.needsListComma},setLastOperator:function(e,s){this.lastOperator=e,this.operatorStartIndex=s,r[n]=e,t[n]={value:this.lastOperator,kind:"operator",startIndex:this.operatorStartIndex},n++},setLastWasOperator:function(e){this.lastWasOperator=e},getLastWasOperator:function(){return this.lastWasOperator},getLastOperator:function(){return this.lastOperator},getLastOperatorStartIndex:function(){return this.operatorStartIndex},setLastOperand:function(s,i){this.operandStartIndex=null===s?i.getMaxTokenStringIdx():i.getTokenStringIdx()-s.length,this.lastOperand=e.getUnquotedString(s),r[n]=s,t[n]={value:s,kind:"operand",startIndex:this.operandStartIndex},n++},getLastOperand:function(){return this.lastOperand},setNeedsOperand:function(){this.needsField=!1,this.needsOperator=!1,this.needsLogicalOperator=!1,this.needsOperand=!0,this.needsOrderBy=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},setNeedsOperandOrOperator:function(){this.needsField=!1,this.needsOperator=!0,this.needsLogicalOperator=!1,this.needsOperand=!0,this.needsOrderBy=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},getNeedsOperand:function(){return this.needsOperand},setNeedsPredicateOperand:function(){this.needsPredicateOperand=!0},resetNeedsPredicateOperand:function(){this.needsPredicateOperand=!1,this.needsOperand=!1},getNeedsPredicateOperand:function(){return this.needsPredicateOperand},getLastOperandStartIndex:function(){return this.operandStartIndex},setLastOperandStartIndex:function(e){this.operandStartIndex=e,this.richTokens[n].startIndex=e},setLastLogicalOperator:function(e,s){this.lastLogicalOperator=e,this.logicalOperatorStartIndex=s,r[n]=e,t[n]={value:this.lastLogicalOperator,kind:"logicalOperator",startIndex:this.logicalOperatorStartIndex},n++},setNeedsOperator:function(){this.needsField=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsOperator=!0,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},getNeedsOperatorOrOperand:function(){return this.needsOperator&&this.needsOperand},getNeedsOperator:function(){return this.needsOperator},getLastLogicalOperator:function(){return this.lastLogicalOperator},getLastLogicalOperatorStartIndex:function(){return this.logicalOperatorStartIndex},setNeedsLogicalOperator:function(e){this.needsLogicalOperator=!0,this.needsOperator=!1,this.needsOperand=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1,this.needsOrderBy=!e.getInParens(),null!=this.lastWasOperator&&(this.needsWasPredicate=!0)},setNeedsOpenParen:function(e){this.needsOpenParen=e},getNeedsOpenParen:function(){return this.needsOpenParen},getNeedsLogicalOperator:function(){return this.needsLogicalOperator},setNeedsOrderBy:function(e){this.needsOrderBy=e},getNeedsOrderBy:function(){return this.needsOrderBy},getNeedsWasPredicate:function(){return this.needsWasPredicate},setLastWasPredicate:function(e,t){this.wasPredicateStartIndex=null===e?t.getMaxTokenStringIdx():t.getTokenStringIdx()-e.length,this.lastWasPredicate=e,r[n]=e,n++},getLastWasPredicate:function(){return this.lastWasPredicate},resetLastPredicates:function(){this.lastLogicalOperator=null,this.lastWasPredicate=null,this.lastOperand=null,this.wasPredicateStartIndex=null,this.operandStartIndex=null},getLastWasPredicateStartIndex:function(){return this.wasPredicateStartIndex},setLastOrderBy:function(e,s){this.orderByStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length,this.lastOrderBy=e,r[n]=e,t[n]={value:this.lastOrderBy,kind:"orderBy",startIndex:this.orderByStartIndex},n++},getLastOrderBy:function(){return this.lastOrderBy},getLastOrderByStartIndex:function(){return this.orderByStartIndex},resetLogicalOperators:function(){this.lastLogicalOperator=null,this.logicalOperatorStartIndex=null,this.needsLogicalOperator=null},setParseError:function(e){this.parseError=!0,this.parseErrorMsg=e},getParseError:function(){return this.parseError},getParseErrorMsg:function(){return this.parseErrorMsg},setNeedsNothing:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsOpenParen=!1,this.needsListComma=!1,this.needsWasPredicate=null,this.needsPredicateOperand=null,this.mustBeOperatorOrPredicate=null,this.lastWasOperator=null},setOperandComplete:function(){this.operandComplete=!0},getOperandComplete:function(){return this.operandComplete},setInsideList:function(e){this.insideList=e},isInsideList:function(){return this.insideList},setMustBeOperatorOrPredicate:function(e){this.mustBeOperatorOrPredicate=e},getMustBeOperatorOrPredicate:function(){return this.mustBeOperatorOrPredicate},resetTerminalClause:function(){this.lastFieldName=null,this.fieldNameStartIndex=null,this.needsField=null,this.lastOperator=null,this.operatorStartIndex=null,this.needsOperator=null,this.lastOperand=null,this.operandStartIndex=null,this.needsOperand=null,this.operandComplete=null,this.needsOpenParen=null,this.needsListComma=!1,this.mustBeOperatorOrPredicate=null},init:function(){this.lastFieldName=null,this.fieldNameStartIndex=null,this.needsField=null,this.lastOperator=null,this.operatorStartIndex=null,this.needsOperator=null,this.lastOperand=null,this.operandStartIndex=null,this.needsOperand=null,this.lastLogicalOperator=null,this.logicalOperatorStartIndex=null,this.lastOrderByFieldName=null,this.lastOrderByFieldNameStartIndex=null,this.lastOrderByDirection=null,this.lastOrderByDirectionStartIndex=null,this.orderByStartIndex=null,this.lastOrderBy=null,this.needsOrderBy=null,this.needsOrderByField=null,this.needsOrderByDirection=null,this.operandComplete=null,this.needsOpenParen=null,this.needsListComma=null,this.wasPredicateStartIndex=null,this.lastWasPredicate=null,this.needsWasPredicate=null,this.needsPredicateOperand=null,this.mustBeOperatorOrPredicate=null,this.lastWasOperator=null,this.insideList=null}}}});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-parse-token.js' */
define("jira/jql/jql-parse-token",["jira/jql/jql-parse-result"],function(t){"use strict";return function(){return{init:function(n){this.tokenStringIdx=0,this.tokenString=n,this.parseError=!1,this.parseErrorMsg=null,this.result=t(),this.result.init(),this.inParens=0,this.inListParens=0},consumeCharacter:function(){this.tokenStringIdx++},consumeCharacters:function(t){this.tokenStringIdx=this.tokenStringIdx+t},backTrackToIdx:function(t){this.tokenStringIdx=t,this.parseError=!1,this.parseErrorMsg=null,this.result.parseError=!1,this.result.parseErrorMsg=null},getTokenStringIdx:function(){return this.tokenStringIdx},currentCharacter:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.charAt(this.tokenStringIdx)},remainingString:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.substr(this.tokenStringIdx,this.tokenString.length)},getMaxTokenStringIdx:function(){return this.tokenString.length},isComplete:function(){return!!this.parseError||this.tokenStringIdx>=this.tokenString.length},setInParens:function(){this.inParens++},setOutOfParens:function(){0!==this.inParens&&this.inParens--},getInParens:function(){return 0!==this.inParens},setInListParens:function(){this.inListParens++},setOutOfListParens:function(){this.inListParens>0&&this.inListParens--},getInListParens:function(){return this.inListParens>0},setParseError:function(){this.parseError=!0;var t=this.tokenStringIdx-9<0?0:this.tokenStringIdx-9,n=this.tokenString.substring(t,this.tokenStringIdx-1);this.result.setParseError("..."+n+"^"+this.tokenString.substring(this.tokenStringIdx,this.tokenString.length))},getParseError:function(){return this.parseError},calcLastOperandStartIndex:function(){var t=this.getResult(),n=t.getLastOperator();if(n.length>0){var r=n.length-n.replace(/\s+/g,"").length;t.setLastOperandStartIndex(t.getLastOperatorStartIndex()+n.length+r+1)}},getParsedOperator:function(){var t=this.getResult();return t.getLastOperator().length>0?this.tokenString.substr(t.getLastOperatorStartIndex()):null},getResult:function(){return this.result}}}});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-parser.js' */
define("jira/jql/jql-parser",["jira/jql/jql-grammar","jira/jql/jql-parse-token","jira/jql/operator-util","jquery","jira/jql/util"],function(e,t,r,s,a){return function(i){var n=i;return{parse:function(e){var r=t();return r.init(e),this.jql(r),r},orderByClause:function(t){var r=t.remainingString(),s=r.match(e.REGEXP_ORDER_BY);if(s){var a=r.substring(0,s[0].length);t.consumeCharacters(a.length),t.getResult().setLastOrderBy(a,t),t.isComplete()?(t.getResult().resetLogicalOperators(),t.setParseError()):(r=t.remainingString(),e.REGEXP_WHITESPACE.test(r)?(this.chewWhitespace(t),this.orderByFields(t)):(t.getResult().resetLogicalOperators(),t.setParseError()))}else t.consumeCharacters(r.length),t.getResult().setLastOrderBy(r,t),t.setParseError()},orderByFields:function(e){if(this.orderByField(e),this.chewWhitespace(e),e.isComplete())e.getResult().getNeedsOrderByField()||e.getResult().setLastOrderByDirection("",e);else{var t=e.remainingString();this.startsWithIgnoreCase(",",t)?(e.consumeCharacter(),this.orderByFields(e),this.chewWhitespace(e)):(t=e.remainingString(),null!==t&&e.consumeCharacters(t.length),e.getResult().setNeedsOrderByDirection(),e.getResult().setLastOrderByDirection(t,e),e.setParseError())}},orderByField:function(t){this.chewWhitespace(t);var r=this.fieldName(t);if(0!==r.length){t.getResult().setLastOrderByFieldName(r,t);var s=t.remainingString();t.isComplete()||e.REGEXP_COMMA_DELIMITER.test(s)?(t.getResult().setNeedsOrderByField(),this.chewWhitespace(t)):e.REGEXP_ASCENDING.test(s)?(this.chewWhitespace(t),t.consumeCharacters(3),t.getResult().setLastOrderByDirection("asc",t),t.getResult().setNeedsOrderByComma()):e.REGEXP_DESCENDING.test(s)?(this.chewWhitespace(t),t.consumeCharacters(4),t.getResult().setLastOrderByDirection("desc",t),t.getResult().setNeedsOrderByComma()):t.getResult().setNeedsOrderByDirection()}else t.getResult().setLastOrderByFieldName("",t),t.getResult().setNeedsOrderByField(),t.setParseError()},jql:function(e){this.orClause(e);var t=e.remainingString();this.startsWithIgnoreCase("ord",t)&&this.orderByClause(e),e.result.setInsideList(0!==e.inListParens)},orClause:function(t){for(;!t.isComplete()&&!this.startsWithIgnoreCase(")",t.remainingString());){this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("ord",r))break;if(t.getResult().getMustBeOperatorOrPredicate()?t.getResult().resetLastPredicates():(t.getResult().resetLogicalOperators(),this.andClause(t)),!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){if(t.getResult().getNeedsWasPredicate()&&this.predicateClause(t),t.isComplete())return;if(r=t.remainingString(),this.startsWithIgnoreCase("ord",r))break;if(null!==r&&(e.REGEXP_ORS.test(r)||this.startsWithIgnoreCase("|",r)||this.startsWithIgnoreCase("||",r)))this.startsWithIgnoreCase("||",r)?(t.getResult().setLastLogicalOperator("||",t.getTokenStringIdx()),t.consumeCharacters(2)):e.REGEXP_ORS.test(r)?(t.getResult().setLastLogicalOperator("OR",t.getTokenStringIdx()),t.consumeCharacters(3)):(t.getResult().setLastLogicalOperator("|",t.getTokenStringIdx()),t.consumeCharacters(1)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField();else if(!this.startsWithIgnoreCase(")",r)||!t.getInParens()){this.chewWhitespace(t);var s,a=null===r?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-r.length;null!=r&&(s=r.split(" "),t.getResult().setLastLogicalOperator(s[0],a),t.getResult().setLastWasPredicate(s[0],t),t.getResult().setNeedsLogicalOperator(t)),null==t.getResult().getLastWasOperator()?t.setParseError():null!=s&&(e.REGEXP_PREDICATE.test(s[0])?(t.getResult().setLastLogicalOperator(null),t.getResult().resetNeedsPredicateOperand()):(e.REGEXP_ANDS.test(r)&&(t.consumeCharacters(4),t.getResult().resetTerminalClause(),t.getResult().setNeedsField()),(t.isComplete()||1===s.length)&&t.setParseError()))}}}},andClause:function(t){if(this.chewWhitespace(t),this.notClause(t),!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){this.chewWhitespace(t);var r=t.remainingString();null!==r&&(e.REGEXP_ANDS.test(r)||this.startsWithIgnoreCase("&",r)||this.startsWithIgnoreCase("&&",r))?(this.startsWithIgnoreCase("&&",r)?(t.getResult().setLastLogicalOperator("&&",t.getTokenStringIdx()),t.consumeCharacters(2)):this.startsWithIgnoreCase("&",r)?(t.getResult().setLastLogicalOperator("&",t.getTokenStringIdx()),t.consumeCharacters(1)):(t.getResult().setLastLogicalOperator("AND",t.getTokenStringIdx()),t.consumeCharacters(4)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField()):(t.getResult().setNeedsLogicalOperator(t),t.isComplete()&&t.getResult().setLastLogicalOperator(null,t.getMaxTokenStringIdx()))}},notClause:function(t){if(this.chewWhitespace(t),t.isComplete())this.terminalClause(t),t.setParseError();else{this.chewWhitespace(t);var r=t.remainingString();null!==r&&(e.REGEXP_NOTS.test(r)||this.startsWithIgnoreCase("!",r))?(t.getResult().needsField=!1,this.startsWithIgnoreCase("!",r)?(t.getResult().setLastLogicalOperator("!",t.getTokenStringIdx()),t.consumeCharacters(1)):(t.getResult().setLastLogicalOperator("NOT",t.getTokenStringIdx()),t.consumeCharacters(4)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField()):this.terminalClause(t)}},predicateClause:function(e){if(this.chewWhitespace(e),e.isComplete())e.setParseError();else{var t=e.remainingString(),r=t.split(/[\s(]+/);if(null!==t){if(e.getResult().setMustBeOperatorOrPredicate(!1),this.startsWithLogicalOperator(t)){if(1===r.length)return e.getResult().setLastWasPredicate(r[0],e),void e.setParseError();return}if(e.getResult().resetNeedsPredicateOperand(),e.consumeCharacters(r[0].length),e.getResult().setLastWasPredicate(r[0],e),1===r.length)return void e.setParseError();this.wasPredicateComplete(r[0])?(e.getResult().setNeedsPredicateOperand(),e.getResult().setLastOperand(null,e),this.predicateOperand(e)):e.setParseError()}}},predicateOperand:function(e){this.chewWhitespace(e);var t=this.collectPredicateOperands(e);null!=t&&""!=t||(e.getResult().setLastOperandStartIndex(e.getTokenStringIdx()),e.setParseError()),null!=e.remainingString()&&(e.getResult().resetNeedsPredicateOperand(),e.getResult().resetLastPredicates(),e.getResult().setMustBeOperatorOrPredicate(!0),e.getResult().setNeedsLogicalOperator(e),this.chewWhitespace(e))},collectPredicateOperands:function(e){"DURING"===e.getResult().getLastWasPredicate()&&e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);return 0===t.length?(t=this.functionOperand(e),0===t.length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1)):e.getResult().setNeedsOpenParen(!1),a.getUnquotedString(t)},terminalClause:function(t){t.getResult().resetTerminalClause(),this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("(",r))t.getResult().addToken("("),t.setInParens(),t.consumeCharacter(),this.orClause(t),this.chewWhitespace(t),r=t.remainingString(),this.startsWithIgnoreCase(")",r)?(t.getResult().addToken(")"),t.consumeCharacter(),t.setOutOfParens(),t.isComplete()&&(t.getResult().resetLogicalOperators(),t.getResult().resetLastPredicates())):t.setParseError();else if(this.field(t),t.isComplete())t.getResult().setNeedsField(),t.setParseError();else if(this.oper(t),t.isComplete()){if("was"===t.getResult().getLastOperator()||"was not"===t.getResult().getLastOperator())t.getResult().setNeedsOperandOrOperator();else{if("changed"===t.getResult().getLastWasOperator()){var s=t.currentCharacter();return void(null!==s&&e.REGEXP_SPACE_OR_ELSE.test(s)?t.getResult().setNeedsLogicalOperator(t):(t.getResult().resetLogicalOperators(),t.getResult().setNeedsOrderBy(!1)))}t.getResult().setNeedsOperator()}t.setParseError()}else{if("changed"===t.getResult().getLastWasOperator())return void t.getResult().setNeedsLogicalOperator(t);if(this.operand(t),t.getResult().getOperandComplete()){var a=t.getResult().getLastWasOperator();t.getResult().setNeedsNothing(),a&&t.getResult().setLastWasOperator(a)}else t.isComplete()&&!t.getResult().getNeedsListComma()&&t.getResult().setNeedsOperand()}},field:function(e){var t=this.fieldName(e);if(0!==t.length)e.getResult().setLastFieldName(t,e);else if(null===e.getResult().getLastFieldName()){var r=e.remainingString();e.getResult().setNeedsField(),e.getResult().setLastFieldName(r,e),e.setParseError()}},fieldName:function(t){this.chewWhitespace(t);var r=["issue","assignee","reporter","creator","watcher","project"],s=t.remainingString(),a=this.findStartsWith(r,s);if(a)return this.fieldProperty(a,t);if(this.startsWithIgnoreCase("cf",s)){var i=t.getTokenStringIdx(),n=t.remainingString();if(t.consumeCharacters(2),this.chewWhitespace(t),s=t.remainingString(),this.startsWithIgnoreCase("[",s)){t.consumeCharacter(),s=t.remainingString();var l=this.numberValue(t);if(0!==l.length&&(this.chewWhitespace(t),s=t.remainingString(),this.startsWithIgnoreCase("]",s)))return t.consumeCharacter(),n.substring(0,t.getTokenStringIdx()-i)}return t.setParseError(),n}var o=s&&s.match(e.REGEXP_GROUPED_CUSTOM_FIELD);if(o){var g=o[0];return t.consumeCharacters(g.length),g}return this.fieldOrFunctionName(t)},fieldProperty:function(e,t){t.consumeCharacters(e.length),this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("[",r)){t.consumeCharacter();for(var s=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());)t.consumeCharacter(),s[s.length]=this.stringValue(t);if(0!==s.length&&0!==s[0].length&&!this.startsWithIgnoreCase(".",s[0])&&(this.chewWhitespace(t),r=t.remainingString(),this.startsWithIgnoreCase("]",r)&&(t.consumeCharacter(),r=t.remainingString(),!/\.\s*=/.test(r)))){for(var a=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());)t.consumeCharacter(),a[a.length]=this.stringValue(t);return e+"["+s.join(".")+"]"+a.join(".")}}return t.setParseError(),""},findStartsWith:function(e,t){var r=this.startsWithIgnoreCase,s=e.map(function(e){return e+".property"}),a=_.find(s,function(e){return r(e,t)});return a||null},oper:function(t){this.chewWhitespace(t);var s=t.remainingString(),a=this.getLongestOperatorMatch(s,e.jql_operators);if(null!==a){if(t.getResult().setLastOperator(a,t.getTokenStringIdx()),(r.isWasOperator(a)||r.isChangedOperator(a))&&t.getResult().setLastWasOperator(a),t.consumeCharacters(a.length),"in"===a||"is"===a||"is not"===a||"not in"===a||"was"===a||"was not"===a||"was in"===a||"was not in"===a){var i=t.currentCharacter();null===i||e.REGEXP_SPACE_OR_ELSE.test(i)||t.setParseError()}"was"===a?(t.getResult().setNeedsOperandOrOperator(),this.chewWhitespace(t),s=t.remainingString(),null!=s&&(e.REGEXP_NOTSTART.test(s)||e.REGEXP_INSTART.test(s))&&t.setParseError()):"was not"===a?(t.getResult().setNeedsOperandOrOperator(),this.chewWhitespace(t),s=t.remainingString(),null!=s&&e.REGEXP_INSTART.test(s)&&t.setParseError()):"changed"===a?t.getResult().setNeedsLogicalOperator(t):t.getResult().setNeedsOperand()}else if(null===t.getResult().getLastOperator()){var n=null===s?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-s.length;t.getResult().setLastOperator(s,n),t.getResult().setNeedsOperator(),t.setParseError()}},operand:function(e){this.chewWhitespace(e),"in"!==e.getResult().getLastOperator()&&"not in"!==e.getResult().getLastOperator()&&"was not in"!==e.getResult().getLastOperator()&&"was in"!==e.getResult().getLastOperator()||e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);if(0===t.length?(t=this.functionOperand(e),0===t.length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1)):e.getResult().setNeedsOpenParen(!1),null===t||0===t.length){var r=e.remainingString();e.getResult().setLastOperand(r,e),e.getResult().setNeedsOperand(),e.setParseError()}return 0!==t.length?t:""},singleValueOperand:function(e){var t=this.stringValue(e);return 0!==t.length?(e.getResult().setLastOperand(t,e),"empty"!==t.toLowerCase()&&"null"!==t.toLowerCase()&&this.isReservedWord(t.toLowerCase())&&e.setParseError(),t):""},functionOperand:function(e){var t=e.getTokenStringIdx(),r=this.fieldOrFunctionName(e);this.chewWhitespace(e);var s=this.listOperand(e,!1);if(0!==r.length&&0!==s.length){var a=r+s;return e.getResult().setLastOperand(a,e),a}return e.backTrackToIdx(t),""},listOperand:function(e,t){if("("===e.currentCharacter()){e.consumeCharacter(),e.setInListParens();var r=this.collectListValues(e,t),s="("+r;return this.chewWhitespace(e),")"===e.currentCharacter()?(e.consumeCharacter(),e.setOutOfListParens(),s+=")","()"===s&&t&&e.getResult().setLastOperand(s,e),t&&(e.getResult().setOperandComplete(),e.getResult().resetNeedsPredicateOperand())):e.setParseError(),s}return""},collectListValues:function(e,t){t&&e.getResult().setNeedsOperand(),this.chewWhitespace(e);var r=t?this.operand(e):this.stringValue(e);if(0!==r.length){if(this.chewWhitespace(e)&&t&&e.getResult().setNeedsListComma(),","===e.currentCharacter()){e.consumeCharacter();var s=this.collectListValues(e,t);return 0===s.length&&e.setParseError(),r+", "+s}return r}return""},startsWithIgnoreCase:function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},startsWithLogicalOperator:function(e){return null!==e&&(this.startsWithOr(e)||this.startsWithAnd(e)||this.startsWithNot(e)||this.startsWithBraces(e))},startsWithOr:function(e){return this.startsWithIgnoreCase("|",e)||this.startsWithIgnoreCase("||",e)||this.startsWithIgnoreCase("or",e)},startsWithAnd:function(e){return this.startsWithIgnoreCase("&",e)||this.startsWithIgnoreCase("&&",e)||this.startsWithIgnoreCase("and",e)},startsWithNot:function(e){return this.startsWithIgnoreCase("!",e)||this.startsWithIgnoreCase("not",e)},startsWithBraces:function(e){return this.startsWithIgnoreCase("(",e)||this.startsWithIgnoreCase(")",e)},chewWhitespace:function(t){for(var r=!1,s=t.currentCharacter();null!==s&&e.REGEXP_WHITESPACE.test(s);)t.consumeCharacter(),s=t.currentCharacter(),r=!0;return r},getLongestOperatorMatch:function(t,r){var s,a=null;if(this.startsWithIgnoreCase("is",t)&&(s=t.substring(2).match(e.REGEXP_SNOT),a=s?t.substring(0,s[0].length+2):"is"),this.startsWithIgnoreCase("was",t))s=t.substring(3).match(e.REGEXP_SNOT_IN),a=s?t.substring(0,s[0].length+3):"was";else if(this.startsWithIgnoreCase("not",t)){var i=t.substring(3).match(e.REGEXP_SIN);i&&(a=t.substring(0,i[0].length+3))}else for(var n=0;n<r.length;n++)this.startsWithIgnoreCase(r[n].value,t)&&(null===a||e.jql_operators[n].value.length>a)&&(a=e.jql_operators[n].value);return a},getValueMinusExtraWhitespace:function(t){if(null===t)return null;for(var r="",s=!0,a=t.split(""),i=0;i<a.length;i++){var n=a[i];e.REGEXP_WHITESPACE.test(n)?s&&(s=!1,r+=n):(s=!0,r+=n)}return r},fieldOrFunctionName:function(e){var t=this.stringValue(e);return'""'!==t&&"''"!==t||e.setParseError(),this.isReservedWord(t.toLowerCase())&&e.setParseError(),t},isReservedWord:function(e){return s.inArray(e,n)!==-1},stringValue:function(t){for(var r="",s=!1,a=!1,i=t.currentCharacter();null!==i&&(s||a||e.REGEXP_TOKEN_CHAR.test(i));){if(r+=i,t.consumeCharacter(),"\\"===i){if(i=t.currentCharacter(),null===i){t.setParseError();break}if(e.REGEXP_CHARS_TO_ESCAPE.test(i)){var n=t.remainingString();if(!e.REGEXP_UNICODE.test(n)){t.setParseError();break}}r+=i,t.consumeCharacter()}else{if(e.REGEXP_SPECIAL_CHAR.test(i)&&!s&&!a){t.setParseError();break}'"'!==i||a?"'"!==i||s||(a=!a):s=!s}i=t.currentCharacter()}return t.isComplete()&&(s||a)&&t.setParseError(),r},numberValue:function(t){var r="";this.chewWhitespace(t);for(var s=t.currentCharacter();null!==s&&e.REGEXP_NUMBER.test(s);)r+=s,t.consumeCharacter(),s=t.currentCharacter();return r},wasPredicateComplete:function(t){for(var r=!1,s=e.jql_changed_predicates.length,a=0;a<s;++a)if(t.toLowerCase()==e.jql_changed_predicates[a].value.toLowerCase()){r=!0;break}return r}}}});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/operator-util.js' */
define("jira/jql/operator-util",function(){"use strict";var n={};return n.isListSupportingOperator=function(n){return"in"===n||"not in"===n||"was not in"===n||"was in"===n},n.isEmptyOnlyOperator=function(n){return"is"===n||"is not"===n},n.isWasOperator=function(n){return"was"===n||"was in"===n||"was not in"===n||"was not"===n},n.isChangedOperator=function(n){return"changed"===n},n.isHistoryOperator=function(r){return n.isWasOperator(r)||n.isChangedOperator(r)},n});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/util.js' */
define("jira/jql/util",["jira/jql/jql-grammar","wrm/context-path"],function(e,t){"use strict";var a={},n=t()+"/images/icons/autocomplete/",o={Checkboxes:"Checkbox",Date:"Date",Dropdown:"Dropdown",Labels:"Labels",Number:"Number",Paragraph:"Paragraph",People:"People","Short text":"Short text","Time stamp":"Time stamp","Radio Buttons":"Radio","Project Picker (single project)":"Project picker","Version Picker (multiple versions)":"Version picker (multi)","Version Picker (single version)":"Version picker (single)","User Picker (single user)":"User picker (single)","URL Field":"URL","Select List (multiple choices)":"Select list (multiple choices)","User Picker (multiple users)":"User picker (multi)","Approvers List":"Approvers List","Group Picker (multiple groups)":"Group picker (multi)","Group Picker (single group)":"Group picker (single)","Select List (cascading)":"Select list (cascading)",Assets:"Assets","Date of first response":"Date of first response","Days since last comment":"Days since last comment","Domain of Reporter":"Domain of reporter","Domain of Assignee":"Domain of assignee","Number of attachments":"Number of attachments","Last public comment date":"Last public comment date","Last commented by a User Flag":"Last commented by a User Flag","Username of last updater or commenter":"Username of last updater or commenter","Number of comments":"Number of comments","Participants of an issue":"Participants of an issue",Team:"Team","Time in Status":"Time in status"},l={Checkboxes:n+"Checkbox.svg",Date:n+"Date.svg",Dropdown:n+"Dropdown.svg",Labels:n+"Label.svg",Number:n+"Number.svg",Paragraph:n+"Paragraph.svg",People:n+"People.svg","Short text":n+"Short-text.svg","Time stamp":n+"Time-stamp.svg"},r=/^"?(.+)\[(.+)\]"?$/,i=/^"?cf\[(\d+)\]"?$/;return a.extractFieldTypeInformation=function(e){var t=i.exec(e);if(t)return null;var a=r.exec(e);if(!a)return null;var n=a[2];return{name:o[n]||null,icon:l[n]||null}},a.isCollapsedField=function(e){return r.test(e)},a.htmlEscape=function(e){if(null==e)return null;for(var t="",a=e.split(""),n=0;n<a.length;n++)t+="<"===a[n]?"&lt;":">"===a[n]?"&gt;":"&"===a[n]?"&amp;":'"'===a[n]?"&quot;":a[n];return t},a.stripEscapeCharacters=function(t){if(null==t)return t;for(var a="",n=t.split(""),o=0;o<n.length&&("\\"!==n[o]||e.REGEXP_UNICODE.test(t.substring(o,t.length))||(o++,!(o>=t.length)));o++)a+=n[o];return a},a.equalsIgnoreCase=function(e,t){return null===e&&null===t||null!==e&&null!==e&&e.toLowerCase()===t.toLowerCase()},a.startsWithIgnoreCaseNullsMeanAll=function(e,t){return null===t||null===e||!(t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},a.startsWithNotEqualsIgnoreCaseNullMeansAll=function(t,a){if(null===a||null===t)return!0;if(a.length<t.length)return!1;var n=t.toLowerCase()==a.substr(0,t.length).toLowerCase();if(n){var o=null;return o=e.REGEXP_FIELD_NAME.test(a.substr(t.length,a.length))?a.substr(0,t.length):a,t.toLowerCase()!=o.toLowerCase()}return!1},a.getUnquotedString=function(e){var t=null!=e&&e.length>=3&&"\\"!==e.charAt(e.length-2);return null!=e&&'"'===e.charAt(0)?(e=e.substring(1,e.length),'"'===e.charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1))):null!=e&&"'"===e.charAt(0)&&(e=e.substring(1,e.length),"'"===e.charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1))),e},a});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/namespace.js' */
AJS.namespace("jira.widget.autocomplete.JQL",null,require("jira/autocomplete/jql-autocomplete")),AJS.namespace("JIRA.JQLAutoComplete",null,require("jira/autocomplete/jql-autocomplete")),AJS.namespace("JIRA.JQLAutoComplete.MyParser",null,require("jira/jql/jql-parser")),AJS.namespace("JIRA.JQLAutoComplete.ParseResult",null,require("jira/jql/jql-parse-result")),AJS.namespace("JIRA.JQLAutoComplete.Token",null,require("jira/jql/jql-parse-token"));;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/initJQLAutoComplete.js' */
!function(){"use strict";var e=require("jira/autocomplete/jql-autocomplete"),r=require("jira/jql/jql-parser"),t=require("jira/util/forms"),n=require("jquery");n(function(){n(".jql-autocomplete-params").each(function(){var i={};n(this).find("input").each(function(){var e=n(this);i[e.attr("id")]=e.val()});var l=JSON.parse(n("#jqlFieldz").text()),o=JSON.parse(n("#jqlFunctionNamez").text()),a=JSON.parse(n("#jqlReservedWordz").text()),u=function(){var e=require("jira/featureflags/feature-manager");return e.isFeatureEnabled("jira.jql.autoselectfirst")},s=e({fieldID:"jqltext",parser:r(a),queryDelay:.65,jqlFieldNames:l,jqlFunctionNames:o,minQueryLength:0,allowArrowCarousel:!0,autoSelectFirst:u(),errorID:"jqlerrormsg"}),d=n("#jqltext");d.unbind("keypress",t.submitOnEnter).keypress(function(e){if(null===s.dropdownController||!s.dropdownController.displayed||s.selectedIndex<0)return!(13===e.keyCode&&!e.ctrlKey&&!e.shiftKey)||(n("#jqlform").submit(),!1)}),s.buildResponseContainer(),s.parse(d.text()),s.updateColumnLineCount(),d.click(function(){s.dropdownController.hideDropdown()})})})}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'jira-issue-navigator-components-module/columnpicker/ColumnPicker.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Dialogs&&(JIRA.Templates.Dialogs={}),"undefined"==typeof JIRA.Templates.Dialogs.ColumnPicker&&(JIRA.Templates.Dialogs.ColumnPicker={}),JIRA.Templates.Dialogs.ColumnPicker.popup=function(e,t){var o='<div><form action="#" method="post"  class="aui top-label column-picker"><div class="check-list-top-panel"><h3>'+soy.$$escapeHtml("Columns")+"</h3>";if(e.columns.length>1){o+='<p class="aui-buttons">';for(var s=e.columns,l=s.length,n=0;n<l;n++){var i=s[n];o+='<button type="button" class="config-chooser aui-button '+(i.isActive?" active":"")+'" id="columns-chooser-'+soy.$$escapeHtml(i.name)+'" data-value="'+soy.$$escapeHtml(i.name)+'"'+(i.isDisabled?'aria-disabled="true"':"")+">"+soy.$$escapeHtml(i.description)+"</button>"}o+="</p>"}o+="</div>";for(var a=e.columns,c=a.length,p=0;p<c;p++){var m=a[p];o+='<div class="'+soy.$$escapeHtml(m.name)+'-column-sparkler hidden"></div>'}return o+=(e.isAutoUpdate?"":'<div class="button-panel"><input accesskey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button submit" type="submit" value="'+soy.$$escapeHtml("Done")+'"/> <a accesskey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="aui-button aui-button-link close-dialog" href="javascript:">'+soy.$$escapeHtml("Cancel")+"</a></div>")+"</form></div>"},JIRA.Templates.Dialogs.ColumnPicker.queryableSelect=function(e,t){for(var o="<select "+(e.name?'name="'+soy.$$escapeHtml(e.name)+'"':"")+" "+(e.id?'id="'+soy.$$escapeHtml(e.id)+'"':"")+' multiple="multiple">',s=e.descriptors,l=s.length,n=0;n<l;n++){var i=s[n];if(i.properties.items){o+='<optgroup label="'+soy.$$escapeHtml(i.properties.label)+'">';for(var a=i.properties.items,c=a.length,p=0;p<c;p++){var m=a[p];o+=JIRA.Templates.Dialogs.ColumnPicker.option({option:m})}o+="</optgroup>"}else o+=JIRA.Templates.Dialogs.ColumnPicker.option({option:i})}return o+="</select>"},JIRA.Templates.Dialogs.ColumnPicker.option=function(e,t){return'<option title="'+soy.$$escapeHtml(e.option.title)+'" '+(e.option.selected?'selected="selected"':"")+' value="'+soy.$$escapeHtml(e.option.value)+'">'+soy.$$escapeHtml(e.option.label)+(e.option.typeName?'<span class="custom-field-type">'+(e.option.typeIcon?'<img src="$'+soy.$$escapeHtml(e.option.typeIcon)+'" alt="'+soy.$$escapeHtml(e.option.typeName)+'">iconHtml':"")+soy.$$escapeHtml(e.option.typeName)+"</span>":"")+"</option>"},JIRA.Templates.Dialogs.ColumnPicker.trigger=function(e,t){return'<button class="aui-button aui-button-subtle column-picker-trigger" title="'+soy.$$escapeHtml("Columns")+'">'+soy.$$escapeHtml("Columns")+"</button>"},JIRA.Templates.Dialogs.ColumnPicker.restoreDefaultsLink=function(e,t){return'<button class="aui-button aui-button-link restore-defaults">'+soy.$$escapeHtml(e.linkText)+"</button>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'jira-issue-navigator-components-module/columnpicker/ColumnPickerModel.js' */
define("jira/components/columnpicker/model",["require"],function(n){"use strict";var t=n("jira/components/libs/underscore"),o=n("jira/components/libs/brace"),e=window.AJS.contextPath(),i=n("jquery");return o.Model.extend({namedAttributes:["columnConfig","savedColumnConfig","search","availableColumns","autoUpdate"],namedEvents:["columnsSync","changeColumnConfigDisabled","destroyColumnConfig"],allColumnsUrl:e+"/rest/gadget/1.0/availableColumns",shouldRefreshSearchOnActivation:function(){return this.getCurrentColumnConfig().shouldRefreshSearchOnActivation()},shouldCloseOnActivation:function(){return this.getCurrentColumnConfig().shouldCloseOnActivation()},shouldLoadDefaultsOnActivation:function(){return this.getCurrentColumnConfig().shouldLoadDefaultsOnActivation()},shouldRevertOnHide:function(){return this.getCurrentColumnConfig().shouldRevertOnHide()},loadDefaultColumns:function(){this.getCurrentColumnConfig().loadDefaultColumns()},initialize:function(){this.columnsData={}},refreshSearchWithColumns:function(n){n=n||this.getCurrentColumnConfig(),this.triggerColumnsSync(n.getName(),n.getColumns())},fetchAvailableColumnsIfNeeded:function(){this.has("availableColumns")||i.ajax(this.allColumnsUrl).done(function(n){this.setAvailableColumns(n.availableColumns)}.bind(this))},getCurrentColumnConfig:function(n){return n||(n=this.getColumnConfig()),this.columnsData[n]},revertColumnConfig:function(){this.shouldRevertOnHide()&&this.getSavedColumnConfig()!==this.getColumnConfig()&&(this._previousAttributes.columnConfig=this.getSavedColumnConfig(),this.setColumnConfig(this.getSavedColumnConfig(),{silent:!0}))},setCurrentColumnConfig:function(n){this.setColumnConfig(n),this.setSavedColumnConfig(n)},syncColumns:function(n,o){t.each(this.columnsData,function(t){t.getName()===n&&(t.setColumns(o),t.setSavedColumns(o))})},saveColumns:function(n){this.getCurrentColumnConfig().setColumns(n),this.getCurrentColumnConfig().save(),this.getCurrentColumnConfig().triggerColumnsSync()},addColumnProvider:function(n,t){this.columnsData[n]=t,t.on("columnsSync sync destroy",function(){this.refreshSearchWithColumns(t)}.bind(this)),t.on("change:isDisabled",function(n,t){this.triggerChangeColumnConfigDisabled(n,t)}.bind(this)),t.on("destroy",function(n){this.triggerDestroyColumnConfig(n)}.bind(this))}})}),AJS.namespace("JIRA.Issues.ColumnPickerModel",null,require("jira/components/columnpicker/model"));
//# sourceMappingURL=ColumnPickerModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'jira-issue-navigator-components-module/columnpicker/ColumnConfigModel.js' */
define("jira/components/columnpicker/columnconfigmodel",["require"],function(n){"use strict";var e=n("jira/components/libs/underscore"),t=n("jira/components/libs/brace"),o=n("jquery"),s=t.Model.extend({namedAttributes:["name","columns","autoUpdate","savedColumns","description","previousColumns","actionBarText","isActive"],namedEvents:["columnsSync"],defaults:{actionBarText:"Restore defaults",isActive:!1},idAttribute:"name",initialize:function(n,t){e.extend(this,t)},getDefaultColumns:function(){var n=new o.Deferred;return this.defaultColumns().done(function(e){var t=this.parse(e);t&&t.columns?n.resolve(t.columns):n.reject(null)}.bind(this)),n.promise()},parse:function(n){return n?{columns:e.compact(e.pluck(n,"value"))}:{}},isDisabled:function(){return!1},isEditDisabled:function(){return!1},defaultColumns:function(){var n=new o.Deferred;return n.resolve([]),n.promise()},_sortColumnsUsingOriginalOrder:function(n,t){return e.intersection(n,t).concat(e.difference(t,n))},setUnsortedColumns:function(n,e){n=this._sortColumnsUsingOriginalOrder(e,n),this.setPreviousColumns(e,{silent:!0}),this.setColumns(n)},toJSON:function(){return{columns:this.getColumns()}},revertUnsavedColumns:function(n){this.getSavedColumns()!==this.getColumns()&&this.setColumns(this.getSavedColumns(),n)},loadDefaultColumns:function(){this.getDefaultColumns().done(function(n){this.setColumns(n)}.bind(this))},shouldRefreshSearchOnActivation:function(){return!0},shouldCloseOnActivation:function(){return!0},shouldLoadDefaultsOnActivation:function(){return!1},shouldRevertOnHide:function(){return!0}});return s.create=function(n,e,t,o){return new s({autoUpdate:o,name:n,description:e},t)},s}),AJS.namespace("JIRA.Issues.ColumnConfigModel",null,require("jira/components/columnpicker/columnconfigmodel"));
//# sourceMappingURL=ColumnConfigModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'jira-issue-navigator-components-module/columnpicker/ColumnPickerSuggestHandler.js' */
define("jira/components/columnpicker/suggesthandler",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),r=e("jira/ajs/list/group-descriptor"),n=e("jquery"),a=e("jira/ajs/select/suggestions/select-suggest-handler"),i=e("jira/ajs/select/suggestions/suggest-helper"),s=window.JIRA.Templates.Dialogs.ColumnPicker,o=e("jira/jql/util");e("jira/featureflags/feature-manager");return a.extend({createActionBar:function(e){if(!e)return null;var t=n(s.restoreDefaultsLink({linkText:e}));return t.click(function(e){"true"!==n(e.target).attr("aria-disabled")&&t.trigger("actionclick"),e.preventDefault()}),n("<li class='check-list-group-actions'></li>").append(t)},formatTypeInformation:function(e){var t=o.extractFieldTypeInformation(e);if(t&&"string"==typeof t.name){var r="string"==typeof t.icon?'<img src="'+t.icon+'" alt="'+t.name+'">':"";return'<span class="custom-field-type">'+r+t.name+"</span>"}return null},suggestionHighlighter:function(e,t){var r=this;return e.label().replace(t,function(t,a,i,s,o){var l=n("<div>");a&&l.append(n("<span>").text(a)),s&&l.append(n("<em>").text(s)),o&&l.append(n("<span>").text(o));var c=r.formatTypeInformation(e.value());return c?l.html()+c:l.html()})},formatSuggestions:function(e,a){var s=this,o=i.removeDuplicates(this.model.getDisplayableSelectedDescriptors()),l=new r({styleClass:"selected-group",items:o});e.splice(0,0,l),e.forEach(function(e){e.items().forEach(function(e){var t=s.formatTypeInformation(e.value());if(t){var r=n("<div/>").text(e.label()).html();e.dontUpdateLabelOnHighlightedChange=!0,e.properties.html=r+t}})});var c=t.find(e,function(e){return e.items().length});if(c&&c.actionBarHtml(this.createActionBar(this.options.actionBar)),a.length>0){e=i.removeDuplicates(e);var u=i.extractItems(e).sort(function(e,t){return e=e.label().toLowerCase(),t=t.label().toLowerCase(),e.localeCompare(t)});e=[new r({items:u})]}return e}})}),AJS.namespace("JIRA.Issues.ColumnPickerSuggestHandler",null,require("jira/components/columnpicker/suggesthandler"));
//# sourceMappingURL=ColumnPickerSuggestHandler-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'jira-issue-navigator-components-module/columnpicker/ColumnPickerSparklerView.js' */
define("jira/components/columnpicker/sparklerview",["require"],function(e){"use strict";var s=e("jira/components/libs/underscore"),t=window.AJS.Templates,i=e("jira/components/libs/brace"),l=e("jira/ajs/select/checkbox-multi-select"),n=e("jira/components/columnpicker/suggesthandler"),a=e("jira/ajs/list/group-descriptor"),d=e("jira/ajs/list/item-descriptor"),o=e("aui/message"),r=e("jquery");return i.View.extend({initialize:function(e){this._maxResults="number"==typeof e.maxResults?e.maxResults:this.MAX_DISPLAYED_ITEMS,this._autoUpdate=!!e.autoUpdate,this.$el.scrollLock(".aui-list-scroll"),this._autoUpdate||this.model.on("change:columns",this._setSelectedColumns.bind(this))},MAX_DISPLAYED_ITEMS:25,_sparkler:null,activate:function(){this.model.setIsActive(!0)},deactivate:function(){this.model.setIsActive(!1)},hide:function(){this.model.revertUnsavedColumns({silent:!0}),this.$el.addClass("hidden");var e=this.$el.find("input[id *= column-sparkler-input]");e.val("")},show:function(){this.$el.removeClass("hidden"),this._setSelectedColumns();var e=this.$el.find("input[id *= column-sparkler-input]");e.is(":disabled")||e.focus()},addMessage:function(e){0===this.$el.find(".aui-message."+e.type).length&&o[e.type](this.$el,{body:e.content,closeable:!1,insert:"prepend",id:e.id})},_disableEditIfNeeded:function(){this.model.isEditDisabled()?this._disableEdit():this._enableEdit()},_showEditDisabledMessage:function(){this.addMessage({content:"You cannot update the columns for a filter owned by another user.",type:"warning",id:this.model.getName()+"-edit-disabled-message"})},_hideEditDisabledMessage:function(){this.$el.find("#"+this.model.getName()+"-edit-disabled-message").remove()},_disableEdit:function(){this._sparkler.disable(),this.$el.find("input[type='checkbox']").attr("disabled","disabled"),this.$el.find(".check-list-item").addClass("disabled"),this.$el.find(".no-suggestions").addClass("disabled"),this.$el.find(".restore-defaults").attr("aria-disabled","true"),this._showEditDisabledMessage()},_enableEdit:function(){this._sparkler.enable(),this.$el.find("input[type='checkbox']").removeAttr("disabled"),this.$el.find(".check-list-item").removeClass("disabled"),this.$el.find(".no-suggestions").removeClass("disabled"),this.$el.find(".restore-defaults").removeAttr("aria-disabled"),this._hideEditDisabledMessage()},createSparklerControl:function(e){this._sparkler&&this._sparkler.remove();var s=this._buildQueryableSelect(e);this.$el.append(s),this._sparkler=new l({element:s,maxInlineResultsDisplayed:this._maxResults,suggestionsHandler:n,actionBar:this.model.getActionBarText()}),this._setSelectedColumns(),this._autoUpdate&&(s.bind("selected",this.saveColumns.bind(this)),s.bind("unselect",this.saveColumns.bind(this))),this._sparkler.$field.focus(),this.$el.on("actionclick",function(e){e.preventDefault(),this.model.unset("columns"),this.model.destroy()}.bind(this)),this.model.on("change:editDisabled",this._disableEditIfNeeded.bind(this))},saveColumns:function(){var e=this.model.getColumns()||r("th.colHeaderLink").map(function(){return r(this).attr("data-id")}).get();this.model.setUnsortedColumns(this._sparkler.model.getSelectedValues(),e),this.model.save(null,{wait:!1})},_setSelectedColumns:function(){var e=this.model.getColumns(),t=this._sparkler;t&&e&&e.length&&(s.each(t.model.getDisplayableUnSelectedDescriptors(),function(i){s.contains(e,i.value())&&t.selectItem(i)}),s.each(t.model.getDisplayableSelectedDescriptors(),function(i){s.contains(e,i.value())||t.unselectItem(i)}),t.render(),this._disableEditIfNeeded())},_buildQueryableSelect:function(e){var i=this,l=s.map(e,function(e){return new d(s.extend(e,{title:e.label}))});return r(t.queryableSelect({id:i.model.getName()+"-column-sparkler",descriptors:[new a({items:l})]}))}})}),AJS.namespace("JIRA.Issues.ColumnPickerSparklerView",null,require("jira/components/columnpicker/sparklerview"));
//# sourceMappingURL=ColumnPickerSparklerView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'jira-issue-navigator-components-module/columnpicker/ColumnPickerView.js' */
define("jira/components/columnpicker/view",["require"],function(i){"use strict";var e=i("jira/components/libs/underscore"),o=i("aui/inline-dialog"),n=i("jira/components/libs/brace"),t=i("jira/components/columnpicker/sparklerview"),l=i("jquery"),s=window.JIRA.Templates.Dialogs.ColumnPicker,a=i("jira/util/data/meta"),c=a.get("keyboard-accesskey-modifier");return n.View.extend({initialize:function(i){e.extend(this,i),e.bindAll(this,"_generateInlineDialogContent","_onDOMCloseDialogClick","_onDOMConfigChooserClick","_onDOMDialogHide","_onDOMFormSubmit","_onDOMTriggerClick","_onModelChangeAvailableColumns","_onModelChangeColumnConfig","_onModelChangeColumnConfigDisabled","_onModelDestroyColumnConfig"),this.subViews={}},dialog:null,activeSubview:null,_onDOMConfigChooserClick:function(i){var e=l(i.target);e.attr("aria-disabled")||this.columnPickerModel.setColumnConfig(e.data("value")||"user")},_activateNewSubView:function(i){i.activate(),this.columnPickerModel.shouldCloseOnActivation()?this.dialog.hide():(this.activeSubview=i,this.activeSubview.show(),this.adjustHeight()),this.columnPickerModel.shouldRefreshSearchOnActivation()&&this.columnPickerModel.refreshSearchWithColumns(),this.columnPickerModel.shouldLoadDefaultsOnActivation()&&this.columnPickerModel.loadDefaultColumns()},_onDOMFormSubmit:function(i){i.preventDefault(),this.activeSubview.saveColumns(),this.dialog.hide()},_onDOMCloseDialogClick:function(){this.dialog.hide()},_onDOMTriggerClick:function(){this.dialog.show(),this.activeSubview=this.subViews[this.columnPickerModel.getCurrentColumnConfig().getName()],this.activeSubview.show(),this._activateConfigChooserButton(this.columnPickerModel.getCurrentColumnConfig().getName()),this.columnPickerModel.fetchAvailableColumnsIfNeeded()},_activateConfigChooserButton:function(i){this.dialog.find(".config-chooser.active").removeClass("active"),this.dialog.find("#columns-chooser-"+i).addClass("active")},_onDOMDialogHide:function(){this.columnPickerModel.revertColumnConfig(),this.activeSubview.hide()},_onModelChangeColumnConfig:function(i,e){var o=this.subViews[e];this._activateConfigChooserButton(o.model.getName());var n=this.subViews[i.previous("columnConfig")];n!==o&&(n.hide(),n.deactivate(),this._activateNewSubView(o))},_onModelChangeAvailableColumns:function(i,o){e.each(this.subViews,function(i){i.createSparklerControl(o)})},_onModelDestroyColumnConfig:function(){this.dialog.hide()},_onModelChangeColumnConfigDisabled:function(i,e){var o=this.dialog.find("#columns-chooser-"+i.getName());e?o.attr("aria-disabled",!0):o.removeAttr("aria-disabled")},render:function(){this.$trigger||(this.$trigger=l(s.trigger())),this.$el.append(this.$trigger),this.$trigger.click(this._onDOMTriggerClick),this._renderInlineDialog()},adjustHeight:function(){if(o.current&&"column-picker-dialog"===o.current.id&&this.activeSubview){var i=l(this.activeSubview.el).find(".aui-list-scroll"),e=window.innerHeight-this.$trigger.offset().top-90,n=e-this.dialog.height(),t=Math.max(Math.min(i.height()+n,270),80);return i.css("height",t),!0}return!1},_generateInlineDialogContent:function(i,o,n){this.dialogContent?i.append(this.dialogContent):(i.html(s.popup({modifierKey:c,isAutoUpdate:this.columnPickerModel.getAutoUpdate(),columns:e.map(this.columnPickerModel.columnsData,function(i){return{name:i.getName(),description:i.getDescription(),selected:!1,isDisabled:i.isDisabled(),isActive:this.columnPickerModel.getCurrentColumnConfig()===i}}.bind(this))})),i.find(".config-chooser").click(this._onDOMConfigChooserClick),i.find("form").submit(this._onDOMFormSubmit),i.find(".close-dialog").click(this._onDOMCloseDialogClick),i.click(function(i){i.stopPropagation()}),this._createSubViews(i),this.dialogContent=i.children()),n()},_renderInlineDialog:function(){this.dialog||(this.dialog=new o(this.$trigger,"column-picker-dialog",this._generateInlineDialogContent,{offsetY:15,addActiveClass:!0,hideDelay:null,noBind:!0,initCallback:function(){var i=this,e=function o(){i.adjustHeight()||setTimeout(o,100)};e()}.bind(this),hideCallback:this._onDOMDialogHide}))},_createSubViews:function(i){e.each(this.columnPickerModel.columnsData,function(e){this.subViews[e.getName()]=new t({el:i.find("."+e.getName()+"-column-sparkler"),model:e,autoUpdate:this.columnPickerModel.getAutoUpdate()})}.bind(this)),this.columnPickerModel.has("availableColumns")&&this._onModelChangeAvailableColumns(this.columnPickerModel,this.columnPickerModel.getAvailableColumns()),this.columnPickerModel.on("change:availableColumns",this._onModelChangeAvailableColumns),this.columnPickerModel.on("change:columnConfig",this._onModelChangeColumnConfig),this.columnPickerModel.onChangeColumnConfigDisabled(this._onModelChangeColumnConfigDisabled),this.columnPickerModel.onDestroyColumnConfig(this._onModelDestroyColumnConfig)}})}),AJS.namespace("JIRA.Issues.ColumnPickerView",null,require("jira/components/columnpicker/view"));
//# sourceMappingURL=ColumnPickerView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'jira-issue-navigator-components-module/columnpicker/ColumnPicker.js' */
define("jira/components/columnpicker",["require"],function(n){"use strict";var e=n("jira/components/libs/underscore"),i=n("jira/components/libs/brace"),o=n("jira/components/columnpicker/columnconfigmodel"),t=n("jira/components/columnpicker/model"),r=n("jira/components/columnpicker/view"),c=i.Model.extend({initialize:function(n,i){this.columnPickerModel=new t({autoUpdate:i.autoUpdate}),this.columnPickerView=new r({columnPickerModel:this.columnPickerModel}),e.each(i.providers,function(n){n instanceof o?this.columnPickerModel.addColumnProvider(n.getName(),n):(this.columnPickerModel.addColumnProvider(n.id,this._createProviderModel(n)),n.columns&&this.columnPickerModel.syncColumns(n.id,n.columns))}.bind(this)),this.setCurrentColumnConfig(i.providers[0].id),i.el&&this.columnPickerView.setElement(i.el).render()},_createProviderModel:function(n){return o.create(n.id,n.label,e.omit(n,"id","label","columns"))},getCurrentColumnConfig:function(){return this.columnPickerModel.getCurrentColumnConfig()},setElement:function(n){return this.columnPickerView.setElement(n),this},render:function(){return this.columnPickerView.render(),this},clearFilterConfiguration:function(){return this.columnPickerModel.clearFilterConfiguration(),this},adjustHeight:function(){return this.columnPickerView.adjustHeight(),this},setCurrentColumnConfig:function(n){return this.columnPickerModel.setCurrentColumnConfig(n),this},saveColumns:function(n){return this.columnPickerModel.saveColumns(n),this},syncColumns:function(n,e){return this.columnPickerModel.syncColumns(n,e),this},getColumnConfig:function(){this.columnPickerModel.getColumnConfig()},onColumnsSync:function(n,e){return this.columnPickerModel.onColumnsSync(n,e),this},on:function(n,e,i){return this.columnPickerModel.on(n,e,i),this},off:function(n,e){return this.columnPickerModel.off(n,e),this}});return c.create=function(n){return new c(null,n)},c}),AJS.namespace("JIRA.Components.ColumnPicker",null,require("jira/components/columnpicker"));
//# sourceMappingURL=ColumnPicker-min.js.map
;
;
/* module-key = 'jira.webresources:searchers', location = 'includes/jira/searchers/datePicker.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DateSearcher&&(JIRA.Templates.DateSearcher={}),JIRA.Templates.DateSearcher.dateMeasurement=function(e,t){return'<select class="js-measurement"><option value="m">'+soy.$$escapeHtml("minutes")+'</option><option value="h">'+soy.$$escapeHtml("hours")+'</option><option value="d">'+soy.$$escapeHtml("days")+'</option><option value="w">'+soy.$$escapeHtml("weeks")+"</option></select>"},JIRA.Templates.DateSearcher.renderWithinTheLast=function(e,t){return""+soy.$$filterNoAutoescape(AJS.format("Within the last {0} {1}",e.inputField,e.dateMeasurementField))},JIRA.Templates.DateSearcher.withinTheLast=function(e,t){return'<input type="radio" class="js-dp-type-toggle" id="withinTheLastRadio"/>'+JIRA.Templates.DateSearcher.renderWithinTheLast({inputField:'<input class="js-val" type="text" maxlength="15" />',dateMeasurementField:""+JIRA.Templates.DateSearcher.dateMeasurement(null)})},JIRA.Templates.DateSearcher.nowOverdue=function(e,t){return'<label><input type="radio" class="js-dp-type-toggle" />'+soy.$$escapeHtml("Now overdue")+"</label>"},JIRA.Templates.DateSearcher.renderMoreThan=function(e,t){return""+soy.$$filterNoAutoescape(AJS.format("More than {0} {1} ago",e.inputField,e.dateMeasurementField))},JIRA.Templates.DateSearcher.moreThan=function(e,t){return'<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="moreThanRadio"/>'+JIRA.Templates.DateSearcher.renderMoreThan({inputField:'<input class="js-val" type="text" maxlength="15" />',dateMeasurementField:""+JIRA.Templates.DateSearcher.dateMeasurement(null)})},JIRA.Templates.DateSearcher.renderDueMoreThan=function(e,t){return""+soy.$$filterNoAutoescape(AJS.format("More than {0} {1} overdue",e.inputField,e.dateMeasurementField))},JIRA.Templates.DateSearcher.dueMoreThan=function(e,t){return'<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="moreThanRadio"/>'+JIRA.Templates.DateSearcher.renderDueMoreThan({inputField:'<input class="js-val" type="text" maxlength="15" />',dateMeasurementField:""+JIRA.Templates.DateSearcher.dateMeasurement(null)})},JIRA.Templates.DateSearcher.renderDueInNext=function(e,t){return""+soy.$$filterNoAutoescape(AJS.format("Due in next {0} {1} {2} overdue",e.inputField,e.dateMeasurementField,e.clauseField))},JIRA.Templates.DateSearcher.dueInNext=function(e,t){return'<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="dueInNextRadio"/>'+JIRA.Templates.DateSearcher.renderDueInNext({inputField:'<input class="js-val" maxlength="15" type="text" />',dateMeasurementField:""+JIRA.Templates.DateSearcher.dateMeasurement(null),clauseField:'<select class="js-clause"><option value="orIs">'+soy.$$escapeHtml("or is")+'</option><option value="andNot">'+soy.$$escapeHtml("and not")+"</option></select>"})},JIRA.Templates.DateSearcher.renderDateBetween=function(e,t){return""+soy.$$filterNoAutoescape(AJS.format("Between {0} and {1}",e.startField,e.endField))},JIRA.Templates.DateSearcher.dateBetween=function(e,t){return'<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="dateBetweenRadio"/>'+JIRA.Templates.DateSearcher.renderDateBetween({startField:'<input class="js-start-date" maxlength="15" placeholder="11-Jan-2012" type="text" /><span class="js-start-date-trigger aui-icon aui-icon-small aui-iconfont-calendar">'+soy.$$escapeHtml("Select a date")+"</span>",endField:'<input class="js-end-date" maxlength="12" placeholder="30-Jan-2012" type="text" /><span class="js-end-date-trigger aui-icon aui-icon-small aui-iconfont-calendar">'+soy.$$escapeHtml("Select a date")+"</span>"})},JIRA.Templates.DateSearcher.renderInRange=function(e,t){return""+soy.$$filterNoAutoescape(AJS.format("In range {0} to {1}",e.startInput,e.endInput))},JIRA.Templates.DateSearcher.inRange=function(e,t){return'<input type="radio" tabIndex="-1" maxlength="15" class="js-dp-type-toggle" id="inRangeRadio"/>'+JIRA.Templates.DateSearcher.renderInRange({startInput:'<input class="js-start-range" placeholder="-3w 4d 12h" type="text" />',endInput:'<input class="js-end-range" maxlength="15" placeholder="3w 4d 12h" type="text" />'})};;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/template-wrapper.js' */
define("jira/searchers/element/date-searcher/templates",[],function(){"use strict";return window.JIRA.Templates.DateSearcher});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/DateSearcher.js' */
define("jira/searchers/element/date-searcher",["jquery","underscore","backbone","jira/data/parse-options-from-fieldset","jira/searchers/element/date-searcher/templates"],function(e,t,a,r,n){var i=["js-dp-type-toggle","js-val","js-measurement","js-clause","js-start-date","js-end-date","js-start-range","js-end-range"],s=function(a,r){var n=e("<div></div>").html(a).contents(),s=[];return n.each(function(a,n){var l=e(n),d=e("<div/>").html(n).html();t.contains(i,l.attr("class"))?s.push(d):(d=d.replace(/^\s+|\s+$/g,"&nbsp;"),s.push("<label for='"+r+"'>"+d+"</label>"))}),s.join("")},l=function(e){var t=e.radioKey+"Radio",a=e.$el.html(s(e.rawTemplate,t));return a.find(":not(.js-dp-type-toggle):not(select):input").mousedown(function(){var e=a.find("label");e.length>0&&e[0].click()}),a},d=a.View.extend({className:"field-group",attributes:{"data-date-type":"nowOverdue"},template:n.nowOverdue,getValues:function(){return{to:0}},updateFromValues:function(e){if(!e.from&&"0"===e.to)return!0},render:function(){return this.$el.html(this.template())}}),o=a.View.extend({className:"field-group",attributes:{"data-date-type":"withinTheLast"},template:n.withinTheLast,getValues:function(){var e=this.$(".js-val").val();if(e)return{from:"-"+e+this.$el.find(".js-measurement").val()}},updateFromValues:function(e){if(!e.to&&e.from&&"-"===e.from.charAt(0)){var t=this.model.parseRelativeStr(e.from);return this.$(".js-val").val(t.val.slice(1)),t.measurement&&this.$(".js-measurement").val(t.measurement),!0}},render:function(e){return l({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),u=a.View.extend({className:"field-group",attributes:{"data-date-type":"moreThan"},template:n.moreThan,getValues:function(){var e=this.$(".js-val").val();if(e)return{to:"-"+e+this.$el.find(".js-measurement").val()}},updateFromValues:function(e){if(!e.from&&e.to&&"-"===e.to.charAt(0)){var t=this.model.parseRelativeStr(e.to);return this.$(".js-val").val(t.val.slice(1)),t.measurement&&this.$(".js-measurement").val(t.measurement),!0}},render:function(e){return l({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),f=u.extend({className:"field-group",template:n.dueMoreThan}),h=a.View.extend({className:"field-group",attributes:{"data-date-type":"dueInNext"},template:n.dueInNext,getValues:function(){var e=this.$el.find(".js-val").val();if(e)return{from:"andNot"===this.$el.find(".js-clause").val()?"0":null,to:e+this.$(".js-measurement").val()}},updateFromValues:function(e){if((!e.from||"0"===e.from)&&e.to){var t=this.model.parseRelativeStr(e.to),a="0"===e.from?"andNot":"orIs";return this.$(".js-val").val(t.val),this.$(".js-clause").val(a),t.measurement&&this.$(".js-measurement").val(t.measurement),!0}},render:function(){return l({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),c=a.View.extend({className:"field-group",attributes:{"data-date-type":"dateBetween"},template:n.dateBetween,getValues:function(){return{startDate:this.$el.find(".js-start-date").val(),endDate:this.$el.find(".js-end-date").val()}},updateFromValues:function(e){if(e.startDate||e.endDate)return this.$el.find(".js-start-date").val(e.startDate),this.$el.find(".js-end-date").val(e.endDate),!0},bindCalendar:function(e,a){var r=this.$el.find("."+a)[0],n=this.$el.find("."+e)[0],i=t.extend({},this.model.calendarConfig,{inputField:n,button:r});Calendar.setup(i)},render:function(){return l({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]}),this.bindCalendar("js-end-date","js-end-date-trigger"),this.bindCalendar("js-start-date","js-start-date-trigger"),this.$el}}),m=a.View.extend({className:"field-group",attributes:{"data-date-type":"inRange"},template:n.inRange,getValues:function(){return{from:this.$el.find(".js-start-range").val(),to:this.$el.find(".js-end-range").val()}},updateFromValues:function(e){if(e.from||e.to)return this.$el.find(".js-start-range").val(e.from),this.$el.find(".js-end-range").val(e.to),!0},render:function(){return l({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),p=a.Model.extend({initialize:function(e){this.from$El=e.$el.find(".js-date-picker-from").hide(),this.to$El=e.$el.find(".js-date-picker-to").hide(),this.startDate$El=e.$el.find(".js-date-picker-start-date").hide(),this.endDate$El=e.$el.find(".js-date-picker-end-date").hide(),this.errors=r(e.$el.find("fieldset.js-date-picker-errors")),this.calendarConfig=r(e.$el.find("fieldset.datepicker-params"))},parseRelativeStr:function(e){var t=e.slice(e.length-1),a=e.slice(0,e.length-1);return{val:a,measurement:t}},update:function(e){this.clear(),e&&("undefined"!=typeof e.from&&this.from$El.val(e.from),"undefined"!=typeof e.to&&this.to$El.val(e.to),"undefined"!=typeof e.startDate&&this.startDate$El.val(e.startDate),"undefined"!=typeof e.endDate&&this.endDate$El.val(e.endDate))},toJSON:function(){return{from:this.from$El.val(),to:this.to$El.val(),startDate:this.startDate$El.val(),endDate:this.endDate$El.val(),errors:this.errors}},clear:function(){this.from$El.val(""),this.to$El.val(""),this.startDate$El.val(""),this.endDate$El.val("")}}),v=a.View.extend({initialize:function(a){var r=this;this.verb=a.verb,this.model=new p({$el:this.$el}),this.setElement(e("<div />").addClass("js-picker-ui").appendTo(this.$el)),this.views=[];var n=!e.browser.msie||parseInt(e.browser.version,10)<10;t.each(a.dateTypes,function(t){var a=new t({model:r.model});r.views.push(a),n?a.$el.delegate(":text","input",function(){r.update(a)}):(a.$el.delegate(":text","keydown",function(){var t=e(this),n=t.val();t.one("keyup",function(){t.val()!==n&&r.update(a)})}),a.$el.delegate(":text","change",function(){r.update(a)})),a.$el.delegate(":radio,select,input","change",function(){r.update(a)}).delegate(".aui-iconfont-calendar","click",function(){r.update(a)})})},update:function(e,a){this.model.update(e.getValues()),t.each(this.views,function(t){t===e?t.$(":radio").prop("checked",!0):t.$(":radio").prop("checked",!1)})},render:function(){var a=this,r=this.model.toJSON();t.each(this.views,function(e){a.$el.append(e.render(a.verb))}),e.each(this.views,function(t,n){if(this.updateFromValues(r))return a.update(this),r.errors&&e.each(r.errors,function(t,a){return e("<div />").addClass("error").text(a).appendTo(n.$el),!1}),!1}),window.setTimeout(function(){a.$el.find(":radio:checked").focus()},30)}},{createDueDateSearcher:function(e){return new v({el:e,dateTypes:[d,f,h,c,m]}).render()},createResolvedDateSearcher:function(e){return new v({el:e,dateTypes:[o,u,c,m]}).render()},createCreatedDateSearcher:function(e){return new v({el:e,dateTypes:[o,u,c,m]}).render()},createUpdatedDateSearcher:function(e){return new v({el:e,dateTypes:[o,u,c,m]}).render()},createCustomDateSearcher:function(e){return console.log(v,e),new v({el:e,dateTypes:[o,u,c,m]}).render()}});return v});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initDateSearchers.js' */
require(["jira/searchers/element/date-searcher","jira/util/events","jira/util/events/types","jira/util/events/reasons"],function(e,t,a,r){function c(t){t.find(".js-duedate-searcher").each(function(){e.createDueDateSearcher(this)})}function n(t){t.find(".js-resolutiondate-searcher").each(function(){e.createResolvedDateSearcher(this)})}function i(t){t.find(".js-created-searcher").each(function(){e.createCreatedDateSearcher(this)})}function s(t){t.find(".js-updated-searcher").each(function(){e.createUpdatedDateSearcher(this)})}function h(t){t.find(".js-customdate-searcher").each(function(){e.createCustomDateSearcher(this)})}function u(t){t.find(".js-statuscategorychangedate-searcher").each(function(){e.createCustomDateSearcher(this)})}t.bind(a.NEW_CONTENT_ADDED,function(e,t,a){a===r.criteriaPanelRefreshed&&(c(t),n(t),i(t),s(t),h(t),u(t))})});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/elements/group-sparkler.js' */
define("jira/searchers/elements/group-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/user-utils","jira/skate","wrm/context-path"],function(e,t,r,s){return r("js-group-checkboxmultiselect",{type:r.type.CLASSNAME,created:function(r){new e({element:r,maxInlineResultsDisplayed:5,content:"mixed",ajaxOptions:{url:s()+"/rest/api/latest/groups/picker",data:{showAvatar:!0},query:!0,formatResponse:function(e){return t.formatGroupResponse(e,!1)}}})}})});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/elements/user-group-sparkler.js' */
define("jira/searchers/elements/user-group-sparkler",["jira/ajs/select/checkbox-multi-select","jira/data/parse-options-from-fieldset","jira/searchers/user-utils","jira/skate","jquery","wrm/context-path"],function(e,r,s,t,a,i){return t("js-usergroup-checkboxmultiselect",{type:t.type.CLASSNAME,created:function(t){var n={};a(t).siblings(".user-group-searcher-params").each(function(){n=r(a(this))}),n.showAvatar=!0,new e({element:t,maxInlineResultsDisplayed:10,content:"mixed",ajaxOptions:{url:i()+"/rest/api/latest/groupuserpicker",data:n,query:!0,formatResponse:s.formatUserGroupResponse}})}})});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/elements/user-sparkler.js' */
define("jira/searchers/elements/user-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/user-utils","jira/skate","wrm/context-path"],function(e,t,s,r){return s("js-user-checkboxmultiselect",{type:s.type.CLASSNAME,created:function(s){new e({element:s,maxInlineResultsDisplayed:5,content:"mixed",ajaxOptions:{url:r()+"/rest/api/latest/user/picker",data:{showAvatar:!0},query:!0,formatResponse:function(e){return t.formatUserResponse(e,!1)}}})}})});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/user-utils.js' */
define("jira/searchers/user-utils",["jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","underscore","wrm/context-path"],function(r,e,n,t){function s(e){var n=o(e.users,!0),t=a(e.groups,!0),s=[].concat(n).concat(t);return[new r({items:s})]}function o(r,t){return n.map(r.users,function(r){return new e({highlighted:!0,html:r.html,icon:r.avatarUrl,label:r.displayName,value:(t?"user:":"")+r.accountId})})}function a(r,s){return n.map(r.groups,function(r){return new e({highlighted:!0,html:r.html,icon:t()+"/images/icons/icon_groups_16.png",label:r.name,value:(s?"group:":"")+r.name})})}return{formatGroupResponse:a,formatUserResponse:o,formatUserGroupResponse:s}});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/element/label-sparkler.js' */
define("jira/searchers/element/label-sparkler",["jira/ajs/select/checkbox-multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/skate","jquery","underscore","wrm/context-path"],function(e,t,l,r,a,s,n){return r("js-label-checkboxmultiselect",{type:r.type.CLASSNAME,created:function(r){var a=new e({element:r,ajaxOptions:{url:n()+"/rest/api/1.0/labels/suggest",query:!0,minQueryLength:0,formatResponse:function(e){var r=a.model.getSelectedValues();return[new t({items:s.map(s.sortBy(s.reject(e.suggestions,function(e){return s.contains(r,e.label)}),"label"),function(e){return new l({highlighted:!0,html:e.html,label:e.label,value:e.label,title:e.label})})})]}}})}})});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/element/sparkler.js' */
define("jira/searchers/element/sparkler",["jira/ajs/select/checkbox-multi-select","jira/skate"],function(e,t){return t("js-default-checkboxmultiselect",{type:t.type.CLASSNAME,created:function(t){new e({element:t})}})});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/element/status-lozenge-sparkler.js' */
define("jira/searchers/element/status-lozenge-sparkler",["jira/ajs/select/checkbox-multi-select-status-lozenge","jira/skate"],function(e,t){return t("js-default-checkboxmultiselectstatuslozenge",{type:t.type.CLASSNAME,created:function(t){new e({element:t})}})});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initSparklers.js' */
require(["jira/searchers/element/sparkler","jira/searchers/element/status-lozenge-sparkler","jira/searchers/element/label-sparkler"]);;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initUserSparkler.js' */
require(["jira/searchers/elements/group-sparkler","jira/searchers/elements/user-sparkler","jira/searchers/elements/user-group-sparkler"]);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchPageModule.js' */
define("jira/issues/search-page-module",["require"],function(e){"use strict";var t=e("jira/issues/basemodel"),s=e("underscore"),i=e("jira/util/safe-logger"),r=e("jira/featureflags/feature-manager"),n=e("jira/issues/navigator/metrics"),u=r.isFeatureEnabled("empanada.gin-in-spa"),a=r.isFeatureEnabled("empanada.gin.manually-set-browser-metrics-start-end-in-list-view"),o=e("jira/analytics/web-client"),l=r.isFeatureEnabled("gin-analytics-to-support-tti-definition"),c=e("jira/issues/utils/issue-nav-render-state");return t.extend({namedEvents:["changeFilterProps"],properties:["currentLayout","layouts","filter","jql","searchId"],defaults:function(){return{filter:null,jql:null}},initialize:function(t,i){s.extend(this,i),this.registerColumnPicker(),this.setLayouts({}),this.registerLayout("list-view",{label:"List View",iconClass:"aui-iconfont-view-table",View:JIRA.Issues.FullScreenLayout}),this.registerLayout("split-view",{label:"Detail View",iconClass:"aui-iconfont-view-list",View:e("jira/issues/views/details")}),this._onFilterChanged(),this.on("change:filter",this._onFilterChanged,this),JIRA.Issues.Application.on("issueEditor:close",this.returnToSearch,this),JIRA.Issues.Application.on("issueEditor:loadComplete",function(e,t){this.standalone||t.reason||(this.searchResults.selectIssueById(e.getId(),{reason:"issueLoaded"}),this.searchResults.updateIssueById({id:e.getId(),action:"rowUpdate"},{filter:this.getFilter()}),e.getKey()&&JIRA.Issues.Application.execute("navigation:updateState",{selectedIssueKey:e.getKey()},{replace:!0,reason:"issuekey-changed"}))},this),JIRA.Issues.Application.on("issueEditor:saveSuccess",function(e){this.searchResults.updateIssueById({id:e.issueId,action:"inlineEdit"},{filter:this.getFilter()})},this),JIRA.Issues.Application.on("navigation:stateChanged",this.onStateChanged,this)},registerColumnPicker:function(){this.columnConfig=JIRA.Issues.ColumnPicker.create({search:this})},getInactiveLayouts:function(){var e=[];return s.each(this.getLayouts(),function(t,s){s!==JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()&&e.push(t)},this),e},getActiveLayout:function(){return this.getLayouts()[JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()]},changeLayout:function(e,t){var r,n=this.getLayout(e),a=this.getCurrentLayout();if("undefined"!=typeof a&&c.computeNext({hasStartedTransitioningBetweenViews:!0}),JIRA.Issues.changingLayout=!0,jQuery("body, html").scrollTop(0),t=s.defaults({},t,{ajax:!0,render:!0}),n){if(a instanceof n.View)return;if(a&&a.close&&(a.close(),this.searchResults.unselectIssue({replace:!0})),JIRA.Issues.LayoutPreferenceManager.setPreferredLayoutKey(e,t),r=new n.View({fullScreenIssue:this.fullScreenIssue,issueContainer:this.issueContainer,issueCacheManager:this.issueCacheManager,search:this.search,searchContainer:this.searchContainer,searchHeaderModule:this.searchHeaderModule,columnConfig:this.columnConfig,searchPageModule:this}),r.on("close",function(){this.searchContainer.find(".navigator-content").addClass("pending")},this),r.on("render",function(){this.searchContainer.find(".navigator-content").removeClass("pending"),JIRA.trigger(JIRA.Events.LAYOUT_RENDERED,[e])},this),t.render&&r.render(),this.setCurrentLayout(r),this.standalone=!1,u&&"undefined"!=typeof Storage)try{window.localStorage.setItem("gin-layout-key",e)}catch(h){i.safeError("GlobalIssueNavigator","Failed to set localStorage item with: "+h.message)}if(l){var d=this.initialIssueTableState&&this.initialIssueTableState.issueTable&&this.initialIssueTableState.issueTable.issueIds;d&&o.sendScreenEvent("split-view"===e?"issueNavigatorDetailViewScreen":"issueNavigatorListViewScreen",null,{issuesLoaded:d.length,navigatorScope:"global"})}}},createLayout:function(){this.getCurrentLayout()||(this.changeLayout(JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),{render:!1}),this.fullScreenIssue.deactivate())},_onFilterChanged:function(){var e=this.previous("filter");e&&e.off("change",this.triggerChangeFilterProps,this);var t=this.getFilter();t&&t.on("change",this.triggerChangeFilterProps,this)},getLayout:function(e){return this.getLayouts()[e]||null},getSortedLayouts:function(){return s.sortBy(this.getLayouts(),"label")},registerLayout:function(e,t){t.id=e,this.getLayouts()[e]=t},getJqlDeferred:function(){var e=new jQuery.Deferred,t=this;return s.defer(function(){t.queryModule.searchersReady().always(function(){s.defer(function(){e.resolve(t.getEffectiveJql())})})}),e.promise()},registerIssueSearchManager:function(e){this.issueSearchManager=e},registerIssueCacheManager:function(e){this.issueCacheManager=e},registerQueryModule:function(e){this.queryModule=e,this.queryModule.onJqlChanged(this.queryModuleSearchRequested,this),this.queryModule.onJqlError(this.disableLayoutSwitcher,this),this.queryModule.onJqlSuccess(this.enableLayoutSwitcher,this),this.queryModule.onVerticalResize(JIRA.Issues.triggerVerticalResize),this.queryModule.onQueryTooComplexSwitchToAdvanced(function(){JIRA.Issues.Application.execute("analytics:trigger","kickass.queryTooComplexSwitchToAdvanced")}),this.queryModule.onBasicModeCriteriaCountWhenSearching(function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.basicModeCriteriaCountWhenSearching",e)}),this.queryModule.onChangedPreferredSearchMode(function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.switchto"+e)}),this.queryModule.onSearchChanged(function(e){var t,s,i=this.getState(),r=e.newJql,n=i.filterJql,u=i.jql;null===u?(t=n!==r,s=n!==r):(t=n!==u||u!==r,s=u!==r),this.filterModule.updateFilterHeader({isEdited:t,isPendingSearch:s})}.bind(this)),JIRA.Shifter.register(new JIRA.Issues.SearchShifter({isBasicMode:this.queryModule.isBasicMode.bind(this.queryModule),isFullScreenIssue:this.isFullScreenIssueVisible.bind(this),searcherCollection:this.queryModule.getSearcherCollection()}))},disableLayoutSwitcher:function(){this.layoutSwitcher&&this.layoutSwitcher.disableLayoutSwitcher()},enableLayoutSwitcher:function(){this.layoutSwitcher&&this.layoutSwitcher.enableLayoutSwitcher()},registerLayoutSwitcher:function(e){this.layoutSwitcher=e},registerFilterModule:function(e){this.filterModule&&(this.filterModule.off("filterRemoved"),this.filterModule.off("filterSelected")),this.filterModule=e,this.filterModule.on("filterRemoved",function(e){var t=this.getFilter();t&&e.filterId===t.getId()&&this.resetToBlank()},this),this.filterModule.on("filterSelected",function(e){this.resetToFilter(e.filterId)},this)},registerSearch:function(e){this.search=e,this.searchResults=this.search.getResults(),this.searchResults.on("change:resultsId",this._handleSearchResultsChange,this),this.searchResults.onStartIndexChange(this._handleSearchResultsChange,this),this.searchResults.onSelectedIssueChange(this._handleSearchResultsChange,this);var t=this.columnConfig;this.on("change:filter",function(){t.clearFilterConfiguration()}),this.searchResults.onColumnsChange(function(e){var s=e.getColumnConfig();s&&t.syncColumns(s,e.getColumns())}),this.searchResults.onColumnConfigChange(function(e){var s=e.getColumnConfig();s&&(t.setCurrentColumnConfig(s),t.syncColumns(s,e.getColumns()))}),t.onColumnsSync(function(t){e.stableUpdate({columnConfig:t})}),this.searchResults.onSelectedIssueChange(function(e){e.hasIssue()||JIRA.Issues.Application.execute("issueEditor:removeIssueMetadata")}.bind(this))},_handleSearchResultsChange:function(e,t){t=s.defaults({},t,{reason:"search-results-change"}),JIRA.Issues.Application.execute("navigation:navigate",this.searchResults.getState(),t)},registerSearchHeaderModule:function(e){this.searchHeaderModule=e},registerFullScreenIssue:function(e){this.fullScreenIssue=e,this.fullScreenIssue.bindIssueHidden(function(){JIRA.Issues.Application.execute("issueEditor:dismiss"),this.updateWindowTitle(this.getFilter()),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.searchContainer,JIRA.CONTENT_ADDED_REASON.returnToSearch])},this)},registerViewContainers:function(e){this.issueContainer=e.issueContainer,this.searchContainer=e.searchContainer},prevIssue:function(e){return this.standalone||"split-view"!==this.getCurrentLayoutKey()||JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"),!this._overlayIsVisible()&&(!(!JIRA.Issues.Application.request("issueEditor:canDismissComment")||this.standalone)&&(l?this.getCurrentLayout().prevIssue(e):this.getCurrentLayout().prevIssue(),!0))},nextIssue:function(e){return this.standalone||"split-view"!==this.getCurrentLayoutKey()||JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"),!this._overlayIsVisible()&&(!(!JIRA.Issues.Application.request("issueEditor:canDismissComment")||this.standalone)&&(l?this.getCurrentLayout().nextIssue(e):this.getCurrentLayout().nextIssue(),!0))},isCurrentlyLoadingIssue:function(){return this.fullScreenIssue.isVisible()?this.fullScreenIssue.isLoading():this.getCurrentLayout().isLoading()},_overlayIsVisible:function(){return AJS.$(".aui-blanket[aria-hidden='false']").length>0},getEffectiveIssueId:function(){return this.getEffectiveIssue().getId()},updateIssue:function(e){var t=e.action===JIRA.Issues.Actions.DELETE,s=this.fullScreenIssue.isVisible();return t?this._deleteIssue(e):s?this.fullScreenIssue.updateIssue(e).done(function(){this.standalone||this.searchResults.updateIssue(e,{showMessage:!1,filter:this.getFilter()})}.bind(this)):this.searchResults.updateIssue(e,{filter:this.getFilter()})},_deleteIssue:function(e){var t=this.fullScreenIssue.isVisible(),s=e.key===JIRA.Issues.Application.request("issueEditor:getIssueKey");return t?s?this.standalone?(this.resetToBlank(),JIRA.Issues.showNotification(e.message,e.key),(new jQuery.Deferred).resolve().promise()):(this.returnToSearch(),this.searchResults.updateIssue(e)):this.fullScreenIssue.updateIssue(e):this.searchResults.updateIssue(e)},getEffectiveIssueKey:function(){return this.getEffectiveIssue().getKey()},getEffectiveIssue:function(){var e,t=this.searchResults.hasHighlightedIssue(),s=this.searchResults.hasSelectedIssue();return e=new JIRA.Issues.SimpleIssue({id:JIRA.Issues.Application.request("issueEditor:getIssueId"),key:JIRA.Issues.Application.request("issueEditor:getIssueKey")}),this.standalone?e:s?this.searchResults.getSelectedIssue():t?this.searchResults.getHighlightedIssue():e},isHighlightedIssueAccessible:function(){return this.search.getResults().isHighlightedIssueAccessible()},returnToSearch:function(){this.standalone?(this.resetToBlank(),JIRA.trace("jira.returned.to.search")):this.fullScreenIssue.isVisible()?(JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-list-view-rendered"),this.searchResults.unselectIssue(),JIRA.Issues.Application.execute("issueEditor:beforeHide"),this.queryModule.refreshLayout&&this.queryModule.refreshLayout()):JIRA.trace("jira.returned.to.search"),jQuery.event.trigger("updateOffsets.popout")},toggleFilterPanel:function(){return this.filterModule.toggleFilterPanel()},issueTableSortRequested:function(e,t){this.update({jql:e,startIndex:t})},issueTableSearchError:function(e){if(0!==e.status){this.filterModule.filtersComponent.markFilterHeaderAsInvalid();var t;try{t=JSON.parse(e.responseText)}catch(s){t={errorMessages:["Error occurred communicating with the server. Please reload the page and try again."]}}this.queryModule.onSearchError(t)}},issueTableSearchSuccess:function(e){this.update({startIndex:e.startIndex}),this.queryModule.onSearchSuccess(e.warnings)},issueTableStableUpdate:function(e){this.update({startIndex:e})},confirmNavigation:function(e){e=s.defaults({},e,{confirm:function(e){return window.confirm(e)},ignoreDirtiness:!1});var t=JIRA.DirtyForm.getDirtyWarning()||JIRA.Issue.getDirtyCommentWarning();return!!e.ignoreDirtiness||void 0===t||e.confirm(t)},isFullScreenIssueVisible:function(){return this.fullScreenIssue&&this.fullScreenIssue.isVisible()},isSplitViewLayout:function(){return"split-view"===this.getCurrentLayoutKey()},isListViewLayout:function(){return"list-view"===this.getCurrentLayoutKey()},isIssueVisible:function(){var e=JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey();return!!this.isFullScreenIssueVisible()||("list-view"===e?this.fullScreenIssue.isVisible():"split-view"===e&&this.search.getResults().hasIssues())},queryModuleSearchRequested:function(e){this.update({jql:e,startIndex:0,selectedIssueKey:null,searchId:s.uniqueId()})},filterModuleSaved:function(e){this.reset({filter:e.getId(),filterJql:e.getJql()})},discardFilterChanges:function(){this.update({jql:null,selectedIssueKey:null},!0)},getState:function(){var e=this.getFilter(),t={filter:e&&e.getId(),filterJql:e&&e.getJql(),jql:this.getJql()};return this.standalone?t.selectedIssueKey=JIRA.Issues.Application.request("issueEditor:getIssueKey"):s.extend(t,this.search.getResults().getState()),t},_doSearch:function(e){e=e||{};var t,i={},r=this.getFilter();return i.startIndex=e.startIndex,r&&(i.filterId=r.getId()),e.columnConfig&&(i.columnConfig=e.columnConfig),i.jql=this.getEffectiveJql(),t=this.issueSearchManager.search(i),t.done(function(t){this.fullScreenIssue.isVisible()&&!AJS.Meta.get("serverRenderedViewIssue")&&JIRA.Issues.Application.execute("issueEditor:beforeHide"),this.searchResults.resetFromSearch(s.extend(e,t.issueTable)),this.queryModule.onSearchSuccess(t.warnings),jQuery.event.trigger("updateOffsets.popout")}.bind(this)).fail(function(t){"abort"!==t.statusText&&(400===t.status&&e.selectedIssueKey?this.reset({selectedIssueKey:e.selectedIssueKey},{replace:!0}):(this.searchResults.resetFromSearch(s.extend(s.pick(e,"selectedIssueKey"),this.searchResults.defaults)),this.issueTableSearchError(t)))}.bind(this)),t},updateWindowTitle:function(e){if(!this.isFullScreenIssueVisible()){var t=e,s=AJS.format("{0} - {1}","Issue navigator",JIRA.Settings.ApplicationTitle.get());t&&t.getIsValid()?document.title="["+t.getName()+"] "+s:document.title=s}},_fetchTotalCount:function(){var e=this.issueSearchManager._fetchTotalCount(this.getEffectiveJql());e.done(function(e){this.searchResults.updateDbIssues(e)}.bind(this))},_applyState:function(e,t,i){i=i||{};var r=this.toJSON();if(this.set(s.extend({},this.defaults(),s.pick(e,this.properties))),this.updateWindowTitle(this.getFilter()),t){var n=e.filter&&null==e.jql?e.filter.getJql():e.jql;this.queryModule.resetToQuery(n,{focusQuery:i.isNewSearch}).always(function(){this.queryModule.setVisible(!e.filter||e.filter.getIsValid())}.bind(this))}var u;this.shouldPerformNewSearch(r,this.toJSON())?u=this._doSearch(e):(u=(new jQuery.Deferred).resolve(),s.indexOf(["search-results-change","update-filter-jql","issuekey-changed"],i.reason)===-1&&("selectedIssueKey"in e&&this.searchResults.selectIssueByKey(e.selectedIssueKey),"startIndex"in e&&!e.selectedIssueKey&&this.searchResults.goToPage(e.startIndex))),this.trigger("searching",{searchPromise:u}),e.filter&&e.filter.getJql()!==e.filterJql&&JIRA.Issues.Application.execute("navigation:updateState",{filterJql:e.filter.getJql()},{replace:!0,reason:"update-filter-jql"})},shouldPerformNewSearch:function(e,t){var s=e.filter&&e.filter.getId(),i=t.filter&&t.filter.getId(),r=s!==i,n=t.jql!==e.jql,u=t.searchId!==e.searchId;return r||n||u},refreshSearch:function(){return this._doSearch(s.extend({},this.getState(),{selectedIssueKey:void 0}))},onStateChanged:function(e,t){t=s.defaults({},t,{resetQuery:!1,routerEvent:!1});var i=s.clone(e);if(!t.forceFullPageLoad)return e.isStandaloneIssue()?void this.resetToStandaloneIssue(i):t.routerEvent?this.applyState(i,!this._isSearchStateEqual(i),t):this.applyState(i,t.resetQuery,t)},update:function(e,t,i){JIRA.Issues.Application.execute("navigation:navigate",e,s.extend({},i,{resetQuery:t}))},reset:function(e,t){e.searchId=s.uniqueId(),JIRA.Issues.Application.execute("navigation:navigate",e,s.extend({},t,{reset:!0,resetQuery:!0}))},_deactivateCurrentLayout:function(){var e=this.getCurrentLayout();e&&(e.close&&e.close(),this.setCurrentLayout(null))},resetToStandaloneIssue:function(e){n.notifyIssueView(),this._deactivateCurrentLayout(),this.set(this.defaults()),this.standalone=!0,this.fullScreenIssue.show({key:e.selectedIssueKey,viewIssueQuery:e.viewIssueQuery})},applyState:function(t,s,i){i=i||{},this.getFilter()instanceof JIRA.Components.Filters.Models.Filter&&this.getFilter().getId()===t.filter&&(t.filter=this.getFilter());var r,o=t.filter&&!(t.filter instanceof JIRA.Components.Filters.Models.Filter),l=this.initSystemFilters();"split-view"===JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()?i.fullPageLoad?e("jira/issues/views/details/metrics").startImprovedBrowserMetrics(i.fullPageLoad):null!==t.selectedIssueKey&&JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"):"list-view"===JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()&&(t.selectedIssueKey?n.notifyIssueView(i.fullPageLoad):(a||n.notifyIssueNavList(i.fullPageLoad),i.fullPageLoad&&a&&!u&&n.startNotifyIssueNavList(),JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-list-view-rendered"))),JIRA.Issues.Application.execute("issueEditor:abortPending"),this.createLayout(),o&&(r=new jQuery.Deferred,l.always(function(){this.filterModule.getFilterById(t.filter).always(function(e){t.filter=e,r.resolve()})}.bind(this))),jQuery.when(r,l).always(function(){this._applyState(t,s,i)}.bind(this))},hasSelectedIssue:function(){return this.search.getResults().getSelectedIssue().getKey()},resetToFilter:function(e){this.reset({filter:e,searchId:s.uniqueId()})},resetToBlank:function(e){this.reset({jql:""},e)},isDirty:function(){var e=this.getFilter();return!!e&&e.getJql()!==this.getEffectiveJql()},getSearchMode:function(){return this.queryModule.getSearchMode()},getActiveBasicModeSearchers:function(){return this.queryModule.getActiveBasicModeSearchers()},setSessionSearch:function(e){AJS.$.ajax({data:{filterId:e.getId()},type:"PUT",url:AJS.contextPath()+"/rest/issueNav/1/issueTable/sessionSearch/"})},openFocusShifter:function(){JIRA.Issues.FocusShifter.show()},setAsInaccessible:function(e){this.issueTableModule.setAsInaccessible(e)},showInlineIssueLoadError:function(){var e=JIRA.Components.IssueViewer.Templates.Body.errorsLoading();JIRA.Messages.showErrorMsg(e,{closeable:!0})},getEffectiveJql:function(){var e=this.getFilter(),t=this.getJql();return s.isString(t)?t:e?e.getJql()||"":""},initSystemFilters:function(){return this.filterModule.initSystemFilters()},addOwnerToSystemFilters:function(e){var t=AJS.Meta.get("remote-user");if(!t)return e;var i=AJS.Meta.get("remote-user-fullname"),r=AJS.Meta.get("remote-user-avatar-url");return s.map(e,function(e){return e.ownerUserName=t,e.ownerDisplayName=i,e.avatarUrl=r,e})},focusIssueList:function(){this._allowLeftRightNavigation()&&this.getCurrentLayout()&&this.getCurrentLayout().focusIssueList()},focusIssueEditor:function(){this._allowLeftRightNavigation()&&this.getCurrentLayout()&&this.getCurrentLayout().focusIssueEditor()},handleUp:function(){return!!this._allowUpDownNavigation()&&(!this.searchResults.isFirstIssueHighlighted()&&this.prevIssue())},handleDown:function(){return!!this._allowUpDownNavigation()&&this.nextIssue()},_allowLeftRightNavigation:function(){return!AJS.keyboardShortcutsDisabled},_allowUpDownNavigation:function(){return!AJS.keyboardShortcutsDisabled&&(!(AJS.InlineLayer.current||AJS.Dropdown.current||JIRA.Dialog.current||AJS.$(".aui-dropdown2:visible").length>0)&&(this.getCurrentLayout()&&!this.getCurrentLayout().isIssueViewActive()))},_isSearchStateEqual:function(e){var t=["filter","jql","startIndex"];return s.isEqual(s.pick(e,t),s.pick(this.getState(),t))},removeOpenTipsies:JIRA.Issues.Tipsy.revalidate,getCurrentLayoutKey:function(){var e=this.getCurrentLayout();if(e){var t=this.getLayouts(),i=s.find(t,function(t){return e instanceof t.View});if(i)return i.id}}})}),AJS.namespace("JIRA.Issues.SearchPageModule",null,require("jira/issues/search-page-module"));
//# sourceMappingURL=SearchPageModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/IssueSearchManager.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.IssueSearchManager");var e=require("jira/featureflags/feature-manager"),s=e.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli"),t=e.isFeatureEnabled("empanada.gin-in-spa");JIRA.Issues.IssueSearchManager=JIRA.Issues.BaseEvented.extend({namedEvents:["beforeSearch","searchError"],initialize:function(e){_.extend(this,e),this.issueKeys=new JIRA.Components.IssueViewer.Legacy.AsyncData},hasInitialSearch:function(){return!!this.initialIssueTableState},search:function(e){var i,r,a;if(e=_.extend({},e),_.isNumber(e.startIndex)===!1&&(e.startIndex=0),this.activeResultsReq){if(JSON.stringify(this.activeRequestData)===JSON.stringify(e))return(new jQuery.Deferred).reject().promise();this.activeResultsReq.abort()}return this.activeRequestData=e,this.triggerBeforeSearch(),this.issueTablePromise&&t?(i=new jQuery.Deferred,this.issueTablePromise.then(function(e){e&&(i.resolve(e),r="jira.search.finished.initial",a=!0)}.bind(this))["catch"](function(){i=this.activeResultsReq=this._doSearch(e),r="jira.search.finished.secondary",a=!1}.bind(this)),this.issueTablePromise=null):this.hasInitialSearch()?(i=(new jQuery.Deferred).resolve(this.initialIssueTableState),r="jira.search.finished.initial",this.initialIssueTableState=null,this.initialIssueIds=null,a=!0):(i=this.activeResultsReq=this._doSearch(e),r="jira.search.finished.secondary",a=!1),i.always(function(){this.activeResultsReq=null,this.activeRequestData=null,JIRA.trace(r)}.bind(this)),i.done(s?[this._updateIssueKeysOnSearchSuccess.bind(this),function(){s&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("retrieveIssueTableStableIds")}]:this._updateIssueKeysOnSearchSuccess.bind(this)),i.fail(function(e){s&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("retrieveIssueTableStableIds",{reason:"retrieve-issue-table-stable-ids-failed-with-status-code",statusCode:e.status,hasInitialTableState:a}),this.issueKeys.reset(),this.triggerSearchError(),_.defer(JIRA.trace,"jira.search.finished")}.bind(this)),i.pipe(function(e){return e.issueTable&&delete e.issueTable.issueKeys,e}).promise()},_doSearch:function(e){var s=/^-?\d+$/;if(e.filterId&&!s.test(e.filterId)){var t={status:400,responseText:JSON.stringify({errors:["Invalid filter id. Filter id must be a number."]})};return(new jQuery.Deferred).reject(t).promise()}return jQuery.ajax({type:"POST",url:AJS.contextPath()+"/rest/issueNav/1/issueTable",headers:JIRA.Issues.XsrfTokenHeader,data:_.extend(e,{layoutKey:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()})})},_fetchTotalCount:function(e){var s=JSON.stringify({jql:e,maxResults:0,startAt:0});return jQuery.ajax({type:"POST",url:AJS.contextPath()+"/rest/api/2/search",contentType:"application/json",data:s}).pipe(function(e){return e.total})},_updateIssueKeysOnSearchSuccess:function(e){var s,t=e.issueTable.issueIds,i=e.issueTable.issueKeys;t&&i?(s={},_.each(t,function(e,t){s[e]={value:i[t],error:!1}}),this.issueKeys.reset(s)):(s=JIRA.Issues.IssueSearchManager._extractIssueKeysFromTable(e.issueTable.table),this.issueKeys.reset(s))},getRowsForIds:function(e,s){if(!e.length)return(new jQuery.Deferred).resolve({}).promise();var t=jQuery.ajax({data:_.extend({id:e,layoutKey:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()},s),type:"POST",headers:JIRA.Issues.XsrfTokenHeader,url:AJS.contextPath()+"/rest/issueNav/1/issueTable/stable"});return t.fail(function(){this.triggerSearchError()}.bind(this)),t.pipe(function(e){return e.issueTable}).done(function(s){this.issueKeys.setMultiple(JIRA.Issues.IssueSearchManager._extractIssueKeysFromTable(s.table,e)),_.defer(JIRA.trace,"jira.search.finished")}.bind(this)).promise()},setAsInaccessible:function(e){return this.issueKeys.setError(e)}},{_extractIssueKeysFromTable:function(e,s){var t={};return AJS.$(e).find(".issuerow").each(function(e){var i=AJS.$(this),r=s?s[e]:i.attr("rel"),a=i.data("issuekey")||null;r&&(t[r]=a?{value:a,error:!1}:{error:!0})}),t}})}();
//# sourceMappingURL=IssueSearchManager-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchResults.js' */
!function(e){"use strict";AJS.namespace("JIRA.Issues.SearchResults");window.require("jira/featureflags/feature-manager");JIRA.Issues.SearchResults=JIRA.Issues.BaseModel.extend({defaults:{issueIds:[],selectedIssue:new JIRA.Issues.SimpleIssue,highlightedIssue:new JIRA.Issues.SimpleIssue,total:0,hasTotalCountFromServer:!0},properties:["columnSortJql","highlightedIssue","issueIds","issueIdsForPage","jiraHasIssues","pageSize","resultsId","selectedIssue","startIndex","sortBy","columns","table","total","initialPayload","columnConfig","hasTotalCountFromServer"],namedEvents:["prevIssueSelected","nextIssueSelected","issueUpdated","issueDeleted","issueDoesNotExist","stableUpdate"],initialize:function(e,s){JIRA.Issues.ModelUtils.makeTransactional(this,"resetFromSearch","selectNextIssue","selectPrevIssue"),this.issueUpdateCallbacks=[],this._issueSearchManager=s.issueSearchManager,this._initialSelectedIssue=s.initialSelectedIssue,this._columnConfig=s.columnConfig},getStartIndexForPage:function(e){return e*this.getPageSize()},hasIssue:function(e){return _.indexOf(this.getIssueIds(),e)!==-1},getPager:function(){if(this.hasIssue(this.getSelectedIssue().getId())){var e=this.getIssueIds(),s=this.getSelectedIssue().getId(),t=_.indexOf(e,s),i=this.getTotal(),n=e.length,u={position:JIRA.NumberFormatter.format(t+1),resultCount:JIRA.NumberFormatter.format(i)};if(t>0){var r=this._getPrevIssueId(s);r&&(u.previousIssue={id:r,key:this._getIssueKeyForId(r)})}if(t<i-1&&t<n-1){var h=this._getNextIssueId(s);h&&(u.nextIssue={id:h,key:this._getIssueKeyForId(h)})}return u}},getNumberOfPages:function(){return this._getPageNumberForStartIndex(this.getDisplayableTotal()-1)},removeIssue:function(e){e=parseInt(e,10);var s=this.getIssueIds()[0]===e,t=this.getHighlightedIssue().getId()===e,i=_.last(this.getIssueIds())===e;t&&(i?s||this.highlightPrevIssue({replace:!0}):this.highlightNextIssue({replace:!0})),this.setIssueIds(_.without(this.getIssueIds(),e)),this.setTotal(this.getTotal()-1),this.triggerIssueDeleted({id:e,key:this._getIssueKeyForId(e)})},isFirstIssueHighlighted:function(){return!!this.hasHighlightedIssue()&&this.getHighlightedIssue().getId()===this.getIssueIds()[0]},updateIssueById:function(e,s){return this.updateIssue(e,s)},updateIssue:function(s,t){var i=s.action===JIRA.Issues.Actions.DELETE,n=s.id,u=[];return t=_.defaults({},t,{showMessage:!0,filter:null}),i?(this.removeIssue(n),t.showMessage&&this._notifyOfIssueUpdate(s),(new jQuery.Deferred).resolve().promise()):this.getResultForId(n,t.filter).done(function(i){_.each(this.issueUpdateCallbacks,function(e){var t=e.handler.call(e.ctx||window,n,i,s);t&&t.promise&&u.push(t)}),e.when(u).done(function(){t.showMessage&&this._notifyOfIssueUpdate(s)}.bind(this))}.bind(this))},_notifyOfIssueUpdate:function(e){e.message&&JIRA.Issues.showNotification(e.message,e.key),JIRA.trace("jira.search.stable.update")},getResultForId:function(e,s){var t={columnConfig:this._columnConfig.columnPickerModel.getColumnConfig()};return s&&!s.getIsSystem()&&(t=_.extend({filterId:s.getId()},t)),this._issueSearchManager.getRowsForIds([e],t)},isHighlightedIssueAccessible:function(){return this.hasHighlightedIssue()?!this._issueSearchManager.issueKeys.hasError(this.getHighlightedIssue().getId()):null},getDisplayableTotal:function(){return this.getIssueIds().length},selectIssueByKey:function(e,s){if(!e)return void this.unselectIssue();var t=this._getIssueIdForKey(e);t&&t!==-1?this._selectExistingIssueById(t,s):(this._unhighlightIssue(),this.getSelectedIssue().set({id:-1,key:e}),this.triggerIssueDoesNotExist())},_unhighlightIssue:function(){this.getHighlightedIssue().set({id:null,key:null})},selectFirstInPage:function(e){this.selectIssueById(this.getIssueIds()[this.getStartIndex()],e)},getPrevPageStartIndex:function(){var e=(this.getStartIndex()||0)-this.getPageSize();return e<0?null:e},getNextPageStartIndex:function(){var e=this.getPositionOfLastIssueInPage();return e>=this.getDisplayableTotal()?null:e},getPositionOfLastIssueInPage:function(){var e=this.getStartIndex(),s=this._pageSize();return Math.min(e+s,this.getDisplayableTotal())},highlightFirstInPage:function(){this.highlightIssueById(this.getIssueIds()[this.getStartIndex()])},selectIssueById:function(e,s){e?this._selectExistingIssueById(e,s):this.unselectIssue()},_selectExistingIssueById:function(e,s){e!==this.getSelectedIssue().getId()&&JIRA.Issues.Application.request("issueEditor:canDismissComment")&&(e=e?parseInt(e,10):null,this.getSelectedIssue().set({id:e,key:e?this._getIssueKeyForId(e):null},s),this.highlightIssueById(e))},highlightIssueById:function(e,s){s=_.defaults({},s,{replace:!1}),e&&e!==this.getHighlightedIssue().getId()&&(e=e?parseInt(e,10):null,this.getHighlightedIssue().set({id:e,key:e?this._getIssueKeyForId(e):null},s),e&&this.setStartIndex(this._getStartIndexForIssueId(e)))},getState:function(){return{selectedIssueKey:this.getSelectedIssue().getKey(),startIndex:this.getStartIndex()}},updateDbIssues:function(e){this.set({total:e,hasTotalCountFromServer:!0})},resetFromSearch:function(e){e.resultsId=_.uniqueId(),this.getSelectedIssue().set({id:null,key:null}),this.set({sortBy:null}),this.set({hasTotalCountFromServer:!e.totalCountAnEstimate}),this.set("startIndex",e.startIndex,{silent:!0}),this.set(_.pick(e,this.properties)),"string"==typeof e.selectedIssueKey?this.selectIssueByKey(e.selectedIssueKey):this.hasIssues()?this.highlightFirstInPage():this.getHighlightedIssue().set({id:null,key:null})},hasIssues:function(){return!!this.getIssueIds().length},isIssueOnPage:function(e){return _.indexOf(this.getPageIssueIds(),e)!==-1},isFirstIssueSelected:function(){if(this.hasIssue(this.getSelectedIssue().getId())){var e=this.getIssueIds(),s=this.getSelectedIssue().getId(),t=_.indexOf(e,s);return 0===t}return!1},getResultsForPage:function(s){if(_.extend(s,{columnConfig:this._columnConfig.columnPickerModel.getColumnConfig()}),this.getTable()){var t=this.getTable();return this.setTable(null,{silent:!0}),_.defer(function(){JIRA.trace("jira.search.finished")}),(new e.Deferred).resolve(t).promise()}return this.getResultsForIds(this.getPageIssueIds(),s)},getResultsForIds:function(s,t){var i=this,n=new e.Deferred;return this._issueSearchManager.getRowsForIds(s,t).done(function(e){var s=_.isArray(e.table);s||(i.setColumnConfig(e.columnConfig),i.setColumns(e.columns),i.setColumnSortJql(e.columnSortJql)),n.resolve(e.table)}).fail(n.reject).always(function(){_.defer(function(){JIRA.trace("jira.search.finished")})}),n},applyState:function(e){this.set(_.pick(e,this.properties))},unselectIssue:function(e){var s=this.getSelectedIssue();s.getId()&&JIRA.Issues.Application.request("issueEditor:canDismissComment")&&s.set({id:null,key:null},e)},hasSelectedIssue:function(){return!!this.getSelectedIssue().getId()},hasHighlightedIssue:function(){return!!this.getHighlightedIssue().getId()},getPageIssueIds:function(){var e=this.getStartIndex(),s=this._pageSize(),t=this.getIssueIds();return t?t.slice(e,Math.min(e+s,t.length)):[]},getPageIssues:function(){return _.map(this.getPageIssueIds(),function(e){return{id:e,key:this._getIssueKeyForId(e)}},this)},getPageNumber:function(){return Math.floor(this.getStartIndex()/this._pageSize())},getPositionOfIssueInPage:function(e){return this.getPositionOfIssueInSearchResults(e)%this._pageSize()},getPositionOfIssueInSearchResults:function(e){return _.indexOf(this.getIssueIds(),e)},selectNextIssue:function(s){if(!this.hasSelectedIssue())return(new e.Deferred).reject().promise();var t=this._getNextIssueId(this.getSelectedIssue().getId());return this._triggerNextIssueSelectedEvent(t),this._selectIssue(t,s)},selectPrevIssue:function(s){if(!this.hasSelectedIssue())return(new e.Deferred).reject().promise();var t=this._getPrevIssueId(this.getSelectedIssue().getId());return this._triggerPrevIssueSelectedEvent(t),this._selectIssue(t,s)},_selectIssue:function(s,t){return this.selectIssueById(s,t),(new e.Deferred).resolve(s).promise()},highlightNextIssue:function(s){if(!this.hasHighlightedIssue())return(new e.Deferred).reject().promise();var t=this._getNextIssueId(this.getHighlightedIssue().getId());return this.highlightIssueById(t,s),(new e.Deferred).resolve(t).promise()},highlightPrevIssue:function(s){if(!this.hasHighlightedIssue())return(new e.Deferred).reject().promise();var t=this._getPrevIssueId(this.getHighlightedIssue().getId());return this.highlightIssueById(t,s),(new e.Deferred).resolve(t).promise()},goToPage:function(s,t){if(t=_.defaults({},t,{replace:!1}),null===s||s===this.getStartIndex())return(new e.Deferred).resolve().promise();var i=this.getIssueIds()[s];return this.highlightIssueById(i,t),(new e.Deferred).resolve(i).promise()},onHighlightedIssueChange:function(e,s){this.getHighlightedIssue().on("change",e,s)},offHighlightedIssueChange:function(e,s){this.getHighlightedIssue().off("change",e,s)},onSelectedIssueChange:function(e,s){this.getSelectedIssue().on("change",e,s)},offSelectedIssueChange:function(e,s){this.getSelectedIssue().off("change",e,s)},onColumnConfigChange:function(e,s){this.on("change:columnConfig",e,s)},offColumnConfigChange:function(e,s){this.off("change:columnConfig",e,s)},onColumnsChange:function(e,s){this.on("change:columns",e,s)},offColumnsChange:function(e,s){this.off("change:columns",e,s)},onStartIndexChange:function(e,s){this.on("change:startIndex",e,s)},onNewIssueIds:function(e,s){this.on("change:issueIds",e,s)},offNewIssueIds:function(e,s){this.off("change:issueIds",e,s)},offStartIndexChange:function(e,s){this.off("change:startIndex",e,s)},onNewPayload:function(e,s){this.on("change:resultsId",e,s)},offNewPayload:function(e,s){this.off("change:resultsId",e,s)},onIssueUpdated:function(e,s){this.issueUpdateCallbacks.push({handler:e,ctx:s})},offIssueUpdated:function(e){var s=[];this.issueUpdateCallbacks=_.each(this.issueUpdateCallbacks,function(t){t.handler!==e&&s.push(t)}),this.issueUpdateCallbacks=s},_getNextIssueId:function(e){var s=this.getIssueIds();return s[Math.min(_.indexOf(s,e)+1,this.getDisplayableTotal()-1)]},getNextIssueForId:function(e){var s=this._getNextIssueId(e);return{id:s,key:this._getIssueKeyForId(s)}},getNextIssueForSelectedIssue:function(){return this.getNextIssueForId(this.getSelectedIssue().getId())},_getPrevIssueId:function(e){var s=this.getIssueIds();return s[Math.max(0,_.indexOf(this.getIssueIds(),e)-1)]},_getStartIndexForIssueId:function(e){var s=_.indexOf(this.getIssueIds(),e),t=this._pageSize();return Math.max(0,Math.floor(s/t)*t)},_getIssueIdForKey:function(e){return this._initialSelectedIssue&&e===this._initialSelectedIssue.key?this._initialSelectedIssue.id:this._getIssueKeysToIds()[e]},_getIssueKeyForId:function(e){return this._initialSelectedIssue&&e===this._initialSelectedIssue.id?this._initialSelectedIssue.key:this._getIssueIdsToKeys()[e]},_getIssueIdsToKeys:function(){return this._issueSearchManager.issueKeys.getAllCached()},_getIssueKeysToIds:function(){var e={},s=this._issueSearchManager.issueKeys.getAllCached();return _.each(s,function(s,t){e[s]=t}),e},_getPageNumberForStartIndex:function(e){return Math.floor(e/this._pageSize())},_pageSize:function(){return this.getPageSize()},_triggerPrevIssueSelectedEvent:function(e){if(e!==this.getSelectedIssue().getId()){var s=this._getPrevIssueId(e);this.trigger("prevIssueSelected",{prevIssue:{id:e,key:this._getIssueKeyForId(e)},prevPrevIssue:{id:s,key:this._getIssueKeyForId(s)}})}},_triggerNextIssueSelectedEvent:function(e){if(e!==this.getSelectedIssue().getId()){var s=this._getNextIssueId(e);this.trigger("nextIssueSelected",{nextIssue:{id:e,key:this._getIssueKeyForId(e)},nextNextIssue:{id:s,key:this._getIssueKeyForId(s)}})}}})}(AJS.$);
//# sourceMappingURL=SearchResults-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchModule.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.SearchModule"),JIRA.Issues.SearchModule=JIRA.Issues.BaseEvented.extend({initialize:function(e){this._issueSearchManager=e.issueSearchManager,this._searchPageModule=e.searchPageModule,this._searchResults=new JIRA.Issues.SearchResults(null,{issueSearchManager:this._issueSearchManager,initialSelectedIssue:e.initialSelectedIssue,columnConfig:this._searchPageModule.columnConfig}),JIRA.Issues.Application.reqres.setHandler("issueNav:currentSearchRequest",this.getCurrentSearchRequest,this),JIRA.Issues.Application.commands.setHandler("issueNav:refreshSearch",this.refresh,this)},doSort:function(e){e&&this._searchPageModule.update({jql:e,startIndex:null,selectedIssueKey:null},!0)},getFilterId:function(){var e=this._searchPageModule.getFilter();return e&&e.getId()},getJql:function(){return this._searchPageModule.getJql()},getEffectiveJql:function(){return this._searchPageModule.getEffectiveJql()},getResults:function(){return this._searchResults},getState:function(){return this._searchPageModule.getState()},getCurrentSearchRequest:function(){return{jql:this.getJql(),filterId:this.getFilterId()}},isStandAloneIssue:function(e){return e=e||this._searchPageModule.getState(),!!e.selectedIssueKey&&!_.isString(e.jql)&&!e.filter},onBeforeSearch:function(e,s){this._issueSearchManager.bindBeforeSearch(e,s)},offBeforeSearch:function(e,s){this._issueSearchManager.unbindBeforeSearch(e,s)},onSearchError:function(e,s){this._issueSearchManager.bindSearchError(e,s)},offSearchError:function(e,s){this._issueSearchManager.unbindSearchError(e,s)},refresh:function(){return this._searchPageModule.refreshSearch()},stableUpdate:function(e){this._searchResults.triggerStableUpdate(_.extend({force:!0},e))}})}();
//# sourceMappingURL=SearchModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/EmptyResultsView.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.EmptyResultsView"),JIRA.Issues.EmptyResultsView=JIRA.Issues.BaseView.extend({initialize:function(e){this.searchResults=e.searchResults},render:function(){var e,s,t,n,a=JIRA.Issues.UserParms.get().createIssue;JIRA.Issues.LoginUtils.isLoggedIn()?this.searchResults.getJiraHasIssues()===!1?(e="No issues have been created (yet)",s=a?"Be the first to \u003ca\u003ecreate an issue\u003c/a\u003e":null,t="empty-results-message",n="create"):(e="No issues were found to match your search",s=a?"Try modifying your search criteria or \u003ca\u003ecreating a new issue\u003c/a\u003e":"Try modifying your search criteria",t="no-results-message",n="create"):(e="No issues were found to match your search",s="Try \u003ca\u003elogging in\u003c/a\u003e to see more results",t="not-logged-in-message",n="login"),this.$el.addClass("empty-results"),this.$el.html(JIRA.Templates.IssueNavTable.noResults({message:e,hint:s,cssClass:t}));var r=this.$(".no-results-hint a");switch(n){case"create":r.addClass("create-issue").attr("href",AJS.contextPath()+"/secure/CreateIssue!default.jspa");break;case"login":r.attr("href",JIRA.Issues.LoginUtils.redirectUrlToCurrent()).addClass("login-link")}_.defer(jQuery.event.trigger,"updateOffsets.popout"),_.defer(JIRA.trace,"jira.search.finished")}})}();
//# sourceMappingURL=EmptyResultsView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:search', location = 'content/js/components/search/Search.js' */
define("jira/issues/components/search",["require"],function(s){"use strict";var e=s("underscore"),t=s("jira/issues/application"),i=s("jira/components/libs/marionette-1.4.1/controller"),h=s("jira/issues/navigator/metrics");return i.extend({initialize:function(s){this.searchModule=s.searchModule,this.searchResults=s.searchResults,this.columnConfig=s.columnConfig,e.bindAll(this,"_onIssueUpdated","_onHighlightedIssueChange","_onSelectedIssueChange","_onBeforeSearch"),this.listenTo(this.searchResults,"change:resultsId change:startIndex stableUpdate issueDeleted",function(){this._doSearch()}),this.searchResults.onIssueUpdated(this._onIssueUpdated),this.searchResults.onHighlightedIssueChange(this._onHighlightedIssueChange),this.searchResults.onSelectedIssueChange(this._onSelectedIssueChange),this.searchModule.onBeforeSearch(this._onBeforeSearch)},_onSelectedIssueChange:function(s){this.trigger("selectedIssueChanged",s,this.searchResults.getHighlightedIssue())},_onIssueUpdated:function(s,e,t){this.trigger("issueUpdated",s,e,t)},_onHighlightedIssueChange:function(s){this.trigger("issueHighlighted",s.getId())},_onBeforeSearch:function(){this.trigger("before:search")},close:function(){this.stopListening(),this.searchResults.offIssueUpdated(this._onIssueUpdated),this.searchResults.offHighlightedIssueChange(this._onHighlightedIssueChange)},_doSearch:function(){this.searchInProgress=!0;var s=this.searchModule.getFilterId(),t=s<0;s=t||e.isNull(s)?void 0:s,this.searchResults.getResultsForPage({jql:this.searchModule.getEffectiveJql(),filterId:s}).always(function(){this.searchInProgress=!1}.bind(this)).done(function(s){this.searchResults.hasHighlightedIssue()||this.searchResults.highlightFirstInPage(),this.trigger("search",s,this.searchResults)}.bind(this)).fail(function(){this.trigger("error:search")}.bind(this))},goToPage:function(s){this.searchInProgress||(this._onBeforeSearch(),this.searchResults.goToPage(s))},sort:function(s){if(!this.searchInProgress){var e=this.searchModule.getResults().getColumnSortJql(),t=e[s];t&&this.searchModule.doSort(t)}},runCurrentSearch:function(){this.searchInProgress||t.request("issueEditor:canDismissComment")&&(t.execute("analytics:trigger","kickass.issueTableRefresh"),this.searchModule.refresh())},updateExitingResults:function(){this.searchInProgress||t.request("issueEditor:canDismissComment")&&(t.execute("analytics:trigger","kickass.issueTableRefresh"),this._doSearch())},highlightIssue:function(s){this.searchResults.highlightIssueById(s)},getPager:function(){return this.searchResults.getPager()},selectNextIssue:function(){this.searchResults.highlightNextIssue(),this.searchResults.hasSelectedIssue()&&(s("jira/issues/navigator/metrics").notifyIssueView(),this.searchResults.selectNextIssue())},selectPreviousIssue:function(){this.searchResults.highlightPrevIssue(),this.searchResults.hasSelectedIssue()&&(h.notifyIssueView(),this.searchResults.selectPrevIssue())},unselectIssue:function(){this.searchResults.unselectIssue()},hasSelectedIssue:function(){return this.searchResults.hasSelectedIssue()},getHighlightedIssue:function(){return this.searchResults.getHighlightedIssue().id}})});
//# sourceMappingURL=Search-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:search', location = 'content/js/components/search/namespace.js' */
AJS.namespace("JIRA.Components.SearchService",null,require("jira/issues/components/search"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-templates', location = 'content/templates/issuenav.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNav&&(JIRA.Templates.IssueNav={}),JIRA.Templates.IssueNav.issueTable=function(s,e){return"<thead><tr></tr></thead><tbody></tbody>"},JIRA.Templates.IssueNav.columnHeader_issuetype=function(s,e){return'<th class="issue-type issue-icon-result persist-result"><div>'+soy.$$escapeHtml("T")+"</div></th>"},JIRA.Templates.IssueNav.column_issuetype=function(s,e){return'<td class="issue-type issue-icon-result persist-result"><img src="'+soy.$$escapeHtml(s.issue.fields.issuetype.iconUrl)+'" alt="'+soy.$$escapeHtml(s.issue.fields.issuetype.name)+'" title="'+soy.$$escapeHtml(s.issue.fields.issuetype.description)+'" align="absmiddle" border="0" height="16" width="16"></td>'},JIRA.Templates.IssueNav.columnHeader_keysummary=function(s,e){return'<th class="issue-key persist-result"><div>'+soy.$$escapeHtml("Key")+'</div></th><th class="issue-summary issue-text-result persist-result"><div>'+soy.$$escapeHtml("Summary")+"</div></th>"},JIRA.Templates.IssueNav.column_keysummary=function(s,e){return'<td class="issue-key-summary issue-text-result persist-result" colspan="2"><div><a href="'+soy.$$escapeHtml(s.contextPath)+"/browse/"+soy.$$escapeHtml(s.issue.key)+'" class="issue"><span class="secondary-text">'+soy.$$escapeHtml(s.issue.key)+"</span>"+soy.$$escapeHtml(s.issue.fields.summary)+"</a></div></td>"},JIRA.Templates.IssueNav.columnHeader_status=function(s,e){return'<th class="issue-status"><div>'+soy.$$escapeHtml("Status")+"</div></th>"},JIRA.Templates.IssueNav.column_status=function(s,e){return'<td class="issue-status"><div class="status-lozenge">'+soy.$$escapeHtml(s.issue.fields.status.name)+"</div></td>"},JIRA.Templates.IssueNav.columnHeader_assignee=function(s,e){return'<th class="issue-user"><div>'+soy.$$escapeHtml("Assignee")+"</div></th>"},JIRA.Templates.IssueNav.column_assignee=function(s,e){return'<td class="issue-user">'+(s.issue.fields.assignee?'<img src="'+soy.$$escapeHtml(s.issue.fields.assignee.avatarUrls["16x16"])+'" alt="'+soy.$$escapeHtml(s.issue.fields.assignee.name)+'" height="16" width="16" /><a class="user-hover" rel="'+soy.$$escapeHtml(s.issue.fields.assignee.name)+'" href="#">'+soy.$$escapeHtml(s.issue.fields.assignee.displayName)+"</a>":soy.$$escapeHtml("Unassigned"))+"</td>"},JIRA.Templates.IssueNav.columnHeader_updated=function(s,e){return'<th class="issue-datetime"><div>'+soy.$$escapeHtml("Updated")+"</div></th>"},JIRA.Templates.IssueNav.column_updated=function(s,e){return'<td class="issue-datetime"><time datetime="'+soy.$$escapeHtml(s.issue.fields.updated)+'">'+soy.$$escapeHtml(s.TMP_FORMATTED_DATE)+"</time></td>"},JIRA.Templates.IssueNav.columnHeader_resolution=function(s,e){return'<th class="issue-resolution"><div>'+soy.$$escapeHtml("Resolution")+"</div></th>"},JIRA.Templates.IssueNav.column_resolution=function(s,e){return'<td class="issue-resolution">'+(s.issue.fields.resolution?soy.$$escapeHtml(s.issue.fields.resolution.name):soy.$$escapeHtml("Unresolved"))+"</td>"},JIRA.Templates.IssueNav.issueResultsError=function(s,e){return'<tr class="error"><td colspan="'+soy.$$escapeHtml(s.columnCount)+'">'+soy.$$escapeHtml(s.errorText)+"</td></tr>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-templates', location = 'content/templates/issuenav-amd.js' */
define("jira/issues/templates/issue-nav",function(){"use strict";return JIRA.Templates.IssueNav}),AJS.namespace("JIRA.Templates.IssueNav",null,require("jira/issues/templates/issue-nav"));
//# sourceMappingURL=issuenav-amd-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-results.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNav&&(JIRA.Templates.IssueNav={}),JIRA.Templates.IssueNav.resultsCount=function(e,s){return""+JIRA.Templates.IssueNav.resultsCountHelper({start:'<span class="results-count-start">'+soy.$$escapeHtml(e.start)+"</span>",end:'<span class="results-count-end">'+soy.$$escapeHtml(e.end)+"</span>",total:'<span class="results-count-total results-count-link">'+soy.$$escapeHtml(e.total)+"</span>",hasTotalCountFromServer:e.hasTotalCountFromServer})},JIRA.Templates.IssueNav.resultsCountHelper=function(e,s){return'<span class="results-count-text">'+(e.hasTotalCountFromServer?soy.$$filterNoAutoescape(AJS.format("{0}&ndash;{1} of {2}",e.start,e.end,e.total)):soy.$$filterNoAutoescape(AJS.format("{0}&ndash;{1} of {2}+",e.start,e.end,e.total)))+"</span>"},JIRA.Templates.IssueNav.endOfStableMessage=function(e,s){return"<p>"+soy.$$escapeHtml("Too many search results to display. Refine your search criteria and try again.")+"</p>"},JIRA.Templates.IssueNav.refreshResults=function(e,s){return'<a href="#" class="refresh-table" title="'+soy.$$escapeHtml("Refresh results")+'"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">'+soy.$$escapeHtml("Refresh results")+"</span></a>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-pagination.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNavTable&&(JIRA.Templates.IssueNavTable={}),JIRA.Templates.IssueNavTable.pagination=function(e,a){var t='<div class="pagination" data-displayable-total="'+soy.$$escapeHtml(e.displayableTotal)+'">',s=5,l=Math.floor((e.displayableTotal-1)/e.pageSize),n=Math.floor(e.startIndex/e.pageSize),o=soy.$$escapeHtml(AJS.contextPath())+"/"+soy.$$filterNoAutoescape(e.searchQuery)+"&startIndex=",p=e.startIndex-e.pageSize;t+=(p>=0?'<a href="'+soy.$$escapeHtml(o)+soy.$$escapeHtml(p)+'" data-start-index="'+soy.$$escapeHtml(p)+'" class="icon icon-previous" title="'+soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",n,l+1))+'"><span>&lt;&lt; '+soy.$$escapeHtml("Previous")+"</span></a>":"")+JIRA.Templates.IssueNavTable.numberLinksLogicBranch({startPage:n-Math.floor(s/2),endPage:n+Math.floor(s/2),lastPage:l,urlFragment:o,currentPage:n+1,maxPagesDisplayed:s,pageSize:e.pageSize,displayableTotal:e.displayableTotal});var r=Math.min(e.startIndex+e.pageSize,e.displayableTotal);return t+=(r<e.displayableTotal?'<a href="'+soy.$$escapeHtml(o)+soy.$$escapeHtml(r)+'" data-start-index="'+soy.$$escapeHtml(r)+'" class="icon icon-next" title="'+soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",n+2,l+1))+'"><span>'+soy.$$escapeHtml("Next")+" &gt;&gt;</span></a>":"")+"</div>"},JIRA.Templates.IssueNavTable.numberLinksLogicBranch=function(e,a){return""+(e.lastPage<e.maxPagesDisplayed?JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(e,{startPage:0,endPage:e.lastPage})):e.startPage<0?JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(e,{startPage:0,endPage:e.endPage-e.startPage})):e.endPage>e.lastPage?JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(e,{startPage:e.startPage-(e.endPage-e.lastPage),endPage:e.lastPage})):JIRA.Templates.IssueNavTable.numberLinks(e))},JIRA.Templates.IssueNavTable.numberLinks=function(e,a){var t="",s=e.endPage-e.startPage+1;if(s>1)for(var l=Math.round(s),n=0;n<l;n++){var o=n+e.startPage,p=o+1,r=o*e.pageSize,i=Math.min(r+e.pageSize,e.displayableTotal),g=""+soy.$$escapeHtml(AJS.format("Issues {0} - {1}",r+1,i));t+=" "+(p==e.currentPage?'<strong title="'+soy.$$escapeHtml(g)+'">'+soy.$$escapeHtml(p)+"</strong>":'<a href="'+soy.$$escapeHtml(e.urlFragment)+soy.$$escapeHtml(r)+'" data-page="'+soy.$$escapeHtml(p)+'" data-start-index="'+soy.$$escapeHtml(r)+'" title="'+soy.$$escapeHtml(g)+'">'+soy.$$escapeHtml(p)+"</a>")}return t};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-table.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNavTable&&(JIRA.Templates.IssueNavTable={}),JIRA.Templates.IssueNavTable.structure=function(s,e){return'<div class="list-view"><div class="aui-group aui-group-split issue-table-info-bar"><div class="aui-item"><div class="results-count-top"></div><div class="refresh-table-top"></div></div><div class="aui-item"><div class="column-picker-trigger-container"></div></div></div><div class="issue-table-container"></div><div class="end-of-stable-message"></div><div class="aui-group aui-group-split count-pagination"><div class="aui-item"><div class="results-count-bottom"></div><div class="refresh-table-bottom"></div></div><div class="aui-item"><div class="pagination"></div></div></div></div>'},JIRA.Templates.IssueNavTable.noResults=function(s,e){return'<div class="jira-adbox jira-adbox-medium no-results '+soy.$$escapeHtml(s.cssClass)+'"><h3>'+soy.$$filterNoAutoescape(s.message)+"</h3>"+(s.hint?'<p class="no-results-hint">'+soy.$$filterNoAutoescape(s.hint)+"</p>":"")+"</div>"},JIRA.Templates.IssueNavTable.listOptions=function(s,e){for(var i='<div class="aui-list">',a=s.groups,t=a.length,l=0;l<t;l++){var o=a[l];i+=(o.label?"<h5>"+soy.$$escapeHtml(o.label)+"</h5>":"")+"<ul "+(o.id?'id="'+soy.$$escapeHtml(o.id)+'"':"")+' class="aui-list-section'+(0==l?" aui-first":"")+(l==t-1?" aui-last":"")+'">';for(var n=o.items,u=n.length,c=0;c<u;c++){var r=n[c];i+='<li class="aui-list-item"><a class="aui-list-item-link '+(r.styleClass?soy.$$escapeHtml(r.styleClass):"")+'" '+(s.isExportsViewInNewTab?'target="_blank"':"")+" "+(r.id?'id="'+soy.$$escapeHtml(r.id)+'"':"")+" "+(r.rel?'rel="'+soy.$$escapeHtml(r.rel)+'"':"")+' href="'+(r.relativeLink?"":soy.$$escapeHtml(AJS.contextPath()))+soy.$$escapeHtml(r.link)+'" '+(r.title?'title="'+soy.$$escapeHtml(r.title)+'"':"")+">"+soy.$$escapeHtml(r.label)+"</a></li>"}i+="</ul>"}return i+="</div>"},JIRA.Templates.IssueNavTable.views=function(s,e){return""+(s.sections.issue&&s.sections.issue.length>0?'<div class="issue-panel aui-dropdown2-section">'+JIRA.Templates.IssueNavTable.listOptions({groups:s.sections.issue,isExportsViewInNewTab:s.isExportsViewInNewTab})+"</div>":"")+(s.sections.filter&&s.sections.filter.length>0?'<div class="filter-panel aui-dropdown2-section">'+JIRA.Templates.IssueNavTable.listOptions({groups:s.sections.filter,isExportsViewInNewTab:s.isExportsViewInNewTab})+"</div>":"")},JIRA.Templates.IssueNavTable.tools=function(s,e){return'<div class="gin-tools-options">'+JIRA.Templates.IssueNavTable.listOptions(s)+"</div>"},JIRA.Templates.IssueNavTable.inaccessibleIssueRow=function(s,e){return'<tr class="issuerow inaccessible-issue" rel="'+soy.$$escapeHtml(s.issueID)+'"><td class="nav" colspan="'+soy.$$escapeHtml(s.columnCount)+'">'+soy.$$escapeHtml("This issue can no longer be opened")+"</td></tr>"},JIRA.Templates.IssueNavTable.headerSortIcon=function(s,e){return'<span class="aui-icon aui-icon-small aui-iconfont-'+("ASC"==s.order?"up":"down")+' issuetable-header-sort-icon"></span>'};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-table-amd.js' */
define("jira/issues/templates/issue-nav-table",function(){"use strict";return JIRA.Templates.IssueNavTable}),AJS.namespace("JIRA.Templates.IssueNavTable",null,require("jira/issues/templates/issue-nav-table"));
//# sourceMappingURL=issuenav-table-amd-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/ColumnPicker.js' */
define("jira/issues/components/table/column-picker",["require"],function(e){"use strict";var n=e("underscore"),t=e("jira/components/columnpicker/columnconfigmodel"),i=e("jira/components/columnpicker"),s=e("jira/components/util/functionalutils"),r=e("jquery"),o=e("jira/util/users/logged-in-user"),u=e("wrm/context-path"),l=i.extend({initialize:function(e,n){var t=[this._getUserColumnProvider(),this._getFilterColumnProvider()];o.isAdmin()&&t.push(this._getSystemColumnProvider()),i.prototype.initialize.call(this,null,{providers:t}),this.search=n.search,this.search.on("change:filter",function(){var e=this.filterColumn,n=e.isEditDisabled(),t=e.isDisabled();e.trigger("change:isDisabled",e,t),e.trigger("change:editDisabled",e,t||n)},this)},isSystemMode:function(){return"system"===this.columnPickerModel.getColumnConfig()},sanitizeColumnConfig:function(e){e=e.toLowerCase();var n="system"===e&&!this.isSystemMode();return n?"user":e},syncColumns:function(e,n){return e=this.sanitizeColumnConfig(e),i.prototype.syncColumns.call(this,e,n)},clearFilterConfiguration:function(){this.filterColumn.unset("columns"),this.filterColumn.unset("savedColumns")},setCurrentColumnConfig:function(e){return e=this.sanitizeColumnConfig(e),i.prototype.setCurrentColumnConfig.call(this,e)},_getFilterColumnProvider:function(){var e=this;return this.filterColumn=t.create("filter","Filter",{url:function(){return u()+"/rest/api/2/filter/"+e.search.getState().filter+"/columns"},isDisabled:function(){return!e.search.getFilter()||e.search.getFilter().getIsSystem()},isEditDisabled:function(){return!e.search.filterModule.canEditColumns()},shouldRefreshSearchOnActivation:function(){return this.has("savedColumns")},shouldCloseOnActivation:function(){return this.has("savedColumns")},shouldLoadDefaultsOnActivation:function(){return!this.has("savedColumns")},defaultColumns:function(){if(this.userColumns.has("columns")){var e=new r.Deferred;return e.resolve(n.map(this.userColumns.getColumns(),function(e){return{value:e}})),e.promise()}return r.ajax(this.userColumns.url()).promise()}.bind(this)}),this.filterColumn},_getSystemColumnProvider:function(){return t.create("system","System",{url:s.lambda(u()+"/rest/api/2/settings/columns"),defaultColumns:function(){return r.ajax(this.url()).promise()},shouldRefreshSearchOnActivation:function(){return!0},shouldCloseOnActivation:function(){return!1},shouldLoadDefaultsOnActivation:function(){return!0},shouldRevertOnHide:function(){return!1}})},_getUserColumnProvider:function(){return this.userColumns=t.create("user","My Defaults",{url:s.lambda(u()+"/rest/api/2/user/columns")}),this.userColumns}});return l.create=function(e){return new l(null,e)},l});
//# sourceMappingURL=ColumnPicker-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/IssueTableView.js' */
define("jira/issues/components/table/views/issue-table",["require"],function(e){"use strict";var s=e("jira/flag"),i=e("jira/issues/baseview"),n=e("jquery"),t=e("jira/issues/utils/resize");return i.extend({_closeSystemModeMessage:function(){this.currentMessage&&(this.currentMessage.close(),this.currentMessage=null)},_showSystemModeMessage:function(){if(!this.currentMessage){var e=s.showMsg("","You are on System Mode. The column changes might affect all users. \u003ca href=# class=exit\u003eExit System Mode\u003c/a\u003e.",{type:"warning",close:"never"});n(e).find(".exit").click(function(e){e.preventDefault(),this.columnConfig.setCurrentColumnConfig("user"),this._closeSystemModeMessage()}.bind(this)),this.currentMessage=e}},syncSystemModeMessage:function(){var e=this.columnConfig.isSystemMode();e?this._showSystemModeMessage():this._closeSystemModeMessage()},initialize:function(e){this.columnConfig=e.columnConfig,this.columnConfig.on("change:columnConfig",this.syncSystemModeMessage,this),t.onVerticalResize(this.adjustColumnConfigHeight.bind(this))},deactivate:function(){t.offVerticalResize(this.adjustColumnConfigHeight)},_onSearchDone:function(e){this.columnConfig.setElement(e.find(".column-picker-trigger-container")).render()},adjustColumnConfigHeight:function(){this.columnConfig.adjustHeight()}})});
//# sourceMappingURL=IssueTableView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/filter-edit-dialog-api.js' */
!function(){var n,i=new Promise(function(i){n=i});i.done=function(n){return this.then(n)},define("jira/globalnavigator/filter-details/bridge",function(){return function(i){n(i)}}),define("jira/globalnavigator/filter-details",function(){return i})}();
//# sourceMappingURL=filter-edit-dialog-api-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/HeaderOperationsView.js' */
define("jira/issues/components/table/views/header-operations",["require"],function(e){"use strict";var t=e("jira/issues/templates/issue-nav-table"),i=e("jira/issues/baseview"),s=e("jira/ajs/dropdown/dropdown"),a=e("jira/featureflags/feature-manager"),n=e("jira/util/data/meta"),r=e("underscore"),o=e("wrm/context-path"),l=e("jquery"),u=e("jira/issue/utils/xsrf-token-header"),d=e("jira/issues/components/table/analytics/header-operations"),c=e("jira/issues/tipsy"),h=a.isFeatureEnabled("empanada.gin-exports-view-in-new-tab_2qda9");return i.extend({initialize:function(e){r.bindAll(this,"_onSearchSuccess","_updateFilterPageResources"),r.extend(this,e),this.initTools(),this.initViews(),this.initShare(),d.attachAnalyticsToHeaderButtons(this.$el.find(".saved-search-operations")),this._results=this.search.getResults(),this._results.onNewPayload(this._onSearchSuccess)},initViews:function(){var e=this.searchPageModule;e.on("change",this._updateFilterPageResources.bind(this)),this._updateFilterPageResources(),new c({el:this.$el.find(".header-views"),showCondition:":not(.active)"});var i=this._spinnerTimeoutKeeper(".header-views");s.create({styleClass:"header-views-menu aui-style-default",trigger:l(".header-views",this.$el),ajaxOptions:function(){var s={jql:e.getEffectiveJql()},a=e.getFilter();return a&&!a.getIsSystem()&&(s.filterId=a.getId(),e.isDirty()&&(s.jql=e.getJql(),s.modified=!0)),i.start(),{url:o()+"/rest/issueNav/1/issueNav/operations/views",type:"POST",headers:u,data:s,dataType:"json",cache:!1,formatSuccess:function(e){i.end();var s=l(t.views({sections:e,isExportsViewInNewTab:h,contextPath:o()}));return d.attachAnalytics(s),s}}}.bind(this)})},initTools:function(){var i=this.searchPageModule;l("body").delegate("#use-cols","click",function(e){e.preventDefault(),this.searchPageModule.columnConfig.setCurrentColumnConfig("user"),this.searchPageModule.columnConfig.refreshSearchWithColumns()}.bind(this)),l("body").delegate("#use-filter-cols","click",function(e){e.preventDefault(),this.searchPageModule.columnConfig.setCurrentColumnConfig("filter"),this.searchPageModule.columnConfig.refreshSearchWithColumns()}.bind(this)),new c({el:this.$el.find(".header-tools"),showCondition:":not(.active)",tipsy:{gravity:"ne"}});var a=this._spinnerTimeoutKeeper(".header-tools");l(document).on("click","a.show-filter-details",function(t){t.preventDefault();var s=i.getFilter();if(s&&!s.getIsSystem()){var a=e("jira/globalnavigator/filter-details");a.then(function(e){var t=s.getId();e.openDialog(t)})}}),s.create({styleClass:"header-tools-menu",trigger:l(".header-tools",this.$el),ajaxOptions:function(){var e=i.getFilter(),s={jql:i.getEffectiveJql(),searchResultsTotal:this._results.getTotal(),searchResultsPages:this._results.getNumberOfPages(),offset:this._results.getStartIndex(),useColumns:"user"!==this.searchPageModule.columnConfig.getCurrentColumnConfig().getName(),skipColumns:"split-view"===i.getActiveLayout().id};return e&&!e.getIsSystem()&&(s.filterId=e.getId(),i.isDirty()&&(s.jql=i.getJql(),s.modified=!0)),a.start(),{url:o()+"/rest/issueNav/1/issueNav/operations/tools",type:"POST",headers:u,data:s,dataType:"json",cache:!1,formatSuccess:function(e){return a.end(),l(e&&e.length?t.tools({groups:e.filter(function(e){return!e.empty}),contextPath:o()}):'<div class="menu-empty-content"></span>'+"No Available Option(s)"+"<div>")}}}.bind(this)})},initShare:function(){new c({el:this.$el.find(".issuenav-share"),showCondition:":not(.active)"})},_onSearchSuccess:function(){},_updateFilterPageResources:function(){var e=this.$el.find(".operations-view-data > fieldset"),t=this.searchPageModule;e.empty(),t.getFilter()&&!t.isDirty()?(l('<input type="hidden" id="filterId" />').val(t.getFilter().getId()).appendTo(e),l('<input type="hidden" id="jql" />').val("").appendTo(e)):(l('<input type="hidden" id="filterId" />').val(""),l('<input type="hidden" id="jql" />').val(t.getJql()).appendTo(e));var i=t.getFilter(),s=i&&i.getId();!s||i.getIsSystem()||t.isDirty()?(n.set("filter-id",void 0),n.set("filter-jql",t.getEffectiveJql())):(n.set("filter-id",s),n.set("filter-jql",void 0))},_spinnerTimeoutKeeper:function(e){var t;return{start:function(){t&&(t=clearTimeout(t)),t=setTimeout(function(){t=void 0,l(e).addClass("spinner")},1e3)},end:function(){t=clearTimeout(t),l(e).removeClass("spinner")}}}})});
//# sourceMappingURL=HeaderOperationsView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/namespace.js' */
AJS.namespace("JIRA.Issues.ColumnPicker",null,require("jira/issues/components/table/column-picker")),AJS.namespace("JIRA.Issues.IssueTableHeaderOperationsView",null,require("jira/issues/components/table/views/header-operations")),AJS.namespace("JIRA.Issues.IssueTableView",null,require("jira/issues/components/table/views/issue-table"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/IssueTable.js' */
define("jira/issues/components/issue-table",["require"],function(e){"use strict";var s=e("jira/issues/application"),t=e("jira/components/libs/marionette-1.4.1/controller"),i=e("jira/util/events"),r=e("jira/issues/components/issue-table/controllers/issue-table"),a=e("jira/issues/components/table/views/issue-table"),n=e("jira/util/events/reasons"),o=e("jira/issues/libs/trace"),l=e("jira/util/events/types"),u=e("jira/featureflags/feature-manager"),h=e("underscore"),c=e("jira/issues/wrm-spa-utils"),g=e("jira/issues/navigator/metrics"),d=u.isFeatureEnabled("empanada.gin-in-spa"),b=u.isFeatureEnabled("empanada.gin.manually-set-browser-metrics-start-end-in-list-view"),f=!0;return t.extend({initialize:function(e){this.issueTableView=new a({columnConfig:e.columnConfig}),this._createSearchService(e),this._createTableController(e),s.on("issueEditor:loadError",this._handleIssueLoadError,this)},_createLatestResults:function(e){return{sortOptions:e.getSortBy(),totalDisplayableIssues:e.getDisplayableTotal(),startIndex:e.getStartIndex(),pageSize:e.getPageSize(),pageNumber:e.getPageNumber(),numberOfPages:e.getNumberOfPages(),totalIssues:e.getTotal(),currentSearch:s.request("issueNav:currentSearchRequest"),jiraHasIssues:e.getJiraHasIssues(),hasIssues:e.hasIssues(),hasTotalCountFromServer:e.get("hasTotalCountFromServer")}},_createSearchService:function(e){var s=this;this.searchService=e.searchService,this.listenTo(this.searchService,{"before:search":function(){this.issueTableController.showPending()},search:function(e,t){this.latestResults=h.extend({},{table:e},s._createLatestResults(t)),this.show(),this.highlightIssue(t.getHighlightedIssue().id,!1)},"error:search":function(){this.issueTableController.showErrorMessage()},issueUpdated:function(e,s){this.issueTableController.updateIssue(e,s.table)},issueHighlighted:function(e){this.issueTableController.highlightIssue(e)},selectedIssueChanged:function(e,s){e.hasIssue()||this.issueTableController.highlightIssue(s.id)}})},_createTableController:function(e){var s=e.columnConfig,t=e.el;this.issueTableController=new r({el:t}),this.listenTo(this.issueTableController,{goToPage:function(e){this.searchService.goToPage(e)},columnsChanged:function(e){s.saveColumns(e)},highlightIssue:function(e){this.trigger("highlightIssue",e)},sort:function(e){this.searchService.sort(e)},refresh:function(){this.searchService.runCurrentSearch()},renderTable:function(e){i.trigger(l.NEW_CONTENT_ADDED,[e,n.issueTableRefreshed]),o("jira.search.stable.update"),b&&f&&!d&&!c.getIssueKey()&&(g.endNotifyIssueNavList(),f=!1),d&&!c.getIssueKey()&&c.sendContentReadyEvent()},renderEmpty:function(e){i.trigger(l.NEW_CONTENT_ADDED,[e,n.issueTableRefreshed]),o("jira.search.stable.update"),b&&f&&!d&&!c.getIssueKey()&&(g.endNotifyIssueNavList(),f=!1),d&&!c.getIssueKey()&&c.sendContentReadyEvent()},issueRowUpdated:function(e){i.trigger(l.NEW_CONTENT_ADDED,[e,n.issueTableRowRefreshed]),o("jira.search.finished")}})},show:function(){this.latestResults?(this.issueTableController.show(this.latestResults),this.trigger("render"),this.issueTableView._onSearchDone(this.issueTableController.view.$el)):this.searchService.updateExitingResults()},close:function(){this.issueTableController.close(),this.stopListening(this.searchService),this.stopListening(this.searchService.searchResults),s.off("issueEditor:loadError",this._handleIssueLoadError,this),delete this.issueTableController,delete this.searchService},handleIssueInaccessible:function(e){this.issueTableController.markIssueAsInaccessible(e)},highlightIssue:function(e,s){this.issueTableController.highlightIssue(e,s)},_handleIssueLoadError:function(e){404===e.response.status&&this.issueTableController.markIssueAsInaccessible(e.issueId)}})});
//# sourceMappingURL=IssueTable-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/EmptyResults.js' */
define("jira/issues/components/issue-table/views/empty-results",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/itemview"),t=e("jira/issues/utils/login"),n=e("jira/issues/templates/issue-nav-table"),i=e("jira/issues/user-params"),a=e("wrm/context-path");return s.extend({template:n.noResults,serializeData:function(){var e,s,n,a=i.get().createIssue;return t.isLoggedIn()?this.options.jiraHasIssues===!1?(e="No issues have been created (yet)",s=a?"Be the first to \u003ca\u003ecreate an issue\u003c/a\u003e":null,n="empty-results-message"):(e="No issues were found to match your search",s=a?"Try modifying your search criteria or \u003ca\u003ecreating a new issue\u003c/a\u003e":"Try modifying your search criteria",n="no-results-message"):(e="No issues were found to match your search",s="Try \u003ca\u003elogging in\u003c/a\u003e to see more results",n="not-logged-in-message"),{message:e,hint:s,cssClass:n}},onRender:function(){this.$el.addClass("empty-results");var e=this.$(".no-results-hint a");t.isLoggedIn()?e.addClass("create-issue").attr("href",a()+"/secure/CreateIssue!default.jspa"):e.attr("href",t.redirectUrlToCurrent()).addClass("login-link"),this.hidePending()},showPending:function(){this.$el.addClass("pending")},hidePending:function(){this.$el.removeClass("pending")}})});
//# sourceMappingURL=EmptyResults-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/EndOfStableMessage.js' */
define("jira/issues/components/issue-table/views/end-of-stable-message",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/itemview"),t=e("jquery"),i=e("jira/issues/templates/issue-nav");return s.extend({className:"end-of-stable-message",serializeData:function(){return this.options},getTemplate:function(){return this.shouldRender?i.endOfStableMessage:t.noop},onBeforeRender:function(){this.shouldRender=this._hasMoreIssues()&&this._onLastPage()},onRender:function(){this.shouldRender?this.$el.addClass("visible"):this.$el.removeClass("visible")},_hasMoreIssues:function(){return this.options.total-this.options.displayableTotal!==0},_onLastPage:function(){return this.options.pageNumber===this.options.numberOfPages}})});
//# sourceMappingURL=EndOfStableMessage-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/IssueTable.js' */
define("jira/issues/components/issue-table/views/issue-table",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1/itemview"),s=e("jquery"),i=e("jira/issues/templates/issue-nav-table"),n=e("jira/components/util/functionalutils");return t.extend({events:{"blur .hidden-link":function(e){s(e.target).attr("tabIndex",-1)},"click tr.issuerow":function(e){var t=s(e.target).closest(".issuerow"),i=Number(t.attr("rel"));this.trigger("highlightIssue",i)},"click .sortable":function(e){e.preventDefault(),this.trigger("sort",s(e.currentTarget).data("id"))}},inaccessibleIssueRowTemplate:i.inaccessibleIssueRow,initialize:function(e){this.resultsTable=e.resultsTable,this.sortOptions=e.sortOptions||{}},render:function(){this.triggerMethod("before:render",this);var e=s(this.resultsTable)[0];return this.$el.empty().append(e),this.triggerMethod("render",this),this},onRender:function(){this._decorateTableHeaderWithSortOptions(),this._addDraggable(),this._removeEmptyTextNodes()},onClose:function(){this._removeDraggable()},_decorateTableHeaderWithSortOptions:function(){var e=this.$el.find(".rowHeader .sortable");e.each(function(){this.onclick=null});var t=this.sortOptions;if(t.fieldId){var s=e.filter(function(){return this.getAttribute("data-id")===t.fieldId});if(s.size()&&!s.hasClass("descending")&&!s.hasClass("ascending")){e.removeClass("descending ascending active").addClass("colHeaderLink"),e.find(".issuetable-header-sort-icon").remove();var n="DESC"===t.order?"descending":"ascending";s.removeClass("colHeaderLink").addClass("active "+n),s.append(i.headerSortIcon({order:t.order}))}}},_addDraggable:function(){this.$("#issuetable").dragtable({maxMovingRows:1,containment:"body",axis:!1,revert:!1,clickDelay:250,tolerance:"intersect",dragaccept:":not(.headerrow-actions)",persistState:this._saveColumns.bind(this)})},_removeDraggable:function(){this.$("#issuetable").dragtable("destroy")},_removeEmptyTextNodes:function(){this.$el.find("table, tbody, thead, tr").contents().filter(function(){return 3===this.nodeType}).remove()},_saveColumns:function(){var e=[];this.$("#issuetable").find("th").each(function(){var t=s(this).data("id");n.isNotBlank(t)&&e.push(t)}),this.trigger("columnsChanged",e)},highlightIssue:function(e,t){var s=this._getIssueRow(e),i=this.$(".focused");i.removeClass("focused"),s.addClass("focused"),s.length&&s.closest(document.body).length&&(t!==!1&&s.find(".hidden-link").removeAttr("tabIndex").focus(),s.scrollIntoView({marginBottom:50}))},_getIssueRow:function(e,t){return t=t||this.$el,t.find(".issuerow").filter(function(){return parseInt(this.getAttribute("rel"),10)===e})},markIssueAsInaccessible:function(e){this._getIssueRow(e).replaceWith(this.inaccessibleIssueRowTemplate({columnCount:this.$el.find("thead > tr > th").length,issueID:e}))},updateIssue:function(e,t){var i=this._getIssueRow(e,s(t));this._getIssueRow(e).replaceWith(i),this.highlightIssue(e),this.trigger("issueRowUpdated",i)}})});
//# sourceMappingURL=IssueTable-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/IssueTableLayout.js' */
define("jira/issues/components/issue-table/views/issue-table-layout",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1/layout"),s=e("jira/components/libs/marionette-1.4.1/replaceregion"),n=e("jira/issues/templates/issue-nav-table");return t.extend({template:n.structure,regions:{pagination:{selector:".pagination",regionType:s},table:".issue-table-container",resultsCountTop:{selector:".results-count-top",regionType:s},refreshResultsTop:{selector:".refresh-table-top",regionType:s},resultsCountBottom:{selector:".results-count-bottom",regionType:s},refreshResultsBottom:{selector:".refresh-table-bottom",regionType:s},endOfStableMessage:{selector:".end-of-stable-message",regionType:s}},onRender:function(){this.hidePending()},showPending:function(){this.$el.addClass("pending")},hidePending:function(){this.$el.removeClass("pending")}})});
//# sourceMappingURL=IssueTableLayout-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/Pagination.js' */
define("jira/issues/components/issue-table/views/pagination",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1/itemview"),i=e("jira/issues/templates/issue-nav-table"),s=e("jira/issues/utils/url-serializer");return t.extend({template:i.pagination,events:{"simpleClick a[data-start-index]":function(e){e.preventDefault();var t=e.target.getAttribute("data-start-index");this.trigger("goToPage",parseInt(t,10))}},serializeData:function(){return{startIndex:this.options.startIndex,pageSize:this.options.pageSize,searchQuery:this._getPagingUri(),displayableTotal:this.options.total}},onRender:function(){this.unwrapTemplate()},_getPagingUri:function(){return s.getURLFromState({selectedIssueKey:null,jql:this.options.currentSearch.jql,filter:this.options.currentSearch.filterId})}})});
//# sourceMappingURL=Pagination-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/RefreshResults.js' */
define("jira/issues/components/issue-table/views/refresh-results",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/itemview"),r=e("jira/issues/templates/issue-nav");return s.extend({template:r.refreshResults,triggers:{click:"refresh"},onRender:function(){this.unwrapTemplate()}})});
//# sourceMappingURL=RefreshResults-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/ResultsCount.js' */
define("jira/issues/components/issue-table/views/results-count",["require"],function(t){"use strict";var e=t("jira/components/libs/marionette-1.4.1/itemview"),s=t("jira/issues/templates/issue-nav");return e.extend({template:s.resultsCount,serializeData:function(){var t=this.options.total,e=this.options.startIndex+1,s=this.options.startIndex+this.options.pageSize;return{start:e,end:Math.min(s,t),total:t,hasTotalCountFromServer:this.options.hasTotalCountFromServer}},onRender:function(){this.unwrapTemplate()}})});
//# sourceMappingURL=ResultsCount-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/controllers/IssueTable.js' */
define("jira/issues/components/issue-table/controllers/issue-table",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/controller"),t=e("jira/issues/components/issue-table/views/empty-results"),i=e("jira/issues/components/issue-table/views/end-of-stable-message"),n=e("jira/issues/components/issue-table/views/issue-table-layout"),r=e("jira/issues/components/issue-table/views/issue-table"),a=e("jquery"),o=e("jira/issues/components/issue-table/views/pagination"),u=e("jira/issues/components/issue-table/views/refresh-results"),h=e("jira/issues/components/issue-table/views/results-count");return s.extend({initialize:function(e){this.$el=a(e.el)},_createMainView:function(){return new n},_createTableView:function(e,s){var t=new r({resultsTable:e,sortOptions:s});return this.listenAndRethrow(t,"columnsChanged"),this.listenAndRethrow(t,"highlightIssue"),this.listenAndRethrow(t,"issueRowUpdated"),this.listenAndRethrow(t,"sort"),t},_createResultsCount:function(e){return new h(e)},_createPagination:function(e){var s=new o(e);return this.listenAndRethrow(s,"goToPage"),s},_createRefreshResults:function(){var e=new u;return this.listenAndRethrow(e,"refresh"),e},_createEndOfStableMessage:function(e){return new i(e)},_createEmptyResultsView:function(e){return new t(e)},_layoutIsRendered:function(){return this.view&&this.view instanceof n},close:function(){this.view&&(this.view.close(),delete this.view)},show:function(e){e.hasIssues?this._showTable(e):this._showEmptyResults(e)},showErrorMessage:function(e){this._showEmptyResults(e)},showPending:function(){this.view&&(this.view.showPending(),this._layoutIsRendered()&&this.view.table.currentView._removeDraggable())},_showTable:function(e){e=e||{},this.close(),this.view=this._createMainView();var s=this._createTableView(e.table,e.sortOptions),t=this._createResultsCount({total:e.totalIssues,startIndex:e.startIndex,pageSize:e.pageSize,hasTotalCountFromServer:e.hasTotalCountFromServer}),i=this._createResultsCount({total:e.totalIssues,startIndex:e.startIndex,pageSize:e.pageSize,hasTotalCountFromServer:e.hasTotalCountFromServer}),n=this._createPagination({startIndex:e.startIndex,pageSize:e.pageSize,total:e.totalIssues,currentSearch:e.currentSearch}),r=this._createEndOfStableMessage({total:e.totalIssues,displayableTotal:e.totalDisplayableIssues,pageNumber:e.pageNumber,numberOfPages:e.numberOfPages});this.listenTo(this.view,{render:function(){this.view.table.show(s),this.view.resultsCountTop.show(t),this.view.resultsCountBottom.show(i),this.view.pagination.show(n),this.view.refreshResultsTop.show(this._createRefreshResults()),this.view.refreshResultsBottom.show(this._createRefreshResults()),this.view.endOfStableMessage.show(r)}}),this.view.render(),this.$el.empty().append(this.view.$el),this.trigger("renderTable",this.$el)},_showEmptyResults:function(e){this.close(),this.view=this._createEmptyResultsView(e),this.view.render(),this.$el.empty().append(this.view.$el),this.trigger("renderEmpty",this.$el)},highlightIssue:function(e,s){this._layoutIsRendered()&&this.view.table.currentView.highlightIssue(e,s)},markIssueAsInaccessible:function(e){this._layoutIsRendered()&&this.view.table.currentView.markIssueAsInaccessible(e)},updateIssue:function(e,s){this._layoutIsRendered()&&this.view.table.currentView.updateIssue(e,s)}})});
//# sourceMappingURL=IssueTable-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/namespace.js' */
AJS.namespace("JIRA.Components.IssueTable",null,require("jira/issues/components/issue-table")),AJS.namespace("JIRA.Components.IssueTable.Controllers.IssueTable",null,require("jira/issues/components/issue-table/controllers/issue-table")),AJS.namespace("JIRA.Components.IssueTable.Views.EmptyResults",null,require("jira/issues/components/issue-table/views/empty-results")),AJS.namespace("JIRA.Components.IssueTable.Views.IssueTable",null,require("jira/issues/components/issue-table/views/issue-table")),AJS.namespace("JIRA.Components.IssueTable.Views.IssueTableLayout",null,require("jira/issues/components/issue-table/views/issue-table-layout")),AJS.namespace("JIRA.Components.IssueNavigator.Views.EndOfStableMessage",null,require("jira/issues/components/issue-table/views/end-of-stable-message")),AJS.namespace("JIRA.Components.IssueNavigator.Views.Pagination",null,require("jira/issues/components/issue-table/views/pagination")),AJS.namespace("JIRA.Components.IssueNavigator.Views.RefreshResults",null,require("jira/issues/components/issue-table/views/refresh-results")),AJS.namespace("JIRA.Components.IssueNavigator.Views.ResultsCount",null,require("jira/issues/components/issue-table/views/results-count"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/templates/issuenav-searchheader.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNavSearchHeader&&(JIRA.Templates.IssueNavSearchHeader={}),JIRA.Templates.IssueNavSearchHeader.layoutSwitcher=function(t,a){for(var e='<div class="aui-buttons"><button id="layout-switcher-button" class="aui-button aui-button-light drop-arrow js-default-dropdown" type="button"><span class="aui-icon aui-icon-small '+soy.$$escapeHtmlAttribute(t.activeLayout.iconClass)+'">'+soy.$$escapeHtml("Switch search results view")+'</span></button><div class="aui-list hidden"><h5>'+soy.$$escapeHtml("Views")+'</h5><ul class="aui-list-section aui-first aui-last">',s=t.layouts,i=s.length,u=0;u<i;u++){var l=s[u];e+='<li class="aui-list-item layout-switcher-item"><a href="#" class="aui-list-item-link" data-layout-key="'+soy.$$escapeHtmlAttribute(l.id)+'"><span class="aui-icon aui-icon-small '+(t.activeLayout.id==l.id?"aui-iconfont-success":"")+'"></span>'+soy.$$escapeHtml(l.label)+"</a></li>"}return e+="</ul></div></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/js/search/searchheader/LayoutSwitcherView.js' */
!function(t){"use strict";AJS.namespace("JIRA.Issues.LayoutSwitcherView");var e=t("jira/analytics/web-client"),i=t("jira/featureflags/feature-manager"),s=i.isFeatureEnabled("gin-analytics-to-support-tti-definition");JIRA.Issues.LayoutSwitcherView=JIRA.Issues.BaseView.extend({template:JIRA.Templates.IssueNavSearchHeader.layoutSwitcher,initialize:function(t){_.bindAll(this,"_onLayoutSwitchClick"),this.searchPageModule=t.searchPageModule,this.searchPageModule.on("change:currentLayout",this.render,this)},render:function(){return this.$el.html(this.template({layouts:this.searchPageModule.getSortedLayouts(),activeLayout:this.searchPageModule.getActiveLayout()})),this._addLayoutSwitcherTooltip(),this._removeTopPadding(),this.$el.find(".aui-list-item-link").click(this._onLayoutSwitchClick),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.$el,JIRA.CONTENT_ADDED_REASON.layoutSwitcherReady]),this},enableLayoutSwitcher:function(){return this.$el.find("#layout-switcher-button").removeClass("disabled").removeAttr("disabled"),this},disableLayoutSwitcher:function(){return this.$el.find("#layout-switcher-button").addClass("disabled").attr("disabled",""),this},createHelptipForSwitchingToDetailView:function(t){var e;return this._shouldShowIntro()&&this.$el.is(":visible")&&(e=new AJS.HelpTip({id:"split-view-intro",title:"Choose how you view issues",url:AJS.Meta.get("issue-search-help-url"),bodyHtml:"Switch between the details and list views to suit your preference.",anchor:".view-selector button",isSequence:!0,weight:t})),e},_shouldShowIntro:function(){return this.searchPageModule.search.getResults().hasIssues()},_addLayoutSwitcherTooltip:function(){function t(){var t=AJS.KeyboardShortcut.getKeyboardShortcutKeys("switch.search.layouts");return t?AJS.format("Change view (Type \'\'{0}\'\')",AJS.KeyboardShortcut.getKeyboardShortcutKeys("switch.search.layouts")):"Change view"}new JIRA.Issues.Tipsy({el:this.$el.find("#layout-switcher-button"),showCondition:":not(.active)",tipsy:{title:t,gravity:"ne"}})},_removeTopPadding:function(){this.$el.find(".aui-list-section").css("padding-top","0")},_onLayoutSwitchClick:function(t,i){if(JIRA.Issues.Application.request("issueEditor:canDismissComment")){var a,o=AJS.$(t.target).closest("[data-layout-key]"),u="layout-key",n=o.data(u);t.preventDefault(),"split-view"===n?(JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"),s&&(a="issueNavSwitchToDetailView")):"list-view"===n&&(JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-list-view-rendered"),s&&(a="issueNavSwitchToListView")),s&&e.sendUIEvent({source:"globalIssueNavigatorScreen",action:"clicked",actionSubject:"dropdownItem",actionSubjectId:a}),this.searchPageModule.changeLayout(n,i)}}})}(window.require);
//# sourceMappingURL=LayoutSwitcherView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/js/search/searchheader/SearchHeaderModule.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.SearchHeaderModule"),JIRA.Issues.SearchHeaderModule=JIRA.Issues.BaseEvented.extend({initialize:function(e){this._searchPageModule=e.searchPageModule},registerSearch:function(e){this._search=e},createToolsView:function(e){new JIRA.Issues.IssueTableHeaderOperationsView({el:e,search:this._search,searchPageModule:this._searchPageModule})}})}();
//# sourceMappingURL=SearchHeaderModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:window-positioning', location = 'content/js/search/util/WindowPositioning.js' */
define("jira/issues/layer-positioning/window",["require"],function(i){"use strict";var e=i("jira/ajs/layer/inline-layer/standard-positioning"),t=i("jquery");return e.extend({_calculateOverflow:function(i){var e="fixed"===this.layer().css("position"),r=i.top+this.layer().outerHeight(!0),n=window.innerHeight,s=t(window).scrollTop();return e?Math.max(0,r-n):Math.max(0,r-s-n)},left:function(){var i=this._super(),e=this._calculateOverflow(i);return e>0&&(i.left+=this.offsetTarget().outerWidth(),i.top-=e),i},right:function(){var i=this._super(),e=this._calculateOverflow(i);return e>0&&(i.left-=this.offsetTarget().outerWidth(),i.top-=e),i}})}),AJS.namespace("JIRA.Issues.WindowPositioning",null,require("jira/issues/layer-positioning/window"));
//# sourceMappingURL=WindowPositioning-min.js.map
;
;
/* module-key = 'jira.webresources:favourite-button', location = '/includes/jira/favourite-button/favourite-button-constants.js' */
define("jira/favourite-button/constants",[],function(){var a={BOARDS:{id:"boards",backendUrlPart:"BOARDS",analytics:{source:"boardScreen",actionSubject:"board"}},FILTERS:{id:"filters",backendUrlPart:"FILTERS",analytics:{source:"filterScreen",actionSubject:"filter"}},DASHBOARDS:{id:"dashboards",backendUrlPart:"DASHBOARDS",analytics:{source:"dashboardScreen",actionSubject:"dashboard"}}},r={STARRED:"starred",UNSTARRED:"unstarred"};return{FAVOURITE_ITEM_TYPES:a,TRACK_ANALYTICS_ACTIONS:r}});;
;
/* module-key = 'jira.webresources:favourite-button', location = '/includes/jira/favourite-button/favourite-button-api.js' */
define("jira/favourite-button/api",["jquery","jira/featureflags/feature-manager"],function(t,e){"use strict";function r(e,r,n){var a=new t.Deferred;return t.ajax({url:r,type:e.toUpperCase(),contentType:"application/json",data:n,dataType:"json",timeout:o}).done(function(t){a.resolve(t)}).fail(function(t,e){a.reject({error:t.status,textStatus:e})}),a.promise()}function n(t,e){return AJS.contextPath()+"/rest/internal/2/favourites/"+t.backendUrlPart+"/"+e}function a(t,e){var a=n(t,e);return r("get",a)}function i(t,e,a){var i=n(t,e);if(!a)return r("delete",i);i=AJS.contextPath()+"/rest/internal/2/favourites";var o={entity:{id:e,type:t.id.toLowerCase()},beforeEntityPosition:null};return r("post",i,o)}var o=15e3;return{getIsFavourite:a,updateIsFavourite:i}});;
;
/* module-key = 'jira.webresources:favourite-button', location = 'includes/jira/favourite-button/FavouriteButton.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.FavouriteButton&&(JIRA.Templates.FavouriteButton={}),JIRA.Templates.FavouriteButton.renderFavouriteButton=function(t,e){return""+aui.buttons.button({text:"",iconType:"aui",iconClass:"favourite-btn-icon aui-icon-small favourite-btn-icon--"+(t.isFavourite?"star":"unstar"),extraClasses:["favourite-btn aui-button-subtle "+(null==t.isFavourite?"favourite-btn--no-value":"")]})};;
;
/* module-key = 'jira.webresources:favourite-button', location = '/includes/jira/favourite-button/FavouriteButton.js' */
define("jira/favourite-button/favourite-button",["jquery","jira/favourite-button/constants","jira/favourite-button/api","jira/featureflags/feature-manager","jira/container-api"],function(t,e,i,n,o){function a(){AJS.flag({type:"error",close:"auto",title:"Something\'s gone wrong",body:"You cannot star items right now due to an error."})}var s,r=require("jira/analytics/web-client"),u=o.APIs.getFavouriteAPI,v=require("jira/util/data/meta"),c=function(e){this.entityType=e.entityType,null!=e.entityId&&(this.entityId=e.entityId.toString()),this.favouriteButtonElement=t(),this.isFavourite=e.isFavouriteInitialValue;var i=e.onUpdateCallbacks||{};this.onOptimisticUpdate=i.onOptimisticUpdate||t.noop,this.onUpdateRequestSuccess=i.onUpdateRequestSuccess||t.noop,this.onUpdateRequestError=i.onUpdateRequestError||t.noop,this._isFavouriteButtonEnabled()&&this._init()};return c.prototype._init=function(){var e=this;this.analyticsEventProps=t.extend({},this.entityType.analytics,{actionSubjectId:this.entityId}),void 0===this.isFavourite&&i.getIsFavourite(this.entityType,this.entityId).then(function(t){e._setIsFavourite(t)}).fail(function(){e._setIsFavourite(!1)})},c.prototype._isLoggedIn=function(){return!!v.get("remote-user")},c.prototype._isFavouriteButtonEnabled=function(){return this._isLoggedIn()&&null!=this.entityId&&this.entityType},c.prototype._sendStarringAnalyticsEvent=function(t){var i=t?e.TRACK_ANALYTICS_ACTIONS.STARRED:e.TRACK_ANALYTICS_ACTIONS.UNSTARRED;this._sendTrackAnalyticsEvent(i)},c.prototype._sendTrackAnalyticsEvent=function(e){r.sendTrackEvent(t.extend({},this.analyticsEventProps,{action:e}))},c.prototype._sendUIButtonClickedAnalyticsEvent=function(){r.sendUIEvent(t.extend({},this.analyticsEventProps,{action:"clicked",actionSubject:"button",actionSubjectId:"starButton"}))},c.prototype._setIsFavourite=function(t){var e=this.favouriteButtonElement.find(".favourite-btn-icon");this.isFavourite=t,void 0!==this.isFavourite&&this.favouriteButtonElement.removeClass("favourite-btn--no-value"),t?e.removeClass("favourite-btn-icon--unstar").addClass("favourite-btn-icon--star"):e.removeClass("favourite-btn-icon--star").addClass("favourite-btn-icon--unstar")},c.prototype._sendUpdateToJiraFrontend=function(t){var e=this;u().then(function(i){i.changeFavourite({id:e.entityId,type:e.entityType.id,value:t}).then(function(){e._sendStarringAnalyticsEvent(t)})})},c.prototype._onValueFromJiraFrontend=function(t){var e=t[this.entityType.id],i=e&&e[this.entityId];if(i){this.isUpdateRequestInProgress=i.pending;var n=i.value;this.isFavourite!==n&&(this._setIsFavourite(n),this.onOptimisticUpdate(n))}},c.prototype._updateIsFavourite=function(t){var e=this;this.isUpdateRequestInProgress||(this.isUpdateRequestInProgress=!0,this._setIsFavourite(t),this.onOptimisticUpdate(t),this._sendUIButtonClickedAnalyticsEvent(),u().then(function(){e._sendUpdateToJiraFrontend(t)},function(){i.updateIsFavourite(e.entityType,e.entityId,t).then(function(){e.isUpdateRequestInProgress=!1,e._sendStarringAnalyticsEvent(t),e.onUpdateRequestSuccess(t)}).fail(function(){e.isUpdateRequestInProgress=!1,a();var i=!t;e._setIsFavourite(i),e.onUpdateRequestError(t)})}))},c.prototype.setAnalyticsEventProps=function(e){this._isFavouriteButtonEnabled()&&(this.analyticsEventProps=t.extend(!0,this.analyticsEventProps,e))},c.prototype.onClick=function(t){var e=!this.isFavourite;this._updateIsFavourite(e),t.stopPropagation(),t.preventDefault(),this.favouriteButtonElement.blur()},c.prototype.render=function(){if(this._isFavouriteButtonEnabled()){this.favouriteButtonElement=AJS.$(JIRA.Templates.FavouriteButton.renderFavouriteButton({isFavourite:this.isFavourite}));var t=this;return this.favouriteButtonElement.tooltip({gravity:"n",title:function(){return t.isFavourite?"Unstar":"Star"}}).on("click",this.onClick.bind(this)),u().then(function(e){s||(s=t._onValueFromJiraFrontend.bind(t),e.registerFavouriteChangeCallback(s))}),this.favouriteButtonElement}},c.prototype.onUnmount=function(){if(this._isFavouriteButtonEnabled()){u().then(function(t){t.unregisterFavouriteChangeCallback(s),s=void 0})}},c.prototype.remove=function(){this._isFavouriteButtonEnabled()&&(this.onUnmount(),this.favouriteButtonElement.length&&this.favouriteButtonElement.remove())},c});;
;
/* module-key = 'jira.webresources:share-types', location = '/includes/jira/share/Share.js' */
JIRA.Share={i18n:{}},AJS.namespace("atlassian.jira.share",null,JIRA.Share),JIRA.Share.toggleElements=function(e,t){var i=document.getElementById(t),r=document.getElementById(e);i&&r&&(i.style.display="none",r.style.display="")},JIRA.Share.i18n.getMessage=function(e){return this[e]?this[e]:"unknown"},JIRA.Share.i18n._formatMessage=function(e,t,i){for(var r,s,n=0;n<i.length;n++)for(s=String(i[n]),t&&(s=t(s)),r=new RegExp("\\{"+n+"\\}","g");e.search(r)>=0;)e=e.replace(r,s);return e},JIRA.Share.i18n.formatMessage=function(e){var t=Array.prototype.slice.call(arguments,1);return JIRA.Share.i18n._formatMessage(e,htmlEscape,t)},JIRA.Share.i18n.formatMessageUnescaped=function(e){var t=Array.prototype.slice.call(arguments,1);return JIRA.Share.i18n._formatMessage(e,null,t)},JIRA.Share.EditSharesController=function(e){this.shares=new Array,this.displayDiv=document.getElementById("share_display_div"),this.emptyDiv=document.getElementById("empty_share"),this.shareDiv=document.getElementById("share_div"),this.submitButtonId=e,this.shareTypes={},this.counter=0,this.singleton=!1,this.dirty=!1},JIRA.Share.EditSharesController.prototype={registerShareType:function(e){e&&e.type&&(this.shareTypes[String(e.type)]=e)},initialise:function(){var e,t,i,r,s=this;for(t in this.shareTypes)i=this.shareTypes[t],jQuery("#share_add_"+i.type).click(function(e){return function(t){s.addShareCallback(t,e)}}(i)),i.initialise&&i.initialise(this.setDescription);var n,a=document.getElementById("share_type_hidden"),o=document.getElementById("shares_data");try{n=JSON.parse(o.firstChild.nodeValue),n instanceof Array||(n=[])}catch(e){n=[]}for(e=0;e<n.length;e++)if(void 0!==n[e].type&&(i=this.shareTypes[n[e].type])){var l=i.getDisplayFromPermission(n[e]);l&&this.addDisplay(l)}if(0===this.shares.length){var h=this.emptyDiv.cloneNode(!0);h.removeAttribute("id"),h.style.display="",this.displayDiv.appendChild(h)}this.recalculateHiddenValue(),a.defaultValue=a.value,jQuery(a).addClass(JIRA.DirtyForm.ClassNames.SANCTIONED),r=document.getElementById("share_busy"),r&&(r.style.display="none",r.parentNode&&r.parentNode.removeChild(r)),this.shareDiv.style.display="",jQuery("#share_type_selector").change(function(e){s.selectShareTypeCallback(e)});var p=document.getElementById("share_type_selector"),c=p.options,u=c[p.selectedIndex].value;document.getElementById("share_"+u).style.display="";var d=this.shareTypes[u];this.setDescription(d.getDisplayDescriptionFromUI()),this.setWarning(d.getDisplayWarning()),this.submitButtonId&&jQuery("#"+this.submitButtonId).click(function(e){s.saveCallback(e)})},addDisplay:function(e){var t=this;if(e){var i=this.findShare(e.permission);if(i>=0)return void this.animateShare(i);var r=this.counter++,s=null;if(e.singleton){if(0!==this.shares.length){var n=JIRA.Share.i18n.getMessage("common.sharing.remove.shares.public");"loggedin"==e&&(n=JIRA.Share.i18n.getMessage("common.sharing.remove.shares.authenticated"));var a=confirm(n);if(!a)return}s=this.clearDiv()}else this.singleton?s=this.clearDiv():0===this.shares.length&&(s=this.clearDiv());if(s)for(;s.firstChild;)s.removeChild(s.firstChild);else s=document.createElement("DIV");s.className="shareItem",s.id="share_div_"+r;var o=document.createElement("DIV");o.id="share_div_"+r+"_inner",o.title=e.description;var l=this.cloneImage("share_icon");l&&o.appendChild(l);var h=document.createElement("SPAN");h.innerHTML=e.display,o.appendChild(h);var p=this.cloneImage("share_trash");p&&(jQuery(p).click(function(e){t.removeCallback(e,r)}),o.appendChild(p)),s.appendChild(o),this.singleton=e.singleton,this.displayDiv.appendChild(s),this.shares.push({id:r,permission:e.permission}),this.recalculateHiddenValue()}},cloneImage:function(e){var t=document.getElementById(e);return t&&(t=t.cloneNode(!0),t.removeAttribute("id"),t.style.display=""),t},findShare:function(e){for(var t=0;t<this.shares.length;t++)if(e.equals(this.shares[t].permission))return this.shares[t].id;return-1},selectShareTypeCallback:function(){for(var e,t=document.getElementById("share_type_selector"),i=t.options,r=0;r<i.length;r++){var s=document.getElementById("share_"+i[r].value);s&&(r==t.selectedIndex?e=s:s.style.display="none")}e.style.display="";var n=i[t.selectedIndex].value,a=this.shareTypes[n];this.setDescription(a.getDisplayDescriptionFromUI()),this.setWarning(a.getDisplayWarning()),this.dirty=!0},saveCallback:function(e){if(this.dirty){var t=this.getCurrentShareType();if(t){var i=t.getDisplayFromUI();i&&i.permission&&this.findShare(i.permission)<0&&(confirm(JIRA.Share.i18n.getMessage("common.sharing.dirty.warning"))||e.preventDefault())}}},addShareCallback:function(e,t){this.addDisplay(t.getDisplayFromUI())},removeCallback:function(e,t){this.remove(t)},remove:function(e){for(var t=0;t<this.shares.length;t++)if(this.shares[t].id==e){this.shares.splice(t,1);break}var i=document.getElementById("share_div_"+e);this.shares.length>=1?this.displayDiv.removeChild(i):(i.innerHTML=this.emptyDiv.innerHTML,i.className=this.emptyDiv.className,i.removeAttribute("id")),this.recalculateHiddenValue()},clearDiv:function(){this.shares=new Array;for(var e=null;!e&&this.displayDiv.firstChild;)"div"==this.displayDiv.firstChild.nodeName.toLowerCase()?e=this.displayDiv.firstChild:this.displayDiv.removeChild(this.displayDiv.firstChild);if(e)for(;e.nextSibling;)this.displayDiv.removeChild(e.nextSibling);return e},setDescription:function(e){var t=document.getElementById("share_type_description");t&&(t.innerHTML=e)},setWarning:function(e){var t=document.getElementById("share_warning");t&&(e.length>0?AJS.messages.warning("#share_warning",{body:e,closeable:!1,shadowed:!1}):t.innerHTML="")},recalculateHiddenValue:function(){var e=document.getElementById("share_type_hidden");if(e){for(var t=[],i=0;i<this.shares.length;i++)t.push(this.shares[i].permission);e.value=JSON.stringify(t)}},animateShare:function(e){var t=document.getElementById("share_div_"+e+"_inner");if(t){for(var i=t.parentNode,r=null;!r&&i&&i!=document.body.parentNode;)i.style&&(r=i.style.backgroundColor),!r&&i.bgColor&&(r=i.bgColor),i=i.parentNode;r||(r="#FFFFFF"),jQuery(t).hasClass("fading")||(jQuery(t).addClass("fading"),jQuery(t).css({backgroundColor:"#FFCCCC"}).animate({backgroundColor:"#FFFFFF"},2e3,function(){jQuery(t).removeClass("fading")}))}},getCurrentShareType:function(){var e=document.getElementById("share_type_selector");return e?this.shareTypes[e.options[e.selectedIndex].value]:null}},JIRA.Share.SelectSingleShareTypeController=function(){this.shares=new Array,this.shareTypes={},this.singleton=!1},JIRA.Share.SelectSingleShareTypeController.prototype={registerShareType:function(e){e&&e.type&&(this.shareTypes[String(e.type)]=e)},initialise:function(){var e,t,i=this;for(e in this.shareTypes)t=this.shareTypes[e],t.initialise&&t.initialise(this.setDescription);var r,s=document.getElementById("shares_data");try{var n=s.firstChild.nodeValue;r=JSON.parse(n),r instanceof Array||(r=[])}catch(e){r=[]}var a=null,o=null;0===r.length?(a="any",t=this.shareTypes[a],o=null):(a=r[0].type,t=this.shareTypes[a],o=r[0]),t.updateSelectionFromPermission&&t.updateSelectionFromPermission(o);var l=document.getElementById("share_type_selector");l&&(this.updateShareTypeSelectorList(l,a),this.setDescription(t.getDisplayDescriptionFromUI()),jQuery(l).change(function(e){i.selectShareTypeCallback(e)}));var h=document.getElementById("share_busy");h&&(h.style.display="none",h.parentNode&&h.parentNode.removeChild(h)),h=document.getElementById("share_div"),h&&(h.style.display="")},updateShareTypeSelectorList:function(e,t){for(var i=e.options,r=0,s=0;s<i.length;s++){var n=i[s].value;n==t&&(r=s),document.getElementById("share_"+n).style.display="none"}i[r].selected=!0;var a=document.getElementById("share_"+i[r].value);a&&(a.style.display="")},selectShareTypeCallback:function(){for(var e,t=document.getElementById("share_type_selector"),i=t.options,r=0;r<i.length;r++){var s=document.getElementById("share_"+i[r].value);s&&(r==t.selectedIndex?e=s:s.style.display="none")}e.style.display="";var n=i[t.selectedIndex].value,a=this.shareTypes[n];this.setDescription(a.getDisplayDescriptionFromUI())},setDescription:function(e){var t=document.getElementById("share_type_description");t&&(t.innerHTML=e)},setWarning:function(e){var t=document.getElementById("share_warning");t&&(e.length>0?(t.className="aui-message warning",t.innerHTML=e):(t.className="",t.innerHTML=""))}},JIRA.Share.GlobalShare=function(){this.type="global",this.singleton=!0},JIRA.Share.GlobalShare.prototype={getDisplayFromUI:function(){var e=new JIRA.Share.SharePermission(this.type,null,null),t=JIRA.Share.i18n.getMessage("share_global_display");return new JIRA.Share.Display(t,this.getDisplayDescriptionFromUI(),this.singleton,e)},getDisplayDescriptionFromUI:function(){return JIRA.Share.i18n.getMessage("share_global_description")},getDisplayFromPermission:function(e){if(!e||e.type!=this.type)return null;var t=new JIRA.Share.SharePermission(this.type,null,null),i=JIRA.Share.i18n.getMessage("share_global_display");return new JIRA.Share.Display(i,this.getDisplayDescriptionFromUI(),this.singleton,t)},getDisplayWarning:function(){return JIRA.Share.i18n.getMessage("share_global_warning")}},JIRA.Share.AuthenticatedUserShare=function(){this.type="loggedin",this.singleton=!0},JIRA.Share.AuthenticatedUserShare.prototype={getDisplayFromUI:function(){var e=new JIRA.Share.SharePermission(this.type,null,null),t=JIRA.Share.i18n.getMessage("share_authenticated_display");return new JIRA.Share.Display(t,this.getDisplayDescriptionFromUI(),this.singleton,e)},getDisplayDescriptionFromUI:function(){return JIRA.Share.i18n.getMessage("share_authenticated_description")},getDisplayFromPermission:function(e){if(!e||e.type!=this.type)return null;var t=new JIRA.Share.SharePermission(this.type,null,null),i=JIRA.Share.i18n.getMessage("share_authenticated_display");return new JIRA.Share.Display(i,this.getDisplayDescriptionFromUI(),this.singleton,t)},getDisplayWarning:function(){return""}},JIRA.Share.GroupShare=function(){this.type="group",this.singleton=!1},JIRA.Share.GroupShare.prototype={initialise:function(e){var t=this;this.setDescription=e,this.groupSelect=document.getElementById("groupShare"),this.groupSelect&&jQuery(this.groupSelect).change(function(e){t.groupChangeCallback(e)})},getDisplayFromUI:function(){if(this.groupSelect){var e=this.groupSelect.options[this.groupSelect.selectedIndex].value,t=new JIRA.Share.SharePermission(this.type,e,null);return new JIRA.Share.Display(this.getDisplayString(e),this.getDescriptionString(e,!0),this.singleton,t)}},getDisplayDescriptionFromUI:function(){if(!this.groupSelect)return"";var e=this.groupSelect.options[this.groupSelect.selectedIndex].value;return this.getDescriptionString(e,!1)},getDisplayFromPermission:function(e){if(!e||e.type!=this.type||!e.param1)return null;var t=new JIRA.Share.SharePermission(this.type,e.param1,null);return new JIRA.Share.Display(this.getDisplayString(t.param1),this.getDescriptionString(e.param1,!0),this.singleton,t)},getDisplayString:function(e){var t=JIRA.Share.i18n.getMessage("share_group_display");return JIRA.Share.i18n.formatMessage(t,e)},getDescriptionString:function(e,t){var i=JIRA.Share.i18n.getMessage("share_group_description");return t?JIRA.Share.i18n.formatMessageUnescaped(i,e):JIRA.Share.i18n.formatMessage(i,e)},updateSelectionFromPermission:function(e){if(this.groupSelect)for(var t=e.param1,i=this.groupSelect.options,r=0;r<i.length;r++)i[r].value==t&&(i[r].selected=!0)},groupChangeCallback:function(){this.setDescription&&this.setDescription(this.getDisplayDescriptionFromUI())},getDisplayWarning:function(){return""}},JIRA.Share.ProjectShare=function(){this.roleMap={},this.projectMap={},this.type="project",this.singleton=!1},JIRA.Share.ProjectShare.prototype={initialise:function(e){var t=this;if(this.setDescription=e,this.projectSelect=document.getElementById("projectShare-project"),this.roleSelect=document.getElementById("projectShare-role"),this.roleSelectGroup=document.getElementById("projectShare-role-group"),this.roleSelect&&this.projectSelect&&this.roleSelectGroup){var i,r;for(r=1;r<this.roleSelect.options.length;r++)i=this.roleSelect.options[r],this.roleMap[i.value]=i.text;for(r=0;r<this.projectSelect.options.length;r++)i=this.projectSelect.options[r],this.projectMap[i.value]=i.text;this.setRoles(),jQuery(this.projectSelect).change(function(e){t.changeCallbackForProject(e)}),jQuery(this.roleSelect).change(function(e){t.updateDescription(e)})}},getDisplayFromUI:function(){if(this.projectSelect&&this.roleSelect){var e,t=this.projectSelect.options[this.projectSelect.selectedIndex],i=t.value,r=t.text,s=this.roleSelect.options[this.roleSelect.selectedIndex],n=s.value,a=s.text;""==n?(e=JIRA.Share.i18n.getMessage("share_project_display_all"),e=JIRA.Share.i18n.formatMessage(e,r)):(e=JIRA.Share.i18n.getMessage("share_project_display"),e=JIRA.Share.i18n.formatMessage(e,r,a));var o=new JIRA.Share.SharePermission(this.type,i,n);return new JIRA.Share.Display(e,this.getDescriptionString(r,n,a,!0),this.singleton,o)}},getDisplayDescriptionFromUI:function(){if(!this.projectSelect||!this.roleSelect)return"";var e=this.projectSelect.options[this.projectSelect.selectedIndex],t=e.text,i=this.roleSelect.options[this.roleSelect.selectedIndex],r=i.value,s=i.text;return this.getDescriptionString(t,r,s,!1)},getDescriptionString:function(e,t,i,r){var s;return t&&""!=t?(s=JIRA.Share.i18n.getMessage("share_role_description"),s=r?JIRA.Share.i18n.formatMessageUnescaped(s,i,e):JIRA.Share.i18n.formatMessage(s,i,e)):(t=null,s=JIRA.Share.i18n.getMessage("share_project_description"),s=r?JIRA.Share.i18n.formatMessageUnescaped(s,e):JIRA.Share.i18n.formatMessage(s,e)),s},getDisplayFromPermission:function(e){var t,i,r,s,n;return e&&e.type==this.type&&e.param1?(e.param2?(s=this.getProject(e.param1),n=this.getRole(e.param2),t=JIRA.Share.i18n.getMessage("share_project_display"),t=JIRA.Share.i18n.formatMessage(t,s,n),i=new JIRA.Share.SharePermission(this.type,e.param1,e.param2),r=this.getDescriptionString(s,e.param2,n,!0)):(s=this.getProject(e.param1),t=JIRA.Share.i18n.getMessage("share_project_display_all"),t=JIRA.Share.i18n.formatMessage(t,s),i=new JIRA.Share.SharePermission(this.type,e.param1,null),r=this.getDescriptionString(s,null,null,!0)),new JIRA.Share.Display(t,r,this.singleton,i)):null},getDisplayWarning:function(){return""},changeCallbackForProject:function(){this.setRoles(),this.updateDescription()},updateDescription:function(){this.setDescription&&this.setDescription(this.getDisplayDescriptionFromUI())},setProject:function(e){if(this.projectSelect)for(var t=this.projectSelect.options,i=0;i<t.length;i++)t[i].value==e&&(t[i].selected=!0)},setRoles:function(e){if(this.projectSelect&&this.roleSelect&&this.roleSelectGroup){var t,i=this.projectSelect.options[this.projectSelect.selectedIndex],r=i.getAttribute("roles");if(r)try{t=JSON.parse(r),t||(t=[])}catch(e){t=[]}else t=[];this.roleSelectGroup.parentNode&&(this.roleSelect.removeChild(this.roleSelectGroup),this.roleSelectGroup=this.roleSelectGroup.cloneNode(!1));var s=null;if(t.length>0){for(var n=0;n<t.length;n++){var a=document.createElement("OPTION");a.appendChild(document.createTextNode(this.roleMap[t[n]]));var o=t[n];a.value=o,o==e&&(s=a),this.roleSelectGroup.appendChild(a)}this.roleSelect.appendChild(this.roleSelectGroup)}s&&(s.selected=!0)}},getProject:function(e){var t=this.projectMap[e];return t||(t=JIRA.Share.i18n.getMessage("share_invalid_project"),t||(t="[Invalid Project]")),t},getRole:function(e){var t=this.roleMap[e];return t||(t=JIRA.Share.i18n.getMessage("share_invalid_role"),t||(t="[Invalid Role]")),t},updateSelectionFromPermission:function(e){this.setProject(e.param1),this.setRoles(e.param2)}},JIRA.Share.AnyShare=function(){this.type="any",this.singleton=!0},JIRA.Share.AnyShare.prototype={getDisplayDescriptionFromUI:function(){return JIRA.Share.i18n.getMessage("share_any_description")}},JIRA.Share.Display=function(e,t,i,r){this.display=e,this.singleton=i,this.permission=r,this.description=t},JIRA.Share.SharePermission=function(e,t,i){this.type=e,t&&(this.param1=t),i&&(this.param2=i)},JIRA.Share.SharePermission.prototype.equals=function(e){return this.type===e.type&&this.param1===e.param1&&this.param2===e.param2},JIRA.Share.registerEditShareTypes=function(e){var t=new JIRA.Share.EditSharesController(e);t.registerShareType(new JIRA.Share.GlobalShare),t.registerShareType(new JIRA.Share.AuthenticatedUserShare),t.registerShareType(new JIRA.Share.GroupShare),t.registerShareType(new JIRA.Share.ProjectShare),jQuery(document).ready(function(){t.initialise()})},JIRA.Share.registerSelectShareTypes=function(){var e=new JIRA.Share.SelectSingleShareTypeController;e.registerShareType(new JIRA.Share.AnyShare),e.registerShareType(new JIRA.Share.GroupShare),e.registerShareType(new JIRA.Share.ProjectShare),jQuery(document).ready(function(){e.initialise()})};;
;
/* module-key = 'jira.webresources:ajax-favourite-control', location = '/includes/jira/field/FavouritePicker.js' */
define("jira/field/favourite-picker",["jira/util/formatter","jquery","wrm/context-path","jira/dropdown"],function(e,t,a,r){var i=function(i){var n,o=i.entityId,d=i.entityType,l=i.tableId+"_"+d+"_"+o,u=t("#fav_a_"+l),f=i.enabled,s=t("#undo_div"),c=t("#fav_count_enabled_"+l),v=t("#fav_count_disabled_"+l),p=i.relatedDropdown;"PortalPage"===d?n="dashboards":"SearchRequest"===d&&(n="filters");var m=a()+"/rest/api/1.0/"+n+"/"+o+"/favourite",b=[],h=function(){t("#"+i.tableId).find("[id^=fav_div_]").each(function(e,a){b[b.length]=t(a).attr("rel")})},_=function(){if(void 0!==i.undoText){var a=i.undoEntityName,r=t("<p/>").html(e.format(i.undoText,a)),n=t("#"+i.removeId);r.find("a").attr("id","fav_undo_a_"+i.removeId).click(function(e){e.preventDefault();var a=void 0;b.length>0&&(a={entries:b}),t.ajax({url:m,contentType:"application/json",data:JSON.stringify(a),type:"POST",success:function(){r.remove(),f="true",j(),n.show(),0===s.find("p").length&&s.addClass("hidden"),recolourSimpleTableRows(i.tableId)},error:function(){alert(t(".favourite-params").find("#errorMsg").val())}})}),n.hide(),recolourSimpleTableRows(i.tableId),s.append(r),s.removeClass("hidden")}},w=function(){"true"===f?t(t.ajax({url:m,type:"DELETE",success:function(){f="false",j(),_()},error:function(){alert(t(".favourite-params").find("#errorMsg").val())}})).throbber({target:u}):t(t.ajax({url:m,type:"PUT",success:function(){f="true",j()},error:function(){alert(t(".favourite-params").find("#errorMsg").val())}})).throbber({target:u})},k=function(){p&&r[p]&&r[p].resetCache()},j=function(){"true"===f?(u.addClass("enabled aui-iconfont-star").removeClass("disabled aui-iconfont-unstar").attr("title",i.titleAdd).text(i.titleAdd),c.show(),v.hide()):(u.addClass("disabled aui-iconfont-unstar").removeClass("enabled aui-iconfont-star").attr("title",i.titleRemove).text(i.titleRemove),c.hide(),v.show()),k()};j(),u.click(function(e){e.preventDefault(),w()}),h()};return i.NewPicker=function(e){var a=e.fieldId,r=t("#fav_a_"+a),i=t("#fav_new_"+a),n=e.enabled,o="enabled favourite-btn-icon--star",d="disabled favourite-btn-icon--unstar",l=function(){"true"===n?(r.addClass(o).removeClass(d).attr("title",e.titleAdd).find("span").text(e.titleAdd),i.val("true")):(r.addClass(d).removeClass(o).attr("title",e.titleRemove).find("span").text(e.titleRemove),i.val("false"))};l(),r.click(function(e){e.preventDefault(),n="true"===n?"false":"true",l()})},i.init=function(e){t(".favourite-params",e).each(function(){var e={};t(this).find("input").each(function(){var a=t(this);e[a.attr("id")]=a.val()}),"false"===e.remote?i.NewPicker(e):i(e)})},i}),AJS.namespace("JIRA.FavouritePicker",null,require("jira/field/favourite-picker")),AJS.namespace("jira.widget.favourite",null,{Picker:require("jira/field/favourite-picker"),NewPicker:require("jira/field/favourite-picker").NewPicker});;
;
/* module-key = 'jira.webresources:ajax-favourite-control', location = '/includes/jira/field/initFavouritePickers.js' */
define("jira/field/init-favourite-pickers",["jira/field/favourite-picker","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(i,e,t,a){a.bind(t.NEW_CONTENT_ADDED,function(t,a,n){n!=e.pageLoad&&n!=e.dialogReady||i.init(a)})});;
;
/* module-key = 'jira.webresources:ajax-favourite-control', location = '/includes/jira/field/init/init-ajax-favourite-control-webresource.js' */
require("jira/field/init-favourite-pickers");;
;
/* module-key = 'jira.webresources:manageshared', location = '/includes/jira/tabs/TabManagerUtil.js' */
define("jira/tabs/tab-manager/util",["jira/libs/parse-uri"],function(t){var r=function(t,r,a){this.initialUrl=t,this.paramPairRegEx=a,this.tabParam=r};return r.prototype.constructCompleteUrl=function(t){var r=this.getTabParamFromUrl(t),a=this.initialUrl.replace(this.paramPairRegEx,r);return a=a.replace("?&","?"),a=a.replace(/[?&]$/,""),a=a.replace("&&","&")},r.prototype.getTabParamFromUrl=function(r){var a=t(r);return a.queryKey[this.tabParam]?encodeURIComponent(this.tabParam)+"="+a.queryKey[this.tabParam]:""},r.prototype.updateInitialUrl=function(r){var a=t(r);if(!a.queryKey[this.tabParam])return this.initialUrl;var e=this.constructCompleteUrl(r),i=t(e),n=this.tabParam+"="+a.queryKey[this.tabParam];return i.query?i.queryKey[this.tabParam]||(e+="&"+n):e+="?"+n,this.initialUrl=e,this.initialUrl},r.prototype.replaceHistoryItem=function(t){history.replaceState(null,"",t)},r.prototype.saveHistoryItem=function(t){history.pushState(null,"",t)},r});;
;
/* module-key = 'jira.webresources:manageshared', location = '/includes/jira/tabs/TabManager.js' */
define("jira/tabs/tab-manager",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/tabs/tab-manager/util","jquery","exports"],function(a,t,e,r,n,i){i.navigationTabs=function(){var i,o,s,l,c,d,u,b={},f={filterTabSelector:JIRA.Page.mainContentCssSelector,tabsSelector:"ul.vertical.tabs li",tabsLinksSelector:"ul.vertical.tabs li a",requestParams:"decorator=none&contentOnly=true",stateRequestParams:"decorator=none&contentOnly=true&updateState=true",activeTabClass:"active",loadedTabClass:"loaded",tabParam:"filterView"},h=function(a){b[a]&&b[a]instanceof Array&&n(b[a]).each(function(){this()})},m=function(r,i,d){var b=n(r).find("a"),m=u.getTabParamFromUrl(d),g=function(r){o.empty(),o.html(r),i||u.saveHistoryItem(u.constructCompleteUrl(b.attr("href"))),h(b.attr("id")),s.addClass(f.loadedTabClass),a.trigger(t.NEW_CONTENT_ADDED,[o,e.tabUpdated])};u.getTabParamFromUrl(s.find("a").attr("href"))!==m&&d&&(s.get(0)!==r||d)&&(s&&s.length&&(l=s.removeClass(f.activeTabClass).removeClass(f.loadedTabClass)),s=n(r).addClass("active"),c&&c.get(0)&&4!==c.get(0).readyState&&c.get(0).abort&&(n.isFunction(c.hideThrobber)&&c.hideThrobber(),c.get(0).abort()),o.html(n("<h2 />").text(b.attr("title"))),c=n(n.ajax({method:"get",dataType:"html",url:d,data:f.requestParams,success:g}).fail(function(a){if(401===a.status)window.location.reload();else if("abort"!==a.statusText){var t=a.responseText&&a.responseText.match(/<body[^>]*>([\S\s]*)<\/body[^>]*>/);t&&t.length>0&&o.html('<div style="padding:0 20px">'+t[1]+"</div>")}})).throbber({target:r}))},g=function(a){var t=n([]);u.getTabParamFromUrl(s.find("a").attr("href"))!==a&&(a&&""!==a?t=T(a):""===a&&(t=i),t&&m(t,!0,n(t).find("a").attr("href")))},T=function(a){var t,e=f.getTabRegEx,r=a.match(e);return n(d).each(function(){var a=n(this).find("a").attr("href").match(e);r&&r.length>0&&a[0]===r[0]&&(t=this)}),t};return window.addEventListener("popstate",function(){u&&g(u.getTabParamFromUrl(window.location.href))}),{getActiveTab:function(){return s},getProjectTab:function(){return o},addLoadEvent:function(a,t){b[a]=b[a]||[],n.isFunction(t)&&b[a].push(t)},_getTabManagerUtil:function(){return u},_getNavigateToTabFunc:function(){return m},init:function(a){n.extend(f,a),f.getTabRegEx=new RegExp(f.tabParam+"=[^&]*"),u=new r(window.location.href,f.tabParam,f.getTabRegEx),o=n(f.filterTabSelector),d=n(f.tabsSelector).each(function(){n(this).hasClass(f.activeTabClass)&&(s=n(this),s.addClass(f.loadedTabClass),i=s)});var t=T(window.location.href);if(!window.location.href.match(f.getTabRegEx)&&i){var e=n(i).find("a").attr("href");u.replaceHistoryItem(u.updateInitialUrl(e))}var l=u.getTabParamFromUrl(window.location.href);if(l&&t&&s&&u.getTabParamFromUrl(s.find("a").attr("href"))!==l){var c=n(t).find("a").attr("href");m(n(t),!0,c)}n(f.tabsLinksSelector).click(function(a){var t=n(this).attr("href"),e=T(t);e&&(m(e,!1,t),a.preventDefault())}),a&&a.customInit&&a.customInit()}}}()}),AJS.namespace("jira.app.manageShared",null,require("jira/tabs/tab-manager")),AJS.namespace("JIRA.TabManager",null,require("jira/tabs/tab-manager"));;
;
/* module-key = 'jira.webresources:managefilters', location = '/includes/jira/issuenavigator/initFilterManager.js' */
AJS.$(function(a){var t={customInit:function(){var t=JIRA.Page.mainContentElement(),e=function(){JIRA.FavouritePicker.init(t)},n=function(){var i=function(r){a("#filter_search_results").empty(),a.ajax({method:"get",dataType:"html",url:r+"&decorator=none&contentOnly=true&Search=Search",success:function(r){t.html(r),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[t,JIRA.CONTENT_ADDED_REASON.filtersSearchRefreshed]),e(),n(),a("#mf_browse tr:first a, .filterPaging a").click(function(t){i(a(this).attr("href")),t.preventDefault(),t.stopPropagation()})}})},r=a("#filterSearchForm");JIRA.UserAutoComplete.init(r),r.submit(function(){return i(contextPath+"/secure/ManageFilters.jspa?"+a(this).serialize()),!1})},i=function(){t.find("a.delete-filter").each(function(){var a=this.id;new JIRA.FormDialog({trigger:"#"+a,autoClose:!0})}),t.find("a.edit-filter").each(function(){var a=this.id;new JIRA.FormDialog({trigger:"#"+a,autoClose:!0})})};JIRA.TabManager.navigationTabs.addLoadEvent("my-filters-tab",e),JIRA.TabManager.navigationTabs.addLoadEvent("fav-filters-tab",e),JIRA.TabManager.navigationTabs.addLoadEvent("popular-filters-tab",e),JIRA.TabManager.navigationTabs.addLoadEvent("search-filters-tab",e),JIRA.TabManager.navigationTabs.addLoadEvent("search-filters-tab",n),JIRA.TabManager.navigationTabs.addLoadEvent("my-filters-tab",i),JIRA.TabManager.navigationTabs.addLoadEvent("fav-filters-tab",i),i(),n()}};JIRA.TabManager.navigationTabs.init(t)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/Filters.js' */
define("jira/issues/components/filters",["require"],function(e){"use strict";var t=e("jira/message"),i=e("jquery"),s=e("jira/issues/components/filters/controllers/dialog"),r=e("jira/issues/components/filters/controllers/header"),o=e("jira/issues/components/filters/controllers/list"),l=e("jira/issues/components/filters/controllers/list-with-actions"),n=e("jira/issues/components/filters/entities/favourite-filters"),a=e("jira/issues/components/filters/entities/filter"),h=e("jira/issues/components/filters/entities/system-filters"),c=e("jira/components/libs/marionette-1.4.1/controller"),u=e("jira/issues/utils/login"),f=e("jira/issues/libs/ajshelper"),d=e("jira/issues/libs/trace"),g={closeable:!0,timeout:5};return c.extend({initialize:function(e){this._initializeDialogController(),this.searchPageModule=e.searchPageModule,this._initializeCollections(e),this._initializeSystemFiltersController(),this._initializeFavouriteFiltersController(),this._initializeFilterHeaderController()},onClose:function(){this.favouriteFiltersController.off(),this.systemFiltersController.off(),this.stopListening()},_initializeCollections:function(e){this.systemFiltersCollection=new h(e.systemFilters,e),this.favouriteFiltersCollection=new n([]),this.listenTo(this.favouriteFiltersCollection,{"change:favourite":function(e,t){t||this.favouriteFiltersCollection.remove(e)},remove:function(e){this.trigger("filterUnfavourited",{filterId:e.getId()})}})},_initializeDialogController:function(){this.dialogController=new s,this.listenTo(this.dialogController,"delete:success",function(e){this.favouriteFiltersCollection.remove(e),this.trigger("filterRemoved",{filterId:e.getId()}),t.showSuccessMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e has been deleted.",f.escapeHtml(e.getName())),g),d("jira.filter.saved")}),this.listenTo(this.dialogController,"delete:error",function(){d("jira.filter.saved")}),this.listenTo(this.dialogController,"rename:success",function(e){t.showSuccessMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e has been renamed.",f.escapeHtml(e.getName())),g),d("jira.filter.saved")}),this.listenTo(this.dialogController,"rename:error",function(){d("jira.filter.saved")}),this.listenTo(this.dialogController,"copy:success",function(e){this.trigger("newFilter",e),this._addFavouriteFilter(e),d("jira.filter.saved")},this),this.listenTo(this.dialogController,"copy:error",function(){d("jira.filter.saved")}),this.listenTo(this.dialogController,"saveas:success",function(e){this.trigger("newFilter",e),this._addFavouriteFilter(e),d("jira.filter.saved")},this),this.listenTo(this.dialogController,"saveas:error",function(){d("jira.filter.saved")})},_initializeSystemFiltersController:function(){this.systemFiltersController=new o({collection:this.systemFiltersCollection,className:"system-filters",errorMessage:"Failed to retrieve system filters from server.",loadingMessage:"Loading system filters...",emptyMessage:"There are no system filters.",loginMessage:AJS.format("You must be {0}logged in{1} to view system filters.",'<a class="login-link" href="'+u.redirectUrlToCurrent()+'">',"</a>")}),this.systemFiltersController.on("selectFilter",function(e){this.headerController.closeDetails(),this.trigger("filterSelected",e.id)},this)},_initializeFavouriteFiltersController:function(){this.favouriteFiltersController=new l({collection:this.favouriteFiltersCollection,className:"favourite-filters",title:"Favorite Filters",errorMessage:"Failed to retrieve favorite filters from server.",loadingMessage:"Loading favorite filters...",emptyMessage:"You don\'t have any favorite filters.",loginMessage:AJS.format("You must be {0}logged in{1} to view favorite filters.",'<a class="login-link" href="'+u.redirectUrlToCurrent()+'">',"</a>")}),this.favouriteFiltersController.on("selectFilter",function(e){this.headerController.closeDetails(),this.trigger("filterSelected",e.id)},this),this.favouriteFiltersController.on("deleteFilter",function(e){this.showDeleteDialog(e.id)},this),this.favouriteFiltersController.on("renameFilter",function(e){this.showRenameDialog(e.id)},this),this.favouriteFiltersController.on("copyFilter",function(e){this.showCopyDialog(e.id)},this),this.favouriteFiltersController.on("list:render",function(){this.trigger("list:render"),d("jira.filter.favourites.render")},this)},_initializeFilterHeaderController:function(){this.headerController=new r,this.listenTo(this.headerController,"saveAs",function(e){this.showSaveAsDialog(e)}),this.listenTo(this.headerController,"save",function(e){var i=f.escapeHtml(e.getName());e.saveFilter(this.searchPageModule.getEffectiveJql()).done(function(){t.showSuccessMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e has been successfully saved.",i),g),this.trigger("savedFilter",e)}.bind(this)).fail(function(){t.showErrorMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e could not be saved.",i),g)})}),this.listenTo(this.headerController,"discard",function(){this.trigger("filterDiscarded")}),this.listenTo(this.headerController,"favourite",function(e){var e=this._addFavouriteFilter(e);this.highlightFilter(e),this.trigger("fitlerFavourited",e)})},_addFavouriteFilter:function(e){var t=!!e.getFavourite(),i=!!this.favouriteFiltersCollection.get(e.getId());return t&&!i&&this.favouriteFiltersCollection.add(e),this.favouriteFiltersCollection.get(e.getId())},getFilterByIdFromExistingCollections:function(e){return this.systemFiltersCollection.get(e)||this.favouriteFiltersCollection.get(e)},getFilterById:function(e){var t=this.getFilterByIdFromExistingCollections(e),s=new i.Deferred;if(t)s.resolve(t);else{var r=new a({id:e});r.fetch({success:function(){r.getFavourite()?(this.favouriteFiltersCollection.add(r,{merge:!0}),s.resolve(this.favouriteFiltersCollection.get(r.id))):r.getIsSystem()?(this.systemFiltersCollection.add(r,{merge:!0}),s.resolve(this.systemFiltersCollection.get(r.id))):s.resolve(r)}.bind(this),error:function(){r.setIsValid(!1),s.reject.apply(this,arguments)}})}return s.promise()},showDeleteDialog:function(e){this.getFilterById(e).done(function(e){this.dialogController.showDeleteDialog(e)}.bind(this))},showRenameDialog:function(e){this.getFilterById(e).done(function(e){this.dialogController.showRenameDialog(e)}.bind(this))},showCopyDialog:function(e){this.getFilterById(e).done(function(e){this.dialogController.showCopyDialog(e)}.bind(this))},showSaveAsDialog:function(e){this.searchPageModule.getJqlDeferred().done(function(t){this.dialogController.showSaveAsDialog(e,t)}.bind(this))},showSystemFilters:function(e){this.systemFiltersController.show(e)},showFavouriteFilters:function(e){this.favouriteFiltersController.show(e)},showFilterHeader:function(e){this.headerController.show({el:e.el,model:e.model,isEdited:e.isEdited,isDirty:e.isDirty})},updateFilterHeader:function(e){this.headerController.update({model:e.model,isEdited:e.isEdited||!1,isDirty:e.isDirty||!1})},highlightFilter:function(e){this.systemFiltersController.highlightFilter(e),this.favouriteFiltersController.highlightFilter(e)},markFilterHeaderAsInvalid:function(){this.headerController.markAsInvalid()},fetchSystemFilters:function(){return this.systemFiltersCollection.fetch()},fetchFavouriteFilters:function(){return this.favouriteFiltersCollection.fetch({reset:!0})}})});
//# sourceMappingURL=Filters-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/Filter.js' */
define("jira/issues/components/filters/entities/filter",["require"],function(e){"use strict";var i=e("jira/ajs/ajax/smart-ajax"),t=e("underscore"),s=e("wrm/context-path"),r=e("jira/components/libs/brace"),n=e("jira/issues/utils/login"),o=e("jira/issues/basemodel"),a=e("jira/issues/libs/trace"),u=s();return r.Model.extend({namedAttributes:["id","name","description","jql","favourite","isSystem","sharePermissions","subscriptions","ownerUserName","ownerDisplayName","ownerAccountId","avatarUrl","requiresLogin","isValid"],defaults:{isSystem:!1,isValid:!0},urlRoot:u+"/rest/api/2/filter/",getOwner:function(){return this.getOwnerDisplayName()||this.getOwnerAccountId()},isFavouriteFilter:function(){return!!this.getFavourite()},url:function(){return this.urlRoot+encodeURIComponent(this.id)+"?expand=subscriptions[-5:]"},isMyFilter:function(){return!this.getIsSystem()&&this.getOwnerAccountId()===n.loggedInUserAccountId()},parse:function(e){return e.subscriptions&&e.subscriptions.items&&e.subscriptions.items.reverse(),{id:e.id,name:e.name,description:e.description,jql:e.jql,isSystem:e.isSystem,favourite:e.favourite,sharePermissions:e.sharePermissions||[],subscriptions:e.subscriptions,ownerUserName:e.owner&&e.owner.name,ownerDisplayName:e.owner&&e.owner.displayName,ownerAccountId:e.owner&&e.owner.accountId,avatarUrl:e.owner&&e.owner.avatarUrls["48x48"],requiresLogin:e.requiresLogin}},getNumberOfAdditionalSubscriptions:function(){var e=this.getSubscriptions();return e.size>e.items.length?e.size-e.items.length:0},onFavOptimisticUpdate:function(e){this.setFavourite(e)},onFavUpdateRequestError:function(e){this.setFavourite(e)},saveFilter:function(e){this.pendingRequest&&this.pendingRequest.abort();var t=this.toJSON(),s={id:t.id,name:t.name,jql:e,favourite:t.favourite},r=this;return this.pendingRequest=i.makeRequest({url:this.url(),type:"PUT",contentType:"application/json",data:JSON.stringify(s)}).done(function(e){r.set(r.parse(e))}).then(function(){delete r.pendingRequest,a("jira.filter.saved")}),this.pendingRequest},toJSON:function(){var e=o.prototype.toJSON.apply(this);return t.extend(e,{requiresLoginForUser:this._requiresLoginForUser(this.getRequiresLogin()),navUrl:this._constructNavUrl(this.getId(),this.getRequiresLogin())}),e},_requiresLoginForUser:function(e){return!n.isLoggedIn()&&e},_constructNavUrl:function(e,i){var t="/issues/?filter="+e;return this._requiresLoginForUser(i)?n.redirectUrl(t):u+t}})});
//# sourceMappingURL=Filter-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/Filters.js' */
define("jira/issues/components/filters/entities/filters",["require"],function(t){"use strict";var e=t("jira/issues/components/filters/entities/filter"),i=t("jira/components/libs/brace");return i.Collection.extend({model:e,fetch:function(){var t=i.Collection.prototype.fetch.apply(this,arguments);return t.done(function(){this.fetchState="fetched",this.trigger("change:fetchState",this.fetchState)}.bind(this)),t.fail(function(){this.fetchState="error",this.trigger("change:fetchState",this.fetchState)}.bind(this)),t},initialize:function(t,e){e=e||{},this.fetchState=e.fetchState,this.systemFiltersPromise=e.systemFiltersPromise}})});
//# sourceMappingURL=Filters-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/SystemFilters.js' */
define("jira/issues/components/filters/entities/system-filters",["require"],function(t){"use strict";var e=t("underscore"),s=t("wrm/context-path"),i=t("jquery"),r=t("jira/issues/components/filters/entities/filters"),n=t("jira/featureflags/feature-manager"),a=n.isFeatureEnabled("empanada.gin-in-spa"),h=s();return r.extend({_setFetchState:function(t){var e=t!==this.fetchState;this.fetchState=t,e&&this.trigger("change:fetchState",this.fetchState)},url:h+"/rest/issueNav/latest/systemFilters",fetch:function(){if(a&&this.systemFiltersPromise){var t=new i.Deferred;return this.systemFiltersPromise.then(function(e){this.set(e),this._setFetchState("fetched"),t.resolve()}.bind(this))["catch"](function(){t=r.prototype.fetch.apply(this,e.toArray(arguments))}.bind(this)),t}return this.length>0?(this._setFetchState("fetched"),(new i.Deferred).resolve()):r.prototype.fetch.apply(this,e.toArray(arguments))}})});
//# sourceMappingURL=SystemFilters-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/FavouriteFilters.js' */
define("jira/issues/components/filters/entities/favourite-filters",["require"],function(e){"use strict";var t=e("wrm/context-path"),r=e("jira/issues/components/filters/entities/filters");return r.extend({url:t()+"/rest/api/2/filter/favourite?expand=subscriptions[-5:]",comparator:function(e,t){return e.getName().toLowerCase().localeCompare(t.getName().toLowerCase())}})});
//# sourceMappingURL=FavouriteFilters-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/actions.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.Filters&&(JIRA.Components.Filters={}),"undefined"==typeof JIRA.Components.Filters.Templates&&(JIRA.Components.Filters.Templates={}),"undefined"==typeof JIRA.Components.Filters.Templates.Actions&&(JIRA.Components.Filters.Templates.Actions={}),JIRA.Components.Filters.Templates.Actions.DropDown=function(e,t){return'<div class="aui-list"><ul class="aui-list-section">'+(e.canEdit?'<li class="aui-list-item"><a href="" class="aui-list-item-link rename-filter" data-id="'+soy.$$escapeHtmlAttribute(e.filter.id)+'">'+soy.$$escapeHtml("Rename")+"</a></li>":"")+'<li class="aui-list-item"><a href="" class="aui-list-item-link copy-filter" data-id="'+soy.$$escapeHtmlAttribute(e.filter.id)+'">'+soy.$$escapeHtml("Copy")+'</a></li></ul><ul class="aui-list-section'+(e.canEdit?"":" aui-last")+'"><li class="aui-list-item"><a href="" class="aui-list-item-link unfavourite-filter" data-id="'+soy.$$escapeHtmlAttribute(e.filter.id)+'">'+soy.$$escapeHtml("Remove from favorites")+"</a></li></ul>"+(e.canEdit?'<ul class="aui-list-section aui-last"><li class="aui-list-item"><a href="" class="aui-list-item-link delete-filter" data-id="'+soy.$$escapeHtmlAttribute(e.filter.id)+'">'+soy.$$escapeHtml("Delete")+"</a></li></ul>":"")+"</div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/dialogs.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.Filters&&(JIRA.Components.Filters={}),"undefined"==typeof JIRA.Components.Filters.Templates&&(JIRA.Components.Filters.Templates={}),"undefined"==typeof JIRA.Components.Filters.Templates.Dialogs&&(JIRA.Components.Filters.Templates.Dialogs={}),JIRA.Components.Filters.Templates.Dialogs.Rename=function(e,t){return'<div class="aui-dialog-content"><form action="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+"/rest/api/2/filter/"+soy.$$escapeHtmlAttribute(e.filter.id)+'" class="aui" id="rename-filter-form" method="put"><div class="aui-messages"></div><div class="form-body"><h2 class="dialog-title">'+soy.$$escapeHtml("Rename Filter")+": "+soy.$$escapeHtml(e.filter.name)+'</h2><div class="field-group"><label for="filterName">'+soy.$$escapeHtml("Filter Name")+'<span class="aui-icon icon-required"><span class="content">Required</span></span></label><input type="text" id="filterName" name="name" value="'+soy.$$escapeHtmlAttribute(e.filter.name)+'" class="text long-field"></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="'+soy.$$escapeHtmlAttribute("s")+'" title="'+soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button submit" type="submit" value="'+soy.$$escapeHtmlAttribute("Submit")+'" /><a accesskey="'+soy.$$escapeHtmlAttribute("`")+'" title="'+soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="aui-button aui-button-link cancel" href="javascript:">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form></div>"},JIRA.Components.Filters.Templates.Dialogs.Save=function(e,t){for(var s='<div class="aui-dialog-content"><form action="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e.contextPath))+'/rest/api/2/filter/" class="aui" id="save-filter-form" method="post"><div class="aui-messages"></div><div class="form-body"><h2 class="dialog-title">'+soy.$$escapeHtml(e.headerText)+"</h2>"+(e.copyFromAnotherUser?'<p class="form-description">'+(e.filterOwnerName?soy.$$escapeHtml(AJS.format("This filter was created by {0}. You can save a copy of this filter but you cannot modify the original.",e.filterOwnerName)):soy.$$escapeHtml("You can save a copy of this filter but you cannot modify the original."))+"</p>":"")+'<div class="field-group"><label for="filterName">'+soy.$$escapeHtml("Filter Name")+'<span class="aui-icon icon-required"><span class="content">Required</span></span></label><input type="text" id="filterName" name="name"'+(e.prefilledFilterName?' value="'+soy.$$escapeHtmlAttribute(e.prefilledFilterName)+'"':"")+'class="text long-field"><div class="description">'+soy.$$escapeHtml("Enter a name for this Filter")+"</div>",i=e.hiddenFields,a=i.length,l=0;l<a;l++){var n=i[l];s+='<input type="hidden" name="'+soy.$$escapeHtmlAttribute(n.name)+'" value="'+(n.value?soy.$$escapeHtmlAttribute(n.value):"")+'" />'}return s+="</div>"+(e.isDefaultShareScopeGlobal?'<div class="aui-message info shadowed"><p class="title"><span class="aui-icon icon-info"></span><strong>'+soy.$$escapeHtml("By default your filters are shared with everyone.")+'</strong></p><input type="checkbox" id="setSharingPrivate" class="checkbox"><label for="setSharingPrivate">'+soy.$$escapeHtml("My filters should be private by default.")+"</label></div>":"")+'</div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="'+soy.$$escapeHtmlAttribute("s")+'" title="'+soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button submit" type="submit" value="'+soy.$$escapeHtmlAttribute("Submit")+'" /><a accesskey="'+soy.$$escapeHtmlAttribute("`")+'" title="'+soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="aui-button aui-button-link cancel" href="javascript:">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/list.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.Filters&&(JIRA.Components.Filters={}),"undefined"==typeof JIRA.Components.Filters.Templates&&(JIRA.Components.Filters.Templates={}),"undefined"==typeof JIRA.Components.Filters.Templates.List&&(JIRA.Components.Filters.Templates.List={}),JIRA.Components.Filters.Templates.List.Module=function(e,t){return e=e||{},'<div class="filter-panel-section">'+(e.title?'<h4 class="filter-title">'+soy.$$escapeHtml(e.title)+"</h4>":"")+'<div class="filter-content" /></div>'},JIRA.Components.Filters.Templates.List.Message=function(e,t){return'<p class="filter-info '+soy.$$escapeHtmlAttribute(e.className)+'">'+soy.$$filterNoAutoescape(e.text)+"</p>"},JIRA.Components.Filters.Templates.List.List=function(e,t){return'<ul class="saved-filter filter-list '+soy.$$escapeHtmlAttribute(e.className)+'"></ul>'},JIRA.Components.Filters.Templates.List.Filter=function(e,t){return'<li><a class="filter-link'+(e.requiresLoginForUser?" requires-login":"")+'" href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e.navUrl))+'" data-id="'+soy.$$escapeHtmlAttribute(e.id)+'" title="'+soy.$$escapeHtmlAttribute(e.name)+'">'+soy.$$escapeHtml(e.name)+"</a>"+(e.useActions?'<a href="#" class="filter-actions" data-id="'+soy.$$escapeHtmlAttribute(e.id)+'"><span>'+soy.$$escapeHtml("Filter Actions")+"</span></a>":"")+"</li>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/header.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.Filters&&(JIRA.Components.Filters={}),"undefined"==typeof JIRA.Components.Filters.Templates&&(JIRA.Components.Filters.Templates={}),"undefined"==typeof JIRA.Components.Filters.Templates.Header&&(JIRA.Components.Filters.Templates.Header={}),JIRA.Components.Filters.Templates.Header.Main=function(e,t){var s='<div class="header-section-primary"><h1 class="search-title" title="'+soy.$$escapeHtmlAttribute(e.title)+'">'+soy.$$escapeHtml(e.title)+'</h1><ul class="filter-operations">'+(e.primaryOps&&e.primaryOps.length?'<li class="filter-edited-item"><span>'+soy.$$escapeHtml("Edited")+"</span></li>":"");if(e.primaryButton){if(s+="<li>"+(e.primaryOps&&e.primaryOps.length?'<div class="aui-buttons">':"")+'<button class="aui-button aui-button-light '+soy.$$escapeHtmlAttribute(e.primaryButton.styleClass)+'">'+soy.$$escapeHtml(e.primaryButton.label)+"</button>",e.primaryOps&&e.primaryOps.length){s+='<button class="aui-button aui-button-light aui-dropdown2-trigger js-edited-trigger" aria-owns="js-edited-content" aria-haspopup="true" data-container=".aui-buttons"></button></div><div id="js-edited-content" class="aui-dropdown2 aui-style-default"><ul>';for(var i=e.primaryOps,a=i.length,l=0;l<a;l++){var r=i[l];s+='<li><a href="'+(r.href?soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(r.href)):"#")+'" '+(r.styleClass?'class="'+soy.$$escapeHtmlAttribute(r.styleClass)+'"':"")+">"+soy.$$escapeHtml(r.label)+"</a></li>"}s+="</ul></div>"}s+="</li>"}if(e.secondaryOps&&e.secondaryOps.length)for(var o=e.secondaryOps,n=o.length,p=0;p<n;p++){var u=o[p];s+='<li><a href="'+(u.href?soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(u.href)):"#")+'" '+(u.title?'title="'+soy.$$escapeHtmlAttribute(u.title)+'"':"")+'class="'+soy.$$escapeHtmlAttribute(u.styleClass)+'">'+(u.label?soy.$$escapeHtml(u.label):"")+"</a></li>"}return s+="</ul></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/details.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.Filters&&(JIRA.Components.Filters={}),"undefined"==typeof JIRA.Components.Filters.Templates&&(JIRA.Components.Filters.Templates={}),"undefined"==typeof JIRA.Components.Filters.Templates.Details&&(JIRA.Components.Filters.Templates.Details={}),JIRA.Components.Filters.Templates.Details.Main=function(e,s){return""+JIRA.Components.Filters.Templates.Details.Description(e)+JIRA.Components.Filters.Templates.Details.Permissions(e)+(e.userIsLoggedIn?JIRA.Components.Filters.Templates.Details.Subscriptions(e):"")},JIRA.Components.Filters.Templates.Details.Description=function(e,s){return""+(e.userIsLoggedIn&&e.owner||e.filter.description?'<div class="filter-details-section sub-section">'+(e.userIsLoggedIn&&e.owner?JIRA.Components.Filters.Templates.Details.Owner(e):"")+(e.filter.description?'<p class="filter-name">'+soy.$$escapeHtml(e.filter.description)+(e.permissions.userHasEditPermission?' <a class="trigger-dialog" href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+"/secure/EditFilter!default.jspa?filterId="+soy.$$escapeUri(e.filter.id)+'">('+soy.$$escapeHtml("Edit")+")</a>":"")+"</p>":"")+"</div>":"")},JIRA.Components.Filters.Templates.Details.Permissions=function(e,s){var t='<div class="filter-details-section sub-section"><h4 class="section-header">'+soy.$$escapeHtml("Permissions")+"</h4>";if(e.sharePermissions&&e.sharePermissions.length>0){t+="<p>"+soy.$$escapeHtml("This filter is visible to:")+'</p><ul class="shared-filters">';for(var i=e.sharePermissions,r=i.length,o=0;o<r;o++){var a=i[o];t+=JIRA.Components.Filters.Templates.Details.SharePermissionItem({type:a.type,project:""+(a.project?'<a href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+"/browse/"+soy.$$escapeHtml(a.project.key)+'">'+soy.$$escapeHtml(a.project.name)+"</a>":""),projectRole:""+(a.role?soy.$$escapeHtml(a.role.name):""),group:""+(a.group?soy.$$escapeHtml(a.group.name):"")})}t+="</ul>"}else t+="<p>"+soy.$$escapeHtml("This filter is only visible to you.")+"</p>";return t+=(e.permissions.userHasEditSharingPermission?'<p><a class="edit-permissions trigger-dialog" href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+"/secure/EditFilter!default.jspa?filterId="+soy.$$escapeUri(e.filter.id)+'">'+soy.$$escapeHtml("Edit permissions")+"</a></p>":"")+"</div>"},JIRA.Components.Filters.Templates.Details.Subscriptions=function(e,s){return'<div class="filter-details-section full-section"><h4>'+soy.$$escapeHtml("Subscriptions")+"</h4>"+(e.subscriptions.items.length?"<p>"+soy.$$escapeHtml("This filter has the following subscriptions:")+"</p>"+JIRA.Components.Filters.Templates.Details.SubscriptionList(e):"<p>"+soy.$$escapeHtml("This filter has no subscriptions.")+"</p>")+'<ul class="manage-links"><li><a class="trigger-dialog" href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+"/secure/EditSubscription!default.jspa?filterId="+soy.$$escapeUri(e.filter.id)+'">'+soy.$$escapeHtml("New subscription")+"</a></li>"+(e.subscriptions.items.length?'<li><a href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+"/secure/ViewSubscriptions.jspa?filterId="+soy.$$escapeUri(e.filter.id)+'">'+soy.$$escapeHtml("Manage subscriptions")+"</a></li>":"")+"</ul></div>"},JIRA.Components.Filters.Templates.Details.SharePermissionItem=function(e,s){return""+("global"==e.type?"<li>"+soy.$$escapeHtml("Public")+"</li>":"loggedin"==e.type?"<li>"+soy.$$escapeHtml("Any logged-in user")+"</li>":"group"==e.type?"<li>"+soy.$$filterNoAutoescape(AJS.format("{0}Group{1}: {2}","<strong>","</strong>",e.group))+"</li>":e.projectRole?"<li>"+soy.$$filterNoAutoescape(AJS.format("{0}Project{1}: {2} {3}Role{4}: {5}","<strong>","</strong>",e.project,"<strong>","</strong>",e.projectRole))+"</li>":"<li>"+soy.$$filterNoAutoescape(AJS.format("{0}Project{1}: {2}","<strong>","</strong>",e.project))+"</li>")},JIRA.Components.Filters.Templates.Details.SubscriptionList=function(e,s){for(var t="<ul>",i=e.filter.subscriptions.items,r=i.length,o=0;o<r;o++){var a=i[o];t+=a.group?"<li>"+soy.$$escapeHtml(a.group.name)+"</li>":"<li>"+soy.$$escapeHtml(a.user.displayName)+"</li>"}return t+=(e.filter.subscriptions.additionalLength?'<li><a href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+"/secure/ViewSubscriptions.jspa?filterId="+soy.$$escapeUri(e.filter.id)+'">'+soy.$$escapeHtml(AJS.format("{0} more",e.filter.subscriptions.additionalLength))+"</a></li>":"")+"</ul>"},JIRA.Components.Filters.Templates.Details.Owner=function(e,s){var t='<div class="search-owner">'+(e.avatarUrl?'<span class="aui-avatar aui-avatar-large search-owner-avatar"><span class="aui-avatar-inner"><img src="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e.avatarUrl))+'" /></span></span>':"")+'<span class="search-owner-name">',i=""+JIRA.Components.Filters.Templates.Details.OwnerLink(e);return t+=soy.$$filterNoAutoescape(AJS.format("Owned by {0}",i))+"</span></div>"},JIRA.Components.Filters.Templates.Details.OwnerLink=function(e,s){return'<a href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e.ownerUrl))+'" class="user-hover" rel="'+soy.$$escapeHtmlAttribute(e.ownerAccountId)+'" data-user="'+soy.$$escapeHtmlAttribute(e.ownerData)+'" data-account-id="'+soy.$$escapeHtmlAttribute(e.ownerAccountId)+'">'+soy.$$escapeHtml(e.owner)+"</a>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/actions.js' */
define("jira/issues/components/filters/templates/actions",function(){"use strict";return JIRA.Components.Filters.Templates.Actions});
//# sourceMappingURL=actions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/details.js' */
define("jira/issues/components/filters/templates/details",function(){"use strict";return JIRA.Components.Filters.Templates.Details});
//# sourceMappingURL=details-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/dialogs.js' */
define("jira/issues/components/filters/templates/dialogs",function(){"use strict";return JIRA.Components.Filters.Templates.Dialogs});
//# sourceMappingURL=dialogs-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/header.js' */
define("jira/issues/components/filters/templates/header",function(){"use strict";return JIRA.Components.Filters.Templates.Header});
//# sourceMappingURL=header-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/list.js' */
define("jira/issues/components/filters/templates/list",function(){"use strict";return JIRA.Components.Filters.Templates.List});
//# sourceMappingURL=list-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/namespace.js' */
AJS.namespace("JIRA.Components.Filters.Templates.Actions",null,require("jira/issues/components/filters/templates/actions")),AJS.namespace("JIRA.Components.Filters.Templates.Details",null,require("jira/issues/components/filters/templates/details")),AJS.namespace("JIRA.Components.Filters.Templates.Dialogs",null,require("jira/issues/components/filters/templates/dialogs")),AJS.namespace("JIRA.Components.Filters.Templates.Header",null,require("jira/issues/components/filters/templates/header")),AJS.namespace("JIRA.Components.Filters.Templates.List",null,require("jira/issues/components/filters/templates/list"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Actions.js' */
define("jira/issues/components/filters/views/actions",["require"],function(e){"use strict";var i=e("jira/ajs/dropdown/dropdown"),t=e("jira/issues/components/filters/templates/actions"),r=e("jira/components/libs/marionette-1.4.1/itemview"),n=e("jira/issues/utils/login"),s=e("jira/issues/layer-positioning/window"),o=e("jira/issues/libs/ajshelper");return r.extend({template:t.DropDown,triggers:{"click .rename-filter":"renameFilter","click .copy-filter":"copyFilter","click .unfavourite-filter":"unfavouriteFilter","click .delete-filter":"deleteFilter"},triggerView:null,dropDown:null,initialize:function(e){this.triggerView=e.triggerView},serializeData:function(){return{filter:this.model,canEdit:n.loggedInUserName()===this.model.getOwnerUserName()}},onBeforeRender:function(){this.dropDown=new i({alignment:o.LEFT,styleClass:"filter-actions-dropdown",content:function(){return this.$el}.bind(this),positioningController:new s,trigger:this.triggerView.getActionsTrigger()}),this.dropDown.bind("hideLayer",this.close.bind(this))},onRender:function(){this.dropDown.show(),this._markFilterAsSelected()},onClose:function(){this.dropDown.hide(),this.dropDown.layerController.placeholder().remove(),this.dropDown=null,this._markFilterAsUnselected()},_markFilterAsSelected:function(){var e=this.triggerView.getActionsTrigger();e.find("span").addClass("active"),e.closest("li").addClass("hover")},_markFilterAsUnselected:function(){var e=this.triggerView.getActionsTrigger();e.find("span").removeClass("active"),e.closest("li").removeClass("hover")}})});
//# sourceMappingURL=Actions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Copy.js' */
define("jira/issues/components/filters/views/dialogs/copy",["require"],function(e){"use strict";var t=e("jira/ajs/ajax/smart-ajax"),i=e("underscore"),a=e("wrm/context-path"),r=e("jira/issues/components/filters/templates/dialogs"),o=e("jira/components/libs/marionette-1.4.1/dialogview"),n=e("jira/util/data/meta"),s=a();return o.extend({template:r.Save,id:"copy-filter-dialog",dialogOptions:function(){var e=this;return{content:function(a){t.makeRequest({url:s+"/rest/api/2/filter/defaultShareScope",contentType:"application/json"}).done(function(t){a(e.template(i.extend({isDefaultShareScopeGlobal:t&&"GLOBAL"===t.scope},e.serializeData())))})}}},formToRequestData:function(e){return{name:e.find("[name=name]").val(),id:this.model.getId(),favourite:!0}},serializeData:function(){var e=this.model;return{headerText:"Copy Filter"+" : "+e.getName(),prefilledFilterName:AJS.format("Copy of {0}",e.getName()),modifierKey:n.get("keyboard-accesskey-modifier"),contextPath:s,filter:e.toJSON(),copyFromAnotherUser:e.getOwnerUserName()!==n.get("remote-user"),filterOwnerName:e.getOwnerDisplayName(),hiddenFields:[]}},onSubmitSuccess:function(){this.$el.find("#setSharingPrivate").prop("checked")&&t.makeRequest({url:s+"/rest/api/2/filter/defaultShareScope",type:"PUT",contentType:"application/json",processData:!1,data:JSON.stringify({scope:"PRIVATE"})})},onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});
//# sourceMappingURL=Copy-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Delete.js' */
define("jira/issues/components/filters/views/dialogs/delete",["require"],function(i){"use strict";var e=i("jira/dialog/dialog-util"),t=i("wrm/context-path"),s=i("jira/components/libs/marionette-1.4.1/dialogview"),n=i("jira/util/data/meta"),o=t();return s.extend({id:"delete-filter-dialog",serializeData:function(){var i={modifierKey:n.get("keyboard-accesskey-modifier")};return this.model?i.filter=this.model.toJSON():i.filter={subscriptions:{items:[]}},i},dialogOptions:function(){return{content:null,url:o+"/secure/DeleteFilter!default.jspa?filterId="+this.model.id,ajaxOptions:e.getDefaultAjaxOptions,submitHandler:null,onUnSuccessfulSubmit:this._onSubmitError.bind(this),onSuccessfulSubmit:this._onSubmitSuccess.bind(this),onDialogFinished:function(){}}}})});
//# sourceMappingURL=Delete-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Rename.js' */
define("jira/issues/components/filters/views/dialogs/rename",["require"],function(e){"use strict";var i=e("jira/issues/components/filters/templates/dialogs"),t=e("jira/components/libs/marionette-1.4.1/dialogview"),a=e("jira/util/data/meta");return t.extend({template:i.Rename,id:"rename-filter-dialog",serializeData:function(){return{modifierKey:a.get("keyboard-accesskey-modifier"),filter:this.model.toJSON()}},formToRequestData:function(e){return{name:e.find("[name=name]").val(),id:this.model.getId(),favourite:!0}},onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});
//# sourceMappingURL=Rename-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/SaveAs.js' */
define("jira/issues/components/filters/views/dialogs/save-as",["require"],function(e){"use strict";var t=e("jira/ajs/ajax/smart-ajax"),i=e("jira/util/data/meta"),a=e("underscore"),r=e("wrm/context-path"),n=e("jira/issues/components/filters/templates/dialogs"),s=e("jira/components/libs/marionette-1.4.1/dialogview"),o=JIRA.API&&JIRA.API.getFavouriteItemsApi||AJS.$.Deferred;return s.extend({template:n.Save,id:"save-filter-dialog",initialize:function(e){this.jql=e.jql},dialogOptions:function(){var e=this;return{content:function(i){t.makeRequest({url:r()+"/rest/api/2/filter/defaultShareScope",contentType:"application/json"}).done(function(t){i(e.template(a.extend({isDefaultShareScopeGlobal:t&&"GLOBAL"===t.scope},e.serializeData())))})}}},formToRequestData:function(e){var t={name:e.find("[name=name]").val(),jql:this.jql,favourite:!0};return this.model&&!this.model.getIsSystem()&&(t.id=this.model.getId()),t},serializeData:function(){var e={headerText:"Save Filter",modifierKey:i.get("keyboard-accesskey-modifier"),contextPath:r(),hiddenFields:[]},t=this.model;return t&&a.extend(e,{filter:t?t.toJSON():{},copyFromAnotherUser:t.getOwnerUserName()!==i.get("remote-user"),filterOwnerName:t.getOwnerDisplayName()}),e},onSubmitSuccess:function(e){this.$el.find("#setSharingPrivate").prop("checked")&&t.makeRequest({url:r()+"/rest/api/2/filter/defaultShareScope",type:"PUT",contentType:"application/json",processData:!1,data:JSON.stringify({scope:"PRIVATE"})}),o().then(function(t){t.changeFavourite({id:e.id,type:"filters",value:e.favourite})})},onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});
//# sourceMappingURL=SaveAs-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Filter.js' */
define("jira/issues/components/filters/views/list/filter",["require"],function(i){"use strict";var e=i("jira/issues/components/filters/templates/list"),t=i("jira/components/libs/marionette-1.4.1/itemview");return t.extend({template:e.Filter,ui:{filterLink:".filter-link"},triggers:{"simpleClick .filter-link:not(.requires-login)":"selectFilter"},modelEvents:{change:"render"},onRender:function(){this.unwrapTemplate()},highlight:function(){this.ui.filterLink.addClass("active"),this.ui.filterLink.scrollIntoView()},unhighlight:function(){this.ui.filterLink.removeClass("active")}})});
//# sourceMappingURL=Filter-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/FilterWithActions.js' */
define("jira/issues/components/filters/views/list/filter-with-actions",["require"],function(e){"use strict";var i=e("underscore"),t=e("jira/issues/components/filters/views/list/filter");return t.extend({ui:i.extend({actionsTrigger:".filter-actions"},t.prototype.ui),triggers:i.extend({"click .filter-actions":"openActions"},t.prototype.triggers),templateHelpers:{useActions:!0},getActionsTrigger:function(){return this.ui.actionsTrigger}})});
//# sourceMappingURL=FilterWithActions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/List.js' */
define("jira/issues/components/filters/views/list/list",["require"],function(i){"use strict";var e=i("jira/issues/components/filters/views/list/filter"),t=i("jira/components/libs/marionette-1.4.1/compositeview"),s=i("jira/issues/components/filters/templates/list");return t.extend({template:s.List,itemView:e,itemViewContainer:".filter-list",onRender:function(){this.unwrapTemplate()},templateHelpers:function(){return{className:this.className}},unhighlightAllFilters:function(){this.children.apply("unhighlight")},highlightFilter:function(i){var e=this.children.findByModel(i);e&&e.highlight()}})});
//# sourceMappingURL=List-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/ListWithActions.js' */
define("jira/issues/components/filters/views/list/list-with-actions",["require"],function(i){"use strict";var s=i("underscore"),e=i("jira/issues/components/filters/views/list/filter-with-actions"),t=i("jira/issues/components/filters/views/list/list");return t.extend({itemView:e,useActions:!1,initialize:function(i){i=s.defaults({},i,{useActions:!1}),this.useActions=i.useActions}})});
//# sourceMappingURL=ListWithActions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Message.js' */
define("jira/issues/components/filters/views/list/message",["require"],function(e){"use strict";var t=e("jira/issues/components/filters/templates/list"),s=e("jira/components/libs/marionette-1.4.1/itemview");return s.extend({template:t.Message,text:"",initialize:function(e){this.text=e.text},onRender:function(){this.unwrapTemplate()},templateHelpers:function(){return{text:this.text,className:this.className}}})});
//# sourceMappingURL=Message-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Module.js' */
define("jira/issues/components/filters/views/list/module",["require"],function(t){"use strict";var e=t("underscore"),i=t("jira/issues/components/filters/templates/list"),n=t("jira/components/libs/marionette-1.4.1/layout");return n.extend({template:i.Module,title:"",regions:{content:".filter-content"},initialize:function(t){t=e.defaults({},t,{title:""}),this.title=t.title},templateHelpers:function(){return{title:this.title}}})});
//# sourceMappingURL=Module-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Header.js' */
define("jira/issues/components/filters/views/header",["require","jquery","jira/favourite-button/constants","jira/favourite-button/favourite-button"],function(e,t,i,s){"use strict";var r=e("underscore"),a=e("wrm/context-path"),n=e("jquery"),o=e("jira/issues/components/filters/templates/header"),l=e("jira/components/libs/marionette-1.4.1/itemview"),d=e("jira/issues/utils/login"),u=e("jira/issues/tipsy"),h=a();return l.extend({operations:{save:{styleClass:"save-changes",label:"Save"},saveAs:{styleClass:"save-as-new-filter",label:"Save as"},discardChanges:{styleClass:"discard-filter-changes",label:"Discard changes"},details:{styleClass:"show-filter-details",title:"View information about this filter",label:"Details"}},template:o.Main,ui:{filterFavouriteButton:".fav-link-adg3, .fav-link",filterEditedLabel:".filter-edited-item",saveButton:".save-changes",saveAsButton:".save-as-new-filter",detailsTrigger:".show-filter-details",dropdownContent:"#js-edited-content"},triggers:{"click .fav-link":"toogleFavourite","click .save-as-new-filter:not([aria-disabled=true])":{event:"saveAs",preventDefault:!0,stopPropagation:!1},"click .save-changes:not([aria-disabled=true])":{event:"save",preventDefault:!0,stopPropagation:!1},"click .discard-filter-changes":{event:"discard",preventDefault:!0,stopPropagation:!1}},events:{"click .show-filter-details":function(){this.trigger("details",this.ui.detailsTrigger)}},_generatePrimaryOperations:function(){var e=[];return d.isLoggedIn()&&(this.isEdited&&this.model.isMyFilter()&&e.push(this.operations.save),this.isDirty||e.push(this.operations.saveAs)),this.isEdited&&e.push(this.operations.discardChanges),e},_isFavouriteButtonEnabled:function(){return d.isLoggedIn()},_generateSecondaryOperations:function(){var e=[];return this.model.getIsSystem()||e.push(this.operations.details),e},serializeData:function(){if(!this.model){var e=null;return d.isLoggedIn()&&(e=this.operations.saveAs),{title:"Search",primaryButton:e,isModified:!1,shouldShowSaveInlineDialog:!0}}if(!this.model.getIsValid())return{title:"Search"};var t=this._generatePrimaryOperations(),i=this._generateSecondaryOperations(),s={title:this.model.getName(),primaryButton:t.shift(),primaryOps:t,secondaryOps:i};return this.model.getOwner()&&r.extend(s,{owner:this.model.getOwner()||"",ownerUserName:this.model.getOwnerUserName()||"",avatarUrl:this.model.getAvatarUrl(),ownerUrl:h+"/secure/ViewProfile.jspa?name="+encodeURIComponent(this.model.getOwnerUserName())}),s},_renderFavouriteButton:function(){var e=this;if(this.model){if(this.favouriteButton&&this.favouriteButton.remove(),this.favouriteButton&&this.model.id===this._previousFilterId||(this.favouriteButton=new s({entityId:this.model.id,entityType:i.FAVOURITE_ITEM_TYPES.FILTERS,isFavouriteInitialValue:this.model.isFavouriteFilter(),onUpdateCallbacks:{onOptimisticUpdate:e.model.onFavOptimisticUpdate.bind(e.model),onUpdateRequestError:e.model.onFavUpdateRequestError.bind(e.model)}})),this._isFavouriteButtonEnabled()){var r=t("#filter-header__favourite-btn-container"),a=this.favouriteButton.render();a&&(r.prepend(a),a.on("click",function(){e.triggerMethod("toogleFavourite",{model:e.model})}))}this._previousFilterId=this.model.id}},render:function(e){return"undefined"!=typeof e.model&&(this.model=e.model),this.isEdited=e.isEdited,this.isDirty=e.isDirty,this._renderFavouriteButton(),l.prototype.render.call(this)},onRender:function(){this.ui.dropdownContent.on("aui-dropdown2-show",function(e){var t=this.$el;this.$el=n(e.target),this.delegateEvents(),this.$el=t}.bind(this)),this.dirtyTipsy&&(this.dirtyTipsy.remove(),delete this.dirtyTipsy),this.isDirty&&this.markAsInvalid(),new u({el:this.ui.filterFavouriteButton})},markAsInvalid:function(){this.ui.saveButton.addClass("disabled"),this.ui.saveButton.attr("aria-disabled","true"),this.dirtyTipsy=new u({el:this.ui.saveButton,tipsy:{delayIn:0,title:function(){return "You need to run the search first before you can save your changes"}}})}})});
//# sourceMappingURL=Header-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Details.js' */
define("jira/issues/components/filters/views/details",["require","jira/dialog/form-dialog"],function(e,t){"use strict";var i=e("underscore"),r=e("wrm/context-path"),n=e("jira/issues/components/filters/templates/details"),a=e("jira/components/libs/marionette-1.4.1/inlinedialogview"),s=e("jira/issues/utils/login"),o=e("jira/issues/user-params"),l=e("jira/analytics/web-client"),d=e("jira/container-api"),c=e("jira/featureflags/feature-manager"),u=r(),g="EditFilter!default.jspa",f=c.isFeatureEnabled("nav-ux-enable-async-edit-filter-modal"),p=e("jira/util/safe-logger"),h=function(e){d.APIs.getAsyncModalsAPI().then(function(t){var i={id:e.attributes.id,name:e.attributes.name,description:e.attributes.description,sharePermissions:e.attributes.sharePermissions};t.showEditFilterModal(i),l.sendScreenEvent("editFilterModal",null,{action:"viewed",objectType:"filter",objectId:e.id})})["catch"](function(e){p.safeError("GlobalIssueNavigator","Failed to render EditFilterModal with error: "+e)})};return a.extend({template:n.Main,id:"filter-details-overlay",dialogOptions:{addActiveClass:!0,hideDelay:36e5,offsetX:-36,width:400},initialize:function(e){this.trigger=e.triggerEl},serializeData:function(){var e=this.model,t=i.sortBy(e.getSharePermissions(),function(e){var t=[e.type];return e.group&&t.push(e.group.name),e.project&&t.push(e.project.name),e.role&&t.push(e.role.name),t}),r=i.clone(e.getSubscriptions()),n=s.loggedInUserAccountId()===e.getOwnerAccountId();r.additionalLength=e.getNumberOfAdditionalSubscriptions();var a={filter:e.toJSON(),sharePermissions:t,subscriptions:r,permissions:{userHasEditSharingPermission:n&&(!!o.createSharedObjects()||t.length>0),userHasEditPermission:n},userIsLoggedIn:s.isLoggedIn(),returnUrl:window.location};return e.getOwner()&&i.extend(a,{owner:e.getOwner()||"",ownerData:JSON.stringify({accountId:e.getOwnerAccountId()||""}),ownerAccountId:e.getOwnerAccountId()||"",avatarUrl:e.getAvatarUrl(),ownerUrl:u+"/secure/ViewProfile.jspa?accountId="+encodeURIComponent(e.getOwnerAccountId())}),a},onRender:function(){var e=this;this.dialog.on("click","a.trigger-dialog",function(i){i.preventDefault();var r=this.attributes&&this.attributes.href&&this.attributes.href.value||"";if(f&&r.includes(g))h(e.model);else{var n=new t({id:this.id+"-dialog",ajaxOptions:{url:this.href,data:{decorator:"dialog",inline:"false"}},stacked:!1});n.show(),l.sendScreenEvent("createSubscriptionModal",null,{action:"viewed",objectType:"filter",objectId:e.model.id})}}),this.dialog.on("click",function(e){e.stopPropagation()})}})});
//# sourceMappingURL=Details-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/Dialog.js' */
define("jira/issues/components/filters/controllers/dialog",["require"],function(i){"use strict";var e=i("underscore"),s=i("jquery"),t=i("jira/issues/components/filters/entities/filter"),o=i("jira/issues/components/filters/views/dialogs/copy"),n=i("jira/issues/components/filters/views/dialogs/delete"),r=i("jira/issues/components/filters/views/dialogs/rename"),c=i("jira/issues/components/filters/views/dialogs/save-as"),a=i("jira/components/libs/marionette-1.4.1/controller");return a.extend({initialize:function(){this.activeView=null},_closeActiveDialog:function(){this.activeView&&(this.activeView.close(),this.stopListening(this.activeView),this.activeView=null)},_showDialog:function(i,t,o){e.defaults(o,{viewOptions:{},onSuccess:s.noop,onError:s.noop}),this._closeActiveDialog(),this.activeView=new i(e.extend({model:t},o.viewOptions)),this.listenTo(this.activeView,"submit:success",function(i){o.onSuccess.call(this,i,t)}),this.listenTo(this.activeView,"submit:error",function(){o.onError.call(this,t)}),this.activeView.render()},showDeleteDialog:function(i){this._showDialog(n,i,{onSuccess:function(i,e){this.trigger("delete:success",e)},onError:function(i){this.trigger("delete:error",i)}})},showRenameDialog:function(i){this._showDialog(r,i,{onSuccess:function(i,e){e.set("name",i.name),this.trigger("rename:success",e)},onError:function(i){this.trigger("rename:error",i)}})},showCopyDialog:function(i){this._showDialog(o,i,{onSuccess:function(i){var e=new t(i,{parse:!0});this.trigger("copy:success",e)},onError:function(i){this.trigger("copy:error",i)}})},showSaveAsDialog:function(i,e){this._showDialog(c,i,{viewOptions:{jql:e},onSuccess:function(i){var e=new t(i,{parse:!0});this.trigger("saveas:success",e)},onError:function(i){this.trigger("saveas:error",i)}})}})});
//# sourceMappingURL=Dialog-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/List.js' */
define("jira/issues/components/filters/controllers/list",["require"],function(t){"use strict";var i=t("jira/issues/components/filters/views/list/list"),s=t("jira/issues/components/filters/views/list/message"),e=t("jira/issues/components/filters/views/list/module"),n=t("jira/components/libs/marionette-1.4.1/controller"),o=t("jira/issues/utils/login");return n.extend({view:null,initialize:function(t){this.collection=t.collection,this.title=t.title,this.className=t.className,this.errorMessage=t.errorMessage,this.loadingMessage=t.loadingMessage,this.emptyMessage=t.emptyMessage,this.loginMessage=t.loginMessage},show:function(t){this.view&&this.close(),this.view=new e({el:t,title:this.title}),this.view.render(),this._showInternalView(this.collection.fetchState),this.listenTo(this.collection,"change:fetchState",this._showInternalView)},close:function(){this.view&&(this.stopListening(this.collection,"change:fetchState",this._showRegion),this.stopListening(this.view),this.view.close(),this.view=null)},highlightFilter:function(t){this._listView&&(this._listView.unhighlightAllFilters(),t&&this._listView.highlightFilter(t))},_showInternalView:function(t){switch(t){case"error":this._showError();break;case"fetched":this._showList();break;default:this._showLoading()}},_showLoading:function(){this.view.content.show(new s({className:this.className,text:this.loadingMessage}))},_showError:function(){this.view.content.show(new s({className:this.className,text:this.errorMessage}))},_showList:function(){var t=this.collection;t.length?this._showListWithItems():this._showEmptyList()},_getListViewConstructor:function(){return i},_showListWithItems:function(){var t=this._getListViewConstructor();this._listView=new t({collection:this.collection,className:this.className}),this.view.content.show(this._listView),this.trigger("render"),this.listenTo(this.collection,"remove",function i(){this.collection.length||(this.stopListening(this.collection,"remove",i),this._showEmptyList())}),this.listenTo(this._listView,"itemview:selectFilter",function(t,i){this.trigger("selectFilter",i.model)}),this.listenTo(this._listView,"itemview:render",function(){this.trigger("render")}),this.triggerMethod("list:render",this._listView)},_showEmptyList:function(){o.isLoggedIn()?this.view.content.show(new s({className:this.className,text:this.emptyMessage})):this.view.content.show(new s({className:this.className,text:this.loginMessage})),this.listenToOnce(this.collection,"add",function(){this._showListWithItems()})}})});
//# sourceMappingURL=List-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/ListWithActions.js' */
define("jira/issues/components/filters/controllers/list-with-actions",["require"],function(i){"use strict";var t=i("jira/issues/components/filters/controllers/list"),s=i("jira/issues/components/filters/views/actions"),e=i("jira/issues/components/filters/views/list/list-with-actions");return t.extend({actionsView:null,_getListViewConstructor:function(){return e},close:function(){this._closeActions(),t.prototype.close.call(this)},highlightFilter:function(i){this._closeActions(),t.prototype.highlightFilter.call(this,i)},_showActions:function(i,t){var e=this.actionsView&&this.actionsView.model===t;this._closeActions(),e||(this.actionsView=new s({triggerView:i,model:t}),this.actionsView.render(),this.listenTo(this.actionsView,"deleteFilter",function(i){this._closeActions(),this.trigger("deleteFilter",i.model)}),this.listenTo(this.actionsView,"renameFilter",function(i){this._closeActions(),this.trigger("renameFilter",i.model)}),this.listenTo(this.actionsView,"copyFilter",function(i){this._closeActions(),this.trigger("copyFilter",i.model)}),this.listenTo(this.actionsView,"unfavouriteFilter",function(i){this._closeActions(),this.trigger("unfavouriteFilter",i.model)}))},_closeActions:function(){this.actionsView&&(this.actionsView.close(),this.stopListening(this.actionsView),this.actionsView=null)},onListRender:function(){this.listenTo(this._listView,"itemview:selectFilter",function(){this._closeActions()}),this.listenTo(this._listView,"itemview:openActions",function(i,t){this._showActions(t.view,t.model)})}})});
//# sourceMappingURL=ListWithActions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/Header.js' */
define("jira/issues/components/filters/controllers/header",["require"],function(i){"use strict";var s=i("jira/issues/components/filters/views/details"),e=i("jira/issues/components/filters/views/header"),t=i("jira/components/libs/marionette-1.4.1/controller"),l=i("jira/issues/utils/login");return t.extend({initialize:function(){this.view=null},close:function(){this.view&&(this.view.close(),this.stopListening(this.view),this.view=null,this.trigger("close"))},closeDetails:function(){this.detailsView&&(this.detailsView.close(),this.stopListening(this.detailsView),this.detailsView=null)},showDetails:function(i){this.detailsView&&this.closeDetails(),this.detailsView=new s({model:this.model,triggerEl:i}),this.listenTo(this.detailsView,"close",this.closeDetails),this.detailsView.render()},show:function(i){this.view&&this.close(),this.view=new e({el:i.el}),this.isInvalid=!1,this.listenTo(this.view,{saveAs:function(i){l.isLoggedIn()&&!this.isInvalid&&this.trigger("saveAs",i.model)},save:function(i){l.isLoggedIn()&&!this.isInvalid&&this.trigger("save",i.model)},discard:function(){this.update({isEdited:!1,isDirty:!1}),this.trigger("discard")},details:function(i){this.showDetails(i)},toogleFavourite:function(i){var s=i.model;if(s){var e=!!s.getFavourite();e&&this.trigger("favourite",s)}},close:this.close}),this.update(i)},update:function(i){this.view&&("undefined"!=typeof i.model&&(this.model=i.model),this.isInvalid=!1,this.view.render({model:this.model,isDirty:i.isDirty,isEdited:i.isEdited}),this.model=i.model)},markAsInvalid:function(){this.view&&this.view.markAsInvalid(),this.isInvalid=!0}})});
//# sourceMappingURL=Header-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/namespace.js' */
AJS.namespace("JIRA.Components.Filters",null,require("jira/issues/components/filters")),AJS.namespace("JIRA.Components.Filters.Collections.FavouriteFilters",null,require("jira/issues/components/filters/entities/favourite-filters")),AJS.namespace("JIRA.Components.Filters.Collections.Filters",null,require("jira/issues/components/filters/entities/filters")),AJS.namespace("JIRA.Components.Filters.Collections.SystemFilters",null,require("jira/issues/components/filters/entities/system-filters")),AJS.namespace("JIRA.Components.Filters.Controllers.Dialog",null,require("jira/issues/components/filters/controllers/dialog")),AJS.namespace("JIRA.Components.Filters.Controllers.Header",null,require("jira/issues/components/filters/controllers/header")),AJS.namespace("JIRA.Components.Filters.Controllers.List",null,require("jira/issues/components/filters/controllers/list")),AJS.namespace("JIRA.Components.Filters.Controllers.ListWithActions",null,require("jira/issues/components/filters/controllers/list-with-actions")),AJS.namespace("JIRA.Components.Filters.Models.Filter",null,require("jira/issues/components/filters/entities/filter")),AJS.namespace("JIRA.Components.Filters.Templates.Actions",null,require("jira/issues/components/filters/templates/actions")),AJS.namespace("JIRA.Components.Filters.Templates.Details",null,require("jira/issues/components/filters/templates/details")),AJS.namespace("JIRA.Components.Filters.Templates.Dialogs",null,require("jira/issues/components/filters/templates/dialogs")),AJS.namespace("JIRA.Components.Filters.Templates.Header",null,require("jira/issues/components/filters/templates/header")),AJS.namespace("JIRA.Components.Filters.Templates.List",null,require("jira/issues/components/filters/templates/list")),AJS.namespace("JIRA.Components.Filters.Views.Actions",null,require("jira/issues/components/filters/views/actions")),AJS.namespace("JIRA.Components.Filters.Views.Details",null,require("jira/issues/components/filters/views/details")),AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Copy",null,require("jira/issues/components/filters/views/dialogs/copy")),AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Delete",null,require("jira/issues/components/filters/views/dialogs/delete")),AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Rename",null,require("jira/issues/components/filters/views/dialogs/rename")),AJS.namespace("JIRA.Components.Filters.Views.Dialogs.SaveAs",null,require("jira/issues/components/filters/views/dialogs/save-as")),AJS.namespace("JIRA.Components.Filters.Views.Header",null,require("jira/issues/components/filters/views/header")),AJS.namespace("JIRA.Components.Filters.Views.List.Filter",null,require("jira/issues/components/filters/views/list/filter")),AJS.namespace("JIRA.Components.Filters.Views.List.FilterWithActions",null,require("jira/issues/components/filters/views/list/filter-with-actions")),AJS.namespace("JIRA.Components.Filters.Views.List.List",null,require("jira/issues/components/filters/views/list/list")),AJS.namespace("JIRA.Components.Filters.Views.List.ListWithActions",null,require("jira/issues/components/filters/views/list/list-with-actions")),AJS.namespace("JIRA.Components.Filters.Views.List.Message",null,require("jira/issues/components/filters/views/list/message")),AJS.namespace("JIRA.Components.Filters.Views.List.Module",null,require("jira/issues/components/filters/views/list/module"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/templates/issuenav-filter.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNavFilter&&(JIRA.Templates.IssueNavFilter={}),JIRA.Templates.IssueNavFilter.collapsedFiltersPanel=function(e,t){return'<a class="toggle-filter-panel" href="#" title="'+soy.$$escapeHtmlAttribute(AJS.format("Dock the filters panel ({0})","["))+'"></a>'},JIRA.Templates.IssueNavFilter.filtersPanel=function(e,t){return'<div class="filters-content"><h4 class="filter-title">'+soy.$$escapeHtml("Filters")+'</h4><ul class="filter-options"><li><a href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+'/issues/?jql=" class="new-search aui-button aui-button-light" title="'+soy.$$escapeHtmlAttribute("Create a new search filter")+'">'+soy.$$escapeHtml("New filter")+'</a></li><li><a class="find-filters" href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(AJS.contextPath()))+'/secure/ManageFilters.jspa?filterView=search">'+soy.$$escapeHtml("Find filters")+'</a></li></ul><div class="filter-panel-system-container"></div><div class="filter-panel-favourites-container"></div></div>'};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/templates/issuenav-filter-amd.js' */
define("jira/issues/templates/issue-nav-filter",function(){"use strict";return JIRA.Templates.IssueNavFilter}),AJS.namespace("JIRA.Templates.IssueNavFilter",null,require("jira/issues/templates/issue-nav-filter"));
//# sourceMappingURL=issuenav-filter-amd-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/Browser.js' */
define("jira/issues/search/filters/browse",[],function(){"use strict";return{getWindowWidth:function(){return window.innerWidth}}});
//# sourceMappingURL=Browser-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/FilterModule.js' */
define("jira/issues/search/filters/filter-module",["require"],function(e){"use strict";var t=e("jira/issues/baseevented"),i=e("jira/issues/application"),s=e("jira/issues/components/filters"),r=e("jquery"),n=e("jira/issue/utils/xsrf-token-header"),o=e("wrm/context-path");return t.extend({initialize:function(e){this._searchPageModule=e.searchPageModule,this.filtersComponent=new s({systemFilters:e.systemFilters,systemFiltersPromise:e.systemFiltersPromise,searchPageModule:this._searchPageModule}),this.filtersComponent.on("newFilter",function(e){this._searchPageModule.filterModuleSaved(e),i.request("issueEditor:canDismissComment")&&this._searchPageModule.setSessionSearch(e)},this),this.filtersComponent.on("filterRemoved",function(e){this.trigger("filterRemoved",e)},this),this.filtersComponent.on("filterUnfavourited",function(e){this.trigger("filterUnfavourited",e)},this),this.filtersComponent.on("filterSelected",this._onFilterSelected,this),this.filtersComponent.on("filterDiscarded",function(){this._searchPageModule.discardFilterChanges()},this),this.filtersComponent.on("savedFilter",function(e){this._searchPageModule.setSessionSearch(e),this.filtersComponent.highlightFilter(e)},this),this._searchPageModule.on("change changeFilterProps",function(){var e=this._searchPageModule.getFilter();e&&(this.addFilterToUserHistory(e),JIRA.Issues.Application.execute("analytics:trigger","kickass.filterLoad",{filterType:e.id<0?"system":"user-generated"})),this.filtersComponent.updateFilterHeader({model:e,isPendingSearch:!1,isEdited:this._searchPageModule.isDirty()})},this),this.filtersComponent.fetchFavouriteFilters()},cleanup:function(){this.filtersComponent.close(),this._searchPageModule.off()},canEditColumns:function(){var e=this._searchPageModule.getFilter();return e&&e.isMyFilter()},addFilterToUserHistory:function(e){e&&r.ajax({type:"POST",url:o()+"/rest/issueNav/1/history/saveFilter/"+e.id,headers:n,cache:!1})},initSystemFilters:function(){return this.filtersComponent.fetchSystemFilters()},getFilterById:function(e){return this.filtersComponent.getFilterById(e)},_onFilterSelected:function(e){null===e?this._searchPageModule.resetToBlank({isNewSearch:!0}):this._searchPageModule.resetToFilter(e)},updateFilterHeader:function(e){e=e||{};var t=e.isEdited||!1,i=e.isPendingSearch||!1;this.filtersComponent.updateFilterHeader({isEdited:t,isDirty:i})}})});
//# sourceMappingURL=FilterModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/namespace.js' */
AJS.namespace("JIRA.Issues.FilterModule",null,require("jira/issues/search/filters/filter-module")),AJS.namespace("JIRA.Issues.Browser",null,require("jira/issues/search/filters/browse"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:prosemirror', location = 'jira-issue-navigator-components-module/lib/prosemirror.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n||t)},h,h.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}return t}()({1:[function(t,e,n){"use strict";var r=t("prosemirror-history"),o=t("prosemirror-model"),i=t("prosemirror-state"),s=t("prosemirror-view");window.ProseMirror={history:r,model:o,state:i,view:s}},{"prosemirror-history":3,"prosemirror-model":4,"prosemirror-state":5,"prosemirror-view":7}],2:[function(t,e,n){function r(t){this.content=t}r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,i=o.find(t),s=o.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new r(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var o=this.remove(e),i=o.content.slice(),s=o.find(t);return i.splice(s==-1?i.length:s,0,e,n),new r(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=r.from(t),t.size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=r.from(t),t.size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)},e.exports=r},{}],3:[function(t,e,n){"use strict";function r(t){return t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&"default"in t?t["default"]:t}function o(t,e){var n;return t.forEach(function(t,r){if(t.selection&&0==e--)return n=r,!1}),t.slice(n)}function i(t,e,n,r){var o,i=n.getMeta(T);if(i)return i.historyState;n.getMeta(N)&&(t=new k(t.done,t.undone,null,0));var p=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(p&&p.getMeta(T))return p.getMeta(T).redo?new k(t.done.addTransform(n,null,r,h(e)),t.undone,a(n.mapping.maps[n.steps.length-1]),t.prevTime):new k(t.done,t.undone.addTransform(n,null,r,h(e)),null,t.prevTime);if(n.getMeta("addToHistory")===!1||p&&p.getMeta("addToHistory")===!1)return(o=n.getMeta("rebased"))?new k(t.done.rebased(n,o),t.undone.rebased(n,o),c(t.prevRanges,n.mapping),t.prevTime):new k(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),c(t.prevRanges,n.mapping),t.prevTime);var l=t.prevTime<(n.time||0)-r.newGroupDelay||!p&&!s(n,t.prevRanges),f=p?c(t.prevRanges,n.mapping):a(n.mapping.maps[n.steps.length-1]);return new k(t.done.addTransform(n,l?e.selection.getBookmark():null,r,h(e)),S.empty,f,n.time)}function s(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach(function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)}),n}function a(t){var e=[];return t.forEach(function(t,n,r,o){return e.push(r,o)}),e}function c(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function p(t,e,n,r){var o=h(e),i=T.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),p=new k(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(T,{redo:r,historyState:p}).scrollIntoView())}}function h(t){var e=t.plugins;if(C!=e){O=!1,C=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){O=!0;break}}return O}function l(t){return t.setMeta(N,!0)}function f(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new w.Plugin({key:T,state:{init:function(){return new k(S.empty,S.empty,null,0)},apply:function(e,n,r){return i(n,r,e,t)}},config:t})}function u(t,e){var n=T.getState(t);return!(!n||0==n.done.eventCount)&&(e&&p(n,t,e,!1),!0)}function d(t,e){var n=T.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&p(n,t,e,!0),!0)}function m(t){var e=T.getState(t);return e?e.done.eventCount:0}function v(t){var e=T.getState(t);return e?e.undone.eventCount:0}Object.defineProperty(n,"__esModule",{value:!0});var y=r(t("rope-sequence")),g=t("prosemirror-transform"),w=t("prosemirror-state"),x=500,S=function(t,e){this.items=t,this.eventCount=e};S.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r=this.items.length;;r--){var o=n.items.get(r-1);if(o.selection){--r;break}}var i,s;e&&(i=this.remapping(r,this.items.length),s=i.maps.length);var a,c,p=t.tr,h=[],l=[];return this.items.forEach(function(t,e){if(!t.step)return i||(i=n.remapping(r,e+1),s=i.maps.length),s--,void l.push(t);if(i){l.push(new b(t.map));var o,f=t.step.map(i.slice(s));f&&p.maybeStep(f).doc&&(o=p.mapping.maps[p.mapping.maps.length-1],h.push(new b(o,null,null,h.length+l.length))),s--,o&&i.appendMap(o,s)}else p.maybeStep(t.step);return t.selection?(a=i?t.selection.map(i.slice(s)):t.selection,c=new S(n.items.slice(0,r).append(l.reverse().concat(h)),n.eventCount-1),!1):void 0},this.items.length,0),{remaining:c,transform:p,selection:a}},S.prototype.addTransform=function(t,e,n,r){for(var i=[],s=this.eventCount,a=this.items,c=!r&&a.length?a.get(a.length-1):null,p=0;p<t.steps.length;p++){var h=t.steps[p].invert(t.docs[p]),l=new b(t.mapping.maps[p],h,e),f=void 0;(f=c&&c.merge(l))&&(l=f,p?i.pop():a=a.slice(0,a.length-1)),i.push(l),e&&(s++,e=null),r||(c=l)}var u=s-n.depth;return u>M&&(a=o(a,u),s-=u),new S(a.append(i),s)},S.prototype.remapping=function(t,e){var n=new g.Mapping;return this.items.forEach(function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?o=n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)},t,e),n},S.prototype.addMaps=function(t){return 0==this.eventCount?this:new S(this.items.append(t.map(function(t){return new b(t)})),this.eventCount)},S.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach(function(t){t.selection&&s--},r);var a=e;this.items.forEach(function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var c=o.maps[r];if(e.step){var p=t.steps[r].invert(t.docs[r]),h=e.selection&&e.selection.map(o.slice(a+1,r));h&&s++,n.push(new b(c,p,h))}else n.push(new b(c))}},r);for(var c=[],p=e;p<i;p++)c.push(new b(o.maps[p]));var h=this.items.slice(0,r).append(c).append(n),l=new S(h,s);return l.emptyItemCount()>x&&(l=l.compress(this.items.length-n.length)),l},S.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(e){e.step||t++}),t},S.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach(function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),c=a&&a.getMap();if(n--,c&&e.appendMap(c,n),a){var p=i.selection&&i.selection.map(e.slice(n));p&&o++;var h,l=new b(c.invert(),a,p),f=r.length-1;(h=r.length&&r[f].merge(l))?r[f]=h:r.push(l)}}else i.map&&n--},this.items.length,0),new S(y.from(r.reverse()),o)},S.empty=new S(y.empty,0);var b=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};b.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new b(e.getMap().invert(),e,this.selection)}};var k=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},M=20,O=!1,C=null,T=new w.PluginKey("history"),N=new w.PluginKey("closeHistory");n.HistoryState=k,n.closeHistory=l,n.history=f,n.undo=u,n.redo=d,n.undoDepth=m,n.redoDepth=v},{"prosemirror-state":5,"prosemirror-transform":6,"rope-sequence":8}],4:[function(t,e,n){"use strict";function r(t){return t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&"default"in t?t["default"]:t}function o(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),s=e.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){var c=o(i.content,s.content,n+1);if(null!=c)return c}n+=i.nodeSize}else n+=i.nodeSize}}function i(t,e,n,r){for(var o=t.childCount,s=e.childCount;;){if(0==o||0==s)return o==s?null:{a:n,b:r};var a=t.child(--o),c=e.child(--s),p=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){for(var h=0,l=Math.min(a.text.length,c.text.length);h<l&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){var f=i(a.content,c.content,n-1,r-1);if(f)return f}n-=p,r-=p}else n-=p,r-=p}}function s(t,e){return U.index=t,U.offset=e,U}function a(t,e){if(t===e)return!0;if(!t||"object"!=("undefined"==typeof t?"undefined":_typeof(t))||!e||"object"!=("undefined"==typeof e?"undefined":_typeof(e)))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!a(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e&&a(t[o],e[o])))return!1;for(var i in e)if(!(i in t))return!1}return!0}function c(t){var e=Error.call(this,t);return e.__proto__=c.prototype,e}function p(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),c=a.index,h=a.offset;if(i==e||s.isText){if(h!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(p(s.content,e-i-1,n-i-1)))}function h(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var c=h(a.content,e-s-1,n);return c&&t.replaceChild(i,a.copy(c))}function l(t,e,n){if(n.openStart>t.depth)throw new c("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new c("Inconsistent open depths");return f(t,e,n,0)}function f(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=f(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=x(n,t),c=a.start,p=a.end;return y(i,g(t,c,p,e,r))}var h=t.parent,l=h.content;return y(h,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}return y(i,w(t,e,r))}function u(t,e){if(!e.type.compatibleContent(t.type))throw new c("Cannot join "+e.type.name+" onto "+t.type.name)}function d(t,e,n){var r=t.node(n);return u(r,e.node(n)),r}function m(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function v(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(m(t.nodeAfter,r),i++));for(var a=i;a<s;a++)m(o.child(a),r);e&&e.depth==n&&e.textOffset&&m(e.nodeBefore,r)}function y(t,e){if(!t.type.validContent(e))throw new c("Invalid content for node "+t.type.name);return t.copy(e)}function g(t,e,n,r,o){var i=t.depth>o&&d(t,e,o+1),s=r.depth>o&&d(n,r,o+1),a=[];return v(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(u(i,s),m(y(i,g(t,e,n,r,o+1)),a)):(i&&m(y(i,w(t,e,o+1)),a),v(e,n,o,a),s&&m(y(s,w(n,r,o+1)),a)),v(r,null,o,a),new K(a)}function w(t,e,n){var r=[];if(v(null,t,n,r),t.depth>n){var o=d(t,e,n+1);m(y(o,w(t,e,n+1)),r)}return v(e,null,n,r),new K(r)}function x(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(K.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}function S(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}function b(t){var e=[];do e.push(k(t));while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function k(t){var e=[];do e.push(M(t));while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function M(t){for(var e=N(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=C(t,e)}return e}function O(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function C(t,e){var n=O(t),r=n;return t.eat(",")&&(r="}"!=t.next?O(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function T(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return 0==o.length&&t.err("No node type or group '"+e+"' found"),o}function N(t){if(t.eat("(")){var e=b(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=T(t,t.next).map(function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}});return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function D(t){function e(){return i.push([])-1}function n(t,e,n){var r={term:n,to:e};return i[t].push(r),r}function r(t,e){t.forEach(function(t){return t.to=e})}function o(t,i){if("choice"==t.type)return t.exprs.reduce(function(t,e){return t.concat(o(e,i))},[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],i);if(s==t.exprs.length-1)return a;r(a,i=e())}else{if("star"==t.type){var c=e();return n(i,c),r(o(t.expr,c),c),[n(c)]}if("plus"==t.type){var p=e();return r(o(t.expr,i),p),r(o(t.expr,p),p),[n(p)]}if("opt"==t.type)return[n(i)].concat(o(t.expr,i));if("range"==t.type){for(var h=i,l=0;l<t.min;l++){var f=e();r(o(t.expr,h),f),h=f}if(t.max==-1)r(o(t.expr,h),h);else for(var u=t.min;u<t.max;u++){var d=e();n(h,d),r(o(t.expr,h),d),h=d}return[n(h)]}if("name"==t.type)return[n(i,null,t.value)]}}var i=[[]];return r(o(t,0),e()),i}function E(t,e){return t-e}function A(t,e){function n(e){var o=t[e];if(1==o.length&&!o[0].term)return n(o[0].to);r.push(e);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,c=s.to;a||r.indexOf(c)!=-1||n(c)}}var r=[];return n(e),r.sort(E)}function R(t){function e(r){var o=[];r.forEach(function(e){t[e].forEach(function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];A(t,r).forEach(function(t){s||o.push(n,s=[]),s.indexOf(t)==-1&&s.push(t)})}})});for(var i=n[r.join(",")]=new pt(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(E);i.next.push(o[s],n[a.join(",")]||e(a))}return i}var n=Object.create(null);return e(A(t,0))}function P(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],p=o.next[a+1];s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),r.indexOf(p)==-1&&r.push(p)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position")}}function z(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r["default"]}return e}function I(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i["default"]}n[r]=o}return n}function F(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new mt(t[n]);return e}function _(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var c=t.marks[a];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function B(t){return(t?kt:0)|("full"===t?Mt:0)}function V(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&bt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}function j(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function $(t){for(var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];e=n.exec(t);)r.push(e[1],e[2].trim());return r}function J(t){var e={};for(var n in t)e[n]=t[n];return e}function L(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function q(t){return t.document||window.document}Object.defineProperty(n,"__esModule",{value:!0});var W=r(t("orderedmap")),K=function(t,e){var n=this;if(this.content=t,this.size=e||0,null==e)for(var r=0;r<t.length;r++)n.size+=t[r].nodeSize},H={firstChild:{},lastChild:{},childCount:{}};K.prototype.nodesBetween=function(t,e,n,r,o){var i=this;void 0===r&&(r=0);for(var s=0,a=0;a<e;s++){var c=i.content[s],p=a+c.nodeSize;if(p>t&&n(c,r+a,o,s)!==!1&&c.content.size){var h=a+1;c.nodesBetween(Math.max(0,t-h),Math.min(c.content.size,e-h),n,r+h)}a=p}},K.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},K.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)},0),o},K.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new K(r,this.size+t.size)},K.prototype.cut=function(t,e){var n=this;if(null==e&&(e=this.size),0==t&&e==this.size)return this;var r=[],o=0;if(e>t)for(var i=0,s=0;s<e;i++){var a=n.content[i],c=s+a.nodeSize;c>t&&((s<t||c>e)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),r.push(a),o+=a.nodeSize),s=c}return new K(r,o)},K.prototype.cutByIndex=function(t,e){return t==e?K.empty:0==t&&e==this.content.length?this:new K(this.content.slice(t,e))},K.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new K(r,o)},K.prototype.addToStart=function(t){return new K([t].concat(this.content),this.size+t.nodeSize)},K.prototype.addToEnd=function(t){return new K(this.content.concat(t),this.size+t.nodeSize)},K.prototype.eq=function(t){var e=this;if(this.content.length!=t.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!e.content[n].eq(t.content[n]))return!1;return!0},H.firstChild.get=function(){return this.content.length?this.content[0]:null},H.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},H.childCount.get=function(){return this.content.length},K.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},K.prototype.maybeChild=function(t){return this.content[t]},K.prototype.forEach=function(t){for(var e=this,n=0,r=0;n<this.content.length;n++){var o=e.content[n];t(o,r,n),r+=o.nodeSize}},K.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),o(this,t,e)},K.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),i(this,t,e,n)},K.prototype.findIndex=function(t,e){var n=this;if(void 0===e&&(e=-1),0==t)return s(0,t);if(t==this.size)return s(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var r=0,o=0;;r++){var i=n.child(r),a=o+i.nodeSize;if(a>=t)return a==t||e>0?s(r+1,a):s(r,o);o=a}},K.prototype.toString=function(){return"<"+this.toStringInner()+">"},K.prototype.toStringInner=function(){return this.content.join(", ")},K.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null},K.fromJSON=function(t,e){if(!e)return K.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(e.map(t.nodeFromJSON))},K.fromArray=function(t){if(!t.length)return K.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new K(e||t,n)},K.from=function(t){return t?t instanceof K?t:Array.isArray(t)?this.fromArray(t):new K([t],t.nodeSize):K.empty},Object.defineProperties(K.prototype,H);var U={index:0,offset:0};K.empty=new K([],0);var G=function(t,e){this.type=t,this.attrs=e};G.prototype.addToSet=function(t){for(var e,n=this,r=!1,o=0;o<t.length;o++){var i=t[o];if(n.eq(i))return t;if(n.type.excludes(i.type))e||(e=t.slice(0,o));else{if(i.type.excludes(n.type))return t;!r&&i.type.rank>n.type.rank&&(e||(e=t.slice(0,o)),e.push(n),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e},G.prototype.removeFromSet=function(t){for(var e=this,n=0;n<t.length;n++)if(e.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t},G.prototype.isInSet=function(t){for(var e=this,n=0;n<t.length;n++)if(e.eq(t[n]))return!0;return!1},G.prototype.eq=function(t){return this==t||this.type==t.type&&a(this.attrs,t.attrs)},G.prototype.toJSON=function(){var t=this,e={type:this.type.name};for(var n in t.attrs){e.attrs=t.attrs;break}return e},G.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},G.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},G.setFrom=function(t){if(!t||0==t.length)return G.none;if(t instanceof G)return[t];var e=t.slice();return e.sort(function(t,e){return t.type.rank-e.type.rank}),e},G.none=[],c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="ReplaceError";var X=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},Y={size:{}};Y.size.get=function(){return this.content.size-this.openStart-this.openEnd},X.prototype.insertAt=function(t,e){var n=h(this.content,t+this.openStart,e,null);return n&&new X(n,this.openStart,this.openEnd)},X.prototype.removeBetween=function(t,e){return new X(p(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},X.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},X.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},X.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},X.fromJSON=function(t,e){if(!e)return X.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new X(K.fromJSON(t,e.content),e.openStart||0,e.openEnd||0)},X.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new X(t,n,r)},Object.defineProperties(X.prototype,Y),X.empty=new X(K.empty,0,0);var Q=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},Z={parent:{},doc:{},textOffset:{},nodeAfter:{},nodeBefore:{}};Q.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},Z.parent.get=function(){return this.node(this.depth)},Z.doc.get=function(){return this.node(0)},Q.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},Q.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},Q.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},Q.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},Q.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},Q.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},Q.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},Z.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},Z.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},Z.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},Q.prototype.marks=function Et(){var t=this.parent,e=this.index();if(0==t.content.size)return G.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var Et=n.marks,i=0;i<Et.length;i++)Et[i].type.spec.inclusive!==!1||r&&Et[i].isInSet(r.marks)||(Et=Et[i--].removeFromSet(Et));return Et},Q.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)n[o].type.spec.inclusive!==!1||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},Q.prototype.sharedDepth=function(t){for(var e=this,n=this.depth;n>0;n--)if(e.start(n)<=t&&e.end(n)>=t)return n;return 0},Q.prototype.blockRange=function(t,e){var n=this;if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=n.end(r)&&(!e||e(n.node(r))))return new rt(n,t,r)},Q.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},Q.prototype.max=function(t){return t.pos>this.pos?t:this},Q.prototype.min=function(t){return t.pos<this.pos?t:this},Q.prototype.toString=function(){for(var t=this,e="",n=1;n<=this.depth;n++)e+=(e?"/":"")+t.node(n).type.name+"_"+t.index(n-1);return e+":"+this.parentOffset},Q.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,c=s.offset,p=o-c;if(n.push(i,a,r+c),!p)break;if(i=i.child(a),i.isText)break;o=p-1,r+=c+1}return new Q(e,n,o)},Q.resolveCached=function(t,e){for(var n=0;n<tt.length;n++){var r=tt[n];if(r.pos==e&&r.doc==t)return r}var o=tt[et]=Q.resolve(t,e);return et=(et+1)%nt,o},Object.defineProperties(Q.prototype,Z);var tt=[],et=0,nt=12,rt=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},ot={start:{},end:{},parent:{},startIndex:{},endIndex:{}};ot.start.get=function(){return this.$from.before(this.depth+1)},ot.end.get=function(){return this.$to.after(this.depth+1)},ot.parent.get=function(){return this.$from.node(this.depth)},ot.startIndex.get=function(){return this.$from.index(this.depth)},ot.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(rt.prototype,ot);var it=Object.create(null),st=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||K.empty,this.marks=r||G.none},at={nodeSize:{},childCount:{},textContent:{},firstChild:{},lastChild:{},isBlock:{},isTextblock:{},inlineContent:{},isInline:{},isText:{},isLeaf:{},isAtom:{}};at.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},at.childCount.get=function(){return this.content.childCount},st.prototype.child=function(t){return this.content.child(t)},st.prototype.maybeChild=function(t){return this.content.maybeChild(t)},st.prototype.forEach=function(t){this.content.forEach(t)},st.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},st.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},at.textContent.get=function(){return this.textBetween(0,this.content.size,"")},st.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},at.firstChild.get=function(){return this.content.firstChild},at.lastChild.get=function(){return this.content.lastChild},st.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},st.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},st.prototype.hasMarkup=function(t,e,n){return this.type==t&&a(this.attrs,e||t.defaultAttrs||it)&&G.sameSet(this.marks,n||G.none)},st.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},st.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},st.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},st.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return X.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i),c=a.content.cut(r.pos-s,o.pos-s);return new X(c,r.depth-i,o.depth-i)},st.prototype.replace=function(t,e,n){return l(this.resolve(t),this.resolve(e),n)},st.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(e=e.maybeChild(r),!e)return null;if(o==t||e.isText)return e;t-=o+1}},st.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},st.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},st.prototype.resolve=function(t){return Q.resolveCached(this,t)},st.prototype.resolveNoCache=function(t){return Q.resolve(this,t)},st.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,function(t){return n.isInSet(t.marks)&&(r=!0),!r}),r},at.isBlock.get=function(){return this.type.isBlock},at.isTextblock.get=function(){return this.type.isTextblock},at.inlineContent.get=function(){return this.type.inlineContent},at.isInline.get=function(){return this.type.isInline},at.isText.get=function(){return this.type.isText},at.isLeaf.get=function(){return this.type.isLeaf},at.isAtom.get=function(){return this.type.isAtom},st.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),S(this.marks,t)},st.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},st.prototype.canReplace=function(t,e,n,r,o){var i=this;void 0===n&&(n=K.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var s=this.contentMatchAt(t).matchFragment(n,r,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var c=r;c<o;c++)if(!i.type.allowsMarks(n.child(c).marks))return!1;return!0},st.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},st.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type);
},st.prototype.defaultContentType=function(t){return this.contentMatchAt(t).defaultType},st.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach(function(t){return t.check()})},st.prototype.toJSON=function(){var t=this,e={type:this.type.name};for(var n in t.attrs){e.attrs=t.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(t){return t.toJSON()})),e},st.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=K.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(st.prototype,at);var ct=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{},nodeSize:{}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):S(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(st),pt=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},ht={inlineContent:{},defaultType:{},edgeCount:{}};pt.parse=function(t,e){var n=new lt(t,e);if(null==n.next)return pt.empty;var r=b(n);n.next&&n.err("Unexpected trailing text");var o=R(D(r));return P(o,n),o},pt.prototype.matchType=function(t){for(var e=this,n=0;n<this.next.length;n+=2)if(e.next[n]==t)return e.next[n+1];return null},pt.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},ht.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},ht.defaultType.get=function(){for(var t=this,e=0;e<this.next.length;e+=2){var n=t.next[e];if(!n.isText&&!n.hasRequiredAttrs())return n}},pt.prototype.compatible=function(t){for(var e=this,n=0;n<this.next.length;n+=2)for(var r=0;r<t.next.length;r+=2)if(e.next[n]==t.next[r])return!0;return!1},pt.prototype.fillBefore=function(t,e,n){function r(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return K.from(s.map(function(t){return t.createAndFill()}));for(var c=0;c<i.next.length;c+=2){var p=i.next[c],h=i.next[c+1];if(!p.isText&&!p.hasRequiredAttrs()&&o.indexOf(h)==-1){o.push(h);var l=r(h,s.concat(p));if(l)return l}}}void 0===e&&(e=!1),void 0===n&&(n=0);var o=[this];return r(this,[])},pt.prototype.findWrapping=function(t){for(var e=this,n=0;n<this.wrapCache.length;n+=2)if(e.wrapCache[n]==t)return e.wrapCache[n+1];var r=this.computeWrapping(t);return this.wrapCache.push(t,r),r},pt.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},ht.edgeCount.get=function(){return this.next.length>>1},pt.prototype.edge=function(t){var e=t<<1;if(e>this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},pt.prototype.toString=function(){function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)e.indexOf(n.next[r])==-1&&t(n.next[r])}var e=[];return t(this),e.map(function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r}).join("\n")},Object.defineProperties(pt.prototype,ht),pt.empty=new pt((!0));var lt=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},ft={next:{}};ft.next.get=function(){return this.tokens[this.pos]},lt.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},lt.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(lt.prototype,ft);var ut=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=F(n.attrs),this.defaultAttrs=z(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},dt={isInline:{},isTextblock:{},isLeaf:{},isAtom:{}};dt.isInline.get=function(){return!this.isBlock},dt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},dt.isLeaf.get=function(){return this.contentMatch==pt.empty},dt.isAtom.get=function(){return this.isLeaf||this.spec.atom},ut.prototype.hasRequiredAttrs=function(t){var e=this;for(var n in e.attrs)if(e.attrs[n].isRequired&&(!t||!(n in t)))return!0;return!1},ut.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},ut.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:I(this.attrs,t)},ut.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new st(this,this.computeAttrs(t),K.from(e),G.setFrom(n))},ut.prototype.createChecked=function(t,e,n){if(e=K.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new st(this,this.computeAttrs(t),e,G.setFrom(n))},ut.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=K.from(e),e.size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(K.empty,!0);return o?new st(this,t,e.append(o),G.setFrom(n)):null},ut.prototype.validContent=function(t){var e=this,n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(var r=0;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!1;return!0},ut.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},ut.prototype.allowsMarks=function(t){var e=this;if(null==this.markSet)return!0;for(var n=0;n<t.length;n++)if(!e.allowsMarkType(t[n].type))return!1;return!0},ut.prototype.allowedMarks=function(t){var e=this;if(null==this.markSet)return t;for(var n,r=0;r<t.length;r++)e.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:G.empty:t},ut.compile=function(t,e){var n=Object.create(null);t.forEach(function(t,r){return n[t]=new ut(t,e,r)});var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(ut.prototype,dt);var mt=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this["default"]=t["default"]},vt={isRequired:{}};vt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(mt.prototype,vt);var yt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=F(r.attrs),this.rank=e,this.excluded=null;var o=z(this.attrs);this.instance=o&&new G(this,o)};yt.prototype.create=function(t){return!t&&this.instance?this.instance:new G(this,I(this.attrs,t))},yt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach(function(t,o){return n[t]=new yt(t,(r++),e,o)}),n},yt.prototype.removeFromSet=function(t){for(var e=this,n=0;n<t.length;n++)if(t[n].type==e)return t.slice(0,n).concat(t.slice(n+1));return t},yt.prototype.isInSet=function(t){for(var e=this,n=0;n<t.length;n++)if(t[n].type==e)return t[n]},yt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var gt=function(t){var e=this;this.spec={};for(var n in t)e.spec[n]=t[n];this.spec.nodes=W.from(t.nodes),this.spec.marks=W.from(t.marks),this.nodes=ut.compile(this.spec.nodes,this),this.marks=yt.compile(this.spec.marks,this);var r=Object.create(null);for(var o in e.nodes){if(o in e.marks)throw new RangeError(o+" can not be both a node and a mark");var i=e.nodes[o],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=r[s]||(r[s]=pt.parse(s,e.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?_(e,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var c in e.marks){var p=e.marks[c],h=p.spec.excludes;p.excluded=null==h?[p]:""==h?[]:_(e,h.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};gt.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof ut))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},gt.prototype.text=function(t,e){var n=this.nodes.text;return new ct(n,n.defaultAttrs,t,G.setFrom(e))},gt.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},gt.prototype.nodeFromJSON=function(t){return st.fromJSON(this,t)},gt.prototype.markFromJSON=function(t){return G.fromJSON(this,t)},gt.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var wt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})};wt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new Tt(this,e,(!1));return n.addAll(t,null,e.from,e.to),n.finish()},wt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new Tt(this,e,(!0));return n.addAll(t,null,e.from,e.to),X.maxOpen(n.finish())},wt.prototype.matchTag=function(t,e){for(var n=this,r=0;r<this.tags.length;r++){var o=n.tags[r];if(j(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(i===!1)continue;o.attrs=i}return o}}},wt.prototype.matchStyle=function(t,e,n){for(var r=this,o=0;o<this.styles.length;o++){var i=r.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var s=i.getAttrs(e);if(s===!1)continue;i.attrs=s}return i}}},wt.schemaRules=function(t){function e(t){for(var e=null==t.priority?50:t.priority,r=0;r<n.length;r++){var o=n[r],i=null==o.priority?50:o.priority;if(i<e)break}n.splice(r,0,t)}var n=[],r=function(n){var r=t.marks[n].spec.parseDOM;r&&r.forEach(function(t){e(t=J(t)),t.mark=n})};for(var o in t.marks)r(o);var i=function(n){var r=t.nodes[s].spec.parseDOM;r&&r.forEach(function(t){e(t=J(t)),t.node=s})};for(var s in t.nodes)i(o);return n},wt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new wt(t,wt.schemaRules(t)))};var xt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},St={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},bt={ol:!0,ul:!0},kt=1,Mt=2,Ot=4,Ct=function(t,e,n,r,o,i){this.type=t,this.attrs=e,this.solid=r,this.match=o||(i&Ot?null:t.contentMatch),this.options=i,this.content=[],this.marks=n,this.activeMarks=G.none};Ct.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(K.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},Ct.prototype.finish=function(t){if(!(this.options&kt)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/\s+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=K.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r};var Tt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.pendingMarks=[];var r,o=e.topNode,i=B(e.preserveWhitespace)|(n?Ot:0);r=o?new Ct(o.type,o.attrs,G.none,(!0),e.topMatch||o.type.contentMatch,i):n?new Ct(null,null,G.none,(!0),null,i):new Ct(t.schema.topNodeType,null,G.none,(!0),null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Nt={top:{},currentPos:{}};Nt.top.get=function(){return this.nodes[this.open]},Tt.prototype.addDOM=function(t){var e=this;if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var n=t.getAttribute("style"),r=n?this.readStyles($(n)):null;if(null!=r)for(var o=0;o<r.length;o++)e.addPendingMark(r[o]);if(this.addElement(t),null!=r)for(var i=0;i<r.length;i++)e.removePendingMark(r[i])}},Tt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/\S/.test(e)){if(n.options&kt)n.options&Mt||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/\s+/g," "),/^\s/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/\s$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},Tt.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();bt.hasOwnProperty(e)&&V(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:St.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip){n&&n.skip.nodeType&&(t=n.skip);var r,o=this.top,i=this.needsBlock;xt.hasOwnProperty(e)&&(r=!0,o.type||(this.needsBlock=!0)),this.addAll(t),r&&this.sync(o),this.needsBlock=i}else this.addElementByRule(t,n)},Tt.prototype.readStyles=function(t){for(var e=this,n=G.none,r=0;r<t.length;r+=2){var o=e.parser.matchStyle(t[r],t[r+1],e);if(o){if(o.ignore)return null;n=e.parser.schema.marks[o.mark].create(o.attrs).addToSet(n)}}return n},Tt.prototype.addElementByRule=function(t,e){var n,r,o,i,s=this;e.node?(r=this.parser.schema.nodes[e.node],r.isLeaf?this.insertNode(r.create(e.attrs)):n=this.enter(r,e.attrs,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark],i=o.create(e.attrs),this.addPendingMark(i));var a=this.top;if(r&&r.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(function(t){return s.insertNode(t)});else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,n)}return n&&(this.sync(a),this.open--),i&&this.removePendingMark(i),!0},Tt.prototype.addAll=function(t,e,n,r){for(var o=this,i=n||0,s=n?t.childNodes[n]:t.firstChild,a=null==r?null:t.childNodes[r];s!=a;s=s.nextSibling,++i)o.findAtPoint(t,i),o.addDOM(s),e&&xt.hasOwnProperty(s.nodeName.toLowerCase())&&o.sync(e);this.findAtPoint(t,i)},Tt.prototype.findPlace=function(t){for(var e,n,r=this,o=this.open;o>=0;o--){var i=r.nodes[o],s=i.findWrapping(t);if(s&&(!e||e.length>s.length)&&(e=s,n=i,!s.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)r.enterInner(e[a],null,!1);return!0},Tt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;this.applyPendingMarks(n),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));n.content.push(t.mark(r))}},Tt.prototype.applyPendingMarks=function(t){for(var e=this,n=0;n<this.pendingMarks.length;n++){var r=e.pendingMarks[n];t.type&&!t.type.allowsMarkType(r.type)||r.type.isInSet(t.activeMarks)||(t.activeMarks=r.addToSet(t.activeMarks),e.pendingMarks.splice(n--,1))}},Tt.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&(this.applyPendingMarks(this.top),this.enterInner(t,e,!0,n)),r},Tt.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.match=o.match&&o.match.matchType(t,e);var i=null==r?o.options&~Ot:B(r);o.options&Ot&&0==o.content.length&&(i|=Ot),this.nodes.push(new Ct(t,e,o.activeMarks,n,null,i)),this.open++},Tt.prototype.closeExtra=function(t){var e=this,n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)e.nodes[n-1].content.push(e.nodes[n].finish(t));this.nodes.length=this.open+1}},Tt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Tt.prototype.sync=function(t){for(var e=this,n=this.open;n>=0;n--)if(e.nodes[n]==t)return void(e.open=n)},Tt.prototype.addPendingMark=function(t){this.pendingMarks.push(t)},Tt.prototype.removePendingMark=function(t){var e=this.pendingMarks.lastIndexOf(t);if(e>-1)this.pendingMarks.splice(e,1);else{var n=this.top;n.activeMarks=t.removeFromSet(n.activeMarks)}},Nt.currentPos.get=function(){var t=this;this.closeExtra();for(var e=0,n=this.open;n>=0;n--){for(var r=t.nodes[n].content,o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e},Tt.prototype.findAtPoint=function(t,e){var n=this;if(this.find)for(var r=0;r<this.find.length;r++)n.find[r].node==t&&n.find[r].offset==e&&(n.find[r].pos=n.currentPos)},Tt.prototype.findInside=function(t){var e=this;if(this.find)for(var n=0;n<this.find.length;n++)null==e.find[n].pos&&1==t.nodeType&&t.contains(e.find[n].node)&&(e.find[n].pos=e.currentPos)},Tt.prototype.findAround=function(t,e,n){var r=this;if(t!=e&&this.find)for(var o=0;o<this.find.length;o++)if(null==r.find[o].pos&&1==t.nodeType&&t.contains(r.find[o].node)){var i=e.compareDocumentPosition(r.find[o].node);i&(n?2:4)&&(r.find[o].pos=r.currentPos)}},Tt.prototype.findInText=function(t){var e=this;if(this.find)for(var n=0;n<this.find.length;n++)e.find[n].node==t&&(e.find[n].pos=e.currentPos-(t.nodeValue.length-e.find[n].offset))},Tt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function a(t,s){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;s>=i;s--)if(a(t-1,s))return!0;return!1}var p=s>0||0==s&&o?e.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!p||p.name!=c&&p.groups.indexOf(c)==-1)return!1;s--}return!0};return s(n.length-1,this.open)},Tt.prototype.textblockFromContext=function(){var t=this,e=this.options.context;if(e)for(var n=e.depth;n>=0;n--){var r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var o in t.parser.schema.nodes){var i=t.parser.schema.nodes[o];if(i.isTextblock&&i.defaultAttrs)return i}},Object.defineProperties(Tt.prototype,Nt);var Dt=function(t,e){this.nodes=t||{},this.marks=e||{}};Dt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=q(e).createDocumentFragment());var o=n,i=null;return t.forEach(function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||a.type.spec.spanning===!1)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var c=t.marks[s++],p=r.serializeMark(c,t.isInline,e);p&&(i.push(c,o),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(r.serializeNode(t,e))}),n},Dt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=Dt.renderSpec(q(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},Dt.prototype.serializeNodeAndMarks=function(t,e){var n=this;void 0===e&&(e={});for(var r=this.serializeNode(t,e),o=t.marks.length-1;o>=0;o--){var i=n.serializeMark(t.marks[o],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r},Dt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&Dt.renderSpec(q(n),r(t,e))},Dt.renderSpec=function(t,e){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var n=t.createElement(e[0]),r=null,o=e[1],i=1;if(o&&"object"==("undefined"==typeof o?"undefined":_typeof(o))&&null==o.nodeType&&!Array.isArray(o)){i=2;for(var s in o)null!=o[s]&&n.setAttribute(s,o[s])}for(var a=i;a<e.length;a++){var c=e[a];if(0===c){if(a<e.length-1||a>i)throw new RangeError("Content hole must be the only child of its parent node");return{dom:n,contentDOM:n}}var p=Dt.renderSpec(t,c),h=p.dom,l=p.contentDOM;if(n.appendChild(h),l){if(r)throw new RangeError("Multiple content holes");r=l}}return{dom:n,contentDOM:r}},Dt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Dt(this.nodesFromSchema(t),this.marksFromSchema(t)))},Dt.nodesFromSchema=function(t){var e=L(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Dt.marksFromSchema=function(t){return L(t.marks)},n.Node=st,n.ResolvedPos=Q,n.NodeRange=rt,n.Fragment=K,n.Slice=X,n.ReplaceError=c,n.Mark=G,n.Schema=gt,n.NodeType=ut,n.MarkType=yt,n.ContentMatch=pt,n.DOMParser=wt,n.DOMSerializer=Dt},{orderedmap:2}],5:[function(t,e,n){"use strict";function r(t,e,n,o,i,s){if(e.inlineContent)return d.create(t,n);for(var a=o-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var c=e.child(a);if(c.isAtom){if(!s&&v.isSelectable(c))return v.create(t,n-(i<0?c.nodeSize:0))}else{var p=r(t,c,n+i,i<0?c.childCount:0,i,s);if(p)return p}n+=c.nodeSize*i}}function o(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof p.ReplaceStep||o instanceof p.ReplaceAroundStep){var i,s=t.mapping.maps[r];s.forEach(function(t,e,n,r){null==i&&(i=r)}),t.setSelection(l.near(t.doc.resolve(i),n))}}}function i(t,e){return e&&t?t.bind(e):t}function s(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=s(o,e,{})),n[r]=o}return n}function a(t){return t in A?t+"$"+ ++A[t]:(A[t]=0,t+"$")}Object.defineProperty(n,"__esModule",{value:!0});var c=t("prosemirror-model"),p=t("prosemirror-transform"),h=Object.create(null),l=function(t,e,n){this.ranges=n||[new u(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},f={anchor:{},head:{},from:{},to:{},$from:{},$to:{},empty:{}};f.anchor.get=function(){return this.$anchor.pos},f.head.get=function(){return this.$head.pos},f.from.get=function(){return this.$from.pos},f.to.get=function(){return this.$to.pos},f.$from.get=function(){return this.ranges[0].$from},f.$to.get=function(){return this.ranges[0].$to},f.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},l.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},l.prototype.replace=function(t,e){void 0===e&&(e=c.Slice.empty);for(var n=e.content.lastChild,r=null,i=0;i<e.openEnd;i++)r=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,p=0;p<a.length;p++){var h=a[p],l=h.$from,f=h.$to,u=t.mapping.slice(s);t.replaceRange(u.map(l.pos),u.map(f.pos),p?c.Slice.empty:e),0==p&&o(t,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}},l.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var s=r[i],a=s.$from,c=s.$to,p=t.mapping.slice(n),h=p.map(a.pos),l=p.map(c.pos);i?t.deleteRange(h,l):(t.replaceRangeWith(h,l,e),o(t,n,e.isInline?-1:1))}},l.findFrom=function(t,e,n){var o=t.parent.inlineContent?new d(t):r(t.node(0),t.parent,t.pos,t.index(),e,n);if(o)return o;for(var i=t.depth-1;i>=0;i--){var s=e<0?r(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):r(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(s)return s}},l.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new g(t.node(0))},l.atStart=function(t){return r(t,t,0,0,1)||new g(t)},l.atEnd=function(t){return r(t,t,t.content.size,t.childCount,-1)||new g(t)},l.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=h[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},l.jsonID=function(t,e){if(t in h)throw new RangeError("Duplicate use of selection JSON ID "+t);return h[t]=e,e.prototype.jsonID=t,e},l.prototype.getBookmark=function(){return d.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(l.prototype,f),l.prototype.visible=!0;var u=function(t,e){this.$from=t,this.$to=e},d=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=c.Slice.empty),t.prototype.replace.call(this,e,n),n==c.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new m(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i?n=r:(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor,n.pos<r.pos!=i<0&&(n=r))),new e(n,r)},Object.defineProperties(e.prototype,n),e}(l);l.jsonID("text",d);var m=function(t,e){this.anchor=t,this.head=e};m.prototype.map=function(t){return new m(t.map(this.anchor),t.map(this.head))},m.prototype.resolve=function(t){return d.between(t.resolve(this.anchor),t.resolve(this.head))};var v=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new c.Slice(c.Fragment.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new y(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&t.type.spec.selectable!==!1},e}(l);v.prototype.visible=!1,l.jsonID("node",v);var y=function(t){this.anchor=t};y.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new m(r,r):new y(r)},y.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&v.isSelectable(n)?new v(e):l.near(e)};var g=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return w},e}(l);l.jsonID("all",g);var w={map:function(){return this},resolve:function(t){return new g(t)}},x=1,S=2,b=4,k=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{},selectionSet:{},storedMarksSet:{},isGeneric:{},scrolledIntoView:{}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|x)&~S,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&x)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=S,this},e.prototype.ensureMarks=function(t){return c.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&S)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~S,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return e!==!1&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||c.Mark.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o))},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){var t=this;for(var e in t.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=b,this},n.scrolledIntoView.get=function(){return(this.updated&b)>0},Object.defineProperties(e.prototype,n),e}(p.Transform),M=function(t,e,n){this.name=t,this.init=i(e.init,n),
this.apply=i(e.apply,n)},O=[new M("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new M("selection",{init:function(t,e){return t.selection||l.atStart(e.doc)},apply:function(t){return t.selection}}),new M("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new M("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],C=function(t,e){var n=this;this.schema=t,this.fields=O.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach(function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new M(t.key,t.spec.state,t))})},T=function(t){this.config=t},N={schema:{},plugins:{},tr:{}};N.schema.get=function(){return this.config.schema},N.plugins.get=function(){return this.config.plugins},T.prototype.apply=function(t){return this.applyTransaction(t).state},T.prototype.filterTransaction=function(t,e){var n=this;void 0===e&&(e=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=e){var o=n.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,n))return!1}return!0},T.prototype.applyTransaction=function(t){var e=this;if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var n=[t],r=this.applyInner(t),o=null;;){for(var i=!1,s=0;s<this.config.plugins.length;s++){var a=e.config.plugins[s];if(a.spec.appendTransaction){var c=o?o[s].n:0,p=o?o[s].state:e,h=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,p,r);if(h&&r.filterTransaction(h,s)){if(h.setMeta("appendedTransaction",t),!o){o=[];for(var l=0;l<this.config.plugins.length;l++)o.push(l<s?{state:r,n:n.length}:{state:e,n:0})}n.push(h),r=r.applyInner(h),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}},T.prototype.applyInner=function(t){var e=this;if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new T(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(t,e[i.name],e,n)}for(var s=0;s<D.length;s++)D[s](e,t,n);return n},N.tr.get=function(){return new k(this)},T.create=function(t){for(var e=new C(t.schema||t.doc.type.schema,t.plugins),n=new T(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},T.prototype.reconfigure=function(t){for(var e=this,n=new C(t.schema||this.schema,t.plugins),r=n.fields,o=new T(n),i=0;i<r.length;i++){var s=r[i].name;o[s]=e.hasOwnProperty(s)?e[s]:r[i].init(t,o)}return o},T.prototype.toJSON=function(t){var e=this,n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(t){return t.toJSON()})),t&&"object"==("undefined"==typeof t?"undefined":_typeof(t)))for(var r in t){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=t[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,e[o.key]))}return n},T.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new C(t.schema,t.plugins),o=new T(r);return r.fields.forEach(function(r){if("doc"==r.name)o.doc=c.Node.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=l.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}}),o},T.addApplyListener=function(t){D.push(t)},T.removeApplyListener=function(t){var e=D.indexOf(t);e>-1&&D.splice(e,1)},Object.defineProperties(T.prototype,N);var D=[],E=function(t){this.props={},t.props&&s(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:a("plugin")};E.prototype.getState=function(t){return t[this.key]};var A=Object.create(null),R=function(t){void 0===t&&(t="key"),this.key=a(t)};R.prototype.get=function(t){return t.config.pluginsByKey[this.key]},R.prototype.getState=function(t){return t[this.key]},n.Selection=l,n.SelectionRange=u,n.TextSelection=d,n.NodeSelection=v,n.AllSelection=g,n.Transaction=k,n.EditorState=T,n.Plugin=E,n.PluginKey=R},{"prosemirror-model":4,"prosemirror-transform":6}],6:[function(t,e,n){"use strict";function r(t,e){return t+e*J}function o(t){return t&$}function i(t){return(t-(t&$))/J}function s(t){var e=Error.call(this,t);return e.__proto__=s.prototype,e}function a(){throw new Error("Override me")}function c(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function p(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function h(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(0==r||o.type.spec.isolating||!p(o,i,s))break}}function l(t,e,n,r){void 0===r&&(r=t);var o=u(t,e),i=o&&d(r,e);return i?o.map(f).concat({type:e,attrs:n}).concat(i.map(f)):null}function f(t){return{type:t,attrs:null}}function u(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function d(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,c=a.contentMatch,p=r;c&&p<o;p++)c=c.matchType(n.child(p).type);return c&&c.validEnd?s:null}function m(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function v(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=n-2;a>i;a--,c--){var p=o.node(a),h=o.index(a);if(p.type.spec.isolating)return!1;var l=p.content.cutByIndex(h,p.childCount),f=r&&r[c]||p;if(f!=p&&(l=l.replaceChild(0,f.type.create(f.attrs))),!p.canReplace(h+1,p.childCount)||!f.type.validContent(l))return!1}var u=o.indexAfter(i),d=r&&r[0];return o.node(i).canReplaceWith(u,u,d?d.type:o.node(i+1).type)}function y(t,e){var n=t.resolve(e),r=n.index();return g(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function g(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function w(t,e,n){void 0===n&&(n=-1);for(var r=t.resolve(e),o=r.depth;;o--){var i=void 0,s=void 0;if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),s=r.node(o).maybeChild(r.index(o)+1)):(i=r.node(o).maybeChild(r.index(o)-1),s=r.node(o+1)),i&&!i.isTextblock&&g(i,s))return e;if(0==o)break;e=n<0?r.before(o):r.after(o)}}function x(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function S(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,p=r.index(a)+(c>0?1:0);if(1==s?r.node(a).canReplace(p,p,o):r.node(a).contentMatchAt(p).findWrapping(o.firstChild.type))return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function b(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(b(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return j.Fragment.fromArray(r)}function k(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=j.Slice.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);if(A(o,i,r))return new Y(e,n,r);var s=z(o,r),a=O(o,s),c=E(o,i,a);if(!c)return null;if(a.size!=c.size&&R(o,i,a)){for(var p=i.depth,h=i.after(p);p>1&&h==i.end(--p);)++h;var l=E(o,t.resolve(h),a);if(l)return new Q(e,h,n,i.end(),l,a.size)}return c.size||e!=n?new Y(e,n,c):null}function M(t,e,n,r){var o=j.Fragment.empty,i=0,s=n[e];if(t.depth>e){var a=M(t,e+1,n,r||s);i=a.openEnd+1,o=j.Fragment.from(t.node(e+1).copy(a.content))}return s&&(o=o.append(s.content),i=s.openEnd),r&&(o=o.append(t.node(e).contentMatchAt(t.indexAfter(e)).fillBefore(j.Fragment.empty,!0)),i=0),{content:o,openEnd:i}}function O(t,e){var n=M(t,0,e,!1),r=n.content,o=n.openEnd;return new j.Slice(r,t.depth,o||0)}function C(t,e,n,r,o,i,s){var a,c=t.childCount,p=c-(s>0?1:0),h=i<0?e:n.node(o);a=i<0?h.contentMatchAt(p):1==c&&s>0?h.contentMatchAt(i?n.index(o):n.indexAfter(o)):h.contentMatchAt(n.indexAfter(o)).matchFragment(t,c>0&&i?1:0,p);var l=r.node(o);if(s>0&&o<r.depth){var f=l.content.cutByIndex(r.indexAfter(o)).addToStart(t.lastChild),u=a.fillBefore(f,!0);if(u&&u.size&&i>0&&1==c&&(u=null),u){var d=C(t.lastChild.content,t.lastChild,n,r,o+1,1==c?i-1:-1,s-1);if(d){var m=t.lastChild.copy(d);return u.size?t.cutByIndex(0,c-1).append(u).addToEnd(m):t.replaceChild(c-1,m)}}}s>0&&(a=a.matchType((1==c&&i>0?n.node(o+1):t.lastChild).type));var v=r.index(o);if(v==l.childCount&&!l.type.compatibleContent(e.type))return null;for(var y=a.fillBefore(l.content,!0,v),g=v;y&&g<l.content.childCount;g++)h.type.allowsMarks(l.content.child(g).marks)||(y=null);if(!y)return null;if(s>0){var w=T(t.lastChild,s-1,n,o+1,1==c?i-1:-1);t=t.replaceChild(c-1,w)}return t=t.append(y),r.depth>o&&(t=t.addToEnd(N(r,o+1))),t}function T(t,e,n,r,o){var i,s=t.content,a=s.childCount;if(i=o>=0?n.node(r).contentMatchAt(n.indexAfter(r)).matchFragment(s,o>0?1:0,a):t.contentMatchAt(a),e>0){var c=T(s.lastChild,e-1,n,r+1,1==a?o-1:-1);s=s.replaceChild(a-1,c)}return t.copy(s.append(i.fillBefore(j.Fragment.empty,!0)))}function N(t,e){var n=t.node(e),r=n.contentMatchAt(0).fillBefore(n.content,!0,t.index(e));return t.depth>e&&(r=r.addToEnd(N(t,e+1))),n.copy(r)}function D(t,e,n){for(;e>0&&n>0&&1==t.childCount;)t=t.firstChild.content,e--,n--;return new j.Slice(t,e,n)}function E(t,e,n){var r=C(n.content,t.node(0),t,e,0,n.openStart,n.openEnd);return r?D(r,n.openStart,e.depth):null}function A(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}function R(t,e,n){if(!e.parent.isTextblock)return!1;var r=n.openEnd?P(n.content,n.openEnd):t.node(t.depth-(n.openStart-n.openEnd));if(!r.isTextblock)return!1;for(var o=e.index();o<e.parent.childCount;o++)if(!r.type.allowsMarks(e.parent.child(o).marks))return!1;var i;return n.openEnd?i=r.contentMatchAt(r.childCount):(i=r.contentMatchAt(r.childCount),n.size&&(i=i.matchFragment(n.content,n.openStart?1:0))),i=i.matchFragment(e.parent.content,e.index()),i&&i.validEnd}function P(t,e){for(var n=1;n<e;n++)t=t.lastChild.content;return t.lastChild}function z(t,e){for(var n=new et(t),r=1;e.size&&r<=3;r++)e=n.placeSlice(e.content,e.openStart,e.openEnd,r);for(;n.open.length;)n.closeNode();return n.placed}function I(t,e,n){var r=t.content;if(e>1){var o=I(t.firstChild,e-1,1==t.childCount?n-1:0);r=t.content.replaceChild(0,o)}var i=t.type.contentMatch.fillBefore(r,0==n);return t.copy(i.append(r))}function F(t,e){var n=t.content;if(e>1){var r=F(t.lastChild,e-1);n=t.content.replaceChild(t.childCount-1,r)}var o=t.contentMatchAt(t.childCount).fillBefore(j.Fragment.empty,!0);return t.copy(n.append(o))}function _(t,e){return e?t.replaceChild(t.childCount-1,F(t.lastChild,e)):t}function B(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(B(i.content,e+1,n,r,i)))}return e>r&&(t=o.contentMatchAt(0).fillBefore(t,!0).append(t)),t}function V(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;i==e.start(o)&&n.push(o)}return n}Object.defineProperty(n,"__esModule",{value:!0});var j=t("prosemirror-model"),$=65535,J=Math.pow(2,16),L=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},q=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};q.prototype.recover=function(t){var e=this,n=0,r=o(t);if(!this.inverted)for(var s=0;s<r;s++)n+=e.ranges[3*s+2]-e.ranges[3*s+1];return this.ranges[3*r]+n+i(t)},q.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},q.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},q.prototype._map=function(t,e,n){for(var o=this,i=0,s=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var p=o.ranges[c]-(o.inverted?i:0);if(p>t)break;var h=o.ranges[c+s],l=o.ranges[c+a],f=p+h;if(t<=f){var u=h?t==p?-1:t==f?1:e:e,d=p+i+(u<0?0:l);if(n)return d;var m=r(c/3,t-p);return new L(d,e<0?t!=p:t!=f,m)}i+=l-h}return n?t+i:new L(t+i)},q.prototype.touches=function(t,e){for(var n=this,r=0,i=o(e),s=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var p=n.ranges[c]-(n.inverted?r:0);if(p>t)break;var h=n.ranges[c+s],l=p+h;if(t<=l&&c==3*i)return!0;r+=n.ranges[c+a]-h}return!1},q.prototype.forEach=function(t){for(var e=this,n=this.inverted?2:1,r=this.inverted?1:2,o=0,i=0;o<this.ranges.length;o+=3){var s=e.ranges[o],a=s-(e.inverted?i:0),c=s+(e.inverted?0:i),p=e.ranges[o+n],h=e.ranges[o+r];t(a,a+p,c,c+h),i+=h-p}},q.prototype.invert=function(){return new q(this.ranges,(!this.inverted))},q.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},q.offset=function(t){return 0==t?q.empty:new q(t<0?[0,-t,0]:[0,0,t])},q.empty=new q([]);var W=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};W.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new W(this.maps,this.mirror,t,e)},W.prototype.copy=function(){return new W(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},W.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},W.prototype.appendMapping=function(t){for(var e=this,n=0,r=this.maps.length;n<t.maps.length;n++){var o=t.getMirror(n);e.appendMap(t.maps[n],null!=o&&o<n?r+o:null)}},W.prototype.getMirror=function(t){var e=this;if(this.mirror)for(var n=0;n<this.mirror.length;n++)if(e.mirror[n]==t)return e.mirror[n+(n%2?-1:1)]},W.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},W.prototype.appendMappingInverted=function(t){for(var e=this,n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){var o=t.getMirror(n);e.appendMap(t.maps[n].invert(),null!=o&&o>n?r-o-1:null)}},W.prototype.invert=function(){var t=new W;return t.appendMappingInverted(this),t},W.prototype.map=function(t,e){var n=this;if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var r=this.from;r<this.to;r++)t=n.maps[r].map(t,e);return t},W.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},W.prototype._map=function(t,e,n){for(var r=this,o=!1,i=null,s=this.from;s<this.to;s++){var a=r.maps[s],c=i&&i[s];if(null!=c&&a.touches(t,c))t=a.recover(c);else{var p=a.mapResult(t,e);if(null!=p.recover){var h=r.getMirror(s);if(null!=h&&h>s&&h<r.to){if(p.deleted){s=h,t=r.maps[h].recover(p.recover);continue}(i||(i=Object.create(null)))[h]=p.recover}}p.deleted&&(o=!0),t=p.pos}}return n?t:new L(t,o)},s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.name="TransformError";var K=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new W},H={before:{},docChanged:{}};H.before.get=function(){return this.docs.length?this.docs[0]:this.doc},K.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new s(e.failed);return this},K.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},H.docChanged.get=function(){return this.steps.length>0},K.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(K.prototype,H);var U=Object.create(null),G=function(){};G.prototype.apply=function(t){return a()},G.prototype.getMap=function(){return q.empty},G.prototype.invert=function(t){return a()},G.prototype.map=function(t){return a()},G.prototype.merge=function(t){return null},G.prototype.toJSON=function(){return a()},G.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=U[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},G.jsonID=function(t,e){if(t in U)throw new RangeError("Duplicate use of step JSON ID "+t);return U[t]=e,e.prototype.jsonID=t,e};var X=function(t,e){this.doc=t,this.failed=e};X.ok=function(t){return new X(t,null)},X.fail=function(t){return new X(null,t)},X.fromReplace=function(t,e,n,r){try{return X.ok(t.replace(e,n,r))}catch(o){if(o instanceof j.ReplaceError)return X.fail(o.message);throw o}};var Y=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&c(t,this.from,this.to)?X.fail("Structure replace would overwrite content"):X.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new q([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?j.Slice.empty:new j.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?j.Slice.empty:new j.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,j.Slice.fromJSON(t,n.slice),(!!n.structure))},e}(G);G.jsonID("replace",Y);var Q=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(c(t,this.from,this.gapFrom)||c(t,this.gapTo,this.to)))return X.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return X.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?X.fromReplace(t,this.from,this.to,n):X.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new q([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,j.Slice.fromJSON(t,n.slice),n.insert,(!!n.structure))},e}(G);G.jsonID("replaceAround",Q),K.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,c=s,p=j.Fragment.empty,h=0,l=o,f=!1;l>e;l--)f||n.index(l)>0?(f=!0,p=j.Fragment.from(n.node(l).copy(p)),h++):a--;for(var u=j.Fragment.empty,d=0,m=o,v=!1;m>e;m--)v||r.after(m+1)<r.end(m)?(v=!0,u=j.Fragment.from(r.node(m).copy(u)),d++):c++;return this.step(new Q(a,c,i,s,new j.Slice(p.append(u),h,d),p.size-h,(!0)))},K.prototype.wrap=function(t,e){for(var n=j.Fragment.empty,r=e.length-1;r>=0;r--)n=j.Fragment.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Q(o,i,o,i,new j.Slice(n,0,0),e.length,(!0)))},K.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&m(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),c=s.map(e+t.nodeSize,1);return o.step(new Q(a,c,a+1,c-1,new j.Slice(j.Fragment.from(n.create(r,null,t.marks)),0,0),1,(!0))),!1}}),this},K.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Q(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new j.Slice(j.Fragment.from(i),0,0),1,(!0)))},K.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=j.Fragment.empty,i=j.Fragment.empty,s=r.depth,a=r.depth-e,c=e-1;s>a;s--,c--){o=j.Fragment.from(r.node(s).copy(o));var p=n&&n[c];i=j.Fragment.from(p?p.type.create(p.attrs,i):r.node(s).copy(i))}return this.step(new Y(t,t,new j.Slice(o.append(i),e,e,(!0))))},K.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Y(t-e,t+e,j.Slice.empty,(!0));return this.step(n)};var Z=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new j.Slice(b(n.content,function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t},o),n.openStart,n.openEnd);return X.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new tt(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(G);G.jsonID("addMark",Z);var tt=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new j.Slice(b(n.content,function(t){return t.mark(e.mark.removeFromSet(t.marks))}),n.openStart,n.openEnd);return X.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new Z(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(G);G.jsonID("removeMark",tt),K.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(r,c,p){if(r.isInline){var h=r.marks;if(!n.isInSet(h)&&p.type.allowsMarkType(n.type)){for(var l=Math.max(c,t),f=Math.min(c+r.nodeSize,e),u=n.addToSet(h),d=0;d<h.length;d++)h[d].isInSet(u)||(s&&s.to==l&&s.mark.eq(h[d])?s.to=f:o.push(s=new tt(l,f,h[d])));a&&a.to==l?a.to=f:i.push(a=new Z(l,f,n))}}}),o.forEach(function(t){return r.step(t)}),i.forEach(function(t){return r.step(t)}),this},K.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(r,s){if(r.isInline){i++;var a=null;if(n instanceof j.MarkType){var c=n.isInSet(r.marks);c&&(a=[c])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var p=Math.min(s+r.nodeSize,e),h=0;h<a.length;h++){for(var l=a[h],f=void 0,u=0;u<o.length;u++){var d=o[u];d.step==i-1&&l.eq(o[u].style)&&(f=d)}f?(f.to=p,f.step=i):o.push({style:l,from:Math.max(s,t),to:p,step:i})}}}),o.forEach(function(t){return r.step(new tt(t.from,t.to,t.style))}),this},K.prototype.clearIncompatible=function(t,e,n){var r=this;void 0===n&&(n=e.contentMatch);for(var o=this.doc.nodeAt(t),i=[],s=t+1,a=0;a<o.childCount;a++){var c=o.child(a),p=s+c.nodeSize,h=n.matchType(c.type,c.attrs);if(h){n=h;for(var l=0;l<c.marks.length;l++)e.allowsMarkType(c.marks[l].type)||r.step(new tt(s,p,c.marks[l]))}else i.push(new Y(s,p,j.Slice.empty));s=p}if(!n.validEnd){var f=n.fillBefore(j.Fragment.empty,!0);this.replace(s,s,new j.Slice(f,0,0))}for(var u=i.length-1;u>=0;u--)r.step(i[u]);return this},K.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=j.Slice.empty);var r=k(this.doc,t,e,n);return r&&this.step(r),this},K.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new j.Slice(j.Fragment.from(n),0,0))},K.prototype["delete"]=function(t,e){return this.replace(t,e,j.Slice.empty)},K.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var et=function(t){var e=this;this.open=[];for(var n=0;n<=t.depth;n++){var r=t.node(n),o=r.contentMatchAt(t.indexAfter(n));e.open.push({parent:r,match:o,content:j.Fragment.empty,wrapper:!1,openEnd:0,depth:n})}this.placed=[]};et.prototype.placeSlice=function(t,e,n,r,o){var i=this;if(e>0){var s=t.firstChild,a=this.placeSlice(s.content,Math.max(0,e-1),n&&1==t.childCount?n-1:0,r,s);a.content!=s.content&&(a.content.size?(t=t.replaceChild(0,s.copy(a.content)),e=a.openStart+1):(1==t.childCount&&(n=0),t=t.cutByIndex(1),e=0))}var c=this.placeContent(t,e,n,r,o);if(r>2&&c.size&&0==e){for(var p=0;p<c.content.childCount;p++){var h=c.content.child(p);i.placeContent(h.content,0,n&&p==c.content.childCount.length-1?n-1:0,r,h)}c=j.Fragment.empty}return c},et.prototype.placeContent=function(t,e,n,r,o){for(var i=this,s=0;s<t.childCount;s++){for(var a=t.child(s),c=!1,p=s==t.childCount-1,h=this.open.length-1;h>=0;h--){var l=i.open[h],f=void 0;if(r>1&&(f=l.match.findWrapping(a.type))&&(!o||!f.length||f[f.length-1]!=o.type)){for(;this.open.length-1>h;)i.closeNode();for(var u=0;u<f.length;u++)l.match=l.match.matchType(f[u]),h++,l={parent:f[u].create(),match:f[u].contentMatch,content:j.Fragment.empty,wrapper:!0,openEnd:0,depth:h+u},i.open.push(l)}var d=l.match.matchType(a.type);if(!d){var m=l.match.fillBefore(j.Fragment.from(a));if(!m){if(o&&l.match.matchType(o.type))break;continue}for(var v=0;v<m.childCount;v++){var y=m.child(v);i.addNode(l,y,0),d=l.match.matchFragment(y)}}for(;this.open.length-1>h;)i.closeNode();a=a.mark(l.parent.type.allowedMarks(a.marks)),e&&(a=I(a,e,p?n:0),e=0),i.addNode(l,a,p?n:0),l.match=d,p&&(n=0),c=!0;break}if(!c)break}return this.open.length>1&&(s>0&&s==t.childCount||o&&this.open[this.open.length-1].parent.type==o.type)&&this.closeNode(),new j.Slice(t.cutByIndex(s),e,n)},et.prototype.addNode=function(t,e,n){t.content=_(t.content,t.openEnd).addToEnd(e),t.openEnd=n},et.prototype.closeNode=function(){var t=this.open.pop();0==t.content.size||(t.wrapper?this.addNode(this.open[this.open.length-1],t.parent.copy(t.content),t.openEnd+1):this.placed[t.depth]={depth:t.depth,content:t.content,openEnd:t.openEnd})},K.prototype.replaceRange=function(t,e,n){var r=this;if(!n.size)return this.deleteRange(t,e);var o=this.doc.resolve(t),i=this.doc.resolve(e);if(A(o,i,n))return this.step(new Y(t,e,n));var s=V(o,this.doc.resolve(e));0==s[s.length-1]&&s.pop();var a=-(o.depth+1);s.unshift(a);for(var c=o.depth,p=o.pos-1;c>0;c--,p--){var h=o.node(c).type.spec;if(h.defining||h.isolating)break;s.indexOf(c)>-1?a=c:o.before(c)==p&&s.splice(1,0,-c)}for(var l=s.indexOf(a),f=[],u=n.openStart,d=n.content,m=0;;m++){var v=d.firstChild;if(f.push(v),m==n.openStart)break;d=v.content}u>0&&f[u-1].type.spec.defining&&o.node(l).type!=f[u-1].type?u-=1:u>=2&&f[u-1].isTextblock&&f[u-2].type.spec.defining&&o.node(l).type!=f[u-2].type&&(u-=2);for(var y=n.openStart;y>=0;y--){var g=(y+u+1)%(n.openStart+1),w=f[g];if(w)for(var x=0;x<s.length;x++){var S=s[(x+l)%s.length],b=!0;S<0&&(b=!1,S=-S);var k=o.node(S-1),M=o.index(S-1);if(k.canReplaceWith(M,M,w.type,w.marks))return r.replace(o.before(S),b?i.after(S):e,new j.Slice(B(n.content,0,n.openStart,g),g,n.openEnd))}}return this.replace(t,e,n)},K.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=x(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new j.Slice(j.Fragment.from(n),0,0))},K.prototype.deleteRange=function(t,e){for(var n=this,r=this.doc.resolve(t),o=this.doc.resolve(e),i=V(r,o),s=0;s<i.length;s++){var a=i[s],c=s==i.length-1;if(c&&0==a||r.node(a).type.contentMatch.validEnd)return n["delete"](r.start(a),o.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return n["delete"](r.before(a),o.after(a))}for(var p=1;p<=r.depth;p++)if(t-r.start(p)==r.depth-p&&e>r.end(p))return n["delete"](r.before(p),e);return this["delete"](t,e)},n.Transform=K,n.TransformError=s,n.Step=G,n.StepResult=X,n.joinPoint=w,n.canJoin=y,n.canSplit=v,n.insertPoint=x,n.dropPoint=S,n.liftTarget=h,n.findWrapping=l,n.StepMap=q,n.MapResult=L,n.Mapping=W,n.AddMarkStep=Z,n.RemoveMarkStep=tt,n.ReplaceStep=Y,n.ReplaceAroundStep=Q,n.replaceStep=k},{"prosemirror-model":4}],7:[function(t,e,n){"use strict";function r(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:o(t))||3==t.nodeType&&"\ufeff"==t.nodeValue){var a=t.parentNode;if(1!=a.nodeType||i(t)||Pe.test(t.nodeName)||"false"==t.contentEditable)return!1;
e=De(t)+(s<0?0:1),t=a}else{if(1!=t.nodeType)return!1;t=t.childNodes[e+(s<0?-1:0)],e=s<0?o(t):0}}}function o(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function i(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function s(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function a(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function c(t,e){return"number"==typeof t?t:t[e]}function p(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=i.defaultView,p=n||t.dom;p;p=Ee(p))if(1==p.nodeType){var h=p==i.body||1!=p.nodeType,l=h?a(s):p.getBoundingClientRect(),f=0,u=0;if(e.top<l.top+c(r,"top")?u=-(l.top-e.top+c(o,"top")):e.bottom>l.bottom-c(r,"bottom")&&(u=e.bottom-l.bottom+c(o,"bottom")),e.left<l.left+c(r,"left")?f=-(l.left-e.left+c(o,"left")):e.right>l.right-c(r,"right")&&(f=e.right-l.right+c(o,"right")),(f||u)&&(h?s.scrollBy(f,u):(u&&(p.scrollTop+=u),f&&(p.scrollLeft+=f))),h)break}}function h(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=t.dom.ownerDocument,s=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var c=t.root.elementFromPoint(s,a);if(c!=t.dom&&t.dom.contains(c)){var p=c.getBoundingClientRect();if(p.top>=o-20){e=c,n=p.top;break}}}for(var h=[],l=t.dom;l&&(h.push({dom:l,top:l.scrollTop,left:l.scrollLeft}),l!=i.body);l=Ee(l));return{refDOM:e,refTop:n,stack:h}}function l(t){for(var e=t.refDOM,n=t.refTop,r=t.stack,o=e?e.getBoundingClientRect().top:0,i=0==o?0:o-n,s=0;s<r.length;s++){var a=r[s],c=a.dom,p=a.top,h=a.left;c.scrollTop!=p+i&&(c.scrollTop=p+i),c.scrollLeft!=h&&(c.scrollLeft=h)}}function f(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,c=t.firstChild,p=0;c;c=c.nextSibling,p++){var h=void 0;if(1==c.nodeType)h=c.getClientRects();else{if(3!=c.nodeType)continue;h=Ae(c).getClientRects()}for(var l=0;l<h.length;l++){var d=h[l];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);var m=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(m<o){n=c,o=m,r=m&&3==n.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==c.nodeType&&m&&(i=p+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(i=p+1)}}return n&&3==n.nodeType?u(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:f(n,r)}function u(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=x(r,1);if(i.top!=i.bottom&&d(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function d(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function m(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function v(t,e,n){var r=f(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}function y(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}function g(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2),i=o;;){var s=t.childNodes[i];if(1==s.nodeType)for(var a=s.getClientRects(),c=0;c<a.length;c++){var p=a[c];if(d(e,p))return g(s,e,p)}if((i=(i+1)%r)==o)break}return t}function w(t,e){var n,r,o=t.root;if(o.caretPositionFromPoint){var i=o.caretPositionFromPoint(e.left,e.top);if(i){var s;s=i,n=s.offsetNode,r=s.offset}}if(!n&&o.caretRangeFromPoint){var a=o.caretRangeFromPoint(e.left,e.top);if(a){var c;c=a,n=c.startContainer,r=c.startOffset}}var p,h=o.elementFromPoint(e.left,e.top+1);if(!h||!t.dom.contains(1!=h.nodeType?h.parentNode:h)){var l=t.dom.getBoundingClientRect();if(!d(e,l))return null;if(h=g(t.dom,e,l),!h)return null}h=m(h,e),n&&(n==t.dom&&r==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?p=t.state.doc.content.size:0!=r&&1==n.nodeType&&"BR"==n.childNodes[r-1].nodeName||(p=y(t,n,r,e))),null==p&&(p=v(t,h,e));var f=t.docView.nearestDesc(h,!0);return{pos:p,inside:f?f.posAtStart-f.border:-1}}function x(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function S(t,e){var n=t.docView.domFromPos(e),r=n.node,i=n.offset;if(3==r.nodeType&&(ke.chrome||ke.gecko)){var s=x(Ae(r,i,i),0);if(ke.gecko&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){var a=x(Ae(r,i-1,i-1),-1);if(Math.abs(a.left-s.left)<1&&a.top==s.top){var c=x(Ae(r,i,i+1),-1);return b(c,c.left<a.left)}}return s}if(1==r.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var p,h=!0;if(i){var l=r.childNodes[i-1];1==l.nodeType&&(p=l.getBoundingClientRect(),h=!1)}if(!p&&i<r.childNodes.length){var f=r.childNodes[i];1==f.nodeType&&(p=f.getBoundingClientRect())}return k(p||parent.getBoundingClientRect(),h)}for(var u=-1;u<2;u+=2)if(u<0&&i){var d=void 0,m=3==r.nodeType?Ae(r,i-1,i):3==(d=r.childNodes[i-1]).nodeType?Ae(d):1==d.nodeType&&"BR"!=d.nodeName?d:null;if(m){var v=x(m,1);if(v.top<v.bottom)return b(v,!1)}}else if(u>0&&i<o(r)){var y=void 0,g=3==r.nodeType?Ae(r,i,i+1):3==(y=r.childNodes[i]).nodeType?Ae(y):1==y.nodeType?y:null;if(g){var w=x(g,-1);if(w.top<w.bottom)return b(w,!0)}}return b(x(3==r.nodeType?Ae(r):r,0),!1)}function b(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function k(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function M(t,e,n){var r=t.state,o=t.root.activeElement;r==e&&t.inDOMChange||t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o.focus()}}function O(t,e,n){var r=e.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return M(t,e,function(){for(var e=t.docView.domFromPos(o.pos),r=e.node;;){var i=t.docView.nearestDesc(r,!0);if(!i)break;if(i.node.isBlock){r=i.dom;break}r=i.dom.parentNode}for(var s=S(t,o.pos),a=r.firstChild;a;a=a.nextSibling){var c=void 0;if(1==a.nodeType)c=a.getClientRects();else{if(3!=a.nodeType)continue;c=Ae(a,0,a.nodeValue.length).getClientRects()}for(var p=0;p<c.length;p++){var h=c[p];if(h.bottom>h.top&&("up"==n?h.bottom<s.top+1:h.top>s.bottom-1))return!1}}return!0})}function C(t,e,n){var r=e.selection,o=r.$head;if(!o.parent.isTextblock)return!1;var i=o.parentOffset,s=!i,a=i==o.parent.content.size,c=getSelection();return Ie.test(o.parent.textContent)&&c.modify?M(t,e,function(){var e=c.getRangeAt(0),r=c.focusNode,i=c.focusOffset;c.modify("move",n,"character");var s=o.depth?t.docView.domAfterPos(o.before()):t.dom,a=!s.contains(1==c.focusNode.nodeType?c.focusNode:c.focusNode.parentNode)||r==c.focusNode&&i==c.focusOffset;return c.removeAllRanges(),c.addRange(e),a}):"left"==n||"backward"==n?s:a}function T(t,e,n){return Fe==e&&_e==n?Be:(Fe=e,_e=n,Be="up"==n||"down"==n?O(t,e,n):C(t,e,n))}function N(t,e,n,r,o){return z(r,e,t),new Ge(null,t,e,n,r,r,r,o,0)}function D(t,e){for(var n=t.firstChild,r=0;r<e.length;r++){var o=e[r],i=o.dom;if(i.parentNode==t){for(;i!=n;)n=F(n);n=n.nextSibling}else t.insertBefore(i,n);if(o instanceof Ue){var s=n?n.previousSibling:t.lastChild;D(o.contentDOM,o.children),n=s?s.nextSibling:t.firstChild}}for(;n;)n=F(n)}function E(t){t&&(this.nodeName=t)}function A(t,e,n){if(0==t.length)return Ze;for(var r=n?Ze[0]:new E,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs,a=r;if(s){s.nodeName&&o.push(a=new E(s.nodeName));for(var c in s){var p=s[c];null!=p&&(n&&1==o.length&&o.push(a=r=new E(e.isInline?"span":"div")),"class"==c?a["class"]=(a["class"]?a["class"]+" ":"")+p:"style"==c?a.style=(a.style?a.style+";":"")+p:"nodeName"!=c&&(a[c]=p))}}}return o}function R(t,e,n,r){if(n==Ze&&r==Ze)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(c=e.parentNode)&&c.tagName.toLowerCase()==s.nodeName?o=c:(c=document.createElement(s.nodeName),c.appendChild(o),o=c)}P(o,a||Ze[0],s)}return o}function P(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e["class"]!=n["class"]){for(var i=e["class"]?e["class"].split(" "):We,s=n["class"]?n["class"].split(" "):We,a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(var c=0;c<s.length;c++)i.indexOf(s[c])==-1&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var p,h=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;p=h.exec(e.style);)t.style[p[1].toLowerCase()]="";n.style&&(t.style.cssText+=n.style)}}function z(t,e,n){return R(t,t,Ze,A(e,n,1!=t.nodeType))}function I(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function F(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}function _(t,e){for(var n=[],r=t.childCount,o=e.length-1;r>0&&o>=0;o--){var i=e[o],s=i.node;if(s){if(s!=t.child(r-1))break;n[--r]=i}}return n}function B(t,e){return t.type.side-e.type.side}function V(t,e,n,r){var o=e.locals(t),i=0;if(0!=o.length)for(var s=0,a=[],c=null,p=0;;){if(s<o.length&&o[s].to==i){for(var h=o[s++],l=void 0;s<o.length&&o[s].to==i;)(l||(l=[h])).push(o[s++]);if(l){l.sort(B);for(var f=0;f<l.length;f++)n(l[f],p)}else n(h,p)}var u=void 0,d=void 0;if(c)d=-1,u=c,c=null;else{if(!(p<t.childCount))break;d=p,u=t.child(p++)}for(var m=0;m<a.length;m++)a[m].to<=i&&a.splice(m--,1);for(;s<o.length&&o[s].from==i;)a.push(o[s++]);var v=i+u.nodeSize;if(u.isText){var y=v;s<o.length&&o[s].from<y&&(y=o[s].from);for(var g=0;g<a.length;g++)a[g].to<y&&(y=a[g].to);y<v&&(c=u.cut(y-i),u=u.cut(0,y-i),v=y,d=-1)}r(u,a.length?a.slice():We,e.forChild(i,u),d),i=v}else for(var w=0;w<t.childCount;w++){var x=t.child(w);r(x,o,e.forChild(i,x),w),i+=x.nodeSize}}function j(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function $(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Se.Selection.findFrom(s,e)}function J(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function L(t,e,n){var r=t.state.selection;if(r instanceof Se.TextSelection){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=$(t.state,e);return!!(o&&o instanceof Se.NodeSelection)&&J(t,o)}var i,s=r.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(a&&Se.NodeSelection.isSelectable(a)){var c=e<0?s.pos-a.nodeSize:s.pos;if(a.isAtom||(i=t.docView.descAt(c))&&!i.contentDOM)return J(t,new Se.NodeSelection(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s))}return!1}if(r instanceof Se.NodeSelection&&r.node.isInline)return J(t,new Se.TextSelection(e>0?r.$to:r.$from));var p=$(t.state,e);return!!p&&J(t,p)}function q(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function W(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function K(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for(ke.gecko&&1==n.nodeType&&r<q(n)&&W(n.childNodes[r])&&(s=!0);;)if(r>0)if(1!=n.nodeType){if(3!=n.nodeType||"\ufeff"!=n.nodeValue.charAt(r-1))break;ke.ie&&ke.ie_version<=11&&(s=!0),o=n,i=--r}else{var a=n.childNodes[r-1];if(W(a))o=n,i=--r;else{if(3!=a.nodeType)break;n=a,r=n.nodeValue.length}}else{if(U(n))break;for(var c=n.previousSibling;c&&W(c);)o=n.parentNode,i=De(c),c=c.previousSibling;if(c)n=c,r=q(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}s?G(t,e,n,r):o&&G(t,e,o,i)}}function H(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=q(n);;)if(r<s){if(1!=n.nodeType)break;var a=n.childNodes[r];if(!W(a))break;o=n,i=++r}else{if(U(n))break;for(var c=n.nextSibling;c&&W(c);)o=c.parentNode,i=De(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=q(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}o&&G(t,e,o,i)}}function U(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function G(t,e,n,r){if(ze(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.selectionReader.storeDOMState(t.selection)}function X(t,e,n){var r=t.state.selection;if(r instanceof Se.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=$(t.state,e);if(s&&s instanceof Se.NodeSelection)return J(t,s)}if(!o.parent.inlineContent){var a=Se.Selection.findFrom(e<0?o:i,e);return!a||J(t,a)}return!1}function Y(t,e){if(!(t.state.selection instanceof Se.TextSelection))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a["delete"](r.pos-s.nodeSize,r.pos):a["delete"](r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Q(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Z(t){if(ke.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Q(t,o,!0),setTimeout(function(){return Q(t,o,!1)},20)}}}function tt(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function et(t,e){var n=e.keyCode,r=tt(e);return 8==n||ke.mac&&72==n&&"c"==r?Y(t,-1)||K(t):46==n||ke.mac&&68==n&&"c"==r?Y(t,1)||H(t):13==n||27==n||(37==n?L(t,-1,r)||K(t):39==n?L(t,1,r)||H(t):38==n?X(t,-1,r)||K(t):40==n?Z(t)||X(t,1,r)||H(t):r==(ke.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function nt(t){return new("onselectionchange"in document?on:sn)(t)}function rt(t,e,n){var r=t.state.selection;if(at(t,r),t.editable&&!t.hasFocus()){if(!e)return;ke.gecko&&ke.gecko_version<=55&&(t.selectionReader.ignoreUpdates=!0,t.dom.focus(),t.selectionReader.ignoreUpdates=!1)}else if(!t.editable&&!lt(t)&&!e)return;var o=t.selectionReader;if(!o.lastSelection||!o.lastSelection.eq(r)||o.domChanged()){if(o.ignoreUpdates=!0,t.cursorWrapper)st(t);else{var i,s,a=r.anchor,c=r.head;!an||r instanceof Se.TextSelection||(r.$from.parent.inlineContent||(i=ot(t,r.from)),r.empty||r.$from.parent.inlineContent||(s=ot(t,r.to))),t.docView.setSelection(a,c,t.root,n),an&&(i&&(i.contentEditable="false"),s&&(s.contentEditable="false")),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):a!=c&&(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&it(t))}o.storeDOMState(r),o.ignoreUpdates=!1}}function ot(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return i.contentEditable="true",i;if(s)return s.contentEditable="true",s}}function it(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}function st(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom;n.setEnd(r,r.childNodes.length),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!t.state.selection.visible&&ke.ie&&ke.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function at(t,e){if(e instanceof Se.NodeSelection){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ct(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ct(t)}function ct(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function pt(t,e,n,r){return t.someProp("createSelectionBetween",function(r){return r(t,e,n)})||Se.TextSelection.between(e,n,r)}function ht(t){return(!t.editable||t.root.activeElement==t.dom)&&lt(t)}function lt(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function ft(t){return t.type.spec.inclusive===!1}function ut(t){var e=t.selection,n=e.$head,r=e.$anchor,o=e.visible,i=n.pos!=r.pos||o&&!n.parent.inlineContent?null:n;return i&&(!o||t.storedMarks||0==i.parent.content.length||i.parentOffset&&!i.textOffset&&i.nodeBefore.marks.some(ft))?i:null}function dt(t){var e=t.docView.domFromPos(t.state.selection.anchor),n=t.root.getSelection();return Re(e.node,e.offset,n.anchorNode,n.anchorOffset)}function mt(t,e,n){var r=t.docView.parseRange(n.from,n.to),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,c=r.to,p=t.root.getSelection(),h=null,l=p.anchorNode;if(l&&t.dom.contains(1==l.nodeType?l:l.parentNode)&&(h=[{node:l,offset:p.anchorOffset}],ze(p)||h.push({node:p.focusNode,offset:p.focusOffset})),ke.chrome&&8===t.lastKeyCode)for(var f=s;f>i;f--){var u=o.childNodes[f-1],d=u.pmViewDesc;if("BR"==u.nodeType&&!d){s=f;break}if(!d||d.size)break}var m=e.doc,v=t.someProp("domParser")||xe.DOMParser.fromSchema(t.state.schema),y=m.resolve(a),g=null,w=v.parse(o,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:h,ruleFromNode:vt(v,y),context:y});if(h&&null!=h[0].pos){var x=h[0].pos,S=h[1]&&h[1].pos;null==S&&(S=x),g={anchor:x+a,head:S+a}}return{doc:w,sel:g,from:a,to:c}}function vt(t,e){return function(n){var r=n.pmViewDesc;if(r)return r.parseRule();if("BR"==n.nodeName&&n.parentNode){if(ke.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName))return t.matchTag(document.createElement("li"),e);if(n.parentNode.lastChild==n||ke.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}}}function yt(t,e){for(var n=e||0;n<t.depth;n++)if(t.index(n)+1<t.node(n).childCount)return!1;return t.parentOffset==t.parent.content.size}function gt(t,e){for(var n=e||0;n<t.depth;n++)if(t.index(0)>0)return!1;return 0==t.parentOffset}function wt(t){var e=t.$anchor.min(t.$head),n=t.$anchor.max(t.$head);if(e.sameParent(n)&&e.parent.inlineContent&&e.parentOffset&&n.parentOffset<n.parent.content.size){var r=Math.max(0,e.parentOffset),o=e.parent.content.size,i=Math.min(o,n.parentOffset);if(r>0&&(r=e.parent.childBefore(r).offset),i<o){var s=e.parent.childAfter(i);i=s.offset+s.node.nodeSize}var a=e.start();return{from:a+r,to:a+i}}for(var c=0;;c++){var p=gt(e,c+1),h=yt(n,c+1);if(p||h||e.index(c)!=n.index(c)||n.node(c).isTextblock){var l=e.before(c+1),f=n.after(c+1);return p&&e.index(c)>0&&(l-=e.node(c).child(e.index(c)-1).nodeSize),h&&n.index(c)+1<n.node(c).childCount&&(f+=n.node(c).child(n.index(c)+1).nodeSize),{from:l,to:f}}}}function xt(t,e,n,r,o){var i,a,c=mt(t,n,r),p=n.doc,h=p.slice(c.from,c.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(i=n.selection.to,a="end"):(i=n.selection.from,a="start"),t.lastKeyCode=null;var l=Ot(h.content,c.doc.content,c.from,i,a);if(l){t.domChangeCount++,n.selection.from<n.selection.to&&l.start==l.endB&&n.selection instanceof Se.TextSelection&&(l.start>n.selection.from&&l.start<=n.selection.from+2?l.start=n.selection.from:l.endA<n.selection.to&&l.endA>=n.selection.to-2&&(l.endB+=n.selection.to-l.endA,l.endA=n.selection.to));var f,u=c.doc.resolveNoCache(l.start-c.from),d=c.doc.resolveNoCache(l.endB-c.from);if(!(!u.sameParent(d)&&u.pos<c.doc.content.size&&(f=Se.Selection.findFrom(c.doc.resolve(u.pos+1),1,!0))&&f.head==d.pos&&t.someProp("handleKeyDown",function(e){return e(t,s(13,"Enter"))}))){if(n.selection.anchor>l.start&&kt(p,l.start,l.endA,u,d)&&t.someProp("handleKeyDown",function(e){return e(t,s(8,"Backspace"))}))return void(ke.android&&ke.chrome&&(t.selectionReader.suppressUpdates=!0,setTimeout(function(){return t.selectionReader.suppressUpdates=!1},50)));var m,v,y,g,w=e.map(l.start),x=Math.max(w,e.map(l.endA,-1));if(u.sameParent(d)&&u.parent.inlineContent)if(u.pos==d.pos)m=t.state.tr["delete"](w,x),v=p.resolve(l.start).marksAcross(p.resolve(l.endA));else if(l.endA==l.endB&&(g=p.resolve(l.start))&&(y=bt(u.parent.content.cut(u.parentOffset,d.parentOffset),g.parent.content.cut(g.parentOffset,l.endA-g.start()))))m=t.state.tr,"add"==y.type?m.addMark(w,x,y.mark):m.removeMark(w,x,y.mark);else if(u.parent.child(u.index()).isText&&u.index()==d.index()-(d.textOffset?0:1)){var S=u.parent.textBetween(u.parentOffset,d.parentOffset);if(t.someProp("handleTextInput",function(e){return e(t,w,x,S)}))return;m=t.state.tr.insertText(S,w,x)}if(m||(m=t.state.tr.replace(w,x,c.doc.slice(l.start-c.from,l.endB-c.from))),c.sel){var b=St(t,m.doc,e,c.sel);b&&m.setSelection(b)}v&&m.ensureMarks(v),t.dispatch(m.scrollIntoView())}}else if(o){var k=t.state,M=k.selection;t.dispatch(k.tr.replaceSelectionWith(k.schema.text(k.doc.textBetween(M.from,M.to)),!0).scrollIntoView())}else if(c.sel){var O=St(t,t.state.doc,e,c.sel);O&&!O.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(O))}}function St(t,e,n,r){return Math.max(r.anchor,r.head)>e.content.size?null:pt(t,e.resolve(n.map(r.anchor)),e.resolve(n.map(r.head)))}function bt(t,e){for(var n,r,o,i=t.firstChild.marks,s=e.firstChild.marks,a=i,c=s,p=0;p<s.length;p++)a=s[p].removeFromSet(a);for(var h=0;h<i.length;h++)c=i[h].removeFromSet(c);if(1==a.length&&0==c.length)r=a[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=c.length)return null;r=c[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var l=[],f=0;f<e.childCount;f++)l.push(o(e.child(f)));if(xe.Fragment.from(l).eq(t))return{mark:r,type:n}}function kt(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||Mt(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(Mt(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Mt(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Mt(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Ot(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==o){var p=Math.max(0,i-Math.min(a,c));r-=a+p-i}if(a<i&&t.size<e.size){var h=r<=i&&r>=a?i-r:0;i-=h,c=i+(c-a),a=i}else if(c<i){var l=r<=i&&r>=c?i-r:0;i-=l,a=i+(a-c),c=i}return{start:i,endA:a,endB:c}}function Ct(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||xe.DOMSerializer.fromSchema(t.state.schema),c=document.createElement("div");c.appendChild(a.serializeFragment(r));for(var p,h=c.firstChild;h&&1==h.nodeType&&(p=pn[h.nodeName.toLowerCase()]);){for(var l=p.length-1;l>=0;l--){for(var f=document.createElement(p[l]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f)}h=c.firstChild}h&&1==h.nodeType&&h.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n));var u=t.someProp("clipboardTextSerializer",function(t){return t(e)})||e.content.textBetween(0,e.content.size,"\n\n");return{dom:c,text:u}}function Tt(t,e,n,r,o){var i,s,a=o.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(r||a||!n);if(c){if(t.someProp("transformPastedText",function(t){e=t(e)}),a)return new xe.Slice(xe.Fragment.from(t.state.schema.text(e)),0,0);var p=t.someProp("clipboardTextParser",function(t){return t(e,o)});p?s=p:(i=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach(function(t){i.appendChild(document.createElement("p")).textContent=t}))}else t.someProp("transformPastedHTML",function(t){n=t(n)}),i=Rt(n);var h=i&&i.querySelector("[data-pm-slice]"),l=h&&/^(\d+) (\d+) (.*)/.exec(h.getAttribute("data-pm-slice"));if(!s){var f=t.someProp("clipboardParser")||t.someProp("domParser")||xe.DOMParser.fromSchema(t.state.schema);s=f.parseSlice(i,{preserveWhitespace:!(!c&&!l),context:o})}return s=l?Pt(new xe.Slice(s.content,Math.min(s.openStart,+l[1]),Math.min(s.openEnd,+l[2])),l[3]):xe.Slice.maxOpen(Nt(s.content,o),!1),t.someProp("transformPasted",function(t){s=t(s)}),s}function Nt(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n),o=r.contentMatchAt(e.index(n)),i=void 0,s=[];if(t.forEach(function(t){if(s){var e,n=o.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&i.length&&Et(n,i,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=At(s[s.length-1],i.length));var r=Dt(t,n);s.push(r),o=o.matchType(r.type,r.attrs),i=n}}}),s)return{v:xe.Fragment.from(s)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}function Dt(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,xe.Fragment.from(t));return t}function Et(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var i=Et(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));var s=r.contentMatchAt(r.childCount);if(s.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(xe.Fragment.from(Dt(n,t,o+1))))}}function At(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,At(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(xe.Fragment.empty,!0);return t.copy(n.append(r))}function Rt(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=hn||(hn=document.implementation.createHTMLDocument("title")),o=r.createElement("div"),i=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),s=0;(n=i&&pn[i[1].toLowerCase()])&&(t=n.map(function(t){return"<"+t+">"}).join("")+t+n.map(function(t){return"</"+t+">"}).reverse().join(""),s=n.length),o.innerHTML=t;for(var a=0;a<s;a++)o=o.firstChild;return o}function Pt(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(o){return t}for(var i=t.content,s=t.openStart,a=t.openEnd,c=n.length-2;c>=0;c-=2){var p=r.nodes[n[c]];if(!p||p.hasRequiredAttrs())break;i=xe.Fragment.from(p.create(n[c+1],i)),s++,a++}return new xe.Slice(i,s,a)}function zt(t){t.shiftKey=!1,t.mouseDown=null,t.inDOMChange=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.domObserver=new un(t),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=dn[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!Bt(t,e)||_t(t,e)||!t.editable&&e.type in mn||n(t,e)})};for(var n in dn)e(n);Ft(t)}function It(t){t.domObserver.stop(),t.inDOMChange&&t.inDOMChange.destroy();for(var e in t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e])}function Ft(t){t.someProp("handleDOMEvents",function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return _t(t,e)})})}function _t(t,e){return t.someProp("handleDOMEvents",function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function Bt(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Vt(t,e){_t(t,e)||!dn[e.type]||!t.editable&&e.type in mn||dn[e.type](t,e)}function jt(t){return{left:t.clientX,top:t.clientY}}function $t(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Jt(t,e,n,r,o){if(r==-1)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)}))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function Lt(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function qt(t,e){if(e==-1)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&Se.NodeSelection.isSelectable(r))&&(Lt(t,new Se.NodeSelection(n),"pointer"),!0)}function Wt(t,e){if(e==-1)return!1;var n,r,o=t.state.selection;o instanceof Se.NodeSelection&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(Se.NodeSelection.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Lt(t,Se.NodeSelection.create(t.state.doc,r),"pointer"),!0)}function Kt(t,e,n,r,o){return Jt(t,"handleClickOn",e,n,r)||t.someProp("handleClick",function(n){return n(t,e,r)})||(o?Wt(t,n):qt(t,n))}function Ht(t,e,n,r){return Jt(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",function(n){return n(t,e,r)})}function Ut(t,e,n,r){return Jt(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",function(n){return n(t,e,r)})||Gt(t,n)}function Gt(t,e){var n=t.state.doc;if(e==-1)return!!n.inlineContent&&(Lt(t,Se.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),o=r.depth+1;o>0;o--){var i=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(i.inlineContent)Lt(t,Se.TextSelection.create(n,s+1,s+1+i.content.size),"pointer");else{if(!Se.NodeSelection.isSelectable(i))continue;Lt(t,Se.NodeSelection.create(n,s),"pointer")}return!0}}function Xt(t){return!!t.inDOMChange&&(t.inDOMChange.finish(!0),!0)}function Yt(t,e){var n=e.ownerDocument,r=n.body.appendChild(n.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),i=n.createRange();i.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout(function(){n.body.removeChild(r),t.focus()},50)}function Qt(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function Zt(t,e){var n=t.dom.ownerDocument,r=t.shiftKey||t.state.selection.$from.parent.type.spec.code,o=n.body.appendChild(n.createElement(r?"textarea":"div"));r||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(function(){t.focus(),n.body.removeChild(o),r?te(t,o.value,null,e):te(t,o.textContent,o.innerHTML,e)},50)}function te(t,e,n,r){var o=Tt(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",function(e){return e(t,r,o||xe.Slice.empty)})||!o)return!0;var i=Qt(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ee(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}function ne(t,e,n,r,o,i,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],p=void 0;c==-1||t>c+i||(e>=a[s]+i?a[s+1]=-1:(p=r-n-(e-t)+(i-o))&&(a[s]+=p,a[s+1]+=p))}},p=0;p<n.maps.length;p++)n.maps[p].forEach(c);for(var h=!1,l=0;l<a.length;l+=3)if(a[l+1]==-1){var f=n.map(a[l]+i),u=f-o;if(u<0||u>=r.content.size){h=!0;continue}var d=n.map(t[l+1]+i,-1),m=d-o,v=r.content.findIndex(u),y=v.index,g=v.offset,w=r.maybeChild(y);if(w&&g==u&&g+w.nodeSize==m){var x=a[l+2].mapInner(n,w,f+1,a[l]+i+1,s);x!=En?(a[l]=u,a[l+1]=m,a[l+2]=x):(a[l+1]=-2,h=!0)}else h=!0}if(h){var S=oe(a,t,e||[],n,o,i,s),b=ae(S,r,0,s);e=b.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var M=0,O=0;M<b.children.length;M+=3){for(var C=b.children[M];O<a.length&&a[O]<C;)O+=3;a.splice(O,0,b.children[M],b.children[M+1],b.children[M+2])}}return new Dn(e&&e.sort(ce),a)}function re(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){
var o=t[r];n.push(new On(o.from+e,o.to+e,o.type))}return n}function oe(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var c=t.local[i].map(r,o,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[i].spec)}for(var p=0;p<t.children.length;p+=3)a(t.children[p+2],t.children[p]+e+1)}for(var c=0;c<t.length;c+=3)t[c+1]==-1&&a(t[c+2],e[c]+i+1);return n}function ie(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function se(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function ae(t,e,n,r){var o=[],i=!1;e.forEach(function(e,s){var a=ie(t,e,s+n);if(a){i=!0;var c=ae(a,e,n+s+1,r);c!=En&&o.push(s,s+e.nodeSize,c)}});for(var s=re(i?se(t):t,-n).sort(ce),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Dn(s,o):En}function ce(t,e){return t.from-e.from||t.to-e.to}function pe(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];{if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),he(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),he(e,o+1,i.copy(r.to,i.to)))}}}return e}function he(t,e,n){for(;e<t.length&&ce(n,t[e])>0;)e++;t.splice(e,0,n)}function le(t){var e=[];return t.someProp("decorations",function(n){var r=n(t.state);r&&r!=En&&e.push(r)}),t.cursorWrapper&&e.push(Dn.create(t.state.doc,[t.cursorWrapper.deco])),An.from(e)}function fe(t){var e=Object.create(null);return e["class"]="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e["class"]+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))}),[On.node(0,t.state.doc.content.size,e)]}function ue(t){var e=document.createElement("span");return e.textContent="\ufeff",t||(e.style.position="absolute",e.style.left="-100000px"),e}function de(t){var e=ut(t.state);if(!e||ke.ie&&t.mouseDown)t.cursorWrapper=null;else{var n,r=t.state.selection.visible,o=t.state.storedMarks||e.marks();t.cursorWrapper&&xe.Mark.sameSet(t.cursorWrapper.deco.spec.marks,o)&&"\ufeff"==t.cursorWrapper.dom.textContent&&t.cursorWrapper.deco.spec.visible==r?t.cursorWrapper.deco.pos!=e.pos&&(n=t.cursorWrapper.dom):n=ue(r),n&&(t.cursorWrapper={dom:n,deco:On.widget(e.pos,n,{isCursorWrapper:!0,marks:o,raw:!0,visible:r})})}}function me(t){return!t.someProp("editable",function(e){return e(t.state)===!1})}function ve(t){var e=t.getSelection(),n=e.focusOffset,r=e.focusNode;return r&&3!=r.nodeType?[r,n,1==r.nodeType?r.childNodes[n-1]:null,1==r.nodeType?r.childNodes[n]:null]:null}function ye(t,e){var n=ve(e);if(!n||3==n[0].nodeType)return!1;for(var r=0;r<t.length;r++)if(n[r]!=t[r])return!0;return!1}function ge(t){var e={};return t.someProp("nodeViews",function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}),e}function we(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r}Object.defineProperty(n,"__esModule",{value:!0});var xe=t("prosemirror-model"),Se=t("prosemirror-state"),be=t("prosemirror-transform"),ke={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Me=/Edge\/(\d+)/.exec(navigator.userAgent),Oe=/MSIE \d/.test(navigator.userAgent),Ce=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);ke.mac=/Mac/.test(navigator.platform);var Te=ke.ie=!!(Oe||Ce||Me);ke.ie_version=Oe?document.documentMode||6:Ce?+Ce[1]:Me?+Me[1]:null,ke.gecko=!Te&&/gecko\/(\d+)/i.test(navigator.userAgent),ke.gecko_version=ke.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Ne=!Te&&/Chrome\/(\d+)/.exec(navigator.userAgent);ke.chrome=!!Ne,ke.chrome_version=Ne&&+Ne[1],ke.ios=!Te&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ke.android=/Android \d/.test(navigator.userAgent),ke.webkit=!Te&&"WebkitAppearance"in document.documentElement.style,ke.safari=/Apple Computer/.test(navigator.vendor),ke.webkit_version=ke.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var De=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ee=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},Ae=function(t,e,n){var r=document.createRange();return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Re=function(t,e,n,o){return n&&(r(t,e,n,o,-1)||r(t,e,n,o,1))},Pe=/^(img|br|input|textarea|hr)$/i,ze=function(t){var e=t.isCollapsed;return e&&ke.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e},Ie=/[\u0590-\u08ac]/,Fe=null,_e=null,Be=!1,Ve=0,je=1,$e=2,Je=3,Le=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=Ve},qe={beforePosition:{},size:{},border:{},posBefore:{},posAtStart:{},posAfter:{},posAtEnd:{},contentLost:{}};Le.prototype.matchesWidget=function(){return!1},Le.prototype.matchesMark=function(){return!1},Le.prototype.matchesNode=function(){return!1},Le.prototype.matchesHack=function(){return!1},qe.beforePosition.get=function(){return!1},Le.prototype.parseRule=function(){return null},Le.prototype.stopEvent=function(){return!1},qe.size.get=function(){for(var t=this,e=0,n=0;n<this.children.length;n++)e+=t.children[n].size;return e},qe.border.get=function(){return 0},Le.prototype.destroy=function(){var t=this;this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)t.children[e].destroy()},Le.prototype.posBeforeChild=function(t){for(var e=this,n=0,r=this.posAtStart;n<this.children.length;n++){var o=e.children[n];if(o==t)return r;r+=o.size}},qe.posBefore.get=function(){return this.parent.posBeforeChild(this)},qe.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},qe.posAfter.get=function(){return this.posBefore+this.size},qe.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Le.prototype.localPosFromDOM=function(t,e,n){var r=this;if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var o,i;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&(!(i=o.pmViewDesc)||i.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}var s,a;if(t==this.contentDOM)s=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&(!(a=s.pmViewDesc)||a.parent!=this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}var c;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var p=t;;p=p.parentNode){if(p==r.dom){c=!1;break}if(p.parentNode.firstChild!=p)break}if(null==c&&e==t.childNodes.length)for(var h=t;;h=h.parentNode){if(h==r.dom){c=!0;break}if(h.parentNode.lastChild!=h)break}}return(null==c?n>0:c)?this.posAtEnd:this.posAtStart},Le.prototype.nearestDesc=function(t,e){for(var n=this,r=!0,o=t;o;o=o.parentNode){var i=n.getDesc(o);if(i&&(!e||i.node)){if(!r||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(t):i.nodeDOM==t))return i;r=!1}}},Le.prototype.getDesc=function(t){for(var e=this,n=t.pmViewDesc,r=n;r;r=r.parent)if(r==e)return n},Le.prototype.posFromDOM=function(t,e,n){for(var r=this,o=t;;o=o.parentNode){var i=r.getDesc(o);if(i)return i.localPosFromDOM(t,e,n)}},Le.prototype.descAt=function(t){for(var e=this,n=0,r=0;n<this.children.length;n++){var o=e.children[n],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(t<i)return o.descAt(t-r-o.border);r=i}},Le.prototype.domFromPos=function(t){var e=this;if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0;;r++){if(n==t){for(;r<this.children.length&&this.children[r].beforePosition;)r++;return{node:e.contentDOM,offset:r}}if(r==e.children.length)throw new Error("Invalid position "+t);var o=e.children[r],i=n+o.size;if(t<i)return o.domFromPos(t-n-o.border);n=i}},Le.prototype.parseRange=function(t,e,n){var r=this;if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,i=-1,s=0,a=0;;a++){var c=r.children[a],p=s+c.size;if(o==-1&&t<=p){var h=s+c.border;if(t>=h&&e<=p-c.border&&c.node&&c.contentDOM&&r.contentDOM.contains(c.contentDOM))return c.parseRange(t-h,e-h,n+h);t=n+s;for(var l=a;l>0;l--){var f=r.children[l-1];if(f.size&&f.dom.parentNode==r.contentDOM&&!f.emptyChildAt(1)){o=De(f.dom)+1;break}t-=f.size}o==-1&&(o=0)}if(o>-1&&e<=p){e=n+p;for(var u=a+1;u<this.children.length;u++){var d=r.children[u];if(d.size&&d.dom.parentNode==r.contentDOM&&!d.emptyChildAt(-1)){i=De(d.dom);break}e+=d.size}i==-1&&(i=r.contentDOM.childNodes.length);break}s=p}return{node:this.contentDOM,from:t,to:e,fromOffset:o,toOffset:i}},Le.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},Le.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},Le.prototype.setSelection=function(t,e,n,r){for(var o=this,i=Math.min(t,e),s=Math.max(t,e),a=0,c=0;a<this.children.length;a++){var p=o.children[a],h=c+p.size;if(i>c&&s<h)return p.setSelection(t-c-p.border,e-c-p.border,n,r);c=h}var l=this.domFromPos(t),f=this.domFromPos(e),u=n.getSelection(),d=document.createRange();if(r||!Re(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Re(f.node,f.offset,u.focusNode,u.focusOffset)){if(u.extend)d.setEnd(l.node,l.offset),d.collapse(!1);else{if(t>e){var m=l;l=f,f=m}d.setEnd(f.node,f.offset),d.setStart(l.node,l.offset)}u.removeAllRanges(),u.addRange(d),u.extend&&u.extend(f.node,f.offset)}},Le.prototype.ignoreMutation=function(t){return!this.contentDOM},qe.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Le.prototype.markDirty=function(t,e){for(var n=this,r=0,o=0;o<this.children.length;o++){var i=n.children[o],s=r+i.size;if(r==s?t<=s&&e>=r:t<s&&e>r){var a=r+i.border,c=s-i.border;if(t>=a&&e<=c)return n.dirty=t==r||e==s?$e:je,void(t==a&&e==c&&i.contentLost?i.dirty=Je:i.markDirty(t-a,e-a));i.dirty=Je}r=s}this.dirty=$e},Object.defineProperties(Le.prototype,qe);var We=[],Ke=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o})),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,We,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return this.dirty==Ve&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},Object.defineProperties(e.prototype,n),e}(Le),He=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){for(var e,n=this.dom.firstChild;n;n=n.nextSibling){var r=void 0;if(3==n.nodeType){var o=n.nodeValue.replace(/\ufeff/g,"");if(!o)continue;r=document.createTextNode(o)}else{if("\ufeff"==n.textContent)continue;r=n.cloneNode(!0)}e||(e=document.createDocumentFragment()),e.appendChild(r)}return e?{skip:e}:t.prototype.parseRule.call(this)},e.prototype.ignoreMutation=function(){return!1},e}(Ke),Ue=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=xe.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=Je&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=Ve){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ve}},e}(Le),Ge=function(t){function e(e,n,r,o,i,s,a,c,p){t.call(this,e,n.isLeaf?We:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(c,p)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{},border:{}};return e.create=function(t,n,r,o,i,s){var a,c=i.nodeViews[n.type.name],p=c&&c(n,i,function(){return a?a.parent?a.parent.posBeforeChild(a):void 0:s},r),h=p&&p.dom,l=p&&p.contentDOM;if(n.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(n.text);else if(!h){var f;f=xe.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n)),h=f.dom,l=f.contentDOM}l||n.isText||"BR"==h.nodeName||(h.hasAttribute("contenteditable")||(h.contentEditable=!1),n.type.spec.draggable&&(h.draggable=!0));var u=h;return h=z(h,r,n),p?a=new Qe(t,n,r,o,h,l,u,p,i,s+1):n.isText?new Xe(t,n,r,o,h,u,i):new e(t,n,r,o,h,l,u,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?xe.Fragment.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==Ve&&t.eq(this.node)&&I(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=new tn(this),o=this.node.inlineContent;V(this.node,this.innerDeco,function(i,s){i.spec.marks?r.syncToMarks(i.spec.marks,o,t):i.type.side>=0&&r.syncToMarks(s==n.node.childCount?xe.Mark.none:n.node.child(s).marks,o,t),r.placeWidget(i,t,e)},function(n,i,s,a){r.syncToMarks(n.marks,o,t),r.findNodeMatch(n,i,s,a)||r.updateNextNode(n,i,s,t,a)||r.addNode(n,i,s,t,e),e+=n.nodeSize}),r.syncToMarks(We,o,t),this.node.isTextblock&&r.addTextblockHacks(),r.destroyRest(),(r.changed||this.dirty==$e)&&this.renderChildren()},e.prototype.renderChildren=function(){D(this.contentDOM,this.children,e.is),ke.ios&&j(this.dom)},e.prototype.update=function(t,e,n,r){return!(this.dirty==Je||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Ve},e.prototype.updateOuterDeco=function(t){if(!I(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=R(this.dom,this.nodeDOM,A(this.outerDeco,this.node,e),A(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(e.prototype,n),e}(Le),Xe=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){var t=this.nodeDOM.parentNode;return t?{skip:t}:{ignore:!0}},e.prototype.update=function(t,e){return!(this.dirty==Je||this.dirty!=Ve&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==Ve&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text),this.node=t,this.dirty=Ve,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type},e}(Ge),Ye=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return this.dirty==Ve},e}(Le),Qe=function(t){function e(e,n,r,o,i,s,a,c,p,h){t.call(this,e,n,r,o,i,s,a,p,h),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(this.dirty==Je)return!1;if(this.spec.update){var i=this.spec.update(e,n);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(Ge);E.prototype=Object.create(null);var Ze=[new E],tn=function(t){this.top=t,this.index=0,this.stack=[],this.changed=!1,this.preMatched=_(t.node.content,t.children)};tn.prototype.destroyBetween=function(t,e){var n=this;if(t!=e){for(var r=t;r<e;r++)n.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}},tn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},tn.prototype.syncToMarks=function(t,e,n){for(var r=this,o=0,i=this.stack.length>>1,s=Math.min(i,t.length);o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<i;)r.destroyRest(),r.top.dirty=Ve,r.index=r.stack.pop(),r.top=r.stack.pop(),i--;for(;i<t.length;){r.stack.push(r.top,r.index+1);for(var a=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(r.top.children[c].matchesMark(t[i])){a=c;break}if(a>-1)a>r.index&&(r.changed=!0,r.top.children.splice(r.index,a-r.index)),r.top=r.top.children[r.index];else{var p=Ue.create(r.top,t[i],e,n);r.top.children.splice(r.index,0,p),r.top=p,r.changed=!0}r.index=0,i++}},tn.prototype.findNodeMatch=function(t,e,n,r){var o=this,i=-1,s=r<0?void 0:this.preMatched[r],a=this.top.children;if(s&&s.matchesNode(t,e,n))i=a.indexOf(s);else for(var c=this.index,p=Math.min(a.length,c+5);c<p;c++){var h=a[c];if(h.matchesNode(t,e,n)&&o.preMatched.indexOf(h)<0){i=c;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},tn.prototype.updateNextNode=function(t,e,n,r,o){if(this.index==this.top.children.length)return!1;var i=this.top.children[this.index];if(i instanceof Ge){var s=this.preMatched.indexOf(i);if(s>-1&&s!=o)return!1;var a=i.dom;if(i.update(t,e,n,r))return i.dom!=a&&(this.changed=!0),this.index++,!0}return!1},tn.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,Ge.create(this.top,t,e,n,r,o)),this.changed=!0},tn.prototype.placeWidget=function(t,e,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(t))this.index++;else{var r=new(t.spec.isCursorWrapper?He:Ke)(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}},tn.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof Ue;)t=t.children[t.children.length-1];if(!t||!(t instanceof Xe)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new Ye(this.top,We,e,null)),this.changed=!0}};var en=function(t,e,n){this.prev=t,this.mapping=e,this.state=n},nn=function(t){this.seen=[new en(null,null,t)],Se.EditorState.addApplyListener(this.track=this.track.bind(this))};nn.prototype.destroy=function(){Se.EditorState.removeApplyListener(this.track)},nn.prototype.find=function(t){for(var e=this,n=this.seen.length-1;n>=0;n--){var r=e.seen[n];if(r.state==t)return r}},nn.prototype.track=function(t,e,n){var r=this.seen.length<200?this.find(t):null;r&&this.seen.push(new en(r,e.docChanged?e.mapping:null,n))},nn.prototype.getMapping=function(t,e){var n=this.find(t);if(!n)return null;for(var r=[],o=n;o;o=o.prev)o.mapping&&r.push(o.mapping);for(var i=e||new be.Mapping,s=r.length-1;s>=0;s--)i.appendMapping(r[s]);return i};var rn=function(t){var e=this;this.view=t,this.lastAnchorNode=this.lastHeadNode=this.lastAnchorOffset=this.lastHeadOffset=null,this.lastSelection=t.state.selection,this.ignoreUpdates=!1,this.suppressUpdates=!1,this.poller=nt(this),this.focusFunc=function(){return e.poller.start(ht(e.view))}.bind(this),this.blurFunc=this.poller.stop,t.dom.addEventListener("focus",this.focusFunc),t.dom.addEventListener("blur",this.blurFunc),t.editable||this.poller.start(!1)};rn.prototype.destroy=function(){this.view.dom.removeEventListener("focus",this.focusFunc),this.view.dom.removeEventListener("blur",this.blurFunc),this.poller.stop()},rn.prototype.poll=function(t){this.poller.poll(t)},rn.prototype.editableChanged=function(){this.view.editable?ht(this.view)||this.poller.stop():this.poller.start()},rn.prototype.domChanged=function(){var t=this.view.root.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastHeadNode||t.focusOffset!=this.lastHeadOffset},rn.prototype.storeDOMState=function(t){var e=this.view.root.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastHeadNode=e.focusNode,this.lastHeadOffset=e.focusOffset,this.lastSelection=t},rn.prototype.clearDOMState=function(){this.lastAnchorNode=this.lastSelection=null},rn.prototype.readFromDOM=function(t){if(!this.ignoreUpdates&&this.domChanged()&&ht(this.view)){if(this.suppressUpdates)return rt(this.view);if(this.view.inDOMChange||this.view.domObserver.flush(),!this.view.inDOMChange){var e,n,r=this.view.root.getSelection(),o=this.view.state.doc,i=this.view.docView.nearestDesc(r.focusNode),s=i&&0==i.size,a=this.view.docView.posFromDOM(r.focusNode,r.focusOffset),c=o.resolve(a);if(ze(r)){for(e=c;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&Se.NodeSelection.isSelectable(i.node)&&i.parent){var p=i.posBefore;n=new Se.NodeSelection(a==p?c:o.resolve(p))}}else e=o.resolve(this.view.docView.posFromDOM(r.anchorNode,r.anchorOffset));if(!n){var h="pointer"==t||this.view.state.selection.head<c.pos&&!s?1:-1;n=pt(this.view,e,c,h)}if(this.view.state.selection.eq(n))rt(this.view);else{var l=this.view.state.tr.setSelection(n);"pointer"==t?l.setMeta("pointer",!0):"key"==t&&l.scrollIntoView(),this.view.dispatch(l)}}}};var on=function(t){var e=this;this.listening=!1,this.curOrigin=null,this.originTime=0,this.reader=t,this.readFunc=function(){return t.readFromDOM(e.originTime>Date.now()-50?e.curOrigin:null)}};on.prototype.poll=function(t){this.curOrigin=t,this.originTime=Date.now()},on.prototype.start=function(t){if(!this.listening){var e=this.reader.view.dom.ownerDocument;e.addEventListener("selectionchange",this.readFunc),this.listening=!0,t&&this.readFunc()}},on.prototype.stop=function(){if(this.listening){var t=this.reader.view.dom.ownerDocument;t.removeEventListener("selectionchange",this.readFunc),this.listening=!1}};var sn=function(t){this.polling=null,this.reader=t,this.pollFunc=this.doPoll.bind(this,null)};sn.prototype.doPoll=function(t){var e=this.reader.view;e.focused||!e.editable?(this.reader.readFromDOM(t),this.polling=setTimeout(this.pollFunc,100)):this.polling=null},sn.prototype.poll=function(t){clearTimeout(this.polling),this.polling=setTimeout(t?this.doPoll.bind(this,t):this.pollFunc,0)},sn.prototype.start=function(){null==this.polling&&this.poll()},sn.prototype.stop=function(){clearTimeout(this.polling),this.polling=null};var an=ke.safari||ke.chrome&&ke.chrome_version<63,cn=function zn(t,e){var n=this;this.view=t,this.state=t.state,this.composing=e,this.compositionEndedAt=null,this.from=this.to=null,this.typeOver=!1,this.timeout=e?null:setTimeout(function(){return n.finish()},zn.commitTimeout),this.trackMappings=new nn(t.state),this.mapping=new be.Mapping,this.mappingTo=t.state};cn.prototype.addRange=function(t,e){null==this.from?(this.from=t,this.to=e):(this.from=Math.min(t,this.from),this.to=Math.max(e,this.to))},cn.prototype.changedRange=function(){if(null==this.from)return wt(this.state.selection);var t=this.state.doc.resolve(Math.min(this.from,this.state.selection.from)),e=this.state.doc.resolve(this.to),n=t.sharedDepth(this.to);return{from:t.before(n+1),to:e.after(n+1)}},cn.prototype.markDirty=function(t){null==this.from?this.view.docView.markDirty((t=t||this.changedRange()).from,t.to):this.view.docView.markDirty(this.from,this.to)},cn.prototype.stateUpdated=function(t){return this.trackMappings.getMapping(t,this.mapping)?(this.trackMappings.destroy(),this.trackMappings=new nn(t),this.mappingTo=t,!0):(this.markDirty(),this.destroy(),!1)},cn.prototype.finish=function(t){if(clearTimeout(this.timeout),!this.composing||t){this.view.domObserver.flush();var e=this.changedRange();this.markDirty(e),this.destroy();var n=this.state.selection,r=this.typeOver&&n instanceof Se.TextSelection&&!n.empty&&n.$head.sameParent(n.$anchor);xt(this.view,this.mapping,this.state,e,r),this.view.docView.dirty&&this.view.updateState(this.view.state)}},cn.prototype.destroy=function(){clearTimeout(this.timeout),this.trackMappings.destroy(),this.view.inDOMChange=null},cn.prototype.compositionEnd=function(t){var e=this;this.composing&&(this.composing=!1,t&&(this.compositionEndedAt=t.timeStamp),this.timeout=setTimeout(function(){return e.finish()},50))},cn.prototype.ignoreKeyDownOnCompositionEnd=function(t){return!!(ke.safari&&null!==this.compositionEndedAt&&Math.abs(t.timeStamp-this.compositionEndedAt)<500)&&(this.compositionEndedAt=null,!0)},cn.start=function(t,e){return t.inDOMChange?e&&(clearTimeout(t.inDOMChange.timeout),t.inDOMChange.composing=!0,t.inDOMChange.compositionEndedAt=null):t.inDOMChange=new cn(t,e),t.inDOMChange},cn.commitTimeout=20;var pn={thead:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},hn=null,ln={childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0},fn=ke.ie&&ke.ie_version<=11,un=function(t){var e=this;this.view=t,this.observer=window.MutationObserver&&new window.MutationObserver(function(t){return e.registerMutations(t)}),fn&&(this.onCharData=function(t){return e.registerMutation({target:t.target,type:"characterData",oldValue:t.prevValue})})};un.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,ln),fn&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData)},un.prototype.stop=function(){this.observer&&(this.flush(),this.observer.disconnect()),fn&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)},un.prototype.flush=function(){this.observer&&this.registerMutations(this.observer.takeRecords())},un.prototype.registerMutations=function(t){for(var e=this,n=0;n<t.length;n++)e.registerMutation(t[n])},un.prototype.registerMutation=function(t){if(this.view.editable){var e=this.view.docView.nearestDesc(t.target);if(("attributes"!=t.type||e!=this.view.docView&&"contenteditable"!=t.attributeName)&&e&&!e.ignoreMutation(t)){var n,r;if("childList"==t.type){var o=t.previousSibling&&t.previousSibling.parentNode==t.target?De(t.previousSibling)+1:0;if(o==-1)return;n=e.localPosFromDOM(t.target,o,-1);var i=t.nextSibling&&t.nextSibling.parentNode==t.target?De(t.nextSibling):t.target.childNodes.length;if(i==-1)return;r=e.localPosFromDOM(t.target,i,1)}else"attributes"==t.type?(n=e.posAtStart-e.border,r=e.posAtEnd+e.border):(n=e.posAtStart,r=e.posAtEnd,t.target.nodeValue==t.oldValue&&(cn.start(this.view).typeOver=!0));cn.start(this.view).addRange(n,r)}}};var dn={},mn={};mn.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,t.inDOMChange){if(t.inDOMChange.composing)return;if(t.inDOMChange.ignoreKeyDownOnCompositionEnd(e))return;t.inDOMChange.finish()}t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),t.someProp("handleKeyDown",function(n){return n(t,e)})||et(t,e)?e.preventDefault():t.selectionReader.poll("key")},mn.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},mn.keypress=function(t,e){if(!(t.inDOMChange||!e.charCode||e.ctrlKey&&!e.altKey||ke.mac&&e.metaKey)){if(t.someProp("handleKeyPress",function(n){return n(t,e)}))return void e.preventDefault();var n=t.state.selection;if(!(n instanceof Se.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(e){return e(t,n.$from.pos,n.$to.pos,r)})||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var vn=ke.mac?"metaKey":"ctrlKey";dn.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Xt(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&$t(e,t.lastClick)&&!e[vn]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(jt(e));i&&("singleClick"==o?t.mouseDown=new yn(t,i,e,n):("doubleClick"==o?Ht:Ut)(t,i.pos,i.inside,e)?e.preventDefault():t.selectionReader.poll("pointer"))};var yn=function(t,e,n,r){var o=this;this.view=t,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[vn],this.allowDefault=n.shiftKey;var i,s;if(e.inside>-1)i=t.state.doc.nodeAt(e.inside),s=e.inside;else{var a=t.state.doc.resolve(e.pos);i=a.parent,s=a.depth?a.before():0}this.mightDrag=null;var c=r?null:n.target,p=c?t.docView.nearestDesc(c,!0):null;this.target=p?p.dom:null,(i.type.spec.draggable&&i.type.spec.selectable!==!1||t.state.selection instanceof Se.NodeSelection&&s==t.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&ke.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){return o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),t.selectionReader.poll("pointer")};yn.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},yn.prototype.up=function(t){this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)&&(this.allowDefault?(ke.ie&&ut(this.view.state)&&this.view.updateState(this.view.state),
this.view.selectionReader.poll("pointer")):Kt(this.view,this.pos.pos,this.pos.inside,t,this.selectNode)?t.preventDefault():!this.flushed&&(!ke.chrome||this.view.state.selection instanceof Se.TextSelection||this.pos.pos!=this.view.state.selection.from&&this.pos.pos!=this.view.state.selection.to)?this.view.selectionReader.poll("pointer"):(Lt(this.view,Se.Selection.near(this.view.state.doc.resolve(this.pos.pos)),"pointer"),t.preventDefault()))},yn.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),this.view.selectionReader.poll("pointer")},dn.touchdown=function(t){Xt(t),t.selectionReader.poll("pointer")},dn.contextmenu=function(t){return Xt(t)},mn.compositionstart=mn.compositionupdate=function(t){cn.start(t,!0)},mn.compositionend=function(t,e){if(!t.inDOMChange){if(!e.data)return;cn.start(t,!0)}t.inDOMChange.compositionEnd(e)},mn.input=function(t){var e=cn.start(t);e.composing||e.finish()};var gn=ke.ie&&ke.ie_version<15||ke.ios&&ke.webkit_version<604;dn.copy=mn.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=gn?null:e.clipboardData,i=n.content(),s=Ct(t,i),a=s.dom,c=s.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):Yt(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},mn.paste=function(t,e){var n=gn?null:e.clipboardData;n&&(te(t,n.getData("text/plain"),n.getData("text/html"),e)||n.files.length>0)?e.preventDefault():Zt(t,e)};var wn=function(t,e){this.slice=t,this.move=e},xn=ke.mac?"altKey":"ctrlKey";dn.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(jt(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof Se.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(Se.NodeSelection.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);if(!i||!i.node.type.spec.draggable||i==t.docView)return;t.dispatch(t.state.tr.setSelection(Se.NodeSelection.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=Ct(t,s),c=a.dom,p=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(gn?"Text":"text/html",c.innerHTML),gn||e.dataTransfer.setData("text/plain",p),t.dragging=new wn(s,(!e[xn]))}},dn.dragend=function(t){window.setTimeout(function(){return t.dragging=null},50)},mn.dragover=mn.dragenter=function(t,e){return e.preventDefault()},mn.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(jt(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||Tt(t,e.dataTransfer.getData(gn?"Text":"text/plain"),gn?null:e.dataTransfer.getData("text/html"),!1,o);if(i&&(e.preventDefault(),!t.someProp("handleDrop",function(r){return r(t,e,i,n&&n.move)}))){var s=i?be.dropPoint(t.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var a=t.state.tr;n&&n.move&&a.deleteSelection();var c=a.mapping.map(s),p=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,h=a.doc;if(p?a.replaceRangeWith(c,c,i.content.firstChild):a.replaceRange(c,c,i),!a.doc.eq(h)){var l=a.doc.resolve(c);p&&Se.NodeSelection.isSelectable(i.content.firstChild)&&l.nodeAfter&&l.nodeAfter.sameMarkup(i.content.firstChild)?a.setSelection(new Se.NodeSelection(l)):a.setSelection(pt(t,l,a.doc.resolve(a.mapping.map(s)))),t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))}}}}}},dn.focus=function(t){t.focused||(t.dom.classList.add("ProseMirror-focused"),t.focused=!0)},dn.blur=function(t){t.focused&&(t.dom.classList.remove("ProseMirror-focused"),t.focused=!1)},dn.beforeinput=function(t,e){if(ke.chrome&&ke.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(e){return e(t,s(8,"Backspace"))}))){var e=t.state.selection,r=e.$cursor;r&&r.pos>0&&t.dispatch(t.state.tr["delete"](r.pos-1,r.pos).scrollIntoView())}},50)}};for(var Sn in mn)dn[Sn]=mn[Sn];var bn=function(t,e){this.spec=e||Nn,this.side=this.spec.side||0,this.toDOM=t};bn.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos,s=o.deleted;return s?null:new On(i-n,i-n,this)},bn.prototype.valid=function(){return!0},bn.prototype.eq=function(t){return this==t||t instanceof bn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ee(this.spec,t.spec))};var kn=function(t,e){this.spec=e||Nn,this.attrs=t};kn.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new On(o,i,this)},kn.prototype.valid=function(t,e){return e.from<e.to},kn.prototype.eq=function(t){return this==t||t instanceof kn&&ee(this.attrs,t.attrs)&&ee(this.spec,t.spec)},kn.is=function(t){return t.type instanceof kn};var Mn=function(t,e){this.spec=e||Nn,this.attrs=t};Mn.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new On(o.pos-n,i.pos-n,this)},Mn.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Mn.prototype.eq=function(t){return this==t||t instanceof Mn&&ee(this.attrs,t.attrs)&&ee(this.spec,t.spec)};var On=function(t,e,n){this.from=t,this.to=e,this.type=n},Cn={spec:{}};On.prototype.copy=function(t,e){return new On(t,e,this.type)},On.prototype.eq=function(t){return this.type.eq(t.type)&&this.from==t.from&&this.to==t.to},On.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},On.widget=function(t,e,n){return new On(t,t,new bn(e,n))},On.inline=function(t,e,n,r){return new On(t,e,new kn(n,r))},On.node=function(t,e,n,r){return new On(t,e,new Mn(n,r))},Cn.spec.get=function(){return this.type.spec},Object.defineProperties(On.prototype,Cn);var Tn=[],Nn={},Dn=function(t,e){this.local=t&&t.length?t:Tn,this.children=e&&e.length?e:Tn};Dn.create=function(t,e){return e.length?ae(e,t,0,Nn):En},Dn.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Dn.prototype.findInner=function(t,e,n,r,o){for(var i=this,s=0;s<this.local.length;s++){var a=i.local[s];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var c=0;c<this.children.length;c+=3)if(i.children[c]<e&&i.children[c+1]>t){var p=i.children[c]+1;i.children[c+2].findInner(t-p,e-p,n,r+p,o)}},Dn.prototype.map=function(t,e,n){return this==En||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Nn)},Dn.prototype.mapInner=function(t,e,n,r,o){for(var i,s=this,a=0;a<this.local.length;a++){var c=s.local[a].map(t,n,r);c&&c.type.valid(e,c)?(i||(i=[])).push(c):o.onRemove&&o.onRemove(s.local[a].spec)}return this.children.length?ne(this.children,i,t,e,n,r,o):i?new Dn(i.sort(ce)):En},Dn.prototype.add=function(t,e){return e.length?this==En?Dn.create(t,e):this.addInner(t,e,0):this},Dn.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach(function(t,s){var a,c=s+n;if(a=ie(e,t,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,c+1):r.splice(i,0,s,s+t.nodeSize,ae(a,t,c+1,Nn)),i+=3}});var s=re(i?se(e):e,-n);return new Dn(s.length?this.local.concat(s).sort(ce):this.local,r||this.children)},Dn.prototype.remove=function(t){return 0==t.length||this==En?this:this.removeInner(t,0)},Dn.prototype.removeInner=function(t,e){for(var n=this,r=this.children,o=this.local,i=0;i<r.length;i+=3){for(var s=void 0,a=r[i]+e,c=r[i+1]+e,p=0,h=void 0;p<t.length;p++)(h=t[p])&&h.from>a&&h.to<c&&(t[p]=null,(s||(s=[])).push(h));if(s){r==n.children&&(r=n.children.slice());var l=r[i+2].removeInner(s,a+1);l!=En?r[i+2]=l:(r.splice(i,3),i-=3)}}if(o.length)for(var f=0,u=void 0;f<t.length;f++)if(u=t[f])for(var d=0;d<o.length;d++)o[d].type.eq(u.type)&&(o==n.local&&(o=n.local.slice()),o.splice(d--,1));return r==this.children&&o==this.local?this:o.length||r.length?new Dn(o,r):En},Dn.prototype.forChild=function(t,e){var n=this;if(this==En)return this;if(e.isLeaf)return Dn.empty;for(var r,o,i=0;i<this.children.length;i+=3)if(n.children[i]>=t){n.children[i]==t&&(r=n.children[i+2]);break}for(var s=t+1,a=s+e.content.size,c=0;c<this.local.length;c++){var p=n.local[c];if(p.from<a&&p.to>s&&p.type instanceof kn){var h=Math.max(s,p.from)-s,l=Math.min(a,p.to)-s;h<l&&(o||(o=[])).push(p.copy(h,l))}}if(o){var f=new Dn(o.sort(ce));return r?new An([f,r]):f}return r||En},Dn.prototype.eq=function(t){var e=this;if(this==t)return!0;if(!(t instanceof Dn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!e.local[n].eq(t.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(e.children[r]!=t.children[r]||e.children[r+1]!=t.children[r+1]||!e.children[r+2].eq(t.children[r+2]))return!1;return!1},Dn.prototype.locals=function(t){return pe(this.localsInner(t))},Dn.prototype.localsInner=function(t){var e=this;if(this==En)return Tn;if(t.inlineContent||!this.local.some(kn.is))return this.local;for(var n=[],r=0;r<this.local.length;r++)e.local[r].type instanceof kn||n.push(e.local[r]);return n};var En=new Dn;Dn.empty=En,Dn.removeOverlap=pe;var An=function(t){this.members=t};An.prototype.forChild=function(t,e){var n=this;if(e.isLeaf)return Dn.empty;for(var r=[],o=0;o<this.members.length;o++){var i=n.members[o].forChild(t,e);i!=En&&(i instanceof An?r=r.concat(i.members):r.push(i))}return An.from(r)},An.prototype.eq=function(t){var e=this;if(!(t instanceof An)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!e.members[n].eq(t.members[n]))return!1;return!0},An.prototype.locals=function In(t){for(var e,n=this,r=!0,o=0;o<this.members.length;o++){var In=n.members[o].localsInner(t);if(In.length)if(e){r&&(e=e.slice(),r=!1);for(var i=0;i<In.length;i++)e.push(In[i])}else e=In}return e?pe(r?e:e.sort(ce)):Tn},An.from=function(t){switch(t.length){case 0:return En;case 1:return t[0];default:return new An(t)}};var Rn=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=me(this),this.redraw=!1,this.cursorWrapper=null,de(this),this.nodeViews=ge(this),this.docView=N(this.state.doc,fe(this),le(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,zt(this),this.selectionReader=new rn(this),this.pluginViews=[],this.updatePluginViews()},Pn={props:{},root:{}};Pn.props.get=function(){var t=this;if(this._props.state!=this.state){var e=this._props;this._props={};for(var n in e)t._props[n]=e[n];this._props.state=this.state}return this._props},Rn.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ft(this),this._props=t;var e=ge(this);we(e,this.nodeViews)&&(this.nodeViews=e,this.redraw=!0),this.updateState(t.state)},Rn.prototype.setProps=function(t){var e=this,n={};for(var r in e._props)n[r]=e._props[r];n.state=this.state;for(var o in t)n[o]=t[o];this.update(n)},Rn.prototype.updateState=function(t){var e=this,n=this.state;if(this.state=t,n.plugins!=t.plugins&&Ft(this),this.domObserver.flush(),!this.inDOMChange||!this.inDOMChange.stateUpdated(t)){var r=this.editable;this.editable=me(this),de(this);var o=le(this),i=fe(this),s=n.config!=t.config?"reset":t.scrollToSelection>n.scrollToSelection?"to selection":"preserve",a=this.redraw||!this.docView.matchesNode(t.doc,i,o),c=a||!t.selection.eq(n.selection)||this.selectionReader.domChanged(),f="preserve"==s&&c&&h(this);if(c){this.domObserver.stop();var u=!1;if(a){var d=ke.chrome&&ve(this.root);!this.redraw&&this.docView.update(t.doc,i,o,this)||(this.docView.destroy(),this.docView=N(t.doc,i,o,this.dom,this),this.redraw=!1),this.selectionReader.clearDOMState(),d&&(u=ye(d,this.root))}u||!(this.mouseDown&&this.selectionReader.domChanged()&&dt(this))?rt(this,!1,u):at(this,t.selection),this.domObserver.start()}if(r!=this.editable&&this.selectionReader.editableChanged(),this.updatePluginViews(n),"reset"==s)this.dom.scrollTop=0;else if("to selection"==s){var m=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(t){return t(e)})||(t.selection instanceof Se.NodeSelection?p(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),m):p(this,this.coordsAtPos(t.selection.head),m))}else f&&l(f)}},Rn.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Rn.prototype.updatePluginViews=function(t){var e=this,n=this.state.plugins;if(t&&t.plugins==n)for(var r=0;r<this.pluginViews.length;r++){var o=e.pluginViews[r];o.update&&o.update(e,t)}else{this.destroyPluginViews();for(var i=0;i<n.length;i++){var s=n[i];s.spec.view&&e.pluginViews.push(s.spec.view(e))}}},Rn.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var s=o[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},Rn.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Rn.prototype.focus=function(){this.domObserver.stop(),rt(this,!0),this.domObserver.start(),this.editable&&this.dom.focus()},Pn.root.get=function(){var t=this,e=this._root;if(null==e)for(var n=this.dom.parentNode;n;n=n.parentNode)if(9==n.nodeType||11==n.nodeType&&n.host)return t._root=n;return e||document},Rn.prototype.posAtCoords=function(t){var e=w(this,t);return this.inDOMChange&&e&&(e.pos=this.inDOMChange.mapping.map(e.pos),e.inside!=-1&&(e.inside=this.inDOMChange.mapping.map(e.inside))),e},Rn.prototype.coordsAtPos=function(t){return this.inDOMChange&&(t=this.inDOMChange.mapping.invert().map(t)),S(this,t)},Rn.prototype.domAtPos=function(t){return this.inDOMChange&&(t=this.inDOMChange.mapping.invert().map(t)),this.docView.domFromPos(t)},Rn.prototype.nodeDOM=function(t){this.inDOMChange&&(t=this.inDOMChange.mapping.invert().map(t));var e=this.docView.descAt(t);return e?e.nodeDOM:null},Rn.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return this.inDOMChange&&(r=this.inDOMChange.mapping.map(r)),r},Rn.prototype.endOfTextblock=function(t,e){return T(this,e||this.state,t)},Rn.prototype.destroy=function(){this.docView&&(It(this),this.destroyPluginViews(),this.selectionReader.destroy(),this.mounted?(this.docView.update(this.state.doc,[],le(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Rn.prototype.dispatchEvent=function(t){return Vt(this,t)},Rn.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Rn.prototype,Pn),n.EditorView=Rn,n.Decoration=On,n.DecorationSet=Dn,n.__serializeForClipboard=Ct,n.__parseFromClipboard=Tt},{"prosemirror-model":4,"prosemirror-state":5,"prosemirror-transform":6}],8:[function(t,e,n){var r=200,o=function(){};o.prototype.append=function(t){return t.length?(t=o.from(t),!this.length&&t||t.length<r&&this.leafAppend(t)||this.length<r&&t.leafPrepend(this)||this.appendInner(t)):this},o.prototype.prepend=function(t){return t.length?o.from(t).append(this):this},o.prototype.appendInner=function(t){return new s(this,t)},o.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?o.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},o.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},o.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},o.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(e,n){return r.push(t(e,n))},e,n),r},o.from=function(t){return t instanceof o?t:t&&t.length?new i(t):o.empty};var i=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{},depth:{}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=this,i=e;i<n;i++)if(t(o.values[i],r+i)===!1)return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=this,i=e-1;i>=n;i--)if(t(o.values[i],r+i)===!1)return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=r)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=r)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(o);o.empty=new i([]);var s=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&this.left.forEachInner(t,e,Math.min(n,o),r)===!1)&&(!(n>o&&this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o)===!1)&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o)===!1)&&(!(n<o&&this.left.forEachInvertedInner(t,Math.min(e,o),n,r)===!1)&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(o);e.exports=o},{}]},{},[1]);
//# sourceMappingURL=prosemirror-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:trace', location = 'jira-issue-navigator-components-module/util/trace.js' */
define("jira/components/utils/trace",function(){"use strict";return function(){return window.JIRA.trace.apply(window.JIRA,arguments)}});
//# sourceMappingURL=trace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/util.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issues&&(JIRA.Templates.Issues={}),"undefined"==typeof JIRA.Templates.Issues.ComponentUtil&&(JIRA.Templates.Issues.ComponentUtil={}),JIRA.Templates.Issues.ComponentUtil.throbber=function(e,s){return'<div class="icon throbber" />'},JIRA.Templates.Issues.ComponentUtil.simpleLink=function(e,s){return"<a"+(e.link.id?' id="'+soy.$$escapeHtml(e.link.id)+'"':"")+'href="'+(e.link.href?soy.$$escapeHtml(e.link.href):"#")+'"'+(e.link.styleClass||e.additionalStyleClass?'class="'+soy.$$escapeHtml(e.link.styleClass)+(e.additionalStyleClass?" "+soy.$$escapeHtml(e.additionalStyleClass):"")+'"':"")+(e.link.title?'title="'+soy.$$escapeHtml(e.link.title)+'"':"")+"><span>"+soy.$$escapeHtml(e.link.label)+"</span></a>"},JIRA.Templates.Issues.ComponentUtil.issueNotFound=function(e,s){return""+soy.$$filterNoAutoescape(AJS.format("issues.components.query.search.selected.issue.nonexistent.html",e.issueAnchor))},JIRA.Templates.Issues.ComponentUtil.issueAnchor=function(e,s){return'<a class="issue-key" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issueKey)+'"> '+soy.$$escapeHtml(e.issueKey)+" </a>"},JIRA.Templates.Issues.ComponentUtil.buildMessage=function(e,s){var t="";if(1==e.messages.length)t+=soy.$$escapeHtml(e.messages[0]);else{t+="<ul>";for(var n=e.messages,a=n.length,o=0;o<a;o++){var l=n[o];t+="<li>"+soy.$$escapeHtml(l)+"</li>"}t+="</ul>"}return t},JIRA.Templates.Issues.ComponentUtil.auiMessage=function(e,s){return""+(e.messages.length>0?'<div class="aui-message '+soy.$$escapeHtml(e.typeClass)+'"><span class="aui-icon icon-'+soy.$$escapeHtml(e.typeClass)+'"></span>'+JIRA.Templates.Issues.ComponentUtil.buildMessage(e)+"</div>":"")},JIRA.Templates.Issues.ComponentUtil.errorMessage=function(e,s){return e=e||{},""+JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass:"error",messages:e.messages?e.messages:[e.msg]})},JIRA.Templates.Issues.ComponentUtil.warningMessage=function(e,s){return e=e||{},""+JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass:"warning",messages:e.messages?e.messages:[e.msg]})},JIRA.Templates.Issues.ComponentUtil.anonymousErrorDialog=function(e,s){return'<div class="aui-dialog-content"><div class="form-body"><h2 class="dialog-title">'+soy.$$escapeHtml("Session Expired")+"</h2>"+JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass:"warning",messages:["It looks like your session has timed out, or you have been logged out of Jira. You will need to log back in to continue."]})+'</div><div class="buttons-container form-footer"><div class="buttons"><a accesskey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button submit" href="'+soy.$$escapeHtml(AJS.contextPath())+"/login.jsp?os_destination="+soy.$$escapeHtml(e.redirect)+'">'+soy.$$escapeHtml("Log in again")+'</a><a accesskey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="aui-button aui-button-link cancel">'+soy.$$escapeHtml("Ignore")+"</a></div></div></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/SingleSelectMixin.js' */
define("jira/components/query/mixin/singleselect",function(){"use strict";return{namedAttributes:["collection"],selectById:function(e){this.setSelected(this.getCollection().get(e))},selectAt:function(e){this.setSelected(this.getCollection().at(e))},clearSelection:function(){this.setSelected()},next:function(){var e=this.getSelected(),t=this.getCollection();if(e){var i=t.indexOf(e),l=(i+1)%t.length;this.setSelected(t.at(l))}else t.length>0&&this.setSelected(t.first())},prev:function(){var e=this.getSelected(),t=this.getCollection();if(e){var i=t.indexOf(e),l=(i+t.length-1)%t.length;this.setSelected(t.at(l))}else t.length>0&&this.setSelected(t.last())}}});
//# sourceMappingURL=SingleSelectMixin-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/query-basic.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNavQueryBasic&&(JIRA.Templates.IssueNavQueryBasic={}),JIRA.Templates.IssueNavQueryBasic.basicQueryView=function(e,t){return'<div class="search-field-container">'+(e.hasOrderBy?'<div class="list-ordering-container"><div class="list-ordering"></div></div>':"")+'<div class="search-criteria-container"><div class="search-criteria"><ul class="criteria-list">'+(e.isNewGINStylingEnabled?'<li class="criteria-actions new-gin-styling"></li>':"")+'<li class="text-query hidden"><div class="text-query-container '+(e.isNewGINStylingEnabled?"new-gin-styling":"")+'"><input class="search-entry text ajs-dirty-warning-exempt" id="searcher-query" type="text" name="text" placeholder="'+soy.$$escapeHtmlAttribute("Contains text")+'" /></div></li>'+(e.isNewGINStylingEnabled?"":'<li class="criteria-actions"></li>')+(e.hasSearchButton?"<li>"+(e.isNewGINStylingEnabled?'<button class="aui-button aui-button-primary search-button active" type="button" original-title="'+soy.$$escapeHtmlAttribute("Search for issues")+'">'+soy.$$escapeHtml("Search")+"</button>":'<button class="aui-button aui-button-subtle search-button" type="button" title="'+soy.$$escapeHtmlAttribute("Search for issues")+'"><span class="aui-icon aui-icon-small aui-iconfont-search">'+soy.$$escapeHtml("Search")+"</span></button>")+"</li>":"")+'</ul></div><div class="search-criteria-extended"><ul class="criteria-list"></ul></div></div></div><div class="search-options-container"><div class="mode-switcher"></div></div>'},JIRA.Templates.IssueNavQueryBasic.criteriaButton=function(e,t){return'<button type="button" data-id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="criteria-selector aui-button aui-button-subtle drop-arrow" /><a href="#" class="remove-filter" title="'+soy.$$escapeHtmlAttribute("Remove criterion")+'" tabindex="-1"><span class="aui-icon aui-icon-small aui-iconfont-remove"></span></a>'},JIRA.Templates.IssueNavQueryBasic.criteriaButtonContent=function(e,t){return'<div class="criteria-wrap">'+(e.extended||!e.viewHtml?'<span class="fieldLabel">'+soy.$$escapeHtml(e.name)+":</span> ":"")+(e.viewHtml?soy.$$filterNoAutoescape(e.viewHtml):soy.$$escapeHtml("All"))+"</div>"},JIRA.Templates.IssueNavQueryBasic.lozengeDropdownContent=function(e,t){return'<form id="issue-filter" action="#" class="searchfilter aui top-label aui-popup-content" data-no-focus-lock="true"><div class="form-body"></div>'+(e.displayBackButton?'<a href="#" class="back">'+soy.$$escapeHtml("Back")+"</a>":"")+(e.displayUpdateCancel?'<div class="buttons-container form-footer"><div class="buttons"><input type="submit" name="filter" class="aui-button filter" value="'+soy.$$escapeHtmlAttribute("Update")+'" /><a href="#" class="aui-button aui-button-link cancel-update">'+soy.$$escapeHtml("Close")+"</a></div></div>":"")+"</form>"},JIRA.Templates.IssueNavQueryBasic.lozengeDropdownCannotEdit=function(e,t){return'<div class="searcher-no-edit-content">'+JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass:"info",messages:[AJS.format("To search by {0} please switch to advanced.",e.fieldName)]})+"</div>"},JIRA.Templates.IssueNavQueryBasic.clauseButtonView=function(e,t){return'<button type="button" class="add-criteria aui-button '+(e.isSubtle?"aui-button-subtle":"")+" "+(e.isNewGINStylingEnabled?"":"drop-arrow")+'" title="'+soy.$$escapeHtmlAttribute("Add more fields to search with")+'">'+(e.isNewGINStylingEnabled?'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M13 11h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H7a1 1 0 0 1 0-2h4V7a1 1 0 0 1 2 0v4z" id="addIcon"/></defs><g transform="translate(-6 -6)" fill="none" fill-rule="evenodd"><mask id="addIcon-mask" fill="#fff"><use xlink:href="#addIcon"/></mask><g mask="url(#addIcon-mask)" fill="currentColor"><path d="M0 24h24V0H0z"/></g></g></svg>':"")+soy.$$escapeHtml("More")+"</button>"},JIRA.Templates.IssueNavQueryBasic.searcherDropdownContent=function(e,t){for(var s='<div class="searcher-groups available"><ul>',a=e.searcherGroups,i=a.length,n=0;n<i;n++){var r=a[n];s+='<li class="twixi-block '+(0==n?"expanded":"collapsed")+'" data-id="'+soy.$$escapeHtmlAttribute(r.id)+'"><div class="twixi-trigger">'+soy.$$escapeHtml(r.name)+'</div><ul class="twixi-content">';for(var o=r.searchers,l=o.length,c=0;c<l;c++){var u=o[c];s+='<li><a href="#" data-id="'+soy.$$escapeHtmlAttribute(u.id)+'" class="searcher-option" >'+soy.$$escapeHtml(u.name)+"</a></li>"}s+="</ul></li>"}return s+='</ul><div class="buttons-container"><div class="buttons"><a href="#" class="aui-button aui-button-link">'+soy.$$escapeHtml("Close")+"</a></div></div></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/TextQueryBuilder.js' */
define("jira/components/query/basic/textquerybuilder",["require"],function(e){"use strict";var r=e("jquery");return{BACKSLASH_PATTERN:/\\/g,MULTIPLE_WHITESPACE_PATTERN:/\s+/g,QUOTE_PATTERN:/\"/g,DOUBLE_BACKSLASH:"\\\\",buildJql:function(e){return e?(e=""+e,e=r.trim(e),e=e.replace(this.BACKSLASH_PATTERN,this.DOUBLE_BACKSLASH),e=e.replace(this.MULTIPLE_WHITESPACE_PATTERN," "),e=e.replace(this.QUOTE_PATTERN,'\\"'),this.createQueryClause(e)):""},createQueryClause:function(e){return'text ~ "'+e+'"'}}});
//# sourceMappingURL=TextQueryBuilder-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/BasicQueryModule.js' */
define("jira/components/query/basic/basicquerymodule",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),r=e("jira/components/query/basic/basicqueryview"),i=e("jira/components/query/basic/searchercollection");return t.Evented.extend({namedEvents:["jqlTooComplex","searchRequested","basicModeCriteriaCountWhenSearching","verticalResize"],initialize:function(e){this._queryStateModel=e.queryStateModel,this.searcherCollection=new i([],{fixedLozenges:e.primaryClauses,queryStateModel:e.queryStateModel,initData:e.initialSearcherCollectionState,queryComponentPromise:e.queryComponentPromise,context:e.context}),this.view=new r({queryStateModel:e.queryStateModel,searcherCollection:this.searcherCollection}).onVerticalResize(this.triggerVerticalResize,this).onSearchRequested(this.triggerSearchRequested,this),this.searcherCollection.onSearchRequested(function(e){this.triggerBasicModeCriteriaCountWhenSearching({count:this.searcherCollection.getAllSelectedCriteriaCount()});var t=this._attachOrderByClause(e);this.triggerSearchRequested(t)}.bind(this)),this.searcherCollection.onJqlTooComplex(function(e){this.triggerJqlTooComplex(e)}.bind(this))},hasErrors:function(){return this.searcherCollection.any(function(e){return e.hasErrorInEditHtml()})},clear:function(){this.searcherCollection.clear()},queryChanged:function(){this.searcherCollection.restoreFromQuery(this._queryStateModel.getJql())},queryReset:function(e){return this.searcherCollection.setInteractive(!1),this.searcherCollection.restoreFromQuery(e,!0).always(function(){this.searcherCollection.setInteractive(!0)}.bind(this))},searchersReady:function(){return this.searcherCollection.searchersReady()},createView:function(){return this.view},getSelectedCriteria:function(){return this.searcherCollection.getAllSelectedCriteria()},_attachOrderByClause:function(e){var t=/\bORDER\s+BY\b.*$/i,r=t.exec(this._queryStateModel.getJql());return r&&null===t.exec(e)&&(e=e?e+" "+r[0]:r[0]),e}})});
//# sourceMappingURL=BasicQueryModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/CriteriaView.js' */
define("jira/components/query/basic/criteriaview",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jquery"),r=e("jira/components/libs/brace"),s=e("jira/components/query/templates/issuenavquerybasic"),n=e("jira/components/query/basic/searcherdialog"),a=e("jira/issues/tipsy");return r.View.extend({tagName:"li",template:s.criteriaButton,contentTemplate:s.criteriaButtonContent,events:{click:"hideTipsy","click .criteria-selector":"_onClickCriteriaSelector","click .remove-filter":"_onClickRemoveCriteria","mousedown .remove-filter":"_preventFocusWhileDisabled",keydown:"_onKeydown"},initialize:function(e){this.extended=e.extended,this.searcherCollection=e.searcherCollection,this.searcherCollection.onCollectionChanged(this.update,this),this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged,this),this.searcherCollection.bind("change:isSelected",this._onCriteriaSelectionChanged,this),n.instance.onHide(this._addTooltip.bind(this)),n.instance.onShow(this._onCriteriaDialogShow.bind(this))},render:function(){this.$el.html(this.template({id:this.model.getId()})),this.$el.attr("data-id",this.model.getId()),this.extended&&this.$el.addClass("extended-searcher"),this.update(),this.prepareForDisplay()},prepareForDisplay:function(){this._addTooltip(),this.delegateEvents()},hideTipsy:function(){this.tipsy&&this.tipsy.hide()},update:function(){var e=0===this.searcherCollection.length,t=this._getSearcher(),i=this._isValidSearcher(),r=!e&&!t||t&&!t.getIsShown(),s=e||!i,n=this.$("button"),a=this.$(".remove-filter");return this.$el.toggleClass("hidden",r),n.attr("aria-disabled",s?"true":null).html(this.contentTemplate({name:t&&t.getName()||this.model.getName(),viewHtml:t&&t.getViewHtml(),extended:this.extended})),this.$el.toggleClass("invalid-searcher",!i).toggleClass("partial-invalid-searcher",i&&0!==n.find(".invalid_sel").length),a.toggleClass("hidden",!(!i||this.extended)),this},destroy:function(){this.hideTipsy(),this.$el.remove()},_getSearcher:function(){return this.searcherCollection.get(this.model.getId())},_isValidSearcher:function(){var e=this._getSearcher();return!e||e.getValidSearcher()!==!1},_containsInvalidValue:function(e){return i(e.getViewHtml()).find(".invalid_sel").length>0},_showDialog:function(){this.searcherCollection.isInteractive()&&this._getSearcher()&&this._isValidSearcher()&&n.instance.show(this._getSearcher())},_removeCriteria:function(e){var i=this.extended||!this._isValidSearcher();this.searcherCollection.isInteractive()&&i&&(this.searcherCollection.triggerBeforeCriteriaRemoved(this.model.getId(),e),t.defer(function(){this.searcherCollection.clearClause(this.model.getId())}.bind(this)))},_getTooltipText:function(){var e,t=this.searcherCollection.get(this.model.getId());return e=this._isValidSearcher()?this._containsInvalidValue(t)?"This criteria contains invalid value(s)":t.getTooltipText():"This criteria is not valid for the project and/or issue type",t&&e||""},_addTooltip:function(){this.tipsy=new a({el:this.$el,showCondition:this.searcherCollection.isInteractive,tipsy:{title:this._getTooltipText.bind(this)}})},_handleInteractiveChanged:function(e){this.$("button, .remove-filter").attr("aria-disabled",e?null:"true")},_onClickCriteriaSelector:function(e){this.searcherCollection.isInteractive()&&this._getSearcher()&&this._isValidSearcher()&&n.instance.toggle(this._getSearcher()),e.preventDefault()},_onClickRemoveCriteria:function(e){this._removeCriteria(),e.preventDefault()},_onKeydown:function(e){switch(e.which){case i.ui.keyCode.DOWN:this._showDialog();break;case i.ui.keyCode.ESCAPE:this.$("button:focus").blur();break;case i.ui.keyCode.BACKSPACE:this._removeCriteria(-1);break;case i.ui.keyCode.DELETE:this._removeCriteria(1);break;default:return}e.preventDefault()},_onCriteriaDialogShow:function(){var e=n.instance.getCurrentSearcher();e===this._getSearcher()&&this.tipsy&&this.tipsy.remove()},_preventFocusWhileDisabled:function(e){i(e.target).closest("[aria-disabled=true]").length>0&&e.preventDefault()}})});
//# sourceMappingURL=CriteriaView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/SearcherModel.js' */
define("jira/components/query/basic/searchermodel",["require"],function(e){"use strict";var t=e("jquery"),i=e("jira/components/libs/brace"),s=e("jira/ajs/ajax/smart-ajax"),r=e("wrm/context-path"),a=e("jira/components/query/messages"),n=e("jira/featureflags/feature-manager"),l=n.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli"),o=r();return i.Model.extend({namedAttributes:["id","name","isShown","viewHtml","editHtml","groupId","groupName","initParams","isSelected","jql","position","serializedParams","validSearcher","key","lastViewed","isCollapsed","isCollapsible"],namedEvents:["readyForDisplay"],initialize:function(){this._onEditHtmlUpdated(),this.bind("change:editHtml",this._onEditHtmlUpdated,this)},parse:function(e){return e.viewHtml&&(e.viewHtml=this._cleanViewHtml(e.viewHtml)),e},_cleanViewHtml:function(e){var i=t("<div/>").appendCatchExceptions(e);return i.find(".fieldLabel").remove(),i.find("a").replaceWith(function(){return t(this).html()}),i.find(".searcherValue").slice(0,-1).each(function(){t(this).after("-")}),i.find("*").removeAttr("title"),i.html()},createOrUpdateClauseWithQueryString:function(e){return this.collection.createOrUpdateClauseWithQueryString(this.id,e)},getQueryString:function(){var e={};return this.collection.QUERY_ID===this.getId()?this.getViewHtml()?(e[this.collection.QUERY_PARAM]=this.getDisplayText(),t.param(e)):null:this.getValidSearcher()&&!/^\s*$/.test(this.getEditHtml())||!this.getJql()?this.getSerializedParams():(e={},e[this.collection.JQL_INVALID_QUERY_PREFIX+this.getId()]=this.getJql(),t.param(e))},getDisplayText:function(){var e=this.getViewHtml(),i="";if(e){var s=t("<div>").appendCatchExceptions(e);i=t.trim(s.text()).replace(/[\n\r\s]+/g," ")}return i},hasClause:function(){return this.collection.QUERY_ID===this.getId()?!!this.getViewHtml():this.getValidSearcher()?!!this.getQueryString():!!this.getJql()},clearSearchState:function(){this.set({viewHtml:null,editHtml:null,jql:null,validSearcher:null,isSelected:!1})},_now:Date.now||function(){return(new Date).getTime()},select:function(){this.set({isSelected:!0,position:this.collection.getNextPosition(),validSearcher:!0,lastViewed:this._now()})},retrieveEditHtml:function(){var e=this.collection.createJql();if(this.getEditHtml())return(new t.Deferred).resolve(this.getEditHtml());this.setEditHtml;return s.makeRequest({type:"POST",url:o+"/secure/QueryComponentRendererEdit!Default.jspa",success:l?function(){JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("retrieveSearcherDialogHtml"),this.setEditHtml.apply(this,arguments)}.bind(this):this.setEditHtml.bind(this),dataType:"html",error:function(e){l&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("retrieveSearcherDialogHtml",{reason:"retrieve-searcher-dialog-html-failed-with-status-code",statusCode:e.status}),a.displayFailSearchMessage(e)},data:{fieldId:this.getId(),decorator:"none",jqlContext:e}})},hasErrorInEditHtml:function(){var e=t("<div>").htmlCatchExceptions(this.getEditHtml());return!!e&&e.find(".error, .has-errors").length>0},clearEditHtml:function(){this.setEditHtml(null)},_onEditHtmlUpdated:function(){this.setSerializedParams(t("<form/>").appendCatchExceptions(this.getEditHtml()).serialize())},getTooltipText:function(){if(this.getValidSearcher!==!1){var e=this.getDisplayText()||"All";return this.getName()+": "+e}return "This criteria is not valid for the project and/or issue type"},searchersReady:function(){return this.collection.searchersReady()}})});
//# sourceMappingURL=SearcherModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/SearcherCollection.js' */
define("jira/components/query/basic/searchercollection",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jquery"),r=e("jira/components/libs/brace"),s=e("jira/components/query/basic/searchermodel"),a=e("jira/components/query/basic/textquerybuilder"),n=e("jira/components/util/functionalutils"),c=e("jira/ajs/ajax/smart-ajax"),o=e("jira/ajs/list/group-descriptor"),u=e("jira/ajs/list/item-descriptor"),h=e("wrm/context-path"),l=e("jira/components/utils/ajshelper"),d=e("jira/components/utils/trace"),p=e("jira/components/query/messages"),f=e("jira/featureflags/feature-manager"),S=f.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli"),g=f.isFeatureEnabled("empanada.gin-in-spa"),v=f.isFeatureEnabled("jsd.queues.editor.itsm.basic.clause.and.prefiltering.notice"),I=h();return r.Collection.extend({model:s,namedEvents:["searchRequested","collectionChanged","jqlTooComplex","textFieldChanged","requestUpdateFromView","interactiveChanged","beforeCriteriaRemoved"],QUERY_PARAM:"text",QUERY_ID:"text",JQL_INVALID_QUERY_PREFIX:"__jql_",initialize:function(e,t){e&&e.length&&(this._searcherCache=e),this.fixedLozenges=t&&t.fixedLozenges?t.fixedLozenges:[],this.queryStateModel=t&&t.queryStateModel,this.initData=t&&t.initData,this.queryComponentPromise=t&&t.queryComponentPromise,this.context=t&&t.context,this._interactive=!0},_createItemDescriptors:function(e){return t.map(e,function(e){return new u({meta:{isShown:e.isShown},label:e.name,title:e.isShown?e.name:e.name+" "+"is not applicable for the current project and/or issue type.",selected:e.isSelected||e.jql,value:e.id,className:"searcher-list-item"})})},_sortSearchersWithShownFirst:function(e,t){return e.slice(0).sort(function(e,i){var r=t(e),s=t(i);if(r===s){var a=e.isShown===!0,n=i.isShown===!0;return a===n?0:a?-1:1}return r<s?-1:1})},getAddMenuGroupDescriptors:function(){this._updateSearcherCache();var e=this.fixedLozengeIds().concat(this.QUERY_ID),i=t.filter(this._searcherCache,function(i){var r=t.contains(e,i.id),s=!!i.groupName;return!(i.isCollapsible&&!i.isCollapsed)&&(!r&&s)});if(i.length){var r=new o({label:"All Criteria",items:this._createItemDescriptors(this._sortSearchersWithShownFirst(i,function(e){return e.name.toLowerCase()}))}),s=new o({label:"Recent Criteria",items:this._createItemDescriptors(t.first(t.sortBy(t.filter(i,function(e){return e.lastViewed}),function(e){return-e.lastViewed}),10))});return[s,r]}return[]},getSearcher:function(e){var t=this.get(e);return t||(this.add(this._searcherCache[e]),t=this.get(e)),t},setJql:function(e,t){this._addOrSet(e,{jql:t})},createJql:function(){var e=this.pluck("jql");return t.filter(e,n.isNotBlank).join(" AND ")||""},isDirty:function(){return this.any(function(e){return void 0!==e.getJql()&&""!==e.getJql()})},clearSearchState:function(){this.each(function(e){e.clearSearchState()}),this._querySearchersAndValues("")},clearClause:function(e){var t=this.get(e),i=t&&t.hasClause();t&&t.clearSearchState(),this.triggerCollectionChanged(),this.triggerRequestUpdateFromView(),i&&this.triggerSearchRequested(this.createJql())},getTextQuery:function(){var e=this.get(this.QUERY_ID);return e?e.getViewHtml():""},setInteractive:function(e){e!==this._interactive&&(this._interactive=e,this.triggerInteractiveChanged(e))},isInteractive:function(){return this._interactive},handleBasicViewSubmit:function(){this.triggerRequestUpdateFromView(),this.triggerSearchRequested(this.createJql())},updateTextQuery:function(e){if(e){var t=l.escapeHtml(e);this._addOrSet(this.QUERY_ID,{viewHtml:t,editHtml:t,jql:a.buildJql(e)})}else this.remove(this.QUERY_ID);this.triggerTextFieldChanged()},getQueryString:function(){var e=[];return this.each(function(t){var i=t.getQueryString();i&&e.push(i)}),e.join("&")},_addOrSet:function(e,i,r){var s=this.get(e);if(s)r&&r.parse&&s.parse&&(i=s.parse(i),delete r.parse),i.jql&&(i.isSelected=!0),s.set(i,r);else{var a=t.clone(i);a.id=e,a.isSelected=!!i.jql,this.add(a,r),s=this.get(e)}return s},loadInitialData:function(e,t){var r=this.queryStateModel.getBasicQueryComponentParameters();r&&(e=Object.assign({},e,r));var s=i.ajax({url:I+"/secure/QueryComponent!Jql.jspa",headers:{"X-SITEMESH-OFF":!0},data:e,type:"POST"}),a=new i.Deferred;return s.success(function(e){t&&this.clearExpectingUpdate(t),S&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("updateBasicModeQueryViewWithJql"),this._onQuerySearchersAndValues(e).then(function(){return a.resolve()})}.bind(this)),s.error(function(i){var r=!1;t&&this.clearExpectingUpdate();try{var s=JSON.parse(i.responseText);if(s)if(S&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent){var n=this._handleSearcherError(e.jql,s);n&&(JIRA.Issues.Application.fireSuccessSlaEvent("updateBasicModeQueryViewWithJql"),r=!0)}else this._handleSearcherError(e.jql,s)}catch(c){S&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&(JIRA.Issues.Application.fireFailSlaEvent("updateBasicModeQueryViewWithJql",{reason:"update-basic-mode-query-view-with-jql-failed-with-status-code",statusCode:i.status}),r=!0),console.log("search response error - not JSON?")}S&&!r&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&i.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("updateBasicModeQueryViewWithJql",{reason:"update-basic-mode-query-view-with-jql-failed-with-status-code",statusCode:i.status}),a.reject()}.bind(this)),s.always(function(){d("jira.search.searchers.updated")}),a},restoreFromQuery:function(e,t){this.queryStateModel.setJql(e);var r=this._getJqlWithContext(e),s={jql:r||"",decorator:"none"};if(this.queryComponentPromise&&g){var a=new i.Deferred;return this.queryComponentPromise.then(function(e){e&&(e.errorMessages?(this._handleSearcherError(s.jql,e),a.reject()):this._onQuerySearchersAndValues(e).then(function(){return a.resolve()})),this.queryComponentPromise=null}.bind(this))["catch"](function(){a=this.loadInitialData(s,t)}.bind(this)),a}if(this.initData){if(this.initData.errorMessages)return this._handleSearcherError(s.jql,this.initData),this.initData=null,(new i.Deferred).reject();var n=this.initData;return this.initData=null,this._onQuerySearchersAndValues(n)}return this.loadInitialData(s,t)},clearExpectingUpdate:function(){this.reset(),this.updateTextQuery("")},_handleSearcherError:function(e,i){return!(!t.include(i.errorMessages,"jqlTooComplex")&&!t.include(i.errorMessages,"jqlInvalid")||(window.setTimeout(function(){this.triggerJqlTooComplex(e)}.bind(this),0),!S))||!S&&void 0},searcherAffectsContext:function(e){return"project"===e||"issuetype"===e},createOrUpdateClauseWithQueryString:function(e,t){this.triggerRequestUpdateFromView();var i;return i=this.searcherAffectsContext(e)?this._querySearchersAndValues(this.getQueryString()):this._querySearchersByValue(e),i.done(function(){!this.queryStateModel.getBasicAutoUpdate()&&!t||this.containsInvalidSearchers()||this.triggerSearchRequested(this.createJql())}.bind(this)),i},containsInvalidSearchers:function(){return this.any(function(e){return e.hasErrorInEditHtml()})},_querySearchersByValue:function(e){var r=this.get(e),s=i.param({decorator:"none",jqlContext:this.queryStateModel.getJql()});if(r){var a=r.getQueryString();a&&(s=s+"&"+a)}return this._activeSearcherReq&&this._activeSearcherReq.abort(),this._activeSearcherReq=c.makeRequest({type:"POST",data:s,processData:!1,url:I+"/secure/QueryComponentRendererValue!Default.jspa",success:function(i){S&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("searchBasicModeQueryView");var r=this.get(e);r&&(i[e]?(i[e].groupName=r.getGroupName(),i[e].groupId=r.getGroupId()):i[e]=t.extend(r.toJSON(),{editHtml:null,jql:null,viewHtml:null})),this._setSearchersFromData(i,!0)}.bind(this),dataType:"json",error:function(e){S&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("searchBasicModeQueryView",{reason:"search-basic-mode-query-view-failed-with-status-code",statusCode:e.status}),p.displayFailSearchMessage(e)}}).always(function(){this._activeSearcherReq=null}.bind(this)),this._activeSearcherReq},_parseSearcherGroups:function(e){var i={},r=this.queryStateModel.getWithout(),s=this.queryStateModel.getWithoutSearcherIds();return t.each(e.groups,function(e){t.each(e.searchers,function(a){var n=t.contains(r,a.id)||v&&t.contains(s,a.id);n||(a.groupId=e.type,a.groupName=e.title,i[a.id]=a)})}),i},_getQueryComponentParametersAsSerializedString:function(){var e=this.queryStateModel.getBasicQueryComponentParameters();return e?i.param(e):""},_querySearchersAndValues:function(e){var t="decorator=none",r=new i.Deferred;if(this._activeSearcherReq){if(this._activeSearcherQuery===e)return(new i.Deferred).reject();this._activeSearcherReq.abort()}this._activeSearcherQuery=e,e&&(t+="&"+e);var s=this._getQueryComponentParametersAsSerializedString();return""!==s&&(t+="&"+s),this._activeSearcherReq=i.ajax({url:I+"/secure/QueryComponent!Default.jspa",headers:{"X-SITEMESH-OFF":!0},type:"POST",data:t,processData:!1}),this._activeSearcherReq.done(function(e){S&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("searchBasicModeQueryView"),this._onQuerySearchersAndValues(e).then(function(){return r.resolve()})}.bind(this)),this._activeSearcherReq.fail(function(e){S&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("searchBasicModeQueryView",{reason:"search-basic-mode-query-view-failed-with-status-code",statusCode:e.status}),p.displayFailSearchMessage(e),r.reject()}),this._activeSearcherReq.always(function(){this._activeSearcherReq=null}.bind(this)),r},clear:function(){this.reset([],{silent:!0}),this.updateTextQuery(""),this.triggerCollectionChanged()},searchersReady:function(){return this._activeSearcherReq?this._activeSearcherReq:(new i.Deferred).resolve()},_onQuerySearchersAndValues:function(e){var r=this,s=this._parseSearcherGroups(e.searchers),a=this.queryStateModel.getWithout(),n=this.queryStateModel.getWithoutSearcherIds();t.each(e.values,function(e,i){var r=s[i];(t.contains(a,i)||v&&t.contains(n,i))&&(e.isShown=!1,e.validSearcher=!1,e.jql=""),r?t.extend(r,e):s[i]=e}.bind(this));var c=new i.Deferred;return window.requestAnimationFrame(function(){r._removeObsoleteSearchers(s),window.requestAnimationFrame(function(){r._setSearchersFromData(s),c.resolve()})}),c},_removeObsoleteSearchers:function(e){var t=[];this.each(function(i){var r=i.id;e[r]||(i.getIsSelected()?i.setValidSearcher(!1):t.push(i))}),t.length&&this.remove(t)},_removeObsoleteSearchersOld:function(e){var i=[];this.each(function(r){var s=r.id;t.any(e,function(e){return e.id===s})||(r.getIsSelected()?r.setValidSearcher(!1):i.push(r))}),i.length&&this.remove(i)},_updateSearcherCache:function(){this._searcherCache&&this.each(function(e){this._searcherCache[e.id]=e.toJSON(),this._searcherCache[e.id].id=e.id}.bind(this))},_setSearchersFromData:function(e,i){t.each(e,function(e,t){this._addOrSet(t,{groupId:e.groupId,groupName:e.groupName,isShown:e.isShown,name:e.name,viewHtml:e.viewHtml,jql:e.jql,editHtml:e.editHtml,validSearcher:e.validSearcher,key:e.key,lastViewed:e.lastViewed,isCollapsible:e.isCollapsible,isCollapsed:e.isCollapsed},{parse:!0})}.bind(this)),i?this._updateSearcherCache():this._searcherCache=e,this.triggerCollectionChanged(),d("jira.search.searchers.updated")},_getJqlWithContext:function(e){var t=this.context?this.context:e;return this.context&&e&&(t=this.context+" AND "+e),t},getVariableClauses:function(){var e=[];return this.each(function(t){!this.isFixed(t)&&t.hasClause()&&e.push(t)}.bind(this)),e},getSelectedCriteria:function(){var e=this,t=function(t){return!e.isFixed(t)&&(t.hasClause()||t.getIsSelected())};return this.chain().filter(t).sortBy(function(e){return e.getPosition()}).value()},getAllSelectedCriteriaCount:function(){return this.getAllSelectedCriteria().length},getAllSelectedCriteria:function(){var e=[];return this.each(function(t){(t.hasClause()||t.getIsSelected())&&e.push(t)}.bind(this)),e},isFixed:function(e){return t.contains(this.fixedLozengeIds(),e.getId())||e.getId()===this.QUERY_ID},fixedLozengeIds:function(){return t.pluck(this.fixedLozenges,"id")},getNextPosition:function(){return this.reduce(function(e,t){var i=Math.max(e,t.getPosition());return isNaN(i)?e:i},-1)+1}})});
//# sourceMappingURL=SearcherCollection-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/CriteriaModel.js' */
define("jira/components/query/basic/criteriamodel",["require"],function(e){"use strict";var r=e("jira/components/libs/brace");return r.Model.extend({namedAttributes:["id","name"]})});
//# sourceMappingURL=CriteriaModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/CardView.js' */
define("jira/components/query/basic/cardview",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),t=e("jira/components/libs/brace");return t.View.extend({namedEvents:["viewChanged"],initialize:function(e){if(this.views=e.views,e.activeView)this.activeView=e.activeView;else{var t=i.keys(this.views);t.length>0&&(this.activeView=t[0])}},render:function(){this._renderActiveView()},changeToView:function(e){e!==this.activeView&&(this.activeView=e,this.$el&&this._renderActiveView(e),this.triggerViewChanged(e))},_renderActiveView:function(){var e=this.views[this.activeView];e.setElement(this.$el),e.render()}})});
//# sourceMappingURL=CardView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/BasicQueryView.js' */
define("jira/components/query/basic/basicqueryview",["require"],function(e){"use strict";var i=e("jira/components/libs/brace"),t=e("jira/components/query/templates/issuenavquerybasic"),r=e("jira/components/query/basic/textfieldview"),s=e("jira/components/query/basic/primarycriteriacontainerview"),a=e("jira/components/query/basic/extendedcriteriacontainerview"),n=e("jira/components/query/basic/clausebuttonview"),o=e("jira/issues/tipsy"),c=e("jira/components/orderby"),h=e("jira/featureflags/feature-manager");return i.View.extend({namedEvents:["verticalResize","searchRequested"],template:t.basicQueryView,initialize:function(e){this.searcherCollection=e.searcherCollection,this.queryStateModel=e.queryStateModel,this.textFieldView=new r({collection:this.searcherCollection}),this.primaryCriteriaContainerView=new s({collection:this.searcherCollection}),this.extendedCriteriaContainerView=new a({collection:this.searcherCollection}).onVerticalResize(this.triggerVerticalResize,this),this.queryStateModel.getBasicOrderBy()&&(this.basicOrderByView=c.create(),this.queryStateModel.on("change:jql",function(){this.basicOrderByView.setJql(this.queryStateModel.getJql())},this),this.basicOrderByView.onSort(this.triggerSearchRequested,this)),this.clauseButtonView=new n({searcherCollection:this.searcherCollection,queryStateModel:this.queryStateModel}),this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged,this),this.searcherCollection.onBeforeCriteriaRemoved(this._handleBeforeCriteriaRemoved,this)},_handleInteractiveChanged:function(e){this.$el.toggleClass("loading",!e)},_handleBeforeCriteriaRemoved:function(e,i){i&&this._shiftFocus(e,i)},render:function(){return this.$el.html(this.template({hasOrderBy:this.queryStateModel.getBasicOrderBy(),hasSearchButton:this.queryStateModel.hasSearchButton(),isNewGINStylingEnabled:h.isFeatureEnabled("nav-ux.exp-quality-improvements")})),this.primaryCriteriaContainerView.setElement(this.$el.find(".search-criteria .criteria-list")),this.textFieldView.setElement(this.$el.find("input.search-entry")),this.clauseButtonView.setElement(this.$el.find(".criteria-actions")),this.extendedCriteriaContainerView.setElement(this.$el.find(".search-criteria-extended .criteria-list")),this.basicOrderByView&&(this.basicOrderByView.setElement(this.$el.find(".list-ordering")).render(),this.basicOrderByView.setJql(this.queryStateModel.getJql())),this.primaryCriteriaContainerView.render(),this.$el.find(".text-query").removeClass("hidden"),this.textFieldView.render(),this.clauseButtonView.render(),this.extendedCriteriaContainerView.render(),this._handleInteractiveChanged(this.searcherCollection.isInteractive()),this.triggerVerticalResize(),new o({el:this.$el.find(".search-button"),tipsy:{trigger:"hover",delayIn:300}}),this},search:function(){this.searcherCollection.handleBasicViewSubmit()},_shiftFocus:function(e,i){var t=this.primaryCriteriaContainerView.getFocusableForCriteria(e);t.length||(t=this.extendedCriteriaContainerView.getFocusableForCriteria(e));var r,s=this.primaryCriteriaContainerView.getFocusables().add(this.extendedCriteriaContainerView.getFocusables()),a=s.index(t);r=0===a?1:a===s.length-1?s.length-2:a+i,s.eq(r).focus()},focus:function(){this.primaryCriteriaContainerView.getFocusables().first().focus()}})});
//# sourceMappingURL=BasicQueryView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/TextFieldView.js' */
define("jira/components/query/basic/textfieldview",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jquery"),n=e("jira/components/libs/brace");return n.View.extend({namedEvents:["searchRequested"],events:{keypress:"handleKeypress"},initialize:function(){t.bindAll(this,"_updateSearcherCollectionTextField","_handleInteractiveChanged","render"),this.collection.on("remove change add",function(e){e.getId()===this.collection.QUERY_ID&&this.render()}.bind(this)),this.collection.onTextFieldChanged(this.render),this.collection.onRequestUpdateFromView(this._updateSearcherCollectionTextField),this.collection.onInteractiveChanged(this._handleInteractiveChanged)},handleKeypress:function(e){13===e.keyCode&&(this.collection.handleBasicViewSubmit(),e.preventDefault())},render:function(){var e=this.collection.get(this.collection.QUERY_ID);if(e){var t=e.getEditHtml(),n=i("<div></div>").html(t||"").text();this.setQuery(n)}else this.setQuery("")},setQuery:function(e){this.$el.val(e)},_updateSearcherCollectionTextField:function(){if(this.$el.is("input")){var e=i.trim(this.$el.val());this.collection.updateTextQuery(e)}},_handleInteractiveChanged:function(e){this.$el.prop("disabled",!e)}})});
//# sourceMappingURL=TextFieldView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/PrimaryCriteriaContainerView.js' */
define("jira/components/query/basic/primarycriteriacontainerview",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),r=e("jira/components/libs/brace"),t=e("jira/components/query/basic/criteriaview"),n=e("jira/components/query/basic/criteriamodel");return r.View.extend({initialize:function(){this._criteriaViews=i.map(this.collection.fixedLozenges,function(e){return new t({model:new n(e),searcherCollection:this.collection})},this)},render:function(){i.each(this._criteriaViews,function(e){e.render()}),this.$el.prepend(i.pluck(this._criteriaViews,"el"))},getCriteriaViews:function(){return this._criteriaViews},getFocusables:function(){return this.$(".criteria-selector, #searcher-query, .add-criteria, .search-button")},getFocusableForCriteria:function(e){return this.$('.criteria-selector[data-id="'+e+'"]')}})});
//# sourceMappingURL=PrimaryCriteriaContainerView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/ExtendedCriteriaContainerView.js' */
define("jira/components/query/basic/extendedcriteriacontainerview",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),t=e("jira/components/libs/brace"),r=e("jira/components/query/basic/criteriaview"),n=e("jira/components/query/basic/criteriamodel");return t.View.extend({namedEvents:["verticalResize"],initialize:function(){this.collection.on("change:isSelected",this._onCriteriaSelectionChanged,this),this.collection.on("add",this._onCriteriaSelectionChanged,this),this.collection.on("remove",this._removeViewForSearcher,this),this.collection.on("reset",this._onReset,this),this._criteriaViews=i.map(this.collection.getSelectedCriteria(),function(e){return null==e.getPosition()&&e.setPosition(this.collection.getNextPosition()),this._buildCriteriaViewForSearcher(e)}.bind(this))},render:function(){i.each(this._criteriaViews,function(e){e.render(),this.$el.append(e.$el)}.bind(this))},getFocusables:function(){return this.$(".criteria-selector")},getFocusableForCriteria:function(e){return this.$('.criteria-selector[data-id="'+e+'"]')},_buildCriteriaViewForSearcher:function(e){return new r({model:new n({id:e.get("id"),name:e.get("name")}),searcherCollection:this.collection,extended:!0})},_onCriteriaSelectionChanged:function(e){e.getIsSelected()&&!this.collection.isFixed(e)?this._addViewForSearcher(e):this._removeViewForSearcher(e)},_addViewForSearcher:function(e){var i=this._buildCriteriaViewForSearcher(e);i.render(),this.$el.append(i.$el),this._criteriaViews.push(i),this.triggerVerticalResize()},_removeViewForSearcher:function(e){this._criteriaViews=i.reject(this._criteriaViews,function(i){return i.model.getId()===e.getId()&&(i.destroy(),!0)}),this.triggerVerticalResize()},_onReset:function(){i.each(this._criteriaViews,function(e){e.destroy()}),this._criteriaViews=[]}})});
//# sourceMappingURL=ExtendedCriteriaContainerView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/SearcherGroupListDialogView.js' */
define("jira/components/query/basic/searchergrouplistdialogview",["require"],function(e){"use strict";var t,s=e("jira/components/libs/underscore"),n=e("jquery"),i=e("jira/components/libs/brace"),r=e("jira/components/query/templates/issuenavquerybasic"),a=e("jira/components/query/basic/searcherdialog"),l=e("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"),o=e("jira/ajs/select/checkbox-multi-select"),c=e("jira/ajs/select/suggestions/suggest-helper"),u=e("jira/ajs/list/group-descriptor"),h=e("jira/issues/tipsy"),d=e("jira/components/utils/ajshelper"),p=e("jira/jql/util"),m=i.View.extend({template:r.searcherDropdownContent,namedEvents:["searcherSelected","hideRequested"],events:{keydown:"_keyPressed"},initialize:function(e){this.searcherCollection=e.searcherCollection,this.$el.scrollLock(".aui-list-scroll")},render:function(){var e=this.searcherCollection.getAddMenuGroupDescriptors(),s=e.length&&e[0].properties.items.length>m.CRITERIA_DISPLAY_LIMIT,i=n(d.Templates.queryableSelect({descriptors:e,id:"criteria"}));this.$el.empty().append(i);var r={element:i,suggestionsHandler:m.SuggestHandler,hideFooterButtons:!0},a="...excluding \u003cspan class=hidden-no\u003e\u003c/span\u003e hidden",l="These criteria are hidden because they are not applicable to the current project and/or issue type";return s&&(r.maxInlineResultsDisplayed=m.CRITERIA_DISPLAY_LIMIT,a="...excluding \u003cspan class=hidden-no\u003e\u003c/span\u003e hidden. Please enter a keyword to refine.",l="These criteria are hidden because there are either too many to display or they are not applicable to the current project and/or issue type"),new o(r),t=n("<div class='more-criteria-footer' />").html(a),this.$el.append(t),new h({el:t,tipsy:{title:function(){return l},className:"tipsy-front"}}),this.$el.unbind("selected").bind("selected",this._searcherSelected.bind(this)),this.$el.unbind("unselect").bind("unselect",this._searcherUnselected.bind(this)),this.$el},_searcherUnselected:function(e,t){this.searcherCollection.clearClause(t.properties.value)},_searcherSelected:function(e,t){var s=this.searcherCollection.getSearcher(t.properties.value);s.select(),a.instance.hide(),a.instance.show(s)},_keyPressed:function(e){if(e.keyCode===n.ui.keyCode.TAB){var t=n(":tabbable",this.$el),s=0===t.length,i=e.shiftKey&&document.activeElement===t.first()[0],r=!e.shiftKey&&document.activeElement===t.last()[0];(s||i||r)&&(this.triggerHideRequested(d.HIDE_REASON.tabbedOut),e.preventDefault())}}},{CRITERIA_DISPLAY_LIMIT:100}),g=l.extend({formatTypeInformation:function(e){var t=p.extractFieldTypeInformation(e);if(t&&"string"==typeof t.name){var s="string"==typeof t.icon?'<img src="'+t.icon+'" alt="'+t.name+'">':"";return'<span class="custom-field-type">'+s+t.name+"</span>"}return null},suggestionHighlighter:function(e,t){var s=this;return e.label().replace(t,function(t,i,r,a,l){var o=n("<div>");i&&o.append(n("<span>").text(i)),a&&o.append(n("<em>").text(a)),l&&o.append(n("<span>").text(l));var c=s.formatTypeInformation(e.value());return c?o.html()+c:o.html()})},formatSuggestions:function(e,i){var r=this,a=0,l=c.removeDuplicates(this.model.getDisplayableSelectedDescriptors());return e.splice(0,0,new u({actionBarHtml:l.length>1?this.createClearAll():null,items:l,styleClass:"selected-group"})),s.each(e,function(e){if(0===i.length){var t=s.filter(e.items(),function(e,t){var s=e.meta();return s&&s.isShown&&t<m.CRITERIA_DISPLAY_LIMIT});a+=e.items().length-t.length,e.items(t)}else s.each(e.items(),function(e){var t=e.meta();e.disabled(!(t&&t.isShown))})}),s.defer(function(){t&&(a?t.show().find(".hidden-no").text(a):t.hide())}),e.forEach(function(e){e.items().forEach(function(e){var t=r.formatTypeInformation(e.value());if(t){var s=n("<div/>").text(e.label()).html();e.dontUpdateLabelOnHighlightedChange=!0,e.properties.html=s+t}})}),e}});return m.SuggestHandler=g,m});
//# sourceMappingURL=SearcherGroupListDialogView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/SearcherEditDialogView.js' */
define("jira/components/query/basic/searchereditdialogview",["require"],function(e){"use strict";var t=e("jquery"),i=e("jira/components/libs/brace"),s=e("jira/components/query/templates/issuenavquerybasic"),a=e("jira/util/events"),n=e("jira/util/events/types"),r=e("jira/util/events/reasons"),o=e("jira/components/utils/ajshelper");return i.View.extend({namedEvents:["backRequested","hideRequested"],autoUpdate:[".js-autoupdate-checkboxmultiselect",".js-default-checkboxmultiselect",".js-default-checkboxmultiselectstatuslozenge",".js-user-checkboxmultiselect",".js-usergroup-checkboxmultiselect",".js-group-checkboxmultiselect",".js-label-checkboxmultiselect"],events:function l(){var l={"click .cancel-update":"_onCancelClicked",click:"_stopPropagation",submit:"_onSubmit",keydown:"_keyPressed"};return this.queryStateModel.getBasicAutoUpdate()&&(l["selected "+this.autoUpdate.join(",")]="applyChanges",l["unselect "+this.autoUpdate.join(",")]="applyChanges"),l},template:s.lozengeDropdownContent,initialize:function(e){this._formData="",this.queryStateModel=e.queryStateModel,this.$el.scrollLock(".aui-list-scroll")},renderDeferred:function(){var e=new t.Deferred;return this.model.retrieveEditHtml().done(function(t){e.resolve(this.render(t))}.bind(this)),e.promise()},hasAutoUpdate:function(e){return this.queryStateModel.getBasicAutoUpdate()&&0!==t(e).find(this.autoUpdate.join(",")).length},render:function(e){var i,o=!/^\s*$/.test(e);return i=t(o?this.template({displayBackButton:this.displayBackButton,displayUpdateCancel:!this.hasAutoUpdate(e)&&!t(e).hasClass("searchfilter-not-found")}):s.lozengeDropdownCannotEdit({fieldName:this.model.getName()})),this.$el.html(i),this.$el.find(".form-body").appendCatchExceptions(e),this.$el.find("form").addClass(this.model.id+"-criteria"),this.$el.find("label:first").remove(),a.trigger(n.NEW_CONTENT_ADDED,[this.$el,r.criteriaPanelRefreshed]),this._formData=this.$el.find("form").serialize(),this.model.setInitParams(this._formData),this.$el},_stopPropagation:function(e){e.stopPropagation()},_preventDefault:function(e){e.preventDefault()},applyFilter:function(){var e=this.$el.find("form").serialize(),t=e!==this._formData;return this._formData=e,this.model.setSerializedParams(this._formData),t},applyChanges:function(){this.applyFilter()&&this.model.createOrUpdateClauseWithQueryString()},_onCancelClicked:function(e){e.preventDefault(),this.triggerHideRequested(o.HIDE_REASON.cancelClicked)},_onSubmit:function(e){e.preventDefault(),this.triggerHideRequested(o.HIDE_REASON.submit)},_keyPressed:function(e){if(e.keyCode===t.ui.keyCode.TAB){var i=t(":tabbable",this.$el),s=0===i.length,a=e.shiftKey&&document.activeElement===i.first()[0],n=!e.shiftKey&&document.activeElement===i.last()[0];(s||a||n)&&(this.triggerHideRequested(o.HIDE_REASON.tabbedOut),e.preventDefault())}}})});
//# sourceMappingURL=SearcherEditDialogView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/ClauseListDialogView.js' */
define("jira/components/query/basic/clauselistdialogview",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),r=e("jquery"),s=e("jira/components/libs/brace"),i=e("jira/components/query/templates/issuenavquerybasic");return s.View.extend({events:{"click .clauses .searcherValue":"_clauseSelected","click .remove-filter":"_removeFilterRequested"},template:i.enabledClauses,namedEvents:["clauseSelected","hideRequested"],initialize:function(e){this.searcherCollection=e.searcherCollection,this.searcherCollection.onCollectionChanged(this._renderAndCheckForClose,this)},render:function(){this.$el.html(this.template({clauses:this._getClauses()}))},_renderAndCheckForClose:function(){this.render(),this._getClauses().length||this.triggerHideRequested()},_clauseSelected:function(e){e.preventDefault();var t=r(e.target),s=t.parents("li").first().data("id");this.triggerClauseSelected(s)},_removeFilterRequested:function(e){e.preventDefault();var s=this;t.defer(function(){var t=r(e.target),i=t.parents("li").first(),a=i.data("id");s.searcherCollection.clearClause(a),i.remove(),s.triggerHideRequested()})},_getClauses:function(){var e=this.searcherCollection.getVariableClauses(),r=t.invoke(e,"toJSON");return t.each(r,this._formatForTemplate),r},_formatForTemplate:function(e){e.validSearcher?e.invalidMessage="":e.invalidMessage="This criteria is not valid for the project and/or issue type"}})});
//# sourceMappingURL=ClauseListDialogView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/ClauseButtonView.js' */
define("jira/components/query/basic/clausebuttonview",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jquery"),a=e("jira/components/libs/brace"),n=e("jira/components/query/templates/issuenavquerybasic"),r=e("jira/components/query/basic/searchergrouplistdialogview"),s=e("jira/ajs/layer/inline-layer"),o=e("jira/issues/tipsy"),l=e("jira/components/utils/ajshelper"),u=e("jira/featureflags/feature-manager"),d=e("jira/analytics/web-client"),c=e("jira/featureflags/feature-manager"),h=c.isFeatureEnabled("nav-ux.global-issue-navigator.basic-search.track-time-taken-to-show-drop-downs");return a.View.extend({template:n.clauseButtonView,addCriteriaButton:".add-criteria",events:{"click .add-criteria":"_showDialog","keydown .add-criteria":"_onKeydown"},initialize:function(e){t.bindAll(this,"_handleInteractiveChanged","_showOrHideClauseButtons");var a=this;this.queryStateModel=e.queryStateModel,this.searcherCollection=e.searcherCollection,this.searcherCollection.onCollectionChanged(this._showOrHideClauseButtons),this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged);var n=this.dialog=new s({width:"auto",alignment:l.LEFT,offsetTarget:function(){return a.$el.find(a.addCriteriaButton)},content:function(){return o.render()}});n.bind(s.EVENTS.hide,function(e,t,i){i!==l.HIDE_REASON.escPressed&&i!==l.HIDE_REASON.toggle&&i!==l.HIDE_REASON.tabbedOut||a.$(a.addCriteriaButton).focus()});var o=new r({searcherCollection:this.searcherCollection,dialog:n});o.onHideRequested(function(e){n.hide(e)}),n.bind(s.EVENTS.show,function(e,t){i("#criteria-input").focus(),t.find(".aui-list-scroll").scrollTop(0)})},render:function(){return this.$el.html(this.template({isSubtle:this.queryStateModel.hasSubtleMoreCriteria(),isNewGINStylingEnabled:u.isFeatureEnabled("nav-ux.exp-quality-improvements")})),this._showOrHideClauseButtons(),this._addToolTip(),this.$el},_addToolTip:function(){new o({el:this.$el.find(this.addCriteriaButton),showCondition:":not(.active)"})},_showOrHideClauseButtons:function(){var e=this.$(this.addCriteriaButton);this.searcherCollection.getAddMenuGroupDescriptors().length>0?e.show():e.hide()},_showDialog:function(e){if(this.searcherCollection.isInteractive())if(h){var t=this.$(this.addCriteriaButton).hasClass("active");if(t)this.dialog.toggle();else{this.dialog.toggle();var i=this.dialog.$content.find("#criteria-suggestions ul li").length,a=this.dialog.$content.find("#criteria optgroup option").length;d.sendScreenEvent("filterSearchInlineDialog",null,{analyticsSource:"globalIssueNavigator",fieldType:"more",layoutType:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),visibleListItemsLength:i,totalListItemsLength:a})}}else this.dialog.toggle();e.preventDefault()},_handleInteractiveChanged:function(e){this.$(this.addCriteriaButton).attr("aria-disabled",e?null:"true")},_onKeydown:function(e){switch(e.which){case i.ui.keyCode.DOWN:this._showDialog(e);break;case i.ui.keyCode.ESCAPE:i(e.target).blur();break;case i.ui.keyCode.BACKSPACE:break;default:return}e.preventDefault()}})});
//# sourceMappingURL=ClauseButtonView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/basic/SearcherDialog.js' */
define("jira/components/query/basic/searcherdialog",["require"],function(e){"use strict";var n,t=e("jira/skate"),i=e("jira/components/query/basic/searchereditdialogview"),o=e("jira/components/libs/underscore"),r=e("jira/ajs/layer/inline-layer"),a=e("jira/components/utils/ajshelper"),s=e("jquery"),c=e("jira/components/utils/trace"),u=e("jira/analytics/web-client"),l=a.HIDE_REASON,d=e("jira/featureflags/feature-manager"),h=d.isFeatureEnabled("nav-ux.global-issue-navigator.basic-search.track-time-taken-to-show-drop-downs"),f=function(){function e(e){function d(e){return e?s(".criteria-selector[data-id='"+e.getId()+"']"):s()}l.switchLozenge="switchLozenge";var g,w,b,y=[l.escPressed,l.toggle,l.cancelClicked,l.submit,l.tabbedOut],S=new r({width:"auto",alignment:a.LEFT,offsetTarget:function(){return d(w)},content:function(){return b=new i({model:w,queryStateModel:e.queryStateModel}),b.onHideRequested(function(e){S.hide(e)}),h?n=b.renderDeferred():b.renderDeferred()}});return S.bind(r.EVENTS.show,function(e,n){t.init(n[0]);var i=n.find(":input:not(submit):visible:first");i.focus(),n.find(".aui-list-scroll").scrollTop(0)}),S.bind(r.EVENTS.beforeHide,function(e,n,t,i,o){t===l.clickOutside&&o&&s(o).closest(".calendar").length&&e.preventDefault()}),S.bind(r.EVENTS.hide,function(n,t,i){function a(){g=w.createOrUpdateClauseWithQueryString(i===l.submit),g.done(function(){s.hasErrorInEditHtml()&&"basic"===e.queryStateModel.getSearchMode()&&f.instance.show(s),r.current&&r.current.setPosition()}),g.always(function(){g=null}),s.clearEditHtml()}var s=w;o.contains(y,i)&&d(s).focus(),i===l.submit?(b.applyFilter(),a()):i!==l.cancelClicked&&i!==l.escPressed&&i!==l.tabbedOut?b.applyFilter()&&a():c("jira.search.searchers.hiddenWithoutUpdate"),b.$el.remove(),b=null,w=null}),e.queryStateModel.on("change:searchMode",function(){S.hide()}),{getCurrentSearcher:function(){return w},toggle:function(e){null!=w?w!==e?(S.hide(l.switchLozenge),this.show(e)):S.hide(l.toggle):this.show(e)},_show:function(e){h?o.defer(function(){w=e,S.show(),S.setPosition(),n&&n.done(function(n){var t=S.$content.find("ul li").length;u.sendScreenEvent("filterSearchInlineDialog",null,{analyticsSource:"globalIssueNavigator",fieldType:e.id,layoutType:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),visibleListItemsLength:t,totalListItemsLength:t})})}):o.defer(function(){w=e,S.show(),S.setPosition()})},show:function(e){var n;f.waitingToShow&&(n=!0);var t=this;f.waitingToShow=function(){t._show(e),f.waitingToShow=null},n||e.searchersReady().done(function(){g?g.done(function(){f.waitingToShow()}):f.waitingToShow()})},onShow:function(e){S.bind(r.EVENTS.show,e)},hide:function(){S.hide()},onHide:function(e){S.bind(r.EVENTS.hide,e)}}}return{initialize:function(n){this.instance||(this.instance=e(n))}}}();return f});
//# sourceMappingURL=SearcherDialog-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/query-jql.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNavQueryJql&&(JIRA.Templates.IssueNavQueryJql={}),JIRA.Templates.IssueNavQueryJql.jqlQueryView=function(e,a){return'<div class="search-field-container"><div class="atlassian-autocomplete"><label for="advanced-search"><span id="jqlerrormsg" class="icon jqlgood"><span>'+soy.$$escapeHtml("parse")+'</span></span> <span class="jql-label">'+soy.$$escapeHtml("Query")+' <span id="jqlcolrowcount">'+soy.$$escapeHtml("line")+':<span id="jqlrownum">0</span>'+soy.$$escapeHtml("character")+':<span id="jqlcolumnnum">0</span></span></span></label><textarea id="advanced-search" class="search-entry advanced-search ajs-dirty-warning-exempt '+(e.isNewGINStylingEnabled?"new-gin-styling":"")+'" name="jql"></textarea><a class="syntax-help" href="'+soy.$$escapeHtml(e.helpUrl)+'" title="'+soy.$$escapeHtml("Syntax Help")+'" target="_jirahelp" tabindex="-1"><span class="aui-icon aui-icon-small aui-iconfont-help">'+soy.$$escapeHtml("Syntax Help")+'</span></a></div></div><div class="search-options-container">'+(e.hasSearchButton?e.isNewGINStylingEnabled?'<button class="aui-button aui-button-primary search-button active" type="button" title="'+soy.$$escapeHtml("Search for issues")+'">'+soy.$$escapeHtml("Search")+"</button>":'<button class="aui-item aui-button aui-button-subtle search-button" type="button" title="'+soy.$$escapeHtml("Search for issues")+'"><span class="aui-icon aui-icon-small aui-iconfont-search">'+soy.$$escapeHtml("Search")+"</span></button>":"")+'<span class="mode-switcher"></span></div>'};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/jql/JqlAutoCompleteView.js' */
define("jira/components/query/jql/jqlautocompleteview",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),r=e("jquery"),n=e("jira/components/libs/brace"),i=e("jira/jql/jql-parser"),l=e("jira/autocomplete/jql-autocomplete"),o=e("jira/featureflags/feature-manager"),s=e("wrm/context-path");return n.View.extend({namedEvents:["jqlValid","jqlInvalid","searchRequested"],events:{focus:"_onFocus"},getJqlAutoCompleteData:function(){var e=new r.Deferred;if(null==this.jqlFieldNames||null==this.jqlFunctionNames||null==this.jqlReservedWords){var n=r("#jqlFieldz"),i=r("#jqlFunctionNamez"),l=r("#jqlReservedWordz");if(!(n.length>0&&i.length>0&&l.length>0)){var o=r.ajax({type:"POST",url:s()+"/rest/querycomponent/latest/jqlAutoComplete",contentType:"application/json",data:JSON.stringify(this.model.getAdvancedParameters()||{})});return o.done(function(r){var n=JSON.parse(r);this.jqlFieldNames=t.reject(JSON.parse(n.jqlFieldz),function(e){return t.contains(this.model.getWithout(),e.value)}.bind(this)),this.jqlFunctionNames=JSON.parse(n.jqlFunctionNamez),this.jqlReservedWords=JSON.parse(n.jqlReservedWordz),e.resolve()}.bind(this)),e.promise()}this.jqlFieldNames=JSON.parse(n.text()),this.jqlFunctionNames=JSON.parse(i.text()),this.jqlReservedWords=JSON.parse(l.text())}return e.resolve().promise()},isAutoSelectFirstEnabled:function(){return o.isFeatureEnabled("jira.jql.autoselectfirst")},_initJQLAutoComplete:function(){var e=this.$el,t=new l({field:e,fieldID:e.attr("id"),parser:new i(this.jqlReservedWords),queryDelay:.65,jqlFieldNames:this.jqlFieldNames,jqlFunctionNames:this.jqlFunctionNames,minQueryLength:0,allowArrowCarousel:!0,autoSelectFirst:this.isAutoSelectFirstEnabled(),errorID:"jqlerrormsg",preventScroll:!0}),r=this;e.keypress(function(n){(null===t.dropdownController||!t.dropdownController.displayed||t.selectedIndex<0)&&(13!==n.keyCode||n.ctrlKey||n.shiftKey||(n.preventDefault(),t.dropdownController.hideDropdown(),r.triggerSearchRequested(e.val())))});var n=t.updateParseIndicator;t.updateParseIndicator=function(t){n.apply(this,arguments),t.getParseError()?r.triggerJqlInvalid(e.val()):r.triggerJqlValid(e.val())},t.buildResponseContainer(),t.parse(e.val()),t.updateColumnLineCount(),e.bind("expandedOnInput",function(){t.positionResponseContainer()}).bind("updateParseIndicator",function(){t.parse(e.val())}).click(function(){t.dropdownController.hideDropdown()})},_onFocus:function(){this.model.getAutocompleteEnabled()&&!this.$el.data("JQLAutoComplete_init")&&(this.$el.data("JQLAutoComplete_init",!0),this.getJqlAutoCompleteData().done(this._initJQLAutoComplete.bind(this)))}})});
//# sourceMappingURL=JqlAutoCompleteView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/jql/JqlQueryModule.js' */
define("jira/components/query/jql/jqlquerymodule",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),i=e("jira/components/query/jql/jqlqueryview"),r=e("jira/util/events"),n=e("jira/util/events/types"),s=e("jira/util/events/reasons");return t.Evented.extend({namedEvents:["searchRequested","verticalResize","searchChanged"],initialize:function(e){this._queryStateModel=e.queryStateModel,this.view=new i({queryStateModel:e.queryStateModel}).onVerticalResize(this.triggerVerticalResize,this).onSearchRequested(this.triggerSearchRequested,this).onSearchChanged(this.triggerSearchChanged,this),r.bind(n.NEW_CONTENT_ADDED,function(e,t,i){i===s.returnToSearch&&this.setQuery()}.bind(this))},search:function(){var e=this.view.readJql();this.triggerSearchRequested(e)},copy:function(){this.view.copy()},setQuery:function(){this.view.setQuery()},createView:function(){return this.view}})});
//# sourceMappingURL=JqlQueryModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/jql/JqlQueryView.js' */
define("jira/components/query/jql/jqlqueryview",["require"],function(e){"use strict";var t=e("jquery"),i=e("jira/components/libs/brace"),n=e("jira/components/query/templates/issuenavqueryjql"),a=e("jira/components/query/jql/jqlautocompleteview"),s=(e("jira/util/data/meta"),e("jira/issues/tipsy")),r=e("jira/featureflags/feature-manager");return i.View.extend({template:n.jqlQueryView,namedEvents:["verticalResize","searchRequested","searchChanged"],events:{expandedOnInput:"_handleExpandOnInput",input:function(){this.trigger("searchChanged",{newJql:this.readRawJql()})}},initialize:function(e){this.queryStateModel=e.queryStateModel,this.queryStateModel.on("change:jql",this.setQuery,this),t(document).bind("issueNavWidthChanged",this._resizeHeight.bind(this)),a&&(this.JQLAutoCompleteView=new a({model:this.queryStateModel}),this.JQLAutoCompleteView.onJqlValid(function(e){this.queryStateModel.getAdvancedAutoUpdate()&&this.triggerSearchRequested(e)},this),this.JQLAutoCompleteView.onSearchRequested(this.triggerSearchRequested,this))},render:function(){return this.$el.html(this.template({helpUrl:"https://confluence.atlassian.com/display/SERVICEDESKCLOUD/Advanced+searching",hasSearchButton:this.queryStateModel.hasSearchButton(),isNewGINStylingEnabled:r.isFeatureEnabled("nav-ux.exp-quality-improvements")})),this.$el.addClass("loading"),this.JQLAutoCompleteView&&(this.JQLAutoCompleteView.setElement(this.$el.find(".advanced-search")),this.JQLAutoCompleteView.getJqlAutoCompleteData()),new s({el:this.$el.find(".search-button"),tipsy:{trigger:"hover",delayIn:300}}),this.setQuery(),this},readRawJql:function(){var e=this._getInputField();return e.val()||""},readJql:function(){var e=this.readRawJql(),i=this._getInputField(),n=t.trim(e);return e!==n&&i.val(n),this._resizeHeight(),n},_handleExpandOnInput:function(){this.triggerVerticalResize()},_resizeHeight:function(){var e=this._getInputField();e.val()?e.height(r.isFeatureEnabled("nav-ux.exp-quality-improvements")?32:0).expandOnInput():e.expandOnInput().height(0).trigger("refreshInputHeight")},setQuery:function(){this.$el.removeClass("loading"),this._getInputField().val(this.queryStateModel.getJql()),this._getInputField().trigger("updateParseIndicator"),this._resizeHeight()},focus:function(){this._getInputField().focus()},_getInputField:function(){return this.$el?this.$el.find("textarea"):t()}})});
//# sourceMappingURL=JqlQueryView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/jql/JqlEditor.js' */
define("jira/components/query/jql/jqleditor",["jira/components/libs/brace","jira/components/query/jql/jqlautocompleteview","jira/jql/jql-parser","jira/ajs/ajax/smart-ajax","jira/featureflags/feature-manager"],function(e,t,n,a){function i(e){var t="";return e.doc.forEach(function(e){switch(e.type.name){case"text":t+=e.text;break;case"user":t+=e.attrs.accountId}}),t}function r(e,t,a,i){var r=new n(a),o=e.substring(0,t),l=e.substring(t),u=r.parse(o),d=r.parse(l),c=r.parse(e),h=!1,f=void 0;if(c.getResult().getParseError()&&(u.getResult().getParseError()&&d.getResult().getParseError()||(h=!0)),h){var m=s(o,a,i),v=s(l,a,i);f=p([m,[j.text(" ")],v],function(e){return e})}else f=s(e,a,i);return 0==f.length&&(f=[j.text(e)]),j.node("doc",{},f)}function s(e,t,a){var i=new n(t),r=i.parse(e),s=r.getResult().getRichTokens(),o=void 0,d=[],c=p(s,function(t,n){var i=[];if(n>0){var r=s[n-1].startIndex+s[n-1].value.length,l=e.substr(r,t.startIndex-r);l.length>0&&i.push(j.text(l))}if(null==t.value)return i;if("operand"==t.kind&&u(o,a)){var c=q[t.value]?q[t.value].displayName:t.value,h=q[t.value]?q[t.value].avatarUrls["16x16"]:w;i.push(j.nodes.user.create({accountId:t.value,displayName:c,avatarUrl:h})),q[t.value]||d.push(t.value)}else"fieldName"==t.kind&&(o=t.value),t.value&&t.value.length>0&&i.push(j.text(t.value));var p=t.startIndex+t.value.length;if(n>=s.length-1&&p<e.length){var f=e.substr(p);f.length>0&&i.push(j.text(f))}return i});return l(d),c}function o(e,t,a,i){var r=new n(a),s=r.parse(t),o=s.getResult().getRichTokens(),l=0,d=void 0;for(var c in o){var h=o[c];if(null!=h.value){var p=h.startIndex+h.value.length,f=void 0;if(c>0){var m=o[c-1].startIndex+o[c-1].value.length,v=t.substr(m,h.startIndex-m);v.length>0&&(l+=v.length)}if(f="operand"==h.kind&&u(d,i)?1:h.value.length,e<h.startIndex)return l;if(e<p)return l+f<e?l+f:l+e;"fieldName"==h.kind&&(d=h.value),l+=f}}return l}function l(e){e.forEach(function(e){var t=contextPath+"/rest/api/3/user?accountId="+e,n={url:t,dataType:"json",success:function(t){if(t){q[e]=t;var n=jQuery("span.jql-editor__user-lozenge[data-account-id="+e+"]"),a=t.avatarUrls["16x16"];n[0].style["background-image"]="url("+a+")",n.attr("data-display-name",t.displayName),n.attr("data-avatar-url",a),n.html(t.displayName)}}};a.makeRequest(n)})}function u(e,t){return t=t||[],t.find(function(t){return t.value==e&&t.types.find(function(e){return"com.atlassian.jira.user.ApplicationUser"==e})})}function d(e,t){e.isDefaultPrevented&&e.isDefaultPrevented()&&t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}function c(e,t){var n={},a=["altKey","key","code","charCode","key","keyCode"];a.forEach(function(t){return n[t]=e[t]});var i=jQuery.Event(e.type,n);return t.trigger(i),d(i,e),!0}function h(e){if(document.selection){var t=document.body.createTextRange(),n=document.getElementById(e);t.moveToElementText(n),t.select().createTextRange(),document.execCommand("copy")}else if(window.getSelection){var t=document.createRange(),n=document.getElementById(e);t.selectNode(n),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()}}var p=function(e,t){var n=[];return e.map(t).forEach(function(e){n.push.apply(n,e)}),n},f=window.ProseMirror.model.Fragment,m=window.ProseMirror.model.Schema,v=window.ProseMirror.model.Slice,g=window.ProseMirror.state.EditorState,y=window.ProseMirror.view.EditorView,w=(window.ProseMirror.state.Selection,"https://avatar-management.services.atlassian.com/default/128"),q={},j=new m({nodes:{doc:{content:"inline*"},user:{group:"inline",inline:!0,attrs:{accountId:{},avatarUrl:{},displayName:{}},toDOM:function(e){var t=q[e.attrs.accountId]?q[e.attrs.accountId].displayName:e.attrs.displayName,n=q[e.attrs.accountId]?q[e.attrs.accountId].avatarUrls["16x16"]:e.attrs.avatarUrl;return["span",{"class":"jql-editor__user-lozenge","data-account-id":e.attrs.accountId,"data-display-name":t,"data-avatar-url":n,style:"background-image: url("+n+");"},t]},parseDOM:[{tag:"span.jql-editor__user-lozenge",getAttrs:function(e){var t=e.getAttribute("data-account-id"),n=e.getAttribute("data-display-name"),a=e.getAttribute("data-avatar-url");return!(!t||!n)&&{accountId:t,avatarUrl:a,displayName:n}}}]},text:{group:"inline",inline:!0}}});return e.View.extend({namedEvents:["searchChanged","searchRequested","keydown","keyup","keypress","click","blur","updateParseIndicator","verticalResize"],events:{expandedOnInput:"_handleExpandOnInput",resize:"_resize"},initialize:function(e){this.state=g.create({schema:j}),this.type="input",this.nodeName="INPUT",this.nodeType=Node.ELEMENT_NODE,this.queryStateModel=e.queryStateModel,this.value="",this.queryStateModel.on("change:jql",this.setQuery,this),this.JqlAutoCompleteView=new t({model:this.queryStateModel}),this.JqlAutoCompleteView.onJqlValid(function(e){this.queryStateModel.getAdvancedAutoUpdate()&&this.triggerSearchRequested(e)},this),this.JqlAutoCompleteView.onSearchRequested(this.triggerSearchRequested,this)},render:function(){var e=this,t=document.createElement("div");t.classList.add("jql-editor");var n=document.createElement("div");n.classList.add("jql-editor__field"),this.el.innerHTML="";var a=document.createElement("span");a.id="jqlerrormsg",a.classList.add("icon"),a.classList.add("jqlgood"),n.appendChild(a),t.appendChild(n),this.el.appendChild(t),this.view=new y(n,{state:this.state,dispatchTransaction:function(t){e.state=e.state.apply(t),e.view.updateState(e.state),e.queryStateModel.setJql(i(e.state)),e.trigger("searchChanged",{newJql:i(e.state)})},handleDOMEvents:{focus:function(t,a){return n.classList.add("jql-editor__field--focus"),c(a,e.jQueryReference)},keydown:function(t,n){return c(n,e.jQueryReference)},keyup:function(t,n){return c(n,e.jQueryReference)},keypress:function(t,n){return c(n,e.jQueryReference)},blur:function(t,a){return n.classList.remove("jql-editor__field--focus"),c(a,e.jQueryReference)},click:function(t,n){c(n,e.jQueryReference)}},clipboardTextSerializer:function(e){return i({doc:e.content})},clipboardTextParser:function(t,n){var a=r(jql,0,e.jqlReservedWords,e.JqlAutoCompleteView.jqlFieldNames);a.slice(selection.from)}});var s=document.createElement("div");if(s.classList.add("search-options-container"),this.queryStateModel.hasSearchButton()){var o=document.createElement("button");o.classList.add("aui-item"),o.classList.add("aui-button"),o.classList.add("aui-button-subtle"),o.classList.add("copy-button"),o.setAttribute("type","button"),o.setAttribute("title","Copy query");var l=document.createElement("span");l.classList.add("aui-icon"),l.classList.add("aui-icon-small"),l.classList.add("aui-iconfont-copy-clipboard"),l.innerText="Copy",o.appendChild(l),s.appendChild(o);var u=document.createElement("button");u.classList.add("aui-item"),u.classList.add("aui-button"),u.classList.add("aui-button-subtle"),u.classList.add("search-button"),u.setAttribute("type","button"),u.setAttribute("title","Search for issues");var d=document.createElement("span");d.classList.add("aui-icon"),d.classList.add("aui-icon-small"),d.classList.add("aui-iconfont-search"),d.innerText="Search",u.appendChild(d),s.appendChild(u)}var h=document.createElement("span");h.classList.add("mode-switcher"),s.appendChild(h),t.appendChild(s),this.ownerDocument={defaultView:{getComputedStyle:function(t,n){return e.el.ownerDocument.defaultView.getComputedStyle(e.el,n)}}},this.parentElement=this.el.parentElement,this.parentNode=this.el.parentNode,this.getAttribute=function(t){return e[t]||jQuery.data(e,t)},this.setAttribute=function(t,n){return jQuery.data(e,t,n)};var p=jQuery(this);p.outerHeight=function(t,n,a){return jQuery(e.el).outerHeight(t,n,a)},p.forceSelection=!0,p.selectionRange=function(){return e.selectionRange()},p.selection=function(t){return e.selection(t)},p.setSelection=function(t,n){return e.setSelection(t,n)},jQuery(window).resize(function(){e.jQueryReference.trigger("expandedOnInput")}),jQuery(document).bind("issueNavWidthChanged",function(){e.jQueryReference.trigger("expandedOnInput")}),this.jQueryReference=p,this.JqlAutoCompleteView.setElement(p),this.JqlAutoCompleteView.getJqlAutoCompleteData().done(function(){e.selection("")})},readJql:function(){return i(this.state)},copy:function(){var e=document.createElement("div");e.id="hiddenCopyTextDiv",e.style="position: absolute; left: -1000px; top: -1000px",e.innerHTML=i(this.state),document.body.appendChild(e),h("hiddenCopyTextDiv"),document.body.removeChild(e)},setQuery:function(){var e=this.queryStateModel.getJql();if(this.value=e,this.updateSelection(),e!==i(this.state)){var t=r(e,0,this.jqlReservedWords,this.JqlAutoCompleteView.jqlFieldNames);this.state=this.state.apply(this.state.tr.replace(0,this.state.doc.nodeSize-2,new v(f.from(t),0,0))),this.view&&(this.view.updateState(this.state),this.triggerUpdateParseIndicator()),this.jQueryReference&&this.jQueryReference.trigger("expandedOnInput")}},selectionRange:function(){var e=this.state.selection,t=i({doc:this.state.doc.slice(0,e.from).content}),n=i({doc:this.state.doc.slice(e.from,e.to).content});return{end:t.length+n.length,start:t.length,text:null,textBefore:null,textAfter:null}},updateSelection:function(){var e=this.state.selection,t=i({doc:this.state.doc.slice(0,e.from).content}),n=i({doc:this.state.doc.slice(e.from,e.to).content});this.selectionStart=t.length,this.selectionEnd=t.length+n.length},setSelection:function(e,t){this.selectionStart=e,this.selectionEnd=t},_handleExpandOnInput:function(){this.triggerVerticalResize()},_resize:function(){this.jQueryReference.trigger("expandedOnInput")},selection:function(e){var t=i(this.state),n=void 0!=this.selectionStart?this.selectionStart:t.length,a=void 0!=this.selectionEnd?this.selectionEnd:t.length,s=t.substr(0,n)+e;t=s+t.substr(a),this.value=t;var l=r(t,s.length,this.jqlReservedWords,this.JqlAutoCompleteView.jqlFieldNames);this.state=this.state.apply(this.state.tr.replace(0,this.state.doc.nodeSize-2,new v(f.from(l),0,0)));var u=this.selectionStart+e.length;this.setSelection(u,u);var d=o(u,t,this.jqlReservedWords,this.JqlAutoCompleteView.jqlFieldNames),c=window.ProseMirror.state.Selection;this.updateSelection(),this.state=this.state.apply(this.state.tr.setSelection(c.near(this.state.doc.resolve(d)))),this.view&&this.view.updateState(this.state),this.jQueryReference&&this.jQueryReference.trigger("expandedOnInput")},focus:function(){}})});
//# sourceMappingURL=JqlEditor-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/query.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.IssueNavQuery&&(JIRA.Templates.IssueNavQuery={}),JIRA.Templates.IssueNavQuery.searchSwitcher=function(e,s){for(var t="",i=e.items,a=i.length,c=0;c<a;c++){var n=i[c];t+=JIRA.Templates.IssueNavQuery.searchSwitcherItem({id:n.id,isActive:n.id==e.selectedId,isUpdateRefinementBarTextEnabled:e.isUpdateRefinementBarTextEnabled})}return t},JIRA.Templates.IssueNavQuery.searchSwitcherItem=function(e,s){return'<a href="#" class="switcher-item'+soy.$$escapeHtml(e.isActive?" active":"")+" \" data-id='"+soy.$$escapeHtml(e.id)+"' title=\""+("basic"==e.id?soy.$$escapeHtml("Switch to advanced search using JQL"):soy.$$escapeHtml("Switch to basic search"))+'">'+("basic"==e.id?e.isUpdateRefinementBarTextEnabled?soy.$$escapeHtml("Switch to JQL"):soy.$$escapeHtml("Advanced"):e.isUpdateRefinementBarTextEnabled?soy.$$escapeHtml("Switch to basic"):soy.$$escapeHtml("Basic"))+"</a>"},JIRA.Templates.IssueNavQuery.queryView=function(e,s){return'<div class="aui-group"><div class="aui-item search-wrap"><div class="search-container"></div><div class="save-filter-controls"></div></div>'+(e.layoutSwitcher?'<div class="aui-item view-selector" id="layout-switcher-toggle"></div>':"")+'</div><div class="notifications"></div>'};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/QueryModule.js' */
define("jira/components/query/querymodule",["require"],function(e){"use strict";var r=e("jira/components/libs/underscore"),t=e("jira/components/libs/brace"),i=e("jira/components/query/queryview"),s=e("jira/components/query/basic/searcherdialog"),h=e("jira/components/query/basic/basicquerymodule"),o=e("jira/components/query/jql/jqlquerymodule");return t.Evented.extend({namedEvents:["jqlChanged","jqlTooComplex","jqlError","jqlSuccess","searchRequested","searchChanged","queryTooComplexSwitchToAdvanced","changedPreferredSearchMode","basicModeCriteriaCountWhenSearching","verticalResize","initialized"],initialize:function(e){this._queryStateModel=e.queryStateModel,this._queryStateModel.on("change:preferredSearchMode",function(){this.triggerChangedPreferredSearchMode(this._queryStateModel.getPreferredSearchMode())}.bind(this)),s.initialize({queryStateModel:this._queryStateModel}),this._jqlQueryModule=new o({queryStateModel:this._queryStateModel}).onSearchRequested(this.handleAdvancedSearchRequested,this).onVerticalResize(this.triggerVerticalResize,this).onSearchChanged(this.triggerSearchChanged,this),this._errors={},this._errors[this._queryStateModel.BASIC_SEARCH]=[],this._errors[this._queryStateModel.ADVANCED_SEARCH]=[],this._queryStateModel.on("change:searchMode",this.showSearchErrors,this),this._basicQueryModule=new h({queryStateModel:this._queryStateModel,primaryClauses:e.primaryClauses,initialSearcherCollectionState:e.searchers,queryComponentPromise:e.queryComponentPromise,context:e.context}).onSearchRequested(this.clearSearchErrors,this).onJqlTooComplex(this.handleJqlTooComplex,this).onSearchRequested(this.handleSearchRequested,this).onVerticalResize(this.triggerVerticalResize,this).onBasicModeCriteriaCountWhenSearching(this.triggerBasicModeCriteriaCountWhenSearching,this)},refreshLayout:function(){this._jqlQueryModule.setQuery()},handleAdvancedSearchRequested:function(e){this.handleSearchRequested(e),this._basicQueryModule.queryChanged()},handleSearchRequested:function(e){this._queryStateModel.setJql(e),this.clearSearchErrors()},handleJqlTooComplex:function(e){this.getSearchMode()!==this._queryStateModel.ADVANCED_SEARCH&&this.triggerQueryTooComplexSwitchToAdvanced(),this.setSearchMode(this._queryStateModel.ADVANCED_SEARCH),this.triggerJqlTooComplex(e),this._queryView&&this._queryView.switcherViewModel.disableSwitching()},getJql:function(){return this._queryStateModel.getJql()},getSearcherCollection:function(){return this._basicQueryModule.searcherCollection},isBasicMode:function(){return this._queryStateModel.getSearchMode()===this._queryStateModel.BASIC_SEARCH},resetToQuery:function(e,r){return this.clearSearchErrors(),this._basicQueryModule.queryReset(e).always(function(){this._queryStateModel.switchToPreferredSearchMode(),this._jqlQueryModule.setQuery(),r&&r.focusQuery===!0&&this._queryView.getView().focus(),this._basicQueryModule.off("searchRequested",this.publishJqlChanges),this._jqlQueryModule.off("searchRequested",this.publishJqlChanges),this._basicQueryModule.onSearchRequested(this.publishJqlChanges,this),this._jqlQueryModule.onSearchRequested(this.publishJqlChanges,this)}.bind(this))},publishJqlChanges:function(e){this.triggerJqlChanged(e)},setVisible:function(e){this._queryView.setVisible(e)},queryChanged:function(){this.clearSearchErrors(),this._basicQueryModule.queryChanged()},onSearchSuccess:function(e){this._queryView&&this._queryView.showWarnings(e),this.triggerJqlSuccess()},searchersReady:function(){return this._basicQueryModule.searchersReady()},onSearchError:function(e){this._errors.renderFunction="showErrors";var t=e.errorMessages?e.errorMessages.concat():[],i=[];r.each(e.errors,function(e,r){"jql"===r?i.push(e):t.push(e)}),this.getSearchMode()===this._queryStateModel.BASIC_SEARCH&&!this._basicQueryModule.hasErrors()&&i.length>0&&this.setSearchMode(this._queryStateModel.ADVANCED_SEARCH),this._errors[this._queryStateModel.BASIC_SEARCH]=t,this._errors[this._queryStateModel.ADVANCED_SEARCH]=i.concat(t),this.showSearchErrors(),this.triggerJqlError()},showSearchErrors:function(){if(this._queryView){this._queryView.clearNotifications();var e=this._errors.renderFunction||"showErrors";this._queryView[e](this._errors[this.getSearchMode()])}},clearSearchErrors:function(){this._queryView&&(this._queryView.clearNotifications(),this._queryView.switcherViewModel.enableSwitching()),this._errors[this._queryStateModel.BASIC_SEARCH].length=0,this._errors[this._queryStateModel.ADVANCED_SEARCH].length=0},getSearchMode:function(){return this._queryStateModel.getSearchMode()},getActiveBasicModeSearchers:function(){return this._basicQueryModule.getSelectedCriteria()},setSearchMode:function(e){return this.getSearchMode()!==e&&(this._queryStateModel.switchToSearchMode(e),!0)},createAndRenderView:function(e){this._queryView=new i({el:e,queryStateModel:this._queryStateModel,basicQueryModule:this._basicQueryModule,jqlQueryModule:this._jqlQueryModule}).onVerticalResize(this.triggerVerticalResize,this),this._queryView.render()},isQueryValid:function(){return this._errors&&0===this._errors[this._queryStateModel.BASIC_SEARCH].length&&0===this._errors[this._queryStateModel.ADVANCED_SEARCH].length},cleanup:function(){this._basicQueryModule.off(),this._basicQueryModule.unbind(),this._jqlQueryModule.off(),this._jqlQueryModule.unbind(),this._queryStateModel.off(),this._queryStateModel.unbind(),this._queryView.remove(),this._queryView.unbind(),this._queryView.switcherView.remove(),this._queryView.switcherView.unbind(),this.off(),this.unbind()}})});
//# sourceMappingURL=QueryModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/QueryStateModel.js' */
define("jira/components/query/querystatemodel",["require"],function(e){"use strict";var r=e("jira/components/libs/brace"),t=e("jira/components/query/messages"),a=e("wrm/context-path"),c=e("jquery"),s=e("jira/components/utils/trace");return r.Model.extend({BASIC_SEARCH:"basic",ADVANCED_SEARCH:"advanced",namedAttributes:["style","searchMode","preferredSearchMode","jql","without","withoutSearcherIds","layoutSwitcher","modeSwitcher","autocompleteEnabled","advancedAutoUpdate","basicAutoUpdate","basicOrderBy","basicQueryComponentParameters","advancedParameters"],defaults:{searchMode:"basic",preferredSearchMode:"basic"},switchToSearchMode:function(e){this.setSearchMode(e)},switchPreferredSearchMode:function(e){this.switchToSearchMode(e),this.setPreferredSearchMode(e),this._savePreferredSearchMode()},switchToPreferredSearchMode:function(){this.switchToSearchMode(this.getPreferredSearchMode())},hasSearchButton:function(){return"field"!==this.getStyle()},hasSubtleMoreCriteria:function(){return"field"!==this.getStyle()},_savePreferredSearchMode:function(){c.ajax({url:a()+"/rest/querycomponent/latest/userSearchMode",type:"POST",headers:{"X-Atlassian-Token":"no-check"},data:{searchMode:this.getPreferredSearchMode()},error:function(e){t.displayFailSearchMessage(e)},success:function(){s("jira.search.mode.changed")}})}})});
//# sourceMappingURL=QueryStateModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/SwitcherModel.js' */
define("jira/components/query/switchermodel",["require"],function(e){"use strict";var t=e("jira/components/libs/brace");return t.Model.extend({namedAttributes:["id","name","view","text"]})});
//# sourceMappingURL=SwitcherModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/SwitcherCollection.js' */
define("jira/components/query/switchercollection",["require"],function(e){"use strict";var r=e("jira/components/libs/brace"),n=e("jira/components/query/switchermodel");return r.Collection.extend({model:n})});
//# sourceMappingURL=SwitcherCollection-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/QuerySwitcherViewModel.js' */
define("jira/components/query/queryswitcherviewmodel",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),i=e("jira/components/query/mixin/singleselect");return t.Model.extend({mixins:[i],namedAttributes:["disabled"],namedEvents:["selectionChanged"],initialize:function(e,t){this.queryStateModel=t.queryStateModel,this.queryStateModel.on("change:searchMode",function(){this.triggerSelectionChanged.apply(this,arguments)}.bind(this))},getSelected:function(){var e=this.queryStateModel.getSearchMode();return e?this.getCollection().get(e):null},setSelected:function(e){this.queryStateModel.switchPreferredSearchMode(e?e.id:null)},enableSwitching:function(){this.setDisabled(!1)},disableSwitching:function(){this.setDisabled(!0)}})});
//# sourceMappingURL=QuerySwitcherViewModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/QueryView.js' */
define("jira/components/query/queryview",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),i=e("jira/components/query/templates/issuenavquery"),s=e("jira/components/query/switchercollection"),r=e("jira/components/query/switcherview"),n=e("jira/components/query/queryswitcherviewmodel"),o=e("jira/components/query/templates/issues/componentutil");return t.View.extend({namedEvents:["verticalResize"],template:i.queryView,events:{"click .search-button":"search",submit:"preventDefault","click .copy-button":"copy"},initialize:function(e){this.queryStateModel=e.queryStateModel;var t=new s([{id:this.queryStateModel.BASIC_SEARCH,name:"Basic",view:e.basicQueryModule.createView()},{id:this.queryStateModel.ADVANCED_SEARCH,name:"Advanced",view:e.jqlQueryModule.createView()}]);this.jqlQueryModule=e.jqlQueryModule,this.switcherViewModel=new n({collection:t},{queryStateModel:this.queryStateModel}),this.switcherView=new r({template:i.searchSwitcher,model:this.switcherViewModel,containerClass:".search-container"}).onVerticalResize(this.triggerVerticalResize,this)},render:function(){return this.$el.html(this.template(this.queryStateModel.toJSON())),this.switcherView.setElement(this.$el).render(),this.switcherView.setVisible(this.queryStateModel.attributes.modeSwitcher),this},preventDefault:function(e){e.preventDefault()},clearNotifications:function(){this.$(".notifications").empty()},search:function(){this.queryStateModel.ADVANCED_SEARCH===this.switcherViewModel.getSelected().getId()?this.jqlQueryModule.search():this.getView().search()},copy:function(){this.jqlQueryModule.copy()},getView:function(){return this.switcherViewModel.getSelected().getView()},showErrors:function(e){this.$(".notifications").append(o.errorMessage({messages:e}))},showWarnings:function(e){this.$(".notifications").append(o.warningMessage({messages:e}))},setVisible:function(e){this.$(".search-container").toggleClass("hidden",!e),this.switcherView.setVisible(this.queryStateModel.attributes.modeSwitcher&&e)}})});
//# sourceMappingURL=QueryView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/SwitcherView.js' */
define("jira/components/query/switcherview",["require"],function(e){"use strict";function t(){return c.isFeatureEnabled("nav-ux.exp-quality-improvements")}var i=e("jquery"),s=e("jira/components/libs/brace"),n=e("jira/issues/tipsy"),a=e("jira/analytics/web-client"),c=e("jira/featureflags/feature-manager");return s.View.extend({namedEvents:["verticalResize"],tagName:"div",events:{"click .switcher-item":"_onSwitcherClick"},initialize:function(e){this.containerClass=e.containerClass,this.model=e.model,this.template=e.template,this.model.onSelectionChanged(this._onSelect,this),this.switchEl=i(),this.model.on("change:disabled",this._setSwitching.bind(this))},render:function(){this._onSelect(),this._render()},_render:function(){var e=this.model.getSelected();this.switchEl=this.$el.find(".mode-switcher"),this.switchEl.html(this.template({items:this.model.getCollection().toJSON(),selectedId:e&&e.id,isUpdateRefinementBarTextEnabled:t()})),new n({el:this.$el.find(".switcher-item.active")})},getSwitcherTrigger:function(){return this.switchEl.find(".switcher-item.active")},_onSelect:function(){var e=this.$el.find(this.containerClass).empty(),t=this.model.getSelected();t&&(e.attr("data-mode",t.id),t.getView().setElement(e).render()),this._render(),this.triggerVerticalResize()},_onSwitcherClick:function(e){if(e.preventDefault(),!this.model.getDisabled()){this.model.next();var t=this.model.getSelected();if(t){a.sendUIEvent({source:"globalIssueNavigatorScreen",actionSubject:"link",actionSubjectId:"basic"===t.id?"basicSearchLink":"advancedSearchLink",action:"clicked",attributes:{currentLayout:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()}});var i=t.getView();i.focus&&i.focus()}}},_setSwitching:function(){this.model.getDisabled()?this.disableSwitching():this.enableSwitching()},disableSwitching:function(){this.switchEl.addClass("disabled"),this.getSwitcherTrigger().attr("original-title","This query is too complex to display in Simple mode.")},enableSwitching:function(){this.switchEl.removeClass("disabled");var e=this.model.getSelected();e&&"advanced"===e.id&&this.getSwitcherTrigger().attr("original-title","Switch to basic search")},setVisible:function(e){this.switchEl.toggleClass("hidden",!e)}})});
//# sourceMappingURL=SwitcherView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/Query.js' */
define("jira/components/query",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),s=e("jquery"),r=e("jira/components/query/querymodule"),n=e("jira/components/query/querystatemodel"),o=e("jira/util/events"),a=e("jira/util/events/types");return o.bind(a.CHECKBOXMULITSELECT_READY,function(e,t){t.closest(".form-body").addClass("checkboxmultiselect-container")}),function(){var e={project:"Project",issuetype:"Type",status:"Status",assignee:"Assignee",reporter:"Reporter",labels:"Labels",resolution:"Resolution",created:"Created Date",updated:"Updated Date",resolutiondate:"Resolution Date",description:"Description",duedate:"Due Date",comment:"Comment",fixfor:"Fix Version",version:"Affects Version",component:"Component"};return{DEFAULT_CLAUSES:["project","issuetype","status","assignee"],create:function(o){o=t.defaults(o,{primaryClauses:this.DEFAULT_CLAUSES,without:[],style:"generic",layoutSwitcher:!0,modeSwitcher:!0,autocompleteEnabled:!0,advancedAutoUpdate:!1,basicOrderBy:!1,basicAutoUpdate:!0,preferredSearchMode:"basic"}),o.primaryClauses=t.reject(o.primaryClauses,function(e){return t.contains(o.without,e.id)}),t.each(o.primaryClauses,function(t,s){"string"==typeof t&&(e[t]?o.primaryClauses[s]={id:t,name:e[t]}:console.error("jira/components/query: You have specified clause ["+t+"]. But we do not have the i18n string for it, probably a custom field. Instead use {id:"+t+", name: '[NAME_HERE]'}"))});var a=new r({queryStateModel:new n({jql:o.jql,without:o.without,withoutSearcherIds:o.withoutSearcherIds,style:o.style,layoutSwitcher:o.layoutSwitcher,modeSwitcher:o.modeSwitcher,autocompleteEnabled:o.autocompleteEnabled,advancedAutoUpdate:o.advancedAutoUpdate,basicAutoUpdate:o.basicAutoUpdate,preferredSearchMode:o.preferredSearchMode,basicOrderBy:o.basicOrderBy,basicQueryComponentParameters:o.basicQueryComponentParameters,advancedParameters:o.advancedParameters}),primaryClauses:o.primaryClauses,searchers:o.searchers,queryComponentPromise:o.queryComponentPromise,context:o.context});return s(o.el).addClass("query-component "+o.style+"-styled"),a.createAndRenderView(o.el),(o.jql||""===o.jql)&&a.resetToQuery(o.jql).always(function(){s(o.el).addClass("ready"),a.triggerInitialized(o.jql)}),a}}}()});
//# sourceMappingURL=Query-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/Messages.js' */
define("jira/components/query/messages",["require"],function(e){"use strict";var r=e("jira/message"),a=e("jira/ajs/ajax/smart-ajax");return{displayFailSearchMessage:function(e){if(e&&"abort"!==e.statusText)return r.showErrorMsg(a.buildSimpleErrorContent(e),{closeable:!0})}}});
//# sourceMappingURL=Messages-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/componentutil.js' */
define("jira/components/query/templates/issues/componentutil",function(){"use strict";return JIRA.Templates.Issues.ComponentUtil});
//# sourceMappingURL=componentutil-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/issuenavquery.js' */
define("jira/components/query/templates/issuenavquery",function(){"use strict";return JIRA.Templates.IssueNavQuery});
//# sourceMappingURL=issuenavquery-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/issuenavquerybasic.js' */
define("jira/components/query/templates/issuenavquerybasic",function(){"use strict";return JIRA.Templates.IssueNavQueryBasic});
//# sourceMappingURL=issuenavquerybasic-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/issuenavqueryjql.js' */
define("jira/components/query/templates/issuenavqueryjql",function(){"use strict";return JIRA.Templates.IssueNavQueryJql});
//# sourceMappingURL=issuenavqueryjql-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/templates/namespace.js' */
AJS.namespace("JIRA.Templates.IssueNavQuery",null,require("jira/components/query/templates/issuenavquery")),AJS.namespace("JIRA.Templates.IssueNavQueryBasic",null,require("jira/components/query/templates/issuenavquerybasic")),AJS.namespace("JIRA.Templates.IssueNavQueryJql",null,require("jira/components/query/templates/issuenavqueryjql")),AJS.namespace("JIRA.Templates.Issues.ComponentUtil",null,require("jira/components/query/templates/issues/componentutil"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'jira-issue-navigator-components-module/query/namespace.js' */
AJS.namespace("JIRA.Components.Query",null,require("jira/components/query")),AJS.namespace("JIRA.Issues.QueryModule",null,require("jira/components/query/querymodule")),AJS.namespace("JIRA.Issues.QueryStateModel",null,require("jira/components/query/querystatemodel")),AJS.namespace("JIRA.Issues.QuerySwitcherViewModel",null,require("jira/components/query/queryswitcherviewmodel")),AJS.namespace("JIRA.Issues.QueryView",null,require("jira/components/query/queryview")),AJS.namespace("JIRA.Issues.SwitcherCollection",null,require("jira/components/query/switchercollection")),AJS.namespace("JIRA.Issues.SwitcherModel",null,require("jira/components/query/switchermodel")),AJS.namespace("JIRA.Issues.SwitcherView",null,require("jira/components/query/switcherview")),AJS.namespace("JIRA.Issues.Mixin.SingleSelect",null,require("jira/components/query/mixin/singleselect")),AJS.namespace("JIRA.Issues.JqlQueryModule",null,require("jira/components/query/jql/jqlquerymodule")),AJS.namespace("JIRA.Issues.JqlQueryView",null,require("jira/components/query/jql/jqlqueryview")),AJS.namespace("JIRA.Issues.JQLAutoCompleteView",null,require("jira/components/query/jql/jqlautocompleteview")),AJS.namespace("JIRA.Issues.BasicQueryModule",null,require("jira/components/query/basic/basicquerymodule")),AJS.namespace("JIRA.Issues.SearcherCollection",null,require("jira/components/query/basic/searchercollection")),AJS.namespace("JIRA.Issues.SearcherDialog",null,require("jira/components/query/basic/searcherdialog")),AJS.namespace("JIRA.Issues.SearcherModel",null,require("jira/components/query/basic/searchermodel")),AJS.namespace("JIRA.Issues.BasicQueryView",null,require("jira/components/query/basic/basicqueryview")),AJS.namespace("JIRA.Issues.CardView",null,require("jira/components/query/basic/cardview")),AJS.namespace("JIRA.Issues.ClauseButtonView",null,require("jira/components/query/basic/clausebuttonview")),AJS.namespace("JIRA.Issues.ClauseListDialogView",null,require("jira/components/query/basic/clauselistdialogview")),AJS.namespace("JIRA.Issues.CriteriaModel",null,require("jira/components/query/basic/criteriamodel")),AJS.namespace("JIRA.Issues.CriteriaView",null,require("jira/components/query/basic/criteriaview")),AJS.namespace("JIRA.Issues.ExtendedCriteriaContainerView",null,require("jira/components/query/basic/extendedcriteriacontainerview")),AJS.namespace("JIRA.Issues.PrimaryCriteriaContainerView",null,require("jira/components/query/basic/primarycriteriacontainerview")),AJS.namespace("JIRA.Issues.SearcherEditDialogView",null,require("jira/components/query/basic/searchereditdialogview")),AJS.namespace("JIRA.Issues.SearcherGroupListDialogView",null,require("jira/components/query/basic/searchergrouplistdialogview")),AJS.namespace("JIRA.Issues.TextFieldView",null,require("jira/components/query/basic/textfieldview")),AJS.namespace("JIRA.Issues.TextQueryBuilder",null,require("jira/components/query/basic/textquerybuilder"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-query', location = 'content/js/search/query/SearchShifter.js' */
define("jira/issues/search/query/search-shifter",["require"],function(e){"use strict";var r=e("jquery"),t=e("jira/components/query/basic/searcherdialog");return function(e){var n,i,c,s;return n=function(){var t=e.searcherCollection.chain().filter(c).map(s).value();return function(){return(new r.Deferred).resolve(t).promise()}},i=function(r){var n=t.instance.getCurrentSearcher(),i=e.searcherCollection.get(r);i.getIsSelected()||i.select(),n&&n.getId()===i.getId()||t.instance.toggle(i)},c=function(e){return e.getIsShown()},s=function(e){return{label:e.getName(),value:e.getId()}},function(){return!e.isBasicMode()||e.isFullScreenIssue()?null:{getSuggestions:n(),name:"Search Criteria",onSelection:i,weight:150}}}});
//# sourceMappingURL=SearchShifter-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-query', location = 'content/js/search/query/namespace.js' */
AJS.namespace("JIRA.Issues.SearchShifter",null,require("jira/issues/search/query/search-shifter"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issuecomponentresolver', location = 'jira-issue-navigator-components-module/issuecomponentresolver/IssueComponentResolver.js' */
define("jira/components/issuecomponentresolver",["require"],function(e){"use strict";var n=e("jira/components/util/inline-edit-feature"),i=e("jira/components/issueviewer"),r=e("jira/components/issueeditor");return{resolve:function(){return n.isEnabled()?r:i}}});
//# sourceMappingURL=IssueComponentResolver-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-2.1.0', location = 'jira-issue-navigator-components-module/libs/marionette-2.1.0.js' */
define("jira/components/libs/marionette-2.1.0",["require"],function(e){"use strict";function t(e,t){var i=s.defaults({},t||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0}});return this.trigger(e,i),i}function i(e,t){var i=this.triggerPreventable(e,t);i.isPrevented&&t.preventDefault()}var n=e("atlassian/libs/factories/marionette-2.1.0"),r=e("jira/components/libs/backbone"),s=e("jira/components/libs/underscore"),o=n(s,r);return s.extend(o.View.prototype,{unwrapTemplate:function(e){if(!e||this.$el.hasClass(e))if(this.$el.parent().length){var t=this.$el.children();this.$el.replaceWith(t),this.setElement(t)}else this.setElement(this.$el.children())},triggerPreventable:t,retriggerPreventable:i}),s.extend(o.Controller.prototype,{triggerPreventable:t,retriggerPreventable:i}),o.ViewManager=o.Object.extend({constructor:function(){this.views={},o.Controller.apply(this,arguments)},hideView:function(e){var t=this.views[e];t&&(this.stopListening(t),t.isDestroyed||t.destroy(),delete this.views[e])},showView:function(e,t){var i=this.buildView(e,t);i.render()},buildView:function(e,t){var i=this.views[e];return i||(i=t.call(this),this.listenTo(i,"destroy",function(){this.hideView(e)}),this.views[e]=i),i},getView:function(e){return this.views[e]},onDestroy:function(){s.each(this.views,function(e,t){this.hideView(t)},this)}}),o}),define("jira/components/lib/marionette-2.1.0",["require"],function(e){"use strict";return e("jira/components/libs/marionette-2.1.0")});
//# sourceMappingURL=marionette-2.1.0-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:backbone.paginator-2.0.2-factory', location = 'factories/backbone.paginator/2.0.2/backbone.paginator-2.0.2-factory.js' */
(function(m){define("atlassian/libs/factories/backbone.paginator-2.0.2",function(){return function(v,i){m.call({_:v,Backbone:i});var l=i.PageableCollection.noConflict();l.VERSION="2.0.2";return l}})})(function(){var m=this.Backbone,v=m.PageableCollection,i=this._,l=function(a,b){if(!i.isNumber(a)||i.isNaN(a)||!i.isFinite(a)||~~a!==a)throw new TypeError("`"+b+"` must be a finite integer");return a},D=function(a,b,d){if((a=a._events[b])&&a.length){var c=a[a.length-1],e=c.callback;c.callback=function(){try{e.apply(this,
arguments),d()}catch(a){throw a;}finally{c.callback=e}}}else d()},n=i.extend,o=i.omit,t=i.clone,p=i.each,H=i.pick,I=i.contains,E=i.isEmpty,F=i.pairs,N=i.invert,z=i.isArray,A=i.isFunction,J=i.isObject,x=i.keys,y=i.isUndefined,u=Math.ceil,K=Math.floor,G=Math.max,B=m.Collection.prototype,L=/[\s'"]/g,O=/[<>\s'"]/g,M=m.PageableCollection=m.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",
pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(a,b){B.constructor.apply(this,arguments);var b=b||{},d=this.mode=b.mode||this.mode||w.mode,c=n({},w.queryParams,this.queryParams,b.queryParams||{});c.directions=n({},w.queryParams.directions,this.queryParams.directions,c.directions||{});this.queryParams=c;c=this.state=n({},w.state,this.state,b.state||{});c.currentPage=null==c.currentPage?
c.firstPage:c.currentPage;z(a)||(a=a?[a]:[]);a=a.slice();"server"!=d&&(null==c.totalRecords&&!E(a))&&(c.totalRecords=a.length);this.switchMode(d,n({fetch:!1,resetState:!1,models:a},b));var e=b.comparator;c.sortKey&&!e&&this.setSorting(c.sortKey,c.order,b);if("server"!=d&&(d=this.fullCollection,e&&b.full&&(this.comparator=null,d.comparator=e),b.full&&d.sort(),a&&!E(a)))this.reset(a,n({silent:!0},b)),this.getPage(c.currentPage),a.splice.apply(a,[0,a.length].concat(this.models));this._initState=t(this.state)},
_makeFullCollection:function(a,b){var d=["url","model","sync","comparator"],c=this.constructor.prototype,e,f,h,g={};e=0;for(f=d.length;e<f;e++)h=d[e],y(c[h])||(g[h]=c[h]);g=new (m.Collection.extend(g))(a,b);e=0;for(f=d.length;e<f;e++)h=d[e],this[h]!==c[h]&&(g[h]=this[h]);return g},_makeCollectionEventHandler:function(a,b){return function(d,c,e,f){var h=a._handlers;p(x(h),function(d){var c=h[d];a.off(d,c);b.off(d,c)});var g=t(a.state),r=g.firstPage,j=g.pageSize,k=(0===r?g.currentPage:g.currentPage-
1)*j,q=k+j;if("add"==d){var i,m,l,s,f=f||{};e==b?(m=b.indexOf(c),m>=k&&m<q&&(s=a,i=l=m-k)):(i=a.indexOf(c),s=b,l=!y(f.at)?f.at+k:k+i);f.onRemove||(++g.totalRecords,delete f.onRemove);a.state=a._checkState(g);if(s){s.add(c,n({},f||{},{at:l}));var o=i>=j?c:!y(f.at)&&l<q&&a.length>j?a.at(j):null;o&&D(e,d,function(){a.remove(o,{onAdd:true})})}}if("remove"==d)if(f.onAdd)delete f.onAdd;else{--g.totalRecords?(i=g.totalPages=u(g.totalRecords/j),g.lastPage=0===r?i-1:i||r,g.currentPage>i&&(g.currentPage=g.lastPage)):
(g.totalRecords=null,g.totalPages=null);a.state=a._checkState(g);var C,r=f.index;e==a?((C=b.at(q))?D(a,d,function(){a.push(C,{onRemove:true})}):!a.length&&g.totalRecords&&a.reset(b.models.slice(k-j,q-j),n({},f,{parse:!1})),b.remove(c)):r>=k&&r<q&&((C=b.at(q-1))&&D(a,d,function(){a.push(C,{onRemove:true})}),a.remove(c),!a.length&&g.totalRecords&&a.reset(b.models.slice(k-j,q-j),n({},f,{parse:!1})))}if("reset"==d)if(f=e,e=c,e==a&&null==f.from&&null==f.to)g=b.models.slice(0,k),j=b.models.slice(k+a.models.length),
b.reset(g.concat(a.models).concat(j),f);else if(e==b){if(!(g.totalRecords=b.models.length))g.totalRecords=null,g.totalPages=null;"client"==a.mode&&(g.lastPage=g.currentPage=g.firstPage);a.state=a._checkState(g);a.reset(b.models.slice(k,q),n({},f,{parse:!1}))}"sort"==d&&(f=e,c===b&&a.reset(b.models.slice(k,q),n({},f,{parse:!1})));p(x(h),function(d){var c=h[d];p([a,b],function(a){a.on(d,c);a=a._events[d]||[];a.unshift(a.pop())})})}},_checkState:function(a){var b=this.mode,d=this.links,c=a.totalRecords,
e=a.pageSize,f=a.currentPage,h=a.firstPage,g=a.totalPages;if(null!=c&&null!=e&&null!=f&&null!=h&&("infinite"==b?d:1)){c=l(c,"totalRecords");e=l(e,"pageSize");f=l(f,"currentPage");h=l(h,"firstPage");if(1>e)throw new RangeError("`pageSize` must be >= 1");g=a.totalPages=u(c/e);if(0>h||1<h)throw new RangeError("`firstPage must be 0 or 1`");a.lastPage=0===h?G(0,g-1):g||h;if("infinite"==b){if(!d[f+""])throw new RangeError("No link found for page "+f);}else if(f<h||0<g&&(h?f>g:f>=g))throw new RangeError("`currentPage` must be firstPage <= currentPage "+
(h?">":">=")+" totalPages if "+h+"-based. Got "+f+".");}return a},setPageSize:function(a,b){var a=l(a,"pageSize"),b=b||{first:!1},d=this.state,c=u(d.totalRecords/a),e=c?G(d.firstPage,K(c*d.currentPage/d.totalPages)):d.firstPage,d=this.state=this._checkState(n({},d,{pageSize:a,currentPage:b.first?d.firstPage:e,totalPages:c}));return this.getPage(d.currentPage,o(b,["first"]))},switchMode:function(a,b){if(!I(["server","client","infinite"],a))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');
var b=b||{fetch:!0,resetState:!0},d=this.state=b.resetState?t(this._initState):this._checkState(n({},this.state));this.mode=a;var c=this,e=this.fullCollection,f=this._handlers=this._handlers||{},h;if("server"!=a&&!e){e=this._makeFullCollection(b.models||[],b);e.pageableCollection=this;this.fullCollection=e;var g=this._makeCollectionEventHandler(this,e);p(["add","remove","reset","sort"],function(a){f[a]=h=i.bind(g,{},a);c.on(a,h);e.on(a,h)});e.comparator=this._fullComparator}else"server"==a&&e&&(p(x(f),
function(a){h=f[a];c.off(a,h);e.off(a,h)}),delete this._handlers,this._fullComparator=e.comparator,delete this.fullCollection);if("infinite"==a)for(var r=this.links={},j=d.firstPage,k=u(d.totalRecords/d.pageSize),j=0===j?G(0,k-1):k||j,d=d.firstPage;d<=j;d++)r[d]=this.url;else this.links&&delete this.links;return b.fetch?this.fetch(o(b,"fetch","resetState")):this},hasPreviousPage:function(){var a=this.state,b=a.currentPage;return"infinite"!=this.mode?b>a.firstPage:!!this.links[b-1]},hasNextPage:function(){var a=
this.state,b=this.state.currentPage;return"infinite"!=this.mode?b<a.lastPage:!!this.links[b+1]},getFirstPage:function(a){return this.getPage("first",a)},getPreviousPage:function(a){return this.getPage("prev",a)},getNextPage:function(a){return this.getPage("next",a)},getLastPage:function(a){return this.getPage("last",a)},getPage:function(a,b){var d=this.mode,c=this.fullCollection,b=b||{fetch:!1},e=this.state,f=e.firstPage,h=e.currentPage,g=e.lastPage,i=e.pageSize,j=a;switch(a){case "first":j=f;break;
case "prev":j=h-1;break;case "next":j=h+1;break;case "last":j=g;break;default:j=l(a,"index")}this.state=this._checkState(n({},e,{currentPage:j}));b.from=h;b.to=j;e=(0===f?j:j-1)*i;c=c&&c.length?c.models.slice(e,e+i):[];if(("client"==d||"infinite"==d&&!E(c))&&!b.fetch)return this.reset(c,o(b,"fetch")),this;"infinite"==d&&(b.url=this.links[j]);return this.fetch(o(b,"fetch"))},getPageByOffset:function(a,b){if(0>a)throw new RangeError("`offset must be > 0`");var a=l(a),d=K(a/this.state.pageSize);0!==
this.state.firstPage&&d++;d>this.state.lastPage&&(d=this.state.lastPage);return this.getPage(d,b)},sync:function(a,b,d){var c=this;if("infinite"==c.mode){var e=d.success,f=c.state.currentPage;d.success=function(a,b,i){var j=c.links,k=c.parseLinks(a,n({xhr:i},d));k.first&&(j[c.state.firstPage]=k.first);k.prev&&(j[f-1]=k.prev);k.next&&(j[f+1]=k.next);e&&e(a,b,i)}}return(B.sync||m.sync).call(c,a,b,d)},parseLinks:function(a,b){var d={},c=b.xhr.getResponseHeader("Link");if(c){var e=["first","prev","next"];
p(c.split(","),function(a){var a=a.split(";"),b=a[0].replace(O,""),a=a.slice(1);p(a,function(a){var c=a.split("="),a=c[0].replace(L,""),c=c[1].replace(L,"");"rel"==a&&I(e,c)&&(d[c]=b)})})}return d},parse:function(a,b){var d=this.parseState(a,t(this.queryParams),t(this.state),b);d&&(this.state=this._checkState(n({},this.state,d)));return this.parseRecords(a,b)},parseState:function(a,b,d){if(a&&2===a.length&&J(a[0])&&z(a[1])){var c=t(d),e=a[0];p(F(o(b,"directions")),function(a){var b=a[0],a=a[1],d=
e[a];!y(d)&&!i.isNull(d)&&(c[b]=e[a])});e.order&&(c.order=1*N(b.directions)[e.order]);return c}},parseRecords:function(a){return a&&2===a.length&&J(a[0])&&z(a[1])?a[1]:a},fetch:function(a){var a=a||{},b=this._checkState(this.state),d=this.mode;"infinite"==d&&!a.url&&(a.url=this.links[b.currentPage]);var c=a.data||{},e=a.url||this.url||"";A(e)&&(e=e.call(this));var f=e.indexOf("?");if(-1!=f){for(var h=e.slice(f+1),g,i,j={},k=decodeURIComponent,m=h.split("&"),l=0,p=m.length;l<p;l++)g=m[l].split("="),
h=g[0],g=g[1]||!0,h=k(h),g=k(g),i=j[h],z(i)?i.push(g):j[h]=i?[i,g]:g;n(c,j);e=e.slice(0,f)}a.url=e;a.data=c;h="client"==this.mode?H(this.queryParams,"sortKey","order"):o(H(this.queryParams,x(w.queryParams)),"directions");l=F(h);e=t(this);for(f=0;f<l.length;f++)j=l[f],m=j[0],k=j[1],k=A(k)?k.call(e):k,null!=b[m]&&null!=k&&(c[k]=b[m]);b.sortKey&&b.order?(f=A(h.order)?h.order.call(e):h.order,c[f]=this.queryParams.directions[b.order+""]):b.sortKey||delete c[h.order];b=F(o(this.queryParams,x(w.queryParams)));
for(f=0;f<b.length;f++)j=b[f],k=j[1],k=A(k)?k.call(e):k,null!=k&&(c[j[0]]=k);if("server"!=d){var u=this,s=this.fullCollection,v=a.success;a.success=function(b,c,e){e=e||{};y(a.silent)?delete e.silent:e.silent=a.silent;var f=b.models;if(d=="client")s.reset(f,e);else{s.add(f,n({at:s.length},n(e,{parse:false})));u.trigger("reset",u,e)}v&&v(b,c,e)};return B.fetch.call(this,n({},a,{silent:!0}))}return B.fetch.call(this,a)},_makeComparator:function(a,b,d){var c=this.state,a=a||c.sortKey,b=b||c.order;if(a&&
b)return d||(d=function(a,b){return a.get(b)}),function(c,f){var h=d(c,a),g=d(f,a),i;1===b&&(i=h,h=g,g=i);return h===g?0:h<g?-1:1}},setSorting:function(a,b,d){var c=this.state;c.sortKey=a;c.order=b=b||c.order;var c=this.fullCollection,e=!1,f=!1;a||(e=f=!0);var h=this.mode,d=n({side:"client"==h?h:"server",full:!0},d),a=this._makeComparator(a,b,d.sortValue),b=d.full,d=d.side;"client"==d?b?(c&&(c.comparator=a),e=!0):(this.comparator=a,f=!0):"server"==d&&!b&&(this.comparator=a);e&&(this.comparator=null);
f&&c&&(c.comparator=null);return this}}),w=M.prototype;m.PageableCollection.noConflict=function(){m.PageableCollection=v;return M}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone.paginator', location = 'jira-issue-navigator-components-module/libs/backbone.paginator.js' */
define("jira/components/libs/backbone.paginator",["require"],function(n){"use strict";var a=n("atlassian/libs/factories/backbone.paginator-2.0.2"),e=n("jira/components/libs/backbone"),i=n("jira/components/libs/underscore");return a(i,e)});
//# sourceMappingURL=backbone.paginator-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'jira-issue-navigator-components-module/search/Search.js' */
define("jira/components/search",["require"],function(e){"use strict";var s=e("wrm/context-path"),t=e("jira/components/libs/backbone"),r=e("jira/components/libs/underscore"),a=e("jquery"),n=e("jira/components/search/results");return t.Collection.extend({url:function(){return s()+"/rest/issueNav/1/issueTable"},searchParams:{jql:"",filterId:null,columnConfig:"explicit",columns:[],layoutKey:"split-view",startIndex:0},sync:function(){var e=r.toArray(arguments),s=e[2];return s.type="POST",s.headers={"X-Atlassian-Token":"no-check"},s.data={},r.each(r.keys(this.searchParams),function(e){null!==this.searchParams[e]&&(s.data[e]=this.searchParams[e])},this),t.Collection.prototype.sync.apply(this,e)},parse:function(e){var s=e&&e.issueTable;return s&&s.issueIds?r.map(s.issueIds,function(e,t){return{id:e,key:s.issueKeys[t]}}):[]},update:function(e){this.set(this.parse(e))},setPreloadedData:function(e){return this.preloadedData=e,this.reset(e.response,{parse:!0}),this.parseResults(e.jql,e.response)},parseResults:function(e,s){return new n([],{issues:this.toJSON(),pageSize:s.issueTable.pageSize,totalRecordsInDB:s.issueTable.total,totalRecordsInSearch:this.length,jql:e})},search:function(e){this.searchParams.jql=e;var s=new a.Deferred;return this.preloadedData&&this.preloadedData.jql===e?(this.reset(this.preloadedData.response,{parse:!0}),s.resolve(this.parseResults(e,this.preloadedData.response)),delete this.preloadedData):this.fetch({reset:!0,success:function(e,t){s.resolve(this.parseResults(e.searchParams.jql,t))}.bind(this),error:function(e,t){s.reject(t)}}),s.promise()}})});
//# sourceMappingURL=Search-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'jira-issue-navigator-components-module/search/SearchResult.js' */
define("jira/components/search/result",["require"],function(e){"use strict";var s=e("wrm/context-path"),i=e("jira/components/libs/backbone");return i.Model.extend({initialize:function(){this.url=function(){return s()+"/rest/api/2/issue/"+this.id+"?fields=summary,status,issuetype"}},parse:function(e){var s={};return e.inaccessible?(s.id=parseInt(e.id,10),s.key=e.key,s.inaccessible=!0):(s.id=parseInt(e.id,10),s.key=e.key,e.fields?(s.summary=e.fields.summary,s.status=e.fields.status.name,s.type={description:e.fields.issuetype.description,iconUrl:e.fields.issuetype.iconUrl,name:e.fields.issuetype.name}):(s.status=e.status,s.summary=e.summary,s.type=e.type)),s}})});
//# sourceMappingURL=SearchResult-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'jira-issue-navigator-components-module/search/SearchResults.js' */
define("jira/components/search/results",["require"],function(e){"use strict";var t=e("wrm/context-path"),s=e("jira/components/libs/backbone.paginator"),i=e("jira/components/libs/underscore"),a=e("jquery"),n=e("jira/components/search/result"),r=e("jira/legacy/deprecator"),l=e("jira/featureflags/feature-manager"),o=e("jira/issues/utils/issue-nav-render-state"),u=l.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli"),h=l.isFeatureEnabled("gin-analytics-to-support-tti-definition"),c=s.extend({initialize:function(e,t){t=t||{},this.allIssues=t.issues,this.state.pageSize=t.pageSize,this.state.totalRecords=t.totalRecordsInSearch,this.totalRecordsInDB=t.totalRecordsInDB,this.allowNoSelection=t.allowNoSelection,this.jql=t.jql,this.hasLoadedTotalCountFromServer=void 0===t.hasLoadedTotalCountFromServer||t.hasLoadedTotalCountFromServer},model:n,url:function(){return t()+"/rest/issueNav/1/issueTable/stable"},state:{firstPage:0,currentPage:0},queryParams:{currentPage:null,pageSize:null,totalPages:null,totalRecords:null,sortKey:null,directions:null},sync:function(){var e=i.toArray(arguments),t=e[2];return t.type="POST",t.headers={"X-Atlassian-Token":"no-check"},t.data.layoutKey="split-view",t.data.id=this._getStableKeys(),s.prototype.sync.apply(this,e)},isAtTheEndOfStableSearch:function(){var e=this.state.currentPage===this.state.lastPage,t=this.totalRecordsInDB>this.state.totalRecords;return e&&t},setPreloadedData:function(e){this.preloadedData=e,this.reset(e.response,{parse:!0})},_getStableKeys:function(e){var t="undefined"==typeof e?this._getStartIndex():e;return i.pluck(this.allIssues,"id").slice(t,t+this.state.pageSize)},_getStartIndex:function(){return this.state.pageSize*this.state.currentPage},_loadPageAndSelect:function(e,t,s){var i=new a.Deferred,n={fetch:!0,reset:!0};return this.trigger("before:loadpage",{pageToLoad:e}),this.getPage(e,n).done(function(){u&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("retrieveIssueTableForGivenStableIds"),h?this.select(t,s||{systemSelect:!0}):this.select(t),i.resolve(this.length)}.bind(this)).fail(function(e){u&&JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("retrieveIssueTableForGivenStableIds",{reason:"retrieve-issue-table-for-given-stable-ids-failed-with-status-code",statusCode:resp.status}),i.reject(e),this.trigger("error:loadpage",e)}.bind(this)),i.promise()},fetch:function(e){var t,n=o.shouldUseServerRenderedIssueTableJson(),r=this.preloadedData;return n&&r&&i.isEqual(r.ids.sort(),this._getStableKeys(this.state.pageSize*e.to).sort())||r&&i.isEqual(r.ids,this._getStableKeys(this.state.pageSize*e.to))?(this.reset(this.preloadedData.response,{parse:!0}),t=(new a.Deferred).resolve().promise(),delete this.preloadedData):t=s.prototype.fetch.call(this,e),t},jumpToPage:function(e){var t=new a.Deferred;return this._loadPageAndSelect(e,"first").done(t.resolve).fail(t.reject),t.promise()},jumpToPageForIssue:function(e){for(var t,s,i=new a.Deferred,r="number"==typeof e,l="string"==typeof e,o=0,u=this.allIssues.length;o<u&&!s;o++)(r&&this.allIssues[o].id===e||l&&this.allIssues[o].key===e)&&(s=this.allIssues[o],t=Math.floor(o/this.state.pageSize));return"number"==typeof t&&isFinite(t)?this._loadPageAndSelect(t,s.id).done(i.resolve):this.allowNoSelection?this._loadPageAndSelect("first",null).done(function(){this.trigger("selectIssueNotInList",new n({id:r?e:void 0,key:l?e:void 0}))}.bind(this)).done(i.resolve):this._loadPageAndSelect("first","first").done(i.resolve),i.promise()},parse:function(e,t){var a=t.data,n=e&&e.issueTable,r=this.allIssues;return i.each(n.table,function(e,t){if(null===e){var s=a.id[t],l=i.findWhere(r,{id:s});l&&(n.table[t]={id:l.id,key:l.key,inaccessible:!0})}}),s.prototype.parse.call(this,n)},parseState:function(){return{}},parseRecords:function(e){return e.table?e.table:[]},select:function(e,t){if("string"==typeof e)switch(e){case"first":e=this.at(0);break;case"last":e=this.at(this.length-1);break;default:e=this.findWhere({key:e})}else"number"==typeof e&&(e=this.get(e));this.selected!==e&&this.unselect(),e&&(this.selected=e,h?this.selected.trigger("select",this.selected,t):this.selected.trigger("select",this.selected))},unselect:function(){this.selected&&this.selected.trigger("unselect",this.selected),this.selected=null},navigate:function(e,t){var s,i=this.indexOf(this.selected),a=i+e,n=this.at(a);return h?(e>0?s="nextIssue":e<0&&(s="previousIssue"),t=t||{},Object.assign(t,{direction:s}),n?this.select(n,t):e>0&&this.hasNextPage()?this._loadPageAndSelect("next","first",t):e<0&&this.hasPreviousPage()&&this._loadPageAndSelect("prev","last",t)):n?this.select(n):e>0&&this.hasNextPage()?this._loadPageAndSelect("next","first"):e<0&&this.hasPreviousPage()&&this._loadPageAndSelect("prev","last"),{current:a,total:this.length}},selectNext:function(e){return h?this.navigate(1,e):this.navigate(1)},selectPrev:function(e){return h?this.navigate(-1,e):this.navigate(-1)},_getIssueByNavigation:function(e){var t=this.indexOf(this.selected),s=t+e,i=this.at(s),n=new a.Deferred;return i?(this.select(i),n.resolve(i)):e>0&&this.hasNextPage()?this._loadPageAndSelect("next","first").done(function(){n.resolve(this.selected)}.bind(this)):e<0&&this.hasPreviousPage()?this._loadPageAndSelect("prev","last").done(function(){n.resolve(this.selected)}.bind(this)):n.reject(),n.promise()},getNextIssue:function(){return this._getIssueByNavigation(1)},getPreviousIssue:function(){return this._getIssueByNavigation(-1)},updateSelectedIssue:function(){this.selected&&this.selected.fetch()},updateIssue:function(e){var t=this.get(e);t&&t.fetch()},hasIssueInSearch:function(e){return!!i.where(this.allIssues,{key:e}).length},isEmptySearch:function(){return!this.allIssues.length},removeAndUpdateSelectionIfNeeded:function(e){var t,s=e.get("key"),n=i.chain(this.allIssues).map(function(e){return e.key}).value(),r=i.indexOf(n,s),l=r+1<n.length,o=r-1>=0;t=l?n[r+1]:o?n[r-1]:null;for(var u=0;u<this.allIssues.length;u++){var h=this.allIssues[u];if(h.key===s){this.allIssues.splice(u,1);break}}return this.state.totalRecords=this.state.totalRecords-1,this.totalRecordsInDB=this.totalRecordsInDB-1,this.unselect(),this.remove(e),t?this.jumpToPageForIssue(t).done(function(){this.trigger("issueDeleted")}.bind(this)):(new a.Deferred).resolve(0).promise().done(function(){this.trigger("issueDeleted")}.bind(this))},getIssueKeyForIndex:function(e){var t=this.allIssues[e];if(t)return t.key},getIssueAtGlobalIndex:function(e){return this.allIssues[e]},getPositionOfIssueInSearchResults:function(e){var t=i.indexOf(i.pluck(this.allIssues,"id"),e);return t>-1?t:null},getPositionOfIssueInPage:function(e){var t=this.get(e),s=this.indexOf(t);return s>-1?s:null},getTotalIssues:function(){return this.getTotalIssuesInSearch()},getTotalIssuesInSearch:function(){return this.allIssues.length},getTotalIssuesInDb:function(){return this.totalRecordsInDB},hasLoadedTotalCount:function(){return this.hasLoadedTotalCountFromServer}});return r.prop(c.prototype,"getTotalIssues",{removeInVersion:"8.0",alternativeName:"jira/components/search/results#getTotalIssuesInSearch()",sinceVersion:"7.1",displayName:"Method jira/components/search/results#getTotalIssues()"}),c});
//# sourceMappingURL=SearchResults-min.js.map
;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:brace', location = '/inline-issue-create/lib/backbone.brace/backbone.brace-amd.js' */
define("jira/inline-issue-create/lib/backbone",["atlassian/libs/factories/backbone-1.0.0","atlassian/libs/underscore-1.5.2","jquery"],function(e,i,a){return e(i,a)}),define("jira/inline-issue-create/lib/brace",["jira/inline-issue-create/lib/backbone","atlassian/libs/underscore-1.5.2","atlassian/libs/factories/brace-2014.09.03"],function(e,i,a){"use strict";return a(i,Backbone)});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:marionette', location = '/inline-issue-create/lib/backbone.marionette/backbone.marionette-amd.js' */
define("jira/inline-issue-create/lib/marionette",["jquery","jira/inline-issue-create/lib/backbone","atlassian/libs/underscore-1.5.2","atlassian/libs/factories/marionette-2.1.0"],function(e,t,i,n){"use strict";var r=n(i,t),a={unwrapTemplate:function(){var t=this.$el.children();t.length>1&&AJS.warn("[IIC] Unwrapping template with more than one child - some content will be lost");var i=e(t.get(0));this.$el.parent().length?(this.$el.replaceWith(i),this.setElement(i)):this.setElement(i)}};return i.extend(r.ItemView.prototype,a),i.extend(r.CompositeView.prototype,a),i.extend(r.CollectionView.prototype,a),i.extend(r.LayoutView.prototype,a),r});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:placeholder', location = '/inline-issue-create/lib/jquery-placeholder.js' */
/*! MIT License - https://github.com/mathiasbynens/jquery-placeholder/blob/master/LICENSE-MIT.txt */
/*! http://mths.be/placeholder v2.0.8 by @mathias */
!function(e,a,t){function l(e){var a={},l=/^jQuery\d+$/;return t.each(e.attributes,function(e,t){t.specified&&!l.test(t.name)&&(a[t.name]=t.value)}),a}function r(e,a){var l=this,r=t(l);if(l.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),e===!0)return r[0].value=a;r.focus()}else l.value="",r.removeClass("placeholder"),l==d()&&l.select()}function o(){var e,a=this,o=t(a),d=this.id;if(""==a.value){if("password"==a.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(a){e=t("<input>").attr(t.extend(l(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":d}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":d}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",d).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function d(){try{return a.activeElement}catch(e){}}var c,n,i="[object OperaMini]"==Object.prototype.toString.call(e.operamini),p="placeholder"in a.createElement("input")&&!i,u="placeholder"in a.createElement("textarea")&&!i,h=t.fn,s=t.valHooks,v=t.propHooks;p&&u?(n=h.placeholder=function(){return this},n.input=n.textarea=!0):(n=h.placeholder=function(){var e=this;return e.filter((p?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},n.input=p,n.textarea=u,c={get:function(e){var a=t(e),l=a.data("placeholder-password");return l?l[0].value:a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":e.value},set:function(e,a){var l=t(e),c=l.data("placeholder-password");return c?c[0].value=a:l.data("placeholder-enabled")?(""==a?(e.value=a,e!=d()&&o.call(e)):l.hasClass("placeholder")?r.call(e,!0,a)||(e.value=a):e.value=a,l):e.value=a}},p||(s.input=c,v.value=c),u||(s.textarea=c,v.value=c),t(function(){t(a).delegate("form","submit.placeholder",function(){var e=t(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),t(e).bind("beforeunload.placeholder",function(){t(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery);;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:util', location = '/inline-issue-create/util/util.js' */
define("jira/inline-issue-create/util",["jquery"],function(o){"use strict";var n,t=(document.body||document.documentElement).style,i=["oAnimationEnd","MSAnimationEnd","mozAnimationEnd","webkitAnimationEnd","animationend"];return{cssAnimationsSupport:void 0!==t.transition||void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.MsTransition||void 0!==t.OTransition,addClassAndRemoveOnAnimationEnd:function(n,t,e){function s(){for(r=0;r<i.length;r++)n.off(i[r],s);n.removeClass(t)}var r;if(n=o(n),this.cssAnimationsSupport)for(r=0;r<i.length;r++)n.on(i[r],s);else setTimeout(function(){n.removeClass(t)},e||1e3);n.addClass(t)},scrollElementToView:function(o,n){var t=o[0].getBoundingClientRect(),i=n[0].getBoundingClientRect(),e=o.scrollTop(),s=0;i.top<t.top?s=i.top-t.top:t.bottom<i.bottom&&(s=i.bottom-t.bottom),0!==s&&o.scrollTop(e+s)},keyCode:{ENTER:13,ESC:27},after:function(o,n,t){if(!_.isFunction(t))throw"Body is not a function";o[n]=_.wrap(o[n],function(n){var i=Array.prototype.slice.call(arguments,1),e=n.apply(o,i);return t.apply(this,_.union([e],i)),e})},error:function(o){if(console&&console.error){var n=Array.prototype.slice.call(arguments,1);_.isString(n[0])&&(n[0]="[IIC]"+n[0]),console.error.apply(console,n)}},debug:function(o){if(this.shouldDisplay(o)&&console&&console.debug){var n=Array.prototype.slice.call(arguments,1);_.isString(n[0])&&(n[0]="[IIC]"+n[0]),console.debug.apply(console,n)}},trace:function(o){if(this.shouldDisplay(o)&&console&&console.debug){var n=Array.prototype.slice.call(arguments,1);_.isString(n[0])&&(n[0]="[IIC]"+n[0]),console.debug.apply(console,n)}},shouldDisplay:function(o){return"all"===n||o===n},showLogsFor:function(o){n=o}}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/custom-form-container-factory.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jquery","underscore"],function(e,i){"use strict";var r=function(){var r=JIRA.Forms.Container;return r.extend({lazyInit:function(){var r=this.options.call(this);return this.prefilledValues=r.prefilledValues,this.prefilledValues.fieldsToRetain=i.keys(r.prefilledValues),this.prefilledValues=e.param(r.prefilledValues),this.options=function(){return r},this._super()},render:function(){var r=this,n=e.Deferred();return this.lazyInit(),i.isFunction(r.model.markFieldAsDirty)&&Object.keys(this.options().prefilledValues).forEach(function(e){r.model.markFieldAsDirty(e)}),r.model.getUseConfigurableForm().done(function(e){e===!0?r.configurableForm.render(r.prefilledValues).done(function(e,i){n.resolveWith(r,[r.$element]),r.$element.append(i)}):r.unconfigurableForm.render(r.prefilledValues).done(function(e,i){n.resolveWith(r,[r.$element,i]),r.$element.append(i)})}).fail(function(){n.resolveWith(r,[r.$element])}),n.promise()}})};return{build:r}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog-init-form.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/init-form",["underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(e,r){"use strict";return function(s,o){if(!e.isObject(o))throw new Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.");var i,a=JIRA.Forms.CreateIssueModel,l=JIRA.Forms.ConfigurableCreateIssueForm,t=JIRA.Forms.UnconfigurableCreateIssueForm,n=JIRA.Forms.CreateIssueError,u=JIRA.applyErrorsToForm,d=JIRA.applyErrorMessageToForm;o.done(function(e){i=e,i.prefilledFields=i.prefilledFields||{},i.errors=i.errors||{},i.errorMessages=i.errorMessages||{}}).fail(function(){i={prefilledFields:{},errors:{},errorMessages:{}}});var c=r.build(),f=new c(function(){var e={title:"Create issue",id:"prefillable-create-issue-dialog",globalEventNamespaces:["PrefillableCreateIssueDialog"],issueType:void 0},r=new a({projectId:void 0,issueType:void 0}),s=new l({model:r,title:e.title,globalEventNamespaces:e.globalEventNamespaces}),o=new t({model:r,title:e.title,globalEventNamespaces:e.globalEventNamespaces});return{globalEventNamespaces:e.globalEventNamespaces,model:r,errorHandler:new n,configurableForm:s,unconfigurableForm:o,prefilledValues:i.prefilledFields}}),g=f.asDialog({windowTitle:"Create issue",id:"prefillable-create-issue-dialog"});g.options.delayShowUntil=function(){return o},f.asDialog=function(){return f.dialog},g.onContentReady(function(){e.keys(i.errors).length&&(i.errorMessages.unshift("Please fix the fields marked below."),u(f.$element,i.errors)),i.errorMessages.length&&d(f.$element,i.errorMessages.join("<br/>"))}),s.resolve(f)}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog",["wrm/require","jquery","underscore","jira/inline-issue-create/lib/marionette","jira/loading/loading","jira/flag","jira/inline-issue-create/prefillable-create-issue-dialog/init-form"],function(e,r,i,s,n,o,l){"use strict";var a=AJS.dim,t=AJS.undim,u=function(){a(),n.showLoadingIndicator()},d=function(){t(),n.hideLoadingIndicator()},c=function(i,s){var n=new r.Deferred;return s&&u(),e(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"],l.bind(void 0,n,i)).fail(function(){s&&d(),o.showErrorMsg(null,"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.")}),n.promise()};return{createPrefillableCreateIssueForm:c}}),define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jquery","underscore"],function(e,r){"use strict";var i=JIRA.Forms.Container,s=function(){return i.extend({lazyInit:function(){var i=this.options.call(this);return this.prefilledValues=i.prefilledValues,this.prefilledValues.fieldsToRetain=r.keys(i.prefilledValues),this.prefilledValues=e.param(i.prefilledValues),this.options=function(){return i},this._super()},render:function(){var i=this,s=e.Deferred();return this.lazyInit(),r.isFunction(i.model.markFieldAsDirty)&&Object.keys(this.options().prefilledValues).forEach(function(e){i.model.markFieldAsDirty(e)}),i.model.getUseConfigurableForm().done(function(e){e===!0?i.configurableForm.render(i.prefilledValues).done(function(e,r){s.resolveWith(i,[i.$element]),i.$element.append(r)}):i.unconfigurableForm.render(i.prefilledValues).done(function(e,r){s.resolveWith(i,[i.$element,r]),i.$element.append(r)})}).fail(function(){s.resolveWith(i,[i.$element])}),s.promise()}})};return{build:s}}),define("jira/inline-issue-create/prefillable-create-issue-dialog/ondone",["underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(e,r){"use strict";var i=JIRA.Forms.CreateIssueModel,s=JIRA.Forms.ConfigurableCreateIssueForm,n=JIRA.Forms.UnconfigurableCreateIssueForm,o=JIRA.Forms.CreateIssueError,l=JIRA.applyErrorsToForm,a=JIRA.applyErrorMessageToForm;return function(t,u){if(!e.isObject(u))throw new Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.");var d;u.done(function(e){d=e,d.prefilledFields=d.prefilledFields||{},d.errors=d.errors||{},d.errorMessages=d.errorMessages||{}}).fail(function(){d={prefilledFields:{},errors:{},errorMessages:{}}});var c=r.build(),f=new c(function(){var e={title:"Create issue",id:"prefillable-create-issue-dialog",globalEventNamespaces:["PrefillableCreateIssueDialog"],issueType:void 0},r=new i({projectId:void 0,issueType:void 0}),l=new s({model:r,title:e.title,globalEventNamespaces:e.globalEventNamespaces}),a=new n({model:r,title:e.title,globalEventNamespaces:e.globalEventNamespaces});return{globalEventNamespaces:e.globalEventNamespaces,model:r,errorHandler:new o,configurableForm:l,unconfigurableForm:a,prefilledValues:d.prefilledFields}}),m=f.asDialog({windowTitle:"Create issue",id:"prefillable-create-issue-dialog"});m.options.delayShowUntil=function(){return u},f.asDialog=function(){return f.dialog},m.onContentReady(function(){e.keys(d.errors).length&&(d.errorMessages.unshift("Please fix the fields marked below."),l(f.$element,d.errors)),d.errorMessages.length&&a(f.$element,d.errorMessages.join("<br/>"))}),t.resolve(f)}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = 'inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.InlineIssueCreate&&(JIRA.Templates.InlineIssueCreate={}),JIRA.Templates.InlineIssueCreate.trigger=function(A,i){return A=A||{},'<div class="iic'+(A.cssClass?" "+soy.$$escapeHtml(A.cssClass):"")+(A.isAgility?" agility-backlog-iic":"")+'"><div class="iic-trigger"><button type="button">'+soy.$$escapeHtml("Create issue")+"</button></div></div>"},JIRA.Templates.InlineIssueCreate.widget=function(A,i){return A=A||{},'<div class="iic-widget'+(A.cssClass?" "+soy.$$escapeHtml(A.cssClass):"")+'"><form action="#" method="POST" class="iic-widget__form aui"><div class="iic-widget__issue-type-selector-container"></div><div class='+(A.isAgility?'"iic-widget__summary-container"':"")+'><textarea name="summary" rows="1" cols="50" maxlength="255" class="iic-widget__summary" placeholder="'+soy.$$escapeHtml("What needs to be done?")+'">'+(A.summary?soy.$$escapeHtml(A.summary):"")+"</textarea>"+(A.isAgility?'<div class="iic-widget__create-container"><button type="button" class="aui-button aui-button-primary iic-widget__create" type="button">'+soy.$$escapeHtml("Create")+'</button></div><div class="iic-widget__description-container iic-widget__more iic-widget__cancel" style="display:none;"></div>':'<div class="iic-widget__footer"><div class="iic-widget__description-container"></div><button type="button" class="aui-button aui-button-subtle iic-widget__more" title="'+soy.$$escapeHtml("Open create dialog")+'"><span class="aui-icon aui-icon-small aui-iconfont-more">'+soy.$$escapeHtml("More")+'</span></button><button type="button" class="aui-button aui-button-link iic-widget__cancel">'+soy.$$escapeHtml("Cancel")+'</button><div class="iic-widget__create" style="display:none;"></div></div>')+"</div></form></div>"},JIRA.Templates.InlineIssueCreate.issueTypeSelector=function(A,i){return'<div class="iic-widget__issue-type-selector">'+(A.isAgility?'<div class="iic-widget__issue-type-container">'+(A.isLocked?'<img src="data:image/gif;base64,R0lGODlhEAAQAMQAAP///+7u7t3d3bu7u6qqqpmZmYiIiHd3d2ZmZlVVVURERDMzMyIiIhEREQARAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAQACwAAAAAEAAQAAAFdyAkQgGJJOWoQgIjBM8jkKsoPEzgyMGsCjPDw7ADpkQBxRDmSCRetpRA6Rj4kFBkgLC4IlUGhbNQIwXOYYWCXDufzYPDMaoKGBoKb886OjAKdgZAAgQkfCwzAgsDBAUCgl8jAQkHEAVkAoA1AgczlyIDczUDA2UhACH5BAUHABAALAAAAAAPABAAAAVjICSO0IGIATkqIiMKDaGKC8Q49jPMYsE0hQdrlABCGgvT45FKiRKQhWA0mPKGPAgBcTjsspBCAoH4gl+FmXNEUEBVAYHToJAVZK/XWoQQDAgBZioHaX8igigFKYYQVlkCjiMhACH5BAUHABAALAAAAAAQAA8AAAVgICSOUGGQqIiIChMESyo6CdQGdRqUENESI8FAdFgAFwqDISYwPB4CVSMnEhSej+FogNhtHyfRQFmIol5owmEta/fcKITB6y4choMBmk7yGgSAEAJ8JAVDgQFmKUCCZnwhACH5BAUHABAALAAAAAAQABAAAAViICSOYkGe4hFAiSImAwotB+si6Co2QxvjAYHIgBAqDoWCK2Bq6A40iA4yYMggNZKwGFgVCAQZotFwwJIF4QnxaC9IsZNgLtAJDKbraJCGzPVSIgEDXVNXA0JdgH6ChoCKKCEAIfkEBQcAEAAsAAAAABAADgAABUkgJI7QcZComIjPw6bs2kINLB5uW9Bo0gyQx8LkKgVHiccKVdyRlqjFSAApOKOtR810StVeU9RAmLqOxi0qRG3LptikAVQEh4UAACH5BAUHABAALAAAAAAQABAAAAVxICSO0DCQKBQQonGIh5AGB2sYkMHIqYAIN0EDRxoQZIaC6bAoMRSiwMAwCIwCggRkwRMJWKSAomBVCc5lUiGRUBjO6FSBwWggwijBooDCdiFfIlBRAlYBZQ0PWRANaSkED1oQYHgjDA8nM3kPfCmejiEAIfkEBQcAEAAsAAAAABAAEAAABWAgJI6QIJCoOIhFwabsSbiFAotGMEMKgZoB3cBUQIgURpFgmEI0EqjACYXwiYJBGAGBgGIDWsVicbiNEgSsGbKCIMCwA4IBCRgXt8bDACkvYQF6U1OADg8mDlaACQtwJCEAIfkEBQcAEAAsAAABABAADwAABV4gJEKCOAwiMa4Q2qIDwq4wiriBmItCCREHUsIwCgh2q8MiyEKODK7ZbHCoqqSjWGKI1d2kRp+RAWGyHg+DQUEmKliGx4HBKECIMwG61AgssAQPKA19EAxRKz4QCVIhACH5BAUHABAALAAAAAAQABAAAAVjICSOUBCQqHhCgiAOKyqcLVvEZOC2geGiK5NpQBAZCilgAYFMogo/J0lgqEpHgoO2+GIMUL6p4vFojhQNg8rxWLgYBQJCASkwEKLC17hYFJtRIwwBfRAJDk4ObwsidEkrWkkhACH5BAUHABAALAAAAQAQAA8AAAVcICSOUGAGAqmKpjis6vmuqSrUxQyPhDEEtpUOgmgYETCCcrB4OBWwQsGHEhQatVFhB/mNAojFVsQgBhgKpSHRTRxEhGwhoRg0CCXYAkKHHPZCZRAKUERZMAYGMCEAIfkEBQcAEAAsAAABABAADwAABV0gJI4kFJToGAilwKLCST6PUcrB8A70844CXenwILRkIoYyBRk4BQlHo3FIOQmvAEGBMpYSop/IgPBCFpCqIuEsIESHgkgoJxwQAjSzwb1DClwwgQhgAVVMIgVyKCEAIfkECQcAEAAsAAAAABAAEAAABWQgJI5kSQ6NYK7Dw6xr8hCw+ELC85hCIAq3Am0U6JUKjkHJNzIsFAqDqShQHRhY6bKqgvgGCZOSFDhAUiWCYQwJSxGHKqGAE/5EqIHBjOgyRQELCBB7EAQHfySDhGYQdDWGQyUhADs="/>':'<img src="'+soy.$$escapeHtml(A.issueTypeIconUrl)+'"/>')+'</div><div class="iic-widget__issue-type-selector__trigger iic-widget__issue-type-selector__dropdown aui-list-truncate" style="display:none;"></div>':'<button type="button" class="iic-widget__issue-type-selector__trigger aui-dropdown2-trigger" aria-owns="iic-issue-type-dropdown-'+soy.$$escapeHtml(A.widgetId)+'" aria-haspopup="true">'+(A.isLocked?'<img src="data:image/gif;base64,R0lGODlhEAAQAMQAAP///+7u7t3d3bu7u6qqqpmZmYiIiHd3d2ZmZlVVVURERDMzMyIiIhEREQARAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAQACwAAAAAEAAQAAAFdyAkQgGJJOWoQgIjBM8jkKsoPEzgyMGsCjPDw7ADpkQBxRDmSCRetpRA6Rj4kFBkgLC4IlUGhbNQIwXOYYWCXDufzYPDMaoKGBoKb886OjAKdgZAAgQkfCwzAgsDBAUCgl8jAQkHEAVkAoA1AgczlyIDczUDA2UhACH5BAUHABAALAAAAAAPABAAAAVjICSO0IGIATkqIiMKDaGKC8Q49jPMYsE0hQdrlABCGgvT45FKiRKQhWA0mPKGPAgBcTjsspBCAoH4gl+FmXNEUEBVAYHToJAVZK/XWoQQDAgBZioHaX8igigFKYYQVlkCjiMhACH5BAUHABAALAAAAAAQAA8AAAVgICSOUGGQqIiIChMESyo6CdQGdRqUENESI8FAdFgAFwqDISYwPB4CVSMnEhSej+FogNhtHyfRQFmIol5owmEta/fcKITB6y4choMBmk7yGgSAEAJ8JAVDgQFmKUCCZnwhACH5BAUHABAALAAAAAAQABAAAAViICSOYkGe4hFAiSImAwotB+si6Co2QxvjAYHIgBAqDoWCK2Bq6A40iA4yYMggNZKwGFgVCAQZotFwwJIF4QnxaC9IsZNgLtAJDKbraJCGzPVSIgEDXVNXA0JdgH6ChoCKKCEAIfkEBQcAEAAsAAAAABAADgAABUkgJI7QcZComIjPw6bs2kINLB5uW9Bo0gyQx8LkKgVHiccKVdyRlqjFSAApOKOtR810StVeU9RAmLqOxi0qRG3LptikAVQEh4UAACH5BAUHABAALAAAAAAQABAAAAVxICSO0DCQKBQQonGIh5AGB2sYkMHIqYAIN0EDRxoQZIaC6bAoMRSiwMAwCIwCggRkwRMJWKSAomBVCc5lUiGRUBjO6FSBwWggwijBooDCdiFfIlBRAlYBZQ0PWRANaSkED1oQYHgjDA8nM3kPfCmejiEAIfkEBQcAEAAsAAAAABAAEAAABWAgJI6QIJCoOIhFwabsSbiFAotGMEMKgZoB3cBUQIgURpFgmEI0EqjACYXwiYJBGAGBgGIDWsVicbiNEgSsGbKCIMCwA4IBCRgXt8bDACkvYQF6U1OADg8mDlaACQtwJCEAIfkEBQcAEAAsAAABABAADwAABV4gJEKCOAwiMa4Q2qIDwq4wiriBmItCCREHUsIwCgh2q8MiyEKODK7ZbHCoqqSjWGKI1d2kRp+RAWGyHg+DQUEmKliGx4HBKECIMwG61AgssAQPKA19EAxRKz4QCVIhACH5BAUHABAALAAAAAAQABAAAAVjICSOUBCQqHhCgiAOKyqcLVvEZOC2geGiK5NpQBAZCilgAYFMogo/J0lgqEpHgoO2+GIMUL6p4vFojhQNg8rxWLgYBQJCASkwEKLC17hYFJtRIwwBfRAJDk4ObwsidEkrWkkhACH5BAUHABAALAAAAQAQAA8AAAVcICSOUGAGAqmKpjis6vmuqSrUxQyPhDEEtpUOgmgYETCCcrB4OBWwQsGHEhQatVFhB/mNAojFVsQgBhgKpSHRTRxEhGwhoRg0CCXYAkKHHPZCZRAKUERZMAYGMCEAIfkEBQcAEAAsAAABABAADwAABV0gJI4kFJToGAilwKLCST6PUcrB8A70844CXenwILRkIoYyBRk4BQlHo3FIOQmvAEGBMpYSop/IgPBCFpCqIuEsIESHgkgoJxwQAjSzwb1DClwwgQhgAVVMIgVyKCEAIfkECQcAEAAsAAAAABAAEAAABWQgJI5kSQ6NYK7Dw6xr8hCw+ELC85hCIAq3Am0U6JUKjkHJNzIsFAqDqShQHRhY6bKqgvgGCZOSFDhAUiWCYQwJSxGHKqGAE/5EqIHBjOgyRQELCBB7EAQHfySDhGYQdDWGQyUhADs=" width="16" height="16"/>':'<img src="'+soy.$$escapeHtml(A.issueTypeIconUrl)+'" width="16" height="16"/>')+'</button><div id="iic-issue-type-dropdown-'+soy.$$escapeHtml(A.widgetId)+'" data-aui-alignment="top left" class="aui-dropdown2 aui-style-default iic-widget__issue-type-selector__dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"></ul></div></div>')+"</div>"},JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem=function(A,i){return'<li><a href="#" class="aui-icon-container" data-id="'+soy.$$escapeHtml(A.id)+'" style="background-image: url(\''+soy.$$escapeHtml(A.iconUrl)+"');\">"+soy.$$escapeHtml(A.name)+"</a></li>"},JIRA.Templates.InlineIssueCreate.description=function(A,i){return'<div class="iic-widget__description'+(A.issueTypeName?"":" iic-widget__description_invisible")+'">'+soy.$$escapeHtml("New")+' <span class="iic-widget__description__selected-issue-type-name">'+(A.issueTypeName?soy.$$escapeHtml(A.issueTypeName):"")+"</span></div>"};;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/possibleValues.js' */
define("jira/inline-issue-create/entities/possible-values",["backbone","jira/inline-issue-create/lib/brace"],function(t,i){"use strict";return i.Collection.extend({url:function(){var t=_.map(this.jqls,function(t){return"query="+encodeURIComponent(t)+"&"});return AJS.contextPath()+"/rest/inline-create/1.0/context/possibleValues/"+this.getEntityName()+"?".concat.apply("?",t)},getEntityName:void 0,initialize:function(t,i){this._initializeState(t,i)},_initializeState:function(t,i){i&&i.jqls?this.jqls=i.jqls:this.jqls=void 0,this.fetching=!1,this.initialized=!1},parse:function(t){return t.values},setJQLs:function(t){_.isEqual(this.jqls,t)||(this.jqls=t,this.fetch({reset:!0}))},reset:function(){return this.fetching=!1,this.initialized=!0,t.Collection.prototype.reset.apply(this,arguments)},fetch:function(i){function e(){n.fetching=!1,n.initialized=!0,n.trigger("fetch:finished")}var n=this;return i=i||{},i.success?i.success=_.wrap(i.success,function(t){return e(),t.apply(n,Array.prototype.slice.call(arguments,1))}):i.success=e,this.trigger("fetch:started"),this.fetching=!0,t.Collection.prototype.fetch.call(this,i)},isInitialized:function(){return this.initialized},isFetching:function(){return this.fetching}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueType.js' */
define("jira/inline-issue-create/entities/issue-type",["jira/inline-issue-create/lib/brace"],function(e){"use strict";var i=e.Model.extend({namedAttributes:{id:"string",name:"string",description:"string",iconUrl:"string",subtask:"boolean"}});return i});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueTypes.js' */
define("jira/inline-issue-create/entities/issue-types",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/issue-type"],function(e,i){"use strict";return e.extend({model:i,getEntityName:function(){return"issuetype"}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/project.js' */
define("jira/inline-issue-create/entities/project",["jira/inline-issue-create/lib/brace"],function(e){"use strict";return e.Model.extend({namedAttributes:{id:"number",type:"string"}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/projects.js' */
define("jira/inline-issue-create/entities/projects",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/project"],function(e,t){"use strict";return e.extend({model:t,comparator:function(e){return e.getId()},getEntityName:function(){return"project"}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineIssue.js' */
define("jira/inline-issue-create/entities/inline-issue",["jquery","underscore","jira/inline-issue-create/lib/brace","internal/browser-metrics","jira/featureflags/feature-manager"],function(i,e,n,t,a){"use strict";return n.Model.extend({initialize:function(){this._isSaving=!1},save:function(){t.start({key:"jira.agile.create.inline.issue.submit",isInitial:!1});var e=this,n=i.ajax(AJS.contextPath()+"/rest/inline-create/1.0/issue",{data:JSON.stringify(this.toJSON()),contentType:"application/json",type:"POST"});return this._isSaving=!0,n.always(function(){e._isSaving=!1})},isSaving:function(){return this._isSaving}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineBootstrap.js' */
define("jira/inline-issue-create/entities/inline-bootstrap",["backbone","jira/inline-issue-create/lib/brace","jira/inline-issue-create/entities/projects","jira/inline-issue-create/entities/issue-types"],function(e,i,t,s){"use strict";return i.Model.extend({issueTypesCollectionType:s,projectsCollectionType:t,namedAttributes:{hasCreateIssuePermission:"boolean",hasScheduleIssuePermission:"boolean"},initialize:function(){this.issueTypes=new this.issueTypesCollectionType,this.projects=new this.projectsCollectionType},url:function(){var e=_.map(this.jqls,function(e){return"query="+encodeURIComponent(e)+"&"});return AJS.contextPath()+"/rest/inline-create/1.0/context/bootstrap"+"?".concat.apply("?",e)},_initializeState:function(e,i){i&&i.jqls?this.jqls=i.jqls:this.jqls=void 0,this.fetching=!1,this.initialized=!1},setJQLs:function(e){_.isEqual(this.jqls,e)||(this.jqls=e,this.fetch({reset:!0}))},parse:function(e){var i=this,t=_.map(e.issueTypes.values,function(e){return _.pick(e,_.keys(i.issueTypes.model.prototype.namedAttributes))});this.issueTypes.reset(t);var s=_.map(e.projects.values,function(e){return _.pick(e,_.keys(i.projects.model.prototype.namedAttributes))});return this.projects.reset(s),_.pick(e,"hasCreateIssuePermission","hasScheduleIssuePermission")},fetch:function(i){function t(){s.fetching=!1,s.initialized=!0,JIRA.trace("inline.create.bootstrap.fetched")}var s=this;return i=i||{},i.success?i.success=_.wrap(i.success,function(e){return t(),e.apply(s,Array.prototype.slice.call(arguments,1))}):i.success=t,this.fetching=!0,JIRA.trace("inline.create.bootstrap.fetching"),e.Model.prototype.fetch.call(this,i)},isInitialized:function(){return this.initialized},isFetching:function(){return this.fetching},fireWhenInitialized:function(e){this.isInitialized()&&!this.isFetching()?e():this.listenToOnce(this,"sync",e)}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/description.js' */
define("jira/inline-issue-create/views/description",["jquery","jira/inline-issue-create/lib/marionette"],function(e,i){"use strict";var t=i.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.description,ui:{selectedIssueTypeName:".iic-widget__description__selected-issue-type-name"},modelEvents:{"change:selectedIssueType":function(){var e=this.model.getSelectedIssueType()&&this.model.getSelectedIssueType().getName()||"";e?(this.$el.removeClass("iic-widget__description_invisible"),this.ui.selectedIssueTypeName.text(e)):this.$el.addClass("iic-widget__description_invisible")}},serializeData:function(){var e={};return this.model.getSelectedIssueType()&&(e=this.model.getSelectedIssueType().toJSON()),{issueTypeName:e.name}},onRender:function(){this.unwrapTemplate()}});return t});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdown.js' */
define("jira/inline-issue-create/views/issue-type-dropdown",["jquery","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/views/issue-type-dropdown-item"],function(e,i,t){"use strict";var s=i.CompositeView.extend({childView:t,childViewOptions:function(e,i){return{model:e,dropdownModel:this.model}},template:JIRA.Templates.InlineIssueCreate.issueTypeSelector,childViewContainer:".aui-list-truncate",ui:{trigger:".iic-widget__issue-type-selector__trigger",issueTypeIcon:".iic-widget__issue-type-selector__trigger img",issueTypeDropdown:".iic-widget__issue-type-selector__dropdown"},modelEvents:{"change:selectedIssueType":function(){this.model.getSelectedIssueType()&&this.ui.issueTypeIcon.attr("src",this.model.getSelectedIssueType().getIconUrl())},"change:lockState":function(e,i){this.render(),i===this.model.constants.STATE_LOCK_SENDING?this.ui.trigger.attr("aria-disabled",!0):this.ui.trigger.attr("aria-disabled",!1)}},initialize:function(){this.isDropdownShown=!1,_.bindAll(this,"onDropdownShow")},serializeData:function(){var e={};return this.model.getSelectedIssueType()&&(e=this.model.getSelectedIssueType().toJSON()),{widgetId:this.options.widgetId,isLocked:this.model.getLockState()!==this.model.constants.STATE_LOCK_UNLOCKED,issueTypeIconUrl:e.iconUrl,isAgility:this.options.isAgility}},onRender:function(){this.unwrapTemplate(),this.ui.issueTypeDropdown.on("aui-dropdown2-show",this.onDropdownShow)},onDropdownShow:function(){var i=this.ui.issueTypeDropdown;i.appendTo(this.$el);var t=this.ui.issueTypeIcon.offset(),s=this.ui.issueTypeIcon.position(),o=this.ui.issueTypeIcon.outerHeight(),n=i.height(),r=e("body").outerHeight(!0)<t.top+o+n;i.css({left:s.left,top:(r?s.top-n:s.top+o)+"px"});var d=i.find("li a");this.trigger("dropdownOpened",{numIssueTypes:d.length})},onChildviewSelected:function(e){this.trigger("issueTypeSelected",e.model)}});return s});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdownItem.js' */
define("jira/inline-issue-create/views/issue-type-dropdown-item",["jquery","jira/inline-issue-create/lib/marionette"],function(e,i){"use strict";var t=i.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem,initialize:function(e){this.dropdownModel=e.dropdownModel},events:{"click a":function(e){this.trigger("selected")}},onRender:function(){this.unwrapTemplate()}});return t});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/defaultTrigger.js' */
define("jira/inline-issue-create/views/default-trigger",["jquery","jira/inline-issue-create/lib/marionette"],function(i,e){"use strict";var t=e.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.trigger,ui:{trigger:" .iic-trigger"},events:{"click @ui.trigger":function(i){i.preventDefault(),this.trigger("selected")}},initialize:function(i){this.widget=i.widget,this.listenTo(this.widget,"activated",this.hide),this.listenTo(this.widget,"deactivated",this.show)},onRender:function(){this.unwrapTemplate(),this.widget.model.getState()===this.widget.model.constants.STATE_ACTIVE&&this.hide()},hide:function(){this.ui.trigger.addClass("iic-trigger_hidden")},show:function(){this.ui.trigger.removeClass("iic-trigger_hidden")}});return t});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/widget.js' */
define("jira/inline-issue-create/entities/widget-constants",[],function(){"use strict";var e={STATE_CLOSED:"STATE_CLOSED",STATE_ACTIVE:"STATE_ACTIVE",STATE_LOCK_TEMP_INACTIVE:"STATE_LOCK_TEMP_INACTIVE",STATE_LOCK_SENDING:"STATE_LOCK_SENDING",STATE_LOCK_PERM_INACTIVE:"STATE_LOCK_PERM_INACTIVE",STATE_LOCK_UNLOCKED:"STATE_LOCK_UNLOCKED"};return Object.freeze(e),e}),define("jira/inline-issue-create/entities/widget",["jira/inline-issue-create/lib/brace","jira/inline-issue-create/entities/issue-types","jira/inline-issue-create/entities/issue-type","jira/inline-issue-create/entities/widget-constants"],function(e,t,s,i){"use strict";var T="iic.slectedIssueType",a=i,n=e.Model.extend({constants:a,defaults:{state:a.STATE_CLOSED,lockState:a.STATE_LOCK_UNLOCKED},namedAttributes:{summary:"",selectedIssueType:s,issueTypes:t,state:"",lastState:"",lockState:""},initialize:function(e){var t,s;e&&e.selectedIssueType||(localStorage&&(t=JSON.parse(localStorage.getItem(T))||{},t=t||{},s=this.getIssueTypes()&&this.getIssueTypes().find(function(e){return e.getId()===t.id})),s?this.setSelectedIssueType(s):this.getIssueTypes()&&this.setSelectedIssueType(this.getIssueTypes().at(0))),this.on("change:selectedIssueType",function(e){var t=this.getSelectedIssueType();t&&localStorage.setItem(T,JSON.stringify(t.toJSON()))}),this.listenTo(this.getIssueTypes(),"reset",function(){var e,s=this.getSelectedIssueType()&&this.getSelectedIssueType().getId();s||(s=t.id),void 0!==s?(e=this.getIssueTypes().get(s),e?this.setSelectedIssueType(e):this.setSelectedIssueType(this.getIssueTypes().at(0))):this.setSelectedIssueType(this.getIssueTypes().at(0))})},changeState:function(e){e!==this.getState()&&(this.setLastState(this.getState()),this.setState(e))},setSelectedIssueTypeIfAvailable:function(e){if(e){var t=this.getIssueTypes().get(e.getId());t&&this.setSelectedIssueType(t)}},toIssueData:function(){return{summary:this.getSummary(),issueTypeId:this.getSelectedIssueType()&&this.getSelectedIssueType().getId()}}});return n});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/widget.js' */
define("jira/inline-issue-create/views/widget",["jquery","underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/util"],function(i,t,e,s){"use strict";var a=500,n=e.LayoutView.extend({template:JIRA.Templates.InlineIssueCreate.widget,regions:{issueTypeSelector:".iic-widget__issue-type-selector-container",description:".iic-widget__description-container"},ui:{summary:".iic-widget__summary",more:".iic-widget__more",cancel:".iic-widget__cancel",create:".iic-widget__create",form:".iic-widget__form",withTitle:"[title]"},events:{"input @ui.summary":"onSummaryChange","change @ui.summary":"onSummaryChange","keyup @ui.summary":function(i){var t=this.ui.summary.val();t.length>255&&this.ui.summary.val(t.substr(0,255)),this.onSummaryChange(i)},"keydown @ui.summary":function(i){i.keyCode===s.keyCode.ENTER?(i.preventDefault(),this.onSubmit(i)):i.keyCode===s.keyCode.ESC&&this.trigger("deactivate",{reason:"keypress"})},"click @ui.cancel":function(i){i.preventDefault(),this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING&&this.trigger("deactivate",{reason:"cancel"})},"click @ui.more":function(i){i.preventDefault(),this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING&&this.trigger("openFullIssueDialog")},"click @ui.create":function(i){this.onSubmit(i)}},modelEvents:{"change:summary":function(){this.ui.summary.val(this.model.getSummary()),this.adjustSummarySize()},"change:state":function(i,t){t===this.model.constants.STATE_ACTIVE?this.activate():t===this.model.constants.STATE_CLOSED&&this.deactivate()},"change:lockState":function(i,t){this.ui.summary.prop&&(t===this.model.constants.STATE_LOCK_SENDING?this.ui.summary.prop("disabled",!0):this.ui.summary.prop("disabled",!1))}},initialize:function(i){this.cssClass=i.cssClass||"",this.listenTo(this.issueTypeSelector,"show",function(){this.listenTo(this.issueTypeSelector.currentView,"issueTypeSelected",function(){this.focusSummary()})}),t.bindAll(this,"adjustSummarySize","onBodyClick")},onSubmit:function(i){var t=this.ui.summary.val();""!==t&&t.length<=255?this.model.getLockState()===this.model.constants.STATE_LOCK_UNLOCKED?(this.ui.summary.blur(),this.disableCreate(),this.trigger("createIssue")):s.addClassAndRemoveOnAnimationEnd(this.$(".issue-type-selector"),"iic-error",a):s.addClassAndRemoveOnAnimationEnd(this.ui.summary,"iic-error",a)},onClose:function(){i(document).off("click.iic",this.onBodyClick)},onBodyClick:function(i){this.$el.is(i.target)||0!==this.$el.has(i.target).length||(""===this.ui.summary.val()?this.trigger("deactivate",{reason:"cancel"}):this.ui.summary.is(":focus")&&this.ui.summary.blur())},serializeData:function(){return{summary:this.model.getSummary(),cssClass:this.cssClass,isAgility:this.options.isAgility}},onRender:function(){this.unwrapTemplate(),this.ui.withTitle.tooltip({aria:!0});var i=this;this.ui.summary.on("change cut paste drop keydown input",function(){t.defer(i.adjustSummarySize)}),t.defer(i.adjustSummarySize),this.ui.summary.placeholder(),this.model.getState()===this.model.constants.STATE_ACTIVE?this.activate():this.deactivate()},adjustSummarySize:function(){this.ui.summary.css("height","auto");var i=this.ui.summary.outerHeight(),t=Math.max(i+this.ui.summary.prop("scrollHeight")-this.ui.summary.prop("clientHeight"),i);t&&this.ui.summary.height(t+"px")},reset:function(){this.ui.summary.attr("style","")},hide:function(){this.$el.addClass("iic-widget_hidden"),i(document).off("click.iic",this.onBodyClick)},show:function(){this.$el.removeClass("iic-widget_hidden"),this.adjustSummarySize();var e=this;t.defer(function(){i(document).off("click.iic",e.onBodyClick),i(document).on("click.iic",e.onBodyClick)})},focusSummary:function(){this.ui.summary.focus()},activate:function(){this.show(),this.trigger("activated")},focus:function(){this.focusSummary(),this.trigger("focused")},deactivate:function(){this.hide(),this.trigger("deactivated")},onSummaryChange:function(i){this.trigger("summaryChanged",this.ui.summary.val())},enableCreate:function(){this.ui.create.attr("aria-disabled",!1)},disableCreate:function(){this.ui.create.attr("aria-disabled",!0)}});return n});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.js' */
define("jira/inline-issue-create/widget",["jquery","underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/util","jira/inline-issue-create/entities/widget","jira/inline-issue-create/entities/issue-types","jira/inline-issue-create/entities/projects","jira/inline-issue-create/entities/inline-issue","jira/inline-issue-create/views/widget","jira/inline-issue-create/views/issue-type-dropdown","jira/inline-issue-create/views/description","jira/inline-issue-create/prefillable-create-issue-dialog","jira/inline-issue-create/analytics","jira/analytics/web-client","jira/featureflags/feature-manager"],function(e,t,s,i,n,r,a,o,c,d,l,u,h,p,m){"use strict";function f(e){t.isFunction(e.parameter)?e.context[e.fieldName]=new e.parameter(e.defaultOptions):t.isObject(e.parameter)?e.context[e.fieldName]=e.parameter:void 0===e.parameter&&(e.context[e.fieldName]=new e.defaultConstructor(e.defaultOptions))}var T=s.Controller.extend({initialize:function(e){this._initializeComponents(e),e.jqls&&this.setCurrentJQLs(e.jqls),e.container&&this.attach(e.container),this._initializeEvents(e)},_initializeComponents:function(e){t.isFunction(e.issueTypes)?this.issueTypes=new e.issueTypes((void 0),{jqls:e.jqls}):t.isObject(e.issueTypes)?this.issueTypes=e.issueTypes:this.issueTypes=new r((void 0),{jqls:e.jqls}),t.isFunction(e.projects)?this.projects=new e.projects((void 0),{jqls:e.jqls}):t.isObject(e.projects)?this.projects=e.projects:this.projects=new a((void 0),{jqls:e.jqls}),f({context:this,fieldName:"model",defaultOptions:{issueTypes:this.issueTypes},parameter:e.model,defaultConstructor:n}),f({context:this,fieldName:"dropdownView",defaultOptions:{model:this.model,collection:this.issueTypes,widgetId:this.model.cid},parameter:e.dropdownView,defaultConstructor:d}),f({context:this,fieldName:"descriptionView",defaultOptions:{model:this.model,widgetId:this.model.cid},parameter:e.descriptionView,defaultConstructor:l}),this.view=new c({model:this.model,cssClass:e.cssClass,isAgility:e.isAgility&&e.isAgility()||!1}),this.analytics=new h({widget:this}),this._currentInlineIssue=void 0},_initializeEvents:function(e){this.listenTo(this.view,"summaryChanged",function(e){this.model.setSummary(e)}),this.listenTo(this.view,"createIssue",this.createIssue),this.listenTo(this.view,"deactivate",this.deactivate),this.listenTo(this.view,"openFullIssueDialog",function(){this.trigger("openCreateIssueDialog",{reason:"manual"}),this.openCreateIssueDialog()}),this.listenTo(this.model,"change:state",this.onStateChange),this.listenTo(this.model,"change:lockState",this.onLockStateChange),this.listenTo(this.issueTypes,"reset",this.checkWidgetLocked),this.listenTo(this.projects,"reset",this.checkWidgetLocked),this.on("issueCreated",function(){this.model.setSummary("")}),this.checkWidgetLocked()},render:function(){this.view.issueTypeSelector.attachView(void 0),this.view.description.attachView(void 0),this.view.render(),this.view.issueTypeSelector.show(this.dropdownView),this.view.description.show(this.descriptionView),this.listenTo(this.dropdownView,"issueTypeSelected",function(e){this.model.setSelectedIssueType(e)})},onStateChange:function(e,t){t===this.model.constants.STATE_ACTIVE?this.trigger("activated"):t===this.model.constants.STATE_CLOSED&&this.trigger("deactivated")},onLockStateChange:function(e,t){t===this.model.constants.STATE_LOCK_PERM_INACTIVE&&this.model.getState()===this.model.constants.STATE_ACTIVE&&this.deactivate()},activate:function(){return this.model.getLockState()!==this.model.constants.STATE_LOCK_PERM_INACTIVE&&(this.model.changeState(this.model.constants.STATE_ACTIVE),!0)},deactivate:function(){this.model.changeState(this.model.constants.STATE_CLOSED)},checkWidgetLocked:function(){return this.issueTypes.isFetching()||!this.issueTypes.isInitialized()?this.model.setLockState(this.model.constants.STATE_LOCK_TEMP_INACTIVE):this.projects.isFetching()||!this.projects.isInitialized()?this.model.setLockState(this.model.constants.STATE_LOCK_TEMP_INACTIVE):this._currentInlineIssue&&this._currentInlineIssue.isSaving()?this.model.setLockState(this.model.constants.STATE_LOCK_SENDING):this.issueTypes.length?1!==this.projects.length?this.model.setLockState(this.model.constants.STATE_LOCK_PERM_INACTIVE):void this.model.setLockState(this.model.constants.STATE_LOCK_UNLOCKED):this.model.setLockState(this.model.constants.STATE_LOCK_PERM_INACTIVE)},focus:function(){this.view.focus()},reset:function(){this.model.setSummary(""),this.view.reset()},attach:function(t){var s=e(t);s.append(this.view.el)},setCurrentJQLs:function(e){this.jqls=e},setSummary:function(e){this.model.setSummary(e)},getSummary:function(){return this.model.getSummary()},setSelectedIssueTypeIfAvailable:function(e){this.model.setSelectedIssueTypeIfAvailable(e)},getSelectedIssueType:function(){return this.model.getSelectedIssueType()},setOverrides:function(e){this.overrides=e},createIssue:function(){var e=this,s={summary:this.model.getSummary(),contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType().getId(),overrides:t.clone(this.overrides)};this.trigger("beforeIssueCreated",e,s),this._currentInlineIssue=new o(s),this._currentInlineIssue.save().done(function(t){e.trigger("issueCreated",t.issue,t.prefilledFields,e,{source:"inline"}),JIRA.trace("inline.create.issue.created"),e.fireIssueCreatedTrackEvent(e,t),m.isFeatureEnabled("jsw.iic.sla.metric")&&e.fireIssueCreatedOperationalEvent("taskSuccess")}).fail(function(t){var s=new jQuery.Deferred;e.openCreateIssueDialog(s);var n=[];try{var r=JSON.parse(t.responseText);void 0!==r.errors&&(n=Object.values(r.errors)),s.resolve({errors:r.errors,errorMessages:r.generalErrors,prefilledFields:r.prefilledFields})}catch(n){i.error(e,"Could not parse response: "+n,t);var a="Unfortunately, there is an internal communication error, so you must use the full dialog to create the issue. Please contact your administrator if this error keeps appearing.";s.resolve({errors:{},errorMessages:[a],prefilledFields:{}})}e.trigger("openCreateIssueDialog",{reason:"createFailed",requiredFields:n.filter(function(e){return e.includes("is required.")}).length}),e.view.enableCreate(),m.isFeatureEnabled("jsw.iic.sla.metric")&&(t&&(void 0===t.status||null===t.status||429===t.status||t.status>=500)?e.fireIssueCreatedOperationalEvent("taskFail",t.status,t.statusText):e.fireIssueCreatedOperationalEvent("taskSuccess"))}).always(function(){window.performance&&window.performance.mark("inline_issue_create_api_done"),e.checkWidgetLocked()}),this.checkWidgetLocked()},fireIssueCreatedTrackEvent:function(e,t){if(p&&"undefined"!=typeof GH&&GH.RapidBoard&&GH.RapidBoard.State){var s=t.issue.issueType,i=t.issue.issueId,n={objectType:"issue",objectId:i,containerType:GH.RapidViewConfig.currentData.data.locationType,attributes:{issueTypeId:s,boardId:GH.RapidBoard.State.getRapidViewId(),boardType:GH.RapidBoard.State.getBoardTypeForAnalytics(),projectType:"software"},action:"created",actionSubject:"issue",actionSubjectId:i,source:"backlogScreen"};"project"===n.containerType&&JIRA.API&&JIRA.API.Projects&&(n.containerId=JIRA.API.Projects.getCurrentProjectId()),p.sendTrackEvent(n)}},fireIssueCreatedOperationalEvent:function(e,t,s){if(p&&"undefined"!=typeof GH&&GH.RapidBoard&&GH.RapidBoard.State&&GH.Util){var i={task:"createInlineIssue",analyticsSource:"backlog",application:"jira-software",edition:GH.Util.getEdition("jira-software"),boardType:GH.RapidBoard.State.getBoardTypeForAnalytics(),isClassic:!0,responseStatus:t,responseStatusText:s},n={source:"ui",actionSubject:"ui",action:e,attributes:i};p.sendOperationalEvent(n)}},openCreateIssueDialog:function(e){var s=this,i=this.model.toIssueData();1===this.projects.size()&&(i.project=this.projects.at(0).toJSON());var n={summary:i.summary,contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType()?this.model.getSelectedIssueType().getId():void 0,overrides:t.clone(this.overrides)};this.trigger("beforeIssueCreated",s,n),e||(e=this._resolveInlineContext(n,s));var r=u.createPrefillableCreateIssueForm(e.promise(),!0);return r.pipe(function(e){function t(e,t){s.trigger("issueCreated",t,t.fields,s,{source:"dialog"}),JIRA.trace("inline.create.issue.created")}var i=e.asDialog();return e.bind("initialized",function(){this.unconfigurableForm.bind("issueCreated",t),this.configurableForm.bind("issueCreated",t)}),i.show(),i})},_resolveInlineContext:function(t,s){var i=new jQuery.Deferred,n=e.ajax(AJS.contextPath()+"/rest/inline-create/1.0/context/resolve",{data:JSON.stringify(t),contentType:"application/json",type:"POST"});return n.done(function(e){i.resolve({prefilledFields:e.createIssueInput})}).fail(function(){i.resolve({prefilledFields:{summary:t.summary?t.summary:"",issuetype:s.model.getSelectedIssueType()?s.model.getSelectedIssueType().getId():void 0}})}),i}});return T});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-analytics.js' */
define("jira/inline-issue-create/analytics",["jira/inline-issue-create/lib/marionette"],function(e){"use strict";return e.Controller.extend({initialize:function(e){this.loadTimestamp=(new Date).getTime();var t=e.widget;this.widgetId=t.model.cid.substring(1),this.projects=t.projects,this.listenTo(t,"issueCreated",this.onIssueCreated),this.listenTo(t,"openCreateIssueDialog",this.onOpenCreateIssueDialog),this.listenTo(t,"activated",this.onActivated),this.listenTo(t,"deactivated",this.onDeactivated),this.listenTo(t,"dropdownOpened",this.onDropdownOpened),this.listenTo(t,"issueTypeSelected",this.onIssueTypeSelected)},triggerAnalytics:function(e,t){var i="",s="";if(this.projects&&this.projects.size()>0){var n=this.projects.first();i=n.get("id"),s=n.get("type")}var a=_.defaults({},t,{instance:this.widgetId,timestarted:this.loadTimestamp,projectId:i,projectType:s});AJS.trigger("analyticsEvent",{name:"jira.inlinecreate."+e,data:a})},onOpenCreateIssueDialog:function(e){this.triggerAnalytics("openDialog",{reason:e.reason,requiredFields:e.requiredFields})},onIssueCreated:function(e,t,i,s){"inline"===s.source?this.triggerAnalytics("issueCreatedInline"):this.triggerAnalytics("issueCreatedDialog")},onDeactivated:function(){this.triggerAnalytics("deactivated")},onActivated:function(){this.triggerAnalytics("activated")},onDropdownOpened:function(e){this.triggerAnalytics("dropdown.opened",{numIssueTypes:e.numIssueTypes})},onIssueTypeSelected:function(){this.triggerAnalytics("dropdown.issueTypeSelected")}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget-group.js' */
define("jira/inline-issue-create/widget-group",["jquery","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/widget","jira/inline-issue-create/entities/inline-bootstrap"],function e(t,i,s,r){"use strict";var e=i.Controller.extend({initialize:function(e){this.TriggerView=e.TriggerView,this.Widget=s,this.widgets={},this.currentJQLs=void 0,this.createdCallback=e.createdCallback,this.activeWidget=void 0,this.inlineBootstrap=e.inlineBootstrap||new r,this.widgetOptions=_.defaults(e.widgetOptions||{},{issueTypes:this.inlineBootstrap.issueTypes,projects:this.inlineBootstrap.projects,isAgility:function(){return!1}})},getWidget:function(e){return this.widgets[e]||(this.widgets[e]=this._createNewWidget(e)),this.widgets[e]},setCurrentJqls:function(e){this.currentJQLs=e,_.each(this.widgets,function(t){t.widget.setCurrentJQLs(e)}),this.inlineBootstrap.setJQLs(e)},activateWidget:function(e){if(this.activeWidget===e)return void e.focus();var t=this.activeWidget;this.activeWidget=void 0,_.each(this.widgets,function(t){t!==e&&t.widget.deactivate()});var i=e.activate();return i&&(e.focus(),this.activeWidget=e,this.trigger("widget:activated",e,t),t&&(e.setSummary(t.getSummary()),e.setSelectedIssueTypeIfAvailable(t.getSelectedIssueType()),t.reset())),i},_createNewWidget:function(e){var t=this,i=new this.Widget(this.widgetOptions);i.on("deactivated",function(){t.activeWidget===i&&(t.activeWidget=void 0,i.reset())}),this.createdCallback&&this.createdCallback(i,e),this.currentJQLs&&i.setCurrentJQLs(this.currentJQLs);var s=new t.TriggerView({widget:i});return s.on("selected",function(){t.activateWidget(i)}),{widget:i,trigger:s,render:function(e){s.render(),e.append(s.$el),i.attach(s.$el),i.render(),t.trigger("widget:rendered",i,s,e)}}}});return e});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inline-issue-create', location = 'jira-issue-navigator-components-module/inline-issue-create/InlineIssueCreate.js' */
define("jira/components/inline-issue-create",["require"],function(t){"use strict";var i=t("jira/components/libs/marionette-2.1.0"),e=t("jira/inline-issue-create/widget"),s=t("jira/inline-issue-create/views/default-trigger"),n=t("jira/inline-issue-create/entities/inline-bootstrap");return i.Object.extend({_buildBootstrap:function(){this.bootstrap=new n,this.listenTo(this.bootstrap,{sync:function(){this.widget.setCurrentJQLs(this.bootstrap.jqls)}})},_buildWidget:function(){this.widget=new e({issueTypes:this.bootstrap.issueTypes,projects:this.bootstrap.projects}),this.listenTo(this.widget,{issueCreated:function(t,i){this.trigger("issueCreated",{issue:t,fields:i})},activated:function(){this.trigger("activated")},deactivated:function(){this.trigger("deactivated")}})},_buildTrigger:function(){this.widgetTrigger=new s({widget:this.widget}),this.listenTo(this.widgetTrigger,{selected:function(){this.activate(),this.trigger("inlineIssueCreateOpened")}})},initialize:function(){this._buildBootstrap(),this._buildWidget(),this._buildTrigger(),this.render()},setJQL:function(t){this.bootstrap.setJQLs([t])},render:function(){this.widgetTrigger.render(),this.widget.render()},show:function(t){this.render(),t.append(this.widgetTrigger.$el),this.widget.attach(t)},activate:function(){if(this.bootstrap.projects.length){var t=this.widget.activate();t&&this.widget.focus()}else this.widget.openCreateIssueDialog()},activateWithJQL:function(t){this.bootstrap.jqls=[t],this.bootstrap.fetch({reset:!0}).done(function(){if(this.bootstrap.projects.length){var t=this.widget.activate();t&&this.widget.focus()}}.bind(this))}})});
//# sourceMappingURL=InlineIssueCreate-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/SimpleIssueList.js' */
define("jira/components/simpleissuelist",["require"],function(e){"use strict";var s=e("jira/components/simpleissuelist/controllers/list"),t=e("jira/components/simpleissuelist/services/api"),i=e("jira/components/simpleissuelist/services/inline-issue-create"),n=e("jira/components/libs/marionette-2.1.0"),r=e("jira/components/libs/underscore"),u=e("jquery"),a=e("jira/featureflags/feature-manager"),l=a.isFeatureEnabled("gin-analytics-to-support-tti-definition");return n.Object.extend({initialize:function(){this.options.displayInlineIssueCreate&&(this.inlineIssueCreate=new i,this.listenTo(this.inlineIssueCreate,{issueCreated:function(e){this.trigger("issueCreated",e)},"activated deactivated":function(){r.defer(function(){this.list.adjustSize()}.bind(this))}})),this.list=new s({baseURL:this.options.baseURL,inlineIssueCreate:this.inlineIssueCreate}),this.listenTo(this.list,{goToPreviousPage:function(){this.trigger("list:pagination"),this.searchResults.jumpToPage("prev")},goToNextPage:function(){this.trigger("list:pagination"),this.searchResults.jumpToPage("next")},goToPage:function(e){this.trigger("list:pagination"),this.searchResults.jumpToPage(e)},refresh:function(){this.trigger("refresh")},selectIssue:function(e){this.trigger("list:select",{id:e.id,key:e.key,absolutePosition:this.searchResults.getPositionOfIssueInSearchResults(e.id),relativePosition:this.searchResults.getPositionOfIssueInPage(e.id)}),l?this.searchResults.select(e.id,{manualSelect:!0}):this.searchResults.select(e.id)},sort:function(e){this.trigger("sort",e)},update:function(){this.trigger("update")}});var e=r.extend({},AJS.namespace("JIRA.API.Issues"),t.init(this));AJS.namespace("JIRA.API.Issues",null,e)},load:function(e,s,t){this.searchResults&&(this.stopListening(this.searchResults),delete this.searchResults),this.searchResults=e,this.options.displayInlineIssueCreate&&this.inlineIssueCreate.setJQL(this.searchResults.jql),this.listenTo(this.searchResults,{"before:loadpage":function(){this.trigger("before:loadpage")},"error:loadpage":function(e){this.trigger("error:loadpage",e)},reset:function(){this.list.update(this.searchResults)},unselect:function(e){this.list.unselectIssue(e.get("id"))},select:function(e,s){var i=e.get("id")||null;i&&this.list.selectIssue(e.get("id"));var n={id:i,key:e.get("key")};t&&(n.updateActiveView=!0),l?this.trigger("select",n,s):this.trigger("select",n)},change:function(e){this.list.updateIssue(e)}}),s?e.jumpToPageForIssue(s):e.jumpToPage("first")},show:function(e){this.list.render({el:e})},selectNext:function(e){if(this.searchResults)return l?this.searchResults.selectNext(e):this.searchResults.selectNext()},selectPrevious:function(e){if(this.searchResults)return l?this.searchResults.selectPrev(e):this.searchResults.selectPrev()},selectIssue:function(e){this.searchResults.select(e)},_getIssueById:function(e){if(this.searchResults)return this.searchResults.get(e)},refreshIssue:function(e){var s=this._getIssueById(e);s&&s.fetch()},updateIssue:function(e,s){var t=this._getIssueById(e);t&&t.set(s)},adjustSize:function(){this.list.adjustSize()},disableIssue:function(e){var s=this._getIssueById(e);s&&s.set("inaccessible",!0)},removeIssue:function(e){var s=this._getIssueById(e);return s?this.searchResults.removeAndUpdateSelectionIfNeeded(s):(new u.Deferred).reject().promise()},onDestroy:function(){this.list.destroy()},focus:function(){this.list.focus()}})});
//# sourceMappingURL=SimpleIssueList-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/controllers/List.js' */
define("jira/components/simpleissuelist/controllers/list",["require"],function(e){"use strict";var t=e("jira/components/simpleissuelist/views/pagination"),i=e("jira/components/simpleissuelist/views/issuelist"),s=e("jira/components/simpleissuelist/views/endstablesearch"),n=e("jira/components/simpleissuelist/views/layout"),r=e("jira/components/simpleissuelist/views/loading"),o=e("jira/components/simpleissuelist/views/refresh"),u=e("jira/components/libs/marionette-2.1.0"),l=e("jira/components/orderby"),a=e("jira/featureflags/feature-manager"),h=e("jira/issues/utils/issue-nav-render-state"),g="server"===a.getFlagValue("gin-new-render-approach");return u.ViewManager.extend({_buildPagination:function(){return this.buildView("pagination",function(){var e=new t({baseURL:this.baseURL});return this.listenTo(e,{prev:function(){this.trigger("goToPreviousPage")},next:function(){this.trigger("goToNextPage")},"goto":function(e){this.trigger("goToPage",e)}}),e})},_buildList:function(){return this.buildView("list",function(){var e=new i;return this.listenTo(e,{"childview:select":function(e){var t=e.model;this.trigger("selectIssue",{id:t.get("id"),key:t.get("key")})},update:function(){this.trigger("update")}}),e})},_buildEndStableSearch:function(){return this.buildView("endOfStableSearch",function(){return new s})},_buildRefresh:function(){return this.buildView("refresh",function(){var e=new o;return this.listenTo(e,{refresh:function(){this.trigger("refresh")}}),e})},_buildLayout:function(){return this.buildView("layout",function(){var e=new n;return this.listenTo(e,{render:function(){this.getView("layout").getRegion("pagination").show(this.getView("pagination")),h.shouldUseServerRenderedIssueListHtml()?this.getView("list").setElement(this.getView("layout").getRegion("searchResults").$el):this.getView("layout").getRegion("searchResults").show(this.getView("list")),this.getView("layout").getRegion("refresh").show(this.getView("refresh")),this.getView("layout").getRegion("orderBy")._ensureElement(),this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el),this.orderBy.render(),this.inlineIssueCreate&&(this.getView("layout").inlineIssueCreateContainer._ensureElement(),this.inlineIssueCreate.show(this.getView("layout").inlineIssueCreateContainer.$el))}}),e})},_buildOrderBy:function(){return this.orderBy=l.create(),this.orderBy.onSort(function(e){this.trigger("sort",e)},this),this.orderBy},_buildViews:function(){this._buildLayout(),this._buildPagination(),this._buildList(),this._buildRefresh(),this._buildEndStableSearch(),this.getView("layout").render()},initialize:function(e){this._buildOrderBy(),this.baseURL=e.baseURL,this.inlineIssueCreate=e.inlineIssueCreate,this._buildViews()},render:function(e){e=e||{};var t=e.el;t.append(this.getView("layout").$el),this.getView("layout").setElement(t)},onDestroy:function(){this.hideView("layout")},update:function(e){e.isAtTheEndOfStableSearch()?this.getView("layout").getRegion("endOfStableMessageContainer").show(this.getView("endOfStableSearch")):this.getView("layout").getRegion("endOfStableMessageContainer").empty(),this.getView("list").update(e),this.getView("refresh").render(),this.getView("pagination").update(e),this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el),this.orderBy.render(),this.orderBy.setJql(e.jql),this.inlineIssueCreate&&this.inlineIssueCreate.render(),this.adjustSize()},hideLoading:function(){this.hideView("loading")},showLoading:function(){this.showView("loading",function(){var e=new r;return this.listenTo(e,{render:function(){this.getView("layout").$el.prepend(e.$el)}}),e})},updateIssue:function(e){this.getView("list").updateIssue(e)},unselectIssue:function(e){this.getView("list").unselectIssue(e)},selectIssue:function(e){this.getView("list").selectIssue(e)},adjustSize:function(){if(this.getView("layout")&&this.getView("list")){if(!g||h.isRouteLegacyPIN()){var e=this.getView("layout").ui.listPanel,t=this.getView("list").$el,i=this.getView("layout").getRegion("pagination").$el,s=t.offset().top+e.scrollTop(),n=i?i.outerHeight():0,r=window.innerHeight,o=this.getView("endOfStableSearch")?this.getView("endOfStableSearch").$el.outerHeight():0,u=this.getView("layout").inlineIssueCreateContainer.$el.outerHeight()||0;e.css("height",r-s-o-n-u)}this.getView("list").scrollSelectedIssueIntoView()}},focus:function(){this.getView("list")&&this.getView("list").focus()}})});
//# sourceMappingURL=List-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/services/API.js' */
define("jira/components/simpleissuelist/services/api",function(){"use strict";return{init:function(e){return{nextIssue:function(){e.selectNext()},previousIssue:function(){e.selectPrevious()}}}}});
//# sourceMappingURL=API-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/services/InlineIssueCreate.js' */
define("jira/components/simpleissuelist/services/inline-issue-create",["require"],function(e){"use strict";return e("jira/components/inline-issue-create")});
//# sourceMappingURL=InlineIssueCreate-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/templates/endofstablesearch.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.SimpleIssueList&&(JIRA.Components.SimpleIssueList={}),"undefined"==typeof JIRA.Components.SimpleIssueList.Templates&&(JIRA.Components.SimpleIssueList.Templates={}),JIRA.Components.SimpleIssueList.Templates.endStableSearch=function(e,s){return'<div class="end-of-stable-message"><p>'+soy.$$escapeHtml("Too many search results to display. Refine your search criteria and try again.")+"</p></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/templates/issue.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.SimpleIssueList&&(JIRA.Components.SimpleIssueList={}),"undefined"==typeof JIRA.Components.SimpleIssueList.Templates&&(JIRA.Components.SimpleIssueList.Templates={}),JIRA.Components.SimpleIssueList.Templates.issue=function(e,s){return'<li title="'+soy.$$escapeHtml(e.summary)+'" data-key="'+soy.$$escapeHtml(e.key)+'"><a class="splitview-issue-link" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.key)+'"><span class="issue-link-key"><img height="16" width="16" alt="'+soy.$$escapeHtml(e.typeName)+'" title="'+soy.$$escapeHtml(e.typeName)+" - "+soy.$$escapeHtml(e.typeDescription)+'" src="'+soy.$$escapeHtml(e.typeIcon)+'" />&nbsp;'+soy.$$escapeHtml(e.key)+'</span><span class="issue-link-summary">'+soy.$$escapeHtml(e.summary)+"</span></a></li>"},JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue=function(e,s){return'<li class="inaccessible-issue" data-key="'+soy.$$escapeHtml(e.key)+'">'+soy.$$escapeHtml("This issue can no longer be opened")+"</li>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/templates/issuelist.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.SimpleIssueList&&(JIRA.Components.SimpleIssueList={}),"undefined"==typeof JIRA.Components.SimpleIssueList.Templates&&(JIRA.Components.SimpleIssueList.Templates={}),JIRA.Components.SimpleIssueList.Templates.issueList=function(e,s){return'<div class="list-content"><ol class="issue-list"></ol></div>'};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/templates/layout.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.SimpleIssueList&&(JIRA.Components.SimpleIssueList={}),"undefined"==typeof JIRA.Components.SimpleIssueList.Templates&&(JIRA.Components.SimpleIssueList.Templates={}),JIRA.Components.SimpleIssueList.Templates.layout=function(i,s){return""+(i.isGinServerRenderApproachEnabled&&!i.isRouteLegacyPIN?'<div class="list-results-panel-nested"><div><div class="simple-issue-list"><div class="list-panel"><div class="list-ordering"></div><div class="search-results"></div></div></div></div><div class="end-of-stable-message-container"></div><div class="inline-issue-create-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item"></div><div class="pagination-container aui-item"></div></div></div>':'<div class="simple-issue-list"><div class="list-panel"><div class="list-ordering"></div><div class="search-results"></div></div><div class="end-of-stable-message-container"></div><div class="inline-issue-create-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item"></div><div class="pagination-container aui-item"></div></div></div>')},JIRA.Components.SimpleIssueList.Templates.loading=function(i,s){return'<div class="loading"></div>'};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/templates/pagination.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.SimpleIssueList&&(JIRA.Components.SimpleIssueList={}),"undefined"==typeof JIRA.Components.SimpleIssueList.Templates&&(JIRA.Components.SimpleIssueList.Templates={}),JIRA.Components.SimpleIssueList.Templates.pagination=function(e,a){var t='<div class="pagination" data-displayable-total="'+soy.$$escapeHtml(e.displayableTotal)+'">',s=5,n=Math.floor((e.displayableTotal-1)/e.pageSize),o=Math.floor(e.startIndex/e.pageSize),p=""+(e.hasQueryString?soy.$$filterNoAutoescape(e.searchQuery)+"&startIndex=":soy.$$filterNoAutoescape(e.searchQuery)+"?startIndex="),l=e.startIndex-e.pageSize;t+=(l>=0?'<a href="'+soy.$$escapeHtml(p)+soy.$$escapeHtml(l)+'" data-start-index="'+soy.$$escapeHtml(l)+'" class="icon icon-previous" title="'+soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",o,n+1))+'"><span>&lt;&lt; '+soy.$$escapeHtml("Previous")+"</span></a>":"")+JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch({startPage:o-Math.floor(s/2),endPage:o+Math.floor(s/2),lastPage:n,urlFragment:p,currentPage:o+1,maxPagesDisplayed:s,pageSize:e.pageSize,displayableTotal:e.displayableTotal});var i=Math.min(e.startIndex+e.pageSize,e.displayableTotal);return t+=(i<e.displayableTotal?'<a href="'+soy.$$escapeHtml(p)+soy.$$escapeHtml(i)+'" data-start-index="'+soy.$$escapeHtml(i)+'" class="icon icon-next" title="'+soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",o+2,n+1))+'"><span>'+soy.$$escapeHtml("Next")+" &gt;&gt;</span></a>":"")+"</div>"},JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch=function(e,a){return""+(e.lastPage<e.maxPagesDisplayed?JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(e,{startPage:0,endPage:e.lastPage})):e.startPage<0?JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(e,{startPage:0,endPage:e.endPage-e.startPage})):e.endPage>e.lastPage?JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(e,{startPage:e.startPage-(e.endPage-e.lastPage),endPage:e.lastPage})):JIRA.Components.SimpleIssueList.Templates.numberLinks(e))},JIRA.Components.SimpleIssueList.Templates.numberLinks=function(e,a){var t="",s=e.endPage-e.startPage+1;if(s>1)for(var n=Math.round(s),o=0;o<n;o++){var p=o+e.startPage,l=p+1,i=p*e.pageSize,m=Math.min(i+e.pageSize,e.displayableTotal),r=""+soy.$$escapeHtml(AJS.format("Issues {0} - {1}",i+1,m));t+=" "+(l==e.currentPage?'<strong title="'+soy.$$escapeHtml(r)+'">'+soy.$$escapeHtml(l)+"</strong>":'<a href="'+soy.$$escapeHtml(e.urlFragment)+soy.$$escapeHtml(i)+'" data-page="'+soy.$$escapeHtml(l)+'" data-start-index="'+soy.$$escapeHtml(i)+'" title="'+soy.$$escapeHtml(r)+'">'+soy.$$escapeHtml(l)+"</a>")}return t};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/templates/refresh.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.SimpleIssueList&&(JIRA.Components.SimpleIssueList={}),"undefined"==typeof JIRA.Components.SimpleIssueList.Templates&&(JIRA.Components.SimpleIssueList.Templates={}),JIRA.Components.SimpleIssueList.Templates.refresh=function(e,s){return'<a href="#" class="refresh-table" title="'+soy.$$escapeHtml("Refresh results")+'"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">'+soy.$$escapeHtml("Refresh results")+"</span></a>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/templates/amd-wrapper.js' */
define("jira/components/simpleissuelist/templates",function(){"use strict";return JIRA.Components.SimpleIssueList.Templates}),AJS.namespace("JIRA.Components.SimpleIssueList.Templates",null,require("jira/components/simpleissuelist/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/EndStableSearch.js' */
define("jira/components/simpleissuelist/views/endstablesearch",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-2.1.0"),s=e("jira/components/simpleissuelist/templates");return t.ItemView.extend({template:s.endStableSearch})});
//# sourceMappingURL=EndStableSearch-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/Issue.js' */
define("jira/components/simpleissuelist/views/issue",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-2.1.0"),i=e("jira/components/simpleissuelist/templates"),s=e("jira/issues/utils/issue-nav-render-state");return t.ItemView.extend({template:i.issue,ui:{link:"a"},events:{simpleClick:function(e){e.preventDefault(),this.trigger("select")}},serializeData:function(){var e=this.model;return{id:e.get("id"),key:e.get("key"),summary:e.get("summary"),typeName:e.get("type").name,typeDescription:e.get("type").description,typeIcon:e.get("type").iconUrl}},onRender:function(){s.shouldUseServerRenderedIssueListHtml()&&"boolean"==typeof this.template||this.unwrapTemplate()},highlight:function(){this.$el.addClass("focused"),this.focus(),this.scrollIntoView()},unhighlight:function(){this.$el.removeClass("focused")},scrollIntoView:function(){this.$el.scrollIntoViewForAuto()},focus:function(){this.ui.link.focus()}})});
//# sourceMappingURL=Issue-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/InaccessibleIssue.js' */
define("jira/components/simpleissuelist/views/inaccessibleissue",["require"],function(e){"use strict";var s=e("jira/components/simpleissuelist/views/issue"),i=e("jira/components/simpleissuelist/templates");return s.extend({template:i.inaccessibleIssue,triggers:{click:"select"},serializeData:function(){var e=this.model;return{key:e.get("key")}}})});
//# sourceMappingURL=InaccessibleIssue-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/IssueList.js' */
define("jira/components/simpleissuelist/views/issuelist",["require"],function(e){"use strict";function i(){return o.shouldUseServerRenderedIssueListHtml()?new d(arguments):new r(arguments)}var t=e("jira/components/libs/marionette-2.1.0"),s=e("jira/components/simpleissuelist/views/inaccessibleissue"),n=e("jira/components/simpleissuelist/views/issue"),l=e("jira/components/simpleissuelist/templates"),o=(e("jira/components/libs/underscore"),e("jira/issues/utils/issue-nav-render-state")),r=t.CompositeView.extend({template:l.issueList,onRender:function(){this.unwrapTemplate()},childViewContainer:"ol",getChildView:function(e){return e.get("inaccessible")?s:n},_initialEvents:function(){},onUpdate:function(){if(this.collection.selected){var e=this.children.findByModel(this.collection.selected);e&&e.highlight()}},update:function(e){this.collection=e,this.render(),this.triggerMethod("update")},updateIssue:function(e){var i=this.children.findByModel(e);if(i){this.removeChildView(i);var t=this.getChildView(e),s=this.collection.indexOf(e);this.addChild(e,t,s),this.triggerMethod("update")}},unselectIssue:function(e){if(this.collection){var i=this.collection.get(e);if(i){var t=this.children.findByModel(i);t&&t.unhighlight()}}},selectIssue:function(e){if(this.collection){var i=this.collection.get(e);if(i){var t=this.children.findByModel(i);t&&t.highlight()}}},scrollSelectedIssueIntoView:function(){if(this.collection){var e=this.collection.selected;if(e){var i=this.children.findByModel(e);i&&i.scrollIntoView()}}},focus:function(){!this.children||this.children.length<1||this.children.findByIndex(0).focus()}}),d=r.extend({template:void 0,el:".simple-issue-list .search-results",skipRender:!0,getTemplate:function(){return!this.skipRender&&l.issueList},initialize:function(){var e=this;this.$el=this.el="string"==typeof this.el?jQuery(this.el):this.el,this.$el.find("li").each(function(i){var t=jQuery(this),s=n.extend({el:t,template:!1});e.addChild({get:function(e){return this.attributes[e]},attributes:{id:parseInt(t.find("a.splitview-issue-link").attr("data-issue-id")),key:t.find("a.splitview-issue-link").attr("data-issue-key"),summary:t.find("span.issue-link-summary").text()}},s,i)})},onRender:function(){this.unwrapTemplate()},update:function(e){this.collection=e,o.shouldUseServerRenderedIssueListHtml()||(this.skipRender=!1),this.skipRender?this.skipRender=!1:this.render(),this.triggerMethod("update")},setElement:function(e){this.$el=e},findViewByIssueId:function(e){return this.children.find(function(i){return i.model.get("id")===e})},updateIssue:function(e){var i=this.findViewByIssueId(e.get("id"));if(i){this.removeChildView(i);var t=this.getChildView(e),s=this.collection.indexOf(e);this.addChild(e,t,s),this.triggerMethod("update")}},unselectIssue:function(e){if(this.collection){var i=this.collection.get(e);if(i){var t=this.findViewByIssueId(e);t&&t.unhighlight()}}},selectIssue:function(e){if(this.collection){var i=this.collection.get(e);if(i){var t=this.findViewByIssueId(e);t&&t.highlight()}}},scrollSelectedIssueIntoView:function(){if(this.collection){var e=this.collection.selected;if(e){var i=this.findViewByIssueId(e.get("id"));i&&i.scrollIntoView()}}}});return"undefined"!=typeof Proxy?new Proxy(i,{get:function(e,i){var t=o.shouldUseServerRenderedIssueListHtml()?d:r;return"function"==typeof t[i]?t[i].bind(t):t[i]}}):i});
//# sourceMappingURL=IssueList-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/Layout.js' */
define("jira/components/simpleissuelist/views/layout",["require"],function(e){"use strict";function n(){return r.shouldUseServerRenderedIssueListHtml()?new u(arguments):new o(arguments)}var t=e("jira/components/libs/marionette-2.1.0"),s=e("jira/components/simpleissuelist/templates"),i=e("jira/featureflags/feature-manager"),r=e("jira/issues/utils/issue-nav-render-state"),a="server"===i.getFlagValue("gin-new-render-approach"),o=t.LayoutView.extend({template:s.layout,regions:{pagination:".pagination-container",refresh:".refresh-container",searchResults:".search-results",orderBy:".list-ordering",endOfStableMessageContainer:".end-of-stable-message-container",inlineIssueCreateContainer:".inline-issue-create-container"},ui:{listPanel:".list-panel"},serializeData:function(){return{isGinServerRenderApproachEnabled:a,isRouteLegacyPIN:r.isRouteLegacyPIN()}},onRender:function(){a&&!r.isRouteLegacyPIN()&&this.unwrapTemplate()},showLoading:function(){this.ui.listPanel.addClass("loading")},hideLoading:function(){this.ui.listPanel.removeClass("loading")}}),u=o.extend({template:void 0,el:jQuery(".list-results-panel-nested"),getTemplate:function(){return!r.shouldUseServerRenderedIssueListHtml()&&s.layout},onRender:function(){}});return"undefined"!=typeof Proxy?new Proxy(n,{get:function(e,n){var t=r.shouldUseServerRenderedIssueListHtml()?u:o;return"function"==typeof t[n]?t[n].bind(t):t[n]}}):n});
//# sourceMappingURL=Layout-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/Loading.js' */
define("jira/components/simpleissuelist/views/loading",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-2.1.0"),t=e("jira/components/simpleissuelist/templates");return i.ItemView.extend({template:t.loading,onRender:function(){this.unwrapTemplate()}})});
//# sourceMappingURL=Loading-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/Pagination.js' */
define("jira/components/simpleissuelist/views/pagination",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-2.1.0"),i=e("jira/components/libs/uri"),n=e("jira/components/simpleissuelist/templates");return t.ItemView.extend({template:n.pagination,ui:{prev:".icon-previous",next:".icon-next",page:"a[data-page]"},triggers:{"click @ui.prev":"prev","click @ui.next":"next"},onRender:function(){this.unwrapTemplate()},events:{"click @ui.page":function(e){var t=e.target.getAttribute("data-page");e.preventDefault(),this.trigger("goto",parseInt(t,10)-1)}},update:function(e){this.collection=e,this.render()},serializeData:function(){if(this.collection){var e=new i(this.options.baseURL),t=e.query().length>0;return{startIndex:this.collection.state.pageSize*this.collection.state.currentPage,pageSize:this.collection.state.pageSize,searchQuery:e.toString(),hasQueryString:t,displayableTotal:this.collection.state.totalRecords}}}})});
//# sourceMappingURL=Pagination-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'jira-issue-navigator-components-module/simpleissuelist/views/Refresh.js' */
define("jira/components/simpleissuelist/views/refresh",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-2.1.0"),s=e("jira/components/simpleissuelist/templates");return i.ItemView.extend({template:s.refresh,triggers:{click:"refresh"},onRender:function(){this.unwrapTemplate()}})});
//# sourceMappingURL=Refresh-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'jira-issue-navigator-components-module/pager/templates/pager.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.Pager&&(JIRA.Components.Pager={}),"undefined"==typeof JIRA.Components.Pager.Templates&&(JIRA.Components.Pager.Templates={}),JIRA.Components.Pager.Templates.Pager=function(e,s){return'<ul class="pager"><li class="previous">'+(e.previousIssue&&1!=e.position?'<a data-id="'+soy.$$escapeHtml(e.previousIssue.id)+'" data-key="'+soy.$$escapeHtml(e.previousIssue.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.previousIssue.key)+'" rel="'+soy.$$escapeHtml(e.previousIssue.key)+'" title="'+soy.$$escapeHtml("Previous Issue")+" '"+soy.$$escapeHtml(e.previousIssue.key)+'\'"><span class="icon icon-page-prev"><span>'+soy.$$escapeHtml("Previous Issue")+" '"+soy.$$escapeHtml(e.previousIssue.key)+"'</span></span></a>":e.position&&e.resultCount?'<span class="icon icon-page-prev-deactivated" title="'+soy.$$escapeHtml("Not available - this is the first issue")+'"></span>':"")+'</li><li class="showing">'+(e.position&&e.resultCount?e.hasLoadedTotalCountFromServer?soy.$$escapeHtml(AJS.format("{0} of {1}",e.position,e.resultCount)):soy.$$escapeHtml(AJS.format("{0} of {1}+",e.position,e.resultCount)):"")+'</li><li class="next">'+(e.nextIssue&&e.position!=e.resultCount?'<a data-id="'+soy.$$escapeHtml(e.nextIssue.id)+'" data-key="'+soy.$$escapeHtml(e.nextIssue.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.nextIssue.key)+'" id="next-issue" rel="'+soy.$$escapeHtml(e.nextIssue.key)+'" title="'+soy.$$escapeHtml("Next Issue")+" '"+soy.$$escapeHtml(e.nextIssue.key)+'\'"><span class="icon icon-page-next"><span>'+soy.$$escapeHtml("Next Issue")+" '"+soy.$$escapeHtml(e.nextIssue.key)+"'</span></span></a>":e.position&&e.resultCount?e.isAtTheEndOfStableSearch?'<span class="icon icon-page-next-deactivated" title="'+soy.$$escapeHtml(AJS.format("Whoa, you\'\'ve got quite a few issues there. We can show you the first {0}, but you should refine your search to return fewer issues.",e.stableSearchCount))+'"></span>':'<span class="icon icon-page-next-deactivated" title="'+soy.$$escapeHtml("Not available - this is the last issue")+'"></span>':"")+"</li></ul>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'jira-issue-navigator-components-module/pager/templates/amd-wrapper.js' */
define("jira/components/pager/templates",function(){"use strict";return JIRA.Components.Pager.Templates}),AJS.namespace("JIRA.Components.Pager.Templates",null,require("jira/components/pager/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'jira-issue-navigator-components-module/pager/views/PagerView.js' */
define("jira/components/pager/views/pager",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-2.1.0"),t=e("jira/components/pager/templates"),i=e("jira/components/utils/ajshelper");return s.ItemView.extend({getTemplate:function(){return!(!this.searchResults||!this.searchResults.selected)&&t.Pager},ui:{next:".next a",previous:".previous a",nextIcon:".next span.icon"},triggers:{"simpleClick @ui.next":"next","simpleClick @ui.previous":"previous"},update:function(e){this.searchResults=e,this.undelegateEvents(),this.render(),this.delegateEvents()},onRender:function(){if(this.searchResults&&this.searchResults.selected){var e=this.searchResults.getIssueAtGlobalIndex(this.searchResults.allIssues.length-1);e.id===this.searchResults.selected.id&&this.searchResults.isAtTheEndOfStableSearch()&&this.ui.nextIcon.tooltip({gravity:"ne"})}var s=i.activeShortcuts();s&&(s.j&&this.ui.next.length&&s.j._addShortcutTitle(this.ui.next),s.k&&this.ui.previous.length&&s.k._addShortcutTitle(this.ui.previous))},serializeData:function(){var e=this.searchResults,s=e.selected;if(s){var t=this.searchResults.getPositionOfIssueInSearchResults(this.searchResults.selected.id),i={position:t+1,resultCount:this.searchResults.getTotalIssuesInDb(),hasLoadedTotalCountFromServer:this.searchResults.hasLoadedTotalCount()},a=this.searchResults.getIssueAtGlobalIndex(t+1);a?i.nextIssue={id:a.id,key:a.key}:this.searchResults.isAtTheEndOfStableSearch()&&(i.isAtTheEndOfStableSearch=!0,i.stableSearchCount=this.searchResults.allIssues.length);var r=this.searchResults.getIssueAtGlobalIndex(t-1);return r&&(i.previousIssue={id:r.id,key:r.key}),i}}})});
//# sourceMappingURL=PagerView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'jira-issue-navigator-components-module/pager/Pager.js' */
define("jira/components/pager",["require"],function(e){"use strict";var t=e("jira/components/pager/views/pager"),i=e("jira/components/libs/marionette-2.1.0");return i.ViewManager.extend({_buildSearchResults:function(e){this._destroySearchResults(),this.searchResults=e,this.listenTo(this.searchResults,{"select reset":function(){this.getView("view").update(this.searchResults)}})},_destroySearchResults:function(){this.searchResults&&(this.stopListening(this.searchResults),delete this.searchResults)},_buildView:function(){this.buildView("view",function(){var e=new t({el:this.el});return this.listenTo(e,{next:function(){this.trigger("next")},previous:function(){this.trigger("previous")}}),e})},initialize:function(e){this.el=e.el,this._buildView()},onDestroy:function(){i.ViewManager.prototype.onDestroy.call(this),this._destroySearchResults()},load:function(e){this._buildSearchResults(e)},update:function(e){this.load(e),this.getView("view").update(e)},show:function(e){this.hideView("view"),this.showView("view",function(){var i=new t({el:e});return this.listenTo(i,{next:function(){this.trigger("next")},previous:function(){this.trigger("previous")}}),i})}})});
//# sourceMappingURL=Pager-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:details-view-browser-metrics', location = 'content/js/views/details/services/Metrics.js' */
define("jira/issues/views/details/metrics",["internal/browser-metrics","jira/featureflags/feature-manager"],function(e,i){"use strict";function r(e){var i=window.performance.getEntriesByName(e);if(i.length>0){var r=i[0];return r}}var s=i.isFeatureEnabled("empanada.gin-in-spa"),a=i.getFlagValue("gin-new-render-approach"),n=i.isFeatureEnabled("add-feature-flag-variant-to-gin-detail-view-browser-metric"),t=i.isFeatureEnabled("gin-detail-view-enable-tti-before-legacy-issue-view"),u=i.isFeatureEnabled("gin.performance.quick-search.use-faster-default-query");return{viewIssue:function(){e.start({isInitial:!0,key:"jira.issue.view",ready:["#key-val",".issue-body-content"]})},startImprovedBrowserMetrics:function(i){var d=[];if(d.push(function(){return{isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}}),i&&!s){var o=r("issue-list-created");o&&d.push(function(){return{ttr:o.startTime}}),n&&d.push(function(){return{ginRenderApproachVariant:a}}),d.push(function(){return{isGinDetailViewTTIEventFiredBeforeLegacyIssueView:t}}),d.push(function(){return{pageVisible:!(window&&window.document&&window.document.hidden)}}),d.push(function(){return{isFasterDefaultQueryEnabled:u}}),e.start({isInitial:!0,key:"jira.issue.nav-detail-improved",reporters:d})}},endImprovedBrowserMetrics:function(){e.end({key:"jira.issue.nav-detail-improved"})},startLegacyIssueViewBrowserMetrics:function(){e.start({isInitial:!0,key:"jira.issue.nav-detail-legacy-issue-view"})},endLegacyIssueViewBrowserMetrics:function(){e.end({key:"jira.issue.nav-detail-legacy-issue-view"})}}});
//# sourceMappingURL=Metrics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/lib/jquery.ui.sidebar.js' */
!function(t){t.widget("ui.sidebar",{version:"0.1",options:{minWidth:function(t){return 50},maxWidth:function(t){return window.innerWidth},resize:t.noop,easeOff:0},_create:function(){_.bindAll(this,"_handleDrag","_persist","_setContainment","_setHandlePosition","updatePosition"),this.options.easeOff&&(this.updatePosition=_.debounce(this.updatePosition,this.options.easeOff)),this.options.id||console.error("ui.sidebar: You must specify an id"),this._addHandle(),this._restore(),t(window).resize(_.debounce(this.updatePosition,30))},_restore:function(){if(window.localStorage){var t=localStorage.getItem("ui.sidebar."+this.options.id);t&&this._setWidth(t)}},_persist:function(){window.localStorage&&localStorage.setItem("ui.sidebar."+this.options.id,this.element.outerWidth())},_setContainment:function(){var t=window.innerHeight;this._elementLeft=this.element.offset().left,this._minLeft=this._elementLeft+this.options.minWidth(this),this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth(this)),this.handle.draggable({containment:[this._minLeft,t,this._maxLeft,t]})},_handleDrag:function(t,e){var i=e.position.left-this._elementLeft;this._setWidth(i,!0)},_setWidth:function(t,e){if(!e){var i=this.options.maxWidth(this),s=this.options.minWidth(this);t>i?t=i:t<s&&(t=s)}t-=this.element.outerWidth()-this.element.width(),this.element.width(t),this.options.resize(t)},_addHandle:function(){var e=document.createElement("div");e.setAttribute("class","ui-sidebar"),this.handle=t(e).appendTo(this.element),this.handle.draggable({axis:"x",drag:this._handleDrag,stop:this._persist}),this.handle.mousedown(this._setContainment),_.defer(this._setHandlePosition)},_setHandlePosition:function(){if(this._setContainment(),this._minLeft===this._maxLeft)this.handle.hide();else{var t=this.element.offset(),e=t.left+this.element.outerWidth();this.handle.css({top:t.top,left:e,height:this.element.outerHeight()}).show()}},updatePosition:function(){this._setHandlePosition(),this._setWidth(this.handle.offset().left-this._elementLeft),this._persist()}})}(jQuery);
//# sourceMappingURL=jquery.ui.sidebar-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/templates/detailslayout.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.DetailsLayout&&(JIRA.Components.DetailsLayout={}),"undefined"==typeof JIRA.Components.DetailsLayout.Templates&&(JIRA.Components.DetailsLayout.Templates={}),JIRA.Components.DetailsLayout.Templates.container=function(e,s){return'<div class="details-layout"></div>'},JIRA.Components.DetailsLayout.Templates.layout=function(e,s){return'<div class="aui-group split-view"><div class="aui-item list-results-panel"></div>'+(e.isNewIssueViewEnabled?'<div class="aui-item detail-panel detail-panel-new-issue-view">':'<div class="aui-item detail-panel">')+'<div class="issue-container"></div><div class="tools-container"></div></div></div>'},JIRA.Components.DetailsLayout.Templates.empty=function(e,s){return'<div><div class="navigator-content empty-results"><div class="jira-adbox jira-adbox-medium no-results no-results-message"><h3>'+soy.$$escapeHtml("No issues were found to match your search")+'</h3><p class="no-results-hint">'+soy.$$filterNoAutoescape(AJS.format("Try modifying your search criteria or {0}creating a new issue{1}",'<a class="create-issue" href="'+AJS.contextPath()+'/secure/CreateIssue!default.jspa">',"</a>"))+"</p></div></div></div>"},JIRA.Components.DetailsLayout.Templates.loading=function(e,s){return'<div class="loading"></div>'},JIRA.Components.DetailsLayout.Templates.tools=function(e,s){return'<div class="issue-tools"><div class="pager-container"></div>'+(e.showExpand?'<button title="'+soy.$$escapeHtml(AJS.format("Expand issue ( {0} )",e.expandShortcutKey))+'" class="aui-button aui-button-subtle expand"><span class="aui-icon aui-icon-small aui-iconfont-focus">'+soy.$$escapeHtml(AJS.format("Expand issue ( {0} )",e.expandShortcutKey))+"</span></button>":"")+"</div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/templates/amd-wrapper.js' */
define("jira/components/detailslayout/templates",function(){"use strict";return JIRA.Components.DetailsLayout.Templates}),AJS.namespace("JIRA.Components.DetailsLayout.Templates",null,require("jira/components/detailslayout/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/controllers/Tools.js' */
define("jira/components/detailslayout/controllers/tools",["require"],function(t){"use strict";var e=t("jira/components/libs/marionette-2.1.0"),i=t("jira/components/pager"),o=t("jira/components/detailslayout/views/tools");return e.ViewManager.extend({initialize:function(t){this.showExpand=t.showExpand,this._buildTools(),this._buildPager()},show:function(t){this.toolsView.setElement(t),this.toolsView.render()},load:function(t){this.pager.update(t)},onDestroy:function(){this.pager.destroy(),e.ViewManager.prototype.onDestroy.call(this)},shiftTools:function(){this.toolsView.shiftTools()},_buildTools:function(){this.toolsView=this.buildView("toolsView",function(){var t=new o({showExpand:this.showExpand});return this.listenTo(t,{render:function(){t.pager._ensureElement(),this.pager.show(t.pager.$el)},expand:function(){this.trigger("expand")}}),t})},_buildPager:function(){this.pager=new i,this.listenTo(this.pager,{next:function(){this.trigger("pager:next")},previous:function(){this.trigger("pager:previous")}})}})});
//# sourceMappingURL=Tools-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/views/Container.js' */
define("jira/components/detailslayout/views/container",["require"],function(e){"use strict";function t(){return s.shouldUseServerRenderedIssueListHtml()?new r(arguments):new o(arguments)}var n=e("jira/components/libs/marionette-2.1.0"),i=e("jira/components/detailslayout/templates"),s=e("jira/issues/utils/issue-nav-render-state"),o=n.ItemView.extend({template:i.container,onRender:function(){this.unwrapTemplate()},showView:function(e){this.$el.append(e.$el)},showLoading:function(e){this.$el.prepend(e.$el)},hideLoading:function(e){e.$el.detach()}}),r=o.extend({template:!1,el:".details-layout",skipLoadingOverlay:!0,onRender:function(){},showLoading:function(e){s.shouldUseServerRenderedIssueListHtml()||(this.skipLoadingOverlay=!1),this.skipLoadingOverlay||this.$el.prepend(e.$el)},hideLoading:function(e){this.skipLoadingOverlay?this.skipLoadingOverlay=!1:e.$el.detach()}});return"undefined"!=typeof Proxy?new Proxy(t,{get:function(e,t){if("prototype"===t)return s.shouldUseServerRenderedIssueListHtml()?r.prototype:o.prototype}}):t});
//# sourceMappingURL=Container-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/views/Empty.js' */
define("jira/components/detailslayout/views/empty",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-2.1.0"),n=e("jira/components/detailslayout/templates");return t.ItemView.extend({template:n.empty,onRender:function(){this.unwrapTemplate()}})});
//# sourceMappingURL=Empty-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/views/Tools.js' */
define("jira/components/detailslayout/views/tools",["require"],function(t){"use strict";var e=t("jira/components/libs/marionette-2.1.0"),i=t("jira/components/detailslayout/templates"),o=t("jira/ajs/keyboardshortcut/keyboard-shortcut");return e.LayoutView.extend({initialize:function(t){this.showExpand=t.showExpand},template:i.tools,regions:{pager:".pager-container"},ui:{issueTools:".issue-tools",expand:".expand"},triggers:{"click @ui.expand":"expand"},serializeData:function(){return{showExpand:this.showExpand||!1,expandShortcutKey:o.getKeyboardShortcutKeys("fullscreen.issue")}},onRender:function(){this.showExpand&&this.ui.expand.tooltip({gravity:"e"})},shiftTools:function(){this.ui.issueTools.css("margin","8px 24px 0px 0px")},onDestroy:function(){this.showExpand&&this.ui.expand.tooltip&&this.ui.expand.tooltip("hide")}})});
//# sourceMappingURL=Tools-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/views/Layout.js' */
var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};define("jira/components/detailslayout/views/layout",["require"],function(e){"use strict";function t(){return r.shouldUseServerRenderedIssueListHtml()?new u(arguments):new o(arguments)}var i=e("jira/components/libs/marionette-2.1.0"),n=e("jira/components/detailslayout/templates"),s=e("jquery"),a=e("jira/featureflags/feature-manager"),r=e("jira/issues/utils/issue-nav-render-state"),o=i.LayoutView.extend(_extends({template:n.layout,onRender:function(){this.issuesList._ensureElement()},regions:{issuesList:".list-results-panel",issueComponent:".issue-container",tools:".tools-container"},ui:{detailPanel:".detail-panel"}},"server"===a.getFlagValue("gin-new-render-approach")&&{serializeData:function(){return{isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}}},{maximizeDetailPanelContents:function(){this.issueComponent.$el.css("maxWidth","none"),this.ui.detailPanel.css("margin","0")},maximizeDetailPanelHeight:function(){var e=this.ui.detailPanel.offset().top;this.ui.detailPanel.css("height",window.innerHeight-e)},showDraggable:function(){var e=0;this.issuesList.$el.sidebar({id:"layoutview-draggable",minWidth:function(){return 250},maxWidth:function(){return this.$el.width()-500}.bind(this),resize:function(t){t!==e&&(e=t,this.trigger("resize"))}.bind(this)})},updateDraggable:function(){this.issuesList.$el.sidebar("updatePosition")}})),u=o.extend({el:s(".details-layout > div > .split-view"),template:!1,onRender:function(){}});return"undefined"!=typeof Proxy?new Proxy(t,{get:function(e,t){if("prototype"===t)return r.shouldUseServerRenderedIssueListHtml()?u.prototype:o.prototype}}):t});
//# sourceMappingURL=Layout-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/views/Loading.js' */
define("jira/components/detailslayout/views/loading",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-2.1.0"),n=e("jira/components/detailslayout/templates");return t.ItemView.extend({template:n.loading,onRender:function(){this.unwrapTemplate()}})});
//# sourceMappingURL=Loading-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'jira-issue-navigator-components-module/detailslayout/DetailsLayout.js' */
define("jira/components/detailslayout",["require"],function(e){"use strict";function i(e,i,s){var t,n=i;return function(){var o=arguments;clearTimeout(t),t=setTimeout(function(){e.apply(this,o),n=i},n),n=s}}var s=e("jira/components/libs/underscore"),t=e("jira/components/issuecomponentresolver"),n=e("jira/components/libs/marionette-2.1.0"),o=e("jira/components/simpleissuelist"),r=e("jira/components/detailslayout/views/container"),u=e("jira/components/detailslayout/views/empty"),a=e("jira/components/detailslayout/views/layout"),d=e("jira/components/detailslayout/views/loading"),l=e("jira/components/detailslayout/controllers/tools"),h=e("jquery"),c=e("jira/featureflags/feature-manager"),g=e("jira/issues/views/details/metrics"),p=e("jira/issues/utils/issue-nav-render-state"),w="gin-new-render-approach",m=c.isFeatureEnabled("gin-detail-view-enable-tti-before-legacy-issue-view"),f=c.isFeatureEnabled("gin-analytics-to-support-tti-definition"),I=e("jira/analytics/web-client");return n.ViewManager.extend({isFirstPageLoad:!0,_buildIssueComponent:function(){var e=t.resolve(),s=this.options,n={};JIRA.Issues.Api.isNewIssueViewEnabled()&&(n.shouldRenderIssueHeader=!1);var o=this.issueComponent=new e(n);this._loadIssueInViewerComponent=i(function(e){o.loadIssue({id:e.id,key:e.key,detailView:!s.shouldUpdateCurrentProject}).always(function(){m&&this.isFirstPageLoad?(this.trigger("hideLoading",{triggerLegacyIssueViewTTI:!JIRA.Issues.Api.isNewIssueViewEnabled()}),this.isFirstPageLoad=!1):this.hideLoading()}.bind(this))}.bind(this),100,500),this.listenTo(o,{loadError:function(e){this.simpleIssueList.disableIssue(e.issueId),this.trigger("editorError")},loadComplete:function(e,i){this.adjustSize(),this.simpleIssueList.updateIssue(e.id,{key:e.get("entity").key,summary:e.get("entity").summary,status:e.get("entity").status.name});var s=JIRA.Issues.Api.isNewIssueViewEnabled();if(!s){var t={issueKey:e.get("entity").key,issueId:e.id,issueEditorOptions:i,projectId:e.get("projectId"),projectKey:e.get("projectKey"),projectType:e.get("projectType"),newIssueToggleValue:JIRA.Issues.Api.getNewIssueViewToggleValue()};i&&"issues-cache-refresh"===i.loadReason?this.trigger("editorLoadedFromCache",t):this.trigger("editorLoaded",t)}},fieldsLoaded:function(){this.trigger("editorFieldsLoaded")},saveSuccess:function(e){this.simpleIssueList.refreshIssue(e.issueId),this.trigger("editor:saveSuccess",{event:e.issueId,savedFieldIds:e.savedFieldIds,savedFieldTypes:e.savedFieldTypes,duration:e.duration})},editField:function(e){this.trigger("editor:editField",e)},editFieldCancel:function(e){this.trigger("editor:editFieldCancel",e)},linkToIssue:function(e){this.trigger("linkToIssue",e)},refineViewer:function(e){e.preventDefault(),this.updateIssueComponent(e.query)},linkInErrorMessage:function(e){e.preventDefault(),this.simpleIssueList.selectIssue(e.issueData.id)},individualPanelRendered:function(e){this.trigger("individualPanelRendered",e)}})},_buildSimpleIssueList:function(){this.simpleIssueList=new o({baseURL:this.baseURL,displayInlineIssueCreate:this.options.displayInlineIssueCreate}),this.listenTo(this.simpleIssueList,{select:function(e,i){if(f&&i&&!i.systemSelect){var s=this.searchResults.state.currentPage,t=this.searchResults.getPositionOfIssueInPage(e.id);i&&(i.manualSelect||i.usedKeyboardShortcut)?I.sendUIEvent({action:"selected",actionSubject:"card",actionSubjectId:"issueCard",source:"globalIssueNavigatorScreen",attributes:{navigatorScope:"global",currentPage:s,issueIndex:t,keyboardShortcut:!!i.usedKeyboardShortcut,direction:i.direction}}):i&&I.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"issueViewNavigationButton",source:"globalIssueNavigatorScreen",attributes:{currentPage:s,issueIndex:t,direction:i.direction,viewLayout:"detail"}})}this.trigger("select",e)},update:function(){this.trigger("list:update")},refresh:function(){this.trigger("list:refresh")},sort:function(e){this.trigger("list:sort",e)},"list:select":function(e){this.trigger("list:select",{id:e.id,key:e.key,absolutePosition:e.absolutePosition,relativePosition:e.relativePosition})},"list:pagination":function(){this.trigger("list:pagination")},"before:loadpage":function(){this.showLoading()},"error:loadpage":function(e){this.hideLoading(),this.trigger("error:loadpage",e)},issueCreated:function(e){this.trigger("issueCreated",e)}})},_buildContainerView:function(){this.containerView=this.buildView("containerView",function(){var e=new r;return this.listenTo(e,{render:function(){p.shouldUseServerRenderedIssueListHtml()||this.getView("layoutView").render(),this.getView("emptyView").render(),this.getView("loadingView").render(),p.shouldUseServerRenderedIssueListHtml()||e.$el.prepend(this.getView("layoutView").$el)}}),e})},_buildEmptyView:function(){this.emptyView=this.buildView("emptyView",function(){var e;return e="function"==typeof this.options.emptyViewFactory?this.options.emptyViewFactory():new u,this.listenTo(e,{render:function(){this.containerView.$el.append(e.$el),this.adjustSize(),this.trigger("empty")}}),e})},_showEmptyView:function(e){p.computeNext({hasStartedRenderingEmptyView:!0}),this.layoutView.$el.detach(),this.containerView.$el.empty(),this.containerView.showView(this.emptyView),this.adjustSize();var i=e?{updateActiveView:!0}:void 0;this.trigger("empty",i),m&&this.isFirstPageLoad&&(this.isFirstPageLoad=!1),h("body").removeClass("page-type-split"),h("body").removeClass("with-individual-scrolling-enabled")},_buildTools:function(){this.tools=new l({showExpand:this.useExpand}),this.listenTo(this.tools,{expand:function(){this.trigger("expand")},"pager:next":function(){var e=this.selectNext();this.trigger("pager:next",e)},"pager:previous":function(){var e=this.selectPrevious();this.trigger("pager:previous",e)}})},_buildLayoutView:function(){this.layoutView=this.buildView("layoutView",function(){var e=new a;return p.shouldUseServerRenderedIssueListHtml()?(this.issueComponent.setContainer(e.issueComponent.$el),this.simpleIssueList.show(e.issuesList.$el),e.tools._ensureElement(),this.tools.show(e.tools.$el),this.listenTo(e,{resize:function(){this.adjustSize()}})):this.listenTo(e,{render:function(){e.issueComponent._ensureElement(),this.issueComponent.setContainer(e.issueComponent.$el),e.issuesList._ensureElement(),this.simpleIssueList.show(e.issuesList.$el),e.tools._ensureElement(),this.tools.show(e.tools.$el)},resize:function(){this.adjustSize()}}),e})},_buildLoadingView:function(){this.loadingView=this.buildView("loadingView",function(){return new d})},_buildComponents:function(){this._buildIssueComponent(),this._buildSimpleIssueList(),this._buildTools()},_buildViews:function(){this._buildLayoutView(),this._buildEmptyView(),this._buildLoadingView(),this._buildContainerView(),this.containerView.render()},initialize:function(e){this.baseURL=e.baseURL,this.useExpand=e.useExpand||!1,this._buildComponents(),this._buildViews(),this.listenToFrontendGlobalIssueNavIssueRemoval()},_showLoadingView:function(){this.containerView.showLoading(this.loadingView)},_hideLoadingView:function(){this.containerView.hideLoading(this.loadingView)},_showLayoutView:function(){this.emptyView.$el.detach(),p.shouldUseServerRenderedIssueListHtml()||this.containerView.showView(this.layoutView),this.layoutView.showDraggable(),this.adjustSize(),window.scrollTo(0,0),h("body").addClass("page-type-split"),h("body").addClass("with-individual-scrolling-enabled")},show:function(e){return p.shouldUseServerRenderedIssueListHtml()||e.replaceWith(this.containerView.$el),this.containerView.$el},onDestroy:function(){JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").off("remove-issue-from-search-list"),this.tools.destroy(),this.issueComponent.close(),this.simpleIssueList.destroy(),n.ViewManager.prototype.onDestroy.call(this)},showLoading:function(){this._showLoadingView()},hideLoading:function(){this.trigger("hideLoading"),this._hideLoadingView()},load:function(e,i,s){this.searchResults&&(this.stopListening(this.searchResults),delete this.searchResults),this.searchResults=e,this.listenTo(this.searchResults,{issueDeleted:function(){this.searchResults.length||this._showEmptyView()},"select selectIssueNotInList":function(e){this.showLoading(),m&&this.isFirstPageLoad&&(g.endImprovedBrowserMetrics(),this._hideLoadingView()),this._loadIssueInViewerComponent({id:e.id,key:e.get("key")})}}),this.searchResults.isEmptySearch()?this._showEmptyView(!!s):(this.simpleIssueList.load(this.searchResults,i,!!s),this.tools.load(this.searchResults),this._showLayoutView()),this.trigger("list:render")},listenToFrontendGlobalIssueNavIssueRemoval:function(){if(JIRA.Issues.Api.isNewIssueViewEnabled()){var e=this.simpleIssueList,i=AJS.$("body");i.on("remove-issue-from-search-list",function(i,s){e.removeIssue(s.issueId)})}},adjustSize:function(){s.defer(function(){var e="server"===c.getFlagValue(w),i=this.getView("layoutView");i&&(this.simpleIssueList.adjustSize(),e&&!p.isRouteLegacyPIN()||i.maximizeDetailPanelHeight(),this.issueComponent.applyResponsiveDesign(),i.updateDraggable(),!JIRA.Issues.Api.isNewIssueViewEnabled()||e&&!p.isRouteLegacyPIN()||i.maximizeDetailPanelContents());var s=this.tools.getView("toolsView");if(s&&JIRA.Issues.Api.isNewIssueViewEnabled()&&s.shiftTools(),this.getView("emptyView")){var t=this.getView("emptyView").$el,n=t.length&&t.offset().top;t.css("height",window.innerHeight-n)}}.bind(this))},refreshIssue:function(e){return this.simpleIssueList.refreshIssue(e),this.issueComponent.refreshIssue()},removeIssue:function(e){return this.showLoading(),this.simpleIssueList.removeIssue(e).always(function(){this.hideLoading()}.bind(this)).done(function(e){0===e&&this._showEmptyView()}.bind(this))},getActiveIssueId:function(){return this.issueComponent.getIssueId()},getActiveIssueKey:function(){return this.issueComponent.getIssueKey()},getActiveProjectId:function(){return this.issueComponent.getProjectId()},getActiveProjectKey:function(){return this.issueComponent.getProjectKey()},getActiveProjectType:function(){return this.issueComponent.getProjectType()},selectNext:function(e){return f?this.simpleIssueList.selectNext(e):this.simpleIssueList.selectNext()},selectPrevious:function(e){return f?this.simpleIssueList.selectPrevious(e):this.simpleIssueList.selectPrevious()},updateIssueComponent:function(e){this.showLoading(),this.listenToOnce(this.issueComponent,"loadComplete",function(){this.hideLoading()}),this.issueComponent.updateIssueWithQuery(e)},isLoading:function(){return this.issueComponent.isCurrentlyLoading()},hasSavesInProgress:function(){return"hasSavesInProgress"in this.issueComponent&&this.issueComponent.hasSavesInProgress()},canDismissComment:function(){return this.issueComponent.canDismissComment()},getEditorFields:function(){return"getFields"in this.issueComponent?this.issueComponent.getFields():void 0},abortPending:function(){return this.issueComponent.abortPending()},beforeHide:function(){return this.issueComponent.beforeHide()},beforeShow:function(){return this.issueComponent.beforeShow()},removeIssueMetadata:function(){return this.issueComponent.removeIssueMetadata()},editField:function(e){if("editField"in this.issueComponent)return this.issueComponent.editField(e)},focusList:function(){this.simpleIssueList.focus()},focusEditor:function(){this.issueComponent.focus()}})});
//# sourceMappingURL=DetailsLayout-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:uri', location = 'libs/uri.js' */
define("jira/components/libs/uri",["atlassian/libs/uri-1.14.1"],function(i){"use strict";return i});
//# sourceMappingURL=uri-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/templates/splitview.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.SplitView&&(JIRA.Templates.SplitView={}),JIRA.Templates.SplitView.fullSplitView=function(e,s){return""+(e.newServerRenderApproachEnabled?'<div class="details-layout"><div><div class="aui-group split-view"><div class="aui-item list-results-panel"><div class="list-results-panel-nested"><div><div class="simple-issue-list"><div class="list-panel"><div class="list-ordering"></div><div class="search-results"><div class="list-content">'+(e.issuePanelData?JIRA.Templates.SplitView.issueList({highlightedID:e.issuePanelData.highlightedID,issues:e.issuePanelData.issues,issueIDs:e.issuePanelData.issueIDs,newServerRenderApproachEnabled:e.newServerRenderApproachEnabled}):"")+'</div></div></div></div></div><div class="end-of-stable-message-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item">'+JIRA.Templates.IssueNav.refreshResults(null)+'</div><div class="pagination-container aui-item">'+(e.pagination?JIRA.Templates.IssueNavTable.pagination(e.pagination):"")+"</div></div></div></div>"+(e.newIssueViewEnabled?'<div class="aui-item detail-panel detail-panel-new-issue-view navigator-issue-only">':'<div class="aui-item detail-panel navigator-issue-only">')+'<div class="issue-container"></div><div class="tools-container"></div></div></div></div></div>':'<div class="aui-group split-view"><div class="aui-item list-results-panel"><div class="list-panel"><div class="list-ordering"></div><div class="list-content">'+(e.issuePanelData?JIRA.Templates.SplitView.issueList(e.issuePanelData):"")+'</div></div><div class="end-of-stable-message-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item">'+JIRA.Templates.IssueNav.refreshResults(null)+'</div><div class="pagination-container aui-item">'+(e.pagination?JIRA.Templates.IssueNavTable.pagination(e.pagination):"")+'</div></div></div><div class="aui-item detail-panel navigator-issue-only"><div></div></div></div>')},JIRA.Templates.SplitView.issueList=function(e,s){for(var i='<ol class="issue-list">',a=e.issueIDs.length,t=0;t<a;t++){var l=e.issues[t],n=e.issueIDs[t],p=n==e.highlightedID;i+=l?"<li "+(p?'class="focused"':"")+' data-id="'+soy.$$escapeHtml(n)+'" data-key="'+soy.$$escapeHtml(l.key)+'" title="'+soy.$$escapeHtml(l.summary)+'">'+JIRA.Templates.SplitView.issueRow({issueID:n,key:l.key,summary:l.summary,type:l.type,newServerRenderApproachEnabled:e.newServerRenderApproachEnabled})+"</li>":JIRA.Templates.SplitView.inaccessibleIssueRow({isHighlighted:p,issueID:n})}return i+="</ol>"},JIRA.Templates.SplitView.issueRow=function(e,s){return'<a class="splitview-issue-link" data-issue-id="'+soy.$$escapeHtml(e.issueID)+'" data-issue-key="'+soy.$$escapeHtml(e.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.key)+'">'+(e.newServerRenderApproachEnabled?'<span class="issue-link-key">'+(e.type?JIRA.Templates.SplitView.issueIcon(e.type)+"&nbsp;":"")+soy.$$escapeHtml(e.key)+"</span>":(e.type?JIRA.Templates.SplitView.issueIcon(e.type)+"&nbsp;":"")+'<span class="issue-link-key">'+soy.$$escapeHtml(e.key)+"</span><br/>")+'<span class="issue-link-summary">'+soy.$$escapeHtml(e.summary)+"</span></a>"},JIRA.Templates.SplitView.issueIcon=function(e,s){return'<img height="16" width="16" alt="'+soy.$$escapeHtml(e.name)+'" title="'+soy.$$escapeHtml(e.name)+" - "+soy.$$escapeHtml(e.description)+'" src="'+soy.$$escapeHtml(e.iconUrl)+'" />'},JIRA.Templates.SplitView.inaccessibleIssueRow=function(e,s){return'<li class="inaccessible-issue '+(e.isHighlighted?"focused":"")+'" data-id="'+soy.$$escapeHtml(e.issueID)+'">'+soy.$$escapeHtml("This issue can no longer be opened")+"</li>"},JIRA.Templates.SplitView.issueDetailsNoSelection=function(e,s){return"<div></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Analytics.js' */
define("jira/issues/views/details/analytics",["jira/components/analytics-tracker/tracker","jira/analytics/web-client","jira/util/strings"],function(e,s,i){"use strict";return{triggerIssueTableRefresh:function(){JIRA.Issues.Application.execute("analytics:trigger","kickass.issueTableRefresh",{source:"jira.issuenav.global"})},triggerOpenIssueFromTable:function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.openIssueFromTable",{issueId:e.id,absolutePosition:e.absolutePosition+1,relativePosition:e.relativePosition+1,source:"jira.issuenav.global"})},triggerViewIssue:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:a.issueId,loadReason:a.loadReason,duration:a.duration,loadedFromDom:!1,source:"jira.issuenav.global",projectId:a.projectId,projectType:a.projectType||"unknown",issueMatchesProjectContext:null!=a.issueKey&&0===a.issueKey.indexOf(a.projectKey+"-")}),s.sendPageEvent("viewIssueScreen"),s.sendTrackEvent({action:"viewed",actionSubject:"issue",actionSubjectId:a.issueId,containerType:"project",containerId:a.projectId,objectType:"issue",objectId:a.issueId,source:"globalIssueNavigatorIssueScreen",attributes:{analyticsSource:"global-issue-navigator-issue",projectType:a.projectType&&i.camelCase(a.projectType),designVersion:"v1-legacy",newIssueToggleValue:a.newIssueToggleValue}}),e.initialize(a.projectId,a.projectType,a.issueId)},triggerInlineEdit:function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit",{issueId:e.issueId,savedFieldIds:e.savedFieldIds,savedFieldTypes:e.savedFieldTypes,duration:e.duration,source:"jira.issuenav.global"})},triggerInlineEditStart:function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.start",{issueId:e.issueId,fieldId:e.fieldId,fieldType:e.fieldType,source:"jira.issuenav.global"})},triggerInlineEditCancel:function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.cancel",{issueId:e.issueId,fieldId:e.fieldId,fieldType:e.fieldType,source:"jira.issuenav.global"})},triggerPagerNext:function(){JIRA.Issues.Application.execute("analytics:trigger","issuenavigator.pager.next",{source:"jira.issuenav.global"})},triggerPagerPrevious:function(){JIRA.Issues.Application.execute("analytics:trigger","issuenavigator.pager.previous",{source:"jira.issuenav.global"})}}});
//# sourceMappingURL=Analytics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Traces.js' */
define("jira/issues/views/details/traces",[],function(){"use strict";return{triggerSearchFinished:function(){JIRA.trace("jira.search.finished")},triggerStableUpdate:function(){JIRA.trace("jira.search.stable.update")}}});
//# sourceMappingURL=Traces-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/ApplicationAdapter.js' */
define("jira/issues/views/details/application-adapter",[],function(){"use strict";function e(e,s){for(var i in s){var n=s[i];JIRA.Issues.Application.reqres.hasHandler(i)?r[e][i]=JIRA.Issues.Application.reqres.getHandler(i):r[e][i]=null,JIRA.Issues.Application.reqres.setHandler(i,n)}}function s(e){for(var s in r[e]){var i=r[e][s];i?JIRA.Issues.Application.reqres.setHandler(s,i):JIRA.Issues.Application.reqres.removeHandler(s),delete r[e][s]}}var r={reqres:{},commands:{}};return{init:function(s){e("reqres",{"issueEditor:canDismissComment":function(){return s.canDismissComment()},"issueEditor:getIssueId":function(){return s.getActiveIssueId()},"issueEditor:getIssueKey":function(){return s.getActiveIssueKey()},"issueEditor:refreshIssue":function(){return s.refreshIssue()},"issueEditor:isCurrentlyLoading":function(){return s.isLoading()},"issueEditor:hasSavesInProgress":function(){return s.hasSavesInProgress()},"issueEditor:fields":function(){return s.getEditorFields()}}),e("commands",{"issueEditor:abortPending":function(){return s.abortPending()},"issueEditor:beforeHide":function(){return s.beforeHide()},"issueEditor:beforeShow":function(){return s.beforeShow()},"issueEditor:removeIssueMetadata":function(){return s.removeIssueMetadata()},"issueEditor:updateIssueWithQuery":function(){return s.updateIssueComponent()},"issueEditor:editField":function(e){return s.editField(e)}})},destroy:function(){s("reqres"),s("commands")}}});
//# sourceMappingURL=ApplicationAdapter-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Metrics.js' */
define("jira/issues/views/details/metrics",["internal/browser-metrics","jira/featureflags/feature-manager"],function(e,i){"use strict";function r(e){var i=window.performance.getEntriesByName(e);if(i.length>0){var r=i[0];return r}}var s=i.isFeatureEnabled("empanada.gin-in-spa"),a=i.getFlagValue("gin-new-render-approach"),n=i.isFeatureEnabled("add-feature-flag-variant-to-gin-detail-view-browser-metric"),t=i.isFeatureEnabled("gin-detail-view-enable-tti-before-legacy-issue-view"),u=i.isFeatureEnabled("gin.performance.quick-search.use-faster-default-query");return{viewIssue:function(){e.start({isInitial:!0,key:"jira.issue.view",ready:["#key-val",".issue-body-content"]})},startImprovedBrowserMetrics:function(i){var d=[];if(d.push(function(){return{isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}}),i&&!s){var o=r("issue-list-created");o&&d.push(function(){return{ttr:o.startTime}}),n&&d.push(function(){return{ginRenderApproachVariant:a}}),d.push(function(){return{isGinDetailViewTTIEventFiredBeforeLegacyIssueView:t}}),d.push(function(){return{pageVisible:!(window&&window.document&&window.document.hidden)}}),d.push(function(){return{isFasterDefaultQueryEnabled:u}}),e.start({isInitial:!0,key:"jira.issue.nav-detail-improved",reporters:d})}},endImprovedBrowserMetrics:function(){e.end({key:"jira.issue.nav-detail-improved"})},startLegacyIssueViewBrowserMetrics:function(){e.start({isInitial:!0,key:"jira.issue.nav-detail-legacy-issue-view"})},endLegacyIssueViewBrowserMetrics:function(){e.end({key:"jira.issue.nav-detail-legacy-issue-view"})}}});
//# sourceMappingURL=Metrics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/Details.js' */
define("jira/issues/views/details",["jira/components/lib/marionette-2.1.0","jira/components/detailslayout","jira/components/search/results","jira/issues/views/details/analytics","jira/issues/views/details/traces","jira/issues/views/details/application-adapter","jira/components/libs/uri","jira/featureflags/feature-manager","jira/issues/views/details/metrics","jira/issues/wrm-spa-utils","jira/issues/utils/issue-nav-render-state"],function(e,s,t,i,a,r,l,u,n,d,o){"use strict";var h=u.isFeatureEnabled("empanada.gin-in-spa"),c=u.isFeatureEnabled("gin-detail-view-enable-tti-before-legacy-issue-view"),g=u.isFeatureEnabled("gin-analytics-to-support-tti-definition"),I=o.shouldUseServerRenderedIssueTableJson();return e.Object.extend({_buildSearchResults:function(e){this._destroySearchResults();var s=e.getResults(),i=s._getIssueIdsToKeys(),a=s.get("issueIds"),r=_.map(a,function(e){return{id:e,key:i[e]}});this.searchResults=new t([],{totalRecordsInDB:s.get("total"),hasLoadedTotalCountFromServer:s.get("hasTotalCountFromServer"),pageSize:s.get("pageSize"),totalRecordsInSearch:s.get("issueIds").length,issues:r,jql:e.getEffectiveJql(),allowNoSelection:!0})},_destroySearchResults:function(){this.searchResults&&(this.stopListening(this.searchResults),delete this.searchResults)},_buildDetailsLayout:function(e){var t=(new l).query(),r=new l(AJS.contextPath()+"/issues/").query(t).removeQuery("startIndex");this.detailsLayout=new s({baseURL:r.toString(),shouldUpdateCurrentProject:!1});var u=this.detailsLayout.adjustSize.bind(this.detailsLayout);this.listenTo(this.detailsLayout,{select:function(e){if(e.id){var s=!1,t=this.search.getResults().getSelectedIssue().getKey();t||(s=!0),this.search.getResults().selectIssueById(e.id,{replace:s})}},"list:refresh":function(){JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"),i.triggerIssueTableRefresh(),this.search.refresh()},"list:sort":function(e){this.search.doSort(e)},"list:update":function(){a.triggerSearchFinished(),a.triggerStableUpdate()},"list:render":function(){d.sendContentReadyEvent(),this.trigger("render")},empty:function(){d.sendTTIContentReadyEvent("split-view"),h||n.endImprovedBrowserMetrics(),a.triggerSearchFinished(),this.trigger("render")},hideLoading:function(e){d.sendTTIContentReadyEvent("split-view"),h||c||n.endImprovedBrowserMetrics(),c&&e&&e.triggerLegacyIssueViewTTI&&(n.startLegacyIssueViewBrowserMetrics(),n.endLegacyIssueViewBrowserMetrics())},destroy:function(){JIRA.Issues.offHorizontalResize(u),JIRA.Issues.offVerticalResize(u)},"list:select":function(e){JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"),i.triggerOpenIssueFromTable({issueId:e.id,absolutePosition:e.absolutePosition,relativePosition:e.relativePosition})},"pager:next":function(){i.triggerPagerNext()},"pager:previous":function(){i.triggerPagerPrevious()},"list:pagination":function(){JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected")},editorLoaded:function(e){i.triggerViewIssue(e)},"editor:saveSuccess":function(e){i.triggerInlineEdit({issueId:e.event,savedFieldIds:e.savedFieldIds,savedFieldTypes:e.savedFieldTypes,duration:e.duration})},"editor:editField":function(e){i.triggerInlineEditStart({issueId:e.issueId,fieldId:e.fieldId,fieldType:e.fieldType})},"editor:editFieldCancel":function(e){i.triggerInlineEditCancel({issueId:e.issueId,fieldId:e.fieldId,fieldType:e.fieldType})},linkToIssue:function(s){n.viewIssue(),e.reset({selectedIssueKey:s.issueKey})}}),JIRA.Issues.onHorizontalResize(u),JIRA.Issues.onVerticalResize(u)},_destroyDetailsLayout:function(){this.detailsLayout.destroy(),delete this.detailsLayout},_buildSearch:function(e){this.search=e,this.listenTo(this.search.getResults(),{"change:resultsId":this._loadSearch,issueDeleted:function(e){var s=this.searchResults.get(e.id);this.searchResults.removeAndUpdateSelectionIfNeeded(s)}}),this.search.getResults().onIssueUpdated(this._handleRefreshIssue),this.listenTo(this.search.getResults().getSelectedIssue(),{change:function(){var e=this.search.getResults().getSelectedIssue().get("id");e&&this.searchResults&&this.searchResults.selected&&this.searchResults.selected.get("id")!==e&&this.detailsLayout.load(this.searchResults,e)}})},_destroySearch:function(){this.search.getResults().setTable(null,{silent:!0}),this.search.getResults().offIssueUpdated(this._handleRefreshIssue)},_loadSearch:function(){var e;this._buildSearchResults(this.search),this.search.getResults().hasSelectedIssue()?e=this.search.getResults().getSelectedIssue().get("key"):this.search.getResults().get("startIndex")>0?e=this.searchResults.getIssueKeyForIndex(this.search.getResults().get("startIndex")):this.search.getResults().hasHighlightedIssue()&&(e=this.search.getResults().getHighlightedIssue().get("key")),I&&this.searchResultsPreloadData&&(this.searchResults.setPreloadedData(this.searchResultsPreloadData),this.searchResultsPreloadData=null),this.detailsLayout.load(this.searchResults,e)},_handleRefreshIssue:function(e){this.detailsLayout.refreshIssue(e)},_cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},_buildSearchResultsPreloadData:function(e){var s=null,t=this._cloneDeep(e);if(t&&t.issueTable&&t.issueTable.rawTableJson){t.issueTable.issueKeys=[],delete t.issueTable.sortBy,t.issueTable.table=t.issueTable.rawTableJson,delete t.issueTable.rawTableJson,t.issueTable.pageSize=t.issueTable.table.length;var i=t.issueTable.table.map(function(e){return e.id});delete t.issueTable.issueIds,s={},s.ids=i,s.response=t}return s},initialize:function(e){if(this._handleRefreshIssue=this._handleRefreshIssue.bind(this),this._buildDetailsLayout(e.searchPageModule),this._buildSearch(e.search),I&&(this.searchResultsPreloadData=this._buildSearchResultsPreloadData(e.searchPageModule.initialIssueTableState)),o.shouldUseServerRenderedIssueListHtml())this.container=this.detailsLayout.show(e.searchContainer.find(".navigator-content > .details-layout"));else{var s=jQuery("<div></div>");e.searchContainer.find(".navigator-content").html("").append(s),this.container=this.detailsLayout.show(s)}jQuery("body").addClass("page-type-split"),jQuery("body").addClass("with-individual-scrolling-enabled"),e.fullScreenIssue.hide(),r.init(this.detailsLayout)},render:function(){this._loadSearch()},close:function(){this.destroy()},onDestroy:function(){jQuery("body").removeClass("page-type-split"),jQuery("body").removeClass("with-individual-scrolling-enabled"),this._destroyDetailsLayout(),this._destroySearch(),this._destroySearchResults(),r.destroy()},nextIssue:function(e){g?this.detailsLayout.selectNext(e):this.detailsLayout.selectNext()},prevIssue:function(e){g?this.detailsLayout.selectPrevious(e):this.detailsLayout.selectPrevious()},isLoading:function(){return this.detailsLayout.isLoading()},isIssueViewActive:function(){return!1},focusIssueList:function(){this.detailsLayout.focusList()},focusIssueEditor:function(){this.detailsLayout.focusEditor()}})});
//# sourceMappingURL=Details-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/search/FullScreenLayout.js' */
!function(e,s,i,t,n,r){"use strict";AJS.namespace("JIRA.Issues.FullScreenLayout"),JIRA.Issues.FullScreenLayout=e.Controller.extend({initialize:function(e){this.searchService=new s({searchModule:e.search,searchResults:e.search.getResults(),columnConfig:e.columnConfig}),this.$navigatorContent=e.searchContainer.find(".navigator-content"),this.issueTable=new i({searchService:this.searchService,el:this.$navigatorContent,columnConfig:e.columnConfig}),this.listenTo(this.issueTable,{highlightIssue:function(e){this.searchService.highlightIssue(e)},render:function(){this.searchService.hasSelectedIssue()||this.fullScreenIssue.hide(),this.fullScreenIssue.bindSearchService(this.searchService),r.sendTTIContentReadyEvent("list-view"),this.trigger("render")}}),this.fullScreenIssue=e.fullScreenIssue,this.listenTo(this.fullScreenIssue,{issueHidden:function(){this.issueTable.highlightIssue(this.searchService.getHighlightedIssue())}}),t.on("issueEditor:loadError",this.onLoadError,this),this.searchPageModule=e.searchPageModule,this.listenToFrontendGlobalIssueNavIssueRemoval()},listenToFrontendGlobalIssueNavIssueRemoval:function(){if(JIRA.Issues.Api.isNewIssueViewEnabled()){var e=this.searchPageModule;AJS.$("body").on("remove-issue-from-search-list",function(s,i){i.issueKey&&e&&e.updateIssue({action:JIRA.Issues.Actions.DELETE,id:i.issueId,key:i.issueKey,message:"thanks_issue_deleted",meta:{}})})}},onLoadError:function(e){this.fullScreenIssue.isVisible()||(this.searchService.unselectIssue(),n.showErrorMsg(AJS.format("{0} can not be opened. The issue may have been deleted or you might not have permission to see the issue.",e.issueKey),{closeable:!0}))},render:function(){this.issueTable.show()},onClose:function(){JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").off("remove-issue-from-search-list"),this.fullScreenIssue.deactivate(),this.issueTable.close(),this.searchService.close(),t.off("issueEditor:loadError",this.onLoadError,this),delete this.fullScreenIssue,delete this.issueTable,delete this.searchService},nextIssue:function(){this.searchService.selectNextIssue()},prevIssue:function(){this.searchService.selectPreviousIssue()},returnToSearch:function(){this.searchService.unselectIssue()},focusIssueList:function(){},focusIssueEditor:function(){},isIssueViewActive:function(){return this.fullScreenIssue.isVisible()},isLoading:function(){return this.fullScreenIssue.isLoading()}})}(JIRA.Marionette,JIRA.Components.SearchService,JIRA.Components.IssueTable,JIRA.Issues.Application,JIRA.Messages,JIRA.Issues.WrmSpaUtils);
//# sourceMappingURL=FullScreenLayout-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/search/EmptyResultsView.js' */
!function(){"use strict";AJS.namespace("JIRA.Issues.EmptyResultsView"),JIRA.Issues.EmptyResultsView=JIRA.Issues.BaseView.extend({initialize:function(e){this.searchResults=e.searchResults},render:function(){var e,s,t,n,a=JIRA.Issues.UserParms.get().createIssue;JIRA.Issues.LoginUtils.isLoggedIn()?this.searchResults.getJiraHasIssues()===!1?(e="No issues have been created (yet)",s=a?"Be the first to \u003ca\u003ecreate an issue\u003c/a\u003e":null,t="empty-results-message",n="create"):(e="No issues were found to match your search",s=a?"Try modifying your search criteria or \u003ca\u003ecreating a new issue\u003c/a\u003e":"Try modifying your search criteria",t="no-results-message",n="create"):(e="No issues were found to match your search",s="Try \u003ca\u003elogging in\u003c/a\u003e to see more results",t="not-logged-in-message",n="login"),this.$el.addClass("empty-results"),this.$el.html(JIRA.Templates.IssueNavTable.noResults({message:e,hint:s,cssClass:t}));var r=this.$(".no-results-hint a");switch(n){case"create":r.addClass("create-issue").attr("href",AJS.contextPath()+"/secure/CreateIssue!default.jspa");break;case"login":r.attr("href",JIRA.Issues.LoginUtils.redirectUrlToCurrent()).addClass("login-link")}_.defer(jQuery.event.trigger,"updateOffsets.popout"),_.defer(JIRA.trace,"jira.search.finished")}})}();
//# sourceMappingURL=EmptyResultsView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/popupuserprefstore.js' */
define("jira-gadgets-plugin/charting/charting-store",[],function(){var n={};return{get:function(t){var r=n[t];return r?r:{}},set:function(t,r,e){var i=this.get(t);i[r]=e,n[t]=i},clear:function(){n={}}}});;
;
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/popupuserprefstore-init.js' */
require(["jira-gadgets-plugin/charting/charting-store"],function(t){gadgets.IfrGadgetService.prototype.setUserPref=function(e,r,g){var i=this.f;i&&(i=i.substr("gadget-".length)),t.set(i,r,g)}});;
;
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/chartdialog.js' */
define("jira-gadgets-plugin/charting/chart-dialog",["jquery","jira-gadgets-plugin/charting/charting-store","wrm/context-path","aui/populate-parameters","aui/dialog","jira/util/formatter","jira/util/data/meta","jira/libs/parse-uri"],function(jQuery,ChartingStore,wrmContextPath,populateParameters,AuiDialog,formatter,Meta,parseUri){var dialog,DIALOG_ID="charts-dialog",CHARTS_CATEGORY="Charts",CHART_HEIGHT=522,saveFormLoaded=!1,idToUriMap={},dialogThrobber=jQuery('<span class="icon throbber"></span>'),getPostData=function(e){var r={};jQuery.each(e,function(e,a){r[a.name]=a.value});var a=getFilterId();a?r.filterId=a:r.jql=getFilterJql()||"";var t=dialog.getPage(0).curtab;r.gadgetUri=idToUriMap[t];var o=ChartingStore.get(t);if(o){var n={};for(var i in o)n[i]=o[i];r.userPrefs=n}return r},loadSaveToDashboardForm=function(){if(!saveFormLoaded){var saveFormUrl=wrmContextPath()+"/rest/gadget/1.0/chart/add",filterId=getFilterId();saveFormUrl=filterId?saveFormUrl+"?filterId="+encodeURIComponent(filterId):saveFormUrl+"?jql="+encodeURIComponent(getFilterJql());var saveFormPanel=jQuery("#saveToDashboardPanel");saveFormPanel.empty(),jQuery.ajax({url:saveFormUrl,success:function(data){saveFormPanel.html(data),saveFormLoaded=!0;var chartForm=saveFormPanel.find("form#savetodashboardform"),saveButton=saveFormPanel.find("#save-btn1");chartForm.submit(function(e){e.preventDefault(),chartForm.find(".error").remove(),chartForm.find(".form-errors p").remove(),chartForm.find(".form-errors").hide(),saveButton.attr("disabled","true");var postData=getPostData(chartForm.serializeArray());jQuery.ajax({url:chartForm.attr("action"),contentType:"application/json",dataType:"text",data:JSON.stringify(postData),type:"POST",success:function(e){chartForm.trigger("fakesubmit"),saveButton.removeAttr("disabled","false"),window.location=e},error:function(XMLHttpRequest,textStatus,errorThrown){if(saveButton.removeAttr("disabled","false"),400===XMLHttpRequest.status){var errorCollection=eval("("+XMLHttpRequest.responseText+")");errorCollection.generic.length>0&&(jQuery(errorCollection.generic).each(function(e,r){chartForm.find(".form-errors").append("<p>"+r+"</p>")}),chartForm.find(".form-errors").show()),errorCollection.fields.length>0&&jQuery(errorCollection.fields).each(function(e,r){chartForm.find("#"+r.field).after('<div class="error">'+r.error+"</div>")})}}})}),saveFormPanel.find("#cancel-btn1").click(function(e){dialog.prevPage(),saveButton.removeAttr("disabled","false"),chartForm.find(".form-errors").hide(),chartForm.find(".error").remove(),e.preventDefault()})}})}},addThrobber=function(){dialog.popup.element.find(".dialog-button-panel").prepend(dialogThrobber),jQuery().ajaxSend(function(e,r){dialog.popup.element.is(":visible")&&jQuery(r).throbber({target:dialogThrobber})})},addErrorHandler=function(){jQuery().ajaxError(function(e,r,a){500===r.status&&(dialog.hide(),jQuery("body").html(r.responseText))})},keypressListener=function(e){27===e.keyCode&&dialog.hide()},createDialog=function(e,r,a){dialog=new AuiDialog(e,r,DIALOG_ID),dialog.addHeader("Gadgets"),resetPanels(a),dialog.addButton("Save to Dashboard",function(e){loadSaveToDashboardForm(),e.nextPage()},"aui-button aui-button-primary"),dialog.addCancel("Cancel",function(e){e.hide()}),dialog.addPage(),dialog.page[1].addPanel("saveToDashBoard",'<div id="saveToDashboardPanel"</div>'),dialog.page[1].addHeader("Save gadget to a Dashboard"),addThrobber(),addErrorHandler(),jQuery(document).keydown(keypressListener)},resetDialog=function(e){if(dialog){saveFormLoaded=!1,jQuery("form[name=chartpopup]").show(),jQuery("input[name=filterName]").val(""),dialog.gotoPage(0);for(var r=0;dialog.getPanel(r);r++){var a=dialog.getPanel(r);a.loaded=!1}dialog.gotoPanel(e)}},loadChartGadgets=function(e){var r,a=[],t=parseUri(window.location),o=t.protocol+"://"+t.authority;return jQuery(e.gadgets).each(function(e,t){if(t.gadgetSpecUri&&(0!==t.gadgetSpecUri.indexOf("http")||0===t.gadgetSpecUri.indexOf(o))){var n={title:t.title,gadgetUri:t.gadgetSpecUri};t.gadgetSpecUri.indexOf("filter-results")>-1&&(r=n),jQuery([t.categories]).each(function(e,t){if(t.constructor==Array)for(var o=0;o<t.length;++o)t[o]===CHARTS_CATEGORY&&r!=n&&a.push(n);else t===CHARTS_CATEGORY&&r!=n&&a.push(n)})}}),a.sort(function(e,r){return e.title>r.title?1:-1}),r&&a.unshift(r),a},renderPanelContents=function(e,r){e.body.html(r),e.loaded=!0},resetPanels=function(e){var r=loadChartGadgets(e);dialog.gotoPage(0),jQuery(r).each(function(e,r){dialog.page[0].addPanel(r.title,'<div class="loadingPanel">&nbsp;</div>');var a=dialog.getPanel(e);a&&(a.loaded=!1,idToUriMap[e]=r.gadgetUri,a.body.show=function(a,t){return function(){if(!a.loaded){var o=wrmContextPath()+"/rest/gadget/1.0/chart/render?id="+e+"&gadgetUri="+encodeURIComponent(r.gadgetUri),n=getFilterId();o=n?o+"&filterId="+encodeURIComponent(n):o+"&jql="+encodeURIComponent(getFilterJql()),jQuery.ajax({url:o,success:function(e){renderPanelContents(a,e)}})}t.call(a.body)}}(a,a.body.show))})},launchDialog=function(e,r,a,t){dialog?(resetDialog(t),dialog.show()):jQuery(jQuery.ajax({url:e,dataType:"json",success:function(e){dialog||createDialog(r,a,e),dialog.show(),dialog.gotoPage(0),dialog.gotoPanel(t)}})).throbber({target:jQuery("#throbber-space")})},getFilterId=function(){var e=Meta.get("filter-id");return e&&e>=0?e:null},getFilterJql=function(){return Meta.get("filter-jql")};return function(){jQuery("body").delegate("#charts","click",function(e){populateParameters(),launchDialog(wrmContextPath()+"/rest/config/1.0/directory.json",800,CHART_HEIGHT,1),e.preventDefault()}),jQuery("body").delegate("#onDashboard","click",function(e){populateParameters(),launchDialog(wrmContextPath()+"/rest/config/1.0/directory.json",800,CHART_HEIGHT,0),e.preventDefault()})}});;
;
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/chartdialog-init.js' */
require(["jira-gadgets-plugin/charting/chart-dialog","jquery"],function(r,a){a(document).ready(r)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:global-analytics', location = 'jira-issue-navigator-components-module/analytics-tracker/global/global-analytics.js' */
define("jira/components/analytics-tracker/global/global-analytics",["require"],function(e){"use strict";var i=e("jira/components/analytics-tracker/tracker"),c=e("jquery");return{initialize:function(){var e=c(document);e.on("click","#create_link",function(){i.trackEvent("viewissue.createissue","click")})}}});
//# sourceMappingURL=global-analytics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:standalone-issue-nav', location = 'content/js/search/IssueNavInit.js' */
!function(e){"use strict";var t=e("jquery"),a=e("backbone"),n=e("underscore"),s=e("jira/ajs/keyboardshortcut/keyboard-shortcut"),i=e("jira/util/data/meta"),r=e("wrm/require"),o=e("jira/components/analytics-tracker/global/global-analytics"),u=e("jira/analytics/web-client"),c=e("jira/featureflags/feature-manager"),d=c.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli"),l=c.isFeatureEnabled("empanada.gin-in-spa"),f="server"===c.getFlagValue("gin-new-render-approach");l||(r("wrc!jira.view.issue.deferred"),t(document).on("keydown",function(e){27===e.which&&e.preventDefault()}),t(function(){d&&(JIRA.Issues.Application.fireSlaEvent=function(e,t,a){var n={task:e,layoutType:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),analyticsSource:"global-issue-navigator",application:"unknown",edition:"unknown"};Object.assign(n,a),u.sendOperationalEvent({source:"ui",action:t,actionSubject:"ui",attributes:n})},JIRA.Issues.Application.fireSuccessSlaEvent=function(e){JIRA.Issues.Application.fireSlaEvent(e,"taskSuccess")},JIRA.Issues.Application.fireFailSlaEvent=function(e,t){JIRA.Issues.Application.fireSlaEvent(e,"taskFail",t)}),JIRA.Issues.Application.start({showReturnToSearchOnError:function(){return"split-view"!==JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()},useLog:i.get("dev-mode")===!0}),JIRA.Issues.GlobalIssueNavCreator.create(t(document),JIRA.Issues.GlobalIssueNavCreator.readInitialData()),a.history.start({root:JIRA.Issues.IssueNavRouter.getBackboneRoot(),pushState:!0}),t.browser.webkit&&(JIRA.Issues.ignorePopState=!0,window.addEventListener("load",function(){n.defer(function(){JIRA.Issues.ignorePopState=!1})})),s.addIgnoreCondition(function(e,t,a){return"issueaction"===a&&JIRA.Issues.Api.isCurrentlyLoadingIssue()});var e=parseInt(t("body").css("minWidth"),10);t(document).bind("resultsWidthChanged",function(){var a=t(".contained-content"),n=a.parent();if(a.length>0){if(!f){var s=a.offset().left,i=Math.max(window.innerWidth,e)-s,r=i/n.width()*100;r<100?a.css("width",r+"%"):a.css("width","")}t(document).trigger("issueNavWidthChanged")}}),t(document).trigger("resultsWidthChanged"),JIRA.Issues.onVerticalResize(function(){t.event.trigger("updateOffsets.popout")}),JIRA.bind(JIRA.Events.LAYOUT_RENDERED,function(){n.defer(function(){t.event.trigger("updateOffsets.popout")})}),o.initialize(),u.sendScreenEvent("globalIssueNavigatorScreen",null,{defaultLayout:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),defaultMode:$(".mode-switcher .switcher-item.active").data("id")})}))}(window.require);
//# sourceMappingURL=IssueNavInit-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:standalone-issue-nav', location = 'content/js/search/IssueNavInitSpa.js' */
define("jira/issue-nav-initiator",["require","exports"],function(e,t){"use strict";function s(){var e=parseInt(a("body").css("minWidth"),10),t=a(".contained-content"),s=t.parent();if(t.length>0){var n=t.offset().left,i=Math.max(window.innerWidth,e)-n,r=i/s.width()*100;r<100?t.css("width",r+"%"):t.css("width",""),a(document).trigger("issueNavWidthChanged")}}function n(){r.defer(function(){JIRA.Issues.ignorePopState=!1})}var a=e("jquery"),i=e("backbone"),r=e("underscore"),o=e("jira/ajs/keyboardshortcut/keyboard-shortcut"),u=e("jira/util/data/meta"),l=e("jira/components/analytics-tracker/global/global-analytics"),c=e("jira/analytics/web-client"),d=e("jira/featureflags/feature-manager"),I=d.isFeatureEnabled("empanada.gin.enable-frontend-operational-events-for-sli"),p=d.isFeatureEnabled("empanada.gin-in-spa");t.init=function(e,t,r){p&&(I&&(JIRA.Issues.Application.fireSlaEvent=function(e,t,s){var n={task:e,layoutType:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),analyticsSource:"global-issue-navigator",application:"unknown",edition:"unknown"};Object.assign(n,s),c.sendOperationalEvent({source:"ui",action:t,actionSubject:"ui",attributes:n})},JIRA.Issues.Application.fireSuccessSlaEvent=function(e){JIRA.Issues.Application.fireSlaEvent(e,"taskSuccess")},JIRA.Issues.Application.fireFailSlaEvent=function(e,t){JIRA.Issues.Application.fireSlaEvent(e,"taskFail",t)}),JIRA.Issues.Application.start({showReturnToSearchOnError:function(){return"split-view"!==JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()},useLog:u.get("dev-mode")===!0}),JIRA.Issues.GlobalIssueNavCreator.create(a(document),{issueTablePromise:e,queryComponentPromise:t,systemFiltersPromise:r,initialSessionSearchState:null,initialSelectedIssue:null,initialIssueIds:null}),i.history.start({root:JIRA.Issues.IssueNavRouter.getBackboneRoot(),pushState:!0}),a.browser.webkit&&(JIRA.Issues.ignorePopState=!0,window.addEventListener("load",n)),o.addIgnoreCondition(function(e,t,s){return"issueaction"===s&&JIRA.Issues.Api.isCurrentlyLoadingIssue()}),a(document).bind("resultsWidthChanged",s),a(document).trigger("resultsWidthChanged"),JIRA.Issues.onVerticalResize(function(){a.event.trigger("updateOffsets.popout")}),JIRA.bind(JIRA.Events.LAYOUT_RENDERED,n),l.initialize(),c.sendScreenEvent("globalIssueNavigatorScreen",null,{defaultLayout:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),defaultMode:$(".mode-switcher .switcher-item.active").data("id")}))},t.cleanup=function(){p&&(JIRA.Issues.ignorePopState=!1,i.History.started&&i.history.stop(),a(document).unbind("resultsWidthChanged",s),window.removeEventListener("load",n),JIRA.unbind(JIRA.Events.LAYOUT_RENDERED,n),JIRA.Issues&&JIRA.Issues.GlobalIssueNavCreator&&JIRA.Issues.GlobalIssueNavCreator.cleanup&&JIRA.Issues.GlobalIssueNavCreator.cleanup(),JIRA.Issues.Application.cleanup())}});
//# sourceMappingURL=IssueNavInitSpa-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:keymaster-1.6.2', location = 'libs/keymaster/1.6.2/keymaster-1.6.2.js' */
(function(e){define("atlassian/libs/keymaster-1.6.2",function(){var j={};e(j);return"undefined"!==typeof module?module.exports.noConflict():j.key.noConflict()})})(function(e){function j(a,b){for(var d=a.length;d--;)if(a[d]===b)return d;return-1}function v(a){var b,d,c,e,o,r;b=a.keyCode;-1==j(l,b)&&l.push(b);if(93==b||224==b)b=91;if(b in f)for(c in f[b]=!0,k)k[c]==b&&(m[c]=!0);else{for(g in f)f[g]=a[w[g]];if(m.filter.call(this,a)&&b in h){r=p();for(e=0;e<h[b].length;e++)if(d=h[b][e],d.scope==r||"all"==
d.scope){o=0<d.mods.length;for(c in f)if(!f[c]&&-1<j(d.mods,+c)||f[c]&&-1==j(d.mods,+c))o=!1;if((0==d.mods.length&&!f[16]&&!f[18]&&!f[17]&&!f[91]||o)&&!1===d.method(a,d))a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0)}}}}function m(a,b,d){var c,e;c=s(a);void 0===d&&(d=b,b="all");for(var f=0;f<c.length;f++)e=[],a=c[f].split("+"),1<a.length&&(e=t(a),a=[a[a.length-1]]),a=a[0],a=n[a]||a.toUpperCase().charCodeAt(0),a in h||
(h[a]=[]),h[a].push({shortcut:c[f],scope:b,method:d,key:c[f],mods:e})}function p(){return u||"all"}function s(a){a=a.replace(/\s/g,"");a=a.split(",");""==a[a.length-1]&&(a[a.length-2]+=",");return a}function t(a){for(var a=a.slice(0,a.length-1),b=0;b<a.length;b++)a[b]=k[a[b]];return a}function q(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,function(){d(window.event)})}var g,h={},f={16:!1,18:!1,17:!1,91:!1},u="all",k={"\u21e7":16,shift:16,"\u2325":18,alt:18,
option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},n={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},l=[];for(g=1;20>g;g++)n["f"+g]=111+g;var w={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(g in k)m[g]=!1;q(document,"keydown",function(a){v(a)});q(document,"keyup",function(a){var a=
a.keyCode,b,d=j(l,a);0<=d&&l.splice(d,1);if(93==a||224==a)a=91;if(a in f)for(b in f[a]=!1,k)k[b]==a&&(m[b]=!1)});q(window,"focus",function(){for(g in f)f[g]=!1;for(g in k)m[g]=!1});var x=e.key;e.key=m;e.key.setScope=function(a){u=a||"all"};e.key.getScope=p;e.key.deleteScope=function(a){var b,d,c;for(b in h){d=h[b];for(c=0;c<d.length;)d[c].scope===a?d.splice(c,1):c++}};e.key.filter=function(a){a=(a.target||a.srcElement).tagName;return!("INPUT"==a||"SELECT"==a||"TEXTAREA"==a)};e.key.isPressed=function(a){"string"==
typeof a&&(a=n[a]||a.toUpperCase().charCodeAt(0));return-1!=j(l,a)};e.key.getPressedKeyCodes=function(){return l.slice(0)};e.key.noConflict=function(){var a=e.key;e.key=x;return a};e.key.unbind=function(a,b){var d,c,e=[],f,g;d=s(a);for(g=0;g<d.length;g++){c=d[g].split("+");1<c.length&&(e=t(c),a=c[c.length-1]);a=n[a]||a.toUpperCase().charCodeAt(0);void 0===b&&(b=p());if(!h[a])break;for(f in h[a]){c=h[a][f];var i;if(i=c.scope===b)a:if(c=c.mods,c.length!=e.length)i=!1;else{for(i=0;i<c.length;i++)if(c[i]!==
e[i]){i=!1;break a}i=!0}i&&(h[a][f]={})}}};"undefined"!==typeof module&&(module.exports=e.key)});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachments-api', location = 'jira-dnd-attachment-module/js/AttachmentsAPI.js' */
define("jira/attachments/api",["dndattachment/upload/handler"],function(n){return{doUpload:function(a){return n.doUpload(a)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/wrappers/aui.js' */
define('wiki-edit/aui', function () {
    return AJS;
});
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/wrappers/jira.js' */
define('wiki-edit/JIRA', function () {
    return JIRA;
});
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/wrappers/keymaster.js' */
define('wiki-edit/keymaster', ["wiki-edit/aui", "atlassian/libs/keymaster-1.6.2"], function (AJS, keymaster) {
    if (AJS.Meta.get("keyboard-shortcuts-enabled") === false) {
        return function keyMasterNoop() {};
    }
    return keymaster;
});
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/templates/wiki-editor.soy' */
// This file was automatically generated from wiki-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Plugins.WikiEditor.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Plugins == 'undefined') { JIRA.Templates.Plugins = {}; }
if (typeof JIRA.Templates.Plugins.WikiEditor == 'undefined') { JIRA.Templates.Plugins.WikiEditor = {}; }


JIRA.Templates.Plugins.WikiEditor.renderEditor = function(opt_data, opt_ignored) {
  var output = '<div id="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="paragraph" title="' + soy.$$escapeHtml('Paragraph') + '">' + soy.$$escapeHtml('Paragraph') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h1" data-operation="h1" title="' + soy.$$escapeHtml('Heading 1') + '">' + soy.$$escapeHtml('Heading 1') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h2" data-operation="h2" title="' + soy.$$escapeHtml('Heading 2') + '">' + soy.$$escapeHtml('Heading 2') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h3" data-operation="h3" title="' + soy.$$escapeHtml('Heading 3') + '">' + soy.$$escapeHtml('Heading 3') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h4" data-operation="h4" title="' + soy.$$escapeHtml('Heading 4') + '">' + soy.$$escapeHtml('Heading 4') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h5" data-operation="h5" title="' + soy.$$escapeHtml('Heading 5') + '">' + soy.$$escapeHtml('Heading 5') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h6" data-operation="h6" title="' + soy.$$escapeHtml('Heading 6') + '">' + soy.$$escapeHtml('Heading 6') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-monospace" data-operation="monospace" title="' + soy.$$escapeHtml('Preformatted') + '">' + soy.$$escapeHtml('Preformatted') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="paragraph-quote" title="' + soy.$$escapeHtml('Paragraph quote') + '">' + soy.$$escapeHtml('Paragraph quote') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="block-quote" title="' + soy.$$escapeHtml('Block quote') + '">' + soy.$$escapeHtml('Block quote') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="delete" data-shortcut="ctrl+shift+s, command+shift+s" title="' + soy.$$escapeHtml('Strikethrough') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+S)">' + soy.$$escapeHtml('Strikethrough') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="superscript">' + soy.$$escapeHtml('Superscript') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="subscript">' + soy.$$escapeHtml('Subscript') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="cite">' + soy.$$escapeHtml('Citation') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-link"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="link" data-shortcut="ctrl+k, command+k" title="' + soy.$$escapeHtml('External link') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)">' + soy.$$escapeHtml('External link') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-mail">' + soy.$$escapeHtml('Mail link') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-anchor">' + soy.$$escapeHtml('Anchor link') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-attachment"><div class="aui-dropdown2-section wiki-edit-insert-attachment"><ul class="aui-list-truncate"><li><a href="#"></a></li></ul></div><div class="aui-dropdown2-section wiki-edit-browse-image"><ul class="aui-list-truncate"><li><a href="#" class="wiki-attachment-browse"><span class="aui-icon aui-icon-small aui-iconfont-add"></span>&nbsp;&nbsp;' + soy.$$escapeHtml('Browse') + '</a></li></ul></div></div><div id="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-color-picker">';
  var colors__soy78 = ['333333', '707070', 'cccccc', '205081', '59afe1', '14892c', '8eb021', 'd04437', 'f79232', 'f6c342', '654982', 'f691b2'];
  output += '<div class="aui-dropdown2-section"><ul>';
  var colorList80 = colors__soy78;
  var colorListLen80 = colorList80.length;
  for (var colorIndex80 = 0; colorIndex80 < colorListLen80; colorIndex80++) {
    var colorData80 = colorList80[colorIndex80];
    output += '<li><a href="#" style="background-color: #' + soy.$$escapeHtml(colorData80) + '" data-operation="color" data-color="#' + soy.$$escapeHtml(colorData80) + '">&nbsp;</a></li>';
  }
  output += '</ul></div></div><div id="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-icon-picker"><div class="aui-dropdown2-section"><ul><li><a href="#" class="wiki-edit-operation" title=":)" data-operation=":)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/smile.gif" alt="' + soy.$$escapeHtml('smile') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":(" data-operation=":("><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/sad.gif" alt="' + soy.$$escapeHtml('sad') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":P" data-operation=":P"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/tongue.gif" alt="' + soy.$$escapeHtml('tongue') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":D" data-operation=":D"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/biggrin.gif" alt="' + soy.$$escapeHtml('biggrin') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=";)" data-operation=";)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/wink.gif" alt="' + soy.$$escapeHtml('wink') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(y)" data-operation="(y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_up.gif" alt="' + soy.$$escapeHtml('thumbs up') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(n)" data-operation="(n)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_down.gif" alt="' + soy.$$escapeHtml('thumbs down') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(i)" data-operation="(i)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/information.gif" alt="' + soy.$$escapeHtml('information') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(/)" data-operation="(/)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/check.gif" alt="' + soy.$$escapeHtml('check') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(x)" data-operation="(x)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/error.gif" alt="' + soy.$$escapeHtml('error') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(!)" data-operation="(!)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/warning.gif" alt="' + soy.$$escapeHtml('warning') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(+)" data-operation="(+)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/add.gif" alt="' + soy.$$escapeHtml('add') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(-)" data-operation="(-)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/forbidden.gif" alt="' + soy.$$escapeHtml('forbidden') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(?)" data-operation="(?)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/help_16.gif" alt="' + soy.$$escapeHtml('help') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(on)" data-operation="(on)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb_on.gif" alt="' + soy.$$escapeHtml('lightbulb on') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(off)" data-operation="(off)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb.gif" alt="' + soy.$$escapeHtml('lightbulb') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*)" data-operation="(*)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.gif" alt="' + soy.$$escapeHtml('star yellow') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*r)" data-operation="(*r)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_red.gif" alt="' + soy.$$escapeHtml('star red') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*g)" data-operation="(*g)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_green.gif" alt="' + soy.$$escapeHtml('star green') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*b)" data-operation="(*b)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_blue.gif" alt="' + soy.$$escapeHtml('star blue') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*y)" data-operation="(*y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.gif" alt="' + soy.$$escapeHtml('star yellow') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flag)" data-operation="(flag)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag.gif" alt="' + soy.$$escapeHtml('flag') + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flagoff)" data-operation="(flagoff)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag_grey.gif" alt="' + soy.$$escapeHtml('flag off') + '" /></a></li></ul></div></div><div id="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="mention">' + soy.$$escapeHtml('User mention') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="table">' + soy.$$escapeHtml('Table') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="code">' + soy.$$escapeHtml('Code') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="noformat">' + soy.$$escapeHtml('Preformatted') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="panel">' + soy.$$escapeHtml('Panel') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="hr">' + soy.$$escapeHtml('Horizontal ruler') + '</a></li><li class="wiki-edit-speech-item hidden"><a href="#" class="wiki-edit-operation" data-operation="speech">' + soy.$$escapeHtml('Speech recognition') + '</a></li></ul></div></div><div class="wiki-edit-toolbar" id="wiki-edit-' + soy.$$escapeHtml(opt_data.editorId) + '"><div class="aui-toolbar2"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-primary"><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-style-picker-trigger" aria-owns="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '">' + soy.$$escapeHtml('Style') + '</a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bold" data-shortcut="ctrl+b, command+b" title="' + soy.$$escapeHtml('Bold') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-bold">' + soy.$$escapeHtml('Bold') + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="italic" data-shortcut="ctrl+i, command+i" title="' + soy.$$escapeHtml('Italic') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+I)"><span class="aui-icon aui-icon-small aui-iconfont-editor-italic">' + soy.$$escapeHtml('Italic') + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="underline" data-shortcut="ctrl+u, command+u" title="' + soy.$$escapeHtml('Underline') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+U)"><span class="aui-icon aui-icon-small aui-iconfont-editor-underline">' + soy.$$escapeHtml('Underline') + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation wiki-edit-operation-color" data-operation="color" data-color="red" title="' + soy.$$escapeHtml('Text color') + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-color">' + soy.$$escapeHtml('Text color') + '</span><span class="wiki-edit-color-indicator"></span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-color-picker-trigger" data-operation="color-parameter" aria-owns="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" title="' + soy.$$escapeHtml('More colors') + '"><span>' + soy.$$escapeHtml('More colors') + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-more-picker-trigger" aria-owns="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('More') + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-styles">' + soy.$$escapeHtml('More') + '</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-link-picker-trigger" aria-owns="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Link') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)"><span class="aui-icon aui-icon-small aui-iconfont-link">' + soy.$$escapeHtml('Link') + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-attachment-picker-trigger" aria-owns="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Attachment') + '"><span class="aui-icon aui-icon-small aui-iconfont-file-generic">' + soy.$$escapeHtml('Attachment') + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bullet-list" data-shortcut="ctrl+shift+b, command+shift+b" title="' + soy.$$escapeHtml('Bullet list') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-bullet">' + soy.$$escapeHtml('Bullet list') + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="numbered-list" data-shortcut="ctrl+shift+n, command+shift+n" title="' + soy.$$escapeHtml('Numbered list') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+N)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-number">' + soy.$$escapeHtml('Numbered list') + '</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-icon-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Icons') + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-emoticon">' + soy.$$escapeHtml('Icons') + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-other-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Other') + '"><span class="aui-icon aui-icon-small aui-iconfont-add">' + soy.$$escapeHtml('Other') + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-last"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-visible-toggle wiki-edit-tooltip" title="' + soy.$$escapeHtml('Toggle visibility') + '"><span class="aui-icon icon-toolbartoggle">Lock / Unlock</span></a></div></div></div><!-- .aui-toolbar-inner --></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderEditor.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderEditor';
}


JIRA.Templates.Plugins.WikiEditor.renderListItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" ' + soy.$$escapeHtml(opt_data.attachmentType ? 'data-attachment-type=' + opt_data.attachmentType : '') + '><span class="wiki-edit-attachment-type-icon aui-icon aui-icon-small ' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) : 'aui-iconfont-file-txt') + '" title="' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) : 'File') + '"></span>&nbsp;&nbsp;<span class="wiki-edit-attachment-name">' + soy.$$escapeHtml(opt_data.text) + '</span></a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderListItem.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderListItem';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/Analytics.js' */
define('wiki-edit/analytics', [
    'wiki-edit/aui'
], function (AJS) {

    var triggerEvent = (AJS.Analytics && AJS.Analytics.triggerPrivacyPolicySafeEvent) ?
        (function triggerEvent(name, props) {
            AJS.Analytics.triggerPrivacyPolicySafeEvent('jira.wikieditor.' + name, props || {});
        }) :
        (function triggerEvent(name, props) {
            AJS.trigger("analytics", {name: 'jira.wikieditor.' + name, data: props || {}});
        });

    function hashCode(string) {
        var charCode;
        var hash = 0;
        if (!string) {
            return "";
        }

        for (var i = 0; i < string.length; i += 1) {
            charCode = string.charCodeAt(i);
            hash = ((hash * 32) - hash) + charCode;
            hash |= 0; // force 32-bit representation
        }

        return hash;
    }

    return {
        trigger: triggerEvent,
        hashCode: hashCode
    };
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/KeyTester.js' */
define('wiki-edit/KeyTester', function () {

    return {
        getActionType: function (keyCode) {
            if (this.isNavigation(keyCode)) {
                return "navigating";
            } else if (this.isDeleting(keyCode)) {
                return "deleting";
            } else if (this.isReturn(keyCode)) {
                return "newline";
            } else if (this.isEscape(keyCode)) {
                return "escape";
            } else if (this.isTyping(keyCode)) {
                return "typing";
            }
        },
        isNavigation: function (keyCode) {
            // 33 - 40: page up/dn and arrow keys
            // 63232 - 63235: page up/dn and arrow keys on safari
            return (keyCode >= 33 && keyCode <= 40) || (keyCode >= 63232 && keyCode <= 63235);
        },
        isDeleting: function (keyCode) {
            // 8 - backspace
            // 46 - delete
            // 127 - delete
            return (keyCode == 8 || keyCode == 46 || keyCode == 127);
        },
        isReturn: function (keyCode) {
            return (keyCode == 13);
        },
        isEscape: function (keyCode) {
            return (keyCode == 27);
        },
// not needed at this stage but left for possible later use
//        isSpacebar: function(keyCode) {
//            return keyCode == 32; // spacebar
//        },
        isTyping: function (keyCode) {
            return (keyCode > 47 && keyCode < 58) || // numbers
                (keyCode > 95 && keyCode < 112) || // numpad
                (keyCode > 64 && keyCode < 91) || // letters
                (keyCode > 185 && keyCode < 193) || // ;=,-./`
                (keyCode > 218 && keyCode < 223) || // [\]'
                keyCode == 32 || // spacebar
                keyCode == 13;                     // return

        }
    };

});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/UndoManager.js' */
define('wiki-edit/UndoManager', function () {

    /**
     * Simple undo/redo manager.
     * Basically the structure is like [---undoList---][CURRENT][---redoList---].
     * All operations move the current element on that "concatenated" list.
     */
    var UndoManager = function () {
        this._undoStack = [];
        this._redoStack = [];
        this._current = undefined;
    };

    UndoManager.prototype.MAX_STACK = 1000;
    /**
     * Sets the current state of the manager
     * @param {Anything} current - state
     * @param {Boolean} preserveRedo - if set to true existing redo entries will be preserved
     */
    UndoManager.prototype.updateCurrent = function (current, preserveRedo) {
        if (current != this._current) {
            this._current = current;
            if (!preserveRedo) {
                this._redoStack.length = 0; // reset the redo stack
            }
        }
    };

    /**
     * Add val to the undo stack and make it undoable
     * @param {Anything} val - state to be made undoable
     */
    UndoManager.prototype.push = function (val) {
        this._redoStack.length = 0; // reset the redo stack
        if (!this._undoStack.length || !_.isEqual(val, this._undoStack[this._undoStack.length - 1])) {
            this._undoStack.push(val);
            this._current = val;
        }
        if (this._undoStack.length > this.MAX_STACK) {
            this._undoStack.splice(0, this._undoStack.length - this.MAX_STACK)
        }
    };

    /**
     * Undo a value. Set it to be the current element and push the current element to the redo stack
     * @return {Anything} current value after the undo operation
     */
    UndoManager.prototype.undo = function () {
        if (!this.canUndo()) {
            return;
        }
        var val;
        do {
            val = this._undoStack.pop();
        } while (_.isEqual(val, this._current) && this.canUndo());
        this._redoStack.push(this._current);
        this._current = val;
        return val;
    };

    /**
     * Redo a value. Set it to be the current element and push the current element to the undo stack
     * @return {Anything} current value after the redo operation
     */
    UndoManager.prototype.redo = function () {
        if (!this.canRedo()) {
            return;
        }

        var val = this._redoStack.pop();
        this._undoStack.push(this._current);
        this._current = val;
        return val;
    };

    /**
     * Check if it is possible to undo
     * @return {Boolean}
     */
    UndoManager.prototype.canUndo = function () {
        return !!this._undoStack.length;
    };

    /**
     * Check if it is possible to redo
     * @return {Boolean}
     */
    UndoManager.prototype.canRedo = function () {
        return !!this._redoStack.length;
    };

    return UndoManager;
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/UndoableTextarea.js' */
define('wiki-edit/UndoableTextarea', [
    'wiki-edit/UndoManager',
    'wiki-edit/KeyTester',
    'jquery'
], function (UndoManager,
             KeyTester,
             $) {

    var CUT_PASTE_MODE = "cut-paste";
    var _lastEditMode = "";

    function _setEditMode(context, newMode) {
        if (newMode === CUT_PASTE_MODE || _lastEditMode != newMode) {
            if (_lastEditMode != "newline") {
                context.recordHistoryItem();
            }
            _lastEditMode = newMode;
        }
    }

    function _manipulateHistory(context, stateName) {
        if (context.undoManager["can" + stateName[0].toUpperCase() + stateName.substring(1)]()) {
            var state = context.undoManager[stateName]();
            context.element.value = state.value;
            context.element.selectionStart = state.selectionStart;
            context.element.selectionEnd = state.selectionEnd;
        }
    }

    var UndoableTextarea = function UndoableTextarea(element) {
        this.element = element;
        this.$el = $(element);
        this.undoManager = new UndoManager();
        this.undoManager.updateCurrent(this.getValue());
        this.undoManager.push(this.getValue());

        var handleKeyboardInput = (function handleChange(e) {
            var keyCode = e.keyCode;
            var keyCodeChar = String.fromCharCode(keyCode);

            if (keyCode) {
                if (!e.ctrlKey && !e.metaKey) {
                    this.undoManager.updateCurrent(this.getValue());
                    _setEditMode(this, KeyTester.getActionType(keyCode));
                } else if ((e.ctrlKey || e.metaKey) && !e.altKey) {
                    switch (keyCodeChar.toLowerCase()) {
                        case "y":
                            this.undoManager.updateCurrent(this.getValue(), true);
                            this.redo();
                            e.preventDefault();
                            break;

                        case "z":
                            this.undoManager.updateCurrent(this.getValue(), true);
                            if (!e.shiftKey) {
                                this.undo();
                            } else {
                                this.redo();
                            }
                            e.preventDefault();
                            break;
                    }
                }
            } else {
                this.undoManager.updateCurrent(this.getValue());
                _setEditMode(this, "other");
            }
        }).bind(this);

        this.$el.on("keydown", handleKeyboardInput);

        this.$el.on("paste cut", function handleCutAndPaste() {
            this.undoManager.updateCurrent(this.getValue());
            _setEditMode(this, CUT_PASTE_MODE);
        }.bind(this));
    };

    UndoableTextarea.prototype.getValue = function () {
        return {
            value: this.element.value,
            selectionStart: this.element.selectionStart,
            selectionEnd: this.element.selectionEnd
        };
    };

    UndoableTextarea.prototype.updateCurrent = function () {
        this.undoManager.updateCurrent(this.getValue());
    };

    UndoableTextarea.prototype.recordHistoryItem = function () {
        this.undoManager.push(this.getValue());
    };

    UndoableTextarea.prototype.undo = function () {
        _setEditMode(this, "undo");
        _manipulateHistory(this, "undo");
        this.element.scrollTop = this.element.scrollHeight;
    };

    UndoableTextarea.prototype.redo = function () {
        _manipulateHistory(this, "redo");
        this.element.scrollTop = this.element.scrollHeight;
    };

    return UndoableTextarea;
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/TextareaManipulator.js' */
define('wiki-edit/TextareaManipulator', function () {

    var TextareaManipulator = function (element) {
        this.el = element;
    };

    TextareaManipulator.prototype.NEW_LINE_TOKEN = "\n";

    /**
     * Gets object containing selection info
     * @returns {{position: number, start: number, end: number, length: number, text: string}}
     */
    TextareaManipulator.prototype.getSelection = function () {
        return {
            start: this.el.selectionStart,
            end: this.el.selectionEnd,
            length: this.el.selectionEnd - this.el.selectionStart,
            text: this.el.value.substring(this.el.selectionStart, this.el.selectionEnd)
        };
    };

    /**
     * Sets selection
     * @param start {number} index in the string, start of the selection
     * @param end {number} index in the string, end of the selection
     */
    TextareaManipulator.prototype.setSelection = function (start, end) {
        if (arguments.length === 1) {
            end = start;
        }
        this.el.selectionStart = start;
        this.el.selectionEnd = end;
    };

    /**
     * Replaces selected text with a parameter, if no text is selected
     * it's inserted where the cursor is
     * @param text {string} text to replace selection with
     * @param selectReplaced {Boolean} indicates if inserted text should be selected
     */
    TextareaManipulator.prototype.replaceSelectionWith = function (text, selectReplaced) {
        var start = this.el.selectionStart;
        var val = this.el.value;
        this.el.value = val.substring(0, this.el.selectionStart) + text + val.substring(this.el.selectionEnd, val.length);

        this.el.selectionEnd = start + text.length;
        this.el.selectionStart = (selectReplaced) ? start : this.el.selectionEnd;
    };

    /**
     * Wraps selection with a prefix and a suffix but only if it isn't already wrapped
     * @param prefix {string}
     * @param suffix {string}
     * @param placeholder {string} text to put between prefix and suffix if no selection was made
     */
    TextareaManipulator.prototype.wrapSelectionWith = function (prefix, suffix, placeholder) {
        if (arguments.length < 3) {
            placeholder = "";
        }
        if (arguments.length === 1) {
            suffix = prefix;
        }
        var selection = this.getSelection();
        var val = this.el.value;

        if (val.substring(selection.start - prefix.length, selection.start) === prefix &&
            val.substring(selection.end, selection.end + suffix.length) === suffix) {
            return;
        }

        var middle = val.substring(selection.start, selection.end);
        if (middle.length == 0) {
            middle = placeholder;
        }
        this.el.value = val.substring(0, selection.start) + prefix + middle + suffix + val.substring(selection.end, val.length);
        var newSelectionStart = selection.start + prefix.length;
        this.setSelection(newSelectionStart, newSelectionStart + middle.length);
    };

    /**
     * Finds selected lines within the textarea and returns an object containing full contents of the object
     * as an array of lines and start and end indexes of the selected lines
     * @returns {{lines: Array, start: number, end: number}}
     * @private
     */
    TextareaManipulator.prototype._getSelectedLines = function () {
        var val = this.el.value;
        var selection = this.getSelection();
        var startLine = val.substring(0, selection.start).split(this.NEW_LINE_TOKEN).length - 1; // 0-based index
        var endLine = startLine + val.substring(selection.start, selection.end).split(this.NEW_LINE_TOKEN).length - 1; // 0-based index
        var lines = val.split(this.NEW_LINE_TOKEN);
        return {
            lines: lines,
            start: startLine,
            end: endLine
        }
    };

    /**
     * Returns line at which cursor is (or end of the selection)
     * @returns {string}
     */
    TextareaManipulator.prototype.getLineAtCursor = function () {
        var linesSelection = this._getSelectedLines();
        return linesSelection.lines[linesSelection.end];
    };

    /**
     * Return regexp match of the fist line in the selection
     * @param pattern {regexp} prefix to check against
     * @returns {string} matched string or {undefined}
     */
    TextareaManipulator.prototype.getFirstLineMatch = function (pattern) {
        var linesSelection = this._getSelectedLines();
        var match = linesSelection.lines[linesSelection.start].match(pattern);
        if (match) {
            return match[0];
        }
    };

    /**
     * Checks if any of the selected lines is prefixed with a given string
     * @param prefix {string} prefix to check against
     * @returns {boolean}
     */
    TextareaManipulator.prototype.areSelectedLinesPrefixed = function (prefix) {
        var linesSelection = this._getSelectedLines();
        var currentLine;

        for (currentLine = linesSelection.start; currentLine <= linesSelection.end; currentLine++) {
            if (linesSelection.lines[currentLine].indexOf(prefix) == 0) {
                return true;
            }
        }
        return false;
    };

    /**
     * Prefixes selected lines with a given parameter. Lines already containing the prefix remain unchanged
     * @param prefix {string}
     */
    TextareaManipulator.prototype.prefixSelectedLines = function (prefix) {
        var selection = this.getSelection();
        var linesSelection = this._getSelectedLines();
        var currentLine;
        var prefixedLines = 0;
        var firstLinePrefixed = true;
        for (currentLine = linesSelection.start; currentLine <= linesSelection.end; currentLine++) {
            if (linesSelection.lines[currentLine].indexOf(prefix) == 0) {
                if (currentLine == linesSelection.start) {
                    firstLinePrefixed = false;
                }
                continue; //don't prefix lines which already have ie
            }
            prefixedLines += 1;
            linesSelection.lines[currentLine] = prefix + linesSelection.lines[currentLine];
        }
        this.el.value = linesSelection.lines.join(this.NEW_LINE_TOKEN);

        var prefixesLength = prefix.length * prefixedLines;
        this.setSelection(selection.start + ((firstLinePrefixed) ? prefix.length : 0), selection.end + prefixesLength);
    };

    /**
     * Removes prefix from selected lines
     * @param prefix {string}
     */
    TextareaManipulator.prototype.unprefixSelectedLines = function (prefix) {
        var selection = this.getSelection();
        var linesSelection = this._getSelectedLines();
        var currentLine;
        var firstLinePrefix = false;
        var prefixedLines = 0;

        for (currentLine = linesSelection.start; currentLine <= linesSelection.end; currentLine++) {
            if (linesSelection.lines[currentLine].indexOf(prefix) == 0) {
                prefixedLines += 1;
                linesSelection.lines[currentLine] = linesSelection.lines[currentLine].substring(prefix.length);
                if (currentLine == linesSelection.start) {
                    firstLinePrefix = true;
                }
            }
        }
        this.el.value = linesSelection.lines.join(this.NEW_LINE_TOKEN);

        var prefixesLength = prefix.length * prefixedLines;
        this.setSelection(selection.start - ((firstLinePrefix) ? prefix.length : 0), selection.end - prefixesLength);
    };

    return TextareaManipulator;
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/keymaster-setup.js' */
define('wiki-edit/keymaster-setup', [
    'jquery',
    'wiki-edit/keymaster'
], function ($, key) {
    return {
        init: function () {
            // Set-up library handling key bindings to correctly set scopes for wiki editor
            key.filter = function (event) {
                var element = event.target || event.srcElement || false;
                var editor;
                if (element && (' ' + element.className + ' ').indexOf(' wiki-textfield ') > -1) {
                    editor = $(element).data("wikiEditor");
                    if (editor) {
                        key.setScope(editor.id);
                        return true;
                    }
                }
                return false;
            };
        }
    }
});


;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/WikiEnabledTextarea.js' */
define('wiki-edit/WikiEnabledTextarea', [
    'wiki-edit/TextareaManipulator',
    'wiki-edit/UndoableTextarea',
    'wiki-edit/keymaster',
    'wiki-edit/keymaster-setup',
    'wiki-edit/SpeechRecognition',
    'jquery'
], function (TextareaManipulator, UndoableTextarea, onKey, keymasterSetup, speechRecognition, $) {
    keymasterSetup.init();

    var editorCount = 0;
    // matches any combination of "*" and "#" followed by space which is any list, no matter how deeply nested
    var autocontinuingPrefixMarkupRegexp = /^[#\*]+ /;

    var WikiEnabledTextarea = function (element) {
        this.el = element;
        this.$el = $(element);
        if (this.$el.data("wikiEditor")) {
            // this will be very rare so defensive caching of this value doesn't seem to make much sense
            return this.$el.data("wikiEditor");
        }

        this.id = "wikiEdit" + editorCount;
        editorCount += 1;
        this.manipulationEngine = new TextareaManipulator(this.el);
        this.undoRedoEl = new UndoableTextarea(element);

        var wikiEditor = this;
        // on enter, continue list if possible or discontinue it if current list item is empty
        onKey("enter", wikiEditor.id, function onEnterKey(e) {
            var selection = wikiEditor.manipulationEngine.getSelection();
            var prefix = wikiEditor.manipulationEngine.getFirstLineMatch(autocontinuingPrefixMarkupRegexp);
            if (prefix) {
                if (selection.length == 0 && wikiEditor.manipulationEngine.getLineAtCursor() === prefix) {
                    wikiEditor.manipulationEngine.unprefixSelectedLines(prefix);
                } else {
                    wikiEditor.manipulationEngine.replaceSelectionWith("\n" + prefix);
                }
                e.preventDefault();
            }
        });

        this.$el.data("wikiEditor", this);
    };

    /**
     * Standard wiki markup in the form of <prefix>text<suffix> like *bold*, _italic_ or [mailto:someone@example.com].
     * Every time such markup is inserted:
     *     - if user didn't select any text, the placeholder text will be inserted and selected,
     *     - if user selected some text, this text will be wrapped with prefix and suffix.
     *
     * Each of this properties gets a function on the prototype with the same name
     * that changes value of textarea to apply the markup.
     */
    var wrapperMarkup = {
        'bold': ["*", "*", "strong text"],
        'italic': ["_", "_", "emphasized text"],
        'underline': ["+", "+", "underlined text"],
        'delete': ["-", "-", "deleted text"],
        'superscript': ["^", "^", "superscript text"],
        'subscript': ["~", "~", "subscript text"],
        'monospace': ["{{", "}}", "monospaced text"],
        'cite': ["??", "??", "citation"],
        'block-quote': ["{quote}", "{quote}", "quoted text"],
        'color': ["{color:$1}", "{color}", "colored text", "red"], // 4th parameter is a default value to replace $
        'link': ["[", "|http://example.com]", "link title"],
        'link-anchor': ["[#", "]", "anchor"],
        'link-mail': ["[mailto:", "]", "mail@example.com"],
        'image': ["!", "!", "http://example.com/image.png"],
        'mention': ["@", "", "Mention someone by typing their name..."],
        'code': ["\n{code:java}\n", "\n{code}\n", "// Some comments here\npublic String getFoo()\n{\n    return foo;\n}"],
        'noformat': ["\n{noformat}\n", "\n{noformat}\n", "*no* further _formatting_ is done here"],
        'panel': ["\n{panel:title=" + "My title" + "}\n", "\n{panel}\n", "Some text with a title"],
        'table': ["\n||" + "Heading" + " 1||" + "Heading" + " 2||\n|", "|" + "Col" + " A2|\n", "Col" + " A1"]
    };

    for (var key in wrapperMarkup) {
        WikiEnabledTextarea.prototype[key] = (function (args, operationKey) {
            var paramsNumber = 0;
            if (args.length > 3) {
                paramsNumber = args.length - 3;
            }
            return function () {

                var prefix = args[0];
                var suffix = args[1];
                var placeholder = args[2];

                var i;
                for (i = 1; i <= paramsNumber; i++) {
                    prefix = prefix.replace("$" + i, arguments[i - 1] || args[2 + i]);
                    suffix = suffix.replace("$" + i, arguments[i - 1] || args[2 + i]);
                }

                var value = this.el.value;
                var selection = this.manipulationEngine.getSelection();

                this.undoRedoEl.recordHistoryItem();

                // unwrap selection if needed
                if (value.substring(selection.start - prefix.length, selection.start) === prefix &&
                    value.substring(selection.end, selection.end + suffix.length) === suffix) {

                    this.el.value = value.substring(0, selection.start - prefix.length) +
                        value.substring(selection.start, selection.end) +
                        value.substring(selection.end + suffix.length, value.length);

                    this.manipulationEngine.setSelection(selection.start - prefix.length, selection.end - prefix.length);

                    // wrap selection with markup
                } else {
                    this.manipulationEngine.wrapSelectionWith.call(this.manipulationEngine, prefix, suffix, placeholder);
                }
                this.undoRedoEl.recordHistoryItem();
                this.$el.trigger("input");
            };
        })(wrapperMarkup[key], key);
    }

    /**
     * Markup that is always a prefix for entire line, like h1. or bullet lists "* ".
     * Those prefixes are mutually exclusive, which means each line can be only prefixed with one of them
     * and applying one of them will remove any other.
     *
     * Each of this properties gets a function on the prototype with the same name
     * that changes value of textarea to apply the markup.
     */
    var excludingLinePrefixMarkup = {
        'paragraph': "",
        'bullet-list': "* ",
        'numbered-list': "# ",
        'h1': 'h1. ',
        'h2': 'h2. ',
        'h3': 'h3. ',
        'h4': 'h4. ',
        'h5': 'h5. ',
        'h6': 'h6. ',
        'paragraph-quote': 'bq. '
    };

    for (var key in excludingLinePrefixMarkup) {
        WikiEnabledTextarea.prototype[key] = (function (prefix) {
            return function () {
                this.undoRedoEl.recordHistoryItem();
                // check if line is already prefixed with one of the prefixes there
                for (var prefixToRemove in excludingLinePrefixMarkup) {
                    if (this.manipulationEngine.areSelectedLinesPrefixed(excludingLinePrefixMarkup[prefixToRemove])) {
                        this.manipulationEngine.unprefixSelectedLines(excludingLinePrefixMarkup[prefixToRemove]);
                    }
                }

                this.manipulationEngine.prefixSelectedLines.call(this.manipulationEngine, prefix);
                this.undoRedoEl.recordHistoryItem();
                this.$el.trigger("input");
            };
        })(excludingLinePrefixMarkup[key]);
    }

    /**
     * Markup that is just inserted in place of cursor or selection. The cursor is then placed at the end of inserted text.
     *
     * Each of this properties gets a function on the prototype with the same name
     * that changes value of textarea to apply the markup.
     */
    var insertMarkupWithoutSelecting = {
        'hr': "\n----\n",
        ':)': ':)',
        ':(': ':(',
        ':P': ':P',
        ':D': ':D',
        ';)': ';)',
        '(y)': '(y)',
        '(n)': '(n)',
        '(i)': '(i)',
        '(/)': '(/)',
        '(x)': '(x)',
        '(!)': '(!)',
        '(+)': '(+)',
        '(-)': '(-)',
        '(?)': '(?)',
        '(on)': '(on)',
        '(off)': '(off)',
        '(*)': '(*)',
        '(*r)': '(*r)',
        '(*g)': '(*g)',
        '(*b)': '(*b)',
        '(*y)': '(*y)',
        '(flag)': '(flag)',
        '(flagoff)': '(flagoff)',
        'image-attachment': [" !$1|thumbnail! ", "attachment-name.jpg"],
        'image-attachment-full': [" !$1! ", "attachment-name.gif"],
        'link-attachment': [" [^$1] ", "attachment-name.zip"]
    };

    for (var key in insertMarkupWithoutSelecting) {
        WikiEnabledTextarea.prototype[key] = (function (toInsert) {
            var paramsNumber = 0;
            var defaultValues;
            if (_.isArray(toInsert)) {
                paramsNumber = toInsert.length - 1;
                defaultValues = toInsert.slice(1);
                toInsert = toInsert[0];
            }
            return function () {
                var i;
                var result = toInsert;
                for (i = 1; i <= paramsNumber; i++) {
                    result = toInsert.replace("$" + i, arguments[i - 1] || defaultValues[i - 1]);
                }
                this.undoRedoEl.recordHistoryItem();
                this.manipulationEngine.replaceSelectionWith.call(this.manipulationEngine, result, false);
                this.undoRedoEl.recordHistoryItem();
                this.$el.trigger("input");
            };
        })(insertMarkupWithoutSelecting[key]);
    }

    WikiEnabledTextarea.prototype.speech = function () {
        speechRecognition.start(this);
    };

    return WikiEnabledTextarea;
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/WikiEditor.js' */
define('wiki-edit/WikiEditor', [
    'wiki-edit/WikiEnabledTextarea',
    'jquery',
    'underscore',
    'wiki-edit/JIRA',
    'wiki-edit/keymaster',
    'wiki-edit/analytics',
    'wiki-edit/WikiEditorUtil',
    'jira/util/events',
    'jira/attachments/api',
    'jira/featureflags/feature-manager'
], function (WikiEnabledTextarea,
             $,
             _,
             JIRA,
             key,
             analytics,
             WikiEditorUtil,
             JIRAEvents,
             attachmentsAPI,
             featureFlagManager) {

    var controlKey = 'Ctrl';
    if (navigator.platform.indexOf('Mac') != -1) {
        controlKey = '';
    }

    var determineFileType = function (fileName) {
        return fileName.match(/\.(bmp|gif|jpg|jpeg|png|tiff|webp)$/i) ? 'image' : 'file';
    };

    var insertMarkup = function (wikiEditor, fileName, fileType) {
        // Gif attachments are rendered without thumbnail (eg: !lolcat.gif!) so they can animate properly
        if (fileType == "image") {
            if (fileName.match(/\.gif$/i)) {
                wikiEditor["image-attachment-full"](fileName);
            } else {
                wikiEditor["image-attachment"](fileName);
            }

            analytics.trigger("operation.attachment.image");
        } else {
            wikiEditor["link-attachment"](fileName);
            analytics.trigger("operation.attachment.link");
        }
    };


    function _closeDropDown(eventTarget) {
        var $theContainer = AJS.$(eventTarget).closest(".aui-dropdown2");
        if ($theContainer.length) {
            $theContainer[0].hide();
        }
    }

    return {
        create: function (element) {
            // disable plugin in IE <=8
            if (typeof element.selectionStart == "undefined") {
                return;
            }

            var $editorElement = $(element);

            if ($editorElement.data("wikiEditor")) {
                return;
            }

            // todo editor should initialize all html and events by itself
            var wikiEditor = new WikiEnabledTextarea(element);
            this.wikiEditor = wikiEditor;

            var $editorHtml = $(JIRA.Templates.Plugins.WikiEditor.renderEditor({
                editorId: wikiEditor.id,
                controlKey: controlKey
            }));
            var $editorToolbar = $editorHtml.filter(".wiki-edit-toolbar");

            // speech-capable browser?
            if ("webkitSpeechRecognition" in window) {
                $editorHtml.find(".wiki-edit-speech-item").removeClass("hidden");
            }

            $editorElement.parent().before($editorHtml);

            // detect if we are dealing with dialog
            var isDialog = $editorElement.closest(".jira-dialog").length > 0 || $editorElement.closest("form#issue-create").length > 0;
            var isCreateDialog = $editorElement.closest("#create-issue-dialog").length > 0;
            // detect if we are on view issue page
            var isViewIssue = $("#issue-content").length > 0;
            var isComment = $editorElement.closest("#addcomment").length > 0;

            var elementsWithTooltips = $editorHtml.find(".wiki-edit-operation[title], .aui-dropdown2-trigger, .wiki-edit-tooltip");
            var onWikiEditorHideEventName;
            if (isDialog) {
                onWikiEditorHideEventName = 'Dialog.beforeHide';
            } else {
                onWikiEditorHideEventName = JIRA.Events.BEFORE_INLINE_EDIT_CANCEL;
            }
            elementsWithTooltips.each(function () {
                var $this = $(this);
                var config = {
                    aria: true,
                    hideOnClick: true,
                    hoverable: false
                };
                if ($this.parent().is('li')) {
                    config.gravity = 'w';
                }
                $this.tooltip(config);
            });
            var hideAllTooltips = function () {
                elementsWithTooltips.each(function () {
                    $(this).tooltip('hide');
                });
            };
            JIRA.bind(onWikiEditorHideEventName, hideAllTooltips);

            var isDropdownEnabled = false;
            var $wikiDropdown = $editorHtml.filter(".aui-dropdown2");
            $wikiDropdown.on({
                'aui-dropdown2-show': function () {
                    isDropdownEnabled = true;

                    // focus on editorElement when dropdown opens so
                    // it can handle keyboard event (especially in dialogs)
                    $editorElement.focus();
                },
                'aui-dropdown2-hide': function () {
                    isDropdownEnabled = false;

                    hideAllTooltips();
                }
            });
            $editorElement.on('keydown', function checkEscapePressWhenDropdownIsEnabled(e) {
                if (isDropdownEnabled && e.keyCode === AJS.keyCode.ESCAPE) {
                    if (isDialog) {
                        JIRA.one("Dialog.beforeHide", function (e) {
                            e.preventDefault();
                        });
                    } else if (isViewIssue && !isComment) {
                        JIRA.one(JIRA.Events.BEFORE_INLINE_EDIT_CANCEL, function preventInlineEditCloseIfAnyDropdownIsEnabled(e) {
                            e.preventDefault();
                        });
                    }
                }
            });


            var $attachmentDropdown = $editorHtml.filter(
                ".wiki-edit-dropdown-image, " +
                ".wiki-edit-dropdown-attachment"
            );

            var $attachmentListContainer = $attachmentDropdown.find(
                ".wiki-edit-insert-image, " +
                ".wiki-edit-insert-attachment"
            );

            var $attachmentList = $attachmentDropdown.find(
                ".wiki-edit-insert-image ul, " +
                ".wiki-edit-insert-attachment ul"
            );

            // Attachment dropdown link click handler
            $attachmentList.on("click", "a", function (e) {
                e.preventDefault();
                _closeDropDown(e.target);
                var fileType = $(this).attr("data-attachment-type");
                if (typeof fileType === "undefined") {
                    fileType = "file";
                }

                var fileName = $(this).find('.wiki-edit-attachment-name').text();

                insertMarkup(wikiEditor, fileName, fileType);
            });

            // Build attachment links when attachment button is pressed
            $attachmentDropdown.on("aui-dropdown2-show", function () {

                // At the moment this will be filled with DOM elements of the attachments. Ideally this should be array of structured JSON object
                // so regardless what shape the DOM is (eg: SD and Agile renders attachments differently) the structure of the array is consistent
                var genericAttachments = [];

                // A list of attachments displayed on the issue. At the moment this is only used by Agile board and backlog view
                // Ideally this should be used everywhere editor can show up.
                //
                // The structure of elements dumped into this array is:
                // {
                //   name: "my-attachment-file-name.pdf",
                //   type: "file",             // or "image"
                //   icon: { cssClass : "aui-iconfont-file-pdf", title : "PDF File" }  // To easily create this use WikiEditorUtil.translateMimeTypeToAttachmentTypeIcon or WikiEditorUtil.translateFileExtensionToAttachmentTypeIcon
                // }
                var genericAttachmentsStructured = [];

                // Add temporary attachments (those added before dialog is saved such as in create/edit dialog)
                if (isDialog) {
                    $(".upload-progress-bar:not(.upload-progress-bar__upload-error) span.upload-progress-bar__file-name").each(function (i, v) {
                        genericAttachments.push(v);
                    });
                }

                // Add permanent attachments
                if (!isCreateDialog && isViewIssue) {
                    $("#attachment_thumbnails li.attachment-content, " +
                        "#file_attachments li.attachment-content").each(function (i, v) {
                        genericAttachments.push(v);
                    });
                }

                // Add agile / greenhopper attachments -- for when editor pops up in agile board / backlog
                var buildAgileAttachmentObject = function (fileName, attachmentType) {
                    if (!fileName) {
                        return null;
                    }
                    var fileExtension = WikiEditorUtil.getFileExtension(fileName);
                    return {
                        name: fileName,
                        type: attachmentType,
                        icon: WikiEditorUtil.translateFileExtensionToAttachmentTypeIcon(fileExtension)
                    };
                };
                var $agileAttachmentsContainer = $("#ghx-tab-attachments .ghx-container");
                $agileAttachmentsContainer.find("#file_attachments li.attachment-content > dl dt.attachment-title a, #file_attachments div.verbose dt.attachment-title a").each(function (i, e) {
                    var attachmentObj = buildAgileAttachmentObject(e.textContent, "file");
                    if (attachmentObj) {
                        genericAttachmentsStructured.push(attachmentObj);
                    }
                });
                $agileAttachmentsContainer.find("#attachment_thumbnails a.attachment-title").each(function (i, e) {
                    var attachmentObj = buildAgileAttachmentObject(e.textContent, "image");
                    if (attachmentObj) {
                        genericAttachmentsStructured.push(attachmentObj);
                    }
                });

                $attachmentList.empty();
                $attachmentListContainer.addClass("hidden");

                // This if block attempts to populate attachment list based on <li> element of each attachment displayed in issue view
                // This works for JIRA and SD view but not for Agile because Agile renders the attachment differently
                // Ideally the genericAttachment should be a list of structured JSON object instead (see genericAttachmentStructured array above)
                if ((isDialog || isViewIssue) && genericAttachments.length) {
                    $attachmentListContainer.removeClass("hidden");

                    /**
                     * Contents of $genericAttachments (ie: "this") could be:
                     * - A thumbnails (gallery) view item
                     * - A list view item
                     * - Create / edit dialog entry
                     */
                    $(genericAttachments).each(function () {
                        // Handle various form of DOM structure a file name can appear in (create issue dialog,
                        // edit issue - list view, edit issue - thumbnail view
                        var fileName = $(this).is('span.upload-progress-bar__file-name') ?
                            $(this).text() :
                            $(this).find('a.attachment-title, .attachment-title a').first().text();

                        // Determine file type by 'data-attachment-type' attribute, or fall back by checking
                        // popular image file extension
                        var fileType = $(this).attr('data-attachment-type');
                        if (fileType === undefined) {
                            fileType = determineFileType(fileName);
                        }

                        // Try to figure out the attachment type icon using mime type. On thumbnail / list view mime-type
                        // can be looked up using data-downloadurl attribute. If mime-type not available let's fall back
                        // using file extension. And if that still doesn't work use aui-iconfont-file-txt.
                        var typeIcon = WikiEditorUtil.defaultAttachmentTypeIcon;
                        var dataDownloadUrl = $(this).attr('data-downloadurl');
                        if (dataDownloadUrl === undefined) {
                            dataDownloadUrl = $(this).find('[data-downloadurl]').attr('data-downloadurl');
                        }
                        if (dataDownloadUrl !== undefined && typeof dataDownloadUrl === 'string') {
                            var attrs = dataDownloadUrl.split(':');
                            if (attrs.length > 0) {
                                var mimeType = attrs[0];
                                typeIcon = WikiEditorUtil.translateMimeTypeToAttachmentTypeIcon(mimeType);
                            }
                        } else if (fileName !== undefined && typeof fileName === 'string') {
                            var matches = fileName.match(/\.(\w{1,5})$/i); // regex match exts such as .gz,.jpg,.docx,.3gp and discard the dot prefix
                            if (matches && matches.length > 1) {
                                var fileExtension = matches[1];
                                typeIcon = WikiEditorUtil.translateFileExtensionToAttachmentTypeIcon(fileExtension);
                            }
                        }

                        $attachmentList.append(
                            $(JIRA.Templates.Plugins.WikiEditor.renderListItem({
                                text: fileName,
                                attachmentType: fileType,
                                attachmentTypeIcon: typeIcon
                            }))
                        );
                    });

                } else if (!isCreateDialog && genericAttachmentsStructured.length > 0) {
                    // A fallback if block if above is false. At the moment only used to ensure attachment lists are shown in Agile view.
                    // Ideally the above if block should be removed
                    $attachmentListContainer.removeClass("hidden");

                    genericAttachmentsStructured.forEach(function (e) {
                        if (e == null || e.name == null) {
                            return;
                        }

                        var fileName = e.name;
                        var type = e.type ? e.type : "file";
                        var icon = e.icon ? e.icon : {cssClass: "aui-iconfont-devtools-file", title: ""};

                        $attachmentList.append(
                            $(JIRA.Templates.Plugins.WikiEditor.renderListItem({
                                text: fileName,
                                attachmentType: type,
                                attachmentTypeIcon: icon
                            }))
                        );
                    });
                }
            });

            // dropdown2 fix so when item is selected using keyboard the container div scrolls
            // properly. This bug was fixed on AUI 5.8+ so only do this for older AUI versions
            if (WikiEditorUtil.compareVersion(AJS.version, '5.8.0') < 0) {
                $attachmentDropdown.on('aui-dropdown2-item-selected', function scrollContainerDivIfActiveItemIsOutOfView() {
                    var $active = $(this).find('.aui-dropdown2-active');
                    if (typeof $active !== 'object') {
                        return;
                    }
                    var $container = $active.closest('div');
                    if (typeof $container !== 'object') {
                        return;
                    }

                    // top/bottom limits are extreme points above/below which element will not / only be partially visible
                    var containerTopLimit = $container.offset().top;
                    var containerBottomLimit = containerTopLimit + $container.height();

                    var elementTop = $active.offset().top;
                    var elementBottom = elementTop + $active.height();

                    // Active element is (partially) above the container viewport, scroll up
                    if (elementTop < containerTopLimit) {
                        $container.scrollTop($container.scrollTop() - (containerTopLimit - elementTop));
                    }

                    // Active element is (partially) below the container viewport, scroll down
                    if (elementBottom > containerBottomLimit) {
                        $container.scrollTop($container.scrollTop() + (elementBottom - containerBottomLimit));
                    }
                });
            }

            $editorHtml.filter(".wiki-edit-dropdown, .wiki-edit-picker").on("mousedown", function (e) {
                e.preventDefault(); // prevent blurring textarea, needed for inline mode
            });

            // attach keyboard shortcuts
            $editorHtml.find(".wiki-edit-operation:not(.wiki-edit-operation-color)").each(function () {
                var $this = $(this);
                var handler = function (e) {
                    if (!e) {
                        return;
                    }
                    e.preventDefault && e.preventDefault();
                    _closeDropDown(e.target);
                    $editorElement.focus();
                    wikiEditor[$this.data("operation")]();
                    analytics.trigger("operation", {
                        name: $this.data("operation"),
                        nameHash: analytics.hashCode($this.data("operation")),
                        trigger: e.type
                    });
                    analytics.trigger("operation." + $this.data("operation"), {trigger: e.type});
                };

                // todo event delegation, fool!
                $this.click(handler);
                if ($this.data("shortcut")) {
                    // todo shortcuts should be binded once, globally
                    key($this.data("shortcut"), wikiEditor.id, handler);
                }
            });

            // text color
            $editorHtml.find(".wiki-edit-operation-color").each(function () {
                var $this = $(this);
                var handler = function (e) {
                    if (!e) {
                        return;
                    }
                    e.preventDefault && e.preventDefault();
                    _closeDropDown(e.target);
                    $editorElement.focus();
                    wikiEditor[$this.data("operation")]($this.data("color"));
                    analytics.trigger("operation", {
                        name: $this.data("operation"),
                        nameHash: analytics.hashCode($this.data("operation")),
                        trigger: e.type
                    });
                    analytics.trigger("operation." + $this.data("operation"), {trigger: e.type});
                };

                // todo event delegation, fool!
                $this.click(handler);
                if ($this.data("shortcut")) {
                    // todo shortcuts should be binded once, globally
                    key($this.data("shortcut"), wikiEditor.id, handler);
                }

            });

            var defaultColor = (window.localStorage.getItem("jira.wikieditor.last.color")) ? window.localStorage.getItem("jira.wikieditor.last.color") : "red";
            var $colorOperation = $editorHtml.find(".wiki-edit-operation-color");
            $colorOperation.data("color", defaultColor);
            var $colorIndicator = $editorToolbar.find(".wiki-edit-color-indicator");
            $colorIndicator.css("background-color", defaultColor);

            $editorHtml.filter(".wiki-edit-color-picker").on("click", "a", function (e) {
                e.preventDefault();
                _closeDropDown(e.target);
                $editorElement.focus();
                var color = $(this).data("color");
                wikiEditor.color(color);
                analytics.trigger("operation", {name: "color"});
                analytics.trigger("operation.color.picked", {color: color});
                $colorOperation.data("color", color);
                $colorIndicator.css("background-color", color);
                window.localStorage.setItem("jira.wikieditor.last.color", color);
            });

            var $visibilityToggle = $editorHtml.find('.wiki-edit-visible-toggle');
            var hideToolbar = (localStorage.getItem("jira.wikieditor.visibility" + element.name + '.' + element.id) === "true") ? true : false;
            if (hideToolbar) {
                $visibilityToggle.addClass("active");
                $editorToolbar.addClass("wiki-edit-toolbar-compact");
            }

            function toggleEditor(e) {
                e.preventDefault();
                e.stopPropagation();
                hideToolbar = !hideToolbar;
                $visibilityToggle.toggleClass("active", hideToolbar);
                $editorToolbar.toggleClass("wiki-edit-toolbar-compact", hideToolbar);
                localStorage.setItem("jira.wikieditor.visibility" + element.name + '.' + element.id, (hideToolbar) ? "true" : "false");
                analytics.trigger((hideToolbar) ? "hide" : "show")
            }

            $visibilityToggle.on("click", toggleEditor);
            $editorToolbar.parent().on("click", ".wiki-edit-toolbar-compact", toggleEditor);

            $(document).on("showWikiPreview", function (e, el) {
                if ($(el).find(element).length) {
                    $editorToolbar.addClass("hidden");
                }
            });
            $(document).on("showWikiInput", function (e, el) {
                if ($(el).find(element).length) {
                    $editorToolbar.removeClass("hidden");
                }
            });
        },

        initBrowseLink: function (element) {
            var wikiEditor = this.wikiEditor;

            var $editorElement = $(element);

            var $browseButton = $editorElement.parent().siblings().find(".wiki-attachment-browse");
            var canAttach = $("#dnd-metadata-webpanel").data("can-attach");

            var isDialog = $editorElement.closest(".jira-dialog").length > 0 || $editorElement.closest("form#issue-create").length > 0;

            if (isDialog) {
                // These are the dialogs we want to show the browse link in.
                // The dialogs have an attachment dropzone that we can use to simulate a drop.
                var supportedDialogSelectors = ['#create-issue-dialog:visible', '#create-subtask-dialog:visible', '#edit-issue-dialog:visible', '#create-linked-issue-dialog:visible'];
                var supportedDialog = $(supportedDialogSelectors.join(","));
                var isSupportedDialog = supportedDialog.length > 0;
                canAttach = $(".jira-dialog fieldset span:contains('Attachment')").length > 0;

                // If we did not find a dialog that we know can receive files, we search
                // for other dialogs that explicitly state that they can receive files.
                if (!isSupportedDialog) {
                    supportedDialog = $editorElement.closest(".dialog-can-receive-files:visible");
                    isSupportedDialog = supportedDialog.length > 0;
                    // If we do find such a dialog, we consume its can-attach (boolean) data attribute.
                    // If the dialog does not have that attribute, canAttach will be undefined and the
                    // browse link will not be shown.
                    canAttach = supportedDialog.data("can-attach");
                }
                var insertMarkupInDialog = supportedDialog.data("insert-markup-on-browse");
            }

            var $attachmentsDropdown = $editorElement.parent().siblings().find(".wiki-edit-attachment-picker-trigger");

            if (canAttach && (isDialog ? isSupportedDialog : true)) {
                $browseButton.closest("div").removeClass("hidden");
                $attachmentsDropdown.removeClass("hidden");
                if (!$browseButton.data("initialised")) {
                    $browseButton.on('click', function (e) {
                        e.preventDefault();
                        _closeDropDown(e.target);

                        var uploadWithoutMediaSupport = function () {
                            var $tempFileInput = $("<input type=\"file\" multiple />");
                            $tempFileInput.change(function (event) {
                                var files = $tempFileInput[0].files;
                                if (isDialog) {
                                    var dropEvent = $.Event("drop");
                                    dropEvent.dataTransfer = {files: files};
                                    supportedDialog.find('.issue-drop-zone__target').trigger(dropEvent);
                                }
                                else {
                                    // This event comes from the JIRA Drag and Drop Plugin.
                                    JIRAEvents.trigger("attachmentForPageReceived", {
                                        files: files,
                                        isWikiTextfieldFocused: true
                                    });
                                }
                                if (isDialog ? insertMarkupInDialog : true) {
                                    for (var i = 0; i < files.length; i++) {
                                        var fileName = files[i].name;
                                        insertMarkup(wikiEditor, fileName, determineFileType(fileName));
                                    }
                                }
                            });
                            $tempFileInput.click();

                            analytics.trigger("attachment.dropdown.button.clicked.browse");
                        };

                        var uploadSettings = {
                            onFileUploadStarted: function (file) {
                                insertMarkup(wikiEditor, file.name, determineFileType(file.name));
                            },
                            blockWikiEditorMarkupInsert: true
                        };

                        if (!attachmentsAPI.doUpload(uploadSettings)) {
                            analytics.trigger("issue.wiki-editor.browse-link.fallback");
                            uploadWithoutMediaSupport();
                        } else {
                            analytics.trigger("issue.wiki-editor.browse-link.media-picker");
                        }

                    });
                    $browseButton.data("initialised", true);
                }
            }
            else {
                $browseButton.closest("div").addClass("hidden");

                // Here we know the browse button will be hidden. If we will
                // not show an attachments list, the attachment dropdown will be empty
                // so we want to hide the attachment dropdown altogether.
                var $genericAttachments = $("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content");
                var currentIssueHasAttachments = $genericAttachments.length > 0;

                // Create issue/Create subtask dialogs are special because even if the current issue has attachments,
                // we are not supposed to show these attachments in those two dialogs (because attachments are per issue).
                var isCreateIssueOrSubtaskDialog = isDialog && isSupportedDialog &&
                    (supportedDialog.attr("id") === "create-issue-dialog" || supportedDialog.attr("id") === "create-subtask-dialog");

                var willShowAttachmentsList = currentIssueHasAttachments && !isCreateIssueOrSubtaskDialog;

                if (!willShowAttachmentsList) {
                    $attachmentsDropdown.addClass("hidden");
                }
            }

        }
    }
});

;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/WikiEditorUtil.js' */
define('wiki-edit/WikiEditorUtil', [
    'jquery',
    'underscore'
], function ($,
             _) {

    var _defaultAttachmentTypeIcon = {
        cssClass: 'aui-iconfont-devtools-file',
        title: "File"
    };

    var _fileExtToAttachmentTypeIconCssClass = {
        'pdf': 'aui-iconfont-file-pdf',

        'gif': 'aui-iconfont-image',
        'png': 'aui-iconfont-image',
        'jpeg': 'aui-iconfont-image',
        'jpg': 'aui-iconfont-image',

        'xml': 'aui-iconfont-file-code',
        'html': 'aui-iconfont-file-code',
        'htm': 'aui-iconfont-file-code',
        'txt': 'aui-iconfont-file-txt',

        'zip': 'aui-iconfont-file-zip',
        'gz': 'aui-iconfont-file-zip',
        'tar': 'aui-iconfont-file-zip',
        'rar': 'aui-iconfont-file-zip',
        '7z': 'aui-iconfont-file-zip',

        'doc': 'aui-iconfont-file-doc',
        'docx': 'aui-iconfont-file-doc',
        'xls': 'aui-iconfont-file-xls',
        'xlsx': 'aui-iconfont-file-xls',
        'xlsm': 'aui-iconfont-file-xls',
        'ppt': 'aui-iconfont-file-ppt',
        'pptx': 'aui-iconfont-file-ppt',

        'java': 'aui-iconfont-file-code',
        'c': 'aui-iconfont-file-code',
        'h': 'aui-iconfont-file-code',
        'cpp': 'aui-iconfont-file-code',
        'hpp': 'aui-iconfont-file-code',
        'scala': 'aui-iconfont-file-code',
        'php': 'aui-iconfont-file-code',
        'css': 'aui-iconfont-file-code',
        'less': 'aui-iconfont-file-code',
        'soy': 'aui-iconfont-file-code',
        'js': 'aui-iconfont-file-code',
        'jar': 'aui-iconfont-file-zip',
        'war': 'aui-iconfont-file-zip',
        'obr': 'aui-iconfont-file-zip'
    };

    var _fileExtToAttachmentTypeIconTitle = {
        'pdf': "PDF File",

        'gif': "GIF File",
        'png': "PNG File",
        'jpeg': "JPEG File",
        'jpg': "JPEG File",

        'xml': "XML File",
        'html': "HTML File",
        'htm': "HTML File",
        'txt': "Text File",

        'zip': "Zip Archive",
        'gz': "GZip Archive",

        'doc': "Microsoft Word",
        'docx': "Microsoft Word",
        'xls': "Microsoft Excel",
        'xlsx': "Microsoft Excel",
        'xlsm': "Microsoft Excel",
        'ppt': "Microsoft PowerPoint",
        'pptx': "Microsoft PowerPoint",

        'java': "Java Source File",
        'jar': "Java Archive File",
        'war': "Java Archive File"
    };

    return {

        /**
         * Default attachment type icon, used as a fallback if type couldn't be determined
         */
        defaultAttachmentTypeIcon: _defaultAttachmentTypeIcon,

        /**
         * Used by attachments dropdown to determine what icon to put to the left of attachment name
         * Icon is decided by attachment mime type
         *
         * @param {string} mimeType attachment mime type (eg: image/jpg)
         *
         * @returns Object with cssClass and title attributes.
         *  If translation fails cssClass is aui-iconfont-devtools-file and title is empty string.
         */
        translateMimeTypeToAttachmentTypeIcon: function (mimeType) {
            return {
                cssClass: JIRA.Templates.ViewIssue.matchFileClass({mimetype: mimeType}),
                title: JIRA.Templates.ViewIssue.matchFileIconAlt({mimetype: mimeType})
            };
        },

        /**
         * Used by attachments dropdown to determine what icon to put to the left of attachment name
         * Icon is decided by file extension
         *
         * @param extension extension name, with or without dot prefix (eg: .pdf, doc)
         *
         * @returns Object with cssClass and title attributes.
         *  If translation fails cssClass is aui-iconfont-devtools-file and title is empty string.
         */
        translateFileExtensionToAttachmentTypeIcon: function (extension) {
            var result = _.clone(_defaultAttachmentTypeIcon);

            if (typeof extension !== 'string') {
                return result;
            }

            extension = extension.toLowerCase();
            extension = extension.replace(/^\.+/, '');

            var cssClass = _fileExtToAttachmentTypeIconCssClass[extension];
            if (typeof cssClass === 'string') {
                result.cssClass = cssClass;
            }

            var title = _fileExtToAttachmentTypeIconTitle[extension];
            if (typeof title === 'string') {
                result.title = title;
            }

            return result;
        },

        /**
         * Perform version number comparison. Returns a number less than 0 if version A is lower than B, greater than 0
         * if A is higher than B, 0 if both equals.
         *
         * Example:
         * - compareVersion('5.7.10', '5.8.0') // returns -1
         * - compareVersion('5.8.0', '5.8.0') // returns 0
         * - compareVersion('5.8.1', '5.8.0') // returns 1
         * - compareVersion('5.10.0', '5.8.0') // returns 1
         * - compareVersion('5.8', '5.8.0') // returns -1
         * - compareVersion('5.8', '5.8.0') // returns -1
         * - compareVersion('5.0a', '5.0') // returns NaN
         *
         * @param verA (string) version number (eg: 5.7.10)
         * @param verB (string) version number (eg: 5.7.10)
         *
         * @return (number) A number less than 0 if version A is lower than B, greater than 0 if A is higher than B,
         * 0 if both equals, NaN if version comparison can't be performed
         */
        compareVersion: function (verA, verB) {
            var partsA = verA.split('.');
            var partsB = verB.split('.');
            var result = NaN;

            $(partsA).each(function (i, e) {
                if (i >= partsB.length) {
                    return false;
                }
                var partA = Number(e);
                var partB = Number(partsB[i]);
                if (isNaN(partA) || isNaN(partB)) {
                    //noinspection JSUnusedAssignment
                    result = NaN;
                    return false;
                }
                if (partA < partB) {
                    //noinspection JSUnusedAssignment
                    result = -1;
                    return false;
                } else if (partA > partB) {
                    //noinspection JSUnusedAssignment
                    result = 1;
                    return false;
                }
                result = 0;
            });

            if (result == 0 && partsA.length != partsB.length) {
                return (partsA.length > partsB.length) ? 1 : -1;
            }

            return result;
        },

        /**
         * Returns the file extension (without dot prefix) of a given file name, or an empty string if unable to do so
         * @param fileName
         */
        getFileExtension: function (fileName) {
            if (typeof fileName !== "string") {
                return "";
            }

            var matches = fileName.match(/\.(\w{1,5})$/i); // regex match exts such as .gz,.jpg,.docx,.3gp and discard the dot prefix
            if (matches && matches.length > 1) {
                return matches[1];
            }

            return "";
        }
    }
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/SpeechRecognition.js' */
define('wiki-edit/SpeechRecognition', [
    'jquery',
    'aui/flag'
], function ($, auiFlag) {
    function getIsFinal(results) {
        return results && results[0] && results[0].isFinal;
    }

    function getTranscript(results) {
        return results && results[0] && results[0][0] && results[0][0].transcript || '';
    }

    return {
        start: function (textareaInstance) {
            var self = this;
            var recognition = new webkitSpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = true;
            // if lang is converted into something that Chrome does not understand, it defaults to the system language
            recognition.lang = AJS.Meta.get("user-locale").replace("_", "-");
            // stops any recognition in progress to start a new session
            recognition.stop();
            recognition.start();

            recognition.onstart = function () {
                self.showTimedMessage({title: "You can start speaking now :)"}, "info", 10);
                self.selectionStart = textareaInstance.manipulationEngine.getSelection().start;
            }
            recognition.onresult = function (event) {
                self.dismissCurrentMessage();
                var isFinal = getIsFinal(event.results);
                var speechResult = getTranscript(event.results);
                // capitalise first letter
                speechResult = speechResult.charAt(0).toUpperCase() + speechResult.slice(1);

                if (isFinal) {
                    textareaInstance.undoRedoEl.recordHistoryItem();
                }
                textareaInstance.manipulationEngine.replaceSelectionWith.call(textareaInstance.manipulationEngine, speechResult, false);
                var selectionEnd = self.selectionStart + speechResult.length;
                if (isFinal) {
                    // clears the selection
                    textareaInstance.manipulationEngine.setSelection(selectionEnd);
                    textareaInstance.undoRedoEl.recordHistoryItem();
                    textareaInstance.$el.trigger("input");
                    recognition.stop();
                }
                else {
                    textareaInstance.manipulationEngine.setSelection(self.selectionStart, selectionEnd);
                }
            }
            recognition.onerror = function (event) {
                recognition.stop();

                // this is a generic error message in case no specific error is raised
                var message = {
                    title: "Sorry, I can\'t hear you :(",
                    body: ''
                }
                switch (event.error) {
                    case "not-allowed":
                        message.title = "Speech recognition is currently disabled";
                        message.body = "Click the camera icon in the browser\'s address bar to enable it.";
                        break;
                    case "network":
                        message.title = "No internet connection";
                        message.body = "You need a working internet connection to use speech recognition.";
                        break;
                    case "no-speech":
                        message.title = "Sorry, I couldn\'t hear anything :(";
                        message.body = "Is your microphone working and unmuted?";
                        break;
                    // this only happens by user interaction, so there is no need to display a message
                    case "aborted":
                        return;
                }
                self.showTimedMessage(message, "warning", 5);
            }
            recognition.onend = function () {
                recognition.stop();
            }
        },

        /**
         * Shows a specific auiFlag and automatically hides it after the specified timeout
         *
         * @param message
         * @param flagType
         * @param duration in seconds
         */
        showTimedMessage: function (message, flagType, duration) {
            this.dismissCurrentMessage();
            this.speakFlag = auiFlag({
                type: flagType,
                title: message.title,
                body: message.body,
                persistent: true
            });

            clearTimeout(this.flagTimer);
            this.flagTimer = setTimeout(this.dismissCurrentMessage.bind(this), duration * 1000);
        },
        dismissCurrentMessage: function () {
            if (this.speakFlag && this.speakFlag.close) {
                this.speakFlag.close();
                this.speakFlag = null;
            }
        }
    }
})
;;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:skate', location = 'jira-wiki-editor-module/js/lib/skate.js' */
define('wiki-edit/skate', ['jira/skate'], function (skate) {
    return skate;
});
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources-init', location = 'jira-wiki-editor-module/js/wiki-editor-init.js' */
require([
    'wiki-edit/WikiEditor',
    'wiki-edit/JIRA',
    'wiki-edit/skate',
    'jquery',
    'underscore'
], function (WikiEditor, JIRA, skate, $, _) {

    function createWikiTextfield(element) {
        var el = (this instanceof Element) ? this : element;
        var create = function (elem) {
            WikiEditor.create(elem);
            WikiEditor.initBrowseLink(elem);
            elem.wikiEnabled = true;
        };

        if (el.wikiEnabled === false) {
            if ($(el).is(':hidden')) {
                _.defer(create, el);
            } else {
                create(el);
            }
        }
    }

    function wikiEditorDefinition() {
        return {
            type: skate.type.CLASSNAME,
            attached: createWikiTextfield,
            prototype: {
                wikiEnabled: false
            }
        };
    }

    skate('wiki-textfield', wikiEditorDefinition());

    skate('wiki-enabled-textfield', wikiEditorDefinition());

    $(function () {
        if ($("#gh").length > 0) {
            JIRA.Dialogs.comment.options.width = 810;
            JIRA.Dialogs.assignIssue.options.width = 810;
            JIRA.Dialogs.attachFile.options.width = 810;
            JIRA.Dialogs.logWork.options.width = 810;
            JIRA.Dialogs.logWork.options.width = 810;
        }
    });

});
;
;
/* module-key = 'jira.webresources:calendar-localisation-moment', location = '/includes/lib/calendar/Calendar-localisation-moment.js' */
define("jira/calendar/localisation-moment",["require"],function(a){"use strict";if("function"==typeof moment&&null!==moment&&"function"==typeof Calendar&&null!==Calendar){var e=moment.langData("jira");null!==e&&"object"==typeof e&&(Calendar._DN=e._weekdays.concat(e._weekdays[0]),Calendar._SDN=e._weekdaysShort.concat(e._weekdaysShort[0]),Calendar._MN=[].concat(e._months),Calendar._SMN=[].concat(e._monthsShort))}}),require("jira/calendar/localisation-moment");;
;
/* module-key = 'jira.webresources:user-message-flags', location = '/includes/jira/admin/admin-flags.js' */
require(["jira/util/logger","wrm/data","jquery","jira/flag"],function(s,a,e,i){"use strict";e(function(){var c=a.claim("jira.webresources:user-message-flags.adminLockout")||{};if(c.noprojects){var n=JIRA.Templates.Flags.Admin,r=n.adminIssueAccessFlagTitle({}),l=n.adminIssueAccessFlagBody({manageAccessUrl:c.manageAccessUrl}),g=i.showWarningMsg(r,l,{dismissalKey:c.flagId});e(g).find("a").on("click",function(){g.dismiss()})}s.trace("admin.flags.done")})});;
;
/* module-key = 'jira.webresources:user-message-flags', location = 'includes/jira/admin/admin-flags.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Flags&&(JIRA.Templates.Flags={}),"undefined"==typeof JIRA.Templates.Flags.Admin&&(JIRA.Templates.Flags.Admin={}),JIRA.Templates.Flags.Admin.adminIssueAccessFlagTitle=function(e,s){return""+soy.$$escapeHtml("Your current restrictions")},JIRA.Templates.Flags.Admin.adminIssueAccessFlagBody=function(e,s){var a="";'<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/"+soy.$$escapeHtml(e.manageAccessUrl)+'">';return a+='<p id="admin-noprojects">'+soy.$$escapeHtml("You\'ve logged in as an administrator, but you don\'t have access to any Jira applications. You can perform administration tasks, but you won\'t be able to view or edit issues.")+'</p><p><a href="'+soy.$$escapeHtml(AJS.contextPath())+"/"+soy.$$escapeHtml(e.manageAccessUrl)+'">'+soy.$$escapeHtml("Manage your application access.")+"</a></p>"};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-create-board-adg3-no-condition', location = 'jira-agile-module/includes/js/sidebar/create-board-adg3.js' */
define("jira-agile/sidebar/create-board-adg3",["wrm/require","jira/analytics","jira/featureflags/feature-manager"],function(e,a,r){"use strict";function t(e,a){var r=a.actionId;if(r===d)return e.preventDefault(),i(!0)}function i(){function t(){o?GH.StartWizardView.startWizardWithoutProjectCreate():GH.StartWizardView.startWizardWithUserConfigCheck(),a.send({name:"jira.frontend.fe.navigation.scope-switcher.action.click",properties:{actionId:d,pageMode:n()}}),r.isFeatureEnabled("jsw.classic.lightweight.frontend")&&AJS.$(GH).unbind("WizardViewLoaded",t)}function i(){return GH.StartWizardView?t:void AJS.$(GH).bind("WizardViewLoaded",t)}var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return AJS.dim(),r.isFeatureEnabled("jsw.classic.lightweight.frontend")?e(["wr!com.pyxis.greenhopper.jira:gh-create-board"],i()):e(["wr!com.pyxis.greenhopper.jira:gh-create-board"],t)}function n(){var e=GH&&GH.RapidBoard&&GH.RapidBoard.State&&GH.RapidBoard.State.getMode&&GH.RapidBoard.State.getMode();return e||"other"}var d="gh.rapid.board.create";return{handleCreateBoardAction:t,openCreateBoardModal:i}}),function(){var e=require("jira-agile/sidebar/create-board-adg3");AJS.$(function(){JIRA&&JIRA.API&&JIRA.API.getSidebar().done(function(a){a.on(a.events.SCOPE_SWITCHER_SELECT_ACTION,e.handleCreateBoardAction,!0)})})}();;