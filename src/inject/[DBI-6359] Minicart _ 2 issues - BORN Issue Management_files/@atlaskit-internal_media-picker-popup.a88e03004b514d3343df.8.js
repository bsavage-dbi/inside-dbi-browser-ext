try{window.performance.mark("@atlaskit-internal_media-picker-popup.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-internal_media-picker-popup","@atlaskit-internal_Browser","@atlaskit-internal_Clipboard","@atlaskit-internal_Dropzone"],{"./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsErrorBoundary.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),s=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/LegacyAnalyticsContext.js"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fireAnalytics=function(e){var n=t.props,r=n.createAnalyticsEvent,o=n.channel,a=n.data;r({action:"UnhandledError",eventType:"ui",attributes:Object(i.a)(Object(i.a)({browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown"},a),e)}).fire(o)},t}return Object(i.b)(t,e),t.prototype.componentDidCatch=function(e,t){var n={error:e,info:t};this.fireAnalytics(n)},t.prototype.render=function(){var e=this.props,t=e.data,n=e.children;return o.a.createElement(s.a,{data:t},n)},t}(r.Component),l=Object(a.a)()(c);t.a=l},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/check-circle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e))};s.displayName="CheckCircleIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/chevron-up.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11.221 9.322l-2.929 2.955a1.009 1.009 0 0 0 0 1.419.986.986 0 0 0 1.405 0l2.298-2.317 2.307 2.327a.989.989 0 0 0 1.407 0 1.01 1.01 0 0 0 0-1.419l-2.94-2.965A1.106 1.106 0 0 0 11.991 9c-.279 0-.557.107-.77.322z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ChevronUpIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/cross.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 10.586L6.707 5.293a1 1 0 0 0-1.414 1.414L10.586 12l-5.293 5.293a1 1 0 0 0 1.414 1.414L12 13.414l5.293 5.293a1 1 0 0 0 1.414-1.414L13.414 12l5.293-5.293a1 1 0 1 0-1.414-1.414L12 10.586z" fill="currentColor"/></svg>'},e))};s.displayName="CrossIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/dropbox.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M16.19 2l-4.216 3.494 5.812 3.608L22 5.77 16.19 2zM2 5.958l4.162 3.214 5.812-3.678-3.992-3.492L2 5.958zm14.01 12.355l-.014-.986-3.994-2.975-3.833 2.934-.036.057-2.113-1.278v2.115l5.977 3.824 5.93-3.824v-2.037l-1.917 1.17v1zM6.15 9.179l-4.143 3.352 3.604 2.166.002-.002.785.476 1.585.952 2.652-2.014 1.328-1.017.004.004.007-.004.021.016.014-.016 3.156 2.348.921.68 5.91-3.593-4.21-3.422-5.809 3.681L6.151 9.18zm11.636-.074l.001-.003h-.002l.001.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="DropboxIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/error.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 0 0-2.832 0l-6.168 6.167a2.002 2.002 0 0 0 0 2.833l6.168 6.167a2.002 2.002 0 0 0 2.832 0l6.168-6.167a2.002 2.002 0 0 0 0-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},e))};s.displayName="ErrorIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/file.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M17 10.005V19H7V5h5.99v2.49a1.5 1.5 0 0 0 1.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8.995h-2z"/><rect x="8" y="12" width="8" height="2" rx="1"/><rect x="8" y="15" width="4" height="2" rx="1"/></g></svg>'},e))};s.displayName="FileIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/folder-filled.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12.2 6h7.81C21.108 6 22 6.893 22 7.992v11.016c0 1.1-.898 1.992-1.99 1.992H3.99A1.992 1.992 0 0 1 2 19.008V5.006C2 3.898 2.896 3 3.997 3h5.006c1.103 0 2.327.826 2.742 1.862L12.2 6z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="FolderFilledIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/googledrive.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.81 3l-6.776.068 5.846 10.126 6.777-.07L15.811 3zM2 14.315l3.447 5.835 5.846-10.126L7.846 4.19 2 14.315zm8.307.175l-3.33 5.902H18.67L22 14.49H10.307z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="GoogledriveIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/image.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M3 4.995C3 3.893 3.893 3 4.995 3h14.01C20.107 3 21 3.893 21 4.995v14.01A1.995 1.995 0 0 1 19.005 21H4.995A1.995 1.995 0 0 1 3 19.005V4.995zM10.5 16.5L9 15l-3 3h12v-2.7L15 12l-4.5 4.5zM8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="ImageIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/annotate.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M9.864 10.736c.77-.746 1.893-.536 2.72.265.826.8 1.043 1.888.273 2.634-1.816 1.76-5.482 2.002-4.765 1.207 1.587-1.76.578-2.949 1.772-4.106zM19.968 4.03c.402.378-3.1 4.732-4.427 5.98-.659.62-1.012.826-1.276 1.016-.115.082-.15-.027-.177-.076a3.743 3.743 0 0 0-.63-.801c-.236-.222-.607-.445-.867-.572-.053-.025-.169-.058-.08-.166.201-.249.421-.58 1.08-1.2 1.327-1.247 5.974-4.56 6.377-4.181zM18.38 19.946a1.033 1.033 0 0 1-.332.054.946.946 0 0 1-.913-.628c-.343-.957-1.14-1.642-2.257-1.933-2.182-.568-3.22-.264-5.053.995l-.16.11a9.341 9.341 0 0 1-1.049.644c-1.477.755-2.632.825-3.482.419-.586-.28-.989-.794-1.1-1.407-.254-1.403.93-2.647 2.602-3.156a.906.906 0 0 1 1.155.601.92.92 0 0 1-.62 1.186c-.33.1-.717.311-.978.533-.195.165-.33.355-.306.434.042.138.088.185.16.214.155.063.445.029.818-.096.164-.055.34-.126.524-.21.196-.088.348-.165.58-.287.076-.04.177-.11.445-.303 1.09-.784 1.802-1.198 2.845-1.52 1.562-.482 3.18-.39 4.802.272 1.399.57 2.399 1.589 2.883 2.94.174.483-.07.97-.564 1.138z" fill="currentColor"/></svg>'},e))};s.displayName="MediaServicesAnnotateIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/audio.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M16 9.283V13.6h-.003A1.5 1.5 0 1 1 14.5 12c.175 0 .344.03.5.085v-2.08l-4 .431V14.6h-.003A1.5 1.5 0 0 1 8 14.5a1.5 1.5 0 0 1 2-1.415V9.034c0-.238.186-.451.432-.478l5.136-.553a.38.38 0 0 1 .432.384v.896z" fill="inherit"/></svg>'},e))};s.displayName="MediaServicesAudioIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/document.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><rect fill="inherit" x="7" y="8" width="10" height="2" rx="1"/><rect fill="inherit" x="7" y="11" width="10" height="2" rx="1"/><rect fill="inherit" x="7" y="14" width="5" height="2" rx="1"/></g></svg>'},e))};s.displayName="MediaServicesDocumentIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/image.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><circle fill="inherit" cx="8.667" cy="8.667" r="2"/><path fill="inherit" d="M6.667 17.333l2.666-2.666L12 17.333z"/><path fill="inherit" d="M14.667 12l2.666 2.933v2.4h-8z"/></g></svg>'},e))};s.displayName="MediaServicesImageIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/pdf.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><rect fill="inherit" x="7" y="8" width="10" height="2" rx="1"/><path d="M16.187 16h-3.373c-.45 0-.814-.222-.814-.497v-4.006c0-.275.364-.497.814-.497h3.373c.45 0 .813.222.813.497v4.006c0 .275-.364.497-.813.497" fill="inherit"/><rect fill="inherit" x="7" y="11" width="4" height="2" rx="1"/><rect fill="inherit" x="7" y="14" width="4" height="2" rx="1"/></g></svg>'},e))};s.displayName="MediaServicesPdfIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/presentation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><rect fill="inherit" x="8" y="12" width="2" height="3" rx="1"/><rect fill="inherit" x="11" y="10" width="2" height="5" rx="1"/><rect fill="inherit" x="14" y="8" width="2" height="7" rx="1"/></g></svg>'},e))};s.displayName="MediaServicesPresentationIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/spreadsheet.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><rect fill="inherit" x="7" y="8" width="4" height="2" rx="1"/><rect fill="inherit" x="7" y="11" width="4" height="2" rx="1"/><rect fill="inherit" x="13" y="11" width="4" height="2" rx="1"/><rect fill="inherit" x="7" y="14" width="4" height="2" rx="1"/><rect fill="inherit" x="13" y="14" width="4" height="2" rx="1"/><rect fill="inherit" x="13" y="8" width="4" height="2" rx="1"/></g></svg>'},e))};s.displayName="MediaServicesSpreadsheetIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/unknown.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M12 11h3.502a.5.5 0 0 1 .498.491v4.518A.993.993 0 0 1 15 17H9.01C8.451 17 8 16.544 8 16.005v-8.01C8 7.445 8.443 7 9.01 7h2.5a.5.5 0 0 1 .49.51V11zm1-4l3 3h-3V7z" fill="inherit"/></g></svg>'},e))};s.displayName="MediaServicesUnknownIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/video.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M16.37 14.954L14 13.807v-3.613l2.37-1.148c.285-.138.63.05.63.343v5.222c0 .293-.345.481-.63.343" fill="inherit"/><rect fill="inherit" x="7" y="9" width="6" height="6" rx="1"/></g></svg>'},e))};s.displayName="MediaServicesVideoIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/zip.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M9 6.999C9 6.447 9.443 6 9.999 6H12v3H9.999A.996.996 0 0 1 9 8.001V6.999zM12 9h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 0 1-.999.999H12V9zm-3 3.999c0-.552.443-.999.999-.999H12v3H9.999A.996.996 0 0 1 9 14.001v-1.002zM12 15h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 0 1-.999.999H12v-3z" fill="inherit"/></g></svg>'},e))};s.displayName="MediaServicesZipIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/refresh.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M8 6.003v2.995a1 1 0 1 0 2 0V5.102C10 4.494 9.507 4 8.9 4H5a1 1 0 0 0 0 2.003h3z" fill-rule="nonzero"/><path d="M9.428 18.018C7.351 16.989 6 14.807 6 12.37c0-2.266 1.167-4.319 3.02-5.425.48-.286.646-.922.371-1.421a.979.979 0 0 0-1.364-.386C5.557 6.611 4 9.35 4 12.37c0 3.248 1.802 6.158 4.57 7.529.498.247 1.095.026 1.332-.493.237-.52.025-1.141-.474-1.388z" fill-rule="nonzero"/><path d="M14 15.002v3.896c0 .608.493 1.102 1.1 1.102H19a1 1 0 0 0 0-2.003h-3v-2.995a1 1 0 1 0-2 0z"/><path d="M14.097 4.596c-.237.52-.025 1.14.474 1.387 2.077 1.029 3.428 3.21 3.428 5.647 0 2.266-1.167 4.32-3.021 5.425a1.063 1.063 0 0 0-.37 1.42c.274.5.885.673 1.364.387 2.47-1.473 4.027-4.212 4.027-7.232 0-3.248-1.802-6.158-4.57-7.528A.957.957 0 0 0 15.002 4a1 1 0 0 0-.905.596z"/></g></svg>'},e))};s.displayName="RefreshIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/settings.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M11.701 16.7a5.002 5.002 0 1 1 0-10.003 5.002 5.002 0 0 1 0 10.004m8.368-3.117a1.995 1.995 0 0 1-1.346-1.885c0-.876.563-1.613 1.345-1.885a.48.48 0 0 0 .315-.574 8.947 8.947 0 0 0-.836-1.993.477.477 0 0 0-.598-.195 2.04 2.04 0 0 1-1.29.08 1.988 1.988 0 0 1-1.404-1.395 2.04 2.04 0 0 1 .076-1.297.478.478 0 0 0-.196-.597 8.98 8.98 0 0 0-1.975-.826.479.479 0 0 0-.574.314 1.995 1.995 0 0 1-1.885 1.346 1.994 1.994 0 0 1-1.884-1.345.482.482 0 0 0-.575-.315c-.708.2-1.379.485-2.004.842a.47.47 0 0 0-.198.582A2.002 2.002 0 0 1 4.445 7.06a.478.478 0 0 0-.595.196 8.946 8.946 0 0 0-.833 1.994.48.48 0 0 0 .308.572 1.995 1.995 0 0 1 1.323 1.877c0 .867-.552 1.599-1.324 1.877a.479.479 0 0 0-.308.57 8.99 8.99 0 0 0 .723 1.79.477.477 0 0 0 .624.194c.595-.273 1.343-.264 2.104.238.117.077.225.185.302.3.527.8.512 1.58.198 2.188a.473.473 0 0 0 .168.628 8.946 8.946 0 0 0 2.11.897.474.474 0 0 0 .57-.313 1.995 1.995 0 0 1 1.886-1.353c.878 0 1.618.567 1.887 1.353a.475.475 0 0 0 .57.313 8.964 8.964 0 0 0 2.084-.883.473.473 0 0 0 .167-.631c-.318-.608-.337-1.393.191-2.195.077-.116.185-.225.302-.302.772-.511 1.527-.513 2.125-.23a.477.477 0 0 0 .628-.19 8.925 8.925 0 0 0 .728-1.793.478.478 0 0 0-.314-.573" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="SettingsIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/trash.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M5 5a1 1 0 0 0-1 1v1h16V6a1 1 0 0 0-1-1H5zm11.15 15H7.845a1 1 0 0 1-.986-.835L5 8h14l-1.864 11.166a.999.999 0 0 1-.986.834M9 4.5a.5.5 0 0 1 .491-.5h5.018a.5.5 0 0 1 .491.5V5H9v-.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="TrashIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/upload.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11.208 9.32L9.29 11.253a1 1 0 0 0 0 1.409.982.982 0 0 0 1.397 0l1.29-1.301 1.336 1.347a.982.982 0 0 0 1.397.001 1.002 1.002 0 0 0 .001-1.408l-1.965-1.98a1.08 1.08 0 0 0-1.538-.001z"/><path d="M11 10.007l.001 9.986c0 .557.448 1.008 1 1.007.553 0 1-.45 1-1.007L13 10.006C13 9.451 12.552 9 12 9s-1.001.451-1 1.007z"/><path d="M7.938 5.481a4.8 4.8 0 0 0-.777-.063C4.356 5.419 2 7.62 2 10.499 2 13.408 4.385 16 7.1 16h2.881v-1.993H7.1c-1.657 0-3.115-1.663-3.115-3.508 0-1.778 1.469-3.087 3.104-3.087h.012c.389 0 .686.051.97.15l.17.063c.605.248.875-.246.875-.246l.15-.267c.73-1.347 2.201-2.096 3.716-2.119a4.14 4.14 0 0 1 4.069 3.644l.046.34s.071.525.665.525c.013 0 .012.005.023.005h.254c1.136 0 1.976.959 1.976 2.158 0 1.207-.987 2.342-2.07 2.342h-3.964V16h3.964C20.105 16 22 13.955 22 11.665c0-1.999-1.312-3.663-3.138-4.074-.707-2.707-3.053-4.552-5.886-4.591-1.975.021-3.901.901-5.038 2.481z"/></g></svg>'},e))};s.displayName="UploadIcon";var c=s;t.default=c},"./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/warning.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},e))};s.displayName="WarningIcon";var c=s;t.default=c},"./node_modules/@atlaskit/blanket/dist/esm/Blanket.js":function(e,t,n){"use strict";var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),l=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),p=n("./node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),f=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),m=Object(p.a)({light:u.N100A,dark:u.DN90A}),h=d.default.div(i||(i=Object(r.__makeTemplateObject)(["\n  background: ",";\n  bottom: 0;\n  left: 0;\n  opacity: ",";\n  pointer-events: ",";\n  position: fixed;\n  right: 0;\n  top: 0;\n  transition: opacity 220ms;\n  z-index: ",";\n"],["\n  background: ",";\n  bottom: 0;\n  left: 0;\n  opacity: ",";\n  pointer-events: ",";\n  position: fixed;\n  right: 0;\n  top: 0;\n  transition: opacity 220ms;\n  z-index: ",";\n"])),m,(function(e){return e.isTinted?1:0}),(function(e){return e.canClickThrough?"none":"initial"}),f.k.blanket),v=n("./node_modules/@atlaskit/blanket/dist/esm/version.json"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.canClickThrough,n=e.isTinted,i=e.onBlanketClicked,o={canClickThrough:t,isTinted:n,onClick:t?void 0:i};return a.a.createElement(h,Object(r.__assign)({},o))},t.defaultProps={canClickThrough:!1,isTinted:!1,onBlanketClicked:function(){}},t}(a.a.Component),b=Object(s.a)("atlaskit");t.a=Object(c.a)({componentName:"blanket",packageName:v.a,packageVersion:v.b})(Object(l.a)({onBlanketClicked:b({action:"clicked",actionSubject:"blanket",attributes:{componentName:"blanket",packageName:v.a,packageVersion:v.b}})})(g))},"./node_modules/@atlaskit/blanket/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/blanket","b":"11.0.0"}')},"./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/components/Button.js":function(e,t,n){"use strict";var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),s=n("./node_modules/@atlaskit/adf-schema/node_modules/memoize-one/dist/memoize-one.esm.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),l=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),d=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),u=n("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),p=n("./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/theme.js"),f=n("./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/version.json"),m=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),h=n("./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/components/utils.js"),v=function(e){var t=e.children,n=e.followsIcon,r=e.spacing,o=e.isLoading,s=Object(i.__rest)(e,["children","followsIcon","spacing","isLoading"]);return Object(a.f)("span",Object(i.__assign)({css:Object(i.__assign)({alignItems:n?"baseline":"center",alignSelf:n?"baseline":"center",flex:"1 1 auto",margin:"none"===r?0:"0 "+Object(m.j)()/2+"px",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Object(h.c)(o))},s),t)},g=function(e){var t=e.spacing,n=e.icon,r=e.isOnlyChild,o=e.isLoading,s=Object(i.__rest)(e,["spacing","icon","isOnlyChild","isLoading"]);return Object(a.f)("span",Object(i.__assign)({css:Object(i.__assign)({alignSelf:"center",display:"flex",flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===t?0:r?"0 -"+Object(m.j)()/4+"px":"0 "+Object(m.j)()/2+"px"},Object(h.c)(o))},s),n)},b=function(e){var t=e.fit,n=e.children,r=Object(i.__rest)(e,["fit","children"]);return Object(a.f)("span",Object(i.__assign)({css:Object(i.__assign)(Object(i.__assign)({alignSelf:"center",display:"inline-flex",flexWrap:"nowrap",maxWidth:"100%",position:"relative"},t&&{width:"100%"}),t&&{justifyContent:"center"})},r),n)},y=n("./node_modules/@atlaskit/spinner/dist/esm/spinner.js"),_=["primary","danger"],j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.invertSpinner=function(){var e=t.props,n=e.appearance,i=e.isSelected,r=e.isDisabled;return!!i||!r&&(void 0!==n&&-1!==_.indexOf(n))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.spacing,n=e.styles,i="default"!==t?"small":"medium";return Object(a.f)("div",{css:n},Object(a.f)(y.a,{size:i,appearance:this.invertSpinner()?"invert":"inherit"}))},t}(o.a.Component),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.button=o.a.createRef(),t.getComposedRefs=Object(s.default)(h.a),t.state={isActive:!1,isFocus:!1,isHover:!1},t.isInteractive=function(){return!t.props.isDisabled&&!t.props.isLoading},t.onMouseEnter=function(e){t.setState({isHover:!0}),t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.onMouseLeave=function(e){t.setState({isHover:!1,isActive:!1}),t.props.onMouseLeave&&t.props.onMouseLeave(e)},t.onMouseDown=function(e){e.preventDefault(),t.setState({isActive:!0}),t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseUp=function(e){t.setState({isActive:!1}),t.props.onMouseUp&&t.props.onMouseUp(e)},t.onFocus=function(e){t.setState({isFocus:!0}),t.props.onFocus&&t.props.onFocus(e)},t.onBlur=function(e){t.setState({isFocus:!1}),t.props.onBlur&&t.props.onBlur(e)},t.getElement=function(){var e=t.props,n=e.href,i=e.isDisabled;return n?i?"span":"a":"button"},t.onInnerClick=function(e){return t.isInteractive()||e.stopPropagation(),!0},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.autoFocus&&this.button instanceof HTMLButtonElement&&this.button.focus()},t.prototype.render=function(){var e=this,t=this.props,n=t.appearance,r=void 0===n?"default":n,o=t.children,s=t.className,c=t.component,l=t.consumerRef,d=t.iconAfter,f=t.iconBefore,m=t.isDisabled,y=void 0!==m&&m,_=t.isLoading,w=void 0!==_&&_,x=t.isSelected,O=void 0!==x&&x,k=t.shouldFitContainer,E=void 0!==k&&k,C=t.spacing,S=void 0===C?"default":C,I=t.theme,T=void 0===I?function(e,t){return e(t)}:I,M=t.testId,F=Object(i.__rest)(t,["appearance","children","className","component","consumerRef","iconAfter","iconBefore","isDisabled","isLoading","isSelected","shouldFitContainer","spacing","theme","testId"]),N=Object(i.__assign)(Object(i.__assign)({},this.state),{isSelected:O,isDisabled:y}),A=c||this.getElement(),P=!((!f||d||o)&&(!d||f||o)),D=function(e){return"a"===A?{"a&":e}:A===c?{"&, a&, &:hover, &:active, &:focus":e}:e};return Object(a.f)(p.a.Provider,{value:T},Object(a.f)(u.a.Consumer,null,(function(t){var n=t.mode;return Object(a.f)(p.a.Consumer,Object(i.__assign)({mode:n,state:Object(h.e)(N),iconIsOnlyChild:P},e.props),(function(t){var n=t.buttonStyles,c=t.spinnerStyles;return Object(a.f)(A,Object(i.__assign)({},Object(h.b)(F,A),{"data-testid":M,ref:e.getComposedRefs(e.button,l),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onFocus:e.onFocus,onBlur:e.onBlur,disabled:y,className:s,css:D(n)}),Object(a.f)(b,{onClick:e.onInnerClick,fit:!!E},w&&Object(a.f)(j,{spacing:S,appearance:r,isSelected:O,isDisabled:y,styles:c}),f&&Object(a.f)(g,{isLoading:w,spacing:S,isOnlyChild:P,icon:f}),o&&Object(a.f)(v,{isLoading:w,followsIcon:!!f,spacing:S},o),d&&Object(a.f)(g,{isLoading:w,spacing:S,isOnlyChild:P,icon:d})))}))})))},t.defaultProps={appearance:"default",autoFocus:!1,isDisabled:!1,isLoading:!1,isSelected:!1,shouldFitContainer:!1,spacing:"default",type:"button"},t}(o.a.Component),x=Object(c.a)("atlaskit"),O=o.a.forwardRef((function(e,t){return Object(a.f)(w,Object(i.__assign)({},e,{consumerRef:t}))}));O.displayName="Button";t.a=Object(l.a)({componentName:"button",packageName:f.a,packageVersion:f.b})(Object(d.a)({onClick:x({action:"clicked",actionSubject:"button",attributes:{componentName:"button",packageName:f.a,packageVersion:f.b}})})(O))},"./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/components/utils.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));var i=n("./node_modules/tslib/tslib.es6.js"),r=function(e){var t=e.isDisabled,n=void 0!==t&&t,i=e.isActive,r=void 0!==i&&i,o=e.isFocus,a=void 0!==o&&o,s=e.isHover,c=void 0!==s&&s,l=e.isSelected,d=void 0!==l&&l;return n?"disabled":d&&a?"focusSelected":d?"selected":r?"active":c?"hover":a?"focus":"default"},o=function(e,t){e.createAnalyticsEvent;var n=Object(i.__rest)(e,["createAnalyticsEvent"]);if("span"===t){n.target,n.href;return Object(i.__rest)(n,["target","href"])}return n},a=function(e){return{transition:"opacity 0.3s",opacity:e?0:1}},s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.filter((function(e){return!!e})).forEach((function(e){"function"==typeof e?e(t):e.current=t}))}};function c(e,t){if(void 0===t&&(t=1),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){var n=e.substring(1).split("");3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]);var i="0x"+n.join("");return"rgba("+[i>>16&255,i>>8&255,255&i].join(",")+", "+t+")"}throw new Error("Bad Hex")}},"./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/theme.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return S}));var i=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),r=n("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),o=n("./node_modules/tslib/tslib.es6.js"),a=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),s=3*Object(a.j)()/Object(a.h)()+"em",c=4*Object(a.j)()/Object(a.h)()+"em",l=function(e){return C("background",e,E)},d=function(e){return"0 0 0 2px "+C("boxShadowColor",e,E)},u=function(e){return C("color",e,E)},p=function(e){var t=e.state,n=void 0===t?"default":t;return"hover"===n||"active"===n||"selected"===n?"pointer":"disabled"===n?"not-allowed":"default"},f=function(e){var t=e.spacing,n=void 0===t?"default":t;return"compact"===n?s:"none"===n?"auto":c},m=function(e){var t=e.spacing,n=void 0===t?"default":t;return"compact"===n?s:"none"===n?"inherit":c},h=function(e){var t=e.spacing;return"none"===(void 0===t?"default":t)?0:"0 "+Object(a.j)()+"px"},v=function(e){var t=e.appearance,n=void 0===t?"default":t,i=e.state;return"hover"!==(void 0===i?"default":i)||"link"!==n&&"subtle-link"!==n?"inherit":"underline"},g=function(e){var t=e.state;return"hover"===(void 0===t?"default":t)?"background 0s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)":"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)"},b=function(e){var t=e.state,n=void 0===t?"default":t;return"active"===n?"0s":"focus"===n?"0s, 0.2s":"0.1s, 0.15s"},y=function(e){var t=e.spacing;return"none"===(void 0===t?"default":t)?"baseline":"middle"},_=function(e){return e.shouldFitContainer?"100%":"auto"},j={alignItems:"baseline",borderWidth:0,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontWeight:"500",maxWidth:"100%",outline:"none !important",textAlign:"center",textDecoration:"none",whiteSpace:"nowrap"},w=function(e){return Object(o.__assign)(Object(o.__assign)(Object(o.__assign)({},j),{background:l(e),borderRadius:Object(a.d)()+"px",boxShadow:d(e),color:u(e)+" !important",cursor:p(e),height:f(e),lineHeight:m(e),padding:h(e),transition:g(e),transitionDuration:b(e),verticalAlign:y(e),width:_(e),"&::-moz-focus-inner":{border:0,margin:0,padding:0},"&:hover":{textDecoration:v(e)}}),e.isLoading&&{pointerEvents:"none"})},x=function(){return{display:"flex",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},O=n("./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/components/utils.js"),k={background:{light:i.N20A,dark:i.DN70},color:{light:i.N400,dark:i.DN400},textDecoration:{light:"none",dark:"none"}},E={background:{default:{default:{light:i.N20A,dark:i.DN70},hover:{light:i.N30A,dark:i.DN60},active:{light:Object(O.d)(i.B75,.6),dark:i.B75},disabled:{light:i.N20A,dark:i.DN70},selected:{light:i.N700,dark:i.DN0},focusSelected:{light:i.N700,dark:i.DN0}},primary:{default:{light:i.B400,dark:i.B100},hover:{light:i.B300,dark:i.B75},active:{light:i.B500,dark:i.B200},disabled:{light:i.N20A,dark:i.DN70},selected:{light:i.N700,dark:i.DN0},focusSelected:{light:i.N700,dark:i.DN0}},warning:{default:{light:i.Y300,dark:i.Y300},hover:{light:i.Y200,dark:i.Y200},active:{light:i.Y400,dark:i.Y400},disabled:{light:i.N20A,dark:i.DN70},selected:{light:i.Y400,dark:i.Y400},focusSelected:{light:i.Y400,dark:i.Y400}},danger:{default:{light:i.R400,dark:i.R400},hover:{light:i.R300,dark:i.R300},active:{light:i.R500,dark:i.R500},disabled:{light:i.N20A,dark:i.DN70},selected:{light:i.R500,dark:i.R500},focusSelected:{light:i.R500,dark:i.R500}},link:{default:{light:"none",dark:"none"},selected:{light:i.N700,dark:i.N20},focusSelected:{light:i.N700,dark:i.N20}},subtle:{default:{light:"none",dark:"none"},hover:{light:i.N30A,dark:i.DN60},active:{light:Object(O.d)(i.B75,.6),dark:i.B75},disabled:{light:"none",dark:"none"},selected:{light:i.N700,dark:i.DN0},focusSelected:{light:i.N700,dark:i.DN0}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:i.N700,dark:i.N20},focusSelected:{light:i.N700,dark:i.N20}}},boxShadowColor:{default:{focus:{light:i.B100,dark:i.B75},focusSelected:{light:i.B100,dark:i.B75}},primary:{focus:{light:i.B100,dark:i.B75},focusSelected:{light:i.B100,dark:i.B75}},warning:{focus:{light:i.Y500,dark:i.Y500},focusSelected:{light:i.Y500,dark:i.Y500}},danger:{focus:{light:i.R100,dark:i.R100},focusSelected:{light:i.R100,dark:i.R100}},link:{focus:{light:i.B100,dark:i.B75},focusSelected:{light:i.B100,dark:i.B75}},subtle:{focus:{light:i.B100,dark:i.B75},focusSelected:{light:i.B100,dark:i.B75}},"subtle-link":{focus:{light:i.B100,dark:i.B75},focusSelected:{light:i.B100,dark:i.B75}}},color:{default:{default:{light:i.N500,dark:i.DN400},active:{light:i.B400,dark:i.B400},disabled:{light:i.N70,dark:i.DN30},selected:{light:i.N20,dark:i.DN400},focusSelected:{light:i.N20,dark:i.DN400}},primary:{default:{light:i.N0,dark:i.DN30},disabled:{light:i.N70,dark:i.DN30},selected:{light:i.N20,dark:i.DN400},focusSelected:{light:i.N20,dark:i.DN400}},warning:{default:{light:i.N800,dark:i.N800},disabled:{light:i.N70,dark:i.DN30},selected:{light:i.N800,dark:i.N800},focusSelected:{light:i.N800,dark:i.N800}},danger:{default:{light:i.N0,dark:i.N0},disabled:{light:i.N70,dark:i.DN30},selected:{light:i.N0,dark:i.N0},focusSelected:{light:i.N0,dark:i.N0}},link:{default:{light:i.B400,dark:i.B100},hover:{light:i.B300,dark:i.B75},active:{light:i.B500,dark:i.B200},disabled:{light:i.N70,dark:i.DN100},selected:{light:i.N20,dark:i.N700},focusSelected:{light:i.N20,dark:i.N700}},subtle:{default:{light:i.N500,dark:i.DN400},active:{light:i.B400,dark:i.B400},disabled:{light:i.N70,dark:i.DN100},selected:{light:i.N20,dark:i.DN400},focusSelected:{light:i.N20,dark:i.DN400}},"subtle-link":{default:{light:i.N200,dark:i.DN400},hover:{light:i.N90,dark:i.B50},active:{light:i.N400,dark:i.DN300},disabled:{light:i.N70,dark:i.DN100},selected:{light:i.N20,dark:i.DN400},focusSelected:{light:i.N20,dark:i.DN400}}}};function C(e,t,n){var i=t.appearance,r=void 0===i?"default":i,o=t.state,a=void 0===o?"default":o,s=t.mode,c=void 0===s?"light":s,l=n[e];if(!l)return"initial";if(!l[r]){if(!l.default)return k[e][c]?k[e][c]:"initial";r="default"}l[r][a]||(a="default");var d=l[r],u=d[a];return u?u[c]||d.default[c]:"inherit"}var S=Object(r.a)((function(e){return{buttonStyles:w(e),spinnerStyles:x()}}))},"./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/button","b":"14.0.0"}')},"./node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("./node_modules/rxjs/operators/tap.js"),r=n("./node_modules/rxjs/operators/concatMap.js"),o=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js"),l=n("./node_modules/rxjs-async-map/out/index.js");function d(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var u=function(e){return function(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(d)},p=n("./node_modules/tslib/tslib.es6.js"),f=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");var h=function(e,t,n){return Object(o.fromPromise)(function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return"string"!=typeof e?[3,2]:[4,fetch(e).then((function(e){return e.blob()}))];case 1:return[2,t.sent()];case 2:return[2,e]}}))}))}(e)).pipe(Object(r.concatMap)((function(e){var o=t.chunkSize,a=n.onProgress,d=Math.ceil(e.size/o),h=function(e,t){var n=t.batchSize,i=t.prober;return e.pipe(Object(f.bufferCount)(n),Object(r.concatMap)((function(e){return i(e).then((function(t){return e.map((function(e,n){return Object(p.__assign)(Object(p.__assign)({},e),{exists:t[n]})}))}))})),Object(r.concatMap)((function(e){return Object(m.from)(e)})))}(function(e,t){var n=t.hasher,i=t.concurrency;return Object(l.asyncMap)(function(e){return function(t){return e(t).then((function(e){return{blob:t,hash:e+"-"+t.size}}))}}(n||u),i)(e)}(function(e,t){var n=t.size,i=Math.ceil(e.size/n);return Object(s.range)(0,i).pipe(Object(c.map)((function(t){return e.slice(t*n,(t+1)*n)})))}(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction}),v=0,g=function(e,t){return e.pipe(Object(l.asyncMap)((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(h,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(g=g.pipe(Object(i.tap)((function(){a((v+=1)/d)})))),function(e,t){return e.pipe(Object(f.bufferCount)(t.batchSize)).pipe(Object(r.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(g,{batchSize:t.processingBatchSize,processor:t.processingFunction})})))},v=function(e,t,n){return function(e){var t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:function(){n.unsubscribe(),t.error("canceled")}}}(h(e,t,n))}},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/components/Theme.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js");t.a=Object(i.a)((function(){return{mode:"light"}}))},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r);function a(e){var t=function(e,t){return e(t)},n=Object(r.createContext)(e);return{Consumer:function(e){var a=e.children,s=Object(i.d)(e,["children"]),c=(Object(r.useContext)(n)||t)(s);return o.a.createElement(o.a.Fragment,null,a(c))},Provider:function(e){var i=Object(r.useContext)(n),a=e.value||t,s=Object(r.useCallback)((function(e){return a(i,e)}),[i,a]);return o.a.createElement(n.Provider,{value:s},e.children)}}}},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/utils/math.js":function(e,t,n){"use strict";function i(e,t){return function(n){return e(n)*t}}function r(e,t){return function(n){return e(n)/t}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/root/card/cardLoader.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/utils/lightCards/cardLoading.js"),s=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={Card:t.Card,MediaCardErrorBoundary:t.MediaCardErrorBoundary},n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,r,o,a;return Object(i.d)(this,(function(s){switch(s.label){case 0:if(this.state.Card)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all([n.e("@atlaskit-media-client").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/esm/index.js")),n.e("@atlaskit-internal_Card").then(n.bind(null,"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/root/card/index.js")),n.e("@atlaskit-internal_MediaCardErrorBoundary").then(n.bind(null,"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/root/media-card-analytics-error-boundary.js"))])];case 2:return e=i.f.apply(void 0,[s.sent(),3]),r=e[0],o=e[1],a=e[2],t.Card=r.withMediaClient(o.Card,this.props.featureFlags),t.MediaCardErrorBoundary=a.default,this.setState({Card:t.Card,MediaCardErrorBoundary:t.MediaCardErrorBoundary}),[3,4];case 3:return s.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.dimensions,n=e.testId,r=this.state,s=r.Card,c=r.MediaCardErrorBoundary;return s&&c?o.a.createElement(c,null,o.a.createElement(s,Object(i.a)({},this.props))):o.a.createElement(a.a,{testId:n,dimensions:t})},t.displayName="AsyncCard",t}(o.a.PureComponent);t.a=s},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/utils/lightCards/cardLoading.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/file.js"),s=n.n(a),c=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/utils/lightCards/getDimensionsWithDefault.js"),l=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/utils/lightCards/styled.js"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.dimensions,n=e.testId,i=Object(c.a)(t);return o.a.createElement(l.a,{"data-testid":n||"media-card-loading","data-test-loading":!0,dimensions:i},this.icon)},Object.defineProperty(t.prototype,"icon",{get:function(){return o.a.createElement(s.a,{label:"loading",size:"medium"})},enumerable:!1,configurable:!0}),t}(r.Component)},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/utils/lightCards/getDimensionsWithDefault.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return void 0===e&&(e={width:"100%",height:"100%"}),{height:"number"==typeof e.height?e.height+"px":e.height,width:"number"==typeof e.width?e.width+"px":e.width}}},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/utils/lightCards/styled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i,r,o=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/node_modules/tslib/tslib.es6.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./node_modules/@atlaskit/media-ui/dist/esm/mixins.js"),c=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),l=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/theme/dist/esm/colors.js"),d=Object(a.keyframes)(i||(i=Object(o.e)(["\n  0%{\n    opacity: 1;\n  }\n\n  50%{\n    opacity: 0.6;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"],["\n  0%{\n    opacity: 1;\n  }\n\n  50%{\n    opacity: 0.6;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"]))),u=a.default.div(r||(r=Object(o.e)(["\n  "," background: ",";\n  color: ",";\n  ","\n  max-height: 100%;\n  max-width: 100%;\n\n  ","\n  > span {\n    animation: "," 0.8s infinite;\n  }\n"],["\n  "," background: ",";\n  color: ",";\n  ","\n  max-height: 100%;\n  max-width: 100%;\n\n  ","\n  > span {\n    animation: "," 0.8s infinite;\n  }\n"])),s.c,Object(c.a)({light:l.N20,dark:l.DN50}),Object(c.a)({light:l.N50,dark:l.DN100}),s.b,(function(e){return"\n      width: "+e.dimensions.width+";\n      height: "+e.dimensions.height+";\n    "}),d)},"./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function u(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalTransition.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/@atlaskit/editor-core/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=o.a.createContext({isOpen:!0,onExited:function(){}}),s=a.Consumer,c=a.Provider,l=function(e){return o.a.Children.count(e)>0&&o.a.Children.map(e,(function(e){return!!e})).filter(Boolean).length>0},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentChildren:void 0},t.onExited=function(){t.setState({currentChildren:t.props.children})},t}return Object(i.c)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.currentChildren;return{currentChildren:l(n)&&!l(e.children)?n:e.children}},t.prototype.render=function(){return o.a.createElement(c,{value:{onExited:this.onExited,isOpen:l(this.props.children)}},this.state.currentChildren)},t}(o.a.Component),u=s;t.b=d},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalWrapper.js":function(e,t,n){"use strict";var i,r,o,a,s,c,l,d=n("./node_modules/@atlaskit/editor-core/node_modules/tslib/tslib.es6.js"),u=n("./node_modules/react/index.js"),p=n.n(u),f=n("./node_modules/@atlaskit/portal/dist/esm/components/Portal.js"),m=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/constants.js"),h=n("./node_modules/exenv/index.js"),v=n("./node_modules/react-uid/dist/es2015/Control.js"),g=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),b=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),y=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),_=n("./node_modules/@atlaskit/blanket/dist/esm/Blanket.js"),j={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},w=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),x=n("./node_modules/@emotion/styled/dist/styled.browser.esm.js"),O=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/colors.js"),k=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),E=function(e){var t=e.widthName,n=e.widthValue;return"number"==typeof n?n+"px":t?j.widths[t]+"px":n||"auto"},C=x.a.div(i||(i=Object(d.e)(["\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ","px;\n  width: 100%;\n  z-index: ",";\n  -webkit-overflow-scrolling: touch;\n"],["\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ","px;\n  width: 100%;\n  z-index: ",";\n  -webkit-overflow-scrolling: touch;\n"])),(function(e){return e.scrollDistance}),m.h.modal),S=function(e){return Object(w.e)(r||(r=Object(d.e)(["\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ",";\n  top: ","px;\n  width: ",";\n  z-index: ",";\n  pointer-events: none;\n"],["\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ",";\n  top: ","px;\n  width: ",";\n  z-index: ",";\n  pointer-events: none;\n"])),"calc(100% - 119px)","calc(100% - 120px)",60,E(e),m.h.modal())},I=Object(w.e)(o||(o=Object(d.e)(["\n  height: 100%;\n  left: 0;\n  position: fixed;\n  top: 0;\n  max-width: 100%;\n  width: 100%;\n"],["\n  height: 100%;\n  left: 0;\n  position: fixed;\n  top: 0;\n  max-width: 100%;\n  width: 100%;\n"]))),T=x.a.div(a||(a=Object(d.e)(["\n  ",";\n  position: absolute;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"],["\n  ",";\n  position: absolute;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"])),S,I),M=x.a.div(s||(s=Object(d.e)(["\n  margin: ","px auto;\n  position: relative;\n  width: ",";\n  z-index: ",";\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n    margin: 0;\n  }\n"],["\n  margin: ","px auto;\n  position: relative;\n  width: ",";\n  z-index: ",";\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n    margin: 0;\n  }\n"])),60,E,m.h.modal,I),F=x.a.div(c||(c=Object(d.e)(["\n  ",";\n  position: fixed;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"],["\n  ",";\n  position: fixed;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"])),S,I),N=x.a.div(l||(l=Object(d.e)(["\n  ","\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  max-height: 100%;\n  outline: 0;\n  pointer-events: auto;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    height: 100%;\n    max-height: 100%;\n    border-radius: 0;\n  }\n"],["\n  ","\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  max-height: 100%;\n  outline: 0;\n  pointer-events: auto;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    height: 100%;\n    max-height: 100%;\n    border-radius: 0;\n  }\n"])),(function(e){return e.isChromeless?null:"\n          background-color: "+function(e){return e.isChromeless?"transparent":Object(k.a)({light:O.N0,dark:O.DN50})()}(e)+";\n          border-radius: "+Object(m.c)()+"px;\n          box-shadow: "+function(e){return e.isChromeless?"none":"\n      0 0 0 1px "+O.N30A+", 0 2px 1px "+O.N30A+",\n      0 0 20px -6px "+O.N60A+"\n    "}(e)+";\n        "}),O.text,(function(e){return function(e){var t=e.heightValue;return"number"==typeof t?t+"px":t||"auto"}({heightValue:e.heightValue})}));T.displayName="PositionerAbsolute",N.displayName="Dialog",C.displayName="FillScreen",M.displayName="PositionerRelative",F.displayName="PositionerFixed";var A=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/version.json"),P=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/react-transition-group/esm/Transition.js"),D=function(e){var t=e.in,n=e.stackIndex,i=void 0===n?0:n,r=e.onExited,o=e.onEntered,a=e.children;return p.a.createElement(P.d,{in:t,timeout:{enter:0,exit:500},onExited:r,onEntered:o,appear:!0},(function(e){var n=t&&"exited"===e?"entering":e,r={transition:"opacity 250ms",opacity:1},o={transition:"transform 500ms cubic-bezier(0.23, 1, 0.32, 1)",transform:"translate3d(0, 32px, 0)"},s={entering:{},entered:{transform:i>0?"translate3d(0, "+8*i+"px, 0)":null},exiting:{transform:"translate3d(0, -32px, 0)"},exited:{}};return a({fade:Object(d.a)(Object(d.a)({},r),{entering:{opacity:0},entered:{},exiting:{opacity:0},exited:{}}[n]),slide:Object(d.a)(Object(d.a)({},o),s[n])})}))},L=n("./node_modules/raf-schd/esm/index.js"),U=n("./node_modules/react-scrolllock/dist/index.js"),R=n.n(U),z=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/styled/Content.js"),B=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/node_modules/@atlaskit/button/dist/esm/custom-theme-button/custom-theme-button.js"),H=function(e){return p.a.createElement("span",Object(d.a)({},e))},G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.actions,n=e.appearance,i=e.component,r=e.onClose,o=e.showKeyline;return i||t?i&&t?(console.warn("You can provide `component` OR `actions`, not both."),null):i?p.a.createElement(i,{appearance:n,onClose:r,showKeyline:o}):p.a.createElement(z.d,{showKeyline:o},p.a.createElement(H,null),p.a.createElement(z.b,null,t?t.map((function(e,t){var i=e.text,r=Object(d.g)(e,["text"]),o=0!==t?"subtle":n||"primary";return p.a.createElement(z.a,{key:t},p.a.createElement(B.a,Object(d.a)({appearance:o},r),i))})):null)):null},t}(p.a.Component),W=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/error.js"),V=n.n(W),K=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/warning.js"),q=n.n(K),Y=function(e){var t=e.appearance;if(!t)return null;var n="danger"===t?V.a:q.a;return Object(w.f)("span",{css:Object(z.j)(t)},Object(w.f)(n,{label:t+" icon"}))},J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.appearance,i=e.component,r=e.heading,o=e.onClose,a=e.showKeyline,s=e.isHeadingMultiline,c=e.testId;return i||r?i&&r?(console.warn("You can provide `component` OR `heading`, not both."),null):i?p.a.createElement(i,{id:t,testId:c,appearance:n,onClose:o,showKeyline:a,isHeadingMultiline:s}):Object(w.f)(z.e,{showKeyline:a},Object(w.f)(z.f,null,Object(w.f)(Y,{appearance:n}),Object(w.f)(z.g,{isHeadingMultiline:s,id:t,"data-testid":c&&c+"-heading"},r))):null},t.defaultProps={isHeadingMultiline:!0},t}(p.a.Component);function Z(){return{showFooterKeyline:!1,showHeaderKeyline:!1,showContentFocus:!1,tabbableElements:[]}}function X(e){return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.escapeIsHeldDown=!1,t._isMounted=!1,t.scrollContainer=null,t.state=Z(),t.determineKeylines=Object(L.a)((function(){if(t.scrollContainer){var e=t.scrollContainer,n=e.scrollTop,i=e.scrollHeight,r=e.clientHeight,o=i-r,a=n>z.i,s=n<=o-z.i,c=i>r;t.setState({showHeaderKeyline:a,showFooterKeyline:s,showContentFocus:c})}})),t.getScrollContainer=function(e){e&&(t.scrollContainer=e)},t.handleKeyUp=function(){t.escapeIsHeldDown=!1},t.handleKeyDown=function(e){var n=t.props,i=n.onClose,r=n.shouldCloseOnEscapePress,o=n.stackIndex,a=void 0===o?0:o,s="Escape"===e.key;t.escapeIsHeldDown||(s&&(t.escapeIsHeldDown=!0),!t._isMounted||a>0||s&&r&&i(e))},t.handleStackChange=function(e){var n=t.props.onStackChange;n&&n(e)},t}return Object(d.c)(t,e),t.prototype.componentDidMount=function(){if(this._isMounted=!0,document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){var e=this.scrollContainer;window.addEventListener("resize",this.determineKeylines,!1),e.addEventListener("scroll",this.determineKeylines,!1),this.determineKeylines()}this.props.header&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the header prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.footer&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the footer prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.body&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the body prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.components.Body&&(this.scrollContainer instanceof HTMLElement||console.warn("@atlaskit/modal-dialog: Warning - Ref must attach to a DOM element; check you are using forwardRef and attaching the ref to an appropriate element. Check the examples for more details."))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.stackIndex;e.stackIndex&&e.stackIndex!==t&&this.handleStackChange(e.stackIndex)},t.prototype.componentWillUnmount=function(){if(this._isMounted=!1,document.removeEventListener("keydown",this.handleKeyDown,!1),document.removeEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){var e=this.scrollContainer;window.removeEventListener("resize",this.determineKeylines,!1),e.removeEventListener("scroll",this.determineKeylines,!1)}},t.prototype.render=function(){var e=this,t=this.props,n=t.actions,i=t.appearance,r=t.body,o=t.children,a=t.components,s=t.footer,c=t.header,l=t.heading,u=t.isChromeless,f=t.isHeadingMultiline,m=t.onClose,h=t.shouldScroll,v=t.testId,g=t.headingId,b=this.state,y=b.showFooterKeyline,_=b.showHeaderKeyline,j=b.showContentFocus,x=a.Container,O=void 0===x?"div":x,k=a.Body||r||z.c;return Object(w.f)(O,{css:z.k,"data-testid":v},u?o:Object(w.f)(p.a.Fragment,null,Object(w.f)(J,{id:g,appearance:i,component:a.Header?a.Header:c,heading:l,onClose:m,isHeadingMultiline:f,showKeyline:_,testId:v}),this.scrollContainer instanceof HTMLElement?Object(w.f)(U.TouchScrollable,null,(function(t){return Object(w.f)(k,Object(d.a)({tabIndex:j?0:void 0,css:Object(z.h)(h)},k.hasOwnProperty("styledComponentId")?{innerRef:X([t,e.getScrollContainer])}:{ref:X([t,e.getScrollContainer])}),o)})):Object(w.f)(k,Object(d.a)({tabIndex:j?0:void 0,css:Object(z.h)(h)},k.hasOwnProperty("styledComponentId")?{innerRef:this.getScrollContainer}:{ref:this.getScrollContainer}),o),Object(w.f)(G,{actions:n,appearance:i,component:a.Footer?a.Footer:s,onClose:m,showKeyline:y})),Object(w.f)(R.a,null))},t.defaultProps={autoFocus:!1,components:{},isChromeless:!1,stackIndex:0,isHeadingMultiline:!0},t}(p.a.Component),$=n("./node_modules/@atlaskit/drawer/node_modules/react-focus-lock/dist/es2015/index.js"),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.c)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isEnabled,n=e.autoFocus;if("function"==typeof n&&t){var i=n();i&&i.focus&&i.focus()}},t.prototype.render=function(){var e=this.props,t=e.isEnabled,n=e.autoFocus,i=e.shouldReturnFocus;return p.a.createElement($.default,{disabled:!t,autoFocus:!!n,returnFocus:i},this.props.children)},t.defaultProps={autoFocus:!0,isEnabled:!0,shouldReturnFocus:!0},t}(p.a.Component),te=function(e){var t=e.scrollBehavior,n=Object(d.g)(e,["scrollBehavior"]),i=T;return"outside"===t?i=M:"inside-wide"===t&&(i=F),p.a.createElement(i,Object(d.a)({},n))};function ne(){return window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0}var ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dialogNode:null,scrollDistance:h.canUseDOM?ne():0,isExiting:!1},t.handleWindowScroll=function(){ne()!==t.state.scrollDistance&&window.scrollTo(window.pageXOffset,t.state.scrollDistance)},t.handleOverlayClick=function(e){t.props.shouldCloseOnOverlayClick&&t.props.onClose(e)},t}return Object(d.c)(t,e),t.prototype.componentDidMount=function(){var e=ne();ne()!==this.state.scrollDistance&&this.setState({scrollDistance:e}),window.addEventListener("scroll",this.handleWindowScroll)},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleWindowScroll)},t.prototype.render=function(){var e=this,t=this.props,n=t.actions,i=t.appearance,r=t.autoFocus,o=t.body,a=t.children,s=t.components,c=t.footer,l=t.header,d=t.height,u=t.isBlanketHidden,f=t.isChromeless,m=t.isHeadingMultiline,h=t.isOpen,g=t.onClose,b=t.onCloseComplete,y=t.onOpenComplete,w=t.onStackChange,x=t.shouldCloseOnEscapePress,O=t.stackIndex,k=t.heading,E=t.width,S=t.scrollBehavior,I=t.testId,T=this.state.scrollDistance,M=null!=O&&O>0,F=E&&-1!==j.values.indexOf(E.toString())?E:void 0,A=F?void 0:E;return p.a.createElement(D,{in:h,onExited:b,onEntered:y,stackIndex:O},(function(t){var b=t.fade,y=t.slide;return p.a.createElement(C,{style:b,"aria-hidden":M,scrollDistance:T},p.a.createElement(ee,{isEnabled:0===O&&h,autoFocus:r},p.a.createElement(_.a,{isTinted:!u,onBlanketClicked:e.handleOverlayClick}),p.a.createElement(te,{style:y,scrollBehavior:S,widthName:F,widthValue:A},p.a.createElement(v.b,null,p.a.createElement(v.a,null,(function(e,t){return p.a.createElement(N,{heightValue:d,isChromeless:f,role:"dialog","aria-labelledby":"dialog-heading-"+e,"data-testid":I,tabIndex:-1},p.a.createElement(Q,{actions:n,appearance:i,components:s,footer:c,heading:k,headingId:"dialog-heading-"+e,testId:I&&I+"-dialog-content",isHeadingMultiline:m,header:l,onClose:g,shouldScroll:"inside"===S||"inside-wide"===S,shouldCloseOnEscapePress:x,onStackChange:w,isChromeless:f,stackIndex:O,body:o},a))}))))))}))},t.defaultProps={autoFocus:!0,scrollBehavior:"inside",shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,isBlanketHidden:!1,isChromeless:!1,isOpen:!0,stackIndex:0,width:"medium",isHeadingMultiline:!0,onClose:function(){}},t}(p.a.Component),re=Object(g.a)("atlaskit"),oe=Object(b.a)({componentName:"modalDialog",packageName:A.a,packageVersion:A.b})(Object(y.a)({onClose:re({action:"closed",actionSubject:"modalDialog",attributes:{componentName:"modalDialog",packageName:A.a,packageVersion:A.b}})})(ie)),ae=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalTransition.js"),se=[],ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={stackIndex:0},t.update=function(){var e=se.indexOf(t.update);t.state.stackIndex!==e&&t.setState({stackIndex:e})},t}return Object(d.c)(t,e),t.prototype.componentDidMount=function(){se.forEach((function(e){return e()}))},t.prototype.componentWillUnmount=function(){var e=this;-1!==se.indexOf(this.update)&&(se=se.filter((function(t){return t!==e.update}))).forEach((function(e){return e()}))},t.prototype.componentDidUpdate=function(e){var t=this;e.isOpen&&!this.props.isOpen&&(se=se.filter((function(e){return e!==t.update}))).forEach((function(e){return e()}))},t.prototype.render=function(){return-1===se.indexOf(this.update)&&(se=Object(d.h)([this.update],se)),this.props.children(this.state.stackIndex)},t}(p.a.Component),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onModalClosed=function(e){return function(n){e&&e(),t.props.onCloseComplete&&t.props.onCloseComplete(n)}},t}return Object(d.c)(t,e),t.prototype.render=function(){var e=this;return p.a.createElement(ae.a,null,(function(t){var n=t.isOpen,i=t.onExited;return p.a.createElement(f.a,{zIndex:m.h.modal()},p.a.createElement(ce,{isOpen:n},(function(t){return p.a.createElement(oe,Object(d.a)({},e.props,{isOpen:n,stackIndex:e.props.stackIndex||t,onCloseComplete:e.onModalClosed(i)}),e.props.children)})))}))},t.defaultProps={autoFocus:!0,scrollBehavior:"inside",shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,isChromeless:!1,width:"medium",isHeadingMultiline:!0,onClose:function(){}},t}(p.a.Component);t.a=le},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/styled/Content.js":function(e,t,n){"use strict";n.d(t,"i",(function(){return w})),n.d(t,"k",(function(){return x})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"j",(function(){return S})),n.d(t,"h",(function(){return I})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return N}));var i,r,o,a,s,c,l,d,u,p,f=n("./node_modules/@atlaskit/editor-core/node_modules/tslib/tslib.es6.js"),m=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),h=n("./node_modules/@emotion/styled/dist/styled.browser.esm.js"),v=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/colors.js"),g=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),b=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/constants.js"),y=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/utils/math.js"),_=3*Object(b.g)(),j=Object(g.a)({light:v.N30,dark:v.DN30}),w=2,x=Object(m.e)(i||(i=Object(f.e)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  max-height: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  max-height: 100%;\n"]))),O=h.a.header(r||(r=Object(f.e)(["\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  position: relative;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"],["\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  position: relative;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"])),_,_,_-w,_,(function(e){return e.showKeyline?"0 "+w+"px 0 0 "+j(e):"none"})),k=h.a.h4(o||(o=Object(f.e)(["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-style: inherit;\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  line-height: 1;\n  margin: 0;\n  min-width: 0;\n"],["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-style: inherit;\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  line-height: 1;\n  margin: 0;\n  min-width: 0;\n"]))),E=h.a.span(a||(a=Object(f.e)(["\n  flex: 1 1 auto;\n  min-width: 0;\n  word-wrap: break-word;\n  width: 100%;\n  ",";\n"],["\n  flex: 1 1 auto;\n  min-width: 0;\n  word-wrap: break-word;\n  width: 100%;\n  ",";\n"])),(function(e){return!e.isHeadingMultiline&&"\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    "})),C={danger:v.R400,warning:v.Y400},S=function(e){return Object(m.e)(s||(s=Object(f.e)(["\n  color: ",";\n  margin-right: ","px;\n  flex: 0 0 auto;\n"],["\n  color: ",";\n  margin-right: ","px;\n  flex: 0 0 auto;\n"])),C[e],Object(b.g)())},I=function(e){return Object(m.e)(c||(c=Object(f.e)(["\n  flex: 1 1 auto;\n  ","\n  @media (min-width: 320px) and (max-width: 480px) {\n    overflow-y: auto;\n    height: 100%;\n  }\n  &:focus {\n    outline-offset: -1px;\n    outline-style: dotted;\n    outline-color: ",";\n    outline-width: thin;\n  }\n"],["\n  flex: 1 1 auto;\n  ","\n  @media (min-width: 320px) and (max-width: 480px) {\n    overflow-y: auto;\n    height: 100%;\n  }\n  &:focus {\n    outline-offset: -1px;\n    outline-style: dotted;\n    outline-color: ",";\n    outline-width: thin;\n  }\n"])),e?"\n        overflow-y: auto;\n        overflow-x: hidden;\n        padding: "+w+"px "+_+"px;\n      ":"\n        padding: 0 "+_+"px;\n      ",v.N800)},T=h.a.div(l||(l=Object(f.e)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return I(e.shouldScroll)})),M=h.a.footer(d||(d=Object(f.e)(["\n  position: relative;\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"],["\n  position: relative;\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"])),_-w,_,_,_,(function(e){return e.showKeyline?"0 -"+w+"px 0 0 "+j(e):"none"})),F=h.a.div(u||(u=Object(f.e)(["\n  display: inline-flex;\n  margin: 0 -","px;\n"],["\n  display: inline-flex;\n  margin: 0 -","px;\n"])),Object(y.a)(b.g,2)),N=h.a.div(p||(p=Object(f.e)(["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"],["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"])),Object(y.a)(b.g,2))},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/modal-dialog","b":"11.2.0"}')},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/node_modules/@atlaskit/button/dist/esm/custom-theme-button/custom-theme-button.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/editor-core/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),s=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),l=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/useAnalyticsEvents.js"),d=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/useTrackedRef.js");var u=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/node_modules/@atlaskit/button/dist/esm/version.json");function p(e){e.preventDefault(),e.stopPropagation()}function f(e){9!==e.keyCode&&p(e)}var m={onMouseDownCapture:p,onMouseUpCapture:p,onKeyDownCapture:f,onKeyUpCapture:f,onTouchStartCapture:p,onTouchEndCapture:p,onPointerDownCapture:p,onPointerUpCapture:p,onClickCapture:p,onClick:p},h={};var v=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/constants.js"),g=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/colors.js"),b={background:{default:{default:{light:g.N20A,dark:g.DN70},hover:{light:g.N30A,dark:g.DN60},active:{light:"rgba(179, 212, 255, 0.6)",dark:g.B75},disabled:{light:g.N20A,dark:g.DN70},selected:{light:g.N700,dark:g.DN0},focusSelected:{light:g.N700,dark:g.DN0}},primary:{default:{light:g.B400,dark:g.B100},hover:{light:g.B300,dark:g.B75},active:{light:g.B500,dark:g.B200},disabled:{light:g.N20A,dark:g.DN70},selected:{light:g.N700,dark:g.DN0},focusSelected:{light:g.N700,dark:g.DN0}},warning:{default:{light:g.Y300,dark:g.Y300},hover:{light:g.Y200,dark:g.Y200},active:{light:g.Y400,dark:g.Y400},disabled:{light:g.N20A,dark:g.DN70},selected:{light:g.Y400,dark:g.Y400},focusSelected:{light:g.Y400,dark:g.Y400}},danger:{default:{light:g.R400,dark:g.R400},hover:{light:g.R300,dark:g.R300},active:{light:g.R500,dark:g.R500},disabled:{light:g.N20A,dark:g.DN70},selected:{light:g.R500,dark:g.R500},focusSelected:{light:g.R500,dark:g.R500}},link:{default:{light:"none",dark:"none"},selected:{light:g.N700,dark:g.N20},focusSelected:{light:g.N700,dark:g.N20}},subtle:{default:{light:"none",dark:"none"},hover:{light:g.N30A,dark:g.DN60},active:{light:"rgba(179, 212, 255, 0.6)",dark:g.B75},disabled:{light:"none",dark:"none"},selected:{light:g.N700,dark:g.DN0},focusSelected:{light:g.N700,dark:g.DN0}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:g.N700,dark:g.N20},focusSelected:{light:g.N700,dark:g.N20}}},boxShadowColor:{default:{focus:{light:g.B100,dark:g.B75},focusSelected:{light:g.B100,dark:g.B75}},primary:{focus:{light:g.B100,dark:g.B75},focusSelected:{light:g.B100,dark:g.B75}},warning:{focus:{light:g.Y500,dark:g.Y500},focusSelected:{light:g.Y500,dark:g.Y500}},danger:{focus:{light:g.R100,dark:g.R100},focusSelected:{light:g.R100,dark:g.R100}},link:{focus:{light:g.B100,dark:g.B75},focusSelected:{light:g.B100,dark:g.B75}},subtle:{focus:{light:g.B100,dark:g.B75},focusSelected:{light:g.B100,dark:g.B75}},"subtle-link":{focus:{light:g.B100,dark:g.B75},focusSelected:{light:g.B100,dark:g.B75}}},color:{default:{default:{light:g.N500,dark:g.DN400},active:{light:g.B400,dark:g.B400},disabled:{light:g.N70,dark:g.DN30},selected:{light:g.N20,dark:g.DN400},focusSelected:{light:g.N20,dark:g.DN400}},primary:{default:{light:g.N0,dark:g.DN30},disabled:{light:g.N70,dark:g.DN30},selected:{light:g.N20,dark:g.DN400},focusSelected:{light:g.N20,dark:g.DN400}},warning:{default:{light:g.N800,dark:g.N800},disabled:{light:g.N70,dark:g.DN30},selected:{light:g.N800,dark:g.N800},focusSelected:{light:g.N800,dark:g.N800}},danger:{default:{light:g.N0,dark:g.N0},disabled:{light:g.N70,dark:g.DN30},selected:{light:g.N0,dark:g.N0},focusSelected:{light:g.N0,dark:g.N0}},link:{default:{light:g.B400,dark:g.B100},hover:{light:g.B300,dark:g.B75},active:{light:g.B500,dark:g.B200},disabled:{light:g.N70,dark:g.DN100},selected:{light:g.N20,dark:g.N700},focusSelected:{light:g.N20,dark:g.N700}},subtle:{default:{light:g.N500,dark:g.DN400},active:{light:g.B400,dark:g.B400},disabled:{light:g.N70,dark:g.DN100},selected:{light:g.N20,dark:g.DN400},focusSelected:{light:g.N20,dark:g.DN400}},"subtle-link":{default:{light:g.N200,dark:g.DN400},hover:{light:g.N90,dark:g.B50},active:{light:g.N400,dark:g.DN300},disabled:{light:g.N70,dark:g.DN100},selected:{light:g.N20,dark:g.DN400},focusSelected:{light:g.N20,dark:g.DN400}}}},y=Object(v.c)(),_=Object(v.g)(),j=Object(v.f)(),w={default:4*_/j+"em",compact:3*_/j+"em",none:"auto"},x={default:w.default,compact:w.compact,none:"inherit"},O={default:"0 "+(_+_/4)+"px",compact:"0 "+(_+_/4)+"px",none:"0"},k={compact:"0 "+_/4+"px",default:"0 "+_/4+"px",none:"0"},E={default:"middle",compact:"middle",none:"baseline"},C={content:"0 "+_/4+"px",icon:"0 "+_/4+"px"};function S(e){var t=e.group,n=e.key,i=e.mode;return(t[n]||t.default)[i]}function I(e){var t=e.appearance,n=e.key,i=e.mode;return{background:S({group:b.background[t],key:n,mode:i}),color:S({group:b.color[t],key:n,mode:i})+" !important"}}function T(e){return{alignSelf:"center",display:"flex",flexGrow:0,flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===e.spacing?0:C.icon}}function M(e){return{margin:"none"===e.spacing?0:C.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}var F={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"};function N(){}var A={"> *":{pointerEvents:"none"}},P=o.a.forwardRef((function(e,t){e.appearance;var n=e.buttonCss,o=e.spacing,a=void 0===o?"default":o,p=e.autoFocus,f=void 0!==p&&p,v=e.isDisabled,g=void 0!==v&&v,b=(e.shouldFitContainer,e.isSelected,e.iconBefore),y=e.iconAfter,_=e.children,j=e.className,w=e.href,x=e.overlay,O=e.tabIndex,k=void 0===O?0:O,E=e.type,C=void 0===E?w?void 0:"button":E,S=e.onMouseDown,I=void 0===S?N:S,P=e.onClick,D=void 0===P?N:P,L=e.component,U=void 0===L?w?"a":"button":L,R=e.testId,z=e.analyticsContext,B=Object(i.g)(e,["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","analyticsContext"]),H=Object(r.useRef)(),G=Object(r.useCallback)((function(e){H.current=e,null!=t&&("function"!=typeof t?t.current=e:t(e))}),[H,t]);!function(e,t){var n=Object(r.useState)(t)[0];Object(r.useEffect)((function(){n&&e.current&&e.current.focus()}),[n,e])}(H,f);var W=function(e){var t=e.fn,n=e.action,i=e.componentName,o=e.packageName,a=e.packageVersion,s=e.analyticsData,u=Object(l.a)().createAnalyticsEvent,p=Object(d.a)(s),f=Object(d.a)(t);return Object(r.useCallback)((function(e){var t=u({action:n,actionSubject:i,attributes:{componentName:i,packageName:o,packageVersion:a}}),r=Object(c.a)({componentName:i,packageName:o,packageVersion:a},p.current);t.context.push(r);var s=t.clone();s&&s.fire("atlaskit"),f.current(e,t)}),[n,i,o,a,u,p,f])}({fn:D,action:"clicked",componentName:"button",packageName:u.a,packageVersion:u.b,analyticsData:z}),V=Object(r.useCallback)((function(e){e.preventDefault(),I(e)}),[I]);Object(r.useEffect)((function(){var e=H.current;g&&e&&e===document.activeElement&&e.blur()}),[g]);var K=Boolean(x),q=function(e){return{transition:"opacity 0.3s",opacity:e.hasOverlay?0:1}}({hasOverlay:K}),Y=!g&&!K;return Object(s.f)(U,Object(i.a)({},B,{css:[n,Y?null:A],className:j,ref:G,onClick:W,onMouseDown:V,disabled:g,href:Y?w:void 0,"data-has-overlay":!!K||void 0,"data-testid":R,type:C,tabIndex:g?-1:k},function(e){return e.isInteractive?h:m}({isInteractive:Y})),b?Object(s.f)("span",{css:[q,T({spacing:a})]},b):null,_?Object(s.f)("span",{css:[q,M({spacing:a})]},_):null,y?Object(s.f)("span",{css:[q,T({spacing:a})]},y):null,x?Object(s.f)("span",{css:F},x):null)}));function D(e){var t=e.children,n=e.iconBefore,i=e.iconAfter;return!t&&(!(!n||i)||!(n||!i))}var L=n("./node_modules/@atlaskit/spinner/dist/esm/spinner.js");function U(e){var t=e.appearance,n=e.isDisabled,i=e.isSelected;return n?"inherit":i||"primary"===t||"danger"===t?"invert":"inherit"}function R(e){var t=e.spacing,n=void 0===t?"default":t,r=Object(i.g)(e,["spacing"]),a="default"===n?"medium":"small";return o.a.createElement(L.a,{size:a,appearance:U(r)})}var z=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/button/node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),B={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function H(e){var t=e.appearance,n=void 0===t?"default":t,r=e.spacing,o=void 0===r?"default":r,a=e.mode,s=void 0===a?"light":a,c=e.isSelected,l=void 0!==c&&c,d=e.shouldFitContainer,u=void 0!==d&&d,p=e.iconIsOnlyChild,f=void 0!==p&&p,m=e.isLoading,h=void 0!==m&&m,v=e.state,g=function(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,a=e.shouldFitContainer,s=e.isOnlySingleIcon,c=I({appearance:t,key:o?"selected":"default",mode:r});return Object(i.a)(Object(i.a)({alignItems:"baseline",borderWidth:0,borderRadius:y,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{cursor:"pointer",height:w[n],lineHeight:x[n],padding:s?k[n]:O[n],verticalAlign:E[n],width:a?"100%":"auto",justifyContent:"center","&:visited":Object(i.a)({},c),"&:hover":Object(i.a)(Object(i.a)({},I({appearance:t,key:o?"selected":"hover",mode:r})),{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:focus":Object(i.a)(Object(i.a)({},I({appearance:t,key:o?"focusSelected":"focus",mode:r})),{boxShadow:"0 0 0 2px "+b.boxShadowColor[t].focus[r],transitionDuration:"0s, 0.2s",outline:"none"}),"&:active":Object(i.a)(Object(i.a)({},I({appearance:t,key:o?"selected":"active",mode:r})),{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':Object(i.a)(Object(i.a)({},I({appearance:t,key:o?"selected":"active",mode:r})),{transitionDuration:"0s, 0s"}),"&[disabled]":Object(i.a)(Object(i.a)({},I({appearance:t,key:"disabled",mode:r})),{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':Object(i.a)({},I({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}({appearance:n,spacing:o,mode:s,isSelected:l,shouldFitContainer:u,isOnlySingleIcon:f});g.outline="none";var _=B[v];return _&&(g=Object(i.a)(Object(i.a)({},g),g[_])),h&&(g=Object(i.a)(Object(i.a)({},g),g['&[data-has-overlay="true"]'])),Object.keys(g).forEach((function(e){"&::-moz-focus-inner"!==e&&0===e.indexOf("&")&&delete g[e]})),g}function G(e){return{"&, &:hover, &:active, &:focus, &:visited, &:disabled, &[disabled]":e}}function W(e,t){return e(t)}var V=Object(z.a)((function(e){return{buttonStyles:H(e),spinnerStyles:{}}}));function K(e){var t=e.isDisabled,n=void 0!==t&&t,i=e.isActive,r=void 0!==i&&i,o=e.isFocus,a=void 0!==o&&o,s=e.isHover,c=void 0!==s&&s,l=e.isSelected,d=void 0!==l&&l,u=e.isLoading,p=void 0!==u&&u;return n?"disabled":d&&a?"focusSelected":d?"selected":!p&&r?"active":!p&&c?"hover":a?"focus":"default"}var q={isHover:!1,isActive:!1,isFocus:!1},Y=o.a.memo(o.a.forwardRef((function(e,t){var n=e.appearance,s=void 0===n?"default":n,c=e.autoFocus,l=void 0!==c&&c,d=e.isDisabled,u=void 0!==d&&d,p=e.isSelected,f=void 0!==p&&p,m=e.shouldFitContainer,h=void 0!==m&&m,v=e.spacing,g=void 0===v?"default":v,b=e.isLoading,y=void 0!==b&&b,_=e.onMouseEnter,j=e.onMouseLeave,w=e.onMouseDown,x=e.onMouseUp,O=e.onFocus,k=e.onBlur,E=e.theme,C=void 0===E?W:E,S=Object(i.g)(e,["appearance","autoFocus","isDisabled","isSelected","shouldFitContainer","spacing","isLoading","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","theme"]),I=Object(i.a)({appearance:s,autoFocus:l,isDisabled:u,isSelected:f,shouldFitContainer:h,spacing:g},S),T=Object(i.f)(Object(r.useState)(q),2),M=T[0],F=T[1],N=Object(r.useCallback)((function(e){F((function(e){return Object(i.a)(Object(i.a)({},e),{isHover:!0})})),_&&_(e)}),[_]),A=Object(r.useCallback)((function(e){F((function(e){return Object(i.a)(Object(i.a)({},e),{isHover:!1,isActive:!1})})),j&&j(e)}),[j]),L=Object(r.useCallback)((function(e){F((function(e){return Object(i.a)(Object(i.a)({},e),{isActive:!0})})),w&&w(e)}),[w]),U=Object(r.useCallback)((function(e){F((function(e){return Object(i.a)(Object(i.a)({},e),{isActive:!1})})),x&&x(e)}),[x]),z=Object(r.useCallback)((function(e){F((function(e){return Object(i.a)(Object(i.a)({},e),{isFocus:!0})})),O&&O(e)}),[O]),B=Object(r.useCallback)((function(e){F((function(e){return Object(i.a)(Object(i.a)({},e),{isFocus:!1})})),k&&k(e)}),[k]);return o.a.createElement(V.Provider,{value:C},o.a.createElement(a.a.Consumer,null,(function(e){var n=e.mode;return o.a.createElement(V.Consumer,Object(i.a)({mode:n,state:K(Object(i.a)(Object(i.a)({},M),{isLoading:y,isSelected:I.isSelected,isDisabled:I.isDisabled})),iconIsOnlyChild:D(I),isLoading:y},I),(function(e){var n=e.buttonStyles;return o.a.createElement(P,Object(i.a)({},I,{ref:t,overlay:y?o.a.createElement(R,Object(i.a)({},I)):null,onMouseEnter:N,onMouseLeave:A,onMouseDown:L,onMouseUp:U,onFocus:z,onBlur:B,buttonCss:G(n)}))}))})))})));Y.displayName="CustomThemeButton";t.a=Y},"./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/node_modules/@atlaskit/button/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/button","b":"14.0.4"}')},"./node_modules/@atlaskit/editor-core/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return p}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function p(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create},"./node_modules/@atlaskit/feedback-collector/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalTransition.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=o.a.createContext({isOpen:!0,onExited:function(){}}),s=a.Consumer,c=a.Provider,l=function(e){return o.a.Children.count(e)>0&&o.a.Children.map(e,(function(e){return!!e})).filter(Boolean).length>0},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentChildren:void 0},t.onExited=function(){t.setState({currentChildren:t.props.children})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.currentChildren;return{currentChildren:l(n)&&!l(e.children)?n:e.children}},t.prototype.render=function(){return o.a.createElement(c,{value:{onExited:this.onExited,isOpen:l(this.props.children)}},this.state.currentChildren)},t}(o.a.Component),u=s;t.b=d},"./node_modules/@atlaskit/feedback-collector/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalWrapper.js":function(e,t,n){"use strict";var i,r,o,a,s,c,l,d=n("./node_modules/tslib/tslib.es6.js"),u=n("./node_modules/react/index.js"),p=n.n(u),f=n("./node_modules/@atlaskit/portal/dist/esm/components/Portal.js"),m=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),h=n("./node_modules/exenv/index.js"),v=n("./node_modules/react-uid/dist/es2015/Control.js"),g=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),b=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),y=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),_=n("./node_modules/@atlaskit/blanket/dist/esm/Blanket.js"),j={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},w=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),x=n("./node_modules/@emotion/styled/dist/styled.browser.esm.js"),O=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),k=n("./node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),E="\n  max-height: 100%;\n  @media only screen and (-ms-high-contrast:active), (-ms-high-contrast:none) {\n    max-height: calc(100% - 1px);\n  }\n",C=function(e){var t=e.widthName,n=e.widthValue;return"number"==typeof n?n+"px":t?j.widths[t]+"px":n||"auto"},S=x.a.div(i||(i=Object(d.__makeTemplateObject)(["\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ","px;\n  width: 100%;\n  z-index: ",";\n  -webkit-overflow-scrolling: touch;\n"],["\n  height: 100vh;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  top: ","px;\n  width: 100%;\n  z-index: ",";\n  -webkit-overflow-scrolling: touch;\n"])),(function(e){return e.scrollDistance}),m.k.modal),I=function(e){return Object(w.e)(r||(r=Object(d.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ",";\n  top: ","px;\n  width: ",";\n  z-index: ",";\n  pointer-events: none;\n"],["\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ",";\n  top: ","px;\n  width: ",";\n  z-index: ",";\n  pointer-events: none;\n"])),"calc(100% - 119px)","calc(100% - 120px)",60,C(e),m.k.modal())},T=Object(w.e)(o||(o=Object(d.__makeTemplateObject)(["\n  height: 100%;\n  left: 0;\n  position: fixed;\n  top: 0;\n  max-width: 100%;\n  width: 100%;\n"],["\n  height: 100%;\n  left: 0;\n  position: fixed;\n  top: 0;\n  max-width: 100%;\n  width: 100%;\n"]))),M=x.a.div(a||(a=Object(d.__makeTemplateObject)(["\n  ",";\n  position: absolute;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"],["\n  ",";\n  position: absolute;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"])),I,T),F=x.a.div(s||(s=Object(d.__makeTemplateObject)(["\n  margin: ","px auto;\n  position: relative;\n  width: ",";\n  z-index: ",";\n  pointer-events: none;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n    margin: 0;\n  }\n"],["\n  margin: ","px auto;\n  position: relative;\n  width: ",";\n  z-index: ",";\n  pointer-events: none;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n    margin: 0;\n  }\n"])),60,C,m.k.modal,T),N=x.a.div(c||(c=Object(d.__makeTemplateObject)(["\n  ",";\n  position: fixed;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"],["\n  ",";\n  position: fixed;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    ",";\n  }\n"])),I,T),A=x.a.div(l||(l=Object(d.__makeTemplateObject)(["\n  ","\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  ",";\n  outline: 0;\n  pointer-events: auto;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    height: 100%;\n    max-height: 100%;\n    border-radius: 0;\n  }\n"],["\n  ","\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  height: ",";\n  ",";\n  outline: 0;\n  pointer-events: auto;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    height: 100%;\n    max-height: 100%;\n    border-radius: 0;\n  }\n"])),(function(e){return e.isChromeless?null:"\n          background-color: "+function(e){return e.isChromeless?"transparent":Object(k.a)({light:O.N0,dark:O.DN50})()}(e)+";\n          border-radius: "+Object(m.d)()+"px;\n          box-shadow: "+function(e){return e.isChromeless?"none":"\n      0 0 0 1px "+O.N30A+", 0 2px 1px "+O.N30A+",\n      0 0 20px -6px "+O.N60A+"\n    "}(e)+";\n        "}),O.text,(function(e){return function(e){var t=e.heightValue;return"number"==typeof t?t+"px":t||"auto"}({heightValue:e.heightValue})}),E);M.displayName="PositionerAbsolute",A.displayName="Dialog",S.displayName="FillScreen",F.displayName="PositionerRelative",N.displayName="PositionerFixed";var P,D,L,U,R,z,B,H,G,W,V=n("./node_modules/@atlaskit/feedback-collector/node_modules/@atlaskit/modal-dialog/dist/esm/version.json"),K=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/react-transition-group/esm/Transition.js"),q=function(e){var t=e.in,n=e.stackIndex,i=void 0===n?0:n,r=e.onExited,o=e.onEntered,a=e.children;return p.a.createElement(K.d,{in:t,timeout:{enter:0,exit:500},onExited:r,onEntered:o,appear:!0},(function(e){var n=t&&"exited"===e?"entering":e,r={transition:"opacity 250ms",opacity:1},o={transition:"transform 500ms cubic-bezier(0.23, 1, 0.32, 1)",transform:"translate3d(0, 32px, 0)"},s={entering:{},entered:{transform:i>0?"translate3d(0, "+8*i+"px, 0)":null},exiting:{transform:"translate3d(0, -32px, 0)"},exited:{}};return a({fade:Object(d.__assign)(Object(d.__assign)({},r),{entering:{opacity:0},entered:{},exiting:{opacity:0},exited:{}}[n]),slide:Object(d.__assign)(Object(d.__assign)({},o),s[n])})}))},Y=n("./node_modules/raf-schd/esm/index.js"),J=n("./node_modules/react-scrolllock/dist/index.js"),Z=n.n(J),X=n("./node_modules/@atlaskit/theme/dist/esm/utils/math.js"),Q=3*Object(m.j)(),$=Object(k.a)({light:O.N30,dark:O.DN30}),ee=Object(w.e)(P||(P=Object(d.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  ",";\n"])),E),te=x.a.header(D||(D=Object(d.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  position: relative;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"],["\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  position: relative;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"])),Q,Q,Q-2,Q,(function(e){return e.showKeyline?"0 2px 0 0 "+$(e):"none"})),ne=x.a.h4(L||(L=Object(d.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-style: inherit;\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  line-height: 1;\n  margin: 0;\n  min-width: 0;\n"],["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-style: inherit;\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  line-height: 1;\n  margin: 0;\n  min-width: 0;\n"]))),ie=x.a.span(U||(U=Object(d.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  min-width: 0;\n  word-wrap: break-word;\n  width: 100%;\n  ",";\n"],["\n  flex: 1 1 auto;\n  min-width: 0;\n  word-wrap: break-word;\n  width: 100%;\n  ",";\n"])),(function(e){return!e.isHeadingMultiline&&"\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    "})),re={danger:O.R400,warning:O.Y400},oe=function(e){return Object(w.e)(R||(R=Object(d.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ","px;\n  flex: 0 0 auto;\n"],["\n  color: ",";\n  margin-right: ","px;\n  flex: 0 0 auto;\n"])),re[e],Object(m.j)())},ae=function(e){return Object(w.e)(z||(z=Object(d.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  ","\n  @media (min-width: 320px) and (max-width: 480px) {\n    overflow-y: auto;\n    height: 100%;\n  }\n  &:focus {\n    outline-offset: -1px;\n    outline-style: dotted;\n    outline-color: ",";\n    outline-width: thin;\n  }\n"],["\n  flex: 1 1 auto;\n  ","\n  @media (min-width: 320px) and (max-width: 480px) {\n    overflow-y: auto;\n    height: 100%;\n  }\n  &:focus {\n    outline-offset: -1px;\n    outline-style: dotted;\n    outline-color: ",";\n    outline-width: thin;\n  }\n"])),e?"\n        overflow-y: auto;\n        overflow-x: hidden;\n        padding: 2px "+Q+"px;\n      ":"\n        padding: 0 "+Q+"px;\n      ",O.N800)},se=x.a.div(B||(B=Object(d.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),(function(e){return ae(e.shouldScroll)})),ce=x.a.footer(H||(H=Object(d.__makeTemplateObject)(["\n  position: relative;\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"],["\n  position: relative;\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  transition: box-shadow 200ms;\n  padding: ","px ","px ","px\n    ","px;\n  box-shadow: ",";\n"])),Q-2,Q,Q,Q,(function(e){return e.showKeyline?"0 -2px 0 0 "+$(e):"none"})),le=x.a.div(G||(G=Object(d.__makeTemplateObject)(["\n  display: inline-flex;\n  margin: 0 -","px;\n"],["\n  display: inline-flex;\n  margin: 0 -","px;\n"])),Object(X.a)(m.j,2)),de=x.a.div(W||(W=Object(d.__makeTemplateObject)(["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"],["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"])),Object(X.a)(m.j,2)),ue=n("./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/components/Button.js"),pe=function(e){return p.a.createElement("span",Object(d.__assign)({},e))},fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.actions,n=e.appearance,i=e.component,r=e.onClose,o=e.showKeyline;return i||t?i&&t?(console.warn("You can provide `component` OR `actions`, not both."),null):i?p.a.createElement(i,{appearance:n,onClose:r,showKeyline:o}):p.a.createElement(ce,{showKeyline:o},p.a.createElement(pe,null),p.a.createElement(le,null,t?t.map((function(e,t){var i=e.text,r=Object(d.__rest)(e,["text"]),o=0!==t?"subtle":n||"primary";return p.a.createElement(de,{key:t},p.a.createElement(ue.a,Object(d.__assign)({appearance:o},r),i))})):null)):null},t}(p.a.Component),me=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/error.js"),he=n.n(me),ve=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/warning.js"),ge=n.n(ve),be=function(e){var t=e.appearance;if(!t)return null;var n="danger"===t?he.a:ge.a;return Object(w.f)("span",{css:oe(t)},Object(w.f)(n,{label:t+" icon"}))},ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.appearance,i=e.component,r=e.heading,o=e.onClose,a=e.showKeyline,s=e.isHeadingMultiline,c=e.testId;return i||r?i&&r?(console.warn("You can provide `component` OR `heading`, not both."),null):i?p.a.createElement(i,{id:t,testId:c,appearance:n,onClose:o,showKeyline:a,isHeadingMultiline:s}):Object(w.f)(te,{showKeyline:a},Object(w.f)(ne,null,Object(w.f)(be,{appearance:n}),Object(w.f)(ie,{isHeadingMultiline:s,id:t,"data-testid":c&&c+"-heading"},r))):null},t.defaultProps={isHeadingMultiline:!0},t}(p.a.Component);function _e(){return{showFooterKeyline:!1,showHeaderKeyline:!1,showContentFocus:!1,tabbableElements:[]}}var je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.escapeIsHeldDown=!1,t._isMounted=!1,t.scrollContainer=null,t.state=_e(),t.determineKeylines=Object(Y.a)((function(){if(t.scrollContainer){var e=t.scrollContainer,n=e.scrollTop,i=e.scrollHeight,r=e.clientHeight,o=n>2,a=n<=i-r-2,s=i>r;t.setState({showHeaderKeyline:o,showFooterKeyline:a,showContentFocus:s})}})),t.getScrollContainer=function(e){e&&(t.scrollContainer=e)},t.handleKeyUp=function(){t.escapeIsHeldDown=!1},t.handleKeyDown=function(e){var n=t.props,i=n.onClose,r=n.shouldCloseOnEscapePress,o=n.stackIndex,a=void 0===o?0:o;if(!t.escapeIsHeldDown&&("Escape"!==e.key&&"Esc"!==e.key||(t.escapeIsHeldDown=!0),t._isMounted&&!(a>0)))switch(e.key){case"Esc":case"Escape":r&&i(e)}},t.handleStackChange=function(e){var n=t.props.onStackChange;n&&n(e)},t}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){if(this._isMounted=!0,document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){var e=this.scrollContainer;window.addEventListener("resize",this.determineKeylines,!1),e.addEventListener("scroll",this.determineKeylines,!1),this.determineKeylines()}this.props.header&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the header prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.footer&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the footer prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.body&&console.warn("@atlaskit/modal-dialog: Deprecation warning - Use of the body prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead"),this.props.components.Body&&(this.scrollContainer instanceof HTMLElement||console.warn("@atlaskit/modal-dialog: Warning - Ref must attach to a DOM element; check you are using forwardRef and attaching the ref to an appropriate element. Check the examples for more details."))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.stackIndex;e.stackIndex&&e.stackIndex!==t&&this.handleStackChange(e.stackIndex)},t.prototype.componentWillUnmount=function(){if(this._isMounted=!1,document.removeEventListener("keydown",this.handleKeyDown,!1),document.removeEventListener("keyup",this.handleKeyUp,!1),this.scrollContainer){var e=this.scrollContainer;window.removeEventListener("resize",this.determineKeylines,!1),e.removeEventListener("scroll",this.determineKeylines,!1)}},t.prototype.render=function(){var e=this.props,t=e.actions,n=e.appearance,i=e.body,r=e.children,o=e.components,a=e.footer,s=e.header,c=e.heading,l=e.isChromeless,u=e.isHeadingMultiline,f=e.onClose,m=e.shouldScroll,h=e.testId,v=e.headingId,g=this.state,b=g.showFooterKeyline,y=g.showHeaderKeyline,_=g.showContentFocus,j=o.Container,x=void 0===j?"div":j,O=o.Body||i||se;return Object(w.f)(x,{css:ee,"data-testid":h},l?r:Object(w.f)(p.a.Fragment,null,Object(w.f)(ye,{id:v,appearance:n,component:o.Header?o.Header:s,heading:c,onClose:f,isHeadingMultiline:u,showKeyline:y,testId:h}),Object(w.f)(O,Object(d.__assign)({tabIndex:_?0:void 0,css:ae(m)},O.hasOwnProperty("styledComponentId")?{innerRef:this.getScrollContainer}:{ref:this.getScrollContainer}),r),Object(w.f)(fe,{actions:t,appearance:n,component:o.Footer?o.Footer:a,onClose:f,showKeyline:b})),Object(w.f)(Z.a,null))},t.defaultProps={autoFocus:!1,components:{},isChromeless:!1,stackIndex:0,isHeadingMultiline:!0},t}(p.a.Component),we=n("./node_modules/@atlaskit/drawer/node_modules/react-focus-lock/dist/es2015/index.js"),xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isEnabled,n=e.autoFocus;if("function"==typeof n&&t){var i=n();i&&i.focus&&i.focus()}},t.prototype.render=function(){var e=this.props,t=e.isEnabled,n=e.autoFocus,i=e.shouldReturnFocus;return p.a.createElement(we.default,{disabled:!t,autoFocus:!!n,returnFocus:i},this.props.children)},t.defaultProps={autoFocus:!0,isEnabled:!0,shouldReturnFocus:!0},t}(p.a.Component),Oe=function(e){var t=e.scrollBehavior,n=Object(d.__rest)(e,["scrollBehavior"]),i=M;return"outside"===t?i=F:"inside-wide"===t&&(i=N),p.a.createElement(i,Object(d.__assign)({},n))};function ke(){return window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0}var Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dialogNode:null,scrollDistance:h.canUseDOM?ke():0,isExiting:!1},t.handleWindowScroll=function(){ke()!==t.state.scrollDistance&&window.scrollTo(window.pageXOffset,t.state.scrollDistance)},t.handleOverlayClick=function(e){t.props.shouldCloseOnOverlayClick&&t.props.onClose(e)},t}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){var e=ke();ke()!==this.state.scrollDistance&&this.setState({scrollDistance:e}),window.addEventListener("scroll",this.handleWindowScroll)},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleWindowScroll)},t.prototype.render=function(){var e=this,t=this.props,n=t.actions,i=t.appearance,r=t.autoFocus,o=t.body,a=t.children,s=t.components,c=t.footer,l=t.header,d=t.height,u=t.isChromeless,f=t.isHeadingMultiline,m=t.isOpen,h=t.onClose,g=t.onCloseComplete,b=t.onOpenComplete,y=t.onStackChange,w=t.shouldCloseOnEscapePress,x=t.stackIndex,O=t.heading,k=t.width,E=t.scrollBehavior,C=t.testId,I=this.state.scrollDistance,T=null!=x&&x>0,M=k&&-1!==j.values.indexOf(k.toString())?k:void 0,F=M?void 0:k;return p.a.createElement(q,{in:m,onExited:g,onEntered:b,stackIndex:x},(function(t){var g=t.fade,b=t.slide;return p.a.createElement(S,{style:g,"aria-hidden":T,scrollDistance:I},p.a.createElement(xe,{isEnabled:0===x&&m,autoFocus:r},p.a.createElement(_.a,{isTinted:!0,onBlanketClicked:e.handleOverlayClick}),p.a.createElement(Oe,{style:b,scrollBehavior:E,widthName:M,widthValue:F},p.a.createElement(v.b,null,p.a.createElement(v.a,null,(function(e,t){return p.a.createElement(A,{heightValue:d,isChromeless:u,role:"dialog","aria-labelledby":"dialog-heading-"+e,"data-testid":C,tabIndex:-1},p.a.createElement(je,{actions:n,appearance:i,components:s,footer:c,heading:O,headingId:"dialog-heading-"+e,testId:C&&C+"-dialog-content",isHeadingMultiline:f,header:l,onClose:h,shouldScroll:"inside"===E||"inside-wide"===E,shouldCloseOnEscapePress:w,onStackChange:y,isChromeless:u,stackIndex:x,body:o},a))}))))))}))},t.defaultProps={autoFocus:!0,scrollBehavior:"inside",shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,isChromeless:!1,isOpen:!0,stackIndex:0,width:"medium",isHeadingMultiline:!0,onClose:function(){}},t}(p.a.Component),Ce=Object(g.a)("atlaskit"),Se=Object(b.a)({componentName:"modalDialog",packageName:V.a,packageVersion:V.b})(Object(y.a)({onClose:Ce({action:"closed",actionSubject:"modalDialog",attributes:{componentName:"modalDialog",packageName:V.a,packageVersion:V.b}})})(Ee)),Ie=n("./node_modules/@atlaskit/feedback-collector/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalTransition.js"),Te=[],Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={stackIndex:0},t.update=function(){var e=Te.indexOf(t.update);t.state.stackIndex!==e&&t.setState({stackIndex:e})},t}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){Te.forEach((function(e){return e()}))},t.prototype.componentWillUnmount=function(){var e=this;-1!==Te.indexOf(this.update)&&(Te=Te.filter((function(t){return t!==e.update}))).forEach((function(e){return e()}))},t.prototype.componentDidUpdate=function(e){var t=this;e.isOpen&&!this.props.isOpen&&(Te=Te.filter((function(e){return e!==t.update}))).forEach((function(e){return e()}))},t.prototype.render=function(){return-1===Te.indexOf(this.update)&&(Te=Object(d.__spread)([this.update],Te)),this.props.children(this.state.stackIndex)},t}(p.a.Component),Fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onModalClosed=function(e){return function(n){e&&e(),t.props.onCloseComplete&&t.props.onCloseComplete(n)}},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this;return p.a.createElement(Ie.a,null,(function(t){var n=t.isOpen,i=t.onExited;return p.a.createElement(f.a,{zIndex:m.k.modal()},p.a.createElement(Me,{isOpen:n},(function(t){return p.a.createElement(Se,Object(d.__assign)({},e.props,{isOpen:n,stackIndex:e.props.stackIndex||t,onCloseComplete:e.onModalClosed(i)}),e.props.children)})))}))},t.defaultProps={autoFocus:!0,scrollBehavior:"inside",shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,isChromeless:!1,width:"medium",isHeadingMultiline:!0,onClose:function(){}},t}(p.a.Component);t.a=Fe},"./node_modules/@atlaskit/feedback-collector/node_modules/@atlaskit/modal-dialog/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/modal-dialog","b":"11.0.3"}')},"./node_modules/@atlaskit/flag/dist/esm/flag-group.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),a=n("./node_modules/@atlaskit/motion/dist/esm/entering/slide-in.js"),s=n("./node_modules/@atlaskit/motion/dist/esm/utils/curves.js"),c=n("./node_modules/@atlaskit/motion/dist/esm/entering/exiting-persistence.js"),l=n("./node_modules/@atlaskit/portal/dist/esm/components/Portal.js"),d=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),u=Object(d.j)(),p=50*u,f=6*u,m=10*u,h=Object(r.createContext)({dismissAllowed:function(){return!1}});function v(){return Object(r.useContext)(h)}var g,b,y,_="\n  bottom: 0;\n  position: absolute;\n  width: "+p+"px;\n  transition: transform 400ms ease-in-out;\n\n  @media (max-width: 560px) {\n    width: 100vw;\n  }\n\n  &:first-of-type {\n    transition: none;\n    transform: translate(0,0);\n  }\n\n  &:nth-of-type(n + 2) {\n    animation-duration: 0ms;\n    transform: translateX(0) translateY(100%) translateY("+2*u+"px);\n  }\n\n  /* Layer the 'primary' flag above the 'secondary' flag */\n  &:nth-of-type(1) {\n    z-index: 5;\n  }\n  &:nth-of-type(2) {\n    z-index: 4;\n  }\n\n  &:nth-of-type(n + 4) {\n    visibility: hidden;\n  }\n";t.a=function(e){var t=e.label,n=void 0===t?"Flag notifications":t,u=e.labelTag,p=void 0===u?"h2":u,v=e.children,j=e.onDismissed,w=Array.isArray(v)?v.length>0:Boolean(v),x=null;w&&v&&(x=Array.isArray(v)?v[0].props.id:v.props.id);var O={onDismissed:j,dismissAllowed:function(e){return e===x}};return Object(o.f)(h.Provider,{value:O},Object(o.f)(l.a,{zIndex:d.k.flag()},w?Object(o.f)(p,{css:Object(o.e)(b||(b=Object(i.__makeTemplateObject)(["\n              border: 0;\n              clip: rect(1px, 1px, 1px, 1px);\n              height: 1px;\n              overflow: hidden;\n              padding: 0;\n              position: absolute;\n              white-space: nowrap;\n              width: 1px;\n            "],["\n              border: 0;\n              clip: rect(1px, 1px, 1px, 1px);\n              height: 1px;\n              overflow: hidden;\n              padding: 0;\n              position: absolute;\n              white-space: nowrap;\n              width: 1px;\n            "])))},n):null,Object(o.f)("div",{css:Object(o.e)(y||(y=Object(i.__makeTemplateObject)(["\n            bottom: ","px;\n            left: ","px;\n            position: fixed;\n            z-index: ",";\n            @media (max-width: 560px) {\n              bottom: 0;\n              left: 0;\n            }\n          "],["\n            bottom: ","px;\n            left: ","px;\n            position: fixed;\n            z-index: ",";\n            @media (max-width: 560px) {\n              bottom: 0;\n              left: 0;\n            }\n          "])),f,m,d.k.flag())},Object(o.f)(c.a,{appear:!1},function(){return!!v&&r.Children.map(v,(function(e,t){var n=0===t,r=e.props.id;return Object(o.f)(a.a,{key:r,enterFrom:"left",fade:"inout",duration:400,animationTimingFunction:function(){return s.a}},(function(t){return Object(o.f)("div",Object(i.__assign)({},t,{css:Object(o.e)(g||(g=Object(i.__makeTemplateObject)(["\n                    ","\n                    ","\n                  "],["\n                    ","\n                    ","\n                  "])),_,n?"\n                    && + * {\n                     transform: translate(0, 0);\n                     transition-duration: 200ms\n                   }":"")}),e)}))}))}()))))}},"./node_modules/@atlaskit/flag/dist/esm/flag.js":function(e,t,n){"use strict";var i,r,o,a,s=n("./node_modules/tslib/tslib.es6.js"),c=n("./node_modules/react/index.js"),l=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),d=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/chevron-down.js"),u=n.n(d),p=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/chevron-up.js"),f=n.n(p),m=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/cross.js"),h=n.n(m),v=n("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),g=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),b=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),y={error:{light:b.R400,dark:b.R300},info:{light:b.N500,dark:b.N500},normal:{light:b.N0,dark:b.DN50},success:{light:b.G400,dark:b.G300},warning:{light:b.Y200,dark:b.Y300}},_=function(e,t){return y[e][t]},j=b.N60A,w={error:{light:b.N0,dark:b.DN40},info:{light:b.N0,dark:b.DN600},normal:{light:b.N500,dark:b.DN600},success:{light:b.N0,dark:b.DN40},warning:{light:b.N700,dark:b.DN40}},x=function(e,t){return w[e][t]},O=b.N50A,k={error:{light:b.N40,dark:b.N40},info:{light:b.N40,dark:b.N40},normal:{light:b.B100,dark:b.B100},success:{light:b.N40,dark:b.N40},warning:{light:b.N200,dark:b.N200}},E=function(e,t){return k[e][t]},C={success:{light:"rgba(255, 255, 255, 0.08)",dark:b.N30A},info:{light:"rgba(255, 255, 255, 0.08)",dark:"rgba(255, 255, 255, 0.08)"},error:{light:"rgba(255, 255, 255, 0.08)",dark:b.N30A},warning:{light:b.N30A,dark:b.N30A},normal:{light:"none",dark:"none"}},S={success:{light:b.N0,dark:b.DN40},info:{light:b.N0,dark:b.DN600},error:{light:b.N0,dark:b.DN600},warning:{light:b.N700,dark:b.DN40},normal:{light:b.B400,dark:b.B100}},I=function(e,t){return C[e][t]},T=function(e,t){return S[e][t]},M=n("./node_modules/@atlaskit/flag/dist/esm/use-analytics-handler.js"),F=n("./node_modules/@atlaskit/flag/dist/esm/version.json"),N=n("./node_modules/@atlaskit/motion/dist/esm/entering/exiting-persistence.js"),A=n("./node_modules/@atlaskit/motion/dist/esm/entering/fade-in.js"),P=5*Object(g.j)(),D=function(e){var t=e.children,n=e.isExpanded,r=e.testId;return Object(l.f)("div",{"aria-hidden":!n,css:Object(l.e)(i||(i=Object(s.__makeTemplateObject)(["\n        max-height: ","px;\n        overflow: hidden;\n        transition: max-height 0.3s;\n        display: flex;\n        flex: 1 1 100%;\n        flex-direction: column;\n        justify-content: center;\n        min-width: 0;\n        padding: 0 0 0 ","px;\n      "],["\n        max-height: ","px;\n        overflow: hidden;\n        transition: max-height 0.3s;\n        display: flex;\n        flex: 1 1 100%;\n        flex-direction: column;\n        justify-content: center;\n        min-width: 0;\n        padding: 0 0 0 ","px;\n      "])),n?150:0,P),"data-testid":r&&r+"-expander"},Object(l.f)(N.a,{appear:!0},n&&Object(l.f)(A.a,null,(function(e){return Object(l.f)("div",Object(s.__assign)({},e),t)}))))},L=n("./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/components/Button.js"),U=Object(g.j)(),R=2*U,z=U/2,B=function(e){var t=e.appearance,n=void 0===t?"normal":t,i=e.actions,c=void 0===i?[]:i,d=e.linkComponent,u=e.mode,p=e.testId;if(!c.length)return null;var f="normal"!==n;return Object(l.f)("div",{css:Object(l.e)(r||(r=Object(s.__makeTemplateObject)(["\n        display: flex;\n        flex-wrap: wrap;\n        padding-top: ","px;\n        transform: ",";\n        align-items: center;\n      "],["\n        display: flex;\n        flex-wrap: wrap;\n        padding-top: ","px;\n        transform: ",";\n        align-items: center;\n      "])),U,"normal"===n?"translateX(-"+z+"px)":0),"data-testid":p&&p+"-actions"},c.map((function(e,t){return[t&&!f?Object(l.f)("div",{css:Object(l.e)(o||(o=Object(s.__makeTemplateObject)(["\n              text-align: center;\n              display: inline-block;\n              width: ","px;\n            "],["\n              text-align: center;\n              display: inline-block;\n              width: ","px;\n            "])),R),key:t+.5},"\xb7"):"",Object(l.f)(L.a,{onClick:e.onClick,href:e.href,target:e.target,appearance:f?n:"link",component:d,spacing:"compact",testId:e.testId,key:t,css:Object(l.e)(a||(a=Object(s.__makeTemplateObject)(["\n            &,\n            a& {\n              margin-left: ","px;\n              font-weight: 500;\n              padding: 0 ","px !important;\n              background: ",";\n              color: "," !important;\n            }\n            &:focus,\n            a&:focus {\n              box-shadow: 0 0 0 2px ",";\n            }\n            &:hover,\n            &:active,\n            a&:hover,\n            a&:active {\n              text-decoration: underline;\n            }\n          "],["\n            &,\n            a& {\n              margin-left: ","px;\n              font-weight: 500;\n              padding: 0 ","px !important;\n              background: ",";\n              color: "," !important;\n            }\n            &:focus,\n            a&:focus {\n              box-shadow: 0 0 0 2px ",";\n            }\n            &:hover,\n            &:active,\n            a&:hover,\n            a&:active {\n              text-decoration: underline;\n            }\n          "])),t&&f?U:0,"normal"===n?0:U,I(n,u),T(n,u),E(n,u))},e.content)]})))},H=n("./node_modules/@atlaskit/flag/dist/esm/flag-group.js");function G(){}var W,V,K,q,Y,J={componentName:"flag",packageName:F.a,packageVersion:F.b},Z=Object(g.j)(),X=2*Z,Q=4*Z;t.a=function(e){var t=e.actions,n=void 0===t?[]:t,i=e.appearance,r=void 0===i?"normal":i,o=e.icon,a=e.title,d=e.description,p=e.linkComponent,m=e.onMouseOver,b=e.onFocus,y=void 0===b?G:b,w=e.onMouseOut,k=e.onBlur,C=void 0===k?G:k,S=e.testId,I=e.id,T=e.analyticsContext,F=Object(H.b)(),N=F.onDismissed,A=void 0===N?G:N,P=(0,F.dismissAllowed)(I),L=Object(s.__read)(Object(c.useState)(!1),2),U=L[0],R=L[1],z=Object(M.a)(Object(s.__assign)({fn:A,action:"dismissed",analyticsData:T},J)),$="normal"!==r,ee=Object(c.useCallback)((function(e){var t=e.mode;if(!$&&!P)return null;if($&&!d&&!n.length)return null;var i=h.a,o="Dismiss flag",a=function(){P&&z(I)},c="small",p=S&&S+"-dismiss";return $&&(i=U?f.a:u.a,o="Toggle flag body",a=function(){return R(!U)},c="large",p=S&&S+"-toggle"),Object(l.f)("button",{css:Object(l.e)(W||(W=Object(s.__makeTemplateObject)(["\n            appearance: none;\n            background: none;\n            border: none;\n            border-radius: ","px;\n            color: ",";\n            cursor: pointer;\n            flex: 0 0 auto;\n            line-height: 1;\n            margin-left: ","px;\n            padding: 0;\n            white-space: nowrap;\n            &:focus {\n              outline: none;\n              box-shadow: 0 0 0 2px ",";\n            }\n          "],["\n            appearance: none;\n            background: none;\n            border: none;\n            border-radius: ","px;\n            color: ",";\n            cursor: pointer;\n            flex: 0 0 auto;\n            line-height: 1;\n            margin-left: ","px;\n            padding: 0;\n            white-space: nowrap;\n            &:focus {\n              outline: none;\n              box-shadow: 0 0 0 2px ",";\n            }\n          "])),Object(g.d)(),x(r,t),Z,E(r,t)),"aria-expanded":U,onClick:a,"data-testid":p,type:"button"},Object(l.f)(i,{label:o,size:c}))}),[n.length,r,d,I,$,P,U,z,S]),te=Object(c.useCallback)((function(e){e.preventDefault()}),[]);Object(c.useEffect)((function(){$&&U&&!d&&!n.length&&R(!1)}),[n.length,d,$,U]);var ne={onMouseOver:m,onFocus:Object(M.a)(Object(s.__assign)({fn:y,action:"focused",analyticsData:T},J)),onMouseOut:w,onBlur:Object(M.a)(Object(s.__assign)({fn:C,action:"blurred",analyticsData:T},J))},ie=ee,re="0 20px 32px -8px "+O;return $||(re="0 0 1px "+j+", "+re),Object(l.f)(v.a.Consumer,null,(function(e){var t=e.mode,i=x(r,t);return Object(l.f)("div",Object(s.__assign)({css:Object(l.e)(V||(V=Object(s.__makeTemplateObject)(["\n              background-color: ",";\n              border-radius: ","px;\n              box-sizing: border-box;\n              box-shadow: ",";\n              color: ",";\n              padding: ","px;\n              transition: background-color 200ms;\n              width: 100%;\n              z-index: ",";\n\n              &:focus {\n                outline: none;\n                box-shadow: 0 0 0 2px ",";\n              }\n            "],["\n              background-color: ",";\n              border-radius: ","px;\n              box-sizing: border-box;\n              box-shadow: ",";\n              color: ",";\n              padding: ","px;\n              transition: background-color 200ms;\n              width: 100%;\n              z-index: ",";\n\n              &:focus {\n                outline: none;\n                box-shadow: 0 0 0 2px ",";\n              }\n            "])),_(r,t),Object(g.d)(),re,i,X,g.k.flag(),E(r,t)),role:"alert",tabIndex:0,onMouseDown:te,"data-testid":S},ne),Object(l.f)("div",{css:Object(l.e)(K||(K=Object(s.__makeTemplateObject)(["\n                display: flex;\n                align-items: center;\n                height: ","px;\n              "],["\n                display: flex;\n                align-items: center;\n                height: ","px;\n              "])),Q)},o,Object(l.f)("span",{css:Object(l.e)(q||(q=Object(s.__makeTemplateObject)(["\n                  color: ",";\n                  font-weight: 600;\n                  flex: 1;\n                  overflow: hidden;\n                  text-overflow: ellipsis;\n                  white-space: nowrap;\n                  padding: 0 0 0 ","px;\n                "],["\n                  color: ",";\n                  font-weight: 600;\n                  flex: 1;\n                  overflow: hidden;\n                  text-overflow: ellipsis;\n                  white-space: nowrap;\n                  padding: 0 0 0 ","px;\n                "])),i,X)},a),Object(l.f)(ie,{mode:t})),Object(l.f)(D,{isExpanded:!$||U,testId:S},d&&Object(l.f)("div",{css:Object(l.e)(Y||(Y=Object(s.__makeTemplateObject)(["\n                    color: ",";\n                    word-wrap: break-word;\n                  "],["\n                    color: ",";\n                    word-wrap: break-word;\n                  "])),i),"data-testid":S&&S+"-description"},d),Object(l.f)(B,{actions:n,appearance:r,linkComponent:p,testId:S,mode:t})))}))}},"./node_modules/@atlaskit/flag/dist/esm/use-analytics-handler.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/useAnalyticsEvents.js");function a(e){var t=e.fn,n=e.action,a=e.componentName,s=e.packageName,c=e.packageVersion,l=e.analyticsData,d=Object(o.a)().createAnalyticsEvent,u=Object(r.useRef)(l);return Object(r.useEffect)((function(){u.current=l}),[l]),Object(r.useCallback)((function(e){var r=d({action:n,actionSubject:a,attributes:{componentName:a,packageName:s,packageVersion:c}}),o=Object(i.__assign)({componentName:a,packageName:s,packageVersion:c},u.current);r.context.push(o);var l=r.clone();l&&l.fire("atlaskit"),t(e,r)}),[t,n,a,s,c,d])}},"./node_modules/@atlaskit/flag/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/flag","b":"14.0.0"}')},"./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./node_modules/tslib/tslib.es6.js"),o=r.__importStar(n("./node_modules/react/index.js")),a=r.__importDefault(n("./node_modules/styled-components/dist/styled-components.browser.esm.js")),s=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),c={small:{height:"16px",width:"16px"},medium:{height:"24px",width:"24px"},xlarge:{height:"64px",width:"48px"}},l=function(e){return e.size?"height: "+c[e.size].height+"; width: "+c[e.size].width+";":null},d=a.default.span(i||(i=r.__makeTemplateObject(["\n"," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],["\n"," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"])),l,(function(e){return e.primaryColor||"currentColor"}),(function(e){return e.secondaryColor||s.background}),l),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.dangerouslySetGlyph,n=e.label,i=e.size;return o.default.createElement(d,{size:i,"aria-label":n||void 0,role:n?"img":"presentation",dangerouslySetInnerHTML:t?{__html:t}:void 0})},t}(o.Component);t.default=u,t.size=Object.keys(c).reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=t,n))}),{})},"./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#007442" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17zM6.93 15.5l2.25-3.55-2.236-3.496h1.734l1.47 2.466h.087l1.485-2.466h1.65l-2.32 3.52 2.286 3.526h-1.68l-1.513-2.388h-.088L8.52 15.5H6.93z"/></svg>'},e,{size:"medium"}))};s.displayName="ExcelSpreadsheet24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/executable/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm2 13v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5H5zm1.883-8a1 1 0 0 0-.992.876L5 13h14l-.89-7.124A1 1 0 0 0 17.116 5H6.883zM8 15h8a1 1 0 0 1 0 2H8a1 1 0 0 1 0-2z"/></svg>'},e,{size:"medium"}))};s.displayName="Executable24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/figma/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.248 0A3.248 3.248 0 0 0 0 3.248v17.504A3.248 3.248 0 0 0 3.248 24h17.504A3.248 3.248 0 0 0 24 20.752V3.248A3.248 3.248 0 0 0 20.752 0H3.248zm8.755 17.012a2.506 2.506 0 0 1-2.505 2.507 2.506 2.506 0 0 1 0-5.013 2.506 2.506 0 0 1 0-5.012 2.506 2.506 0 0 1 0-5.013h5.009a2.506 2.506 0 0 1 0 5.013h-2.505v2.5a2.506 2.506 0 0 1 2.505-2.5 2.506 2.506 0 0 1 0 5.012 2.506 2.506 0 0 1-2.505-2.5v5.006z" fill="#5243AA"/></svg>'},e,{size:"medium"}))};s.displayName="Figma24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/gif/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm10.564 16.636h-1.93a.243.243 0 0 1-.244-.243V8.384c0-.135.108-.243.243-.243h1.93c.135 0 .244.108.244.243v8.009a.243.243 0 0 1-.243.243m3.79 0h-1.931a.243.243 0 0 1-.243-.243V8.384c0-.135.109-.243.243-.243h5.334c.133 0 .243.108.243.243v1.573c0 .134-.11.243-.243.243h-3.16v1.42h2.848c.135 0 .244.11.244.244v1.518a.243.243 0 0 1-.244.244h-2.847v2.767c0 .134-.11.243-.244.243m-10.567.146C4.416 16.782 3 15.31 3 12.843v-.962C3 9.487 4.453 8 6.793 8c2.314 0 3.436 1.467 3.522 2.922a.241.241 0 0 1-.242.258H8.195a.243.243 0 0 1-.24-.2c-.1-.55-.552-.892-1.18-.892-1.108 0-1.34.985-1.34 1.81v.94c0 1.231.467 1.856 1.393 1.856.885 0 1.2-.538 1.2-1v-.092H6.874a.243.243 0 0 1-.243-.243v-1.373c0-.134.11-.243.243-.243h3.216c.134 0 .243.109.243.243v1.555c0 1.496-.929 3.241-3.546 3.241"/></svg>'},e,{size:"medium"}))};s.displayName="Gif24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-doc/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#2196F3" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleDoc24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-form/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#673AB7" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleForm24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#0A9D58" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleSheet24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/google-slide/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FFC107" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))};s.displayName="GoogleSlide24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.846 12.17h.483c1.116 0 1.203-.322 1.203-.776 0-.518-.268-.771-.817-.771h-.869v1.546zm6.29 2.183h.664c.742 0 1.501-.22 1.501-1.855 0-1.65-.802-1.86-1.501-1.86h-.665v3.715zM4.462 15.99h-1.08A.384.384 0 0 1 3 15.606V9.383c0-.21.171-.383.383-.383h2.494c1.483 0 2.52.984 2.52 2.394 0 1.43-1.015 2.39-2.525 2.39H4.846v1.822a.384.384 0 0 1-.383.384zm7.45 0h-2.24a.384.384 0 0 1-.384-.384V9.383c0-.21.172-.383.383-.383h2.242c2.107 0 3.268 1.237 3.268 3.484 0 2.26-1.16 3.506-3.268 3.506zm5.776 0h-1.08a.384.384 0 0 1-.384-.384V9.383c0-.21.172-.383.383-.383h4.009c.21 0 .383.172.383.383v.88a.383.383 0 0 1-.383.383h-2.545v1.14h2.292c.212 0 .383.172.383.383v.867c0 .21-.171.383-.383.383h-2.292v2.187a.384.384 0 0 1-.383.384z"/></svg>'},e,{size:"medium"}))};s.displayName="PdfDocument24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#CA5010" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17zM7.854 8.454h2.94c1.45 0 2.441.972 2.441 2.437 0 1.45-1.03 2.421-2.514 2.421H9.329V15.5H7.854V8.454zM9.33 9.665v2.451h1.07c.844 0 1.337-.43 1.337-1.22 0-.801-.483-1.231-1.333-1.231H9.33z"/></svg>'},e,{size:"medium"}))};s.displayName="PowerpointPresentation24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/presentation/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#6554C0" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm3 14a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0v-3a1 1 0 0 0-1-1zm8-6a1 1 0 0 0-1 1v9a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1zm-4 4a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1zm8-7a1 1 0 0 0-1 1v12a1 1 0 0 0 2 0V6a1 1 0 0 0-1-1z"/></svg>'},e,{size:"medium"}))};s.displayName="Presentation24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/sketch/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#FF8B00" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm9.03 20h.001c.29-.001.562-.126.752-.343l6.971-8a1 1 0 0 0 .095-1.185l-2.485-4a1.003 1.003 0 0 0-.85-.472h-8.84c-.334 0-.646.167-.832.444l-2.674 4a1 1 0 0 0 .081 1.216l7.03 8c.188.216.462.34.75.34z"/></svg>'},e,{size:"medium"}))};s.displayName="Sketch24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/source-code/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#00B8D9" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm5.017 12.265l-2.58-2.501L8.236 7.05a.999.999 0 1 0-1.392-1.436l-3.54 3.432a1 1 0 0 0 0 1.436l3.32 3.219a1 1 0 1 0 1.393-1.436zm6.638-8.21a1 1 0 0 0-1.271.62l-4.83 14.046a1 1 0 0 0 1.892.65l4.829-14.045a1 1 0 0 0-.62-1.271zm6.081 9.776l-3.32-3.219a.999.999 0 1 0-1.393 1.436l2.58 2.501-2.799 2.714a.999.999 0 1 0 1.392 1.436l3.54-3.432a1 1 0 0 0 0-1.436z"/></svg>'},e,{size:"medium"}))};s.displayName="SourceCode24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm2 5a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2H5zm0 4a1 1 0 1 0 0 2h3a1 1 0 0 0 0-2H5zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2H5zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2H5zm7-12a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2h-7z"/></svg>'},e,{size:"medium"}))};s.displayName="Spreadsheet24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/icon-file-type/glyph/word-document/24.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./node_modules/react/index.js")),r=o(n("./node_modules/@atlaskit/icon-file-type/cjs/components/Icon.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=function(e){return i.default.createElement(r.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path fill="#004E8C" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm1.376 6.013A.437.437 0 0 0 4 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 0 0 .497-.434V4.868a.437.437 0 0 0-.499-.434L4.376 6.014zm5.629 5.324L8.687 16H7.295L5.43 8.954h1.533l1.099 4.966h.078l1.284-4.966h1.245l1.309 4.966h.078l1.089-4.966h1.523L12.798 16h-1.382l-1.333-4.663h-.078zM17 7v10h2.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5H17z"/></svg>'},e,{size:"medium"}))};s.displayName="WordDocument24Icon";var c=s;t.default=c},"./node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),s={},c=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new r.ReplaySubject(1),a=Object(i.a)({id:e},t),s=Object(o.h)({data:a});return n.next(s),n},e.prototype.populateCache=function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);Object(a.b)().set(e.id,n)}))},e.prototype.removeFromCache=function(e,t){var n=s[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(Object(a.b)().remove(e),s[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;s[e]||(s[e]=function(){return{items:[],subject:new r.ReplaySubject(1),isLoadingNextPage:!1}}());var o=s[e],a=o.subject;return this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{details:"full"})).then((function(e){var t=e.data,i=t.contents,r=t.nextInclusiveStartKey;n.populateCache(i),o.items=e.data.contents,o.nextInclusiveStartKey=r,a.next(o.items)})).catch((function(e){return a.error(e)})),a},e.prototype.removeFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return i.sent(),this.removeFromCache(e,t),(r=s[t]).subject.next(r.items),[2]}}))}))},e.prototype.loadNextPage=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,c,l,d,u,p,f,m,h;return Object(i.d)(this,(function(v){switch(v.label){case 0:return n=s[e],r=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!r?(n.isLoadingNextPage=!0,o=s[e],a=o.nextInclusiveStartKey,c=o.items,l=o.subject,[4,this.mediaStore.getCollectionItems(e,Object(i.a)(Object(i.a)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return d=v.sent(),u=d.data,p=u.contents,f=u.nextInclusiveStartKey,this.populateCache(p),m=d.data.contents,h=Object(i.g)(c,m),l.next(h),s[e]={items:h,nextInclusiveStartKey:f,subject:l,isLoadingNextPage:!1},[2]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/dataloader/index.js"),s=n.n(a),c=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),l=n("./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js"),d=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),u=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),p=n("./node_modules/@atlaskit/media-client/dist/esm/uploader.js"),f=n("./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),m=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),h=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),v=n("./node_modules/uuid-validate/index.js"),g=n.n(v),b=n("./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),y=function(e,t){return Object(d.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},_=n("./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),j=function(e){return new Promise((function(t,n){var i=URL.createObjectURL(e),r=new Image;r.src=i,r.onload=function(){var e={width:r.width,height:r.height};URL.revokeObjectURL(i),t(e)},r.onerror=n}))},w=n("./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),x=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),O=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),k=function(e,t,n){return("doc"===e||!Object(x.d)(t)||!n)&&Object(O.d)(t)},E=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js"),C={poll_intervalMs:Object(E.a)("poll_intervalMs"),poll_maxAttempts:Object(E.a)("poll_maxAttempts"),poll_backoffFactor:Object(E.a)("poll_backoffFactor"),poll_maxIntervalMs:Object(E.a)("poll_maxIntervalMs"),poll_maxGlobalFailures:Object(E.a)("poll_maxGlobalFailures")},S=function(){function e(e){this.poll_intervalMs=0,this.attempt=1,this.shouldIterate=!0,this.timeoutId=0,this.options=Object(i.a)(Object(i.a)({},C),e),this.poll_intervalMs=this.options.poll_intervalMs}return e.prototype.execute=function(t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(n=this.options,r=n.poll_maxAttempts,o=n.poll_maxGlobalFailures,e.failures>=o)return[2,this.fail(new Error("Maximum failures exceeded"))];if(0===r)return[2,this.fail(new Error("Maximum attempts exceeded"))];i.label=1;case 1:return i.trys.push([1,3,,4]),this.shouldIterate=!1,[4,t()];case 2:return i.sent(),this.shouldIterate&&(this.attempt++,this.attempt<=r?(this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt-1),this.timeoutId=window.setTimeout((function(){return s.execute(t)}),this.poll_intervalMs)):this.fail(new Error("Maximum attempts exceeded"))),[3,4];case 3:return a=i.sent(),this.fail(a),[3,4];case 4:return[2]}}))}))},e.prototype.fail=function(t){var n=this.onError;e.failures+=1,this.cancel(),n&&n(t)},e.prototype.getIntervalMsForIteration=function(e){var t=this.options.poll_intervalMs;if(1===e)return t;for(var n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)},e.prototype.next=function(){this.shouldIterate=!0},e.prototype.cancel=function(){window.clearTimeout(this.timeoutId),this.timeoutId=0},e.failures=0,e}(),I=function(e,t){return t?e+"-"+t:e},T=function(e){return e.error instanceof Error},M=function(e,t){var n=t.reduce((function(e,t){var n=t.id,i=t.collection;return e[I(n,i)]=T(t)?t:t.details,e}),{});return e.map((function(e){var t=e.id,i=e.collection,r=I(t,i);return n[r]}))},F=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r=this;return Object(i.d)(this,(function(o){switch(o.label){case 0:return"__media-single-file-collection__",t=e.reduce((function(e,t){var n=t.collection||"__media-single-file-collection__",i=e[n]||[];return i.push(t.id),e[n]=i,e}),{}),n=[],[4,Promise.all(Object.keys(t).map((function(e){return Object(i.b)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.d)(this,(function(c){switch(c.label){case 0:r=t[e],o="__media-single-file-collection__"===e?void 0:e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.mediaStore.getItems(r,o)];case 2:return a=c.sent(),n.push.apply(n,Object(i.g)(a.data.items)),[3,4];case 3:return s=c.sent(),r.forEach((function(e){n.push({id:e,error:s||new Error("Failed to fetch"),collection:o})})),[3,4];case 4:return[2]}}))}))})))];case 1:return o.sent(),[2,M(e,n)]}}))}))},this.createDownloadFileStream=function(e,n){var r=Object(w.a)(),o=t.mediaStore.featureFlags,a={poll_intervalMs:Object(E.a)("poll_intervalMs",o),poll_maxAttempts:Object(E.a)("poll_maxAttempts",o),poll_backoffFactor:Object(E.a)("poll_backoffFactor",o),poll_maxIntervalMs:Object(E.a)("poll_maxIntervalMs",o),poll_maxGlobalFailures:o&&o.poll_maxGlobalFailures},s=new S(a);return s.onError=function(e){return r.error(e)},s.execute((function(){return Object(i.b)(t,void 0,void 0,(function(){var t,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.dataloader.load({id:e,collection:n})];case 1:if(!(t=i.sent()))return[2];if(T(t))return r.error(t),[2];switch(o=Object(d.i)(e,t),r.next(o),o.status){case"processing":s.next();break;case"processed":r.complete()}return[2]}}))}))})),r},this.dataloader=new s.a(this.batchLoadingFunc,{maxBatchSize:100})}return e.prototype.getFileState=function(e,t){var n=this;if(!g()(e)){var i=Object(w.a)();return i.error("invalid id was passed to getFileState"),i}return Object(u.b)().getOrInsert(e,(function(){var i=t&&t.collectionName;return n.createDownloadFileStream(e,i)}))},e.prototype.getCurrentState=function(e,t){return Object(_.a)(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=o()(),n=o()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((function(e){return e.created[0].uploadId}))}},e.prototype.uploadExternal=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l,d,p=this;return Object(i.d)(this,(function(f){return n=this.generateUploadableFileUpfrontIds(t),r=n.id,o=n.occurrenceKey,a=Object(w.a)(),s=fetch(e).then((function(e){return e.blob()})).catch((function(){})),c=new Promise((function(e,t){return Object(i.b)(p,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(n=i.sent())||t("Could not fetch the blob"),e({value:n,origin:"remote"}),[2]}}))}))})),l=e.split("/").pop()||"",d={status:"processing",name:l,size:0,mediaType:"unknown",mimeType:"",id:r,occurrenceKey:o,preview:c},a.next(d),Object(u.b)().set(r,a),[2,new Promise((function(e,d){return Object(i.b)(p,void 0,void 0,(function(){var u,p,f,m,h,v;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(u=i.sent())?(p=u.type,f=u.size,m={content:u,mimeType:p,collection:t,name:l},h=Object(b.a)(p),a.next({status:"processing",name:l,size:f,mediaType:h,mimeType:p,id:r,occurrenceKey:o,preview:c}),this.upload(m,void 0,n),[4,j(u)]):[2,d("Could not download remote file")];case 2:return v=i.sent(),e({dimensions:v,uploadableFileUpfrontIds:n}),[2]}}))}))}))]}))}))},e.prototype.upload=function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),i=[],r=function(e){var t=n.slice(e,e+512),r=t.split("").map((function(e,n){return t.charCodeAt(n)})),o=new Uint8Array(r);i.push(o)},o=0;o<n.length;o+=512)r(o);return new Blob(i,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var l,d,f=n.id,m=n.occurrenceKey,h="",v=0,g=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(b.a)(t)}return"unknown"}(e),_=Object(w.a)();o instanceof Blob&&(v=o.size,h=o.type,Object(x.d)(o.type)&&(l={value:o,origin:"local"}));var j={id:f,occurrenceKey:m,name:s,size:v,mediaType:g,mimeType:h,preview:l},O=function(e){_.next(Object(i.a)(Object(i.a)({status:"uploading"},j),{progress:e}))},E=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e){if("canceled"!==e){var t=e instanceof Error?e.message:e;_.next({id:f,status:"error",message:t})}return _.error(e)}k(g,h,l)?d=r.createDownloadFileStream(f,c).subscribe({next:function(e){return _.next(Object(i.a)(Object(i.a)(Object(i.a)({},j),e),y(e,g)))},error:function(e){return _.error(e)},complete:function(){return _.complete()}}):(_.next(Object(i.a)({status:"processing",representations:{}},j)),_.complete())},onProgress:O}).cancel;return Object(u.b)().set(f,_),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){E(),d&&d.unsubscribe()})),_},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return r=i.sent(),Object(l.a)(r,{name:t}),f.a.emit("media-viewed",{fileId:e,isUserCollection:n===m.c,viewingLevel:"download"}),[2]}}))}))},e.prototype.copyFile=function(e,t,n){return void 0===n&&(n={}),Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s,l,p,f,m,v,g,_,j,x,O,E,C,S,I,T,M,F,N,A,P,D,L,U;return Object(i.d)(this,(function(R){switch(R.label){case 0:return r=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,l=t.collection,p=t.replaceFileId,f=t.occurrenceKey,m=n.preview,v=n.mimeType,g=t.mediaStore||new h.a({authProvider:s}),j=c.authToOwner,[4,r({collectionName:o})];case 1:_=j.apply(void 0,[R.sent()]),x={sourceFile:{id:a,collection:o,owner:_}},O={collection:l,replaceFileId:p,occurrenceKey:f},E=Object(u.b)(),R.label=2;case 2:return R.trys.push([2,4,,5]),[4,g.copyFileWithToken(x,O)];case 3:return S=R.sent().data,I=Object(i.a)(Object(i.a)({},S),v?{mimeType:v}:void 0),T=I.id,M=I.mimeType,F=M?Object(b.a)(M):"unknown",N=Object(d.h)({data:I}),U=E.get(T),A=U||Object(w.a)(),P=!Object(d.a)(N)&&m?{preview:m}:{},!Object(d.b)(N)&&M&&k(F,M,m)?(A.next(Object(i.a)(Object(i.a)(Object(i.a)({},N),y(N,F)),P)),C=this.createDownloadFileStream(T,l).subscribe({next:function(e){return A.next(Object(i.a)(Object(i.a)(Object(i.a)({},e),y(e,F)),!Object(d.a)(e)&&P))},error:function(e){return A.error(e)},complete:function(){return A.complete()}})):Object(d.f)(N)||A.next(Object(i.a)(Object(i.a)({},N),!Object(d.a)(N)&&P)),E.has(T)||Object(u.b)().set(T,A),[2,S];case 4:throw D=R.sent(),C&&C.unsubscribe(),p&&(L={id:a,status:"error",message:"error copying file to "+l},(U=E.get(p))?U.next(L):E.set(a,Object(w.a)(L))),D;case 5:return[2]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),s=n("./node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),c=n("./node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),l=function(){function e(e,t){this.mediaClientConfig=e,this.featureFlags=t,this.mediaStore=new o.a({authProvider:e.authProvider},t),this.config=e,this.collection=new a.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new r.EventEmitter2,this.stargate=new c.a(e.stargateBaseUrl)}return e.prototype.getImage=function(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}}))}))},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),a=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),s={"max-age":a.a,allowAnimated:!0,mode:"crop"},c={limit:30,sortDirection:"desc"},l=function(e,t){return void 0===t&&(t=!1),Object(i.a)(Object(i.a)(Object(i.a)({},s),e),t?{width:a.b,height:a.b}:{})},d={Accept:"application/json","Content-Type":"application/json"},u=function(){function e(e,t){var n=this;this.config=e,this.featureFlags=t,this.getFile=function(e,t){return void 0===t&&(t={}),n.request("/file/"+e,{params:t,authContext:{collectionName:t.collection}}).then(r.d)},this.getFileImageURL=function(e,t){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider()];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/image",{params:l(t),auth:n})]}}))}))},this.getArtifactURL=function(e,t,s){return Object(i.b)(n,void 0,void 0,(function(){var n,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(!(n=Object(o.a)(e,t)))throw new Error("artifact "+t+" not found");return[4,this.config.authProvider({collectionName:s})];case 1:return c=i.sent(),[2,Object(r.a)(""+c.baseUrl+n,{params:{collection:s,"max-age":a.a},auth:c})]}}))}))},this.getImage=function(e,t,o,a){return Object(i.b)(n,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){return!1,[2,this.request("/file/"+e+"/image",{headers:n,params:l(t,a),authContext:{collectionName:t&&t.collection}},o).then(r.c)]}))}))},this.getItems=function(e,t){var i=e.map((function(e){return{type:"file",id:e,collection:t}}));return n.request("/items",{method:"POST",body:JSON.stringify({descriptors:i}),headers:d,authContext:{collectionName:t}}).then(r.d)},this.getImageMetadata=function(e,t){return n.request("/file/"+e+"/image/metadata",{params:t,authContext:{collectionName:t&&t.collection}}).then(r.d)}}return e.prototype.getCollectionItems=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,o,a,s;return Object(i.d)(this,(function(l){switch(l.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(i.a)(Object(i.a)({},c),t),headers:{Accept:"application/json"}})];case 1:return n=l.sent(),[4,Object(r.d)(n)];case 2:return o=l.sent().data,a=o.contents,s=o.nextInclusiveStartKey,[2,{data:{contents:a.filter((function(e){return e.details.size&&e.details.size>0})),nextInclusiveStartKey:s}}]}}))}))},e.prototype.removeCollectionFile=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return i.sent(),[2]}}))}))},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(r.d)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(r.e)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:d}).then(r.d)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:d}).then(r.d)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:d,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(r.d)},e.prototype.getFileBinaryURL=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider({collectionName:t})];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:t,"max-age":a.a},auth:n})]}}))}))},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:d}).then(r.e)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:d,params:t}).then(r.d)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(i.b)(this,void 0,void 0,(function(){var o,a,s,c,l,d,u,p;return Object(i.d)(this,(function(i){switch(i.label){case 0:return o=this.config.authProvider,a=t.method,s=t.authContext,c=t.params,l=t.headers,d=t.body,[4,o(s)];case 1:return u=i.sent(),[4,Object(r.f)(""+u.baseUrl+e,{method:a,auth:u,params:c,headers:l,body:d},n)];case 2:return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}((p=i.sent()).headers.get("x-media-region")),[2,p]}}))}))},e}()},"./node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=function(){function e(e){this.baseUrl=e||"/gateway/api"}return e.prototype.fetchToken=function(e){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.baseUrl+"/media/auth/smartedge",{credentials:"include",headers:{"x-client-id":e}})];case 1:return[2,t.sent().json()]}}))}))},e.prototype.isTokenExpired=function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0},e}()},"./node_modules/@atlaskit/media-client/dist/esm/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i="recents",r=2592e3,o=4096},"./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,r=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!1,configurable:!0}),e}(),o=function(){if(!i){var e=n("./node_modules/@atlaskit/media-core/dist/esm/index.js").mediaState;i=new r(e.streams)}return i}},"./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),r={on:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return p}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=function(e){return"uploading"===e.status},o=function(e){return"processing"===e.status},a=function(e){return"processed"===e.status},s=function(e){return"error"===e.status},c=function(e){return!s(e)&&!!e.preview},l=function(e){return["processed","failed-processing","error"].includes(e.status)},d=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},u=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return Object(i.a)(Object(i.a)({},c),{status:"processing"});case"succeeded":return Object(i.a)(Object(i.a)({},c),{status:"processed"});case"failed":return Object(i.a)(Object(i.a)({},c),{status:"failed-processing"})}},p=function(e,t){return u({data:Object(i.a)({id:e},t)})}},"./node_modules/@atlaskit/media-client/dist/esm/models/media.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js"),o=function(e,t){var n=["audio","video","image"];return Object(r.a)("newCardExperience",t)?Object(i.g)(n,["doc"]).indexOf(e)>-1:n.indexOf(e)>-1},a=function(e){return!!e.mediaType&&!!e.mimeType&&!!e.processingStatus}},"./node_modules/@atlaskit/media-client/dist/esm/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.prototype.setAbort=function(e){this.abortFunction=e},e.prototype.abort=function(){this.abortFunction&&this.abortFunction()},e}()},"./node_modules/@atlaskit/media-client/dist/esm/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js"),o=null,a=function(){return Object(i.b)(void 0,void 0,void 0,(function(){var e,t,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(e=3,o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,n.e("229dc7ab498").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/esm/utils/hashing/workerHasher.js"))];case 2:return t=i.sent().WorkerHasher,o=new t(e),[3,5];case 3:return i.sent(),[4,n.e("229dc7ab497").then(n.bind(null,"./node_modules/@atlaskit/media-client/dist/esm/utils/hashing/simpleHasher.js"))];case 4:return r=i.sent().SimpleHasher,o=new r,[3,5];case 5:return[2,o]}}))}))},s=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:return[2,t.sent().hash(e)]}}))}))},c=function(e,t){return function(n){return Object(i.b)(void 0,void 0,void 0,(function(){var r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,e.probeChunks(p(n),t)];case 1:return r=i.sent(),o=r.data.results,[2,Object.values(o).map((function(e){return e.exists}))]}}))}))}},l=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},d=function(e,t,n){var r=0;return function(o){return Object(i.b)(void 0,void 0,void 0,(function(){var a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[i.sent(),{chunks:p(o),offset:r},n])];case 2:return i.sent(),r+=o.length,[2]}}))}))}},u=function(e,t,n,o){var a=e.content,u=e.collection,p=e.name,f=e.mimeType,m=n.id,h=n.occurrenceKey,v=n.deferredUploadId,g=Object(r.a)(a,{hashingFunction:s,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:l(t,u),probingFunction:c(t,u),processingBatchSize:1e3,processingFunction:d(t,v,u)},{onProgress:function(e){o&&o.onProgress(e)}}),b=g.response,y=g.cancel,_=o&&o.onUploadFinish||function(){};return Promise.all([v,b]).then((function(e){var n=Object(i.e)(e,1)[0];return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:p,mimeType:f},{occurrenceKey:h,collection:u,replaceFileId:m})];case 1:return e.sent(),_(),[2]}}))}))})).catch(_),{cancel:y}},p=function(e){return e.map((function(e){return e.hash}))}},"./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/rxjs/ReplaySubject.js"),r=function(e){var t=new i.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),r=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),o=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(i.c)(e)||Object(r.c)(e)?"image":Object(i.b)(e)||Object(r.b)(e)?"doc":Object(i.a)(e)||Object(r.a)(e)?"audio":Object(i.e)(e)||Object(r.f)(e)?"video":"unknown"}},"./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var i=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},r=function(e){return"application/pdf"===e.toLowerCase()},o=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||i(e)||o(e)||a(e)}},"./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},r=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},o=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},s=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},c=function(e){return i(e)||r(e)||o(e)||a(e)||s(e)}},"./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return new Promise((function(t){return e.subscribe({next:function(e){t(e),this.unsubscribe()}})}))}},"./node_modules/@atlaskit/media-client/dist/esm/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.statusCode=n,i}return Object(i.c)(t,e),t}(Error),s=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return e.ok||e.redirected?[2,e]:[3,1];case 1:return[4,e.text()];case 2:throw t=n.sent(),new a("Got error code "+e.status+": "+t,e.status)}}))}))};function c(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,a=t.auth,c=t.params,l=t.headers,d=t.body,u=t.retryOptions;return function(e,t){void 0===t&&(t={});return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l=this;return Object(i.d)(this,(function(d){switch(d.label){case 0:n=Object(i.a)(Object(i.a)({},m),t),r=n.startTimeoutInMs,o=function(){return Object(i.b)(l,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,h(r)];case 1:return e.sent(),r*=n.factor,[2]}}))}))},a=1,d.label=1;case 1:if(!(a<=n.attempts))return[3,9];d.label=2;case 2:return d.trys.push([2,4,,8]),[4,e()];case 3:return[2,d.sent()];case 4:return s=d.sent(),v(s)?[2,Promise.reject(s)]:(c=a===n.attempts,function(e){return!(e instanceof TypeError)}(s)&&s.statusCode<500||c?[2,Promise.reject(new Error("The call did not succeed after "+a+" attempts. Last error is "+s.message))]:[3,5]);case 5:return[4,o()];case 6:d.sent(),d.label=7;case 7:return[3,8];case 8:return a++,[3,1];case 9:return[2,Promise.reject(new Error("Exhaused all attempts"))]}}))}))}((function(){return fetch(p(e,{params:c}),{method:o,body:d,headers:f(a)(l),signal:n&&n.signal}).then(s)}),void 0===u?{}:u)}function l(e){return e.json()}function d(e){return e.blob()}function u(){return Promise.resolve()}function p(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(r.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,l=s.queryParams,d=a&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),u=Object(r.stringify)(Object(i.a)(Object(i.a)(Object(i.a)({},l),n),d));return c+(u.length>0?"?"+u:"")}function f(e){return function(t){return e?Object(i.a)(Object(i.a)({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}var m={attempts:5,startTimeoutInMs:1e3,factor:2},h=function(e){return new Promise((function(t){setTimeout(t,e)}))},v=function(e){return"request_cancelled"===e.message||"AbortError"===e.name}},"./node_modules/@atlaskit/media-client/dist/esm/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js"),o=n.n(r),a=function(e){return e.indexOf("media-blob-url=true")>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},c=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},l=function(e){var t=new URL(e).hash.replace("#",""),n=new o.a(t),i=n.get("id"),r=n.get("contextId");if(i&&r)return{id:i,contextId:r,collection:c(n,"collection"),alt:c(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:c(n,"name"),mimeType:c(n,"mimeType")}},d=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return encodeURIComponent(t)+"="+encodeURIComponent(n.toString())})).join("&")},u=function(e,t){var n;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var r=((n={})["media-blob-url"]="true",n),o=Object(i.a)(Object(i.a)({},r),t);return e+"#"+d(o)}},"./node_modules/@atlaskit/media-client/node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("./node_modules/rxjs/operators/tap.js"),r=n("./node_modules/rxjs/operators/concatMap.js"),o=n("./node_modules/rxjs/observable/fromPromise.js"),a=n("./node_modules/rxjs/Subject.js"),s=n("./node_modules/rxjs/observable/range.js"),c=n("./node_modules/rxjs/operators/map.js"),l=n("./node_modules/rxjs-async-map/out/index.js");function d(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var u=function(e){return function(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(this.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(d)},p=n("./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js"),f=n("./node_modules/rxjs/operators/bufferCount.js"),m=n("./node_modules/rxjs/observable/from.js");var h=function(e,t,n){return Object(o.fromPromise)(function(e){return Object(p.b)(this,void 0,void 0,(function(){return Object(p.d)(this,(function(t){switch(t.label){case 0:return"string"!=typeof e?[3,2]:[4,fetch(e).then((function(e){return e.blob()}))];case 1:return[2,t.sent()];case 2:return[2,e]}}))}))}(e)).pipe(Object(r.concatMap)((function(e){var o=t.chunkSize,a=n.onProgress,d=Math.ceil(e.size/o),h=function(e,t){var n=t.batchSize,i=t.prober;return e.pipe(Object(f.bufferCount)(n),Object(r.concatMap)((function(e){return i(e).then((function(t){return e.map((function(e,n){return Object(p.a)(Object(p.a)({},e),{exists:t[n]})}))}))})),Object(r.concatMap)((function(e){return Object(m.from)(e)})))}(function(e,t){var n=t.hasher,i=t.concurrency;return Object(l.asyncMap)(function(e){return function(t){return e(t).then((function(e){return{blob:t,hash:e+"-"+t.size}}))}}(n||u),i)(e)}(function(e,t){var n=t.size,i=Math.ceil(e.size/n);return Object(s.range)(0,i).pipe(Object(c.map)((function(t){return e.slice(t*n,(t+1)*n)})))}(e,{size:o}),{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),{batchSize:t.probingBatchSize,prober:t.probingFunction}),v=0,g=function(e,t){return e.pipe(Object(l.asyncMap)((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(h,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(g=g.pipe(Object(i.tap)((function(){a((v+=1)/d)})))),function(e,t){return e.pipe(Object(f.bufferCount)(t.batchSize)).pipe(Object(r.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(g,{batchSize:t.processingBatchSize,processor:t.processingFunction})})))},v=function(e,t,n){return function(e){var t=new a.Subject,n=e.subscribe(t);return{response:t.toPromise(),cancel:function(){n.unsubscribe(),t.error("canceled")}}}(h(e,t,n))}},"./node_modules/@atlaskit/media-client/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}Object.create},"./node_modules/@atlaskit/media-client/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,r,o,a,s,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(o=e.split("&")).length;a<s;a++)-1<(t=(r=o[a]).indexOf("="))?d(c,u(r.slice(0,t)),u(r.slice(t+1))):r.length&&d(c,u(r),"");else if(i(e))for(a=0,s=e.length;a<s;a++)d(c,(r=e[a])[0],r[1]);else for(n in e)d(c,n,e[n])}var i=Array.isArray,r=n.prototype,o=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},l="__URLSearchParams__:"+Math.random();function d(e,t,n){t in e?e[t].push(""+n):e[t]=i(n)?n:[""+n]}function u(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(o,c)}r.append=function(e,t){d(this[l],e,t)},r.delete=function(e){delete this[l][e]},r.get=function(e){var t=this[l];return e in t?t[e][0]:null},r.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},r.has=function(e){return e in this[l]},r.set=function(e,t){this[l][e]=[""+t]},r.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){e.call(t,n,i,this)}),this)}),this)},r.toJSON=function(){return{}},r.toString=function(){var e,t,n,i,r=this[l],o=[];for(t in r)for(n=p(t),e=0,i=r[t];e<i.length;e++)o.push(n+"="+p(i[e]));return o.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){!i.length||i in n||(n[i]=this.getAll(i)).forEach((function(n){e.call(t,n,i,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,i=this.entries(),r=i.next(),o=r.done,a=[],s=Object.create(null);!o;)t=(n=r.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),o=(r=i.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=!!window.MSInputMethodContext&&!!document.documentMode,i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r="media-download-iframe",o=document.createElement("a"),a=document.getElementById(r);a||((a=document.createElement("iframe")).style.display="none",a.id=r,a.name=r,document.body.appendChild(a)),o.href=e,t&&t.name&&(o.download=t.name),o.target=n||i?"_blank":r,document.body.appendChild(o),o.click(),document.body.removeChild(o)}},"./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=function(e){return"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(e):null},r={newCardExperience:!1,zipPreviews:!1,captions:!1,folderUploads:!1,codeViewer:!1,poll_intervalMs:3e3,poll_maxAttempts:7,poll_backoffFactor:1.25,poll_maxIntervalMs:4e4,poll_maxGlobalFailures:10};function o(e,t){var n=i(e);if(null!==n)try{return JSON.parse(n)}catch(e){}return t&&e in t?t[e]:r[e]}Object.keys(r).forEach((function(e){var t=i(e);null!==t&&console.info("%c* LOCAL * MediaFeatureFlag."+e+" = "+t,"font-weight:bold;color:cyan")}))},"./node_modules/@atlaskit/media-core/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mediaState",(function(){return r})),n.d(t,"isClientBasedAuth",(function(){return o})),n.d(t,"isAsapBasedAuth",(function(){return a})),n.d(t,"authToOwner",(function(){return s}));var i=n("./node_modules/eventemitter2/lib/eventemitter2.js"),r={streams:new(n("./node_modules/lru-fast/lru.js").LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new i.EventEmitter2};function o(e){return!!e.clientId}function a(e){return!!e.asapIssuer}var s=function(e){return a(e)?e:{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},"./node_modules/@atlaskit/media-editor/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function d(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create},"./node_modules/@atlaskit/media-picker/dist/esm/components/browser/browser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserBase",(function(){return u})),n.d(t,"Browser",(function(){return p}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsContext.js"),s=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),c=n("./node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),l=n("./node_modules/@atlaskit/media-picker/dist/esm/version.json"),d={uploadParams:{}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.browserRef=o.a.createRef(),t.onFilePicked=function(e){if(e.target){var n=[].slice.call(e.target.files);try{t.uploadService.addFiles(n)}finally{t.browserRef.current&&(t.browserRef.current.value="")}}},t.browse=function(){var e=t.props.onClose;t.browserRef.current&&(t.browserRef.current.click(),e&&e())},t}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.onBrowseFn,n=e.onCancelFn,i=e.isOpen;t&&t(this.browse),n&&n(this.cancel),i&&this.browse()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.isOpen,n=e.isOpen;n&&n!==t&&this.browse()},t.prototype.render=function(){var e=this.props.config,t=e.multiple,n=e.fileExtensions&&e.fileExtensions.join(",");return o.a.createElement("input",{"data-testid":"media-picker-file-input",ref:this.browserRef,type:"file",style:{display:"none"},multiple:t,accept:n,onChange:this.onFilePicked})},t.defaultProps={config:d},t}(c.a),p=Object(a.a)({attributes:{componentName:"browser",packageName:l.a,packageVersion:l.b}})(Object(s.a)()(u))},"./node_modules/@atlaskit/media-picker/dist/esm/components/clipboard/clipboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFilesFromClipboard",(function(){return u})),n.d(t,"ClipboardBase",(function(){return m})),n.d(t,"Clipboard",(function(){return h}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsContext.js"),o=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),a=n("./node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),s=n("./node_modules/@atlaskit/media-picker/dist/esm/service/types.js"),c=n("./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),l=function(e){return e<10?"0"+e:""+e},d=n("./node_modules/@atlaskit/media-picker/dist/esm/version.json"),u=function(e){return Array.from(e).map((function(e){if(0===e.type.indexOf("image/")){var t=function(e,t){var n=e.lastIndexOf("."),i=n>0,r=i?e.substring(0,n):e,o=i?e.substring(n):"",a=new Date(t);return r+"-"+(""+a.getUTCFullYear()+l(a.getUTCMonth()+1)+l(a.getUTCDate()))+"-"+(""+l(a.getUTCHours())+l(a.getUTCMinutes())+l(a.getUTCSeconds()))+o}(e.name,e.lastModified);return new File([e],t,{type:e.type})}return e}))},p={uploadParams:{}},f=function(){function e(e){this.uploadService=e}return Object.defineProperty(e,"latestInstance",{get:function(){return e.instances[e.instances.length-1]},enumerable:!1,configurable:!0}),e.prototype.activate=function(t){this.deactivate(),t&&t.createAnalyticsEvent&&(this.createAnalyticsEvent=t.createAnalyticsEvent),document.addEventListener("paste",e.handleEvent),e.instances.push(this)},e.prototype.deactivate=function(){var t=e.instances.indexOf(this);t>-1?e.instances.splice(t,1):document.removeEventListener("paste",e.handleEvent)},e.prototype.onFilesPasted=function(e){this.uploadService.addFilesWithSource(e),this.fireAnalyticsEvent("pasted",e)},e.prototype.fireAnalyticsEvent=function(e,t){this.createAnalyticsEvent&&this.createAnalyticsEvent({eventType:"ui",actionSubject:"clipboard",action:e,attributes:{packageName:d.a,fileCount:t.length,fileAttributes:t.map((function(e){var t=e.file;return{fileMimetype:t.type,fileSize:t.size}}))}}).fire(c.ANALYTICS_MEDIA_CHANNEL)},e.instances=[],e.handleEvent=function(t){var n=e.latestInstance;if(n){var i=t.clipboardData;if(i&&i.files){var r=1===i.types.length?s.a.PastedScreenshot:s.a.PastedFile,o=u(i.files).map((function(e){return{file:e,source:r}}));o.length>0&&n.onFilesPasted.call(n,o)}}},e}(),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipboard=new f(t.uploadService),t}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.clipboard.activate({createAnalyticsEvent:this.props.createAnalyticsEvent})},t.prototype.componentWillUnmount=function(){this.clipboard.deactivate()},t.prototype.render=function(){return null},t.defaultProps={config:p},t}(a.a),h=Object(r.a)({attributes:{componentName:"clipboard",packageName:d.a,packageVersion:d.b}})(Object(o.a)()(m))},"./node_modules/@atlaskit/media-picker/dist/esm/components/component.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.emitPluginItemsInserted=function(e){var t=e.map((function(e){return{pluginName:e.serviceName,pluginFile:{id:e.id,metadata:e.metadata}}}));this.emit("plugin-items-inserted",t)},t.prototype.emitUploadsStart=function(e){this.emit("uploads-start",{files:e})},t.prototype.emitUploadPreviewUpdate=function(e,t){this.emit("upload-preview-update",{file:e,preview:t})},t.prototype.emitUploadEnd=function(e){this.emit("upload-end",{file:e})},t.prototype.emitUploadError=function(e,t){this.emit("upload-error",{fileId:e,error:t})},t}(function(){function e(){this.emitter=new r.EventEmitter2({wildcard:!0})}return e.prototype.once=function(e,t){this.emitter.once(e,t)},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.onAny=function(e){this.emitter.onAny(e)},e.prototype.addListener=function(e,t){this.emitter.addListener(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.removeListener=function(e,t){this.emitter.removeListener(e,t)},e.prototype.removeAllListeners=function(e){void 0===e?this.emitter.removeAllListeners():this.emitter.removeAllListeners(e)},e.prototype.emit=function(e,t){return this.emitter.emit(e,t)},e}())},"./node_modules/@atlaskit/media-picker/dist/esm/components/dropzone/dropzone.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DropzoneBase",(function(){return g})),n.d(t,"Dropzone",(function(){return b}));var i,r=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsContext.js"),a=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),s=n("./node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),c=n("./node_modules/@atlaskit/media-picker/dist/esm/version.json"),l=n("./node_modules/tslib/tslib.es6.js"),d=function(e){return[].concat.apply([],e)},u=function(e){return e.isDirectory?function(e){return new Promise((function(t){e.createReader().readEntries(t)}))}(e).then((function(e){var t=e.map(u);return Promise.all(t).then((function(e){return d(e)}))})):Promise.resolve([e])},p=function(e){var t=function(e){return[].slice.call(e,0)}(e).map((function(e){var t=e.webkitGetAsEntry();return u(t)}));return Promise.all(t).then((function(e){return d(e)}))},f=function(e){return new Promise((function(t){var n=[];e.forEach((function(i){i.file((function(i){n.push(i),n.length===e.length&&t(n)}))}))}))},m=(function(){function e(e,t){var n=this;this.onDrop=function(e){return Object(l.__awaiter)(n,void 0,void 0,(function(){var t,n,i;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),t=this.callback,n=e.dataTransfer.items,[4,p(n)];case 1:return i=r.sent(),t(i),[2]}}))}))},this.dropzone=e,this.callback=t}e.prototype.subscribe=function(){var e=this.dropzone;e.addEventListener("dragover",this.onDragOver,!1),e.addEventListener("drop",this.onDrop)},e.prototype.onDragOver=function(e){e.preventDefault()}}(),n("./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"));var h=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js");function v(e){if(!e.dataTransfer)return!1;var t=e.dataTransfer.types;return Array.from(t).indexOf("Files")>-1}var g=function(e){function t(t){var n=e.call(this,t)||this;return n.uiActive=!1,n.addContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.addEventListener("dragover",n.onDragOver,!1),e.addEventListener("dragleave",n.onDragLeave,!1),e.addEventListener("drop",n.onFileDropped)},n.removeContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.removeEventListener("dragover",n.onDragOver,!1),e.removeEventListener("dragleave",n.onDragLeave,!1),e.removeEventListener("drop",n.onFileDropped)},n.onDragOver=function(e){if(e.preventDefault(),e.dataTransfer&&v(e)){var t=e.dataTransfer,i=void 0;try{i=t.effectAllowed}catch(e){}t.dropEffect="move"===i||"linkMove"===i?"move":"copy";var r=n.getDraggedItemsLength(t);n.emitDragOver({length:r})}},n.onDragLeave=function(e){if(e.dataTransfer){e.preventDefault();var t=0;if(v(e)){var i=e.dataTransfer;t=n.getDraggedItemsLength(i)}n.emitDragLeave({length:t})}},n.onFileDropped=function(e){return Object(r.b)(n,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e.dataTransfer?(e.preventDefault(),e.stopPropagation(),function(e){var t=void 0!==e?e:navigator;if(void 0!==e&&(i=void 0),void 0===i){if(void 0!==t){var n=/Edge\/(\d+)/.exec(t.userAgent),r=/MSIE \d/.test(t.userAgent),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t.userAgent),a=/Opera/.test(t.platform)||/OPR/.test(t.platform),s=!!(r||o||n),c=/Firefox/.test(t.userAgent);return!s&&!a&&!c}return!1}return i}()&&Object(h.a)("folderUploads",this.props.featureFlags)?(this.fireAnalyticsForFolders(e.dataTransfer.items),[4,this.getFilesFromDragEvent(e.dataTransfer.items)]):[3,2]):[2];case 1:return t=r.sent(),this.onDropFolders(t.length),this.uploadService.addFiles(t),[3,3];case 2:this.onDrop(e),n=Array.from(e.dataTransfer.files),this.uploadService.addFiles(n),r.label=3;case 3:return[2]}}))}))},n.fireAnalyticsForFolders=function(e){var t=Array.from(e),i=t.filter((function(e){return function(e){return e.webkitGetAsEntry().isDirectory}(e)})).length;i>0&&n.fireAnalyticsEvent("folderDroppedInto",i)},n.getFilesFromDragEvent=function(e){return Object(r.b)(n,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,p(e)];case 1:return t=i.sent(),[4,f(t)];case 2:return n=i.sent(),[2,this.filterFilesAgainstBlacklist(n)]}}))}))},n.filterFilesAgainstBlacklist=function(e){var t=[".DS_Store","thumbs.db","desktop.ini"];return e.filter((function(e){return!t.includes(e.name)}))},n.onDropFolders=function(e){e>0&&n.sendAnalyticsAndEmitDragLeave(e)},n.onDrop=function(e){if(e.dataTransfer&&v(e)){var t=e.dataTransfer,i=n.getDraggedItemsLength(t);n.sendAnalyticsAndEmitDragLeave(i)}},n.sendAnalyticsAndEmitDragLeave=function(e){n.fireAnalyticsEvent("droppedInto",e),n.props.onDrop&&n.props.onDrop(),n.emitDragLeave({length:e})},n}return Object(r.c)(t,e),t.prototype.getContainer=function(){return this.props.config.container||document.body},t.prototype.componentDidMount=function(){var e=this.props.onCancelFn;this.addContainerListeners(this.getContainer()),e&&e(this.cancel)},t.prototype.componentWillUnmount=function(){this.removeContainerListeners(this.getContainer())},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.config.container,n=this.props.config.container;t!==n&&(this.removeContainerListeners(n),this.addContainerListeners(t))},t.prototype.getDraggedItemsLength=function(e){return e.items?Array.from(e.items).filter((function(e){return"file"===e.kind})).length:e.files.length},t.prototype.emitDragOver=function(e){if(!this.uiActive){var t=this.props.onDragEnter;this.uiActive=!0,this.fireAnalyticsEvent("draggedInto",e.length),t&&t(e)}},t.prototype.emitDragLeave=function(e){var t=this;this.uiActive&&(this.uiActive=!1,window.setTimeout((function(){if(!t.uiActive){var n=t.props.onDragLeave;t.fireAnalyticsEvent("draggedOut",e.length),n&&n(e)}}),50))},t.prototype.fireAnalyticsEvent=function(e,t){var n=this.props.createAnalyticsEvent;n&&n({eventType:"ui",actionSubject:"dropzone",action:e,attributes:{packageName:c.a,fileCount:t}}).fire(m.ANALYTICS_MEDIA_CHANNEL)},t.prototype.render=function(){return null},t}(s.a),b=Object(o.a)({attributes:{componentName:"dropzone",packageName:c.a,packageVersion:c.b}})(Object(a.a)()(g))},"./node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/perf-marks/dist/umd/perf-marks.js"),a=n("./node_modules/@atlaskit/media-picker/dist/esm/components/component.js"),s=n("./node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),l=n("./node_modules/@atlaskit/media-picker/dist/esm/version.json"),d=n("./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),u=function(e,t){return void 0===t&&(t={}),{actionSubject:"mediaUpload",actionSubjectId:"localMedia",attributes:Object(i.a)(Object(i.a)({packageName:l.a,sourceType:"local"},e?{fileAttributes:{fileSize:e.size,fileMimetype:e.type}}:{}),t)}},p=function(e){function t(t){var n=e.call(this,t)||this;n.uploadComponent=new a.a,n.fireCommencedEvent=function(e){e.files.forEach((function(e){var t=e.id,r=e.size,a=e.type;Object(o.start)("MediaPicker.fireUpload."+t),n.createAndFireAnalyticsEvent(Object(i.a)(Object(i.a)({},u({size:r,type:a})),{action:"commenced",eventType:c.b}))}))},n.fireUploadSucceeded=function(e){var t=e.file,r=t.size,a=t.type,s=t.id,l=Object(o.end)("MediaPicker.fireUpload."+s).duration,d=void 0===l?-1:l;n.createAndFireAnalyticsEvent(Object(i.a)(Object(i.a)({},u({size:r,type:a},{status:"success",uploadDurationMsec:d})),{action:"uploaded",eventType:c.d}))},n.fireUploadFailed=function(e){return Object(i.b)(n,void 0,void 0,(function(){var t,n;return Object(i.d)(this,(function(r){return t=Object(o.end)("MediaPicker.fireUpload."+e.fileId).duration,n=void 0===t?-1:t,this.createAndFireAnalyticsEvent(Object(i.a)(Object(i.a)({},u(void 0,{status:"fail",failReason:e.error.description,uploadDurationMsec:n})),{action:"uploaded",eventType:c.d})),[2]}))}))},n.createAndFireAnalyticsEvent=function(e){var t=n.props.createAnalyticsEvent;t&&t(e).fire(d.ANALYTICS_MEDIA_CHANNEL)},n.cancel=function(e){n.uploadService.cancel(e)},n.onFilesAdded=function(e){var t=e.files;n.uploadComponent.emitUploadsStart(t)},n.onFilePreviewUpdate=function(e){var t=e.file,i=e.preview;n.uploadComponent.emitUploadPreviewUpdate(t,i)},n.onFileConverting=function(e){var t=e.file;n.uploadComponent.emitUploadEnd(t)},n.onUploadError=function(e){var t=e.fileId,i=e.error;n.uploadComponent.emitUploadError(t,i)};var r=n.props,l=r.mediaClient,p=r.config,f=r.onUploadsStart,m=r.onPreviewUpdate,h=r.onEnd,v=r.onError,g=p.uploadParams,b=p.shouldCopyFileToRecents,y=void 0===b||b;return n.uploadComponent.on("uploads-start",n.fireCommencedEvent),n.uploadComponent.on("upload-end",n.fireUploadSucceeded),n.uploadComponent.on("upload-error",n.fireUploadFailed),f&&n.uploadComponent.on("uploads-start",f),m&&n.uploadComponent.on("upload-preview-update",m),h&&n.uploadComponent.on("upload-end",h),v&&n.uploadComponent.on("upload-error",v),n.uploadService=new s.a(l,g,y),n.uploadService.on("files-added",n.onFilesAdded),n.uploadService.on("file-preview-update",n.onFilePreviewUpdate),n.uploadService.on("file-converting",n.onFileConverting),n.uploadService.on("file-upload-error",n.onUploadError),n}return Object(i.c)(t,e),t.prototype.setUploadParams=function(e){this.uploadService.setUploadParams(e)},t}(r.Component)},"./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ANALYTICS_MEDIA_CHANNEL",(function(){return s}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsErrorBoundary.js"),s="media",c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,i=e.children;return o.a.createElement(a.a,{channel:s,data:n},i)},t.displayName="MediaPickerAnalyticsErrorBoundary",t}(o.a.Component);t.default=c},"./node_modules/@atlaskit/media-picker/dist/esm/components/popup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PopupImpl",(function(){return Cs}));var i,r=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),a=n("./node_modules/react/index.js"),s=n.n(a),c=n("./node_modules/react-dom/index.js"),l=n("./node_modules/exenv/index.js"),d=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalTransition.js"),p=n("./node_modules/@atlaskit/editor-core/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalWrapper.js"),f=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),m=n("./node_modules/react-intl/lib/index.es.js"),h=n("./node_modules/@atlaskit/media-ui/dist/esm/messages.js"),v=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),g=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/button/dist/esm/custom-theme-button/custom-theme-button.js"),b=v.default.div(i||(i=Object(r.e)(["\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n\n  height: 80px;\n  padding: 26px 15px 23px 18px;\n"],["\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n\n  height: 80px;\n  padding: 26px 15px 23px 18px;\n"]))),y=function(e){return s.a.createElement(g.a,Object(r.a)({},e,{theme:function(e,t){var n=e(t),i=n.buttonStyles,o=Object(r.g)(n,["buttonStyles"]);return Object(r.a)({buttonStyles:Object(r.a)(Object(r.a)({},i),{marginRight:"5px"})},o)}}))},_=function(e){return s.a.createElement(g.a,Object(r.a)({},e))};function j(e){return"CHANGE_ACCOUNT"===e.type}function w(e,t){return{type:"CHANGE_ACCOUNT",serviceName:e,accountId:t}}function x(e,t,n){return{type:"CHANGE_CLOUD_ACCOUNT_FOLDER",serviceName:e,accountId:t,path:n}}function O(e){return"CHANGE_CLOUD_ACCOUNT_FOLDER"===e.type}function k(e){return"SERVICE_CHANGE"===e.type}function E(e){return{type:"SERVICE_CHANGE",serviceName:e}}function C(e){return"EDITOR_CLOSE"===e.type}function S(e,t){return{type:"EDITOR_SHOW_ERROR",error:{message:e,retryHandler:t}}}function I(e){return"FETCH_NEXT_CLOUD_FILES_PAGE"===e.type}function T(e,t,n){return{type:"FILE_CLICK",file:Object(r.a)(Object(r.a)({},e),{accountId:n,serviceName:t})}}function M(e,t,n,i,r,o){return{type:"FILE_LIST_UPDATE",accountId:e,path:t,items:n,currentCursor:r,nextCursor:o,serviceName:i}}function F(e){return"HIDE_POPUP"===e.type}function N(){return{type:"HIDE_POPUP"}}function A(e){return"RESET_VIEW"===e.type}function P(){return{type:"RESET_VIEW"}}function D(e){return{type:"AUTH_START",serviceName:e}}function L(e){return"START_IMPORT"===e.type}function U(e){return{type:"ACCOUNT_UNLINK_CLOUD_REQUEST",account:e}}var R=function(e){return"GET_FILES_IN_RECENTS"===e.type};function z(e){return{type:"SERVICE_LIST_UPDATE",accounts:e}}function B(e){return"SEARCH_GIPHY"===e.type}function H(e,t){return{type:"SEARCH_GIPHY",query:e,shouldAppendResults:t}}var G,W,V,K,q,Y,J,Z,X,Q,$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.renderCancelButton=function(){var e=this.props,t=e.canCancel,n=e.onCancel;return s.a.createElement(_,{testId:"media-picker-cancel-button",appearance:"subtle",onClick:n,isDisabled:!t},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.cancel)))},t.prototype.renderInsertButton=function(){var e=this.props,t=e.selectedItems,n=e.canInsert,i=e.onInsert,o=t.length;if(0===o)return null;return s.a.createElement(y,{testId:"media-picker-insert-button",appearance:"primary",onClick:function(){return i(t)},isDisabled:!n,autoFocus:!0},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.insert_files,{values:{0:o}})))},t.prototype.render=function(){return s.a.createElement(b,null,this.renderInsertButton(),this.renderCancelButton())},t}(a.Component),ee=Object(d.b)((function(e){var t=e.isUploading,n=e.isCancelling,i=t||n;return{selectedItems:e.selectedItems,canInsert:!i,canCancel:!i}}),(function(e){return{onInsert:function(){return e(function(){return{type:"START_IMPORT"}}())},onCancel:function(){e(P()),e(N())}}}))($),te=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/dropbox.js"),ne=n.n(te),ie=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/googledrive.js"),re=n.n(ie),oe=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/theme/dist/esm/colors.js"),ae=v.default.li(G||(G=Object(r.e)(["\n  color: ",";\n  padding: 6px 25px;\n  list-style-type: none;\n  opacity: 1;\n  display: flex;\n  align-items: center;\n\n  ",";\n  &:hover {\n    ",";\n  }\n"],["\n  color: ",";\n  padding: 6px 25px;\n  list-style-type: none;\n  opacity: 1;\n  display: flex;\n  align-items: center;\n\n  ",";\n  &:hover {\n    ",";\n  }\n"])),(function(e){return e.isActive?oe.B400:oe.N500}),(function(e){return e.isActive?"":"cursor: pointer"}),(function(e){return e.isActive?"":"background-color: #E5E8EC"})),se=v.default.div(W||(W=Object(r.e)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),ce=v.default.div(V||(V=Object(r.e)(["\n  font-size: 14px;\n  position: relative;\n  margin-left: 10px;\n  top: -1px;\n  display: inline-block;\n  text-transform: capitalize;\n  width: 160px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  font-size: 14px;\n  position: relative;\n  margin-left: 10px;\n  top: -1px;\n  display: inline-block;\n  text-transform: capitalize;\n  width: 160px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){return t.props.onChangeService(t.props.serviceName)},t}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.serviceFullName,n=e.serviceName,i=e.isActive,r=e.children;return s.a.createElement(ae,{"data-testid":"media-picker-"+n+"-menu-item",isActive:i,onClick:this.onClick},s.a.createElement(se,null,r),s.a.createElement(ce,null,t))},t}(a.Component),de=Object(d.b)(null,(function(e){return{onChangeService:function(t){return e(E(t))}}}))(le),ue=v.default.div(K||(K=Object(r.e)(["\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: #eceef1;\n  z-index: 60;\n"],["\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: #eceef1;\n  z-index: 60;\n"]))),pe=v.default.ul(q||(q=Object(r.e)(['\n  padding: 0;\n  float: left;\n  width: 100%;\n  margin: 17px 0 0 0 !important; /* We need important here due to default "ul" style overrides */\n'],['\n  padding: 0;\n  float: left;\n  width: 100%;\n  margin: 17px 0 0 0 !important; /* We need important here due to default "ul" style overrides */\n']))),fe=v.default.li(Y||(Y=Object(r.e)(["\n  width: 100%;\n  list-style-type: none;\n  margin: 9px 0 10px 0;\n  box-sizing: border-box;\n  padding: 0 25px 0 25px;\n  position: relative;\n  cursor: default;\n"],["\n  width: 100%;\n  list-style-type: none;\n  margin: 9px 0 10px 0;\n  box-sizing: border-box;\n  padding: 0 25px 0 25px;\n  position: relative;\n  cursor: default;\n"]))),me=v.default.div(J||(J=Object(r.e)(["\n  width: 100%;\n  border-top: 1px solid rgba(9, 30, 66, 0.06);\n  height: 0;\n"],["\n  width: 100%;\n  border-top: 1px solid rgba(9, 30, 66, 0.06);\n  height: 0;\n"]))),he=v.default.svg(Z||(Z=Object(r.e)(["\n  width: 22px;\n  height: 22px;\n"],["\n  width: 22px;\n  height: 22px;\n"]))),ve=v.default.g(X||(X=Object(r.e)(["\n  fill: ",";\n"],["\n  fill: ",";\n"])),(function(e){return e.active?"#0061C5":"#42526E"})),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props.active;return s.a.createElement(he,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 27 35"},s.a.createElement(ve,{active:e,"fill-rule":"evenodd","clip-rule":"evenodd"},s.a.createElement("path",{className:"logo-green",d:"M0 3h4v29H0z"}),s.a.createElement("path",{className:"logo-purple",d:"M24 11h4v21h-4z"}),s.a.createElement("path",{className:"logo-blue",d:"M0 31h28v4H0z"}),s.a.createElement("path",{className:"logo-yellow",d:"M0 0h16v4H0z"}),s.a.createElement("path",{className:"logo-red",d:"M24 8V4h-4V0h-4v12h12V8"}),s.a.createElement("path",{className:"logo-shadow",d:"M24 16v-4h4M16 0v4h-4"})))},t}(a.Component),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.isActive,n=e.onChangeService;return s.a.createElement(le,{serviceName:"giphy",serviceFullName:"GIPHY",isActive:t,onChangeService:n},s.a.createElement(ge,{active:t}))},t}(a.Component),ye=Object(d.b)(null,(function(e){return{onChangeService:function(){e(E("giphy")),e(H("",!1))}}}))(be),_e=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/upload.js"),je=n.n(_e),we=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBuiltInPlugins=function(){var e=t.props,n=e.selected;return e.useForgePlugins?[]:[s.a.createElement(ye,{key:"giphy",isActive:"giphy"===n}),s.a.createElement(de,{key:"dropbox",serviceName:"dropbox",serviceFullName:"Dropbox",isActive:"dropbox"===n},s.a.createElement(ne.a,{label:"dropbox"})),s.a.createElement(de,{key:"google",serviceName:"google",serviceFullName:"Google Drive",isActive:"google"===n},s.a.createElement(re.a,{label:"google"}))]},t.renderCustomPluginItems=function(){var e=t.props,n=e.selected,i=e.plugins;return(void 0===i?[]:i).map((function(e){var t=e.name,i=e.icon;return s.a.createElement(de,{key:t,serviceName:t,serviceFullName:t,isActive:n===t},i)}))},t.getCloudPickingSidebarItems=function(){return Object(r.h)([s.a.createElement(fe,{key:"seperator"},s.a.createElement(me,null))],t.renderBuiltInPlugins(),t.renderCustomPluginItems())},t}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props.selected;return s.a.createElement(ue,null,s.a.createElement(pe,null,s.a.createElement(de,{serviceName:"upload",serviceFullName:s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.upload)),isActive:"upload"===e},s.a.createElement(je.a,{label:"upload"})),this.getCloudPickingSidebarItems()))},t}(a.Component),xe=Object(d.b)((function(e){return{selected:e.view.service.name,plugins:e.plugins}}))(we),Oe=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/root/card/cardLoader.js"),ke=n("./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),Ee=n("./node_modules/@atlaskit/spinner/dist/esm/spinner.js"),Ce=n("./node_modules/@atlaskit/flag/dist/esm/flag-group.js"),Se=n("./node_modules/@atlaskit/flag/dist/esm/flag.js"),Ie=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/annotate.js"),Te=n.n(Ie),Me=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/trash.js"),Fe=n.n(Me),Ne=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/error.js"),Ae=n.n(Ne),Pe=n("./node_modules/@atlaskit/media-ui/dist/esm/infiniteScroll.js"),De=function(e){if(void 0!==Q&&!e)return Q;var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl");return Q=!!n};var Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUploadClick=function(){var e=t.props,n=e.browserRef;(0,e.onClick)(),n&&n.current&&n.current.browse()},t}return Object(r.c)(t,e),t.prototype.render=function(){return s.a.createElement(g.a,{"data-testid":"media-picker-upload-button",appearance:"default",onClick:this.onUploadClick},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.upload_file)))},t}(s.a.Component),Ue=Object(d.b)(null,(function(e){return{onClick:function(){return e(function(){return{type:"START_FILE_BROWSER"}}())}}}))(Le),Re=function(e){return"https://aui-cdn.atlassian.com/media/"+e},ze=Re("border-icon.png"),Be=Re("files-icon.png"),He=s.a.createElement("svg",{viewBox:"0 0 163.28 218"},s.a.createElement("defs",null,s.a.createElement("style",null,"\n.cls-1{fill:url(#linear-gradient);}\n.cls-2{fill:#253858;}\n.cls-3{fill:#ffc400;}\n.cls-4{fill:#ffab00;}\n.cls-5,.cls-6{fill:none;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px;}\n.cls-5{stroke:#344563;}\n.cls-6{stroke:#5e6c84;}\n"),s.a.createElement("linearGradient",{id:"linear-gradient",x1:"133.86",y1:"136.43",x2:"-2.79",y2:"200.15",gradientUnits:"userSpaceOnUse"},s.a.createElement("stop",{offset:"0",stopColor:"#ffd740"}),s.a.createElement("stop",{offset:"1",stopColor:"#ffab00"})),s.a.createElement("clipPath",null,s.a.createElement("path",{className:"cls-1",d:"M94.78,80.16l66.44,115.08A15.17,15.17,0,0,1,148.08,218H15.2A15.17,15.17,0,0,1,2.06,195.24L68.5,80.16A15.17,15.17,0,0,1,94.78,80.16Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{className:"cls-1",d:"M94.78,80.16l66.44,115.08A15.17,15.17,0,0,1,148.08,218H15.2A15.17,15.17,0,0,1,2.06,195.24L68.5,80.16A15.17,15.17,0,0,1,94.78,80.16Z"}),s.a.createElement("path",{className:"cls-2",d:"M87.22,163.71l2.88-44.35a9.18,9.18,0,0,0-9.16-9.78h0a9.18,9.18,0,0,0-9.16,9.78l2.88,44.35a6.3,6.3,0,0,0,6.28,5.89h0A6.3,6.3,0,0,0,87.22,163.71Z"}),s.a.createElement("path",{className:"cls-2",d:"M71.38,187.25a9.53,9.53,0,0,0,10.39,9.58,9.68,9.68,0,0,0-.9-19.32A9.64,9.64,0,0,0,71.38,187.25Z"}),s.a.createElement("path",{className:"cls-3",d:"M91.7,27.17,84.29.45A.61.61,0,0,0,83.1.5L78.44,25.6l-5.8-1.08a.61.61,0,0,0-.7.76L79.35,52A.61.61,0,0,0,80.54,52l4.66-25.1L91,27.93A.61.61,0,0,0,91.7,27.17Z"}),s.a.createElement("path",{className:"cls-4",d:"M65.12,41.81,54.24,33.26a.27.27,0,0,0-.41.33L59.36,45,56.7,46.31a.27.27,0,0,0,0,.45l10.87,8.55a.27.27,0,0,0,.41-.33L62.41,43.55l2.66-1.29A.27.27,0,0,0,65.12,41.81Z"}),s.a.createElement("path",{className:"cls-5",d:"M115.15,36.6c-1.17,1.59-11-5.6-12.16-4s8.66,8.79,7.5,10.39-11-5.6-12.17-4,8.66,8.79,7.49,10.39-11-5.6-12.17-4,8.66,8.79,7.49,10.39"}),s.a.createElement("path",{className:"cls-6",d:"M119.92,64.19c-1.46,1.33-7.05-4.78-8.51-3.44s4.13,7.45,2.67,8.78-7.05-4.78-8.51-3.44c-.68.62.16,2.27,1.11,4"}),s.a.createElement("path",{className:"cls-6",d:"M44.8,64c1.82.77,5-6.87,6.86-6.1s-1.39,8.4.43,9.17,5-6.87,6.86-6.1c.85.36.61,2.19.29,4.13"})))),Ge=v.default.div($e||($e=Object(r.e)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 60px;\n  height: calc(100% - 211px);\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 60px;\n  height: calc(100% - 211px);\n"]))),We=v.default.img(et||(et=Object(r.e)(["\n  float: left;\n  width: 115px;\n"],["\n  float: left;\n  width: 115px;\n"]))),Ve=v.default.div(tt||(tt=Object(r.e)(["\n  float: left;\n"],["\n  float: left;\n"]))),Ke=v.default.div(nt||(nt=Object(r.e)(["\n  display: block;\n  margin-left: 10px;\n  white-space: nowrap;\n  margin-top: 15px;\n  color: #6c798f;\n"],["\n  display: block;\n  margin-left: 10px;\n  white-space: nowrap;\n  margin-top: 15px;\n  color: #6c798f;\n"]))),qe=v.default.div(it||(it=Object(r.e)(["\n  margin-left: 10px;\n  margin-top: 14px;\n  text-align: center;\n"],["\n  margin-left: 10px;\n  margin-top: 14px;\n  text-align: center;\n"]))),Ye=v.default.div(rt||(rt=Object(r.e)(["\n  display: block;\n  float: left;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  display: block;\n  float: left;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Je=v.default.div(ot||(ot=Object(r.e)(["\n  /* Hardcoded width to avoid difference in how it looks depending on\n   mac scroll bar setting. See https://product-fabric.atlassian.net/browse/EM-168\n   for more details */\n  width: 668px;\n  box-sizing: border-box;\n  border: 2px dashed #cfd4db;\n  border-image-source: url('","');\n  border-image-slice: 2;\n  border-image-repeat: round;\n  border-radius: 3px;\n  ","\n"],["\n  /* Hardcoded width to avoid difference in how it looks depending on\n   mac scroll bar setting. See https://product-fabric.atlassian.net/browse/EM-168\n   for more details */\n  width: 668px;\n  box-sizing: border-box;\n  border: 2px dashed #cfd4db;\n  border-image-source: url('","');\n  border-image-slice: 2;\n  border-image-repeat: round;\n  border-radius: 3px;\n  ","\n"])),ze,(function(e){return e.isEmpty?"height: calc(100% - 4px);":"height: 211px;"}));Je.displayName="DropzoneContainer";var Ze=v.default.div(at||(at=Object(r.e)(["\n  padding: 25px 10px 5px 0;\n  font-size: 20px;\n  color: #071d43;\n"],["\n  padding: 25px 10px 5px 0;\n  font-size: 20px;\n  color: #071d43;\n"]))),Xe=v.default.div(st||(st=Object(r.e)(["\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  display: flex;\n  flex-wrap: wrap;\n"])));Xe.displayName="CardsWrapper";var Qe=v.default.div(ct||(ct=Object(r.e)(["\n  margin: 6px 0;\n  /* 9px to fix IE both edge and IE11 */\n  margin-right: 9px;\n  outline: none;\n\n  /* Cards are displayed in rows of 4, line up last card with edge of dropzone border */\n  &:nth-child(4n) {\n    margin-right: 0;\n  }\n"],["\n  margin: 6px 0;\n  /* 9px to fix IE both edge and IE11 */\n  margin-right: 9px;\n  outline: none;\n\n  /* Cards are displayed in rows of 4, line up last card with edge of dropzone border */\n  &:nth-child(4n) {\n    margin-right: 0;\n  }\n"])));Qe.displayName="CardWrapper";var $e,et,tt,nt,it,rt,ot,at,st,ct,lt,dt,ut=v.default.div(lt||(lt=Object(r.e)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  padding: 24px 24px 2px 24px;\n"],["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  padding: 24px 24px 2px 24px;\n"]))),pt=v.default.div(dt||(dt=Object(r.e)(["\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 10px;\n"],["\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 10px;\n"]))),ft=n("./node_modules/@atlaskit/media-common/dist/esm/mediaFeatureFlags.js"),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.isEmpty,n=e.browserRef,i=Object(ft.a)("folderUploads",this.props.featureFlags)?h.a.drag_and_drop_your_files_and_folders:h.a.drag_and_drop_your_files;return s.a.createElement(Je,{isEmpty:t},s.a.createElement(Ye,null,s.a.createElement(We,{src:Be}),s.a.createElement(Ve,null,s.a.createElement(Ke,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},i))),s.a.createElement(qe,null,s.a.createElement(Ue,{browserRef:n})))))},t}(a.Component);function ht(e){return"EDITOR_SHOW_IMAGE"===e.type}function vt(e,t){return{type:"EDITOR_SHOW_IMAGE",imageUrl:e,originalFile:t}}var gt,bt,yt,_t,jt,wt,xt,Ot,kt,Et,Ct,St,It,Tt,Mt,Ft=function(e){return"REMOVE_FILES_FROM_RECENTS"===e.type},Nt=function(e){return{label:"Delete",handler:e,icon:s.a.createElement(Fe.a,{label:"Delete",size:"medium"})}},At={width:160,height:108},Pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={hasPopupBeenVisible:!1,isWebGLWarningFlagVisible:!1,shouldDismissWebGLWarningFlag:!1,isLoadingNextPage:!1},t.renderDeleteConfirmation=function(){var e=t.state.deletionCandidate,n=t.props.removeFileFromRecents,i=function(){t.setState({deletionCandidate:void 0})};if(!e)return null;var r=e.id,o=e.occurrenceKey,a=[{text:"Delete permanently",onClick:function(){n(r,o),i()}},{text:"Cancel",onClick:function(){i()}}];return s.a.createElement(u.b,null,s.a.createElement(p.a,{width:"small",appearance:"danger",heading:"Delete forever?",actions:a,onClose:i},"This file is about to be permanently deleted. Once you delete, it's gone for good."))},t.onThresholdReachedListener=function(){t.state.isLoadingNextPage||t.setState({isLoadingNextPage:!0},(function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,this.props.mediaClient.collection.loadNextPage(f.c)];case 1:return e.sent(),[3,3];case 2:return this.mounted&&this.setState({isLoadingNextPage:!1}),[7];case 3:return[2]}}))}))}))},t.renderLoadingView=function(){return s.a.createElement(Ge,null,s.a.createElement(Ee.a,{size:"large"}))},t.renderLoadingNextPageView=function(){var e=t.state.isLoadingNextPage;return s.a.createElement(pt,null,e&&s.a.createElement(Ee.a,null))},t.renderRecentsView=function(e){var n=t.state.isWebGLWarningFlagVisible;return s.a.createElement("div",null,s.a.createElement(Ze,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.recent_uploads))),s.a.createElement(Xe,null,e),t.renderLoadingNextPageView(),n&&t.renderWebGLWarningFlag())},t.renderWebGLWarningFlag=function(){var e=t.props.intl.formatMessage;return s.a.createElement(Ce.a,{onDismissed:t.onFlagDismissed},s.a.createElement(Se.a,{description:e(h.a.webgl_warning_description),icon:s.a.createElement(Ae.a,{label:"info"}),id:"webgl-warning-flag",title:e(h.a.unable_to_annotate_image),actions:[{content:e(h.a.learn_more),onClick:t.onLearnMoreClicked}]}))},t.onFlagDismissed=function(){t.setState({isWebGLWarningFlagVisible:!1})},t.onLearnMoreClicked=function(){t.setState({shouldDismissWebGLWarningFlag:!0}),t.onFlagDismissed(),window.open("https://get.webgl.org/")},t}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.isLoading,n=e.browserRef,i=e.featureFlags,r=this.renderCards(),o=!t&&0===r.length,a=null;t?a=this.renderLoadingView():o||(a=this.renderRecentsView(r));var c=this.renderDeleteConfirmation();return s.a.createElement(Pe.a,{"data-testid":"media-picker-recents-infinite-scroll",height:"100%",onThresholdReached:this.onThresholdReachedListener},s.a.createElement(ut,null,s.a.createElement(mt,{isEmpty:o,browserRef:n,featureFlags:i}),a,c))},t.prototype.onAnnotateActionClick=function(e){var t=this;return function(){De()?e():t.showWebGLWarningFlag()}},t.prototype.renderCards=function(){var e=this.recentFilesCards();return this.uploadingFilesCards().concat(e).map((function(e){var t=e.key,n=e.card;return s.a.createElement(Qe,{tabIndex:0,key:t},n)}))},t.prototype.uploadingFilesCards=function(){var e=this,t=this.props,n=t.uploads,i=t.onFileClick,o=t.mediaClient,a=t.featureFlags,c=Object.keys(n);c.sort((function(e,t){return n[t].index-n[e].index}));var l=this.props.selectedItems.filter((function(e){return"upload"===e.serviceName})).map((function(e){return e.id}));return c.map((function(t){var n=e.props.uploads[t].file,c=Object(ke.a)(n.metadata.mimeType),d=Object(r.a)(Object(r.a)({},n.metadata),{mimeType:c}),u=d.id,p=d.size,m=d.name,h=d.occurrenceKey,v=l.indexOf(u)>-1,g={id:u,mimeType:c,name:m,size:p,occurrenceKey:h,date:0},b=[Nt((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.setState({deletionCandidate:{id:u,occurrenceKey:h}}),[2]}))}))}))],y={id:u,mediaItemType:"file",collectionName:f.c};return{isUploading:!0,key:u,card:s.a.createElement(Oe.a,{mediaClientConfig:o.config,identifier:y,dimensions:At,selectable:!0,selected:v,onClick:function(){return i(g,"upload")},actions:b,testId:"media-picker-uploading-media-card",featureFlags:a})}}))},t.prototype.recentFilesCards=function(){var e=this,t=this.props,n=t.mediaClient,i=t.recents,r=t.recentsCollection,o=t.selectedItems,a=t.onFileClick,c=t.onEditRemoteImage,l=t.intl.formatMessage,d=t.featureFlags,u=i.items,p=o.filter((function(e){return"recent_files"===e.serviceName})).map((function(e){return e.id})),f=function(e){var t=e.mediaItemDetails;if(t){var n=t.id;a({id:n,date:0,name:t.name||"",mimeType:t.mimeType||"",size:t.size||0,createdAt:t.createdAt||0},"recent_files")}},m=function(t){if(t&&"file"===t.type){var n=t.details,i=n.id,o=n.name;De()?c({id:i,name:o||""},r):e.showWebGLWarningFlag()}};return u.map((function(t){var i=t.id,o=t.occurrenceKey,a=t.details,c=p.indexOf(i)>-1,u=[Nt((function(){e.setState({deletionCandidate:{id:i,occurrenceKey:o}})}))];"image"===a.mediaType&&u.unshift(function(e,t){return{label:t,handler:e,icon:s.a.createElement(Te.a,{label:"Annotate",size:"medium"})}}(m,l(h.a.annotate)));var v={id:i,mediaItemType:"file",collectionName:r};return{key:o+"-"+i,card:s.a.createElement(Oe.a,{mediaClientConfig:n.config,identifier:v,dimensions:At,selectable:!0,selected:c,onClick:f,actions:u,testId:"media-picker-recent-media-card",featureFlags:d})}}))},t.prototype.showWebGLWarningFlag=function(){this.setState({isWebGLWarningFlagVisible:!0})},t}(a.Component),Dt=Object(d.b)((function(e){return{isLoading:e.view.isLoading,recents:e.recents,uploads:e.uploads,selectedItems:e.selectedItems}}),(function(e){return{onFileClick:function(t,n){return e(T(t,n))},onEditorShowImage:function(t,n){return e(vt(n,t))},onEditRemoteImage:function(t,n){return e(function(e,t){return{type:"EDIT_REMOTE_IMAGE",item:e,collectionName:t}}(t,n))},removeFileFromRecents:function(t,n){return e(function(e,t){return{type:"REMOVE_FILES_FROM_RECENTS",id:e,occurrenceKey:t}}(t,n))}}}))(Object(m.injectIntl)(Pt)),Lt=n("./node_modules/lodash/debounce.js"),Ut=n.n(Lt),Rt=n("./node_modules/@atlaskit/textfield/dist/esm/components/Textfield.js"),zt=n("./node_modules/bricks.js/dist/bricks.module.js"),Bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.id,n=e.packed,i=void 0===n?"data-packed":n,r=e.sizes,o=void 0===r?[{columns:3,gutter:10}]:r,a=("function"==typeof zt?zt:zt.default)({container:"#"+t,packed:i,sizes:o});a.resize(!0),this.setState({instance:a})},t.prototype.componentDidUpdate=function(e){var t=e.children,n=this.props.children,i=this.state.instance;if(0!==t.length||0!==n.length)return i.pack()},t.prototype.componentWillUnmount=function(){this.state.instance.resize(!1)},t.prototype.render=function(){var e=this.props,t=e.id,n=e.children;return s.a.createElement("div",{id:t},n)},t.defaultProps={packed:"data-packed",sizes:[{columns:3,gutter:10}]},t}(a.Component),Ht=function(e){var t=e.width,n=e.height,i=e.containerWidth,r=e.gapSize,o=e.numberOfColumns,a=Math.floor((i-r*(o-1))/o);return{width:a,height:Math.round(a/t*n)}},Gt=v.default.div(gt||(gt=Object(r.e)(["\n  "," margin-top: 5px;\n"],["\n  "," margin-top: 5px;\n"])),(function(e){return"width: "+e.width+"px;"})),Wt=v.default.div(bt||(bt=Object(r.e)(["\n  color: #091e42;\n  font-size: 20px;\n  margin-top: 15px;\n"],["\n  color: #091e42;\n  font-size: 20px;\n  margin-top: 15px;\n"]))),Vt=v.default.div(yt||(yt=Object(r.e)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"],["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"]))),Kt=v.default.div(_t||(_t=Object(r.e)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n\n  /* Required to allow end users to select text in the error message */\n  cursor: auto;\n  user-select: text;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n\n  /* Required to allow end users to select text in the error message */\n  cursor: auto;\n  user-select: text;\n"]))),qt=v.default.div(jt||(jt=Object(r.e)(["\n  width: 92px;\n"],["\n  width: 92px;\n"]))),Yt=v.default.img(wt||(wt=Object(r.e)(["\n  width: 200px;\n"],["\n  width: 200px;\n"]))),Jt=v.default.p(xt||(xt=Object(r.e)(["\n  font-size: 14px;\n  font-weight: bold;\n  margin-bottom: 5px;\n"],["\n  font-size: 14px;\n  font-weight: bold;\n  margin-bottom: 5px;\n"]))),Zt=v.default.p(Ot||(Ot=Object(r.e)(["\n  color: ",";\n  font-size: 14px;\n  margin-top: 5px;\n"],["\n  color: ",";\n  font-size: 14px;\n  margin-top: 5px;\n"])),oe.N300),Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){return s.a.createElement(Kt,null,s.a.createElement(qt,null,He),s.a.createElement(Jt,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.cant_retrieve_files))),s.a.createElement(Zt,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.check_your_network))),s.a.createElement(g.a,{onClick:this.props.action},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.try_again))))},t}(s.a.Component),Qt=v.default.div(kt||(kt=Object(r.e)(["\n  overflow: auto;\n  height: 100%;\n"],["\n  overflow: auto;\n  height: 100%;\n"]))),$t=v.default.div(Et||(Et=Object(r.e)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 28px;\n\n  label {\n    display: none;\n  }\n\n  > div {\n    flex: initial;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 28px;\n\n  label {\n    display: none;\n  }\n\n  > div {\n    flex: initial;\n  }\n"]))),en=v.default.img(Ct||(Ct=Object(r.e)(["\n  height: 24px;\n  width: 24px;\n"],["\n  height: 24px;\n  width: 24px;\n"]))),tn=v.default.div(St||(St=Object(r.e)(["\n  height: 100%;\n  overflow-y: scroll;\n  padding: 0 28px;\n"],["\n  height: 100%;\n  overflow-y: scroll;\n  padding: 0 28px;\n"]))),nn=v.default.div(It||(It=Object(r.e)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  min-height: 480px;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  min-height: 480px;\n"]))),rn=v.default.div(Tt||(Tt=Object(r.e)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 24px;\n"],["\n  display: flex;\n  align-items: center;\n  margin-bottom: 24px;\n"]))),on=v.default.p(Mt||(Mt=Object(r.e)(["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n  margin: 0;\n  margin-left: 8px;\n"],["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n  margin: 0;\n  margin-left: 8px;\n"])),oe.N100),an=function(e){function t(t){var n=e.call(this,t)||this;return n.getContent=function(){var e=n.props,t=e.hasError,i=e.isLoading,r=e.cardModels;return t?n.renderError():i||0!==r.length?n.renderSearchResults():n.renderEmptyState()},n.renderError=function(){return s.a.createElement(Xt,{action:n.handleRetryButtonClick})},n.renderEmptyState=function(){var e=n.state.query;return s.a.createElement(Kt,null,s.a.createElement(Yt,{src:"https://media1.giphy.com/media/10YK5Hh53nC3dK/200w.gif"}),s.a.createElement(Jt,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.no_gifs_found))),s.a.createElement(Zt,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.no_gifs_found_suggestion,{values:{query:e}}))))},n.renderSearchResults=function(){var e=n.props,t=e.isLoading,i=e.cardModels,r=e.totalResultCount,o=void 0===r||i.length<r-1,a=(t||o)&&n.renderLoadMoreButton();return s.a.createElement("div",null,n.renderMasonaryLayout(n.props.cardModels),a)},n.renderMasonaryLayout=function(e){if(0===e.length)return null;var t=e.map((function(e,t){var i=e.dataURI,o=e.metadata,a=e.dimensions,c=n.props.selectedItems.some((function(e){return e.id===o.id&&"giphy"===e.serviceName})),l=Ht(Object(r.a)(Object(r.a)({},a),{gapSize:5,containerWidth:677,numberOfColumns:4})),d={mediaItemType:"external-image",dataURI:i,name:o.name};return s.a.createElement(Gt,{key:t+"-metadata.id",width:l.width},s.a.createElement(Oe.a,{identifier:d,mediaClientConfig:{},dimensions:l,selectable:!0,selected:c,onClick:n.createClickHandler(e)}))}));return s.a.createElement(Bt,{id:"mediapicker-gif-layout",sizes:[{columns:4,gutter:5}]},t)},n.renderLoadMoreButton=function(){var e=n.props.isLoading,t=e?s.a.createElement(Ee.a,null):void 0;return s.a.createElement(Vt,null,s.a.createElement(g.a,{onClick:n.handleLoadMoreButtonClick,isDisabled:e,iconAfter:t},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.load_more_gifs))))},n.createSearchChangeHandler=function(){var e=n.props.onSearchQueryChange,t=Ut()(e,1e3);return function(e){var i=e.currentTarget.value;n.setState({query:i}),t(i)}},n.createClickHandler=function(e){return function(){(0,n.props.onCardClick)(e)}},n.handleLoadMoreButtonClick=function(){(0,n.props.onLoadMoreButtonClick)(n.state.query,!0)},n.handleRetryButtonClick=function(){(0,n.props.onSearchQueryChange)(n.state.query)},n.state={query:""},n.searchChangeHandler=n.createSearchChangeHandler(),n}return Object(r.c)(t,e),t.prototype.componentDidUpdate=function(e){e.onSearchQueryChange!==this.props.onSearchQueryChange&&this.createSearchChangeHandler()},t.prototype.render=function(){var e=this.props.intl.formatMessage,t=this.state.query;return s.a.createElement(tn,{id:"mediapicker-giphy-container"},s.a.createElement(Wt,null,"GIPHY"),s.a.createElement(Rt.a,{placeholder:e(h.a.search_all_gifs),onChange:this.searchChangeHandler,value:t}),this.getContent())},t}(a.Component),sn=Object(d.b)((function(e){return{hasError:e.view.hasError,isLoading:e.view.isLoading,cardModels:e.giphy.imageCardModels,totalResultCount:e.giphy.totalResultCount,selectedItems:e.selectedItems}}),(function(e){return{onSearchQueryChange:function(t){return e(H(t,!1))},onLoadMoreButtonClick:function(t,n){return e(H(t,n))},onCardClick:function(t){var n=t.metadata,i=n.id,r=n.name,o=n.size;e(T({mimeType:"image/gif",id:i||"",name:r||"",size:o||0,date:Date.now()},"giphy"))}}}))(Object(m.injectIntl)(an)),cn=n("./node_modules/dateformat/lib/dateformat.js"),ln=n.n(cn),dn=n("./node_modules/filesize/lib/filesize.js"),un=n.n(dn),pn=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/check-circle.js"),fn=n.n(pn),mn=n("./node_modules/@atlaskit/dropdown-menu/dist/esm/components/item/DropdownItem.js"),hn=n("./node_modules/@atlaskit/dropdown-menu/dist/esm/components/group/DropdownItemGroup.js"),vn=n("./node_modules/@atlaskit/dropdown-menu/dist/esm/components/DropdownMenu.js"),gn=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/refresh.js"),bn=n.n(gn),yn=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/settings.js"),_n=n.n(yn),jn=v.default.div(wn||(wn=Object(r.e)(["\n  display: flex;\n  justify-content: space-between;\n\n  /* Ensure header has height */\n  min-height: 60px;\n  padding: 15px 13px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  background-color: ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n\n  /* Ensure header has height */\n  min-height: 60px;\n  padding: 15px 13px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  background-color: ",";\n"])),oe.N0);jn.displayName="FolderViewerNavigation";var wn,xn,On,kn,En,Cn,Sn,In,Tn=v.default.div(xn||(xn=Object(r.e)([""],[""]))),Mn=v.default.div(On||(On=Object(r.e)(["\n  height: 30px;\n  display: flex;\n"],["\n  height: 30px;\n  display: flex;\n"]))),Fn=function(e){return s.a.createElement(g.a,Object(r.a)({},e,{theme:function(e,t){var n=e(t),i=n.buttonStyles,o=Object(r.g)(n,["buttonStyles"]);return Object(r.a)({buttonStyles:Object(r.a)(Object(r.a)({},i),{marginRight:"5px"})},o)}}))},Nn=v.default.div(kn||(kn=Object(r.e)(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),An=v.default.span(En||(En=Object(r.e)(["\n  &:hover {\n    text-decoration: ",";\n  }\n"],["\n  &:hover {\n    text-decoration: ",";\n  }\n"])),(function(e){return e.isLast?"none":"underline"})),Pn=v.default.span(Cn||(Cn=Object(r.e)(["\n  color: ",";\n  display: ",";\n  margin: 0 4px;\n  text-decoration: none;\n"],["\n  color: ",";\n  display: ",";\n  margin: 0 4px;\n  text-decoration: none;\n"])),oe.N500,(function(e){return e.isLast?"none":"inline"})),Dn=v.default.span(Sn||(Sn=Object(r.e)(["\n  color: ",";\n  cursor: ",";\n  font-size: ",";\n"],["\n  color: ",";\n  cursor: ",";\n  font-size: ",";\n"])),(function(e){return e.isLast?oe.N900:oe.N500}),(function(e){return e.isLast?"default":"pointer"}),(function(e){return e.isLast?"20px":"14px"})),Ln=function(e){return s.a.createElement(g.a,Object(r.a)({},e))},Un=v.default.div(In||(In=Object(r.e)(["\n  /* TODO: remove this when the ak-dropdown-menu package supports custom item types */\n  span[role='presentation'] > span > span:first-child {\n    display: none;\n  }\n"],["\n  /* TODO: remove this when the ak-dropdown-menu package supports custom item types */\n  span[role='presentation'] > span > span:first-child {\n    display: none;\n  }\n"]))),Rn={dropbox:"Dropbox",google:"Google Drive"},zn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownOpen:!1,availableAccounts:[]},t.mounted=!1,t.onRefreshButtonClick=function(){var e=t.props,n=e.service,i=e.path;(0,e.onChangePath)(n.name,n.accountId,i)},t.onChangeAccountHandler=function(e,n){return function(){(0,t.props.onChangeAccount)(e,n)}},t.onUnlinkAccountHandler=function(e,n){return function(){(0,t.props.onUnlinkAccount)(e,n)}},t.onStartAuthHandler=function(e){return function(){(0,t.props.onStartAuth)(e)}},t.handleOpenChange=function(e){t.setState({dropdownOpen:e.isOpen})},t}return Object(r.c)(t,e),t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.componentDidMount=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.mounted=!0,e=this.props,t=e.accounts,n=e.service,[4,t];case 1:return i=r.sent().filter((function(e){return e.type===n.name})),this.mounted&&this.setState({availableAccounts:i}),[2]}}))}))},t.prototype.componentDidUpdate=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t=this.props,n=t.accounts,i=t.service,e.service===i?[3,2]:[4,n];case 1:o=r.sent().filter((function(e){return e.type===i.name})),this.mounted&&this.setState({availableAccounts:o}),r.label=2;case 2:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.service,n=e.path,i=this.generateBreadcrumbs(t,n),r=this.getAccountsDropdown();return s.a.createElement(jn,null,i,s.a.createElement(Tn,null,s.a.createElement(Mn,null,s.a.createElement(Fn,{onClick:this.onRefreshButtonClick,iconBefore:s.a.createElement(bn.a,{label:"refresh"})}),r)))},t.prototype.getAccountButton=function(){var e=this.state.dropdownOpen;return s.a.createElement(Ln,{isSelected:e,iconBefore:s.a.createElement(_n.a,{label:"account settings"})})},t.prototype.getAccountsDropdownItems=function(){var e=this,t=this.props,n=t.service,i=t.intl.formatMessage,o=this.state.availableAccounts.map((function(t){var i=t.id,r=t.displayName,o=t.type;return s.a.createElement(mn.a,{key:i,onClick:e.onChangeAccountHandler(o,i)},i===n.accountId?s.a.createElement("b",null,r):r)})),a=[s.a.createElement(mn.a,{key:"add",onClick:this.onStartAuthHandler(n.name)},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.add_account))),s.a.createElement(mn.a,{key:"unlink",onClick:this.onUnlinkAccountHandler(n.name,n.accountId)},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.unlink_account)))];return[s.a.createElement(hn.a,{key:"accounts",title:i(h.a.accounts)},o),s.a.createElement(hn.a,{key:"actions",title:i(h.a.actions)},a)]},t.prototype.getAccountsDropdown=function(){var e=this.getAccountsDropdownItems();return s.a.createElement(Un,null,s.a.createElement(vn.a,{onOpenChange:this.handleOpenChange,trigger:this.getAccountButton(),position:"bottom right"},e))},t.prototype.generateBreadcrumbs=function(e,t){var n=this,i=[{id:"",name:Rn[e.name]||e.name}].concat(t),r=i.slice(-2).map((function(e){var t=i.indexOf(e);return i.slice(0,t+1)})).map((function(t,i,r){var o=i===r.length-1;return n.renderBreadcrumb(e,t,o)}));return s.a.createElement(Nn,null,r)},t.prototype.renderBreadcrumb=function(e,t,n){var i=this.props.onChangePath;if(0===t.length)return null;var r=t[t.length-1];return s.a.createElement(Dn,{key:r.id,onClick:function(){return i(e.name,e.accountId,t.slice(1))},isLast:n},s.a.createElement(An,{title:r.name,isLast:n},r.name),s.a.createElement(Pn,{isLast:n},"/"))},t}(a.Component),Bn=Object(d.b)((function(e){var t=e.accounts,n=e.view;return{accounts:t,path:n.path,service:n.service}}),(function(e){return{onChangeAccount:function(t,n){return e(w(t,n))},onChangePath:function(t,n,i){return e(x(t,n,Object(r.h)(i)))},onStartAuth:function(t){return e(D(t))},onUnlinkAccount:function(t,n){return e(U({id:n,name:t}))}}}))(Object(m.injectIntl)(zn)),Hn=v.default.div(Kn||(Kn=Object(r.e)(["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"]))),Gn=v.default.div(qn||(qn=Object(r.e)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"]))),Wn=v.default.ul(Yn||(Yn=Object(r.e)(["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"],["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"]))),Vn=v.default.li(Jn||(Jn=Object(r.e)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"])),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: white;"}),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: "+oe.N30+";"}));Vn.displayName="FolderViewerRow";var Kn,qn,Yn,Jn,Zn,Xn,Qn,$n,ei,ti,ni,ii=v.default.div(Zn||(Zn=Object(r.e)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),ri=v.default.div(Xn||(Xn=Object(r.e)(["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"],["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"]))),oi=v.default.div(Qn||(Qn=Object(r.e)(["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"],["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"])),(function(e){return e.isSelected?"color: white;":"color: "+oe.N900})),ai=v.default.div($n||($n=Object(r.e)(["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"],["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"])),oe.N90),si=v.default.div(ei||(ei=Object(r.e)(["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"],["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"])),oe.N90),ci=v.default.div(ti||(ti=Object(r.e)(["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"],["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"])),oe.B400),li=v.default.div(ni||(ni=Object(r.e)(["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"],["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"]))),di=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/folder-filled.js"),ui=n.n(di),pi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/image.js"),fi=n.n(pi),mi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/video.js"),hi=n.n(mi),vi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/audio.js"),gi=n.n(vi),bi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/spreadsheet.js"),yi=n.n(bi),_i=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/presentation.js"),ji=n.n(_i),wi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/document.js"),xi=n.n(wi),Oi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/pdf.js"),ki=n.n(Oi),Ei=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/zip.js"),Ci=n.n(Ei),Si=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/unknown.js"),Ii=n.n(Si),Ti=v.default.div(Mi||(Mi=Object(r.e)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return"color: "+e.color+";"}));var Mi,Fi,Ni,Ai,Pi,Di,Li,Ui,Ri,zi,Bi,Hi,Gi,Wi,Vi,Ki,qi,Yi,Ji,Zi=s.a.createElement(Ti,{color:oe.B75},s.a.createElement(ui.a,{label:"folder"})),Xi=function(e){return function(e){return["application/vnd.atlassian.mediapicker.folder","application/vnd.google-apps.folder"].indexOf(e)>-1}(e)?Zi:function(e){return 0===e.indexOf("image/")}(e)?s.a.createElement(Ti,{color:oe.Y200},s.a.createElement(fi.a,{label:"image"})):function(e){return 0===e.indexOf("video/")}(e)?s.a.createElement(Ti,{color:oe.R300},s.a.createElement(hi.a,{label:"video"})):function(e){return 0===e.indexOf("audio/")}(e)?s.a.createElement(Ti,{color:oe.P200},s.a.createElement(gi.a,{label:"audio"})):function(e){return["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.google-apps.spreadsheet","application/x-iwork-keynote-sffnumbers"].indexOf(e)>-1}(e)?s.a.createElement(Ti,{color:oe.G300},s.a.createElement(yi.a,{label:"spreadsheet"})):function(e){return["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.google-apps.presentation","application/x-iwork-keynote-sffkey"].indexOf(e)>-1}(e)?s.a.createElement(Ti,{color:oe.Y400},s.a.createElement(ji.a,{label:"presentation"})):function(e){return["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/x-iwork-pages-sffpages"].indexOf(e)>-1}(e)?s.a.createElement(Ti,{color:oe.B200},s.a.createElement(xi.a,{label:"document"})):function(e){return"application/pdf"===e}(e)?s.a.createElement(Ti,{color:oe.R400},s.a.createElement(ki.a,{label:"pdf document"})):function(e){return["application/zip","application/x-7z-compressed","application/x-bzip","application/x-bzip2"].indexOf(e)>-1}(e)?s.a.createElement(Ti,{color:oe.N200},s.a.createElement(Ci.a,{label:"zip"})):s.a.createElement(Ti,{color:oe.N70},s.a.createElement(Ii.a,{label:"unknown"}))},Qi=function(e){if(!e)return"";var t=(new Date).toDateString(),n=new Date(e),i=n.toDateString();return ln()(n,t===i?"H:MM TT":"d mmm yyyy")},$i=s.a.createElement(ci,null,s.a.createElement(fn.a,{label:"check"})),er=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContents=function(){return t.isPageInitialLoading?s.a.createElement(Gn,null,s.a.createElement(Ee.a,{size:"large"})):t.renderFolderContent(t.props.items)},t.renderServiceFolder=function(e,n){return s.a.createElement(Vn,{onClick:t.itemClicked(e),key:e.id},s.a.createElement(ii,null,s.a.createElement(ri,null,n),s.a.createElement(oi,null,e.name)))},t.renderServiceFile=function(e,n,i){var r=i?$i:t.renderFileCreateDateAndSize(e);return s.a.createElement(Vn,{isSelected:i,onClick:t.itemClicked(e),key:e.id},s.a.createElement(ii,null,s.a.createElement(ri,null,n),s.a.createElement(oi,{isSelected:i},e.name)),r)},t.renderFileCreateDateAndSize=function(e){var t=e.date,n=e.size;return s.a.createElement(ii,null,s.a.createElement(ai,null,Qi(t)),s.a.createElement(si,null,un()(n)))},t.onLoadMoreButtonClick=function(){var e=t.props,n=e.service,i=e.path,r=e.nextCursor,o=e.isLoading,a=e.onLoadMoreClick;o||a(n.name,n.accountId,i,r||"")},t}return Object(r.c)(t,e),t.prototype.render=function(){return s.a.createElement(Hn,null,s.a.createElement(Bn,null),this.renderContents())},Object.defineProperty(t.prototype,"isPageInitialLoading",{get:function(){return this.props.isLoading&&!this.props.currentCursor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPageMoreLoading",{get:function(){return this.props.isLoading&&this.props.currentCursor},enumerable:!1,configurable:!0}),t.prototype.renderFolderContent=function(e){var t=this;if(!e)return null;var n=e.filter((function(e){return-1===e.mimeType.indexOf("application/vnd.google-apps.")})).map((function(e){var n=Xi(e.mimeType),i=t.props.selectedItems.map((function(e){return e.id})).indexOf(e.id)>-1;return function(e){return"application/vnd.atlassian.mediapicker.folder"!==e.mimeType}(e)?t.renderServiceFile(e,n,i):t.renderServiceFolder(e,n)}));return s.a.createElement(Wn,null,[n,this.renderLoadMoreButton()])},t.prototype.renderLoadMoreButton=function(){var e=this.props,t=e.nextCursor,n=e.isLoading;if(t||this.isPageMoreLoading){var i=n?"Loading...":"Load more";return(s.a.createElement(li,{key:"load-more-button-wrapper"},s.a.createElement(g.a,{className:"moreBtn",onClick:this.onLoadMoreButtonClick,isDisabled:n},i)))}return null},t.prototype.itemClicked=function(e){var t=this;return function(){var n=t.props,i=n.service,o=n.onFolderClick,a=n.onFileClick;if(function(e){return"application/vnd.atlassian.mediapicker.folder"===e.mimeType}(e)){var s=t.props.path.slice();s.push({id:e.id,name:e.name}),o(i.name,i.accountId,s)}else{var c=Object(r.a)({},e);a(i.name,i.accountId,c)}}},t}(a.Component),tr=Object(d.b)((function(e){var t=e.view,n=e.selectedItems;return{path:t.path,service:t.service,items:t.items,selectedItems:n,isLoading:t.isLoading,currentCursor:t.currentCursor,nextCursor:t.nextCursor}}),(function(e){return{onFolderClick:function(t,n,i){return e(x(t,n,i))},onFileClick:function(t,n,i){return e(T(i,t,n))},onLoadMoreClick:function(t,n,i,r){return e(function(e,t,n,i){return{type:"FETCH_NEXT_CLOUD_FILES_PAGE",serviceName:e,accountId:t,path:n,nextCursor:i}}(t,n,i,r))}}}))(er),nr=v.default.div(Fi||(Fi=Object(r.e)(["\n  color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  > span {\n    width: 120px;\n    height: 120px;\n\n    svg {\n      width: 100%;\n      height: 100%;\n    }\n  }\n"],["\n  color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  > span {\n    width: 120px;\n    height: 120px;\n\n    svg {\n      width: 100%;\n      height: 100%;\n    }\n  }\n"])),oe.N30),ir=v.default.div(Ni||(Ni=Object(r.e)(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),rr=v.default.div(Ai||(Ai=Object(r.e)(["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"],["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"])),oe.N500),or=v.default.div(Pi||(Pi=Object(r.e)(["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"],["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"])),oe.N100),ar=v.default.div(Di||(Di=Object(r.e)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]))),sr={dropbox:{name:"Dropbox",icon:s.a.createElement(ne.a,{label:"dropbox",size:"xlarge"})},google:{name:"Google Drive",icon:s.a.createElement(re.a,{label:"drive",size:"xlarge"})}},cr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){return t.props.onStartAuth(t.props.service.name)},t}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props.service,t=sr[e.name];if(!t)return null;var n=t.name,i=t.icon;return s.a.createElement(ar,null,s.a.createElement(or,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.upload_file_from,{values:{name:n}}))),s.a.createElement(nr,null,i),s.a.createElement(ir,null,s.a.createElement(g.a,{appearance:"primary",className:"connectBtn",onClick:this.onClick},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.connect_to,{values:{name:n}})))),s.a.createElement(rr,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.connect_account_description,{values:{name:n}}))))},t}(a.Component),lr=Object(d.b)((function(e){return{service:e.view.service}}),(function(e){return{onStartAuth:function(t){return e(D(t))}}}))(cr),dr=v.default.div(Li||(Li=Object(r.e)(["\n  height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n"],["\n  height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n"]))),ur=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderError=function(){return s.a.createElement(Kt,{id:"browser-container"},s.a.createElement(Xt,{action:t.reloadService}))},t.reloadService=function(){var e=t.props;(0,e.reloadService)(e.service)},t}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.service,n=e.hasError?this.renderError():t.accountId?s.a.createElement(tr,null):s.a.createElement(lr,null);return s.a.createElement(dr,null,n)},t}(a.Component),pr=Object(d.b)((function(e){var t=e.view;return{service:t.service,hasError:t.hasError}}),(function(e){return{reloadService:function(t){return e(E(t.name))}}}))(ur),fr=v.default.div(Ui||(Ui=Object(r.e)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.9);\n  left: 0;\n  top: 0;\n  display: ",";\n  text-align: center;\n  z-index: 100;\n  align-items: center;\n  justify-content: center;\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.9);\n  left: 0;\n  top: 0;\n  display: ",";\n  text-align: center;\n  z-index: 100;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.isActive?"flex":"none"})),mr=Object(v.keyframes)(Ri||(Ri=Object(r.e)(["\n  from {\n    opacity: 0;\n    transform: translate(0, 30px);\n  }\n"],["\n  from {\n    opacity: 0;\n    transform: translate(0, 30px);\n  }\n"]))),hr=v.default.div(zi||(zi=Object(r.e)(["\n  animation: "," 0.5s;\n"],["\n  animation: "," 0.5s;\n"])),mr),vr=v.default.div(Bi||(Bi=Object(r.e)(["\n  margin-top: 10px;\n  font-size: 16px;\n  color: #165ecc;\n"],["\n  margin-top: 10px;\n  font-size: 16px;\n  color: #165ecc;\n"]))),gr=v.default.div(Hi||(Hi=Object(r.e)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 101;\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 101;\n"]))),br=v.default.svg(Gi||(Gi=Object(r.e)(["\n  width: 70px;\n  height: 70px;\n"],["\n  width: 70px;\n  height: 70px;\n"]))),yr=v.default.g(Wi||(Wi=Object(r.e)([""],[""]))),_r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){return s.a.createElement(br,{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement(yr,{id:"Symbols",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},s.a.createElement(yr,{id:"Upload-cloud-active",fill:"#165ECC"},s.a.createElement("path",{d:"M13,13.769312 L15.4995642,13.769312 C15.7692032,13.769312 15.8594741,13.5936547 15.6861267,13.3769704 L12.1240983,8.92443488 C12.0565453,8.83999358 11.9444393,8.83876288 11.8759017,8.92443488 L8.31387329,13.3769704 C8.14236212,13.5913594 8.22405275,13.769312 8.50043583,13.769312 L11,13.769312 L11,16.7978014 C11,16.9132156 11.0891309,17 11.1990795,17 L12.8009205,17 C12.9140625,17 13,16.9094726 13,16.7978014 L13,13.769312 Z M6,20 C3.23857625,20 1,17.7614237 1,15 C1,12.580468 2.71857515,10.5623307 5.00162508,10.0996885 C5.00054449,10.0665918 5,10.0333595 5,10 C5,8.34314575 6.34314575,7 8,7 C8.4650862,7 8.90545376,7.10583308 9.2983335,7.29473006 C9.99550814,5.37293414 11.8374211,4 14,4 C16.7614237,4 19,6.23857625 19,9 C19,9.37003761 18.9598026,9.73068663 18.8835364,10.0778186 C21.2235498,10.4950422 23,12.540065 23,15 C23,17.7614237 20.7614237,20 18,20 L6,20 Z",id:"Combined-Shape"}))))},t}(a.Component),jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props.isActive;return s.a.createElement(fr,{isActive:e},s.a.createElement(hr,null,s.a.createElement(_r,null),s.a.createElement(vr,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.drop_your_files)))),s.a.createElement(gr,null))},t}(a.Component),wr=n("./node_modules/@atlaskit/media-editor/node_modules/tslib/tslib.es6.js"),xr=n("./node_modules/@atlaskit/media-ui/dist/esm/modalSpinner.js"),Or=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={EditorView:t.EditorView},n}return Object(wr.c)(t,e),t.prototype.UNSAFE_componentWillMount=function(){return Object(wr.b)(this,void 0,void 0,(function(){var e;return Object(wr.d)(this,(function(i){switch(i.label){case 0:if(this.state.EditorView)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.e("@atlaskit-internal_media-editor-view").then(n.bind(null,"./node_modules/@atlaskit/media-editor/dist/esm/react/editorView/editorView.js"))];case 2:return e=i.sent(),t.EditorView=e.default,this.setState({EditorView:e.default}),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){return this.state.EditorView?s.a.createElement(this.state.EditorView,Object(wr.a)({},this.props)):s.a.createElement(xr.a,{blankedColor:"none",invertSpinnerColor:!1})},t.displayName="AsyncEditorView",t}(s.a.PureComponent),kr=function(){function e(e){var t=this;this.escHandler=e,this.keyDownListener=function(e){return t.onKeyDown(e)},window.addEventListener("keydown",this.keyDownListener),window.focus()}return e.prototype.teardown=function(){window.removeEventListener("keydown",this.keyDownListener)},e.prototype.onKeyDown=function(e){"Escape"!==e.key&&27!==e.which||this.escHandler()},e}(),Er=v.default.div(Vi||(Vi=Object(r.e)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 200;\n  overflow: hidden;\n"],["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 200;\n  overflow: hidden;\n"])),oe.N700A),Cr=v.default.div(Ki||(Ki=Object(r.e)(["\n  width: 290px;\n  padding: 16px;\n  background-color: ",";\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"],["\n  width: 290px;\n  padding: 16px;\n  background-color: ",";\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"])),oe.N0),Sr=v.default.div(qi||(qi=Object(r.e)(["\n  width: 92px;\n"],["\n  width: 92px;\n"]))),Ir=v.default.div(Yi||(Yi=Object(r.e)(["\n  color: ",";\n  margin-top: 16px;\n  margin-bottom: 4px;\n  width: 256px;\n  text-align: center;\n  font-weight: bold;\n"],["\n  color: ",";\n  margin-top: 16px;\n  margin-bottom: 4px;\n  width: 256px;\n  text-align: center;\n  font-weight: bold;\n"])),oe.N900),Tr=v.default.div(Ji||(Ji=Object(r.e)(["\n  color: ",";\n  margin-top: 4px;\n  margin-bottom: 20px;\n  width: 256px;\n  text-align: center;\n"],["\n  color: ",";\n  margin-top: 4px;\n  margin-bottom: 20px;\n  width: 256px;\n  text-align: center;\n"])),oe.N70),Mr=function(e){return s.a.createElement(g.a,Object(r.a)({},e,{theme:function(e,t){var n=e(t),i=n.buttonStyles,o=Object(r.g)(n,["buttonStyles"]);return Object(r.a)({buttonStyles:Object(r.a)(Object(r.a)({},i),{display:"inline-flex",width:"84px",margin:"2px",justifyContent:"center"})},o)}}))},Fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.escHelper=new kr(this.props.onCancel)},t.prototype.componentWillUnmount=function(){this.escHelper&&this.escHelper.teardown()},t.prototype.render=function(){return s.a.createElement(Er,null,s.a.createElement(Cr,null,s.a.createElement(Sr,null,He),s.a.createElement(Ir,null,this.props.message),s.a.createElement(Tr,null,this.renderHint()),this.renderTryAgainButton(),this.renderCancelButton()))},t.prototype.renderHint=function(){var e=this.props,t=e.onRetry,n=e.intl.formatMessage;return t?s.a.createElement("span",null,n(h.a.error_hint_retry)):s.a.createElement("span",null,n(h.a.error_hint_critical))},t.prototype.renderTryAgainButton=function(){var e=this.props,t=e.onRetry,n=e.intl.formatMessage;return t?s.a.createElement(Mr,{appearance:"primary",onClick:t},n(h.a.try_again)):null},t.prototype.renderCancelButton=function(){var e=this.props,t=e.onCancel,n=e.onRetry,i=e.intl.formatMessage,r=n?h.a.cancel:h.a.close;return s.a.createElement(Mr,{appearance:"subtle",onClick:t},i(r))},t}(a.Component),Nr=Object(m.injectIntl)(Fr),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.escHelper=new kr(this.props.onCancel)},t.prototype.componentWillUnmount=function(){this.escHelper&&this.escHelper.teardown()},t.prototype.render=function(){return s.a.createElement(Er,null,s.a.createElement(Ee.a,{size:"large",appearance:"invert"}))},t}(a.Component),Pr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContent=function(e){var n=e.imageUrl,i=e.originalFile,r=e.error;return r?t.renderError(r):n&&i?s.a.createElement(Er,null,s.a.createElement(Or,{imageUrl:n,onSave:t.onEditorSave(i),onCancel:t.onCancel,onError:t.onEditorError})):s.a.createElement(Ar,{onCancel:t.onCancel})},t.onEditorError=function(e,n){t.props.onShowEditorError({message:e,retryHandler:n})},t.onEditorSave=function(e){return function(n){var i=t.props,r=i.localUploader,o=i.onDeselectFile,a=i.onCloseEditor,s=e.name,c=t.urltoFile(n,s);r.addFiles([c]),o(e.id),a("Save")}},t.onCancel=function(){t.props.onCloseEditor("Close")},t.urltoFile=function(e,t){var n=e.split(","),i=n[0].match(/:(.*?);/);if(!i||i.length<2)throw new Error("Failed to retrieve file from data URL");for(var r=i[1],o=atob(n[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var c=new Blob([s],{type:r});return c.name=t,c},t}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props.editorData;return e?this.renderContent(e):null},t.prototype.renderError=function(e){var t=e.message,n=e.retryHandler;return s.a.createElement(Nr,{message:t,onRetry:n,onCancel:this.onCancel})},t}(a.Component),Dr=Object(d.b)((function(e){return{editorData:e.editorData}}),(function(e){return{onShowEditorError:function(t){var n=t.message,i=t.retryHandler;return e(S(n,i))},onCloseEditor:function(t){return e(function(e){return{type:"EDITOR_CLOSE",selection:e}}(t))},onDeselectFile:function(t){return e(function(e){return{type:"DESELECT_ITEM",id:e}}(t))}}}))(Pr);function Lr(e){return"START_APP"===e.type}var Ur,Rr,zr,Br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createDefaultI18nProvider=function(){return new m.IntlProvider({locale:"en"}).getChildContext().intl},t}return Object(r.c)(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.store,n=e.proxyReactContext;return{store:t,getAtlaskitAnalyticsEventHandlers:n&&n.getAtlaskitAnalyticsEventHandlers?n.getAtlaskitAnalyticsEventHandlers:function(){return[]},intl:n&&n.intl||this.createDefaultI18nProvider()}},t.prototype.render=function(){return this.props.children},t.childContextTypes={store:function(){},getAtlaskitAnalyticsEventHandlers:function(){},intl:m.intlShape},t}(a.Component),Hr=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/theme/dist/esm/constants.js"),Gr=v.default.div(Ur||(Ur=Object(r.e)(["\n  display: flex;\n  cursor: default;\n  user-select: none;\n  font-family: ",";\n  border-radius: 3px;\n  position: relative;\n\n  /* Ensure that the modal has a static size */\n  width: 968px;\n"],["\n  display: flex;\n  cursor: default;\n  user-select: none;\n  font-family: ",";\n  border-radius: 3px;\n  position: relative;\n\n  /* Ensure that the modal has a static size */\n  width: 968px;\n"])),Object(Hr.fontFamily)()),Wr=v.default.div(Rr||(Rr=Object(r.e)(["\n  width: 235px;\n  min-width: 235px;\n  background-color: ",";\n  min-height: ",";\n"],["\n  width: 235px;\n  min-width: 235px;\n  background-color: ",";\n  min-height: ",";\n"])),oe.N30,"498px"),Vr=v.default.div(zr||(zr=Object(r.e)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  /* Height of the Popup should never change */\n  height: calc(100vh - 200px);\n\n  background-color: white;\n  min-height: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  /* Height of the Popup should never change */\n  height: calc(100vh - 200px);\n\n  background-color: white;\n  min-height: ",";\n"])),"498px"),Kr=n("./node_modules/@atlaskit/media-picker/dist/esm/components/clipboard/clipboard.js"),qr=n("./node_modules/@atlaskit/media-picker/dist/esm/components/dropzone/dropzone.js"),Yr=n("./node_modules/@atlaskit/media-picker/dist/esm/components/browser/browser.js"),Jr=n("./node_modules/@atlaskit/media-picker/dist/esm/components/component.js"),Zr=n("./node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js"),Xr=function(e){function t(t,n){var i=e.call(this)||this;i.addFiles=function(e){return i.uploadService.addFiles(e)},i.onFilesAdded=function(e){var t=e.files;i.emitUploadsStart(t)},i.onFilePreviewUpdate=function(e){var t=e.file,n=e.preview;i.emitUploadPreviewUpdate(t,n)},i.onFileConverting=function(e){var t=e.file;i.emitUploadEnd(t)},i.onUploadError=function(e){var t=e.fileId,n=e.error;i.emitUploadError(t,n)};var r=n.uploadParams;i.mediaClient=t;var o=n.shouldCopyFileToRecents,a=void 0===o||o;return i.uploadService=new Zr.a(i.mediaClient,r,a),i.config=n,i.uploadService.on("files-added",i.onFilesAdded),i.uploadService.on("file-preview-update",i.onFilePreviewUpdate),i.uploadService.on("file-converting",i.onFileConverting),i.uploadService.on("file-upload-error",i.onUploadError),i}return Object(r.c)(t,e),t.prototype.cancel=function(e){this.uploadService.cancel(e)},t.prototype.setUploadParams=function(e){this.uploadService.setUploadParams(e)},t}(Jr.a),Qr=function(e){function t(t){var n=e.call(this,t)||this;n.browserRef=s.a.createRef(),n.dropzoneRef=s.a.createRef(),n.onDragLeave=function(e){(0,n.props.onDropzoneDragOut)(e.length),n.setDropzoneActive(!1)},n.onDragEnter=function(){n.setDropzoneActive(!0)},n.onDrop=function(e){var t=n.props,i=t.onDropzoneDropIn,r=t.onUploadsStart;i(e.files.length),r(e)},n.setDropzoneActive=function(e){n.setState({isDropzoneActive:e})},n.renderClipboard=function(){var e=n.props,t=e.onUploadError,i=e.tenantUploadParams,r=e.featureFlags,o={uploadParams:i,shouldCopyFileToRecents:!1};return s.a.createElement(Kr.Clipboard,{mediaClient:n.componentMediaClient,config:o,onUploadsStart:n.onDrop,onError:t,featureFlags:r})},n.renderBrowser=function(){var e=n.props,t=e.tenantUploadParams,i=e.onUploadsStart,r=e.onUploadError,o=e.featureFlags,a={uploadParams:t,shouldCopyFileToRecents:!1,multiple:!0};return s.a.createElement(Yr.Browser,{ref:n.browserRef,mediaClient:n.componentMediaClient,config:a,onUploadsStart:i,onError:r,featureFlags:o})},n.renderDropzone=function(){var e=n.props,t=e.onUploadError,i=e.tenantUploadParams,r=e.featureFlags,o={uploadParams:i,shouldCopyFileToRecents:!1};return s.a.createElement(qr.Dropzone,{ref:n.dropzoneRef,mediaClient:n.componentMediaClient,config:o,featureFlags:r,onUploadsStart:n.onDrop,onError:t,onDragEnter:n.onDragEnter,onDragLeave:n.onDragLeave})};var i=t.onStartApp,r=t.onUploadsStart,a=t.onUploadError,c=t.tenantMediaClient,l=t.userMediaClient,d=t.tenantUploadParams;n.state={isDropzoneActive:!1};var u=new o.a({authProvider:c.config.authProvider,userAuthProvider:l.config.authProvider});return n.componentMediaClient=u,n.localUploader=new Xr(u,{uploadParams:d,shouldCopyFileToRecents:!1}),n.localUploader.on("uploads-start",r),n.localUploader.on("upload-error",a),i({onCancelUpload:function(e){n.browserRef.current&&n.browserRef.current.cancel(e),n.dropzoneRef.current&&n.dropzoneRef.current.cancel(e),n.localUploader.cancel(e)}}),n}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedServiceName,n=e.isVisible,i=e.onClose,r=e.store,o=e.proxyReactContext,a=e.useForgePlugins,c=void 0!==a&&a,l=this.state.isDropzoneActive;return s.a.createElement(u.b,null,n&&s.a.createElement(d.a,{store:r},s.a.createElement(p.a,{onClose:i,width:"x-large",isChromeless:!0},s.a.createElement(Br,{store:r,proxyReactContext:o},s.a.createElement("div",{"data-testid":"media-picker-popup"},s.a.createElement(Gr,null,s.a.createElement(Wr,null,s.a.createElement(xe,{useForgePlugins:c})),s.a.createElement(Vr,null,this.renderCurrentView(t),s.a.createElement(ee,null)),s.a.createElement(jr,{isActive:l}),s.a.createElement(Dr,{localUploader:this.localUploader})),this.renderClipboard(),this.renderDropzone(),this.renderBrowser())))))},t.prototype.renderCurrentView=function(e){var t=this.props,n=t.plugins,i=void 0===n?[]:n,r=t.onFileClick,o=t.selectedItems;if("upload"===e){var a=this.props,c=a.userMediaClient,l=a.featureFlags;return s.a.createElement(Dt,{browserRef:this.browserRef,mediaClient:c,recentsCollection:f.c,featureFlags:l})}if("giphy"===e)return s.a.createElement(sn,null);var d=i.find((function(t){return t.name===e}));if(d){var u={fileClick:function(e,t){var n={id:e.id,date:(new Date).getTime(),mimeType:"",name:"",size:0,metadata:e.metadata};r(n,t)}};return d.render(u,o)}return s.a.createElement(pr,null)},t}(a.Component),$r=Object(d.b)((function(e){var t=e.view,n=e.tenantMediaClient,i=e.userMediaClient,r=e.config,o=e.plugins,a=e.selectedItems;return{selectedServiceName:t.service.name,isVisible:t.isVisible,config:r,plugins:o,selectedItems:a,tenantMediaClient:n,userMediaClient:i}}),(function(e){return{onStartApp:function(t){return e(function(e){return{type:"START_APP",payload:e}}(t))},onUploadsStart:function(t){return e(function(e){return{type:"FILE_UPLOADS_START",files:e.files}}(t))},onClose:function(){e(P()),e(N())},onUploadError:function(t){return e(function(e){return{type:"FILE_UPLOAD_ERROR",fileId:e.fileId,error:e.error,originalEvent:{name:"upload-error",data:e}}}(t))},onDropzoneDragOut:function(t){return e(function(e){return{type:"DROPZONE_DRAG_OUT",fileCount:e}}(t))},onDropzoneDropIn:function(t){return e(function(e){return{type:"DROPZONE_DROP_IN",fileCount:e}}(t))},onFileClick:function(t,n){return e(T(t,n))}}}))(Qr);function eo(e){return"SHOW_POPUP"===e.type}function to(e){return{type:"CANCEL_UPLOAD",payload:e}}var no=n("./node_modules/redux/es/index.js"),io=n("./node_modules/redux-devtools-extension/developmentOnly.js"),ro=n("./node_modules/postis/src/index.js"),oo=n.n(ro),ao=n("./node_modules/uuid/v4.js"),so=n.n(ao),co=n("./node_modules/@atlaskit/media-client/dist/esm/utils/url.js"),lo=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");function uo(e){return Object(lo.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}function po(e){return Object(lo.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}var fo=n("./node_modules/url/url.js"),mo=function(e){return e.json()},ho=function(){function e(){var e=this;this.fetchTrendingGifs=function(t){var n={api_key:"lBOxhhz1BM62Y3JsK0iQv1pRYyOGUjR8",rating:"pg",offset:t},i="https://api.giphy.com/v1/gifs/trending"+e.stringifyParams(n);return fetch(i).then(mo).then(e.mapGiphyResponseToViewModel)},this.fetchGifsRelevantToSearch=function(t,n){var i={api_key:"lBOxhhz1BM62Y3JsK0iQv1pRYyOGUjR8",rating:"pg",q:t,offset:n},r="https://api.giphy.com/v1/gifs/search"+e.stringifyParams(i);return fetch(r).then(mo).then(e.mapGiphyResponseToViewModel)},this.mapGiphyResponseToViewModel=function(e){var t=e.data,n=e.pagination;return{cardModels:t.map((function(e){var t=e.id,n=e.slug,i=e.images.fixed_width,r=i.size,o=i.url,a=i.width,s=i.height;return{metadata:{id:t,name:n.replace(new RegExp("-"+t),""),mediaType:"image",size:parseInt(r,10)},dataURI:o,dimensions:{width:parseInt(a,10),height:parseInt(s,10)}}})),totalResultCount:n.total_count}}}return e.prototype.fetchCloudAccountFolder=function(e,t,n,i,o){var a=this;return this.query(vo(e.baseUrl)+"/service/"+t+"/"+n+"/folder","GET",{folderId:i,limit:100,cursor:o},uo(e)).then(mo).then((function(e){var n=e.data;return"dropbox"===t?Object(r.a)(Object(r.a)({},n),{items:a.sortDropboxFiles(n.items)}):n}))},e.prototype.getServiceList=function(e){return this.query(vo(e.baseUrl)+"/accounts","GET",{},uo(e)).then(mo).then((function(e){return function(e){return e.reduce((function(e,t){return e.concat(t.accounts.map((function(e){return Object(r.a)(Object(r.a)({},e),{type:t.type})})))}),new Array)}(e.data)}))},e.prototype.unlinkCloudAccount=function(e,t){return this.query(vo(e.baseUrl)+"/account/"+t,"DELETE",{},uo(e)).then((function(){}))},e.prototype.stringifyParams=function(e){var t=Object.keys(e);return t.length?"?"+t.map((function(t){var n=e[t];return void 0!==n?t+"="+n:void 0})).filter((function(e){return!!e})).join("&"):""},e.prototype.query=function(e,t,n,i){var o=new Headers(Object(r.a)(Object(r.a)({},i),{"Content-Type":"application/json; charset=utf-8"})),a="GET"===t?this.stringifyParams(n):"",s="GET"!==t?JSON.stringify(n):void 0,c=new Request(""+e+a,{method:t,headers:o,body:s});return fetch(c)},e.prototype.isFolder=function(e){return"application/vnd.atlassian.mediapicker.folder"===e.mimeType},e.prototype.sortDropboxFiles=function(e){var t=this;return e.sort((function(e,n){var i=t.isFolder(e),r=t.isFolder(n);if(!i&&r)return 1;if(i&&!r)return-1;var o=e.name.toLowerCase(),a=n.name.toLowerCase();return o>a?1:o<a?-1:0}))},e}(),vo=function(e){return function(e){var t=fo.parse(e);return t.protocol+"//"+t.host}(e)+"/picker"};var go=function(){function e(e){this.userAuthProvider=e}return e.prototype.startAuth=function(e,t){var n=window.open("","_blank");return this.userAuthProvider().then((function(i){return new Promise((function(o){var a=so()(),s=po(i),c=Object(co.d)(Object(r.a)(Object(r.a)({},s),{redirectUrl:e+"?channelId="+a}));n.location=vo(i.baseUrl)+"/service/"+t+"?"+c;var l=oo()({window:n,scope:a});l.ready((function(){l.listen("auth-callback-received",(function(){l.send({method:"auth-callback-done",params:{}}),l.destroy(),o()}))}))}))})).catch((function(e){throw n&&n.close(),e}))},e}(),bo=function(){return function(e,t,n){var i=this;this.onDataReceived=t,this.onConnectionLost=n,this.teardown=function(){window.clearTimeout(i.pingTimeoutId),i.ws.close()},this.send=function(e){var t=i.ws;if(t.readyState===t.OPEN)t.send(JSON.stringify(e));else if(t.readyState===t.CONNECTING){var n=function(){t.removeEventListener("open",n),t.send(JSON.stringify(e))};t.addEventListener("open",n)}},this.schedulePing=function(){var e=function(e,t){return Math.floor(Math.random()*(e-t+1))+t}(25e3,35e3);window.clearTimeout(i.pingTimeoutId),i.pingTimeoutId=window.setTimeout(i.ping,e)},this.ping=function(){if(i.isWebSocketClosed())return i.teardown(),void i.onConnectionLost();i.sendHeartBeat(),i.schedulePing()},this.isWebSocketClosed=function(){return i.ws.readyState===i.ws.CLOSED},this.sendHeartBeat=function(){i.ws.readyState===i.ws.OPEN&&i.ws.send("")},this.setHandler=function(){i.ws.onmessage=function(e){var t=JSON.parse(e.data);i.onDataReceived(t)}};var r=function(e){var t=fo.parse(e);return("http:"===t.protocol?"ws:":"wss:")+"//"+t.host+"/picker/ws/"}(e.baseUrl),o=po(e);this.ws=new WebSocket(r+"?"+Object(co.d)(o)),this.setHandler(),this.schedulePing()}}(),yo=function(){function e(e,t,n){var i=this;this.auth=e,this.onDataReceived=t,this.onConnectionLost=n,this.retriesRemaining=10,this.openWs=function(){try{window.clearTimeout(i.retryTimeoutId),i.ws=new bo(i.auth,i.wsDataReceived,i.onConnectionLost),i.resetIdleTimeout()}catch(e){--i.retriesRemaining,i.retriesRemaining>0?i.retryTimeoutId=window.setTimeout(i.openWs,1e3):(i.teardown(),i.onConnectionLost())}},this.wsDataReceived=function(e){i.resetIdleTimeout(),i.onDataReceived(e)},this.resetIdleTimeout=function(){window.clearTimeout(i.idleTimeoutId),i.idleTimeoutId=window.setTimeout(i.onIdle,18e4)},this.onIdle=function(){window.clearTimeout(i.idleTimeoutId),i.onConnectionLost()},this.openWs()}return e.prototype.teardown=function(){this.ws&&(this.ws.teardown(),this.ws=void 0),window.clearTimeout(this.retryTimeoutId),window.clearTimeout(this.idleTimeoutId),this.retriesRemaining=0},e.prototype.send=function(e){if(!this.ws)throw new Error("WebSocket connection has been closed");this.ws.send(e)},e}(),_o=function(){function e(e){var t=this;this.auth=e,this.activities=[],this.onActivityCompleted=function(e){var n=t.activities.indexOf(e);-1!==n&&t.activities.splice(n,1),0===t.activities.length&&t.wsConnection&&t.closeConnection()},this.onWebSocketDataReceived=function(e){t.activities.forEach((function(t){t.processWebSocketData(e)}))},this.onConnectionLost=function(){t.closeConnection()}}return e.prototype.openConnection=function(e){e.on("Completed",this.onActivityCompleted),this.activities.push(e),this.wsConnection||(this.wsConnection=new yo(this.auth,this.onWebSocketDataReceived,this.onConnectionLost))},e.prototype.send=function(e){if(!this.wsConnection)throw new Error("WebSocket connection has been closed");this.wsConnection.send(e)},e.prototype.closeConnection=function(){var e=this;this.activities.forEach((function(t){t.off("Completed",e.onActivityCompleted),t.connectionLost()})),this.activities=[],this.wsConnection&&(this.wsConnection.teardown(),this.wsConnection=void 0)},e}(),jo=function(){function e(){this.connectionHolders={}}return e.prototype.getWsConnectionHolder=function(t){var n=e.mapAuthToTag(t),i=this.connectionHolders[n];return i||this.createAndRemember(t,n)},e.prototype.createAndRemember=function(e,t){var n=new _o(e);return this.connectionHolders[t]=n,n},e.mapAuthToTag=function(e){return Object(lo.isClientBasedAuth)(e)?e.clientId+"-"+e.token:e.asapIssuer+"-"+e.token},e}();var wo=function(e,t){if(e&&e.length>0){var n=t.filter((function(t){return!e.some((function(e){return e.name===t.name}))}));return e.concat(n)}return t};var xo,Oo,ko,Eo,Co,So,Io=function(e){return function(t,n){return e.reduce((function(e,t){return t(e,n)}),Object(r.a)({},t))}}([function(e,t){if(function(e){return"FILE_CLICK"===e.type}(t)){var n=t.file,i=e.selectedItems,o=e.config.singleSelect,a=void 0!==o&&o;return i.some((function(e){return e.id===n.id}))?Object(r.a)(Object(r.a)({},e),{selectedItems:i.filter((function(e){return e.id!==n.id}))}):a?Object(r.a)(Object(r.a)({},e),{selectedItems:[n]}):Object(r.a)(Object(r.a)({},e),{selectedItems:Object(r.h)(i,[n])})}return e},function(e,t){return"FILE_LIST_UPDATE"===t.type&&function(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)&&e.reduce((function(e,n,i){return e&&n.id===t[i].id}),!0)}(t.path,e.view.path)&&t.accountId===e.view.service.accountId&&e.view.currentCursor===t.currentCursor?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{items:t.items,isLoading:!1,currentCursor:t.currentCursor,nextCursor:t.nextCursor})}):e},function(e,t){if(O(t)){var n=Object(r.a)(Object(r.a)({},e.view),{isLoading:!0,path:t.path,currentCursor:void 0,nextCursor:void 0});return Object(r.a)(Object(r.a)({},e),{view:n})}return e},function(e,t){return I(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isLoading:!0,currentCursor:t.nextCursor,nextCursor:void 0})}):e},function(e,t){return"SERVICE_LIST_UPDATE"===t.type?Object(r.a)(Object(r.a)({},e),{accounts:t.accounts,view:Object(r.a)(Object(r.a)({},e.view),{isLoading:!1,hasError:!1})}):e},function(e,t){if(j(t)){var n=t.accountId,i=t.serviceName,o="upload"!==i&&e.view.isLoading;return Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isLoading:o,service:{accountId:n,name:i},path:[],items:[]})})}return e},function(e,t){if("SERVICE_CONNECT"===t.type){var n=Object.assign({},e.view,{connect:{name:t.serviceName},path:!1});return Object.assign({},e,{view:n})}return e},function(e,t){if("ACCOUNT_CLOUD_UNLINK"===t.type){var n=e.accounts.then((function(e){return e.slice().filter((function(e){return e.id!==t.account.id}))}));return Object(r.a)(Object(r.a)({},e),{accounts:n})}return e},function(e,t){return R(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{service:{name:"upload",accountId:""},path:[],hasError:!1})}):e},function(e,t){if(function(e){return"GET_FILES_IN_RECENTS_FULLFILLED"===e.type}(t)){var n=t.items;return Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isLoading:!1}),recents:{items:n}})}return e},function(e,t){return function(e){return"GET_FILES_IN_RECENTS_FAILED"===e.type}(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{hasError:!0,isLoading:!1})}):e},function(e,t){return e},function(e,t){if(function(e){return"GET_FORGE_PLUGINS_FULLFILLED"===e.type}(t)){var n=t.items;return Object(r.a)(Object(r.a)({},e),{plugins:wo(e.plugins,n)})}return e},function(e,t){return function(e){return"GET_FORGE_PLUGINS_FAILED"===e.type}(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{hasError:!0,isLoading:!1})}):e},function(e,t){if(function(e){return"UPDATE_POPUP_URLS"===e.type}(t)){var n=t.urls;return Object(r.a)(Object(r.a)({},e),n)}return e},function(e,t){if(function(e){return"FILE_UPLOADS_START"===e.type}(t)){var n=e.uploads,i=e.selectedItems,o=e.lastUploadIndex,a=t.files,s={},c=o;a.forEach((function(e){var t=e.id,n=e.name,i=e.type,r=e.size,o=e.occurrenceKey;s[t]={file:{metadata:{id:t,name:n,mimeType:i,size:r,occurrenceKey:o}},timeStarted:Date.now(),index:c++}}));var l=a.map((function(e){var t=e.id,n=e.name,i=e.type,r=e.size;return{date:0,id:t,occurrenceKey:e.occurrenceKey,mimeType:i,name:n,parentId:"",size:r,serviceName:"upload"}}));return Object(r.a)(Object(r.a)({},e),{uploads:Object(r.a)(Object(r.a)({},n),s),selectedItems:Object(r.h)(i,l),lastUploadIndex:c})}return e},function(e,t){if(!Ft(t))return e;var n=e.selectedItems.filter((function(e){return e.id!==t.id})),i=Object.keys(e.uploads).filter((function(n){return e.uploads[n].file.metadata.id!==t.id})).reduce((function(t,n){var i;return Object(r.a)(Object(r.a)({},t),((i={})[n]=e.uploads[n],i))}),{});return Object(r.a)(Object(r.a)({},e),{selectedItems:n,uploads:i})},function(e,t){return A(t)?Object(r.a)(Object(r.a)({},e),{selectedItems:[],uploads:{}}):e},function(e,t){return C(t)?Object(r.a)(Object(r.a)({},e),{editorData:void 0}):e},function(e,t){if(function(e){return"EDITOR_SHOW_ERROR"===e.type}(t)){var n=e.editorData,i=t.error;return Object(r.a)(Object(r.a)({},e),{editorData:Object(r.a)(Object(r.a)({},n),{error:i})})}return e},function(e,t){if(ht(t)){var n=e.editorData,i=t.imageUrl,o=t.originalFile||n&&n.originalFile;return Object(r.a)(Object(r.a)({},e),{editorData:{imageUrl:i,originalFile:o}})}return e},function(e,t){return"EDITOR_SHOW_LOADING"===t.type?Object(r.a)(Object(r.a)({},e),{editorData:{originalFile:t.originalFile}}):e},function(e,t){if(function(e){return"DESELECT_ITEM"===e.type}(t)){var n=e.selectedItems;if(n)return Object(r.a)(Object(r.a)({},e),{selectedItems:n.filter((function(e){return e.id!==t.id}))})}return e},function(e,t){var n=Object(r.a)(Object(r.a)({},e),{view:Object(r.a)({},e.view)}),i=!1;return n.view.isUploading=function(e,t){return void 0===e&&(e=!1),!!L(t)||!A(t)&&e}(e.view.isUploading,t),n.view.isUploading!==e.view.isUploading&&(i=!0),n.view.isCancelling=function(e,t){return void 0===e&&(e=!1),!!F(t)||!A(t)&&e}(e.view.isCancelling,t),n.view.isCancelling!==e.view.isCancelling&&(i=!0),i?n:e},function(e,t){if("REMOTE_UPLOAD_START"===t.type){var n=t.tenantFileId,i=Object(r.a)({},e.remoteUploads);return i[n]={timeStarted:Date.now()},Object(r.a)(Object(r.a)({},e),{remoteUploads:i})}return e},function(e,t){if(B(t)){var n=t.shouldAppendResults?e.giphy:{imageCardModels:[]};return Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isLoading:!0,hasError:!1}),giphy:n})}return e},function(e,t){if(function(e){return"SEARCH_GIPHY_FULFILLED"===e.type}(t)){var n=e.giphy.imageCardModels,i=t.imageCardModels,o=t.shouldAppendResults,a=t.totalResultCount,s=o?Object(r.h)(n,i):i;return Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isLoading:!1}),giphy:{imageCardModels:s,totalResultCount:a}})}return e},function(e,t){return function(e){return"SEARCH_GIPHY_FAILED"===e.type}(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isLoading:!1,hasError:!0}),giphy:{imageCardModels:[],totalResultCount:void 0}}):e},function(e,t){return eo(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isVisible:!0})}):e},function(e,t){return F(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isVisible:!1})}):e},function(e,t){return function(e){return"GET_CONNECTED_REMOTE_ACCOUNTS_FAILED"===e.type}(t)?Object(r.a)(Object(r.a)({},e),{view:Object(r.a)(Object(r.a)({},e.view),{isLoading:!1,hasError:!0})}):e},function(e,t){return Lr(t)?Object(r.a)(Object(r.a)({},e),{onCancelUpload:t.payload.onCancelUpload}):e},function(e,t){return"SAVE_COLLECTION_ITEMS_SUBSCRIPTION"===t.type?Object(r.a)(Object(r.a)({},e),{collectionItemsSubscription:t.subscription}):e}]),To={uploads:{},remoteUploads:{},recents:{items:[]},view:{isVisible:!1,service:{name:"upload",accountId:""},hasError:!1,isLoading:!0,path:[],items:[],isUploading:!1,isCancelling:!1},accounts:Promise.resolve([]),selectedItems:[],isUploading:!1,isCancelling:!1,lastUploadIndex:0,giphy:{imageCardModels:[],totalResultCount:void 0},onCancelUpload:function(){throw new Error("onCancelUpload has not been set yet.")}},Mo=(l.canUseDOM&&window.VERSION,{redirectUrl:"https://api.media.atlassian.com/picker/static/link-account-handler.html"}),Fo=function(e){return function(t){return function(n){if(j(n)){var i=n.serviceName,r=n.accountId;(function(e){return"google"===e||"dropbox"===e})(i)&&""!==r&&e.dispatch(x(i,r,[]))}return t(n)}}},No=["google","dropbox"],Ao=function(e){return function(t){return function(n){return Object(r.b)(void 0,void 0,void 0,(function(){var i,o,a,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return k(n)?(i=n.serviceName,o=e.getState().view.service.accountId,-1!==No.indexOf(i)&&e.dispatch(function(){return{type:"GET_CONNECTED_REMOTE_ACCOUNTS"}}()),[4,e.getState().accounts]):[3,2];case 1:a=r.sent().find((function(e){return e.type===n.serviceName})),s=o||(a?a.id:""),e.dispatch(w(i,s)),r.label=2;case 2:return[2,t(n)]}}))}))}}},Po=function(e){var t=e.getState(),n=t.userMediaClient,i=t.collectionItemsSubscription;i&&i.unsubscribe();var r=n.collection.getItems(f.c).subscribe({next:function(t){e.dispatch(function(e){return{type:"GET_FILES_IN_RECENTS_FULLFILLED",items:e}}(t))},error:function(){e.dispatch(function(){return{type:"GET_FILES_IN_RECENTS_FAILED"}}())}});e.dispatch(function(e){return{type:"SAVE_COLLECTION_ITEMS_SUBSCRIPTION",subscription:e}}(r))},Do=[/^https:\/\/([^\.]*\.)*atl-paas\.net/,/^https:\/\/([^\.]*\.)*atlassian\.net/,/^https:\/\/([^\.]*\.)*jira-dev\.com/,/^https:\/\/([^\.]*\.)*jira\.com/,/^https:\/\/bitbucket\.org/],Lo=function(){function e(){var e=this;this.getProviders=function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.fetch("providers",{type:"search"})];case 1:return[2,e.sent()]}}))}))},this.fetch=function(t,n){return Object(r.b)(e,void 0,void 0,(function(){var e,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,fetch(this.getApiEndpoint()+"/"+t,{method:"POST",credentials:"include",body:JSON.stringify(n),headers:{"content-type":"application/json"}})];case 1:return(e=r.sent()).ok?[3,3]:(i=Error.bind,[4,e.text()]);case 2:throw new(i.apply(Error,[void 0,r.sent()||e.statusText]));case 3:return[4,e.json()];case 4:if(function(e){return!!e.message}(o=r.sent()))throw new Error(o.message);return[2,o]}}))}))}}return e.prototype.getApiEndpoint=function(){var e,t;try{for(var n=Object(r.i)(Do),i=n.next();!i.done;i=n.next()){if(i.value.test(window.location.origin))return window.location.origin+"/gateway/api/object-resolver"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return"https://api-private.stg.atlassian.com/object-resolver"},e.prototype.invokeProvider=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=t.query,i=void 0===n?"":n,o=t.folderId,a={key:e,search:{query:i,context:o?{id:o}:void 0}},[4,this.fetch("invoke/search",a)];case 1:return[2,r.sent()]}}))}))},e}(),Uo={meta:{visibility:"other",access:"not_found",auth:[]},data:void 0},Ro=v.default.div(xo||(xo=Object(r.e)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: calc(100vh - 300px);\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: calc(100vh - 300px);\n"]))),zo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderLoading=function(){return s.a.createElement(Ro,null,s.a.createElement(Ee.a,null))},t.renderSearchResults=function(){var e=t.props.items;return s.a.createElement("div",null,t.renderMasonaryLayout(e))},t.renderMasonaryLayout=function(e){if(0===e.length)return null;var n=t.props,i=n.pluginName,o=n.selectedItems,a=e.map((function(e,n){var a=e.dimensions,c=e.dataURI,l=e.name,d=e.id,u=o.some((function(e){return e.id===d&&e.serviceName===i})),p=Ht(Object(r.a)(Object(r.a)({},a),{gapSize:5,containerWidth:677,numberOfColumns:4})),f={dataURI:c,name:l,mediaItemType:"external-image"};return s.a.createElement(Gt,{key:n+"-metadata.id",width:p.width},s.a.createElement(Oe.a,{mediaClientConfig:{},identifier:f,dimensions:p,selectable:!0,selected:u,onClick:t.createClickHandler(e)}))}));return s.a.createElement(Bt,{id:"mediapicker-bricks-layout",sizes:[{columns:4,gutter:5}]},a)},t.createClickHandler=function(e){return function(){(0,t.props.onFileClick)(e.id)}},t}return Object(r.c)(t,e),t.prototype.render=function(){return 0===this.props.items.length?this.renderLoading():this.renderSearchResults()},t}(a.Component),Bo=n("./node_modules/@atlaskit/outbound-auth-flow-client/dist/esm/index.js"),Ho=v.default.img(Oo||(Oo=Object(r.e)(["\n  width: 120px;\n  height: 120px;\n"],["\n  width: 120px;\n  height: 120px;\n"]))),Go=v.default.div(ko||(ko=Object(r.e)(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),Wo=v.default.div(Eo||(Eo=Object(r.e)(["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"],["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"])),oe.N500),Vo=v.default.div(Co||(Co=Object(r.e)(["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"],["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"])),oe.N100),Ko=v.default.div(So||(So=Object(r.e)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  height: 300px;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  height: 300px;\n"]))),qo=function(e){var t=e.iconUrl,n=e.auth,i=e.name,o=e.onAuthSucceeded,c=e.onAuthFailed,l=n[0].url,d=Object(a.useCallback)((function(){Object(Bo.a)(l).then(o).catch(c)}),[l,c,o]);return s.a.createElement(Ko,null,s.a.createElement(Vo,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.upload_file_from,{values:{name:i}}))),s.a.createElement(Ho,{src:t}),s.a.createElement(Go,null,s.a.createElement(g.a,{appearance:"primary",className:"connectBtn",onClick:d},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.connect_to,{values:{name:i}})))),s.a.createElement(Wo,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.connect_account_description,{values:{name:i}}))))},Yo=(v.default.div(Zo||(Zo=Object(r.e)(["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"]))),v.default.div(Xo||(Xo=Object(r.e)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"]))),v.default.ul(Qo||(Qo=Object(r.e)(["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"],["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"])))),Jo=v.default.li($o||($o=Object(r.e)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"])),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: white;"}),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: "+oe.N30+";"}));Jo.displayName="FolderViewerRow";var Zo,Xo,Qo,$o,ea,ta,na,ia,ra,oa,aa,sa=v.default.div(ea||(ea=Object(r.e)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),ca=v.default.div(ta||(ta=Object(r.e)(["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"],["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"]))),la=v.default.div(na||(na=Object(r.e)(["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"],["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"])),(function(e){return e.isSelected?"color: white;":"color: "+oe.N900})),da=v.default.div(ia||(ia=Object(r.e)(["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"],["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"])),oe.N90),ua=v.default.div(ra||(ra=Object(r.e)(["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"],["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"])),oe.N90),pa=v.default.div(oa||(oa=Object(r.e)(["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"],["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"])),oe.B400),fa=(v.default.div(aa||(aa=Object(r.e)(["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"],["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"]))),function(e){var t=e.image;if(t)return"string"==typeof t?t:"Image"===t["@type"]?fa(t):"Link"===t["@type"]?t.href:void 0}),ma=function(e){if(e)return"string"==typeof e?e:Array.isArray(e)?ma(e[0]):e.href},ha=s.a.createElement(pa,null,s.a.createElement(fn.a,{label:"check"})),va=function(e){var t=e.isSelected,n=e.file,i=e.icon,r=e.onClick,o=ma(n.url),a=n["schema:dateCreated"],c=n["atlassian:fileSize"]&&un()(n["atlassian:fileSize"]);return s.a.createElement(Jo,{isSelected:t,onClick:function(){o&&r(o)},key:o},s.a.createElement(sa,null,s.a.createElement(ca,null,i),s.a.createElement(la,{isSelected:t},n.name)),t?ha:s.a.createElement(sa,null,s.a.createElement(da,null,function(e){if(!e)return"";var t=(new Date).toDateString(),n=new Date(e),i=n.toDateString();return ln()(n,t===i?"H:MM TT":"d mmm yyyy")}(a)),s.a.createElement(ua,null,c)))},ga=function(e){var t=e.folder,n=e.icon,i=e.onClick,r=ma(t.url);return s.a.createElement(Jo,{onClick:function(){return r&&i(r)},key:r},s.a.createElement(sa,null,s.a.createElement(ca,null,n),s.a.createElement(la,null,t.name)))},ba=function(e){var t=e.items.data,n=e.selectedItems,i=e.onFolderClick,o=e.onFileClick;if(!t||0===t.items.length)return null;var a=Object(r.h)(t.items);return s.a.createElement(Yo,null,a.map((function(e,t){var r=Xi(e["schema:fileFormat"]||""),a=ma(e.url),c=n.map((function(e){return e.id})),l=!!a&&c.indexOf(a)>-1,d=e["@id"]||t;return"Collection"===e["@type"]?s.a.createElement(ga,{key:d,folder:e,icon:Zi,onClick:i}):s.a.createElement(va,{key:d,isSelected:l,file:e,icon:r,onClick:o})})))},ya=function(e){var t=e.items,n=e.iconUrl,i=e.pluginName,r=e.onAuthSucceeded,o=e.onAuthFailed,a=e.onFileClick,c=e.onFolderClick,l=e.selectedItems;return t?function(e){return"unauthorized"===e.access&&"restricted"===e.visibility}(t.meta)?s.a.createElement(qo,{auth:t.meta.auth||[],iconUrl:n,name:i,onAuthSucceeded:r,onAuthFailed:o}):s.a.createElement(ba,{selectedItems:l,items:t,onFolderClick:c,onFileClick:a}):s.a.createElement(Ro,null)},_a=function(e){var t=e.view,n=e.items,i=e.iconUrl,o=e.onUpdateItems,a=e.selectedItems,c=e.onFileClick,l=e.name,d={selectedItems:a,onFileClick:c,onFolderClick:c,pluginName:l};if("bricks"===t){if(!n.data)return null;var u=n.data.items.map((function(e){var t=ma(e.url)||"",n=e.image&&"string"!=typeof e.image&&"Link"===e.image["@type"]&&e.image.href||"";return{id:t,dimensions:{width:e.image&&"string"!=typeof e.image&&"Link"===e.image["@type"]&&e.image.width||0,height:e.image&&"string"!=typeof e.image&&"Link"===e.image["@type"]&&e.image.height||0},dataURI:n,name:l}}));return s.a.createElement(zo,Object(r.a)({items:u},d))}return"folder"===t?s.a.createElement(ya,Object(r.a)({items:n,iconUrl:i,onAuthSucceeded:o,onAuthFailed:function(e){return console.error(e)}},d)):null},ja=Object(m.injectIntl)((function(e){var t=e.name,n=e.loading,i=e.error,r=e.totalImages,o=e.onQueryChange,a=e.query,c=e.intl.formatMessage,l=!n&&!i&&"number"==typeof r;return s.a.createElement($t,null,s.a.createElement("h3",null,t),!i&&l&&s.a.createElement(Rt.a,{placeholder:c(h.a.search),onChange:o,value:a,width:420}))})),wa=function(){return s.a.createElement(Ro,null,s.a.createElement(Ee.a,{size:"medium"}))},xa=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/warning.js"),Oa=n.n(xa),ka=function(e){var t=e.onRetry;return s.a.createElement(nn,null,s.a.createElement(rn,null,s.a.createElement(Oa.a,{label:"warning"}),s.a.createElement(on,null,s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.something_went_wrong)))),s.a.createElement(g.a,{onClick:t},s.a.createElement(m.FormattedMessage,Object(r.a)({},h.a.retry))))},Ea=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/image.js"),Ca=n.n(Ea),Sa=function(e){return e.iconUrl?s.a.createElement(en,{src:e.iconUrl}):s.a.createElement(Ca.a,{label:"image-icon"})},Ia=function(e){var t=e.extensionOpts,n=t.name,i=t.id,o=t.view,c=t.iconUrl,l=e.actions,d=e.selectedItems,u=Object(a.useMemo)((function(){return new Lo}),[]),p=Object(r.f)(Object(a.useState)(!0),2),f=p[0],m=p[1],h=Object(r.f)(Object(a.useState)(""),2),v=h[0],g=h[1],b=Object(r.f)(Object(a.useState)(),2),y=b[0],_=b[1],j=Object(r.f)(Object(a.useState)(),2),w=j[0],x=j[1],O=Object(r.f)(Object(a.useState)(Uo),2),k=O[0],E=O[1],C=Object(a.useCallback)(Ut()((function(e,t){return Object(r.b)(void 0,void 0,void 0,(function(){var n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),x(void 0),m(!0),[4,u.invokeProvider(i,{query:e,folderId:t||v})];case 1:return n=r.sent(),E(n),[3,4];case 2:return o=r.sent(),x(o),[3,4];case 3:return m(!1),[7];case 4:return[2]}}))}))}),1e3),[n,v]),S=Object(a.useCallback)((function(e){_(e.currentTarget.value),C(y)}),[C,y]),I=Object(a.useCallback)((function(e){return function(){var t=k.data&&Object(r.h)(k.data.items).find((function(t){return t.url===e}));if(t)if("Collection"===t["@type"]){var i=t["@id"]||"";g(i),C(y,i)}else{var o=function(e,t){return"Image"===t["@type"]?{id:e,metadata:{type:"image",src:fa(t),srcFull:fa(t)}}:{id:e,metadata:{type:"link",src:ma(t.url)}}}(e,t);l.fileClick(o,n)}}}),[k.data,C,y,l,n]),T=Object(a.useCallback)((function(e){return I(e)()}),[I]);return Object(a.useEffect)((function(){C(y)}),[C,y,i]),s.a.createElement(Qt,null,s.a.createElement(ja,{name:n,loading:f,error:w,totalImages:k.data&&k.data.items&&Object(r.h)(k.data.items).length,onQueryChange:S,query:y}),f?s.a.createElement(wa,null):w?s.a.createElement(ka,{error:w,onRetry:C}):s.a.createElement(tn,null,s.a.createElement(_a,{view:o,items:k,iconUrl:c,selectedItems:d,onUpdateItems:C,onFileClick:T,onFolderClick:T,name:n})))},Ta=function(e){return Object(r.b)(void 0,void 0,void 0,(function(){var t,n,i,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=new Lo,n=e.dispatch,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.getProviders()];case 2:return i=r.sent().providers,o=i.filter((function(e){return!!e.metadata.supportedViews.length})),a=o.map(Ma).sort((function(e,t){return e.name.localeCompare(t.name)})),n(function(e){return{type:"GET_FORGE_PLUGINS_FULLFILLED",items:e}}(a)),[3,4];case 3:return r.sent(),n(function(){return{type:"GET_FORGE_PLUGINS_FAILED"}}()),[3,4];case 4:return[2]}}))}))},Ma=function(e){return{name:e.metadata.name,icon:s.a.createElement(Sa,{iconUrl:e.metadata.avatarUrl}),render:function(t,n){return s.a.createElement(Ia,{key:e.key,actions:t,selectedItems:n,extensionOpts:{id:e.key,name:e.metadata.name,view:e.metadata.supportedViews[0],iconUrl:e.metadata.avatarUrl}})}}},Fa=n("./node_modules/@atlaskit/media-client/dist/esm/models/media.js"),Na=n("./node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),Aa=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),Pa=n("./node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),Da=n("./node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js");function La(e,t,n,i){return{type:"FINALIZE_UPLOAD",file:e,replaceFileId:t,source:n,overrides:i}}var Ua=n("./node_modules/eventemitter2/lib/eventemitter2.js"),Ra=function(){function e(e,t,n){this.tenantFileId=e,this.serviceName=t,this.dispatchEvent=n,this.eventEmitter=new Ua.EventEmitter2}return e.prototype.processWebSocketData=function(e){if(this.shouldProcessWsData(e)){var t={tenantFileId:e.uploadId,serviceName:this.serviceName};!function(e){return e&&"RemoteUploadStart"===e.type}(e)?!function(e){return"RemoteUploadProgress"===e.type}(e)?!function(e){return"RemoteUploadEnd"===e.type}(e)?!function(e){return function(e){return"Error"===e.type}(e)&&"RemoteUploadFail"===e.error}(e)?function(e){return"NotifyMetadata"===e.type}(e)&&this.dispatchEvent("NotifyMetadata",Object(r.a)({metadata:e.metadata},t)):(this.dispatchEvent("RemoteUploadFail",Object(r.a)({description:e.reason},t)),this.notifyActivityCompleted()):(this.dispatchEvent("RemoteUploadEnd",Object(r.a)({userFileId:e.fileId},t)),this.notifyActivityCompleted()):this.dispatchEvent("RemoteUploadProgress",Object(r.a)({bytes:e.currentAmount,fileSize:e.totalAmount},t)):(this.dispatchEvent("RemoteUploadStart",Object(r.a)({},t)),this.notifyActivityStarted())}},e.prototype.connectionLost=function(){this.tenantFileId&&this.dispatchEvent("RemoteUploadFail",{tenantFileId:this.tenantFileId,description:"Websocket connection lost",serviceName:this.serviceName})},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.shouldProcessWsData=function(e){return!!e.uploadId&&!!this.tenantFileId&&e.uploadId===this.tenantFileId},e.prototype.notifyActivityStarted=function(){this.eventEmitter.emit("Started",this)},e.prototype.notifyActivityCompleted=function(){this.eventEmitter.emit("Completed",this)},e}();function za(e,t){return Object(r.a)(Object(r.a)({},e),{id:t})}function Ba(e){return{type:"SEND_UPLOAD_EVENT",payload:e}}var Ha=n("./node_modules/@atlaskit/media-picker/dist/esm/domain/preview.js"),Ga=n("./node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js");function Wa(e,t){return function(n){return function(i){return function(o){return L(o)&&function(e,t,n){Object(r.b)(this,void 0,void 0,(function(){var i,o,a,s,c,l,d,u,p,f=this;return Object(r.d)(this,(function(m){switch(m.label){case 0:return i=t.getState(),o=i.uploads,a=i.selectedItems,s=i.userMediaClient,c=i.config,l=c.uploadParams&&c.uploadParams.collection,t.dispatch(N()),d=a.filter((function(e){return!Ya(e)})),[4,s.config.authProvider()];case 1:return u=m.sent(),p=a.filter(Ya).map((function(e){return function(e,t,n){var i=e.id,r=e.name,o=e.mimeType,a=e.size,s=e.date,c=e.serviceName,l=e.accountId,d=e.occurrenceKey,u=void 0===d?so()():d;return{file:{id:i,name:r,size:a,creationDate:s||Date.now(),type:o,occurrenceKey:u},serviceName:c,accountId:l,touchFileDescriptor:{fileId:t,occurrenceKey:u,collection:n}}}(e,so()(),l)})),e.emitPluginItemsInserted(d),[4,Promise.all(p.map((function(e){return Object(r.b)(f,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(o){switch(o.label){case 0:return[4,Ka(t,e)];case 1:return n=o.sent(),i=e.file.id,function(e,t){var n=Object(Da.a)(),i=Object(Aa.b)().get(t);Object(Aa.b)().set(e.id,n),n.next(e),i&&i.subscribe({next:function(t){if(!Object(Na.e)(t)){var i=Object(Na.a)(e)?{}:{mediaType:e.mediaType,preview:e.preview};n.next(Object(r.a)(Object(r.a)(Object(r.a)({},t),i),{id:e.id}))}}})}(n,i),[2]}}))}))})))];case 2:return m.sent(),e.emitUploadsStart(p.map((function(e){return za(e.file,e.touchFileDescriptor.fileId)}))),p.forEach((function(i){return Object(r.b)(f,void 0,void 0,(function(){var a,s,c,l,d,p;return Object(r.d)(this,(function(r){switch(r.label){case 0:a=i.file,s=i.serviceName,c=a.id,r.label=1;case 1:return r.trys.push([1,8,,9]),"upload"!==s?[3,3]:(l=o[c],[4,Xa(i,t,l)]);case 2:return r.sent(),[3,7];case 3:return"recent_files"!==s?[3,5]:[4,Qa(i,t)];case 4:return r.sent(),[3,7];case 5:return function(e){return-1!==["dropbox","google","giphy"].indexOf(e)}(s)?(d=n.getWsConnectionHolder(u),[4,$a(i,t,d)]):[3,7];case 6:r.sent(),r.label=7;case 7:return[3,9];case 8:return p=r.sent(),e.emitUploadError(i.touchFileDescriptor.fileId,p),[3,9];case 9:return[2]}}))}))})),t.dispatch(P()),[2]}}))}))}(e,n,t),i(o)}}}}var Va=function(e,t,n,i,o){if("giphy"===t){var a=e.getState().giphy.imageCardModels.find((function(e){return e.metadata.id===i}));if(a)return Promise.resolve({value:a.dataURI,origin:"remote"})}else if(("upload"===t||"recent_files"===t)&&Object(Fa.b)(n)&&o&&!Object(Na.a)(o)){if(Object(Na.d)(o))return o.preview;if(Object(Na.c)(o))return function(e,t){return Object(r.b)(void 0,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,e.getState().userMediaClient.getImage(t,{collection:f.c,mode:"fit"},void 0,!0)];case 1:return[2,{value:n.sent(),origin:"remote"}]}}))}))}(e,i)}},Ka=function(e,t){return Object(r.b)(void 0,void 0,void 0,(function(){var n,i,o,a,s,c,l,d,u,p,f,m;return Object(r.d)(this,(function(h){switch(h.label){case 0:return n=t.file,i=t.serviceName,o=t.touchFileDescriptor,a=o.fileId,s=o.occurrenceKey,c=n.id,l=Object(ke.a)(n.type),(d=Object(Aa.b)().get(c))?[4,Object(Pa.a)(d)]:[3,2];case 1:return u=h.sent(),p=Va(e,i,l,c,u),Object(Na.a)(u)?[2,Object(r.a)(Object(r.a)({},u),{id:a})]:(f=Object(r.a)({},u),Object(Na.g)(f)||delete f.artifacts,[2,Object(r.a)(Object(r.a)({},f),{id:a,mediaType:l,preview:p})]);case 2:return m=Va(e,i,l,c),[2,{id:a,occurrenceKey:s,status:"processing",mediaType:l,mimeType:n.type,name:n.name,size:n.size,preview:m,representations:{}}]}}))}))},qa=function(e,t){var n=t.getState(),i=n.tenantMediaClient,r=n.config,o=r.uploadParams&&r.uploadParams.collection;return i.file.touchFiles([e],o)},Ya=function(e){var t=e.serviceName;return["recent_files","google","dropbox","upload","giphy"].indexOf(t)>-1};var Ja=function(e){return{id:e.id,creationDate:-1,name:e.name,size:e.size,type:e.mimeType,occurrenceKey:e.occurrenceKey}},Za=function(e,t,n){return Object(r.b)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l;return Object(r.d)(this,(function(d){switch(d.label){case 0:return i=e.touchFileDescriptor.fileId,o=t.getState().tenantMediaClient,a=function(e){var n=e.id,r=e.message,o={name:"upload-error",data:{error:{fileId:n,description:void 0===r?"":r,name:"upload_fail"},fileId:n}};t.dispatch(Ba({event:o,fileId:i}))},s=function(e){return Object(r.b)(void 0,void 0,void 0,(function(){var n,o,a,s,c,l,d;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=e.mediaType,o=Ja(e),r.label=1;case 1:return r.trys.push([1,8,,9]),Object(Na.d)(e)?[4,e.preview]:[3,3];case 2:return s=r.sent().value,[3,4];case 3:s=void 0,r.label=4;case 4:return(a=s)instanceof Blob?[4,Object(Ga.a)(a,n)]:[3,6];case 5:return c=r.sent(),[3,7];case 6:c={},r.label=7;case 7:return l={name:"upload-preview-update",data:{file:o,preview:c}},t.dispatch(Ba({event:l,fileId:i})),[3,9];case 8:return r.sent(),d={name:"upload-preview-update",data:{file:o,preview:{}}},t.dispatch(Ba({event:d,fileId:i})),[3,9];case 9:return[2]}}))}))},c=function(e){var r=Ja(e),o={id:n.file.metadata.id,collection:f.c},a=Object(Na.d)(e)?e.preview:void 0;t.dispatch(La(r,i,o,{preview:a}))},[4,o.file.getCurrentState(i)];case 1:return l=d.sent(),Object(Na.a)(l)?[3,3]:[4,s(l)];case 2:d.sent(),d.label=3;case 3:return o.file.getFileState(i).subscribe({next:function(e){Object(Na.a)(e)?(a(e),this.unsubscribe()):Object(Na.g)(e)||(c(e),this.unsubscribe())}}),[2]}}))}))},Xa=function(e,t,n){return Object(r.b)(void 0,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=e.touchFileDescriptor,[4,qa(i,t)];case 1:return r.sent(),[4,Za(e,t,n)];case 2:return r.sent(),[2]}}))}))},Qa=function(e,t){return Object(r.b)(void 0,void 0,void 0,(function(){var n,i,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=e.file,i=e.touchFileDescriptor,o=i.fileId,a={id:n.id,collection:f.c},t.dispatch(function(e,t,n){return{type:"GET_PREVIEW",fileId:e,file:t,collection:n}}(o,n,f.c)),[4,qa(i,t)];case 1:return r.sent(),t.dispatch(La(n,o,a)),[2]}}))}))},$a=function(e,t,n){return Object(r.b)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l;return Object(r.d)(this,(function(d){switch(d.label){case 0:return i=e.touchFileDescriptor,o=e.serviceName,a=e.accountId,s=e.file,c=i.fileId,(l=new Ra(c,o,(function(e,n){if("NotifyMetadata"===e){var i=Object(Ha.a)(n.metadata);t.dispatch(Ba({event:{name:"upload-preview-update",data:{file:s,preview:i}},fileId:c}))}else{var o=n.tenantFileId,a=Object(r.a)(Object(r.a)({},s),{id:o,creationDate:Date.now()});t.dispatch(function(e,t,n){return{type:"HANDLE_CLOUD_FETCHING_EVENT",file:e,event:t,payload:n}}(a,e,n))}}))).on("Started",(function(){t.dispatch(function(e){return{type:"REMOTE_UPLOAD_START",tenantFileId:e}}(c))})),n.openConnection(l),n.send({type:"fetchFile",params:{serviceName:o,accountId:a,fileId:s.id,fileName:s.name,collection:f.c,jobId:c}}),[4,qa(i,t)];case 1:return d.sent(),[2]}}))}))},es=function(e,t){var n=t.getState().editorData;if(!n)return!1;var i=n.originalFile,r=n.imageUrl;return!!i&&(i.id===e&&!r)},ts=function(){return function(e){return function(t){return function(n){return"EDIT_REMOTE_IMAGE"===n.type&&function(e,t){var n=t.item,i=t.collectionName,r=e.getState().userMediaClient;e.dispatch(function(e){return{type:"EDITOR_SHOW_LOADING",originalFile:e}}(n)),r.getImageUrl(n.id,{mode:"full-fit",collection:i}).then((function(t){es(n.id,e)&&e.dispatch(vt(t))})).catch((function(){if(es(n.id,e)){e.dispatch(S("Oops! We couldn't retrieve the image",(function(){e.dispatch(t)})))}}))}(e,n),t(n)}}}};var ns=n("./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),is=function(){return function(e){return function(t){return function(n){return function(e){return"FINALIZE_UPLOAD"===e.type}(n)&&function(e,t){var n=t.file,i=t.replaceFileId,o=t.source,a=t.overrides;(function(e){var t=e.store,n=e.file,i=e.replaceFileId,o=e.source,a=e.overrides;Object(r.b)(this,void 0,void 0,(function(){var e,s,c,l,d,u,p,f,m,h,v,g,b,y,_,j;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=t.getState(),s=e.tenantMediaClient,c=e.userMediaClient.config.authProvider,l=e.config,d=o.id,u=o.collection,f=(p=a||{}).preview,m=p.mimeType,h=l.uploadParams&&l.uploadParams.collection,r.label=1;case 1:return r.trys.push([1,4,5,6]),v={id:d,collection:u,authProvider:c},g={collection:h,replaceFileId:i,occurrenceKey:n.occurrenceKey,authProvider:s.config.authProvider},b={preview:f,mimeType:m},[4,s.file.copyFile(v,g,b)];case 2:return y=r.sent(),[4,s.file.getCurrentState(y.id)];case 3:return _=r.sent(),s.emit("file-added",_),ns.a.emit("file-added",_),["processing","processed","failed-processing"].includes(_.status)?t.dispatch(Ba({event:{name:"upload-end",data:{file:n}},fileId:i})):"error"===_.status&&t.dispatch(Ba({event:{name:"upload-error",data:{fileId:i,error:{name:"object_create_fail",description:"There was an error while uploading a file"}}},fileId:i})),[3,6];case 4:return j=r.sent(),t.dispatch(Ba({event:{name:"upload-error",data:{fileId:i,error:{name:"object_create_fail",description:j.message}}},fileId:i})),[3,6];case 5:return t.dispatch(P()),[7];case 6:return[2]}}))}))})({store:e,file:n,replaceFileId:i,source:o,overrides:a})}(e,n),t(n)}}}};var rs=function(){return function(e){return function(t){return function(n){return function(e){return"GET_PREVIEW"===e.type}(n)&&function(e,t){var n=t.file,i=t.collection,o=e.getState().userMediaClient;o.file.getFileState(n.id,{collectionName:i}).subscribe({next:function(a){return Object(r.b)(this,void 0,void 0,(function(){var s,c,l,d,u,p;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Object(Na.a)(a)?(this.unsubscribe(),[2]):(s=a.mimeType,c=s?Object(ke.a)(s):"unknown",this.unsubscribe(),Object(Fa.b)(c)&&Object(Na.c)(a)?[4,o.getImageMetadata(n.id,{collection:i})]:[3,2]);case 1:return l=r.sent(),p=Object(Ha.a)(l),os(e,t,p),[3,5];case 2:return(u=a.preview)?[4,a.preview]:[3,4];case 3:u=r.sent(),r.label=4;case 4:d=(u||{}).value,p={file:d instanceof Blob?d:void 0},os(e,t,p),r.label=5;case 5:return[2]}}))}))}})}(e,n),t(n)}}}},os=function(e,t,n){var i=t.fileId,r=t.file;e.dispatch(Ba({event:{name:"upload-preview-update",data:{file:r,preview:n}},fileId:i}))};var as=function(e){return function(t){return function(n){return function(e){return"HANDLE_CLOUD_FETCHING_EVENT"===e.type}(n)&&(function(e){return"RemoteUploadProgress"===e.event}(n)?(n.file,n.payload):function(e){return"RemoteUploadEnd"===e.event}(n)?function(t,n){Object(r.b)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l,d,u,p;return Object(r.d)(this,(function(m){switch(m.label){case 0:return i=n.tenantFileId,o=n.userFileId,a={id:o,collection:f.c},s=Object(r.a)(Object(r.a)({},t),{id:o}),(c=Object(Aa.b)().get(i))?[4,Object(Pa.a)(c)]:[3,2];case 1:return d=m.sent(),[3,3];case 2:d=void 0,m.label=3;case 3:return u=(l=d)&&Object(Na.d)(l)?l.preview:void 0,p=l&&!Object(Na.a)(l)?l.mimeType:void 0,e.dispatch(La(s,i,a,{preview:u,mimeType:p})),[2]}}))}))}(n.file,n.payload):function(e){return"RemoteUploadFail"===e.event}(n)&&function(t,n){e.dispatch(Ba({event:{name:"upload-error",data:{fileId:n.tenantFileId,error:{fileId:n.tenantFileId,name:"remote_upload_fail",description:n.description}}},fileId:n.tenantFileId}))}(n.file,n.payload)),t(n)}}},ss=function(e,t,n){return Object(r.b)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l,d;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=n.query,o=n.offset,a=n.shouldAppendResults,r.label=1;case 1:return r.trys.push([1,6,,7]),i.length>0?[4,e.fetchGifsRelevantToSearch(i,o)]:[3,3];case 2:return d=r.sent(),[3,5];case 3:return[4,e.fetchTrendingGifs(o)];case 4:d=r.sent(),r.label=5;case 5:return c=(s=d).cardModels,l=s.totalResultCount,t.dispatch(function(e,t,n){return{type:"SEARCH_GIPHY_FULFILLED",imageCardModels:e,totalResultCount:t,shouldAppendResults:n}}(c,l,a)),[3,7];case 6:return r.sent(),t.dispatch(function(){return{type:"SEARCH_GIPHY_FAILED"}}()),[3,7];case 7:return[2]}}))}))},cs=function(e){return function(){return function(t){return function(n){if(function(e){return"SEND_UPLOAD_EVENT"===e.type}(n)){var i=n.payload,r=i.event,o=i.fileId;switch(r.name){case"upload-preview-update":var a=r.data.preview,s=za(r.data.file,o);e.emitUploadPreviewUpdate(s,a);break;case"upload-end":s=za(r.data.file,o);e.emitUploadEnd(s);break;case"upload-error":var c=r.data.error;e.emitUploadError(o,c),function(e,t){var n=e+": "+(t||"")+" \n "+(Error().stack||"");console.error(n)}(c.name,c.description)}}return t(n)}}}},ls=n("./node_modules/@atlaskit/analytics-listeners--next/node_modules/@atlaskit/analytics-next/dist/esm/events/UIAnalyticsEvent.js"),ds=n("./node_modules/@atlaskit/media-picker/dist/esm/version.json"),us=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),ps={actionSubject:"mediaUpload",actionSubjectId:"cloudMedia"},fs=function(e){return{fileId:e.id,fileSize:e.size,fileMimetype:e.type,fileSource:"mediapicker"}},ms=function(e){if("number"!=typeof e)return"N/A";if(e<=0)return"Invalid";var t=(new Date).getTime()-e,n=[{timeLimitInMiliseconds:36e5,label:"< 1 hour"},{timeLimitInMiliseconds:864e5,label:"1 hour - 1 day"},{timeLimitInMiliseconds:6048e5,label:"1 day - 1 week"},{timeLimitInMiliseconds:2629746e3,label:"1 week - 1 month"},{timeLimitInMiliseconds:15778476e3,label:"1 month - 6 months"},{timeLimitInMiliseconds:31536e6,label:"6 months - 1 year"}].find((function(e){var n=e.timeLimitInMiliseconds;return t<n}));return n?n.label:"> 1 year"},hs={action:"clicked",actionSubject:"button",eventType:us.e},vs=[function(e,t){if(function(e){return"HANDLE_CLOUD_FETCHING_EVENT"===e.type}(e)){var n=e.event,i=e.payload,o=e.file,a=(t.getState().remoteUploads[i.tenantFileId]||{timeStarted:void 0}).timeStarted,s=void 0!==a?Date.now()-a:-1,c={sourceType:"cloud",serviceName:i.serviceName};return"RemoteUploadStart"===n?[Object(r.a)(Object(r.a)({action:"commenced"},ps),{attributes:Object(r.a)({fileAttributes:fs(o)},c),eventType:us.b})]:"RemoteUploadEnd"===n?[Object(r.a)(Object(r.a)({action:"uploaded"},ps),{attributes:Object(r.a)(Object(r.a)({fileAttributes:fs(o)},c),{status:"success",uploadDurationMsec:s}),eventType:us.d})]:"RemoteUploadFail"===n?[Object(r.a)(Object(r.a)({action:"uploaded"},ps),{attributes:Object(r.a)(Object(r.a)({fileAttributes:fs(o)},c),{status:"fail",uploadDurationMsec:s,failReason:i.description}),eventType:us.d})]:[]}},function(e){if(C(e))return[Object(r.a)(Object(r.a)({},hs),{actionSubjectId:"mediaEditor"+e.selection+"Button"})]},function(e){if(function(e){return"EDIT_REMOTE_IMAGE"===e.type}(e)){var t=e.collectionName,n=e.item,i=(void 0===n?{}:n).id,o=void 0===i?void 0:i;return[Object(r.a)(Object(r.a)({},hs),{actionSubjectId:"annotateFileButton",attributes:{collectionName:t,fileId:o}})]}},function(e){if(k(e))return"upload"===e.serviceName?[Object(r.a)(Object(r.a)({},hs),{actionSubjectId:"uploadButton"}),{name:"recentFilesBrowserModal",eventType:us.c}]:[Object(r.a)(Object(r.a)({},hs),{actionSubjectId:"cloudBrowserButton",attributes:{cloudType:e.serviceName}})]},function(e,t){if(F(e)){var n=t.getState().selectedItems,i=void 0===n?[]:n,o=i.length>0?"insertFilesButton":"cancelButton",a="insertFilesButton"===o?i.map((function(e){return Object(r.a)({fileId:e.id,fileMimetype:e.mimeType,fileSize:e.size,accountId:e.accountId,serviceName:e.serviceName},"recent_files"===e.serviceName?{fileAge:ms(e.createdAt)}:{})})):[],s=i.length>0?{serviceNames:i.map((function(e){return e.serviceName}))}:{};return[Object(r.a)(Object(r.a)({},hs),{actionSubjectId:o,attributes:Object(r.a)(Object(r.a)({fileCount:i.length},s),"insertFilesButton"===o?{files:a}:{})})]}},function(e){if(function(e){return"AUTH_START"===e.type}(e))return[Object(r.a)(Object(r.a)({},hs),{actionSubjectId:"linkCloudAccountButton",attributes:{cloudType:e.serviceName}})]},function(e){if(function(e){return"START_FILE_BROWSER"===e.type}(e))return[{name:"localFileBrowserModal",eventType:us.c},Object(r.a)(Object(r.a)({},hs),{actionSubjectId:"localFileBrowserButton"})]},function(e){if(function(e){return"FILE_LIST_UPDATE"===e.type}(e))return[{name:"cloudBrowserModal",eventType:us.c,attributes:{cloudType:e.serviceName}}]},function(e){if(B(e))return[{name:"cloudBrowserModal",eventType:us.c,attributes:{cloudType:"giphy"}}]},function(e){if(ht(e)){var t=e.imageUrl,n=void 0===t?void 0:t,i=e.originalFile,r=void 0===i?void 0:i;return[{name:"fileEditorModal",eventType:us.c,attributes:{imageUrl:n,originalFile:r}}]}},function(e){if(eo(e))return[{name:"mediaPickerModal",eventType:us.c},{name:"recentFilesBrowserModal",eventType:us.c}]},function(e){if(function(e){return"FAILURE_ERROR"===e.type}(e)){var t=e.error,n=e.info,i=void 0===n?void 0:n;return[{name:"UnhandledError",action:"UnhandledError",eventType:us.b,attributes:{browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",error:t,info:i}}]}}],gs=n("./node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),bs=function(e,t){var n=function(){return window&&window.sessionStorage&&window.sessionStorage.getItem("media-api-region")}();new ls.a({context:[{}],handlers:t,payload:Object(r.a)(Object(r.a)({},e),{attributes:Object(r.a)(Object(r.a)(Object(r.a)({},e.attributes),{componentName:"mediaPicker",packageName:ds.a,componentVersion:ds.b}),n?{mediaRegion:n}:void 0)})}).fire(gs.ANALYTICS_MEDIA_CHANNEL)},ys=function(e){return function(t){return function(n){var i,o,a=e.getState().config.proxyReactContext;if(a&&a.getAtlaskitAnalyticsEventHandlers){var s=a.getAtlaskitAnalyticsEventHandlers();try{for(var c=Object(r.i)(vs),l=c.next();!l.done;l=c.next()){((0,l.value)(n,e)||[]).forEach((function(e){return bs(e,s)}))}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}return t(n)}}},_s=function(e){return function(t){return function(n){return Ft(n)&&e.getState().userMediaClient.collection.removeFile(n.userFileId||n.id,f.c,n.occurrenceKey),t(n)}}},js=function(e,t,n,i){var o=n.config.authProvider,a=Mo.redirectUrl,s=new ho,c=new jo,l=new go(o),d=Object(r.a)(Object(r.a)({},To),{redirectUrl:a,plugins:i.plugins,tenantMediaClient:t,userMediaClient:n,config:i});return Object(no.createStore)(Io,d,Object(io.composeWithDevTools)(Object(no.applyMiddleware)(ys,function(){return function(e){return function(t){return function(n){if(Lr(n)){var i=e.getState().redirectUrl;e.dispatch(function(e){return{type:"UPDATE_POPUP_URLS",urls:e}}({redirectUrl:i}))}return t(n)}}}}(),function(){return function(e){return function(t){return function(n){return R(n)&&Po(e),t(n)}}}}(),function(){return function(e){return function(t){return function(n){return function(e){return"GET_FORGE_PLUGINS"===e.type}(n)&&Ta(e),t(n)}}}}(),Ao,Fo,function(e){return function(t){return function(n){return function(i){if(O(i)){var r=t.getState().userMediaClient,o=i.serviceName,a=i.accountId,s=i.path,c=0===s.length?{id:"",name:""}:s[s.length-1];r.config.authProvider().then((function(t){return e.fetchCloudAccountFolder(t,o,a,c.id)})).then((function(e){return t.dispatch(M(a,s,e.items,o,void 0,e.cursor))})).catch((function(e){e.response&&401===e.response.status&&t.dispatch(U({id:a,name:o}))}))}return n(i)}}}}(s),function(e){return function(t){return function(n){return function(i){if(I(i)){var r=t.getState().userMediaClient,o=i.serviceName,a=i.accountId,s=i.path,c=(s[s.length-1]||{id:""}).id,l=t.getState().view,d=l&&l.nextCursor,u=l&&l.items||[];r.config.authProvider().then((function(t){return e.fetchCloudAccountFolder(t,o,a,c,d)})).then((function(e){return t.dispatch(M(a,s,u.concat(e.items),o,d,e.cursor))})).catch((function(e){e.response&&401===e.response.status&&t.dispatch(U({id:a,name:o}))}))}return n(i)}}}}(s),function(e,t){return function(n){return function(i){return function(r){if("AUTH_START"===r.type){var o=n.getState(),a=o.redirectUrl,s=o.userMediaClient,c=r.serviceName,l=t.startAuth(a,c).then((function(){return s.config.authProvider()})).then((function(t){return e.getServiceList(t)}));n.dispatch(z(l)),l.then((function(e){var t=e.find((function(e){return e.type===c}));t&&n.dispatch(w(c,t.id))}))}return i(r)}}}}(s,l),function(e){return function(t){return function(n){return function(i){"ACCOUNT_UNLINK_CLOUD_REQUEST"===i.type&&t.getState().userMediaClient.config.authProvider().then((function(t){return e.unlinkCloudAccount(t,i.account.id)})).then((function(){t.dispatch(function(e){return{type:"ACCOUNT_CLOUD_UNLINK",account:e}}(i.account)),t.dispatch(E(i.account.name))}));return n(i)}}}}(s),function(e){return function(t){return function(n){return function(i){if(function(e){return"GET_CONNECTED_REMOTE_ACCOUNTS"===e.type}(i)){var r=t.getState().userMediaClient.config.authProvider().then((function(t){return e.getServiceList(t)})).catch((function(){return t.dispatch(function(){return{type:"GET_CONNECTED_REMOTE_ACCOUNTS_FAILED"}}()),[]}));t.dispatch(z(r))}return n(i)}}}}(s),Wa(e,c),ts(),rs(),is(),as,function(e){return function(t){return function(n){return function(i){if(B(i)){var r=i.query,o=i.shouldAppendResults,a=t.getState().giphy.imageCardModels,s=o?a.length+1:void 0;ss(e,t,{query:r,offset:s,shouldAppendResults:o})}return n(i)}}}}(s),function(e){return function(t){return function(t){return function(n){return F(n)&&e.emitClosed(),t(n)}}}}(e),cs(e),_s)))},ws={collection:""},xs=n("./node_modules/jwt-decode/lib/index.js"),Os=n.n(xs),ks=function(e){return{clientId:e.data.clientId,token:e.data.token,baseUrl:e.data.baseUrl}},Es=function(e){return Object(lo.isClientBasedAuth)(e)?e.clientId:Os()(e.token).clientId},Cs=function(e){function t(t,n){var i=n.container,a=void 0===i?l.canUseDOM?document.body:void 0:i,s=n.uploadParams,c=n.proxyReactContext,d=n.singleSelect,u=n.plugins,p=n.useForgePlugins,f=void 0!==p&&p,m=n.featureFlags,h=e.call(this)||this;h.tenantMediaClient=t,h.proxyReactContext=c,h.useForgePlugins=f,h.featureFlags=m;var v=function(e,t){var n;return function(i){return Object(r.b)(void 0,void 0,void 0,(function(){var o,a,s,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(o=t.userAuthProvider)return[2,o(i)];r.label=1;case 1:return r.trys.push([1,5,,6]),n&&!e.isTokenExpired(n)?[3,4]:(a=t.authProvider,c=Es,[4,a(i)]);case 2:return s=c.apply(void 0,[r.sent()]),[4,e.fetchToken(s)];case 3:n=r.sent(),r.label=4;case 4:return[2,ks(n)];case 5:throw r.sent(),new Error("Popup media picker Stargate call failed. If you were not intending to use Stargate you should provide userAuthProvider in the context");case 6:return[2]}}))}))}}(t.stargate,t.config),g=new o.a({authProvider:v}),b=Object(r.a)(Object(r.a)({},ws),s);h.store=js(h,t,g,{proxyReactContext:c,singleSelect:d,uploadParams:b,plugins:u}),h.tenantUploadParams=b;var y=h.renderPopup();return y?(h.container=y,a&&a.appendChild(y),h):h}return Object(r.c)(t,e),t.prototype.show=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){return(e=this.store.dispatch)(function(){return{type:"GET_FILES_IN_RECENTS"}}()),this.useForgePlugins&&e(function(){return{type:"GET_FORGE_PLUGINS"}}()),e(function(){return{type:"SHOW_POPUP"}}()),[2]}))}))},t.prototype.cancel=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e?(n=(t=this.store).dispatch,i=to,o={},[4,e]):[2];case 1:return n.apply(t,[i.apply(void 0,[(o.tenantFileId=r.sent(),o)])]),[2]}}))}))},t.prototype.teardown=function(){if(this.container)try{Object(c.unmountComponentAtNode)(this.container),this.container.remove()}catch(e){(0,this.store.dispatch)(function(e){return{type:"FAILURE_ERROR",error:e.error,info:e.info}}({error:e,info:"`ChildNode#remove()` polyfill is not available in client"}))}},t.prototype.hide=function(){this.store.dispatch(N())},t.prototype.setUploadParams=function(e){this.tenantUploadParams=Object(r.a)(Object(r.a)({},ws),e)},t.prototype.emitClosed=function(){this.emit("closed",void 0)},t.prototype.renderPopup=function(){if(l.canUseDOM){var e=document.createElement("div");return Object(c.render)(s.a.createElement($r,{store:this.store,proxyReactContext:this.proxyReactContext,tenantUploadParams:this.tenantUploadParams,useForgePlugins:this.useForgePlugins,featureFlags:this.featureFlags}),e),e}},t}(Jr.a)},"./node_modules/@atlaskit/media-picker/dist/esm/domain/preview.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){return!!e.dimensions},r=function(e){return e.original&&e.original.width&&e.original.height?{dimensions:{width:e.original.width,height:e.original.height},scaleFactor:1}:{}}},"./node_modules/@atlaskit/media-picker/dist/esm/service/types.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i;!function(e){e[e.PastedFile=0]="PastedFile",e[e.PastedScreenshot=1]="PastedScreenshot",e[e.LocalUpload=2]="LocalUpload"}(i||(i={}))},"./node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),s=n("./node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),c=n("./node_modules/@atlaskit/media-client/dist/esm/upload-controller.js"),l=n("./node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),d=n("./node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),u=n("./node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),p=n("./node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),f=n("./node_modules/@atlaskit/media-client/dist/esm/constants.js"),m=n("./node_modules/eventemitter2/lib/eventemitter2.js"),h=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");function v(e){return Object(h.isClientBasedAuth)(e)?{id:e.clientId,token:e.token,baseUrl:e.baseUrl}:e}var g=n("./node_modules/@atlaskit/media-ui/dist/esm/util.js"),b=n("./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/index.js");var y=n("./node_modules/@atlaskit/media-picker/dist/esm/service/types.js"),_=n("./node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js"),j=function(){function e(e,t,n){var r=this;this.tenantMediaClient=e,this.tenantUploadParams=t,this.shouldCopyFileToRecents=n,this.emit=function(e,t){r.emitter.emit(e,t)},this.onFileSuccess=function(e,t){return Object(i.b)(r,void 0,void 0,(function(){var n,r=this;return Object(i.d)(this,(function(i){return n=e.mediaFile,this.copyFileToUsersCollection(t).catch(console.log),this.emit("file-converting",{file:n}),e.cancel=function(){r.releaseCancellableFile(n)},[2]}))}))},this.onFileError=function(e,t,n){if(r.releaseCancellableFile(e),"canceled"!==n){var i=n instanceof Error?n.message:n;r.emit("file-upload-error",{fileId:e.id,error:{fileId:e.id,description:i,name:t}})}},this.emitter=new m.EventEmitter2,this.cancellableFilesUploads={};var o=e.config.userAuthProvider;o&&(this.userMediaStore=new a.a({authProvider:o}),this.userMediaClient=new s.a({userAuthProvider:o,authProvider:o}))}return e.prototype.setUploadParams=function(e){this.tenantUploadParams=e},e.prototype.createUploadController=function(){return new c.a},e.prototype.addFiles=function(e){this.addFilesWithSource(e.map((function(e){return{file:e,source:y.a.LocalUpload}})))},e.prototype.addFilesWithSource=function(e){var t=this;if(0!==e.length){var n=Date.now(),i=this.userMediaClient,r=this.tenantMediaClient,a=this.shouldCopyFileToRecents,s=a?r:i,c=a?this.tenantUploadParams.collection:f.c;if(s){for(var u=[],p=0;p<e.length;p++)u.push({fileId:o()(),occurrenceKey:o()(),collection:c});var m=s.file.touchFiles(u,c),h=e.map((function(e,i){var r=e.file,o=e.source,p=u[i],f=p.fileId,h=p.occurrenceKey,v=m.then((function(e){var t=e.created.find((function(e){return e.fileId===f}));if(!t)throw new Error("Cant retrieve uploadId from result of touch endpoint call");return t.uploadId})),g={collection:c,content:r,name:r.name,mimeType:r.type},b={id:f,occurrenceKey:h,deferredUploadId:v},y=t.createUploadController(),_=s.file.upload(g,y,b),j={id:f,name:r.name,size:r.size,creationDate:n,type:r.type,occurrenceKey:h},w={mediaFile:j,file:r,source:o,cancel:function(){y.abort()}},x=t.onFileSuccess.bind(t);return _.subscribe({next:function(e){"processing"===e.status&&(this.unsubscribe(),a&&(s.emit("file-added",e),l.a.emit("file-added",e)),x(w,f))},error:function(e){t.onFileError(j,"upload_fail",e)}}),t.cancellableFilesUploads[f]=w,Object(d.b)().set(f,_),w})),v=h.map((function(e){return e.mediaFile}));this.emit("files-added",{files:v}),this.emitPreviews(h)}}},e.prototype.cancel=function(e){var t=this;if(e){var n=this.cancellableFilesUploads[e];n&&n.cancel&&n.cancel()}else Object.keys(this.cancellableFilesUploads).forEach((function(e){var n=t.cancellableFilesUploads[e];n.cancel&&n.cancel()}))},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.emitPreviews=function(e){var t=this;e.forEach((function(e){var n=e.file,r=e.mediaFile,o=e.source,a=n.type,s=t.getMediaTypeFromFile(n);Object(u.d)(a)?"image"===s?function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Object(g.e)(e)];case 1:return n=i.sent(),[4,Object(b.a)(n)];case 2:return null===(r=i.sent())?[2,{file:e}]:(o=r.width,a=r.height,s=r.scaleFactor,[2,{file:e,dimensions:{width:o,height:a},scaleFactor:t||s}])}}))}))}(n,o===y.a.PastedScreenshot?window.devicePixelRatio:void 0).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):Object(_.a)(n,s).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):t.emit("file-preview-update",{file:r,preview:{}})}))},e.prototype.getMediaTypeFromFile=function(e){var t=e.type;return Object(p.a)(t)},e.prototype.releaseCancellableFile=function(e){delete this.cancellableFilesUploads[e.id]},e.prototype.copyFileToUsersCollection=function(e){var t=this.shouldCopyFileToRecents,n=this.userMediaStore,r=this.tenantUploadParams;if(!t||!n)return Promise.resolve();var o=r.collection;return(0,this.tenantMediaClient.config.authProvider)({collectionName:o}).then((function(t){var r={sourceFile:{id:e,collection:o,owner:Object(i.a)({},v(t))}},a={collection:f.c};return n.copyFileWithToken(r,a)}))},e}()},"./node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/video-snapshot/dist/index.js"),o=n.n(r),a=function(e,t){return new Promise((function(n,r){return Object(i.b)(void 0,void 0,void 0,(function(){var a,s,c,l,d;return Object(i.d)(this,(function(i){switch(i.label){case 0:return a=URL.createObjectURL(e),"image"!==t?[3,1]:((s=new Image).src=a,s.onload=function(){var t={width:s.width,height:s.height},i={file:e,dimensions:t,scaleFactor:1};URL.revokeObjectURL(a),n(i)},s.onerror=r,[3,4]);case 1:return"video"!==t?[3,3]:[4,(c=new o.a(e)).getDimensions()];case 2:return l=i.sent(),d={file:e,dimensions:l,scaleFactor:1},c.end(),n(d),[3,4];case 3:n({file:e}),i.label=4;case 4:return[2]}}))}))}))}},"./node_modules/@atlaskit/media-picker/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-picker","b":"56.0.3"}')},"./node_modules/@atlaskit/media-picker/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return p}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function p(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create},"./node_modules/@atlaskit/media-test-helpers/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":function(e,t,n){"use strict";var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=l&&l(Object);e.exports=function e(t,n,u){if("string"!=typeof n){if(d){var p=l(n);p&&p!==d&&e(t,p,u)}var f=a(n);s&&(f=f.concat(s(n)));for(var m=0;m<f.length;++m){var h=f[m];if(!(i[h]||r[h]||u&&u[h])){var v=c(n,h);try{o(t,h,v)}catch(e){}}}return t}return t}},"./node_modules/@atlaskit/media-test-helpers/node_modules/react-intl/lib/index.es.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return V})),n.d(t,"f",(function(){return oe})),n.d(t,"e",(function(){return ae})),n.d(t,"c",(function(){return we})),n.d(t,"b",(function(){return Ee})),n.d(t,"a",(function(){return Ie}));var i=n(9),r=n.n(i),o=n("./node_modules/intl-messageformat/index.js"),a=n.n(o),s=n("./node_modules/intl-relativeformat/index.js"),c=n.n(s),l=n("./node_modules/prop-types/index.js"),d=n.n(l),u=n("./node_modules/react/index.js"),p=n.n(u),f=n("./node_modules/@atlaskit/media-test-helpers/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),m=n.n(f),h=n("./node_modules/invariant/browser.js"),v=n.n(h),g=n("./node_modules/intl-format-cache/index.js"),b=n.n(g),y={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,o=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&i?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];t.forEach((function(e){e&&e.locale&&(a.a.__addLocaleData(e),c.a.__addLocaleData(e))}))}function j(e){var t=e&&e.toLowerCase();return!(!a.a.__localeData__[t]||!c.a.__localeData__[t])}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=(function(){function e(e){this.value=e}function t(t){var n,i;function r(n,i){try{var a=t[n](i),s=a.value;s instanceof e?Promise.resolve(s.value).then((function(e){r("next",e)}),(function(e){r("throw",e)})):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise((function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};i?i=i.next=s:(n=i=s,r(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},C=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},I=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},T=d.a.bool,M=d.a.number,F=d.a.string,N=d.a.func,A=d.a.object,P=d.a.oneOf,D=d.a.shape,L=d.a.any,U=d.a.oneOfType,R=P(["best fit","lookup"]),z=P(["narrow","short","long"]),B=P(["numeric","2-digit"]),H=N.isRequired,G={locale:F,timeZone:F,formats:A,messages:A,textComponent:L,defaultLocale:F,defaultFormats:A},W={formatDate:H,formatTime:H,formatRelative:H,formatNumber:H,formatPlural:H,formatMessage:H,formatHTMLMessage:H},V=D(E({},G,W,{formatters:A,now:H})),K=(F.isRequired,U([F,A]),{localeMatcher:R,formatMatcher:P(["basic","best fit"]),timeZone:F,hour12:T,weekday:z,era:z,year:B,month:P(["numeric","2-digit","narrow","short","long"]),day:B,hour:B,minute:B,second:B,timeZoneName:P(["short","long"])}),q={localeMatcher:R,style:P(["decimal","currency","percent"]),currency:F,currencyDisplay:P(["symbol","code","name"]),useGrouping:T,minimumIntegerDigits:M,minimumFractionDigits:M,maximumFractionDigits:M,minimumSignificantDigits:M,maximumSignificantDigits:M},Y={style:P(["best fit","numeric"]),units:P(["second","minute","hour","day","month","year","second-short","minute-short","hour-short","day-short","month-short","year-short"])},J={style:P(["cardinal","ordinal"])},Z=Object.keys(G),X={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Q=/[&><"']/g;function $(e){return(""+e).replace(Q,(function(e){return X[e]}))}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce((function(t,i){return e.hasOwnProperty(i)?t[i]=e[i]:n.hasOwnProperty(i)&&(t[i]=n[i]),t}),{})}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intl;v()(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function ne(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":w(e))||null===e||"object"!==(void 0===t?"undefined":w(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=Object.prototype.hasOwnProperty.bind(t),o=0;o<n.length;o++)if(!r(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function ie(e,t,n){var i=e.props,r=e.state,o=e.context,a=void 0===o?{}:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=a.intl,l=void 0===c?{}:c,d=s.intl,u=void 0===d?{}:d;return!ne(t,i)||!ne(n,r)||!(u===l||ne(ee(u,Z),ee(l,Z)))}function re(e){return e.displayName||e.name||"Component"}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.intlPropName,i=void 0===n?"intl":n,r=t.withRef,o=void 0!==r&&r,a=function(t){function n(e,t){x(this,n);var i=S(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return te(t),i}return C(n,t),O(n,[{key:"getWrappedInstance",value:function(){return v()(o,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this.refs.wrappedInstance}},{key:"render",value:function(){return p.a.createElement(e,E({},this.props,k({},i,this.context.intl),{ref:o?"wrappedInstance":null}))}}]),n}(u.Component);return a.displayName="InjectIntl("+re(e)+")",a.contextTypes={intl:V},a.WrappedComponent=e,m()(a,e)}function ae(e){return e}function se(e){return a.a.prototype._resolveLocale(e)}function ce(e){return a.a.prototype._findPluralRuleFunction(e)}var le=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,e);var i="ordinal"===n.style,r=ce(se(t));this.format=function(e){return r(e,i)}},de=Object.keys(K),ue=Object.keys(q),pe=Object.keys(Y),fe=Object.keys(J),me={second:60,minute:60,hour:24,day:30,month:12};function he(e){var t=c.a.thresholds;t.second=e.second,t.minute=e.minute,t.hour=e.hour,t.day=e.day,t.month=e.month,t["second-short"]=e["second-short"],t["minute-short"]=e["minute-short"],t["hour-short"]=e["hour-short"],t["day-short"]=e["day-short"],t["month-short"]=e["month-short"]}function ve(e,t,n){var i=e&&e[t]&&e[t][n];if(i)return i}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=e.messages,s=e.defaultLocale,c=e.defaultFormats,l=n.id,d=n.defaultMessage;v()(l,"[React Intl] An `id` must be provided to format a message.");var u=a&&a[l],p=Object.keys(i).length>0;if(!p)return u||d||l;var f=void 0;if(u)try{var m=t.getMessageFormat(u,r,o);f=m.format(i)}catch(e){0}else 0;if(!f&&d)try{var h=t.getMessageFormat(d,s,c);f=h.format(i)}catch(e){0}return f||u||d||l}var be=Object.freeze({formatDate:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=e.timeZone,s=i.format,c=new Date(n),l=E({},a&&{timeZone:a},s&&ve(o,"date",s)),d=ee(i,de,l);try{return t.getDateTimeFormat(r,d).format(c)}catch(e){0}return String(c)},formatTime:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=e.timeZone,s=i.format,c=new Date(n),l=E({},a&&{timeZone:a},s&&ve(o,"time",s)),d=ee(i,de,l);d.hour||d.minute||d.second||(d=E({},d,{hour:"numeric",minute:"numeric"}));try{return t.getDateTimeFormat(r,d).format(c)}catch(e){0}return String(c)},formatRelative:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=i.format,s=new Date(n),l=new Date(i.now),d=a&&ve(o,"relative",a),u=ee(i,pe,d),p=E({},c.a.thresholds);he(me);try{return t.getRelativeFormat(r,u).format(s,{now:isFinite(l)?l:t.now()})}catch(e){0}finally{he(p)}return String(s)},formatNumber:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=i.format,s=a&&ve(o,"number",a),c=ee(i,ue,s);try{return t.getNumberFormat(r,c).format(n)}catch(e){0}return String(n)},formatPlural:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=ee(i,fe);try{return t.getPluralFormat(r,o).format(n)}catch(e){0}return"other"},formatMessage:ge,formatHTMLMessage:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Object.keys(i).reduce((function(e,t){var n=i[t];return e[t]="string"==typeof n?$(n):n,e}),{});return ge(e,t,n,r)}}),ye=Object.keys(G),_e=Object.keys(W),je={formats:{},messages:{},timeZone:null,textComponent:"span",defaultLocale:"en",defaultFormats:{}},we=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));v()("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var r=n.intl,o=void 0;o=isFinite(e.initialNow)?Number(e.initialNow):r?r.now():Date.now();var s=r||{},l=s.formatters,d=void 0===l?{getDateTimeFormat:b()(Intl.DateTimeFormat),getNumberFormat:b()(Intl.NumberFormat),getMessageFormat:b()(a.a),getRelativeFormat:b()(c.a),getPluralFormat:b()(le)}:l;return i.state=E({},d,{now:function(){return i._didDisplay?Date.now():o}}),i}return C(t,e),O(t,[{key:"getConfig",value:function(){var e=this.context.intl,t=ee(this.props,ye,e);for(var n in je)void 0===t[n]&&(t[n]=je[n]);if(!function(e){for(var t=(e||"").split("-");t.length>0;){if(j(t.join("-")))return!0;t.pop()}return!1}(t.locale)){var i=t,r=(i.locale,i.defaultLocale),o=i.defaultFormats;0,t=E({},t,{locale:r,formats:o,messages:je.messages})}return t}},{key:"getBoundFormatFns",value:function(e,t){return _e.reduce((function(n,i){return n[i]=be[i].bind(null,e,t),n}),{})}},{key:"getChildContext",value:function(){var e=this.getConfig(),t=this.getBoundFormatFns(e,this.state),n=this.state,i=n.now,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["now"]);return{intl:E({},e,t,{formatters:r,now:i})}}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.apply(void 0,[this].concat(t))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),t}(u.Component);we.displayName="IntlProvider",we.contextTypes={intl:V},we.childContextTypes={intl:V.isRequired};var xe=function(e){function t(e,n){x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),i}return C(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatDate,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,this.props);return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(u.Component);xe.displayName="FormattedDate",xe.contextTypes={intl:V};var Oe=function(e){function t(e,n){x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),i}return C(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatTime,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,this.props);return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(u.Component);Oe.displayName="FormattedTime",Oe.contextTypes={intl:V};var ke=function(e){function t(e,n){x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));te(n);var r=isFinite(e.initialNow)?Number(e.initialNow):n.intl.now();return i.state={now:r},i}return C(t,e),O(t,[{key:"scheduleNextUpdate",value:function(e,t){var n=this;clearTimeout(this._timer);var i=e.value,r=e.units,o=e.updateInterval,a=new Date(i).getTime();if(o&&isFinite(a)){var s=a-t.now,c=function(e){switch(e){case"second":return 1e3;case"minute":return 6e4;case"hour":return 36e5;case"day":return 864e5;default:return 2147483647}}(r||function(e){var t=Math.abs(e);return t<6e4?"second":t<36e5?"minute":t<864e5?"hour":"day"}(s)),l=Math.abs(s%c),d=s<0?Math.max(o,c-l):Math.max(o,l);this._timer=setTimeout((function(){n.setState({now:n.context.intl.now()})}),d)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(e){(function(e,t){if(e===t)return!0;var n=new Date(e).getTime(),i=new Date(t).getTime();return isFinite(n)&&isFinite(i)&&n===i})(e.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.apply(void 0,[this].concat(t))}},{key:"componentWillUpdate",value:function(e,t){this.scheduleNextUpdate(e,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var e=this.context.intl,t=e.formatRelative,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,E({},this.props,this.state));return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(u.Component);ke.displayName="FormattedRelative",ke.contextTypes={intl:V},ke.defaultProps={updateInterval:1e4};var Ee=function(e){function t(e,n){x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),i}return C(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatNumber,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,this.props);return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(u.Component);Ee.displayName="FormattedNumber",Ee.contextTypes={intl:V};var Ce=function(e){function t(e,n){x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),i}return C(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatPlural,n=e.textComponent,i=this.props,r=i.value,o=i.other,a=i.children,s=t(r,this.props),c=this.props[s]||o;return"function"==typeof a?a(c):p.a.createElement(n,null,c)}}]),t}(u.Component);Ce.displayName="FormattedPlural",Ce.contextTypes={intl:V},Ce.defaultProps={style:"cardinal"};var Se=function(e,t){return ge({},{getMessageFormat:b()(a.a)},e,t)},Ie=function(e){function t(e,n){x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.defaultMessage||te(n),i}return C(t,e),O(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values,n=e.values;if(!ne(n,t))return!0;for(var i=E({},e,{values:t}),r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return ie.apply(void 0,[this,i].concat(o))}},{key:"render",value:function(){var e=this.context.intl||{},t=e.formatMessage,n=void 0===t?Se:t,i=e.textComponent,r=void 0===i?"span":i,o=this.props,a=o.id,s=o.description,c=o.defaultMessage,l=o.values,d=o.tagName,p=void 0===d?r:d,f=o.children,m=void 0,h=void 0,v=void 0;if(l&&Object.keys(l).length>0){var g=Math.floor(1099511627776*Math.random()).toString(16),b=function(){var e=0;return function(){return"ELEMENT-"+g+"-"+(e+=1)}}();m="@__"+g+"__@",h={},v={},Object.keys(l).forEach((function(e){var t=l[e];if(Object(u.isValidElement)(t)){var n=b();h[e]=m+n+m,v[n]=t}else h[e]=t}))}var y=n({id:a,description:s,defaultMessage:c},h||l),_=void 0;return _=v&&Object.keys(v).length>0?y.split(m).filter((function(e){return!!e})).map((function(e){return v[e]||e})):[y],"function"==typeof f?f.apply(void 0,I(_)):u.createElement.apply(void 0,[p,null].concat(I(_)))}}]),t}(u.Component);Ie.displayName="FormattedMessage",Ie.contextTypes={intl:V},Ie.defaultProps={values:{}};var Te=function(e){function t(e,n){x(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),i}return C(t,e),O(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values,n=e.values;if(!ne(n,t))return!0;for(var i=E({},e,{values:t}),r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return ie.apply(void 0,[this,i].concat(o))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatHTMLMessage,n=e.textComponent,i=this.props,r=i.id,o=i.description,a=i.defaultMessage,s=i.values,c=i.tagName,l=void 0===c?n:c,d=i.children,u=t({id:r,description:o,defaultMessage:a},s);if("function"==typeof d)return d(u);var f={__html:u};return p.a.createElement(l,{dangerouslySetInnerHTML:f})}}]),t}(u.Component);Te.displayName="FormattedHTMLMessage",Te.contextTypes={intl:V},Te.defaultProps={values:{}},_(y),_(r.a)},"./node_modules/@atlaskit/media-ui/dist/esm/codeViewer.js":function(e,t,n){"use strict";function i(e){return e.indexOf(".")>-1?e.split(".").pop():""}function r(e){return null!==o(e)}function o(e){var t=i(e);switch(t){case"abap":case"ada":case"c":case"css":case"d":case"dart":case"go":case"graphql":case"groovy":case"html":case"java":case"json":case"matlab":case"xml":case"lua":case"puppet":case"qml":case"sass":case"sql":case"php":case"r":case"swift":case"tcl":case"vala":case"vhdl":case"xquery":return t;case"as":case"asc":return"actionscript";case"ino":return"arduino";case"au3":return"autoit";case"cpp":case"h":case"c++":return"c++";case"coffee":return"coffeescript";case"cs":return"csharp";case"cu":return"cuda";case"pas":case"dpr":case"dproj":case"dpk":return"delphi";case"ex":case"exs":return"elixir";case"erl":case"hrl":return"erlang";case"f90":case"for":case"f":case"fpp":case"i":case"i90":case"ftn":return"fortran";case"dbc":return"foxpro";case"hs":case"has":return"haskell";case"hx":return"haxe";case"js":return"javascript";case"jl":return"julia";case"kt":return"kotlin";case"m":case"mm":return"objective-c";case"j":return"objective-j";case"tex":return"latex";case"nb":case"cdf":return"mathematica";case"cma":return"ocaml";case"pl":return"perl";case"py":return"python";case"ps1":case"psd1":case"psm1":return"powershell";case"rb":return"ruby";case"rst":return"restructuredtext";case"rs":return"rust";case"rkt":return"racket";case"sh":return"shell";case"sc":case"sch":return"scheme";case"txt":case"msg":case"log":case"csv":return"text";case"ts":return"typescript";case"v":return"verilog";case"xq":case"xql":case"xqm":case"xqy":return"xquery";default:return null}}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}))},"./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/imageOrientationUtil.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i={1:"none",2:"rotateY(180deg)",3:"rotate(180deg)",4:"rotate(180deg) rotateY(180deg)",5:"rotate(270deg) rotateY(180deg)",6:"rotate(90deg)",7:"rotate(90deg) rotateY(180deg)",8:"rotate(270deg)"},r=function(e){return e>=5},o=function(e){return i[e]}},"./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return j}));var i,r,o=n("./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js");!function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(i||(i={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(r||(r={}));var a,s={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},c=r.XResolution,l=r.YResolution;function d(e){var t=this;return new Promise((function(i,r){return Object(o.b)(t,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(o){switch(o.label){case 0:return a?[3,2]:[4,n.e("cd45fd1be4").then(n.t.bind(null,"./node_modules/blueimp-load-image/js/index.js",7))];case 1:t=o.sent(),a=t.default||t,o.label=2;case 2:return a.parseMetaData(e,(function(e){try{var t=e&&e.exif?e.exif.getAll():{};Object.keys(t).forEach((function(e){var n=t[e];"object"==typeof n&&(e===c||e===l)&&"numerator"in n&&(t[e]=n.numerator),"number"==typeof t[e]&&(t[e]=""+t[e])})),i(t)}catch(e){r(e)}})),[2]}}))}))}))}var u,p=n("./node_modules/@atlaskit/media-ui/dist/esm/util.js");function f(e){return Object(o.b)(this,void 0,void 0,(function(){var t,i;return Object(o.d)(this,(function(r){switch(r.label){case 0:return u?[3,2]:[4,n.e("420d777950").then(n.t.bind(null,"./node_modules/png-chunks-extract/index.js",7))];case 1:t=r.sent(),u=t.default||t,r.label=2;case 2:return[4,Object(p.b)(e)];case 3:return i=r.sent(),[4,m(u(i))];case 4:return[2,r.sent()]}}))}))}function m(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,i,r,a,s,c;return Object(o.d)(this,(function(o){for(t="",n={},i=0;i<e.length&&"IEND"!==(r=e[i]).name;++i)"iTXt"===r.name&&(t=String.fromCharCode.apply(null,Array.from(r.data))),"pHYs"===r.name&&(a=new DataView(r.data.buffer),1===a.getUint8(8)&&(s=a.getUint32(0),c=a.getUint32(4),n={PixelPerUnitX:s,PixelPerUnitY:c}));return[2,{iTXt:t,pHYs:n}]}))}))}function h(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,a;return Object(o.d)(this,(function(s){switch(s.label){case 0:t=e.type,s.label=1;case 1:return s.trys.push([1,6,,7]),t!==i.PNG?[3,3]:[4,f(e)];case 2:return n=s.sent(),r=n.iTXt,a=n.pHYs,[2,Object(o.a)(Object(o.a)({},function(e){var t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((function(e){var n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){var i=n[2];t[i]=n[3]}})),t}(r)),a)];case 3:return e.type!==i.JPEG?[3,5]:[4,d(e)];case 4:return[2,s.sent()];case 5:return[3,7];case 6:return s.sent(),[3,7];case 7:return[2,null]}}))}))}var v=n("./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/imageOrientationUtil.js"),g=r.Orientation,b=r.XResolution;function y(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,i,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,x(e)];case 1:return(t=o.sent())?(n=t.width,i=t.height,r=t.tags,[2,{scaleFactor:function(e,t){var n=function(e){try{var t=e.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(t)return parseFloat(t[1])}catch(e){}return null}(e);return null!==n?n:t?"number"==typeof t.PixelPerUnitX?Math.round(.0254*t.PixelPerUnitX)/72:w(t,b,72)/72:1}(e.file,r),width:n,height:i}]):[2,null]}}))}))}var _=function(e){if(e&&e[g]){var t=e[g];if(t){var n=parseInt(t,10);return isNaN(n)?s[t]:n}}return 1};function j(e){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,h(e)];case 1:return t=n.sent(),[2,_(t)]}}))}))}function w(e,t,n){try{var i=parseFloat(""+e[t]);if(!isNaN(i))return i}catch(e){}return n}function x(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,i,r,a,s,c,l,d,u,f;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=e.file,n=e.src,i=t.type,r=0,a=0,[4,h(t)];case 1:if((s=o.sent())&&s.PixelXDimension&&(r=w(s,"PixelXDimension",0)),s&&s.PixelXDimension&&(a=w(s,"PixelYDimension",0)),0!==r||0!==a)return[3,6];c=void 0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,Object(p.g)(n)];case 3:return c=o.sent(),[3,5];case 4:return o.sent(),[2,null];case 5:l=c.naturalWidth,d=c.naturalHeight,r=l,a=d,o.label=6;case 6:return u=_(s),f=Object(v.b)(u),[2,{type:i,width:f?a:r,height:f?r:a,tags:s}]}}))}))}},"./node_modules/@atlaskit/media-ui/dist/esm/infiniteScroll.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/lodash/debounce.js"),s=n.n(a),c=function(e){function t(t){var n=e.call(this,t)||this;return n.scrollHeight=0,n.checkThreshold=function(){var e=n.div.current;if(null!==e){var t=n.props.threshold||0,i=e.scrollTop+e.offsetHeight,r=Math.min(t,.1*e.scrollHeight);i>n.scrollHeight&&i>e.scrollHeight-r&&(n.scrollHeight=e.scrollHeight,n.props.onThresholdReached&&n.props.onThresholdReached())}},n.checkThresholdDebounce=s()(n.checkThreshold,n.props.delay,{leading:!0,trailing:!0}),n.div=o.a.createRef(),n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.checkThresholdDebounce()},t.prototype.componentDidUpdate=function(){this.checkThresholdDebounce()},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,i=e.children;return o.a.createElement("div",{ref:this.div,style:{width:t,height:n,overflowX:"hidden",overflowY:"auto",msOverflowStyle:"scrollbar",display:"inline-block"},onScroll:this.checkThresholdDebounce},i)},t.defaultProps={width:"100%",delay:500,threshold:100},t}(r.Component)},"./node_modules/@atlaskit/media-ui/dist/esm/messages.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/react-intl/lib/index.es.js"),r=Object(i.defineMessages)({retry:{id:"fabric.media.retry",defaultMessage:"Retry",description:"Allows user to perform an action again"},failed_to_load:{id:"fabric.media.failed_to_load",defaultMessage:"Failed to load",description:"We show this message when we have an error loading a file"},recent_uploads:{id:"fabric.media.recent_uploads",defaultMessage:"Recent uploads",description:"Title of a section where we show the user recent uploaded files"},upload_file:{id:"fabric.media.upload_file",defaultMessage:"Upload a file",description:"Call to action that initiates the upload of a file"},drag_and_drop_your_files:{id:"fabric.media.drag_and_drop_your_files",defaultMessage:"Drag and drop your files anywhere or",description:"Used to describe the area where the user can drag and drop files to upload"},drag_and_drop_your_files_and_folders:{id:"fabric.media.drag_and_drop_your_files_and_folders",defaultMessage:"Drag and drop your files and folders anywhere or",description:"Used to describe the area where the user can drag and drop files AND folders to upload"},drop_your_files:{id:"fabric.media.drop_your_files",defaultMessage:"Drop your files to upload",description:"Indicates that the files will be uploaded when the user drops them in the drag and drop area"},upload:{id:"fabric.media.upload",defaultMessage:"Upload",description:"upload"},cancel:{id:"fabric.media.cancel",defaultMessage:"Cancel",description:"cancel"},search_all_gifs:{id:"fabric.media.search_all_gifs",defaultMessage:"Search all the GIFs!",description:"Used as input placeholder to let the user know that they can search for GIF image files"},cant_retrieve_gifs:{id:"fabric.media.cant_retrieve_gifs",defaultMessage:"Ouch! We could not retrieve any GIFs",description:"Error message when we can not find any GIF images for that text"},cant_retrieve_files:{id:"fabric.media.cant_retrieve_files",defaultMessage:"Ouch! We could not retrieve any files",description:"Error message when we can not find any files in dropbox/google drive"},check_your_network:{id:"fabric.media.check_your_network",defaultMessage:"Check your network connection",description:"Error message when network does not work"},try_again:{id:"fabric.media.try_again",defaultMessage:"Try again",description:"Allow the user to try an action again"},try_another_account:{id:"fabric.media.try_another_account",defaultMessage:"Try another account",description:"Allows the user to try an action again with a different account"},no_gifs_found:{id:"fabric.media.no_gifs_found",defaultMessage:"Hello? Was it me you're looking for?",description:"Not expected error that happens when searching for GIF images"},no_gifs_found_suggestion:{id:"fabric.media.no_gifs_found_suggestion",defaultMessage:'We couldn\'t find anything for "{query}"',description:"There are no results for GIFs matching that query"},load_more_gifs:{id:"fabric.media.load_more_gifs",defaultMessage:"Load more GIFs",description:"Used to load next page of GIF images"},add_account:{id:"fabric.media.add_account",defaultMessage:"Add account",description:"Allows to add a new account"},unlink_account:{id:"fabric.media.unlink_account",defaultMessage:"Unlink Account",description:"Allows to remove a connected account from the user"},upload_file_from:{id:"fabric.media.upload_file_from",defaultMessage:"Upload a file from {name}",description:"Allows to upload a file from different sources"},connect_to:{id:"fabric.media.connect_to",defaultMessage:"Connect to {name}",description:"Allows the user to connect with different types of external services"},connect_account_description:{id:"fabric.media.connect_account_description",defaultMessage:"We'll open a new page to help you connect your {name} account",description:"Explains what will happen when the users connects to a new account"},connect_link_account:{id:"fabric.media.connect_link_account",defaultMessage:"Connect to preview",description:"Shown when a user does not have access to a link, but can connect their external account to view the link."},connect_link_account_card:{id:"fabric.media.connect_link_account_card_view",defaultMessage:"Connect",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view."},connect_link_account_card_name:{id:"fabric.media.connect_link_account_card_view_name",defaultMessage:"Connect your {context} account",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in title."},connect_link_account_card_description:{id:"fabric.media.connect_link_account_card_view_description",defaultMessage:"To show a preview of this link, connect your {context} account.",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in byline."},invalid_permissions:{id:"fabric.media.invalid_permissions",defaultMessage:"Restricted link",description:"Message shown when a user does not have permissions to view an item"},invalid_permissions_description:{id:"fabric.media.invalid_permissions_description",defaultMessage:"You'll need to request access or try a different account to view this preview.",description:"Message shown when a user does not have permissions to view an item. Displayed as description."},upload_an_avatar:{id:"fabric.media.upload_an_avatar",defaultMessage:"Upload an avatar",description:"Indicates that the user can upload a new avatar"},loading:{id:"fabric.media.loading",defaultMessage:"Loading...",description:"Indicates an element on a page is loading."},save:{id:"fabric.media.save",defaultMessage:"Save",description:'Just the "save" word'},or:{id:"fabric.media.or",defaultMessage:"or",description:'Just the "or" word'},upload_photo:{id:"fabric.media.upload_photo",defaultMessage:"Upload a photo",description:"Call to action for the user to upload a new photo"},default_avatars:{id:"fabric.media.default_avatars",defaultMessage:"Default avatars",description:"Showed above the default avatar list"},drag_and_drop_images_here:{id:"fabric.media.drag_and_drop_images_here",defaultMessage:"Drag and drop your images here",description:"Indicates that the user can drag and drop images in that area"},upload_image:{id:"fabric.media.upload_image",defaultMessage:"Upload image",description:"Call to action for the user to upload a new image"},image_url_invalid_error:{id:"fabric.media.image_url_invalid_error",defaultMessage:"Could not load image, the url is invalid.",description:"There was an error parsing the image url"},image_format_invalid_error:{id:"fabric.media.image_format_invalid_error",defaultMessage:"Could not load image, the format is invalid.",description:"The provided image format is not valid"},image_size_too_large_error:{id:"fabric.media.image_size_too_large_error",defaultMessage:"Image is too large, must be no larger than {MAX_SIZE_MB}Mb",description:"The provided image size is too big"},something_went_wrong:{id:"fabric.media.something_went_wrong",defaultMessage:"Something went wrong.",description:"Showed when an error happen but we dont have more info about it"},might_be_a_hiccup:{id:"fabric.media.might_be_a_hiccup",defaultMessage:"It might just be a hiccup.",description:"Used when an unknow error happens, just in a funny way of saying that we dont have more info about it"},couldnt_generate_preview:{id:"fabric.media.couldnt_generate_preview",defaultMessage:"We couldn't generate a preview for this file.",description:"Error case for when the backend cant generate a preview for that file"},couldnt_generate_encrypted_entry_preview:{id:"fabric.media.couldnt_generate_encrypted_entry_preview",defaultMessage:"We can't preview encrypted or password protected files.",description:"Error case for when an entry selected is encrypted"},cant_preview_file_type:{id:"fabric.media.cant_preview_file_type",defaultMessage:"We can't preview this file type.",description:"Error case for when we have no available preview for that file"},item_not_found_in_list:{id:"fabric.media.item_not_found_in_list",defaultMessage:"The selected item was not found on the list.",description:"Error case for when a provided item is not found within the list of items"},not_found_title:{id:"fabric.media.not_found_title",defaultMessage:"Uh oh. We can't find this link!",description:"Error case for when a provided link is not found"},not_found_description:{id:"fabric.media.not_found_description",defaultMessage:"We couldn't find the link. Check the url and try editing or paste again.",description:"Error case for when a provided item is not found within the list of items"},no_pdf_artifacts:{id:"fabric.media.no_pdf_artifacts",defaultMessage:"No PDF artifacts found for this file.",description:"Error case for when we cant preview a PDF file"},give_feedback:{id:"fabric.media.give_feedback",defaultMessage:"Give feedback",description:"Call to action that opens a popup to get feedback from the users"},try_downloading_file:{id:"fabric.media.try_downloading_file",defaultMessage:"Try downloading the file to view it.",description:"We show this message to allow users to download a file"},webgl_warning_description:{id:"fabric.media.webgl_warning_description",defaultMessage:"Your browser does not support WebGL. Use a WebGL enabled browser to annotate images.",description:"We show this error message when the browser doesnt support this feature"},unable_to_annotate_image:{id:"fabric.media.unable_to_annotate_image",defaultMessage:"You're unable to annotate this image",description:"If there is an error trying to annotate an image we show this"},learn_more:{id:"fabric.media.learn_more",defaultMessage:"Learn More",description:""},accounts:{id:"fabric.media.accounts",defaultMessage:"Accounts",description:""},actions:{id:"fabric.media.actions",defaultMessage:"Actions",description:""},error_hint_retry:{id:"fabric.media.error_hint_retry",defaultMessage:"Try again and we'll give it another shot.",description:"Generic message that we show if an action failed"},error_hint_critical:{id:"fabric.media.error_hint_critical",defaultMessage:"If the problem keeps happening contact support.",description:"We show this error message if we cant recover from the action"},close:{id:"fabric.media.close",defaultMessage:"Close",description:""},could_not_load_editor:{id:"fabric.media.could_not_load_editor",defaultMessage:"Ouch! We could not load the editor",description:"Error message to communicate that we cant load the editor"},could_not_save_image:{id:"fabric.media.could_not_save_image",defaultMessage:"Ouch! We could not save the image",description:"Error message to communicate that we cant save an image"},could_not_load_link:{id:"fabric.media.couldnt_load_link",defaultMessage:"We couldn't load this link for an unknown reason.",description:"Error case for card view - link could not be loaded."},annotate:{id:"fabric.media.annotate",defaultMessage:"Annotate",description:""},annotate_tool_arrow:{id:"fabric.media.annotate.tool.arrow",defaultMessage:"Arrow",description:""},annotate_tool_text:{id:"fabric.media.annotate.tool.text",defaultMessage:"Text",description:""},annotate_tool_shape:{id:"fabric.media.annotate.tool.shape",defaultMessage:"Shape",description:""},annotate_tool_brush:{id:"fabric.media.annotate.tool.brush",defaultMessage:"Brush",description:""},annotate_tool_blur:{id:"fabric.media.annotate.tool.blur",defaultMessage:"Blur",description:""},annotate_tool_line_thickness:{id:"fabric.media.annotate.tool.line.thickness",defaultMessage:"Line thickness",description:""},annotate_tool_color:{id:"fabric.media.annotate.tool.color",defaultMessage:"Color",description:""},annotate_confirmation_close_anyway:{id:"fabric.media.annotate.confirmation.close.anyway",defaultMessage:"Close anyway",description:""},annotate_confirmation_heading:{id:"fabric.media.annotate.confirmation.heading",defaultMessage:"Unsaved changes",description:""},annotate_confirmation_content:{id:"fabric.media.annotate.confirmation.content",defaultMessage:"You have some unsaved changes. Are you sure you want to leave?",description:""},drop_your_files_here:{id:"fabric.media.drop_your_files_here",defaultMessage:"Drop your files here",description:"Info message that we show to indicate that the user can drag and drop files"},share_files_instantly:{id:"fabric.media.share_files_instantly",defaultMessage:"We'll share them instantly",description:"It means that we will upload the files you drag and drop automatically"},insert_files:{id:"fabric.media.insert_files",defaultMessage:"Insert {0, plural, one {a file} other {{0} files}}",description:"Showed when the user selects 1 or more files to insert"},zoom_out:{id:"fabric.media.zoom_out",defaultMessage:"zoom out",description:"Indicates the user can zoom out a file"},zoom_in:{id:"fabric.media.zoom_in",defaultMessage:"zoom in",description:"Indicates the user can zoom in a file"},remove_image:{id:"fabric.media.remove_image",defaultMessage:"Remove image",description:"Allows the user to remove a file"},play:{id:"fabric.media.play",defaultMessage:"play",description:""},pause:{id:"fabric.media.pause",defaultMessage:"pause",description:""},disable_fullscreen:{id:"fabric.media.disable_fullscreen",defaultMessage:"disable fullscreen",description:"Hint to let the user know they can disable the fullscreen mode"},enable_fullscreen:{id:"fabric.media.enable_fullscreen",defaultMessage:"enable fullscreen",description:"Hint to let the user know they can enable the fullscreen mode"},error_loading_file:{id:"fabric.media.error_loading_file",defaultMessage:"Error loading file",description:"Message showed when we had an error trying to load the file"},error_generating_preview:{id:"fabric.media.error_generating_preview",defaultMessage:"Error generating preview",description:"Message showed when we had an error trying generate a preview for a file"},download:{id:"fabric.media.download",defaultMessage:"Download",description:""},unknown:{id:"fabric.media.unknown",defaultMessage:"unknown",description:""},document:{id:"fabric.media.document",defaultMessage:"document",description:""},audio:{id:"fabric.media.audio",defaultMessage:"audio",description:""},video:{id:"fabric.media.video",defaultMessage:"video",description:""},image:{id:"fabric.media.image",defaultMessage:"image",description:""},archive:{id:"fabric.media.archive",defaultMessage:"archive",description:""},email:{id:"fabric.media.email",defaultMessage:"email",description:""},text:{id:"fabric.media.text",defaultMessage:"text",description:""},search:{id:"fabric.media.search",defaultMessage:"search",description:""},view:{id:"fabric.media.view",defaultMessage:"View",description:"Go through to a piece of content to view it in its original context."},viewIn:{id:"fabric.media.srclink",defaultMessage:"View in",description:"We have a link in our preview modals to the original document. This text goes before the provider name"},viewOriginal:{id:"fabric.media.srclinkunknown",defaultMessage:"View Original",description:"We have a link in our preview modals to the original document. This is for when we don't know the provider name"},preview:{id:"fabric.media.preview",defaultMessage:"Preview",description:"Click to view a richer view of your content, without needing to navigate to it."}})},"./node_modules/@atlaskit/media-ui/dist/esm/mixins.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p}));var i,r=n("./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/theme/dist/esm/constants.js"),s=function(e){return void 0===e&&(e="100%"),"\n    max-width: "+e+("number"==typeof e?"px":"")+";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  "},c=function(e){void 0===e&&(e="100%");var t="number"==typeof e?"px":"";return"\n    width: "+e+t+";\n    height: "+e+t+";\n  "},l="\n  display: flex;\n  align-items: center;\n  justify-content: center;\n",d=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),"\n  position: absolute;\n  top: "+e+"px;\n  left: "+t+"px;\n"},u="\n  border-radius: "+Object(a.borderRadius)()+"px;\n",p=(Object(a.borderRadius)(),Object(a.borderRadius)(),"\n  animation: "+Object(o.keyframes)(i||(i=Object(r.e)(["\n  0%{\n    opacity: 0;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"],["\n  0%{\n    opacity: 0;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"])))+" .3s cubic-bezier(0.645, 0.045, 0.355, 1);\n")},"./node_modules/@atlaskit/media-ui/dist/esm/modalSpinner.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/theme/dist/esm/constants.js"),s=n("./node_modules/@atlaskit/spinner/dist/esm/spinner.js"),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=a.layers.modal()+10,d=c.default.div(p||(p=Object(i.e)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"],["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"])),l);d.displayName="Blanket";var u=c.default.div(f||(f=Object(i.e)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));u.displayName="SpinnerWrapper";var p,f,m="none",h=!1;t.a=function(e){var t=e.blankedColor,n=e.invertSpinnerColor;return o.a.createElement(d,{style:{backgroundColor:t||m}},o.a.createElement(u,null,o.a.createElement(s.a,{size:"large",appearance:n||h?"invert":"inherit"})))}},"./node_modules/@atlaskit/media-ui/dist/esm/util.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"g",(function(){return R})),n.d(t,"d",(function(){return z})),n.d(t,"f",(function(){return H}));var i=n("./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/24.js"),o=n.n(r),a=n("./node_modules/@atlaskit/icon-file-type/glyph/gif/24.js"),s=n.n(a),c=n("./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/24.js"),l=n.n(c),d=n("./node_modules/@atlaskit/icon-file-type/glyph/word-document/24.js"),u=n.n(d),p=n("./node_modules/@atlaskit/icon-file-type/glyph/sketch/24.js"),f=n.n(p),m=n("./node_modules/@atlaskit/icon-file-type/glyph/figma/24.js"),h=n.n(m),v=n("./node_modules/@atlaskit/icon-file-type/glyph/executable/24.js"),g=n.n(v),b=n("./node_modules/@atlaskit/icon-file-type/glyph/google-doc/24.js"),y=n.n(b),_=n("./node_modules/@atlaskit/icon-file-type/glyph/google-form/24.js"),j=n.n(_),w=n("./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/24.js"),x=n.n(w),O=n("./node_modules/@atlaskit/icon-file-type/glyph/google-slide/24.js"),k=n.n(O),E=n("./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/24.js"),C=n.n(E),S=n("./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/24.js"),I=n.n(S),T=n("./node_modules/@atlaskit/icon-file-type/glyph/presentation/24.js"),M=n.n(T),F=n("./node_modules/@atlaskit/icon-file-type/glyph/source-code/24.js"),N=n.n(F),A=n("./node_modules/@atlaskit/media-ui/dist/esm/codeViewer.js");function P(e,t){if(void 0===t&&(t="untitled"),0===e.length)throw new Error("dataURI not found");var n,i=e.split(","),r=i[0].indexOf("base64")>=0?atob(i[1]):decodeURIComponent(i[1]);try{n=e.split(",")[0].split(":")[1].split(";")[0]}catch(e){n="application/octet-stream"}for(var o=new Uint8Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);var s=new Blob([o],{type:n});try{return new File([s],t,{type:n})}catch(e){var c=s,l=new Date;return c.lastModified=l.getTime(),c.lastModifiedDate=l,c.name=t,c.webkitRelativePath="",c}}function D(e){return new Promise((function(t,n){var i=new FileReader;i.addEventListener("load",(function(){var e=i.result;"string"==typeof e?t(e):null===e&&n()})),i.addEventListener("error",n),i.readAsDataURL(e)}))}function L(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n={file:e},(r=t)?[3,2]:[4,D(e)];case 1:r=i.sent(),i.label=2;case 2:return[2,(n.src=r,n)]}}))}))}function U(e){return new Promise((function(t,n){var i=new FileReader;i.addEventListener("load",(function(){var e=new Uint8Array(i.result);t(e)})),i.addEventListener("error",n),i.readAsArrayBuffer(e)}))}function R(e){return new Promise((function(t,n){var i=new Image;i.src=e,i.onload=function(){t(i)},i.onerror=n}))}var z=function(e,t,n){if(void 0===n&&(n=document.body),e.classList.contains(t))return e;for(var i=e;i.parentElement!==n;){if(!i.parentElement)return;if((i=i.parentElement).classList.contains(t))return i}},B=[{label:"pdf",mimeTypes:["application/pdf"],icon:o.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:j.a},{label:"google-slides",mimeTypes:["application/vnd.google-apps.presentation"],icon:k.a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:j.a},{label:"google-sheets",mimeTypes:["application/vnd.google-apps.spreadsheet"],icon:x.a},{label:"google-docs",mimeTypes:["application/vnd.google-apps.document","application/vnd.google-apps.kix"],icon:y.a},{label:"microsoft-word",mimeTypes:["application/msword","application/vnd.openxmlformats-officedocument.word"],icon:u.a},{label:"presentation",mimeTypes:["application/x-iwork-keynote-sffkey","application/vnd.oasis.opendocument.presentation"],icon:M.a},{label:"powerpoint-presentation",mimeTypes:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"],icon:l.a},{label:"giphy",mimeTypes:["image/gif"],icon:s.a},{label:"spreadsheet",mimeTypes:["text/csv"],icon:I.a},{label:"excel-spreadsheet",mimeTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/x-iwork-keynote-sffnumbers"],icon:C.a}];function H(e,t){var n=B.find((function(t){return t.mimeTypes.indexOf(e)>-1}));return n||(Object(A.c)(t)?{label:"source-code",icon:N.a}:t.match(/.*\.sketch$/)?{label:"sketch",icon:f.a}:t.match(/.*\.fig$/)?{label:"figma",icon:h.a}:t.match(/.*\.exe$/)||t.match(/.*\.dmg$/)?{label:"executable",icon:g.a}:void 0)}},"./node_modules/@atlaskit/media-ui/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function d(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create},"./node_modules/@atlaskit/motion/dist/esm/entering/slide-in.js":function(e,t,n){"use strict";var i=n("./node_modules/@atlaskit/motion/node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/motion/dist/esm/utils/curves.js"),s=n("./node_modules/@atlaskit/motion/dist/esm/utils/durations.js"),c=n("./node_modules/@atlaskit/motion/dist/esm/entering/keyframes-motion.js"),l=function(e,t,n){var i,r="entering"===t?"100%":"0%";return(i={})["entering"===t?"0%":"100%"]={transform:{top:"translate3d(0, -100%, 0)",right:"translate3d(100%, 0, 0)",bottom:"translate3d(0, 100%, 0)",left:"translate3d(-100%, 0, 0)"}[e],opacity:"inout"===n||"in"===n&&"entering"===t||"out"===n&&"exiting"===t?0:1},i[r]={transform:"none",opacity:1},i};t.a=function(e){var t=e.children,n=e.enterFrom,r=e.exitTo,d=e.fade,u=void 0===d?"none":d,p=e.duration,f=void 0===p?s.c:p,m=e.animationTimingFunction,h=void 0===m?function(e){return"entering"===e?a.c:a.a}:m,v=Object(i.c)(e,["children","enterFrom","exitTo","fade","duration","animationTimingFunction"]);return o.a.createElement(c.a,Object(i.a)({duration:f,enteringAnimation:l(n,"entering",u),exitingAnimation:l(r||n,"exiting",u),animationTimingFunction:h},v),t)}},"./node_modules/@atlaskit/outbound-auth-flow-client/dist/esm/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};Object.create;Object.create;var r=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.type=n,i.name="AuthError",i.type=n,i.message=t,i}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function o(e){return new Promise((function(t,n){var i,o=null,a=function(e){if(e.source===o){var i=e.data;if("object"==typeof i)switch(i.type){case"outbound-auth:success":c(),t();break;case"outbound-auth:failure":c();var a=i.errorType.toLowerCase();!function(e){return["auth_window_closed","invalid_request","unauthorized_client","access_denied","unsupported_response_type","invalid_scope","server_error","temporarily_unavailable"].includes(e)}(a)?n(new r(i.message)):n(new r(i.message,a))}}},s=function(){o&&o.closed&&(c(),n(new r("The auth window was closed","auth_window_closed")))},c=function(){clearInterval(i),window.removeEventListener("message",a),o&&(o.close(),o=null)};!function(){window.addEventListener("message",a),o=window.open(e,e),i=window.setInterval(s,500)}()}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/browser/browser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserBase",(function(){return u})),n.d(t,"Browser",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),s=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),l=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json"),d={uploadParams:{}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.browserRef=o.a.createRef(),t.onFilePicked=function(e){if(e.target){var n=[].slice.call(e.target.files);try{t.uploadService.addFiles(n)}finally{t.browserRef.current&&(t.browserRef.current.value="")}}},t.browse=function(){var e=t.props.onClose;t.browserRef.current&&(t.browserRef.current.click(),e&&e())},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.onBrowseFn,n=e.onCancelFn,i=e.isOpen;t&&t(this.browse),n&&n(this.cancel),i&&this.browse()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.isOpen,n=e.isOpen;n&&n!==t&&this.browse()},t.prototype.render=function(){var e=this.props.config,t=e.multiple,n=e.fileExtensions&&e.fileExtensions.join(",");return o.a.createElement("input",{"data-testid":"media-picker-file-input",ref:this.browserRef,type:"file",style:{display:"none"},multiple:t,accept:n,onChange:this.onFilePicked})},t.defaultProps={config:d},t}(c.a),p=Object(a.a)({attributes:{componentName:"browser",packageName:l.a,packageVersion:l.b}})(Object(s.a)()(u))},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/clipboard/clipboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFilesFromClipboard",(function(){return u})),n.d(t,"ClipboardBase",(function(){return m})),n.d(t,"Clipboard",(function(){return h}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),o=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/types.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),l=function(e){return e<10?"0"+e:""+e},d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json"),u=function(e){return Array.from(e).map((function(e){if(0===e.type.indexOf("image/")){var t=function(e,t){var n=e.lastIndexOf("."),i=n>0,r=i?e.substring(0,n):e,o=i?e.substring(n):"",a=new Date(t);return r+"-"+(""+a.getUTCFullYear()+l(a.getUTCMonth()+1)+l(a.getUTCDate()))+"-"+(""+l(a.getUTCHours())+l(a.getUTCMinutes())+l(a.getUTCSeconds()))+o}(e.name,e.lastModified);return new File([e],t,{type:e.type})}return e}))},p={uploadParams:{}},f=function(){function e(e){this.uploadService=e}return Object.defineProperty(e,"latestInstance",{get:function(){return e.instances[e.instances.length-1]},enumerable:!1,configurable:!0}),e.prototype.activate=function(t){this.deactivate(),t&&t.createAnalyticsEvent&&(this.createAnalyticsEvent=t.createAnalyticsEvent),document.addEventListener("paste",e.handleEvent),e.instances.push(this)},e.prototype.deactivate=function(){var t=e.instances.indexOf(this);t>-1?e.instances.splice(t,1):document.removeEventListener("paste",e.handleEvent)},e.prototype.onFilesPasted=function(e){this.uploadService.addFilesWithSource(e),this.fireAnalyticsEvent("pasted",e)},e.prototype.fireAnalyticsEvent=function(e,t){this.createAnalyticsEvent&&this.createAnalyticsEvent({eventType:"ui",actionSubject:"clipboard",action:e,attributes:{packageName:d.a,fileCount:t.length,fileAttributes:t.map((function(e){var t=e.file;return{fileMimetype:t.type,fileSize:t.size}}))}}).fire(c.ANALYTICS_MEDIA_CHANNEL)},e.instances=[],e.handleEvent=function(t){var n=e.latestInstance;if(n){var i=t.clipboardData;if(i&&i.files){var r=1===i.types.length?s.a.PastedScreenshot:s.a.PastedFile,o=u(i.files).map((function(e){return{file:e,source:r}}));o.length>0&&n.onFilesPasted.call(n,o)}}},e}(),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipboard=new f(t.uploadService),t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.clipboard.activate({createAnalyticsEvent:this.props.createAnalyticsEvent})},t.prototype.componentWillUnmount=function(){this.clipboard.deactivate()},t.prototype.render=function(){return null},t.defaultProps={config:p},t}(a.a),h=Object(r.a)({attributes:{componentName:"clipboard",packageName:d.a,packageVersion:d.b}})(Object(o.a)()(m))},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/component.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.emitPluginItemsInserted=function(e){var t=e.map((function(e){return{pluginName:e.serviceName,pluginFile:{id:e.id,metadata:e.metadata}}}));this.emit("plugin-items-inserted",t)},t.prototype.emitUploadsStart=function(e){this.emit("uploads-start",{files:e})},t.prototype.emitUploadPreviewUpdate=function(e,t){this.emit("upload-preview-update",{file:e,preview:t})},t.prototype.emitUploadEnd=function(e){this.emit("upload-end",{file:e})},t.prototype.emitUploadError=function(e,t){this.emit("upload-error",{fileId:e,error:t})},t}(function(){function e(){this.emitter=new r.EventEmitter2({wildcard:!0})}return e.prototype.once=function(e,t){this.emitter.once(e,t)},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.onAny=function(e){this.emitter.onAny(e)},e.prototype.addListener=function(e,t){this.emitter.addListener(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.removeListener=function(e,t){this.emitter.removeListener(e,t)},e.prototype.removeAllListeners=function(e){void 0===e?this.emitter.removeAllListeners():this.emitter.removeAllListeners(e)},e.prototype.emit=function(e,t){return this.emitter.emit(e,t)},e}())},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/dropzone/dropzone.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DropzoneBase",(function(){return d})),n.d(t,"Dropzone",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),o=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js");function l(e){if(!e.dataTransfer)return!1;var t=e.dataTransfer.types;return Array.from(t).indexOf("Files")>-1}var d=function(e){function t(t){var n=e.call(this,t)||this;return n.uiActive=!1,n.addContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.addEventListener("dragover",n.onDragOver,!1),e.addEventListener("dragleave",n.onDragLeave,!1),e.addEventListener("drop",n.onFileDropped)},n.removeContainerListeners=function(e){void 0===e&&(e=n.getContainer()),e.removeEventListener("dragover",n.onDragOver,!1),e.removeEventListener("dragleave",n.onDragLeave,!1),e.removeEventListener("drop",n.onFileDropped)},n.onDragOver=function(e){if(e.preventDefault(),e.dataTransfer&&l(e)){var t=e.dataTransfer,i=void 0;try{i=t.effectAllowed}catch(e){}t.dropEffect="move"===i||"linkMove"===i?"move":"copy";var r=n.getDraggedItemsLength(t);n.emitDragOver({length:r})}},n.onDragLeave=function(e){if(e.dataTransfer){e.preventDefault();var t=0;if(l(e)){var i=e.dataTransfer;t=n.getDraggedItemsLength(i)}n.emitDragLeave({length:t})}},n.onFileDropped=function(e){if(e.dataTransfer){e.preventDefault(),e.stopPropagation(),n.onDrop(e);var t=Array.from(e.dataTransfer.files);n.uploadService.addFiles(t)}},n.onDrop=function(e){if(e.dataTransfer&&l(e)){var t=e.dataTransfer,i=n.getDraggedItemsLength(t);n.fireAnalyticsEvent("droppedInto",i),n.props.onDrop&&n.props.onDrop(),n.emitDragLeave({length:i})}},n}return Object(i.__extends)(t,e),t.prototype.getContainer=function(){return this.props.config.container||document.body},t.prototype.componentDidMount=function(){var e=this.props.onCancelFn;this.addContainerListeners(this.getContainer()),e&&e(this.cancel)},t.prototype.componentWillUnmount=function(){this.removeContainerListeners(this.getContainer())},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.config.container,n=this.props.config.container;t!==n&&(this.removeContainerListeners(n),this.addContainerListeners(t))},t.prototype.getDraggedItemsLength=function(e){return e.items?Array.from(e.items).filter((function(e){return"file"===e.kind})).length:e.files.length},t.prototype.emitDragOver=function(e){if(!this.uiActive){var t=this.props.onDragEnter;this.uiActive=!0,this.fireAnalyticsEvent("draggedInto",e.length),t&&t(e)}},t.prototype.emitDragLeave=function(e){var t=this;this.uiActive&&(this.uiActive=!1,window.setTimeout((function(){if(!t.uiActive){var n=t.props.onDragLeave;t.fireAnalyticsEvent("draggedOut",e.length),n&&n(e)}}),50))},t.prototype.fireAnalyticsEvent=function(e,t){var n=this.props.createAnalyticsEvent;n&&n({eventType:"ui",actionSubject:"dropzone",action:e,attributes:{packageName:s.a,fileCount:t}}).fire(c.ANALYTICS_MEDIA_CHANNEL)},t.prototype.render=function(){return null},t}(a.a),u=Object(r.a)({attributes:{componentName:"dropzone",packageName:s.a,packageVersion:s.b}})(Object(o.a)()(d))},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/localUploadReact.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/perf-marks/dist/umd/perf-marks.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/component.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),l=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json"),d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),u=function(e,t){return void 0===t&&(t={}),{actionSubject:"mediaUpload",actionSubjectId:"localMedia",attributes:Object(i.__assign)(Object(i.__assign)({packageName:l.a,sourceType:"local"},e?{fileAttributes:{fileSize:e.size,fileMimetype:e.type}}:{}),t)}},p=function(e){function t(t){var n=e.call(this,t)||this;n.uploadComponent=new a.a,n.fireCommencedEvent=function(e){e.files.forEach((function(e){var t=e.id,r=e.size,a=e.type;Object(o.start)("MediaPicker.fireUpload."+t),n.createAndFireAnalyticsEvent(Object(i.__assign)(Object(i.__assign)({},u({size:r,type:a})),{action:"commenced",eventType:c.b}))}))},n.fireUploadSucceeded=function(e){var t=e.file,r=t.size,a=t.type,s=t.id,l=Object(o.end)("MediaPicker.fireUpload."+s).duration,d=void 0===l?-1:l;n.createAndFireAnalyticsEvent(Object(i.__assign)(Object(i.__assign)({},u({size:r,type:a},{status:"success",uploadDurationMsec:d})),{action:"uploaded",eventType:c.d}))},n.fireUploadFailed=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t=Object(o.end)("MediaPicker.fireUpload."+e.fileId).duration,n=void 0===t?-1:t,this.createAndFireAnalyticsEvent(Object(i.__assign)(Object(i.__assign)({},u(void 0,{status:"fail",failReason:e.error.description,uploadDurationMsec:n})),{action:"uploaded",eventType:c.d})),[2]}))}))},n.createAndFireAnalyticsEvent=function(e){var t=n.props.createAnalyticsEvent;t&&t(e).fire(d.ANALYTICS_MEDIA_CHANNEL)},n.cancel=function(e){n.uploadService.cancel(e)},n.onFilesAdded=function(e){var t=e.files;n.uploadComponent.emitUploadsStart(t)},n.onFilePreviewUpdate=function(e){var t=e.file,i=e.preview;n.uploadComponent.emitUploadPreviewUpdate(t,i)},n.onFileConverting=function(e){var t=e.file;n.uploadComponent.emitUploadEnd(t)},n.onUploadError=function(e){var t=e.fileId,i=e.error;n.uploadComponent.emitUploadError(t,i)};var r=n.props,l=r.mediaClient,p=r.config,f=r.onUploadsStart,m=r.onPreviewUpdate,h=r.onEnd,v=r.onError,g=p.uploadParams,b=p.shouldCopyFileToRecents,y=void 0===b||b;return n.uploadComponent.on("uploads-start",n.fireCommencedEvent),n.uploadComponent.on("upload-end",n.fireUploadSucceeded),n.uploadComponent.on("upload-error",n.fireUploadFailed),f&&n.uploadComponent.on("uploads-start",f),m&&n.uploadComponent.on("upload-preview-update",m),h&&n.uploadComponent.on("upload-end",h),v&&n.uploadComponent.on("upload-error",v),n.uploadService=new s.a(l,g,y),n.uploadService.on("files-added",n.onFilesAdded),n.uploadService.on("file-preview-update",n.onFilePreviewUpdate),n.uploadService.on("file-converting",n.onFileConverting),n.uploadService.on("file-upload-error",n.onUploadError),n}return Object(i.__extends)(t,e),t.prototype.setUploadParams=function(e){this.uploadService.setUploadParams(e)},t}(r.Component)},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ANALYTICS_MEDIA_CHANNEL",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),s=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js"),c=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fireAnalytics=function(e){var n=t.props,i=n.createAnalyticsEvent,r=n.channel,o=n.data;i({action:"UnhandledError",eventType:"ui",attributes:Object(a.a)(Object(a.a)({browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown"},o),e)}).fire(r)},t}return Object(a.b)(t,e),t.prototype.componentDidCatch=function(e,t){var n={error:e,info:t};this.fireAnalytics(n)},t.prototype.render=function(){var e=this.props,t=e.data,n=e.children;return o.a.createElement(s.a,{data:t},n)},t}(r.Component),d=Object(c.a)()(l),u="media",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,i=e.children;return o.a.createElement(d,{channel:u,data:n},i)},t.displayName="MediaPickerAnalyticsErrorBoundary",t}(o.a.Component);t.default=p},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/popup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PopupImpl",(function(){return Fs}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),a=n("./node_modules/react/index.js"),s=n.n(a),c=n("./node_modules/react-dom/index.js"),l=n("./node_modules/exenv/index.js"),d=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/@atlaskit/feedback-collector/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalTransition.js"),p=n("./node_modules/@atlaskit/feedback-collector/node_modules/@atlaskit/modal-dialog/dist/esm/components/ModalWrapper.js"),f=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),m=n("./node_modules/@atlaskit/media-test-helpers/node_modules/react-intl/lib/index.es.js"),h=n("./node_modules/@atlaskit/media-ui/dist/esm/messages.js"),v=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),g=n("./node_modules/@atlaskit/breadcrumbs/node_modules/@atlaskit/button/dist/esm/components/Button.js"),b=v.default.div(i||(i=Object(r.__makeTemplateObject)(["\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n\n  height: 80px;\n  padding: 26px 15px 23px 18px;\n"],["\n  box-sizing: border-box;\n  display: flex;\n  justify-content: flex-end;\n\n  height: 80px;\n  padding: 26px 15px 23px 18px;\n"]))),y=function(e){return s.a.createElement(g.a,Object(r.__assign)({},e,{theme:function(e,t){var n=e(t),i=n.buttonStyles,o=Object(r.__rest)(n,["buttonStyles"]);return Object(r.__assign)({buttonStyles:Object(r.__assign)(Object(r.__assign)({},i),{marginRight:"5px"})},o)}}))},_=function(e){return s.a.createElement(g.a,Object(r.__assign)({},e))};function j(e){return"CHANGE_ACCOUNT"===e.type}function w(e,t){return{type:"CHANGE_ACCOUNT",serviceName:e,accountId:t}}function x(e,t,n){return{type:"CHANGE_CLOUD_ACCOUNT_FOLDER",serviceName:e,accountId:t,path:n}}function O(e){return"CHANGE_CLOUD_ACCOUNT_FOLDER"===e.type}function k(e){return"SERVICE_CHANGE"===e.type}function E(e){return{type:"SERVICE_CHANGE",serviceName:e}}function C(e){return"EDITOR_CLOSE"===e.type}function S(e,t){return{type:"EDITOR_SHOW_ERROR",error:{message:e,retryHandler:t}}}function I(e){return"FETCH_NEXT_CLOUD_FILES_PAGE"===e.type}function T(e,t,n){return{type:"FILE_CLICK",file:Object(r.__assign)(Object(r.__assign)({},e),{accountId:n,serviceName:t})}}function M(e,t,n,i,r,o){return{type:"FILE_LIST_UPDATE",accountId:e,path:t,items:n,currentCursor:r,nextCursor:o,serviceName:i}}function F(e){return"HIDE_POPUP"===e.type}function N(){return{type:"HIDE_POPUP"}}function A(e){return"RESET_VIEW"===e.type}function P(){return{type:"RESET_VIEW"}}function D(e){return{type:"AUTH_START",serviceName:e}}function L(e){return"START_IMPORT"===e.type}function U(e){return{type:"ACCOUNT_UNLINK_CLOUD_REQUEST",account:e}}var R=function(e){return"GET_FILES_IN_RECENTS"===e.type};function z(e){return{type:"SERVICE_LIST_UPDATE",accounts:e}}function B(e){return"SEARCH_GIPHY"===e.type}function H(e,t){return{type:"SEARCH_GIPHY",query:e,shouldAppendResults:t}}var G,W,V,K,q,Y,J,Z,X,Q,$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.renderCancelButton=function(){var e=this.props,t=e.canCancel,n=e.onCancel;return s.a.createElement(_,{testId:"media-picker-cancel-button",appearance:"subtle",onClick:n,isDisabled:!t},s.a.createElement(m.a,Object(r.__assign)({},h.a.cancel)))},t.prototype.renderInsertButton=function(){var e=this.props,t=e.selectedItems,n=e.canInsert,i=e.onInsert,o=t.length;if(0===o)return null;return s.a.createElement(y,{testId:"media-picker-insert-button",appearance:"primary",onClick:function(){return i(t)},isDisabled:!n,autoFocus:!0},s.a.createElement(m.a,Object(r.__assign)({},h.a.insert_files,{values:{0:o}})))},t.prototype.render=function(){return s.a.createElement(b,null,this.renderInsertButton(),this.renderCancelButton())},t}(a.Component),ee=Object(d.b)((function(e){var t=e.isUploading,n=e.isCancelling,i=t||n;return{selectedItems:e.selectedItems,canInsert:!i,canCancel:!i}}),(function(e){return{onInsert:function(){return e(function(){return{type:"START_IMPORT"}}())},onCancel:function(){e(P()),e(N())}}}))($),te=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/dropbox.js"),ne=n.n(te),ie=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/googledrive.js"),re=n.n(ie),oe=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),ae=v.default.li(G||(G=Object(r.__makeTemplateObject)(["\n  color: ",";\n  padding: 6px 25px;\n  list-style-type: none;\n  opacity: 1;\n  display: flex;\n  align-items: center;\n\n  ",";\n  &:hover {\n    ",";\n  }\n"],["\n  color: ",";\n  padding: 6px 25px;\n  list-style-type: none;\n  opacity: 1;\n  display: flex;\n  align-items: center;\n\n  ",";\n  &:hover {\n    ",";\n  }\n"])),(function(e){return e.isActive?oe.B400:oe.N500}),(function(e){return e.isActive?"":"cursor: pointer"}),(function(e){return e.isActive?"":"background-color: #E5E8EC"})),se=v.default.div(W||(W=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),ce=v.default.div(V||(V=Object(r.__makeTemplateObject)(["\n  font-size: 14px;\n  position: relative;\n  margin-left: 10px;\n  top: -1px;\n  display: inline-block;\n  text-transform: capitalize;\n  width: 160px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  font-size: 14px;\n  position: relative;\n  margin-left: 10px;\n  top: -1px;\n  display: inline-block;\n  text-transform: capitalize;\n  width: 160px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){return t.props.onChangeService(t.props.serviceName)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.serviceFullName,n=e.serviceName,i=e.isActive,r=e.children;return s.a.createElement(ae,{"data-testid":"media-picker-"+n+"-menu-item",isActive:i,onClick:this.onClick},s.a.createElement(se,null,r),s.a.createElement(ce,null,t))},t}(a.Component),de=Object(d.b)(null,(function(e){return{onChangeService:function(t){return e(E(t))}}}))(le),ue=v.default.div(K||(K=Object(r.__makeTemplateObject)(["\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: #eceef1;\n  z-index: 60;\n"],["\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: #eceef1;\n  z-index: 60;\n"]))),pe=v.default.ul(q||(q=Object(r.__makeTemplateObject)(['\n  padding: 0;\n  float: left;\n  width: 100%;\n  margin: 17px 0 0 0 !important; /* We need important here due to default "ul" style overrides */\n'],['\n  padding: 0;\n  float: left;\n  width: 100%;\n  margin: 17px 0 0 0 !important; /* We need important here due to default "ul" style overrides */\n']))),fe=v.default.li(Y||(Y=Object(r.__makeTemplateObject)(["\n  width: 100%;\n  list-style-type: none;\n  margin: 9px 0 10px 0;\n  box-sizing: border-box;\n  padding: 0 25px 0 25px;\n  position: relative;\n  cursor: default;\n"],["\n  width: 100%;\n  list-style-type: none;\n  margin: 9px 0 10px 0;\n  box-sizing: border-box;\n  padding: 0 25px 0 25px;\n  position: relative;\n  cursor: default;\n"]))),me=v.default.div(J||(J=Object(r.__makeTemplateObject)(["\n  width: 100%;\n  border-top: 1px solid rgba(9, 30, 66, 0.06);\n  height: 0;\n"],["\n  width: 100%;\n  border-top: 1px solid rgba(9, 30, 66, 0.06);\n  height: 0;\n"]))),he=v.default.svg(Z||(Z=Object(r.__makeTemplateObject)(["\n  width: 22px;\n  height: 22px;\n"],["\n  width: 22px;\n  height: 22px;\n"]))),ve=v.default.g(X||(X=Object(r.__makeTemplateObject)(["\n  fill: ",";\n"],["\n  fill: ",";\n"])),(function(e){return e.active?"#0061C5":"#42526E"})),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.active;return s.a.createElement(he,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 27 35"},s.a.createElement(ve,{active:e,"fill-rule":"evenodd","clip-rule":"evenodd"},s.a.createElement("path",{className:"logo-green",d:"M0 3h4v29H0z"}),s.a.createElement("path",{className:"logo-purple",d:"M24 11h4v21h-4z"}),s.a.createElement("path",{className:"logo-blue",d:"M0 31h28v4H0z"}),s.a.createElement("path",{className:"logo-yellow",d:"M0 0h16v4H0z"}),s.a.createElement("path",{className:"logo-red",d:"M24 8V4h-4V0h-4v12h12V8"}),s.a.createElement("path",{className:"logo-shadow",d:"M24 16v-4h4M16 0v4h-4"})))},t}(a.Component),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isActive,n=e.onChangeService;return s.a.createElement(le,{serviceName:"giphy",serviceFullName:"GIPHY",isActive:t,onChangeService:n},s.a.createElement(ge,{active:t}))},t}(a.Component),ye=Object(d.b)(null,(function(e){return{onChangeService:function(){e(E("giphy")),e(H("",!1))}}}))(be),_e=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/upload.js"),je=n.n(_e),we=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBuiltInPlugins=function(){var e=t.props,n=e.selected;return e.useForgePlugins?[]:[s.a.createElement(ye,{key:"giphy",isActive:"giphy"===n}),s.a.createElement(de,{key:"dropbox",serviceName:"dropbox",serviceFullName:"Dropbox",isActive:"dropbox"===n},s.a.createElement(ne.a,{label:"dropbox"})),s.a.createElement(de,{key:"google",serviceName:"google",serviceFullName:"Google Drive",isActive:"google"===n},s.a.createElement(re.a,{label:"google"}))]},t.renderCustomPluginItems=function(){var e=t.props,n=e.selected,i=e.plugins;return(void 0===i?[]:i).map((function(e){var t=e.name,i=e.icon;return s.a.createElement(de,{key:t,serviceName:t,serviceFullName:t,isActive:n===t},i)}))},t.getCloudPickingSidebarItems=function(){return Object(r.__spread)([s.a.createElement(fe,{key:"seperator"},s.a.createElement(me,null))],t.renderBuiltInPlugins(),t.renderCustomPluginItems())},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.selected;return s.a.createElement(ue,null,s.a.createElement(pe,null,s.a.createElement(de,{serviceName:"upload",serviceFullName:s.a.createElement(m.a,Object(r.__assign)({},h.a.upload)),isActive:"upload"===e},s.a.createElement(je.a,{label:"upload"})),this.getCloudPickingSidebarItems()))},t}(a.Component),xe=Object(d.b)((function(e){return{selected:e.view.service.name,plugins:e.plugins}}))(we),Oe=n("./node_modules/@atlaskit/editor-common/node_modules/@atlaskit/media-card/dist/esm/root/card/cardLoader.js"),ke=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),Ee=n("./node_modules/@atlaskit/spinner/dist/esm/spinner.js"),Ce=n("./node_modules/@atlaskit/flag/dist/esm/flag-group.js"),Se=n("./node_modules/@atlaskit/flag/dist/esm/flag.js"),Ie=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/annotate.js"),Te=n.n(Ie),Me=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/trash.js"),Fe=n.n(Me),Ne=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/error.js"),Ae=n.n(Ne),Pe=n("./node_modules/@atlaskit/media-ui/dist/esm/infiniteScroll.js"),De=function(e){if(void 0!==Q&&!e)return Q;var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl");return Q=!!n};var Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUploadClick=function(){var e=t.props,n=e.browserRef;(0,e.onClick)(),n&&n.current&&n.current.browse()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return s.a.createElement(g.a,{"data-testid":"media-picker-upload-button",appearance:"default",onClick:this.onUploadClick},s.a.createElement(m.a,Object(r.__assign)({},h.a.upload_file)))},t}(s.a.Component),Ue=Object(d.b)(null,(function(e){return{onClick:function(){return e(function(){return{type:"START_FILE_BROWSER"}}())}}}))(Le),Re=function(e){return"https://aui-cdn.atlassian.com/media/"+e},ze=Re("border-icon.png"),Be=Re("files-icon.png"),He=s.a.createElement("svg",{viewBox:"0 0 163.28 218"},s.a.createElement("defs",null,s.a.createElement("style",null,"\n.cls-1{fill:url(#linear-gradient);}\n.cls-2{fill:#253858;}\n.cls-3{fill:#ffc400;}\n.cls-4{fill:#ffab00;}\n.cls-5,.cls-6{fill:none;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px;}\n.cls-5{stroke:#344563;}\n.cls-6{stroke:#5e6c84;}\n"),s.a.createElement("linearGradient",{id:"linear-gradient",x1:"133.86",y1:"136.43",x2:"-2.79",y2:"200.15",gradientUnits:"userSpaceOnUse"},s.a.createElement("stop",{offset:"0",stopColor:"#ffd740"}),s.a.createElement("stop",{offset:"1",stopColor:"#ffab00"})),s.a.createElement("clipPath",null,s.a.createElement("path",{className:"cls-1",d:"M94.78,80.16l66.44,115.08A15.17,15.17,0,0,1,148.08,218H15.2A15.17,15.17,0,0,1,2.06,195.24L68.5,80.16A15.17,15.17,0,0,1,94.78,80.16Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{className:"cls-1",d:"M94.78,80.16l66.44,115.08A15.17,15.17,0,0,1,148.08,218H15.2A15.17,15.17,0,0,1,2.06,195.24L68.5,80.16A15.17,15.17,0,0,1,94.78,80.16Z"}),s.a.createElement("path",{className:"cls-2",d:"M87.22,163.71l2.88-44.35a9.18,9.18,0,0,0-9.16-9.78h0a9.18,9.18,0,0,0-9.16,9.78l2.88,44.35a6.3,6.3,0,0,0,6.28,5.89h0A6.3,6.3,0,0,0,87.22,163.71Z"}),s.a.createElement("path",{className:"cls-2",d:"M71.38,187.25a9.53,9.53,0,0,0,10.39,9.58,9.68,9.68,0,0,0-.9-19.32A9.64,9.64,0,0,0,71.38,187.25Z"}),s.a.createElement("path",{className:"cls-3",d:"M91.7,27.17,84.29.45A.61.61,0,0,0,83.1.5L78.44,25.6l-5.8-1.08a.61.61,0,0,0-.7.76L79.35,52A.61.61,0,0,0,80.54,52l4.66-25.1L91,27.93A.61.61,0,0,0,91.7,27.17Z"}),s.a.createElement("path",{className:"cls-4",d:"M65.12,41.81,54.24,33.26a.27.27,0,0,0-.41.33L59.36,45,56.7,46.31a.27.27,0,0,0,0,.45l10.87,8.55a.27.27,0,0,0,.41-.33L62.41,43.55l2.66-1.29A.27.27,0,0,0,65.12,41.81Z"}),s.a.createElement("path",{className:"cls-5",d:"M115.15,36.6c-1.17,1.59-11-5.6-12.16-4s8.66,8.79,7.5,10.39-11-5.6-12.17-4,8.66,8.79,7.49,10.39-11-5.6-12.17-4,8.66,8.79,7.49,10.39"}),s.a.createElement("path",{className:"cls-6",d:"M119.92,64.19c-1.46,1.33-7.05-4.78-8.51-3.44s4.13,7.45,2.67,8.78-7.05-4.78-8.51-3.44c-.68.62.16,2.27,1.11,4"}),s.a.createElement("path",{className:"cls-6",d:"M44.8,64c1.82.77,5-6.87,6.86-6.1s-1.39,8.4.43,9.17,5-6.87,6.86-6.1c.85.36.61,2.19.29,4.13"})))),Ge=v.default.div($e||($e=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 60px;\n  height: calc(100% - 211px);\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 60px;\n  height: calc(100% - 211px);\n"]))),We=v.default.img(et||(et=Object(r.__makeTemplateObject)(["\n  float: left;\n  width: 115px;\n"],["\n  float: left;\n  width: 115px;\n"]))),Ve=v.default.div(tt||(tt=Object(r.__makeTemplateObject)(["\n  float: left;\n"],["\n  float: left;\n"]))),Ke=v.default.div(nt||(nt=Object(r.__makeTemplateObject)(["\n  display: block;\n  margin-left: 10px;\n  white-space: nowrap;\n  margin-top: 15px;\n  color: #6c798f;\n"],["\n  display: block;\n  margin-left: 10px;\n  white-space: nowrap;\n  margin-top: 15px;\n  color: #6c798f;\n"]))),qe=v.default.div(it||(it=Object(r.__makeTemplateObject)(["\n  margin-left: 10px;\n  margin-top: 14px;\n  text-align: center;\n"],["\n  margin-left: 10px;\n  margin-top: 14px;\n  text-align: center;\n"]))),Ye=v.default.div(rt||(rt=Object(r.__makeTemplateObject)(["\n  display: block;\n  float: left;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  display: block;\n  float: left;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Je=v.default.div(ot||(ot=Object(r.__makeTemplateObject)(["\n/* Hardcoded width to avoid difference in how it looks depending on\n   mac scroll bar setting. See https://product-fabric.atlassian.net/browse/EM-168\n   for more details */\n  width: 668px;\n  box-sizing: border-box;\n  border: 2px dashed #cfd4db;\n  border-image-source: url('","');\n  border-image-slice: 2;\n  border-image-repeat: round;\n  border-radius: 3px;\n  ","\n"],["\n/* Hardcoded width to avoid difference in how it looks depending on\n   mac scroll bar setting. See https://product-fabric.atlassian.net/browse/EM-168\n   for more details */\n  width: 668px;\n  box-sizing: border-box;\n  border: 2px dashed #cfd4db;\n  border-image-source: url('","');\n  border-image-slice: 2;\n  border-image-repeat: round;\n  border-radius: 3px;\n  ","\n"])),ze,(function(e){return e.isEmpty?"height: calc(100% - 4px);":"height: 211px;"}));Je.displayName="DropzoneContainer";var Ze=v.default.div(at||(at=Object(r.__makeTemplateObject)(["\n  padding: 25px 10px 5px 0;\n  font-size: 20px;\n  color: #071d43;\n"],["\n  padding: 25px 10px 5px 0;\n  font-size: 20px;\n  color: #071d43;\n"]))),Xe=v.default.div(st||(st=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  display: flex;\n  flex-wrap: wrap;\n"])));Xe.displayName="CardsWrapper";var Qe=v.default.div(ct||(ct=Object(r.__makeTemplateObject)(["\n  margin: 6px 0;\n  /* 9px to fix IE both edge and IE11 */\n  margin-right: 9px;\n  outline: none;\n\n  /* Cards are displayed in rows of 4, line up last card with edge of dropzone border */\n  &:nth-child(4n) {\n    margin-right: 0;\n  }\n"],["\n  margin: 6px 0;\n  /* 9px to fix IE both edge and IE11 */\n  margin-right: 9px;\n  outline: none;\n\n  /* Cards are displayed in rows of 4, line up last card with edge of dropzone border */\n  &:nth-child(4n) {\n    margin-right: 0;\n  }\n"])));Qe.displayName="CardWrapper";var $e,et,tt,nt,it,rt,ot,at,st,ct,lt,dt,ut=v.default.div(lt||(lt=Object(r.__makeTemplateObject)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  padding: 24px 24px 2px 24px;\n"],["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  padding: 24px 24px 2px 24px;\n"]))),pt=v.default.div(dt||(dt=Object(r.__makeTemplateObject)(["\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 10px;\n"],["\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 10px;\n"]))),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isEmpty,n=e.browserRef;return s.a.createElement(Je,{isEmpty:t},s.a.createElement(Ye,null,s.a.createElement(We,{src:Be}),s.a.createElement(Ve,null,s.a.createElement(Ke,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.drag_and_drop_your_files))),s.a.createElement(qe,null,s.a.createElement(Ue,{browserRef:n})))))},t}(a.Component);function mt(e){return"EDITOR_SHOW_IMAGE"===e.type}function ht(e,t){return{type:"EDITOR_SHOW_IMAGE",imageUrl:e,originalFile:t}}var vt,gt,bt,yt,_t,jt,wt,xt,Ot,kt,Et,Ct,St,It,Tt,Mt=function(e){return"REMOVE_FILES_FROM_RECENTS"===e.type},Ft=function(e){return{label:"Delete",handler:e,icon:s.a.createElement(Fe.a,{label:"Delete",size:"medium"})}},Nt={width:160,height:108},At=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={hasPopupBeenVisible:!1,isWebGLWarningFlagVisible:!1,shouldDismissWebGLWarningFlag:!1,isLoadingNextPage:!1},t.renderDeleteConfirmation=function(){var e=t.state.deletionCandidate,n=t.props.removeFileFromRecents,i=function(){t.setState({deletionCandidate:void 0})};if(!e)return null;var r=e.id,o=e.occurrenceKey,a=[{text:"Delete permanently",onClick:function(){n(r,o),i()}},{text:"Cancel",onClick:function(){i()}}];return s.a.createElement(u.b,null,s.a.createElement(p.a,{width:"small",appearance:"danger",heading:"Delete forever?",actions:a,onClose:i},"This file is about to be permanently deleted. Once you delete, it's gone for good."))},t.onThresholdReachedListener=function(){t.state.isLoadingNextPage||t.setState({isLoadingNextPage:!0},(function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,this.props.mediaClient.collection.loadNextPage(f.c)];case 1:return e.sent(),[3,3];case 2:return this.mounted&&this.setState({isLoadingNextPage:!1}),[7];case 3:return[2]}}))}))}))},t.renderLoadingView=function(){return s.a.createElement(Ge,null,s.a.createElement(Ee.a,{size:"large"}))},t.renderLoadingNextPageView=function(){var e=t.state.isLoadingNextPage;return s.a.createElement(pt,null,e&&s.a.createElement(Ee.a,null))},t.renderRecentsView=function(e){var n=t.state.isWebGLWarningFlagVisible;return s.a.createElement("div",null,s.a.createElement(Ze,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.recent_uploads))),s.a.createElement(Xe,null,e),t.renderLoadingNextPageView(),n&&t.renderWebGLWarningFlag())},t.renderWebGLWarningFlag=function(){var e=t.props.intl.formatMessage;return s.a.createElement(Ce.a,{onDismissed:t.onFlagDismissed},s.a.createElement(Se.a,{description:e(h.a.webgl_warning_description),icon:s.a.createElement(Ae.a,{label:"info"}),id:"webgl-warning-flag",title:e(h.a.unable_to_annotate_image),actions:[{content:e(h.a.learn_more),onClick:t.onLearnMoreClicked}]}))},t.onFlagDismissed=function(){t.setState({isWebGLWarningFlagVisible:!1})},t.onLearnMoreClicked=function(){t.setState({shouldDismissWebGLWarningFlag:!0}),t.onFlagDismissed(),window.open("https://get.webgl.org/")},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.isLoading,n=e.browserRef,i=this.renderCards(),r=!t&&0===i.length,o=null;t?o=this.renderLoadingView():r||(o=this.renderRecentsView(i));var a=this.renderDeleteConfirmation();return s.a.createElement(Pe.a,{"data-testid":"media-picker-recents-infinite-scroll",height:"100%",onThresholdReached:this.onThresholdReachedListener},s.a.createElement(ut,null,s.a.createElement(ft,{isEmpty:r,browserRef:n}),o,a))},t.prototype.onAnnotateActionClick=function(e){var t=this;return function(){De()?e():t.showWebGLWarningFlag()}},t.prototype.renderCards=function(){var e=this.recentFilesCards();return this.uploadingFilesCards().concat(e).map((function(e){var t=e.key,n=e.card;return s.a.createElement(Qe,{tabIndex:0,key:t},n)}))},t.prototype.uploadingFilesCards=function(){var e=this,t=this.props,n=t.uploads,i=t.onFileClick,o=t.mediaClient,a=t.featureFlags,c=Object.keys(n);c.sort((function(e,t){return n[t].index-n[e].index}));var l=this.props.selectedItems.filter((function(e){return"upload"===e.serviceName})).map((function(e){return e.id}));return c.map((function(t){var n=e.props.uploads[t].file,c=Object(ke.a)(n.metadata.mimeType),d=Object(r.__assign)(Object(r.__assign)({},n.metadata),{mimeType:c}),u=d.id,p=d.size,m=d.name,h=d.occurrenceKey,v=l.indexOf(u)>-1,g={id:u,mimeType:c,name:m,size:p,occurrenceKey:h,date:0},b=[Ft((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.setState({deletionCandidate:{id:u,occurrenceKey:h}}),[2]}))}))}))],y={id:u,mediaItemType:"file",collectionName:f.c};return{isUploading:!0,key:u,card:s.a.createElement(Oe.a,{mediaClientConfig:o.config,identifier:y,dimensions:Nt,selectable:!0,selected:v,onClick:function(){return i(g,"upload")},actions:b,testId:"media-picker-uploading-media-card",featureFlags:a})}}))},t.prototype.recentFilesCards=function(){var e=this,t=this.props,n=t.mediaClient,i=t.recents,r=t.recentsCollection,o=t.selectedItems,a=t.onFileClick,c=t.onEditRemoteImage,l=t.intl.formatMessage,d=t.featureFlags,u=i.items,p=o.filter((function(e){return"recent_files"===e.serviceName})).map((function(e){return e.id})),f=function(e){var t=e.mediaItemDetails;if(t){var n=t.id;a({id:n,date:0,name:t.name||"",mimeType:t.mimeType||"",size:t.size||0,createdAt:t.createdAt||0},"recent_files")}},m=function(t){if(t&&"file"===t.type){var n=t.details,i=n.id,o=n.name;De()?c({id:i,name:o||""},r):e.showWebGLWarningFlag()}};return u.map((function(t){var i=t.id,o=t.occurrenceKey,a=t.details,c=p.indexOf(i)>-1,u=[Ft((function(){e.setState({deletionCandidate:{id:i,occurrenceKey:o}})}))];"image"===a.mediaType&&u.unshift(function(e,t){return{label:t,handler:e,icon:s.a.createElement(Te.a,{label:"Annotate",size:"medium"})}}(m,l(h.a.annotate)));var v={id:i,mediaItemType:"file",collectionName:r};return{key:o+"-"+i,card:s.a.createElement(Oe.a,{mediaClientConfig:n.config,identifier:v,dimensions:Nt,selectable:!0,selected:c,onClick:f,actions:u,testId:"media-picker-recent-media-card",featureFlags:d})}}))},t.prototype.showWebGLWarningFlag=function(){this.setState({isWebGLWarningFlagVisible:!0})},t}(a.Component),Pt=Object(d.b)((function(e){return{isLoading:e.view.isLoading,recents:e.recents,uploads:e.uploads,selectedItems:e.selectedItems}}),(function(e){return{onFileClick:function(t,n){return e(T(t,n))},onEditorShowImage:function(t,n){return e(ht(n,t))},onEditRemoteImage:function(t,n){return e(function(e,t){return{type:"EDIT_REMOTE_IMAGE",item:e,collectionName:t}}(t,n))},removeFileFromRecents:function(t,n){return e(function(e,t){return{type:"REMOVE_FILES_FROM_RECENTS",id:e,occurrenceKey:t}}(t,n))}}}))(Object(m.f)(At)),Dt=n("./node_modules/lodash/debounce.js"),Lt=n.n(Dt),Ut=n("./node_modules/@atlaskit/textfield/dist/esm/components/Textfield.js"),Rt=n("./node_modules/bricks.js/dist/bricks.module.js"),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.id,n=e.packed,i=void 0===n?"data-packed":n,r=e.sizes,o=void 0===r?[{columns:3,gutter:10}]:r,a=("function"==typeof Rt?Rt:Rt.default)({container:"#"+t,packed:i,sizes:o});a.resize(!0),this.setState({instance:a})},t.prototype.componentDidUpdate=function(e){var t=e.children,n=this.props.children,i=this.state.instance;if(0!==t.length||0!==n.length)return i.pack()},t.prototype.componentWillUnmount=function(){this.state.instance.resize(!1)},t.prototype.render=function(){var e=this.props,t=e.id,n=e.children;return s.a.createElement("div",{id:t},n)},t.defaultProps={packed:"data-packed",sizes:[{columns:3,gutter:10}]},t}(a.Component),Bt=function(e){var t=e.width,n=e.height,i=e.containerWidth,r=e.gapSize,o=e.numberOfColumns,a=Math.floor((i-r*(o-1))/o);return{width:a,height:Math.round(a/t*n)}},Ht=v.default.div(vt||(vt=Object(r.__makeTemplateObject)(["\n  "," margin-top: 5px;\n"],["\n  "," margin-top: 5px;\n"])),(function(e){return"width: "+e.width+"px;"})),Gt=v.default.div(gt||(gt=Object(r.__makeTemplateObject)(["\n  color: #091e42;\n  font-size: 20px;\n  margin-top: 15px;\n"],["\n  color: #091e42;\n  font-size: 20px;\n  margin-top: 15px;\n"]))),Wt=v.default.div(bt||(bt=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"],["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"]))),Vt=v.default.div(yt||(yt=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n\n  /* Required to allow end users to select text in the error message */\n  cursor: auto;\n  user-select: text;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n\n  /* Required to allow end users to select text in the error message */\n  cursor: auto;\n  user-select: text;\n"]))),Kt=v.default.div(_t||(_t=Object(r.__makeTemplateObject)(["\n  width: 92px;\n"],["\n  width: 92px;\n"]))),qt=v.default.img(jt||(jt=Object(r.__makeTemplateObject)(["\n  width: 200px;\n"],["\n  width: 200px;\n"]))),Yt=v.default.p(wt||(wt=Object(r.__makeTemplateObject)(["\n  font-size: 14px;\n  font-weight: bold;\n  margin-bottom: 5px;\n"],["\n  font-size: 14px;\n  font-weight: bold;\n  margin-bottom: 5px;\n"]))),Jt=v.default.p(xt||(xt=Object(r.__makeTemplateObject)(["\n  color: ",";\n  font-size: 14px;\n  margin-top: 5px;\n"],["\n  color: ",";\n  font-size: 14px;\n  margin-top: 5px;\n"])),oe.N300),Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return s.a.createElement(Vt,null,s.a.createElement(Kt,null,He),s.a.createElement(Yt,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.cant_retrieve_files))),s.a.createElement(Jt,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.check_your_network))),s.a.createElement(g.a,{onClick:this.props.action},s.a.createElement(m.a,Object(r.__assign)({},h.a.try_again))))},t}(s.a.Component),Xt=v.default.div(Ot||(Ot=Object(r.__makeTemplateObject)(["\n  overflow: auto;\n  height: 100%;\n"],["\n  overflow: auto;\n  height: 100%;\n"]))),Qt=v.default.div(kt||(kt=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 28px;\n\n  label {\n    display: none;\n  }\n\n  > div {\n    flex: initial;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 28px;\n\n  label {\n    display: none;\n  }\n\n  > div {\n    flex: initial;\n  }\n"]))),$t=v.default.img(Et||(Et=Object(r.__makeTemplateObject)(["\n  height: 24px;\n  width: 24px;\n"],["\n  height: 24px;\n  width: 24px;\n"]))),en=v.default.div(Ct||(Ct=Object(r.__makeTemplateObject)(["\n  height: 100%;\n  overflow-y: scroll;\n  padding: 0 28px;\n"],["\n  height: 100%;\n  overflow-y: scroll;\n  padding: 0 28px;\n"]))),tn=v.default.div(St||(St=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  min-height: 480px;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  min-height: 480px;\n"]))),nn=v.default.div(It||(It=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 24px;\n"],["\n  display: flex;\n  align-items: center;\n  margin-bottom: 24px;\n"]))),rn=v.default.p(Tt||(Tt=Object(r.__makeTemplateObject)(["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n  margin: 0;\n  margin-left: 8px;\n"],["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n  margin: 0;\n  margin-left: 8px;\n"])),oe.N100),on=function(e){function t(t){var n=e.call(this,t)||this;return n.getContent=function(){var e=n.props,t=e.hasError,i=e.isLoading,r=e.cardModels;return t?n.renderError():i||0!==r.length?n.renderSearchResults():n.renderEmptyState()},n.renderError=function(){return s.a.createElement(Zt,{action:n.handleRetryButtonClick})},n.renderEmptyState=function(){var e=n.state.query;return s.a.createElement(Vt,null,s.a.createElement(qt,{src:"https://media1.giphy.com/media/10YK5Hh53nC3dK/200w.gif"}),s.a.createElement(Yt,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.no_gifs_found))),s.a.createElement(Jt,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.no_gifs_found_suggestion,{values:{query:e}}))))},n.renderSearchResults=function(){var e=n.props,t=e.isLoading,i=e.cardModels,r=e.totalResultCount,o=void 0===r||i.length<r-1,a=(t||o)&&n.renderLoadMoreButton();return s.a.createElement("div",null,n.renderMasonaryLayout(n.props.cardModels),a)},n.renderMasonaryLayout=function(e){if(0===e.length)return null;var t=e.map((function(e,t){var i=e.dataURI,o=e.metadata,a=e.dimensions,c=n.props.selectedItems.some((function(e){return e.id===o.id&&"giphy"===e.serviceName})),l=Bt(Object(r.__assign)(Object(r.__assign)({},a),{gapSize:5,containerWidth:677,numberOfColumns:4})),d={mediaItemType:"external-image",dataURI:i,name:o.name};return s.a.createElement(Ht,{key:t+"-metadata.id",width:l.width},s.a.createElement(Oe.a,{identifier:d,mediaClientConfig:{},dimensions:l,selectable:!0,selected:c,onClick:n.createClickHandler(e)}))}));return s.a.createElement(zt,{id:"mediapicker-gif-layout",sizes:[{columns:4,gutter:5}]},t)},n.renderLoadMoreButton=function(){var e=n.props.isLoading,t=e?s.a.createElement(Ee.a,null):void 0;return s.a.createElement(Wt,null,s.a.createElement(g.a,{onClick:n.handleLoadMoreButtonClick,isDisabled:e,iconAfter:t},s.a.createElement(m.a,Object(r.__assign)({},h.a.load_more_gifs))))},n.createSearchChangeHandler=function(){var e=n.props.onSearchQueryChange,t=Lt()(e,1e3);return function(e){var i=e.currentTarget.value;n.setState({query:i}),t(i)}},n.createClickHandler=function(e){return function(){(0,n.props.onCardClick)(e)}},n.handleLoadMoreButtonClick=function(){(0,n.props.onLoadMoreButtonClick)(n.state.query,!0)},n.handleRetryButtonClick=function(){(0,n.props.onSearchQueryChange)(n.state.query)},n.state={query:""},n.searchChangeHandler=n.createSearchChangeHandler(),n}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.onSearchQueryChange!==this.props.onSearchQueryChange&&this.createSearchChangeHandler()},t.prototype.render=function(){var e=this.props.intl.formatMessage,t=this.state.query;return s.a.createElement(en,{id:"mediapicker-giphy-container"},s.a.createElement(Gt,null,"GIPHY"),s.a.createElement(Ut.a,{placeholder:e(h.a.search_all_gifs),onChange:this.searchChangeHandler,value:t}),this.getContent())},t}(a.Component),an=Object(d.b)((function(e){return{hasError:e.view.hasError,isLoading:e.view.isLoading,cardModels:e.giphy.imageCardModels,totalResultCount:e.giphy.totalResultCount,selectedItems:e.selectedItems}}),(function(e){return{onSearchQueryChange:function(t){return e(H(t,!1))},onLoadMoreButtonClick:function(t,n){return e(H(t,n))},onCardClick:function(t){var n=t.metadata,i=n.id,r=n.name,o=n.size;e(T({mimeType:"image/gif",id:i||"",name:r||"",size:o||0,date:Date.now()},"giphy"))}}}))(Object(m.f)(on)),sn=n("./node_modules/dateformat/lib/dateformat.js"),cn=n.n(sn),ln=n("./node_modules/filesize/lib/filesize.js"),dn=n.n(ln),un=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/check-circle.js"),pn=n.n(un),fn=n("./node_modules/@atlaskit/dropdown-menu/dist/esm/components/item/DropdownItem.js"),mn=n("./node_modules/@atlaskit/dropdown-menu/dist/esm/components/group/DropdownItemGroup.js"),hn=n("./node_modules/@atlaskit/dropdown-menu/dist/esm/components/DropdownMenu.js"),vn=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/refresh.js"),gn=n.n(vn),bn=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/settings.js"),yn=n.n(bn),_n=v.default.div(jn||(jn=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n\n  /* Ensure header has height */\n  min-height: 60px;\n  padding: 15px 13px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  background-color: ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n\n  /* Ensure header has height */\n  min-height: 60px;\n  padding: 15px 13px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  background-color: ",";\n"])),oe.N0);_n.displayName="FolderViewerNavigation";var jn,wn,xn,On,kn,En,Cn,Sn,In=v.default.div(wn||(wn=Object(r.__makeTemplateObject)([""],[""]))),Tn=v.default.div(xn||(xn=Object(r.__makeTemplateObject)(["\n  height: 30px;\n  display: flex;\n"],["\n  height: 30px;\n  display: flex;\n"]))),Mn=function(e){return s.a.createElement(g.a,Object(r.__assign)({},e,{theme:function(e,t){var n=e(t),i=n.buttonStyles,o=Object(r.__rest)(n,["buttonStyles"]);return Object(r.__assign)({buttonStyles:Object(r.__assign)(Object(r.__assign)({},i),{marginRight:"5px"})},o)}}))},Fn=v.default.div(On||(On=Object(r.__makeTemplateObject)(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),Nn=v.default.span(kn||(kn=Object(r.__makeTemplateObject)(["\n  &:hover {\n    text-decoration: ",";\n  }\n"],["\n  &:hover {\n    text-decoration: ",";\n  }\n"])),(function(e){return e.isLast?"none":"underline"})),An=v.default.span(En||(En=Object(r.__makeTemplateObject)(["\n  color: ",";\n  display: ",";\n  margin: 0 4px;\n  text-decoration: none;\n"],["\n  color: ",";\n  display: ",";\n  margin: 0 4px;\n  text-decoration: none;\n"])),oe.N500,(function(e){return e.isLast?"none":"inline"})),Pn=v.default.span(Cn||(Cn=Object(r.__makeTemplateObject)(["\n  color: ",";\n  cursor: ",";\n  font-size: ",";\n"],["\n  color: ",";\n  cursor: ",";\n  font-size: ",";\n"])),(function(e){return e.isLast?oe.N900:oe.N500}),(function(e){return e.isLast?"default":"pointer"}),(function(e){return e.isLast?"20px":"14px"})),Dn=function(e){return s.a.createElement(g.a,Object(r.__assign)({},e))},Ln=v.default.div(Sn||(Sn=Object(r.__makeTemplateObject)(["\n  /* TODO: remove this when the ak-dropdown-menu package supports custom item types */\n  span[role='presentation'] > span > span:first-child {\n    display: none;\n  }\n"],["\n  /* TODO: remove this when the ak-dropdown-menu package supports custom item types */\n  span[role='presentation'] > span > span:first-child {\n    display: none;\n  }\n"]))),Un={dropbox:"Dropbox",google:"Google Drive"},Rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownOpen:!1,availableAccounts:[]},t.mounted=!1,t.onRefreshButtonClick=function(){var e=t.props,n=e.service,i=e.path;(0,e.onChangePath)(n.name,n.accountId,i)},t.onChangeAccountHandler=function(e,n){return function(){(0,t.props.onChangeAccount)(e,n)}},t.onUnlinkAccountHandler=function(e,n){return function(){(0,t.props.onUnlinkAccount)(e,n)}},t.onStartAuthHandler=function(e){return function(){(0,t.props.onStartAuth)(e)}},t.handleOpenChange=function(e){t.setState({dropdownOpen:e.isOpen})},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.componentDidMount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.mounted=!0,e=this.props,t=e.accounts,n=e.service,[4,t];case 1:return i=r.sent().filter((function(e){return e.type===n.name})),this.mounted&&this.setState({availableAccounts:i}),[2]}}))}))},t.prototype.componentDidUpdate=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=this.props,n=t.accounts,i=t.service,e.service===i?[3,2]:[4,n];case 1:o=r.sent().filter((function(e){return e.type===i.name})),this.mounted&&this.setState({availableAccounts:o}),r.label=2;case 2:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.service,n=e.path,i=this.generateBreadcrumbs(t,n),r=this.getAccountsDropdown();return s.a.createElement(_n,null,i,s.a.createElement(In,null,s.a.createElement(Tn,null,s.a.createElement(Mn,{onClick:this.onRefreshButtonClick,iconBefore:s.a.createElement(gn.a,{label:"refresh"})}),r)))},t.prototype.getAccountButton=function(){var e=this.state.dropdownOpen;return s.a.createElement(Dn,{isSelected:e,iconBefore:s.a.createElement(yn.a,{label:"account settings"})})},t.prototype.getAccountsDropdownItems=function(){var e=this,t=this.props,n=t.service,i=t.intl.formatMessage,o=this.state.availableAccounts.map((function(t){var i=t.id,r=t.displayName,o=t.type;return s.a.createElement(fn.a,{key:i,onClick:e.onChangeAccountHandler(o,i)},i===n.accountId?s.a.createElement("b",null,r):r)})),a=[s.a.createElement(fn.a,{key:"add",onClick:this.onStartAuthHandler(n.name)},s.a.createElement(m.a,Object(r.__assign)({},h.a.add_account))),s.a.createElement(fn.a,{key:"unlink",onClick:this.onUnlinkAccountHandler(n.name,n.accountId)},s.a.createElement(m.a,Object(r.__assign)({},h.a.unlink_account)))];return[s.a.createElement(mn.a,{key:"accounts",title:i(h.a.accounts)},o),s.a.createElement(mn.a,{key:"actions",title:i(h.a.actions)},a)]},t.prototype.getAccountsDropdown=function(){var e=this.getAccountsDropdownItems();return s.a.createElement(Ln,null,s.a.createElement(hn.a,{onOpenChange:this.handleOpenChange,trigger:this.getAccountButton(),position:"bottom right"},e))},t.prototype.generateBreadcrumbs=function(e,t){var n=this,i=[{id:"",name:Un[e.name]||e.name}].concat(t),r=i.slice(-2).map((function(e){var t=i.indexOf(e);return i.slice(0,t+1)})).map((function(t,i,r){var o=i===r.length-1;return n.renderBreadcrumb(e,t,o)}));return s.a.createElement(Fn,null,r)},t.prototype.renderBreadcrumb=function(e,t,n){var i=this.props.onChangePath;if(0===t.length)return null;var r=t[t.length-1];return s.a.createElement(Pn,{key:r.id,onClick:function(){return i(e.name,e.accountId,t.slice(1))},isLast:n},s.a.createElement(Nn,{title:r.name,isLast:n},r.name),s.a.createElement(An,{isLast:n},"/"))},t}(a.Component),zn=Object(d.b)((function(e){var t=e.accounts,n=e.view;return{accounts:t,path:n.path,service:n.service}}),(function(e){return{onChangeAccount:function(t,n){return e(w(t,n))},onChangePath:function(t,n,i){return e(x(t,n,Object(r.__spread)(i)))},onStartAuth:function(t){return e(D(t))},onUnlinkAccount:function(t,n){return e(U({id:n,name:t}))}}}))(Object(m.f)(Rn)),Bn=v.default.div(Vn||(Vn=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"]))),Hn=v.default.div(Kn||(Kn=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"]))),Gn=v.default.ul(qn||(qn=Object(r.__makeTemplateObject)(["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"],["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"]))),Wn=v.default.li(Yn||(Yn=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"])),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: white;"}),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: "+oe.N30+";"}));Wn.displayName="FolderViewerRow";var Vn,Kn,qn,Yn,Jn,Zn,Xn,Qn,$n,ei,ti,ni=v.default.div(Jn||(Jn=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),ii=v.default.div(Zn||(Zn=Object(r.__makeTemplateObject)(["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"],["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"]))),ri=v.default.div(Xn||(Xn=Object(r.__makeTemplateObject)(["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"],["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"])),(function(e){return e.isSelected?"color: white;":"color: "+oe.N900})),oi=v.default.div(Qn||(Qn=Object(r.__makeTemplateObject)(["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"],["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"])),oe.N90),ai=v.default.div($n||($n=Object(r.__makeTemplateObject)(["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"],["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"])),oe.N90),si=v.default.div(ei||(ei=Object(r.__makeTemplateObject)(["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"],["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"])),oe.B400),ci=v.default.div(ti||(ti=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"],["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"]))),li=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/folder-filled.js"),di=n.n(li),ui=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/image.js"),pi=n.n(ui),fi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/video.js"),mi=n.n(fi),hi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/audio.js"),vi=n.n(hi),gi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/spreadsheet.js"),bi=n.n(gi),yi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/presentation.js"),_i=n.n(yi),ji=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/document.js"),wi=n.n(ji),xi=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/pdf.js"),Oi=n.n(xi),ki=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/zip.js"),Ei=n.n(ki),Ci=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/media-services/unknown.js"),Si=n.n(Ci),Ii=v.default.div(Ti||(Ti=Object(r.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return"color: "+e.color+";"}));var Ti,Mi,Fi,Ni,Ai,Pi,Di,Li,Ui,Ri,zi,Bi,Hi,Gi,Wi=s.a.createElement(Ii,{color:oe.B75},s.a.createElement(di.a,{label:"folder"})),Vi=function(e){return function(e){return["application/vnd.atlassian.mediapicker.folder","application/vnd.google-apps.folder"].indexOf(e)>-1}(e)?Wi:function(e){return 0===e.indexOf("image/")}(e)?s.a.createElement(Ii,{color:oe.Y200},s.a.createElement(pi.a,{label:"image"})):function(e){return 0===e.indexOf("video/")}(e)?s.a.createElement(Ii,{color:oe.R300},s.a.createElement(mi.a,{label:"video"})):function(e){return 0===e.indexOf("audio/")}(e)?s.a.createElement(Ii,{color:oe.P200},s.a.createElement(vi.a,{label:"audio"})):function(e){return["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.google-apps.spreadsheet","application/x-iwork-keynote-sffnumbers"].indexOf(e)>-1}(e)?s.a.createElement(Ii,{color:oe.G300},s.a.createElement(bi.a,{label:"spreadsheet"})):function(e){return["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/vnd.google-apps.presentation","application/x-iwork-keynote-sffkey"].indexOf(e)>-1}(e)?s.a.createElement(Ii,{color:oe.Y400},s.a.createElement(_i.a,{label:"presentation"})):function(e){return["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/x-iwork-pages-sffpages"].indexOf(e)>-1}(e)?s.a.createElement(Ii,{color:oe.B200},s.a.createElement(wi.a,{label:"document"})):function(e){return"application/pdf"===e}(e)?s.a.createElement(Ii,{color:oe.R400},s.a.createElement(Oi.a,{label:"pdf document"})):function(e){return["application/zip","application/x-7z-compressed","application/x-bzip","application/x-bzip2"].indexOf(e)>-1}(e)?s.a.createElement(Ii,{color:oe.N200},s.a.createElement(Ei.a,{label:"zip"})):s.a.createElement(Ii,{color:oe.N70},s.a.createElement(Si.a,{label:"unknown"}))},Ki=function(e){if(!e)return"";var t=(new Date).toDateString(),n=new Date(e),i=n.toDateString();return cn()(n,t===i?"H:MM TT":"d mmm yyyy")},qi=s.a.createElement(si,null,s.a.createElement(pn.a,{label:"check"})),Yi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContents=function(){return t.isPageInitialLoading?s.a.createElement(Hn,null,s.a.createElement(Ee.a,{size:"large"})):t.renderFolderContent(t.props.items)},t.renderServiceFolder=function(e,n){return s.a.createElement(Wn,{onClick:t.itemClicked(e),key:e.id},s.a.createElement(ni,null,s.a.createElement(ii,null,n),s.a.createElement(ri,null,e.name)))},t.renderServiceFile=function(e,n,i){var r=i?qi:t.renderFileCreateDateAndSize(e);return s.a.createElement(Wn,{isSelected:i,onClick:t.itemClicked(e),key:e.id},s.a.createElement(ni,null,s.a.createElement(ii,null,n),s.a.createElement(ri,{isSelected:i},e.name)),r)},t.renderFileCreateDateAndSize=function(e){var t=e.date,n=e.size;return s.a.createElement(ni,null,s.a.createElement(oi,null,Ki(t)),s.a.createElement(ai,null,dn()(n)))},t.onLoadMoreButtonClick=function(){var e=t.props,n=e.service,i=e.path,r=e.nextCursor,o=e.isLoading,a=e.onLoadMoreClick;o||a(n.name,n.accountId,i,r||"")},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return s.a.createElement(Bn,null,s.a.createElement(zn,null),this.renderContents())},Object.defineProperty(t.prototype,"isPageInitialLoading",{get:function(){return this.props.isLoading&&!this.props.currentCursor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPageMoreLoading",{get:function(){return this.props.isLoading&&this.props.currentCursor},enumerable:!1,configurable:!0}),t.prototype.renderFolderContent=function(e){var t=this;if(!e)return null;var n=e.filter((function(e){return-1===e.mimeType.indexOf("application/vnd.google-apps.")})).map((function(e){var n=Vi(e.mimeType),i=t.props.selectedItems.map((function(e){return e.id})).indexOf(e.id)>-1;return function(e){return"application/vnd.atlassian.mediapicker.folder"!==e.mimeType}(e)?t.renderServiceFile(e,n,i):t.renderServiceFolder(e,n)}));return s.a.createElement(Gn,null,[n,this.renderLoadMoreButton()])},t.prototype.renderLoadMoreButton=function(){var e=this.props,t=e.nextCursor,n=e.isLoading;if(t||this.isPageMoreLoading){var i=n?"Loading...":"Load more";return(s.a.createElement(ci,{key:"load-more-button-wrapper"},s.a.createElement(g.a,{className:"moreBtn",onClick:this.onLoadMoreButtonClick,isDisabled:n},i)))}return null},t.prototype.itemClicked=function(e){var t=this;return function(){var n=t.props,i=n.service,o=n.onFolderClick,a=n.onFileClick;if(function(e){return"application/vnd.atlassian.mediapicker.folder"===e.mimeType}(e)){var s=t.props.path.slice();s.push({id:e.id,name:e.name}),o(i.name,i.accountId,s)}else{var c=Object(r.__assign)({},e);a(i.name,i.accountId,c)}}},t}(a.Component),Ji=Object(d.b)((function(e){var t=e.view,n=e.selectedItems;return{path:t.path,service:t.service,items:t.items,selectedItems:n,isLoading:t.isLoading,currentCursor:t.currentCursor,nextCursor:t.nextCursor}}),(function(e){return{onFolderClick:function(t,n,i){return e(x(t,n,i))},onFileClick:function(t,n,i){return e(T(i,t,n))},onLoadMoreClick:function(t,n,i,r){return e(function(e,t,n,i){return{type:"FETCH_NEXT_CLOUD_FILES_PAGE",serviceName:e,accountId:t,path:n,nextCursor:i}}(t,n,i,r))}}}))(Yi),Zi=v.default.div(Mi||(Mi=Object(r.__makeTemplateObject)(["\n  color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  > span {\n    width: 120px;\n    height: 120px;\n\n    svg {\n      width: 100%;\n      height: 100%;\n    }\n  }\n"],["\n  color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  > span {\n    width: 120px;\n    height: 120px;\n\n    svg {\n      width: 100%;\n      height: 100%;\n    }\n  }\n"])),oe.N30),Xi=v.default.div(Fi||(Fi=Object(r.__makeTemplateObject)(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),Qi=v.default.div(Ni||(Ni=Object(r.__makeTemplateObject)(["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"],["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"])),oe.N500),$i=v.default.div(Ai||(Ai=Object(r.__makeTemplateObject)(["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"],["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"])),oe.N100),er=v.default.div(Pi||(Pi=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]))),tr={dropbox:{name:"Dropbox",icon:s.a.createElement(ne.a,{label:"dropbox",size:"xlarge"})},google:{name:"Google Drive",icon:s.a.createElement(re.a,{label:"drive",size:"xlarge"})}},nr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){return t.props.onStartAuth(t.props.service.name)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.service,t=tr[e.name];if(!t)return null;var n=t.name,i=t.icon;return s.a.createElement(er,null,s.a.createElement($i,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.upload_file_from,{values:{name:n}}))),s.a.createElement(Zi,null,i),s.a.createElement(Xi,null,s.a.createElement(g.a,{appearance:"primary",className:"connectBtn",onClick:this.onClick},s.a.createElement(m.a,Object(r.__assign)({},h.a.connect_to,{values:{name:n}})))),s.a.createElement(Qi,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.connect_account_description,{values:{name:n}}))))},t}(a.Component),ir=Object(d.b)((function(e){return{service:e.view.service}}),(function(e){return{onStartAuth:function(t){return e(D(t))}}}))(nr),rr=v.default.div(Di||(Di=Object(r.__makeTemplateObject)(["\n  height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n"],["\n  height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n"]))),or=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderError=function(){return s.a.createElement(Vt,{id:"browser-container"},s.a.createElement(Zt,{action:t.reloadService}))},t.reloadService=function(){var e=t.props;(0,e.reloadService)(e.service)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.service,n=e.hasError?this.renderError():t.accountId?s.a.createElement(Ji,null):s.a.createElement(ir,null);return s.a.createElement(rr,null,n)},t}(a.Component),ar=Object(d.b)((function(e){var t=e.view;return{service:t.service,hasError:t.hasError}}),(function(e){return{reloadService:function(t){return e(E(t.name))}}}))(or),sr=v.default.div(Li||(Li=Object(r.__makeTemplateObject)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.9);\n  left: 0;\n  top: 0;\n  display: ",";\n  text-align: center;\n  z-index: 100;\n  align-items: center;\n  justify-content: center;\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.9);\n  left: 0;\n  top: 0;\n  display: ",";\n  text-align: center;\n  z-index: 100;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.isActive?"flex":"none"})),cr=Object(v.keyframes)(Ui||(Ui=Object(r.__makeTemplateObject)(["\n  from {\n    opacity: 0;\n    transform: translate(0, 30px);\n  }\n"],["\n  from {\n    opacity: 0;\n    transform: translate(0, 30px);\n  }\n"]))),lr=v.default.div(Ri||(Ri=Object(r.__makeTemplateObject)(["\n  animation: "," 0.5s;\n"],["\n  animation: "," 0.5s;\n"])),cr),dr=v.default.div(zi||(zi=Object(r.__makeTemplateObject)(["\n  margin-top: 10px;\n  font-size: 16px;\n  color: #165ecc;\n"],["\n  margin-top: 10px;\n  font-size: 16px;\n  color: #165ecc;\n"]))),ur=v.default.div(Bi||(Bi=Object(r.__makeTemplateObject)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 101;\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 101;\n"]))),pr=v.default.svg(Hi||(Hi=Object(r.__makeTemplateObject)(["\n  width: 70px;\n  height: 70px;\n"],["\n  width: 70px;\n  height: 70px;\n"]))),fr=v.default.g(Gi||(Gi=Object(r.__makeTemplateObject)([""],[""]))),mr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return s.a.createElement(pr,{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement(fr,{id:"Symbols",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},s.a.createElement(fr,{id:"Upload-cloud-active",fill:"#165ECC"},s.a.createElement("path",{d:"M13,13.769312 L15.4995642,13.769312 C15.7692032,13.769312 15.8594741,13.5936547 15.6861267,13.3769704 L12.1240983,8.92443488 C12.0565453,8.83999358 11.9444393,8.83876288 11.8759017,8.92443488 L8.31387329,13.3769704 C8.14236212,13.5913594 8.22405275,13.769312 8.50043583,13.769312 L11,13.769312 L11,16.7978014 C11,16.9132156 11.0891309,17 11.1990795,17 L12.8009205,17 C12.9140625,17 13,16.9094726 13,16.7978014 L13,13.769312 Z M6,20 C3.23857625,20 1,17.7614237 1,15 C1,12.580468 2.71857515,10.5623307 5.00162508,10.0996885 C5.00054449,10.0665918 5,10.0333595 5,10 C5,8.34314575 6.34314575,7 8,7 C8.4650862,7 8.90545376,7.10583308 9.2983335,7.29473006 C9.99550814,5.37293414 11.8374211,4 14,4 C16.7614237,4 19,6.23857625 19,9 C19,9.37003761 18.9598026,9.73068663 18.8835364,10.0778186 C21.2235498,10.4950422 23,12.540065 23,15 C23,17.7614237 20.7614237,20 18,20 L6,20 Z",id:"Combined-Shape"}))))},t}(a.Component),hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.isActive;return s.a.createElement(sr,{isActive:e},s.a.createElement(lr,null,s.a.createElement(mr,null),s.a.createElement(dr,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.drop_your_files)))),s.a.createElement(ur,null))},t}(a.Component),vr=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),gr=vr.k.modal()+10,br=v.default.div(_r||(_r=Object(r.__makeTemplateObject)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"],["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"])),gr);br.displayName="Blanket";var yr=v.default.div(jr||(jr=Object(r.__makeTemplateObject)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));yr.displayName="SpinnerWrapper";var _r,jr,wr,xr,Or,kr,Er,Cr="none",Sr=!1,Ir=function(e){var t=e.blankedColor,n=e.invertSpinnerColor;return s.a.createElement(br,{style:{backgroundColor:t||Cr}},s.a.createElement(yr,null,s.a.createElement(Ee.a,{size:"large",appearance:n||Sr?"invert":"inherit"})))},Tr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={EditorView:t.EditorView},n}return Object(r.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:if(this.state.EditorView)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.e("@atlaskit-internal_media-editor-view").then(n.bind(null,"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-editor/dist/esm/react/editorView/editorView.js"))];case 2:return e=i.sent(),t.EditorView=e.default,this.setState({EditorView:e.default}),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){return this.state.EditorView?s.a.createElement(this.state.EditorView,Object(r.__assign)({},this.props)):s.a.createElement(Ir,{blankedColor:"none",invertSpinnerColor:!1})},t.displayName="AsyncEditorView",t}(s.a.PureComponent),Mr=function(){function e(e){var t=this;this.escHandler=e,this.keyDownListener=function(e){return t.onKeyDown(e)},window.addEventListener("keydown",this.keyDownListener),window.focus()}return e.prototype.teardown=function(){window.removeEventListener("keydown",this.keyDownListener)},e.prototype.onKeyDown=function(e){"Escape"!==e.key&&27!==e.which||this.escHandler()},e}(),Fr=v.default.div(wr||(wr=Object(r.__makeTemplateObject)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 200;\n  overflow: hidden;\n"],["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 200;\n  overflow: hidden;\n"])),oe.N700A),Nr=v.default.div(xr||(xr=Object(r.__makeTemplateObject)(["\n  width: 290px;\n  padding: 16px;\n  background-color: ",";\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"],["\n  width: 290px;\n  padding: 16px;\n  background-color: ",";\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"])),oe.N0),Ar=v.default.div(Or||(Or=Object(r.__makeTemplateObject)(["\n  width: 92px;\n"],["\n  width: 92px;\n"]))),Pr=v.default.div(kr||(kr=Object(r.__makeTemplateObject)(["\n  color: ",";\n  margin-top: 16px;\n  margin-bottom: 4px;\n  width: 256px;\n  text-align: center;\n  font-weight: bold;\n"],["\n  color: ",";\n  margin-top: 16px;\n  margin-bottom: 4px;\n  width: 256px;\n  text-align: center;\n  font-weight: bold;\n"])),oe.N900),Dr=v.default.div(Er||(Er=Object(r.__makeTemplateObject)(["\n  color: ",";\n  margin-top: 4px;\n  margin-bottom: 20px;\n  width: 256px;\n  text-align: center;\n"],["\n  color: ",";\n  margin-top: 4px;\n  margin-bottom: 20px;\n  width: 256px;\n  text-align: center;\n"])),oe.N70),Lr=function(e){return s.a.createElement(g.a,Object(r.__assign)({},e,{theme:function(e,t){var n=e(t),i=n.buttonStyles,o=Object(r.__rest)(n,["buttonStyles"]);return Object(r.__assign)({buttonStyles:Object(r.__assign)(Object(r.__assign)({},i),{display:"inline-flex",width:"84px",margin:"2px",justifyContent:"center"})},o)}}))},Ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.escHelper=new Mr(this.props.onCancel)},t.prototype.componentWillUnmount=function(){this.escHelper&&this.escHelper.teardown()},t.prototype.render=function(){return s.a.createElement(Fr,null,s.a.createElement(Nr,null,s.a.createElement(Ar,null,He),s.a.createElement(Pr,null,this.props.message),s.a.createElement(Dr,null,this.renderHint()),this.renderTryAgainButton(),this.renderCancelButton()))},t.prototype.renderHint=function(){var e=this.props,t=e.onRetry,n=e.intl.formatMessage;return t?s.a.createElement("span",null,n(h.a.error_hint_retry)):s.a.createElement("span",null,n(h.a.error_hint_critical))},t.prototype.renderTryAgainButton=function(){var e=this.props,t=e.onRetry,n=e.intl.formatMessage;return t?s.a.createElement(Lr,{appearance:"primary",onClick:t},n(h.a.try_again)):null},t.prototype.renderCancelButton=function(){var e=this.props,t=e.onCancel,n=e.onRetry,i=e.intl.formatMessage,r=n?h.a.cancel:h.a.close;return s.a.createElement(Lr,{appearance:"subtle",onClick:t},i(r))},t}(a.Component),Rr=Object(m.f)(Ur),zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.escHelper=new Mr(this.props.onCancel)},t.prototype.componentWillUnmount=function(){this.escHelper&&this.escHelper.teardown()},t.prototype.render=function(){return s.a.createElement(Fr,null,s.a.createElement(Ee.a,{size:"large",appearance:"invert"}))},t}(a.Component),Br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContent=function(e){var n=e.imageUrl,i=e.originalFile,r=e.error;return r?t.renderError(r):n&&i?s.a.createElement(Fr,null,s.a.createElement(Tr,{imageUrl:n,onSave:t.onEditorSave(i),onCancel:t.onCancel,onError:t.onEditorError})):s.a.createElement(zr,{onCancel:t.onCancel})},t.onEditorError=function(e,n){t.props.onShowEditorError({message:e,retryHandler:n})},t.onEditorSave=function(e){return function(n){var i=t.props,r=i.localUploader,o=i.onDeselectFile,a=i.onCloseEditor,s=e.name,c=t.urltoFile(n,s);r.addFiles([c]),o(e.id),a("Save")}},t.onCancel=function(){t.props.onCloseEditor("Close")},t.urltoFile=function(e,t){var n=e.split(","),i=n[0].match(/:(.*?);/);if(!i||i.length<2)throw new Error("Failed to retrieve file from data URL");for(var r=i[1],o=atob(n[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var c=new Blob([s],{type:r});return c.name=t,c},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.editorData;return e?this.renderContent(e):null},t.prototype.renderError=function(e){var t=e.message,n=e.retryHandler;return s.a.createElement(Rr,{message:t,onRetry:n,onCancel:this.onCancel})},t}(a.Component),Hr=Object(d.b)((function(e){return{editorData:e.editorData}}),(function(e){return{onShowEditorError:function(t){var n=t.message,i=t.retryHandler;return e(S(n,i))},onCloseEditor:function(t){return e(function(e){return{type:"EDITOR_CLOSE",selection:e}}(t))},onDeselectFile:function(t){return e(function(e){return{type:"DESELECT_ITEM",id:e}}(t))}}}))(Br);function Gr(e){return"START_APP"===e.type}var Wr,Vr,Kr,qr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createDefaultI18nProvider=function(){return new m.c({locale:"en"}).getChildContext().intl},t}return Object(r.__extends)(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.store,n=e.proxyReactContext;return{store:t,getAtlaskitAnalyticsEventHandlers:n&&n.getAtlaskitAnalyticsEventHandlers?n.getAtlaskitAnalyticsEventHandlers:function(){return[]},intl:n&&n.intl||this.createDefaultI18nProvider()}},t.prototype.render=function(){return this.props.children},t.childContextTypes={store:function(){},getAtlaskitAnalyticsEventHandlers:function(){},intl:m.g},t}(a.Component),Yr=v.default.div(Wr||(Wr=Object(r.__makeTemplateObject)(["\n  display: flex;\n  cursor: default;\n  user-select: none;\n  font-family: ",";\n  border-radius: 3px;\n  position: relative;\n\n  /* Ensure that the modal has a static size */\n  width: 968px;\n"],["\n  display: flex;\n  cursor: default;\n  user-select: none;\n  font-family: ",";\n  border-radius: 3px;\n  position: relative;\n\n  /* Ensure that the modal has a static size */\n  width: 968px;\n"])),Object(vr.g)()),Jr=v.default.div(Vr||(Vr=Object(r.__makeTemplateObject)(["\n  width: 235px;\n  min-width: 235px;\n  background-color: ",";\n  min-height: ",";\n"],["\n  width: 235px;\n  min-width: 235px;\n  background-color: ",";\n  min-height: ",";\n"])),oe.N30,"498px"),Zr=v.default.div(Kr||(Kr=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  /* Height of the Popup should never change */\n  height: calc(100vh - 200px);\n\n  background-color: white;\n  min-height: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  /* Height of the Popup should never change */\n  height: calc(100vh - 200px);\n\n  background-color: white;\n  min-height: ",";\n"])),"498px"),Xr=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/clipboard/clipboard.js"),Qr=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/dropzone/dropzone.js"),$r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/browser/browser.js"),eo=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/component.js"),to=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js"),no=function(e){function t(t,n){var i=e.call(this)||this;i.addFiles=function(e){return i.uploadService.addFiles(e)},i.onFilesAdded=function(e){var t=e.files;i.emitUploadsStart(t)},i.onFilePreviewUpdate=function(e){var t=e.file,n=e.preview;i.emitUploadPreviewUpdate(t,n)},i.onFileConverting=function(e){var t=e.file;i.emitUploadEnd(t)},i.onUploadError=function(e){var t=e.fileId,n=e.error;i.emitUploadError(t,n)};var r=n.uploadParams;i.mediaClient=t;var o=n.shouldCopyFileToRecents,a=void 0===o||o;return i.uploadService=new to.a(i.mediaClient,r,a),i.config=n,i.uploadService.on("files-added",i.onFilesAdded),i.uploadService.on("file-preview-update",i.onFilePreviewUpdate),i.uploadService.on("file-converting",i.onFileConverting),i.uploadService.on("file-upload-error",i.onUploadError),i}return Object(r.__extends)(t,e),t.prototype.cancel=function(e){this.uploadService.cancel(e)},t.prototype.setUploadParams=function(e){this.uploadService.setUploadParams(e)},t}(eo.a),io=function(e){function t(t){var n=e.call(this,t)||this;n.browserRef=s.a.createRef(),n.dropzoneRef=s.a.createRef(),n.onDragLeave=function(e){(0,n.props.onDropzoneDragOut)(e.length),n.setDropzoneActive(!1)},n.onDragEnter=function(){n.setDropzoneActive(!0)},n.onDrop=function(e){var t=n.props,i=t.onDropzoneDropIn,r=t.onUploadsStart;i(e.files.length),r(e)},n.setDropzoneActive=function(e){n.setState({isDropzoneActive:e})},n.renderClipboard=function(){var e=n.props,t=e.onUploadError,i=e.tenantUploadParams,r=e.featureFlags,o={uploadParams:i,shouldCopyFileToRecents:!1};return s.a.createElement(Xr.Clipboard,{mediaClient:n.componentMediaClient,config:o,onUploadsStart:n.onDrop,onError:t,featureFlags:r})},n.renderBrowser=function(){var e=n.props,t=e.tenantUploadParams,i=e.onUploadsStart,r=e.onUploadError,o=e.featureFlags,a={uploadParams:t,shouldCopyFileToRecents:!1,multiple:!0};return s.a.createElement($r.Browser,{ref:n.browserRef,mediaClient:n.componentMediaClient,config:a,onUploadsStart:i,onError:r,featureFlags:o})},n.renderDropzone=function(){var e=n.props,t=e.onUploadError,i=e.tenantUploadParams,r=e.featureFlags,o={uploadParams:i,shouldCopyFileToRecents:!1};return s.a.createElement(Qr.Dropzone,{ref:n.dropzoneRef,mediaClient:n.componentMediaClient,config:o,featureFlags:r,onUploadsStart:n.onDrop,onError:t,onDragEnter:n.onDragEnter,onDragLeave:n.onDragLeave})};var i=t.onStartApp,r=t.onUploadsStart,a=t.onUploadError,c=t.tenantMediaClient,l=t.userMediaClient,d=t.tenantUploadParams;n.state={isDropzoneActive:!1};var u=new o.a({authProvider:c.config.authProvider,userAuthProvider:l.config.authProvider});return n.componentMediaClient=u,n.localUploader=new no(u,{uploadParams:d,shouldCopyFileToRecents:!1}),n.localUploader.on("uploads-start",r),n.localUploader.on("upload-error",a),i({onCancelUpload:function(e){n.browserRef.current&&n.browserRef.current.cancel(e),n.dropzoneRef.current&&n.dropzoneRef.current.cancel(e),n.localUploader.cancel(e)}}),n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedServiceName,n=e.isVisible,i=e.onClose,r=e.store,o=e.proxyReactContext,a=e.useForgePlugins,c=void 0!==a&&a,l=this.state.isDropzoneActive;return s.a.createElement(u.b,null,n&&s.a.createElement(d.a,{store:r},s.a.createElement(p.a,{onClose:i,width:"x-large",isChromeless:!0},s.a.createElement(qr,{store:r,proxyReactContext:o},s.a.createElement("div",{"data-testid":"media-picker-popup"},s.a.createElement(Yr,null,s.a.createElement(Jr,null,s.a.createElement(xe,{useForgePlugins:c})),s.a.createElement(Zr,null,this.renderCurrentView(t),s.a.createElement(ee,null)),s.a.createElement(hr,{isActive:l}),s.a.createElement(Hr,{localUploader:this.localUploader})),this.renderClipboard(),this.renderDropzone(),this.renderBrowser())))))},t.prototype.renderCurrentView=function(e){var t=this.props,n=t.plugins,i=void 0===n?[]:n,r=t.onFileClick,o=t.selectedItems;if("upload"===e){var a=this.props,c=a.userMediaClient,l=a.featureFlags;return s.a.createElement(Pt,{browserRef:this.browserRef,mediaClient:c,recentsCollection:f.c,featureFlags:l})}if("giphy"===e)return s.a.createElement(an,null);var d=i.find((function(t){return t.name===e}));if(d){var u={fileClick:function(e,t){var n={id:e.id,date:(new Date).getTime(),mimeType:"",name:"",size:0,metadata:e.metadata};r(n,t)}};return d.render(u,o)}return s.a.createElement(ar,null)},t}(a.Component),ro=Object(d.b)((function(e){var t=e.view,n=e.tenantMediaClient,i=e.userMediaClient,r=e.config,o=e.plugins,a=e.selectedItems;return{selectedServiceName:t.service.name,isVisible:t.isVisible,config:r,plugins:o,selectedItems:a,tenantMediaClient:n,userMediaClient:i}}),(function(e){return{onStartApp:function(t){return e(function(e){return{type:"START_APP",payload:e}}(t))},onUploadsStart:function(t){return e(function(e){return{type:"FILE_UPLOADS_START",files:e.files}}(t))},onClose:function(){e(P()),e(N())},onUploadError:function(t){return e(function(e){return{type:"FILE_UPLOAD_ERROR",fileId:e.fileId,error:e.error,originalEvent:{name:"upload-error",data:e}}}(t))},onDropzoneDragOut:function(t){return e(function(e){return{type:"DROPZONE_DRAG_OUT",fileCount:e}}(t))},onDropzoneDropIn:function(t){return e(function(e){return{type:"DROPZONE_DROP_IN",fileCount:e}}(t))},onFileClick:function(t,n){return e(T(t,n))}}}))(io);function oo(e){return"SHOW_POPUP"===e.type}function ao(e){return{type:"CANCEL_UPLOAD",payload:e}}var so=n("./node_modules/redux/es/index.js"),co=n("./node_modules/redux-devtools-extension/developmentOnly.js"),lo=n("./node_modules/postis/src/index.js"),uo=n.n(lo),po=n("./node_modules/uuid/v4.js"),fo=n.n(po),mo=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/url.js"),ho=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");function vo(e){return Object(ho.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}function go(e){return Object(ho.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}var bo=n("./node_modules/url/url.js"),yo=function(e){return e.json()},_o=function(){function e(){var e=this;this.fetchTrendingGifs=function(t){var n={api_key:"lBOxhhz1BM62Y3JsK0iQv1pRYyOGUjR8",rating:"pg",offset:t},i="https://api.giphy.com/v1/gifs/trending"+e.stringifyParams(n);return fetch(i).then(yo).then(e.mapGiphyResponseToViewModel)},this.fetchGifsRelevantToSearch=function(t,n){var i={api_key:"lBOxhhz1BM62Y3JsK0iQv1pRYyOGUjR8",rating:"pg",q:t,offset:n},r="https://api.giphy.com/v1/gifs/search"+e.stringifyParams(i);return fetch(r).then(yo).then(e.mapGiphyResponseToViewModel)},this.mapGiphyResponseToViewModel=function(e){var t=e.data,n=e.pagination;return{cardModels:t.map((function(e){var t=e.id,n=e.slug,i=e.images.fixed_width,r=i.size,o=i.url,a=i.width,s=i.height;return{metadata:{id:t,name:n.replace(new RegExp("-"+t),""),mediaType:"image",size:parseInt(r,10)},dataURI:o,dimensions:{width:parseInt(a,10),height:parseInt(s,10)}}})),totalResultCount:n.total_count}}}return e.prototype.fetchCloudAccountFolder=function(e,t,n,i,o){var a=this;return this.query(jo(e.baseUrl)+"/service/"+t+"/"+n+"/folder","GET",{folderId:i,limit:100,cursor:o},vo(e)).then(yo).then((function(e){var n=e.data;return"dropbox"===t?Object(r.__assign)(Object(r.__assign)({},n),{items:a.sortDropboxFiles(n.items)}):n}))},e.prototype.getServiceList=function(e){return this.query(jo(e.baseUrl)+"/accounts","GET",{},vo(e)).then(yo).then((function(e){return function(e){return e.reduce((function(e,t){return e.concat(t.accounts.map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{type:t.type})})))}),new Array)}(e.data)}))},e.prototype.unlinkCloudAccount=function(e,t){return this.query(jo(e.baseUrl)+"/account/"+t,"DELETE",{},vo(e)).then((function(){}))},e.prototype.stringifyParams=function(e){var t=Object.keys(e);return t.length?"?"+t.map((function(t){var n=e[t];return void 0!==n?t+"="+n:void 0})).filter((function(e){return!!e})).join("&"):""},e.prototype.query=function(e,t,n,i){var o=new Headers(Object(r.__assign)(Object(r.__assign)({},i),{"Content-Type":"application/json; charset=utf-8"})),a="GET"===t?this.stringifyParams(n):"",s="GET"!==t?JSON.stringify(n):void 0,c=new Request(""+e+a,{method:t,headers:o,body:s});return fetch(c)},e.prototype.isFolder=function(e){return"application/vnd.atlassian.mediapicker.folder"===e.mimeType},e.prototype.sortDropboxFiles=function(e){var t=this;return e.sort((function(e,n){var i=t.isFolder(e),r=t.isFolder(n);if(!i&&r)return 1;if(i&&!r)return-1;var o=e.name.toLowerCase(),a=n.name.toLowerCase();return o>a?1:o<a?-1:0}))},e}(),jo=function(e){return function(e){var t=bo.parse(e);return t.protocol+"//"+t.host}(e)+"/picker"};var wo=function(){function e(e){this.userAuthProvider=e}return e.prototype.startAuth=function(e,t){var n=window.open("","_blank");return this.userAuthProvider().then((function(i){return new Promise((function(o){var a=fo()(),s=go(i),c=Object(mo.d)(Object(r.__assign)(Object(r.__assign)({},s),{redirectUrl:e+"?channelId="+a}));n.location=jo(i.baseUrl)+"/service/"+t+"?"+c;var l=uo()({window:n,scope:a});l.ready((function(){l.listen("auth-callback-received",(function(){l.send({method:"auth-callback-done",params:{}}),l.destroy(),o()}))}))}))})).catch((function(e){throw n&&n.close(),e}))},e}(),xo=function(){return function(e,t,n){var i=this;this.onDataReceived=t,this.onConnectionLost=n,this.teardown=function(){window.clearTimeout(i.pingTimeoutId),i.ws.close()},this.send=function(e){var t=i.ws;if(t.readyState===t.OPEN)t.send(JSON.stringify(e));else if(t.readyState===t.CONNECTING){t.addEventListener("open",(function n(){t.removeEventListener("open",n),t.send(JSON.stringify(e))}))}},this.schedulePing=function(){var e=function(e,t){return Math.floor(Math.random()*(e-t+1))+t}(25e3,35e3);window.clearTimeout(i.pingTimeoutId),i.pingTimeoutId=window.setTimeout(i.ping,e)},this.ping=function(){if(i.isWebSocketClosed())return i.teardown(),void i.onConnectionLost();i.sendHeartBeat(),i.schedulePing()},this.isWebSocketClosed=function(){return i.ws.readyState===i.ws.CLOSED},this.sendHeartBeat=function(){i.ws.readyState===i.ws.OPEN&&i.ws.send("")},this.setHandler=function(){i.ws.onmessage=function(e){var t=JSON.parse(e.data);i.onDataReceived(t)}};var r=function(e){var t=bo.parse(e);return("http:"===t.protocol?"ws:":"wss:")+"//"+t.host+"/picker/ws/"}(e.baseUrl),o=go(e);this.ws=new WebSocket(r+"?"+Object(mo.d)(o)),this.setHandler(),this.schedulePing()}}(),Oo=function(){function e(e,t,n){var i=this;this.auth=e,this.onDataReceived=t,this.onConnectionLost=n,this.retriesRemaining=10,this.openWs=function(){try{window.clearTimeout(i.retryTimeoutId),i.ws=new xo(i.auth,i.wsDataReceived,i.onConnectionLost),i.resetIdleTimeout()}catch(e){--i.retriesRemaining,i.retriesRemaining>0?i.retryTimeoutId=window.setTimeout(i.openWs,1e3):(i.teardown(),i.onConnectionLost())}},this.wsDataReceived=function(e){i.resetIdleTimeout(),i.onDataReceived(e)},this.resetIdleTimeout=function(){window.clearTimeout(i.idleTimeoutId),i.idleTimeoutId=window.setTimeout(i.onIdle,18e4)},this.onIdle=function(){window.clearTimeout(i.idleTimeoutId),i.onConnectionLost()},this.openWs()}return e.prototype.teardown=function(){this.ws&&(this.ws.teardown(),this.ws=void 0),window.clearTimeout(this.retryTimeoutId),window.clearTimeout(this.idleTimeoutId),this.retriesRemaining=0},e.prototype.send=function(e){if(!this.ws)throw new Error("WebSocket connection has been closed");this.ws.send(e)},e}(),ko=function(){function e(e){var t=this;this.auth=e,this.activities=[],this.onActivityCompleted=function(e){var n=t.activities.indexOf(e);-1!==n&&t.activities.splice(n,1),0===t.activities.length&&t.wsConnection&&t.closeConnection()},this.onWebSocketDataReceived=function(e){t.activities.forEach((function(t){t.processWebSocketData(e)}))},this.onConnectionLost=function(){t.closeConnection()}}return e.prototype.openConnection=function(e){e.on("Completed",this.onActivityCompleted),this.activities.push(e),this.wsConnection||(this.wsConnection=new Oo(this.auth,this.onWebSocketDataReceived,this.onConnectionLost))},e.prototype.send=function(e){if(!this.wsConnection)throw new Error("WebSocket connection has been closed");this.wsConnection.send(e)},e.prototype.closeConnection=function(){var e=this;this.activities.forEach((function(t){t.off("Completed",e.onActivityCompleted),t.connectionLost()})),this.activities=[],this.wsConnection&&(this.wsConnection.teardown(),this.wsConnection=void 0)},e}(),Eo=function(){function e(){this.connectionHolders={}}return e.prototype.getWsConnectionHolder=function(t){var n=e.mapAuthToTag(t),i=this.connectionHolders[n];return i||this.createAndRemember(t,n)},e.prototype.createAndRemember=function(e,t){var n=new ko(e);return this.connectionHolders[t]=n,n},e.mapAuthToTag=function(e){return Object(ho.isClientBasedAuth)(e)?e.clientId+"-"+e.token:e.asapIssuer+"-"+e.token},e}();var Co=function(e,t){if(e&&e.length>0){var n=t.filter((function(t){return!e.some((function(e){return e.name===t.name}))}));return e.concat(n)}return t};var So,Io,To,Mo,Fo,No,Ao=function(e){return function(t,n){return e.reduce((function(e,t){return t(e,n)}),Object(r.__assign)({},t))}}([function(e,t){if(function(e){return"FILE_CLICK"===e.type}(t)){var n=t.file,i=e.selectedItems,o=e.config.singleSelect,a=void 0!==o&&o;return i.some((function(e){return e.id===n.id}))?Object(r.__assign)(Object(r.__assign)({},e),{selectedItems:i.filter((function(e){return e.id!==n.id}))}):a?Object(r.__assign)(Object(r.__assign)({},e),{selectedItems:[n]}):Object(r.__assign)(Object(r.__assign)({},e),{selectedItems:Object(r.__spread)(i,[n])})}return e},function(e,t){return"FILE_LIST_UPDATE"===t.type&&function(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)&&e.reduce((function(e,n,i){return e&&n.id===t[i].id}),!0)}(t.path,e.view.path)&&t.accountId===e.view.service.accountId&&e.view.currentCursor===t.currentCursor?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{items:t.items,isLoading:!1,currentCursor:t.currentCursor,nextCursor:t.nextCursor})}):e},function(e,t){if(O(t)){var n=Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!0,path:t.path,currentCursor:void 0,nextCursor:void 0});return Object(r.__assign)(Object(r.__assign)({},e),{view:n})}return e},function(e,t){return I(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!0,currentCursor:t.nextCursor,nextCursor:void 0})}):e},function(e,t){return"SERVICE_LIST_UPDATE"===t.type?Object(r.__assign)(Object(r.__assign)({},e),{accounts:t.accounts,view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!1,hasError:!1})}):e},function(e,t){if(j(t)){var n=t.accountId,i=t.serviceName,o="upload"!==i&&e.view.isLoading;return Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:o,service:{accountId:n,name:i},path:[],items:[]})})}return e},function(e,t){if("SERVICE_CONNECT"===t.type){var n=Object.assign({},e.view,{connect:{name:t.serviceName},path:!1});return Object.assign({},e,{view:n})}return e},function(e,t){if("ACCOUNT_CLOUD_UNLINK"===t.type){var n=e.accounts.then((function(e){return e.slice().filter((function(e){return e.id!==t.account.id}))}));return Object(r.__assign)(Object(r.__assign)({},e),{accounts:n})}return e},function(e,t){return R(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{service:{name:"upload",accountId:""},path:[],hasError:!1})}):e},function(e,t){if(function(e){return"GET_FILES_IN_RECENTS_FULLFILLED"===e.type}(t)){var n=t.items;return Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!1}),recents:{items:n}})}return e},function(e,t){return function(e){return"GET_FILES_IN_RECENTS_FAILED"===e.type}(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{hasError:!0,isLoading:!1})}):e},function(e,t){return e},function(e,t){if(function(e){return"GET_FORGE_PLUGINS_FULLFILLED"===e.type}(t)){var n=t.items;return Object(r.__assign)(Object(r.__assign)({},e),{plugins:Co(e.plugins,n)})}return e},function(e,t){return function(e){return"GET_FORGE_PLUGINS_FAILED"===e.type}(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{hasError:!0,isLoading:!1})}):e},function(e,t){if(function(e){return"UPDATE_POPUP_URLS"===e.type}(t)){var n=t.urls;return Object(r.__assign)(Object(r.__assign)({},e),n)}return e},function(e,t){if(function(e){return"FILE_UPLOADS_START"===e.type}(t)){var n=e.uploads,i=e.selectedItems,o=e.lastUploadIndex,a=t.files,s={},c=o;a.forEach((function(e){var t=e.id,n=e.name,i=e.type,r=e.size,o=e.occurrenceKey;s[t]={file:{metadata:{id:t,name:n,mimeType:i,size:r,occurrenceKey:o}},timeStarted:Date.now(),index:c++}}));var l=a.map((function(e){var t=e.id,n=e.name,i=e.type,r=e.size;return{date:0,id:t,occurrenceKey:e.occurrenceKey,mimeType:i,name:n,parentId:"",size:r,serviceName:"upload"}}));return Object(r.__assign)(Object(r.__assign)({},e),{uploads:Object(r.__assign)(Object(r.__assign)({},n),s),selectedItems:Object(r.__spread)(i,l),lastUploadIndex:c})}return e},function(e,t){if(!Mt(t))return e;var n=e.selectedItems.filter((function(e){return e.id!==t.id})),i=Object.keys(e.uploads).filter((function(n){return e.uploads[n].file.metadata.id!==t.id})).reduce((function(t,n){var i;return Object(r.__assign)(Object(r.__assign)({},t),((i={})[n]=e.uploads[n],i))}),{});return Object(r.__assign)(Object(r.__assign)({},e),{selectedItems:n,uploads:i})},function(e,t){return A(t)?Object(r.__assign)(Object(r.__assign)({},e),{selectedItems:[],uploads:{}}):e},function(e,t){return C(t)?Object(r.__assign)(Object(r.__assign)({},e),{editorData:void 0}):e},function(e,t){if(function(e){return"EDITOR_SHOW_ERROR"===e.type}(t)){var n=e.editorData,i=t.error;return Object(r.__assign)(Object(r.__assign)({},e),{editorData:Object(r.__assign)(Object(r.__assign)({},n),{error:i})})}return e},function(e,t){if(mt(t)){var n=e.editorData,i=t.imageUrl,o=t.originalFile||n&&n.originalFile;return Object(r.__assign)(Object(r.__assign)({},e),{editorData:{imageUrl:i,originalFile:o}})}return e},function(e,t){return"EDITOR_SHOW_LOADING"===t.type?Object(r.__assign)(Object(r.__assign)({},e),{editorData:{originalFile:t.originalFile}}):e},function(e,t){if(function(e){return"DESELECT_ITEM"===e.type}(t)){var n=e.selectedItems;if(n)return Object(r.__assign)(Object(r.__assign)({},e),{selectedItems:n.filter((function(e){return e.id!==t.id}))})}return e},function(e,t){var n=Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)({},e.view)}),i=!1;return n.view.isUploading=function(e,t){return void 0===e&&(e=!1),!!L(t)||!A(t)&&e}(e.view.isUploading,t),n.view.isUploading!==e.view.isUploading&&(i=!0),n.view.isCancelling=function(e,t){return void 0===e&&(e=!1),!!F(t)||!A(t)&&e}(e.view.isCancelling,t),n.view.isCancelling!==e.view.isCancelling&&(i=!0),i?n:e},function(e,t){if("REMOTE_UPLOAD_START"===t.type){var n=t.tenantFileId,i=Object(r.__assign)({},e.remoteUploads);return i[n]={timeStarted:Date.now()},Object(r.__assign)(Object(r.__assign)({},e),{remoteUploads:i})}return e},function(e,t){if(B(t)){var n=t.shouldAppendResults?e.giphy:{imageCardModels:[]};return Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!0,hasError:!1}),giphy:n})}return e},function(e,t){if(function(e){return"SEARCH_GIPHY_FULFILLED"===e.type}(t)){var n=e.giphy.imageCardModels,i=t.imageCardModels,o=t.shouldAppendResults,a=t.totalResultCount,s=o?Object(r.__spread)(n,i):i;return Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!1}),giphy:{imageCardModels:s,totalResultCount:a}})}return e},function(e,t){return function(e){return"SEARCH_GIPHY_FAILED"===e.type}(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!1,hasError:!0}),giphy:{imageCardModels:[],totalResultCount:void 0}}):e},function(e,t){return oo(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isVisible:!0})}):e},function(e,t){return F(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isVisible:!1})}):e},function(e,t){return function(e){return"GET_CONNECTED_REMOTE_ACCOUNTS_FAILED"===e.type}(t)?Object(r.__assign)(Object(r.__assign)({},e),{view:Object(r.__assign)(Object(r.__assign)({},e.view),{isLoading:!1,hasError:!0})}):e},function(e,t){return Gr(t)?Object(r.__assign)(Object(r.__assign)({},e),{onCancelUpload:t.payload.onCancelUpload}):e},function(e,t){return"SAVE_COLLECTION_ITEMS_SUBSCRIPTION"===t.type?Object(r.__assign)(Object(r.__assign)({},e),{collectionItemsSubscription:t.subscription}):e}]),Po={uploads:{},remoteUploads:{},recents:{items:[]},view:{isVisible:!1,service:{name:"upload",accountId:""},hasError:!1,isLoading:!0,path:[],items:[],isUploading:!1,isCancelling:!1},accounts:Promise.resolve([]),selectedItems:[],isUploading:!1,isCancelling:!1,lastUploadIndex:0,giphy:{imageCardModels:[],totalResultCount:void 0},onCancelUpload:function(){throw new Error("onCancelUpload has not been set yet.")}},Do=(l.canUseDOM&&window.VERSION,{redirectUrl:"https://api.media.atlassian.com/picker/static/link-account-handler.html"}),Lo=function(e){return function(t){return function(n){if(j(n)){var i=n.serviceName,r=n.accountId;(function(e){return"google"===e||"dropbox"===e})(i)&&""!==r&&e.dispatch(x(i,r,[]))}return t(n)}}},Uo=["google","dropbox"],Ro=function(e){return function(t){return function(n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return k(n)?(i=n.serviceName,o=e.getState().view.service.accountId,-1!==Uo.indexOf(i)&&e.dispatch(function(){return{type:"GET_CONNECTED_REMOTE_ACCOUNTS"}}()),[4,e.getState().accounts]):[3,2];case 1:a=r.sent().find((function(e){return e.type===n.serviceName})),s=o||(a?a.id:""),e.dispatch(w(i,s)),r.label=2;case 2:return[2,t(n)]}}))}))}}},zo=function(e){var t=e.getState(),n=t.userMediaClient,i=t.collectionItemsSubscription;i&&i.unsubscribe();var r=n.collection.getItems(f.c).subscribe({next:function(t){e.dispatch(function(e){return{type:"GET_FILES_IN_RECENTS_FULLFILLED",items:e}}(t))},error:function(){e.dispatch(function(){return{type:"GET_FILES_IN_RECENTS_FAILED"}}())}});e.dispatch(function(e){return{type:"SAVE_COLLECTION_ITEMS_SUBSCRIPTION",subscription:e}}(r))},Bo=[/^https:\/\/([^\.]*\.)*atl-paas\.net/,/^https:\/\/([^\.]*\.)*atlassian\.net/,/^https:\/\/([^\.]*\.)*jira-dev\.com/,/^https:\/\/([^\.]*\.)*jira\.com/,/^https:\/\/bitbucket\.org/],Ho=function(){function e(){var e=this;this.getProviders=function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch("providers",{type:"search"})];case 1:return[2,e.sent()]}}))}))},this.fetch=function(t,n){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,fetch(this.getApiEndpoint()+"/"+t,{method:"POST",credentials:"include",body:JSON.stringify(n),headers:{"content-type":"application/json"}})];case 1:return(e=r.sent()).ok?[3,3]:(i=Error.bind,[4,e.text()]);case 2:throw new(i.apply(Error,[void 0,r.sent()||e.statusText]));case 3:return[4,e.json()];case 4:if(function(e){return!!e.message}(o=r.sent()))throw new Error(o.message);return[2,o]}}))}))}}return e.prototype.getApiEndpoint=function(){var e,t;try{for(var n=Object(r.__values)(Bo),i=n.next();!i.done;i=n.next()){if(i.value.test(window.location.origin))return window.location.origin+"/gateway/api/object-resolver"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return"https://api-private.stg.atlassian.com/object-resolver"},e.prototype.invokeProvider=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=t.query,i=void 0===n?"":n,o=t.folderId,a={key:e,search:{query:i,context:o?{id:o}:void 0}},[4,this.fetch("invoke/search",a)];case 1:return[2,r.sent()]}}))}))},e}(),Go={meta:{visibility:"other",access:"not_found",auth:[]},data:void 0},Wo=v.default.div(So||(So=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: calc(100vh - 300px);\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: calc(100vh - 300px);\n"]))),Vo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderLoading=function(){return s.a.createElement(Wo,null,s.a.createElement(Ee.a,null))},t.renderSearchResults=function(){var e=t.props.items;return s.a.createElement("div",null,t.renderMasonaryLayout(e))},t.renderMasonaryLayout=function(e){if(0===e.length)return null;var n=t.props,i=n.pluginName,o=n.selectedItems,a=e.map((function(e,n){var a=e.dimensions,c=e.dataURI,l=e.name,d=e.id,u=o.some((function(e){return e.id===d&&e.serviceName===i})),p=Bt(Object(r.__assign)(Object(r.__assign)({},a),{gapSize:5,containerWidth:677,numberOfColumns:4})),f={dataURI:c,name:l,mediaItemType:"external-image"};return s.a.createElement(Ht,{key:n+"-metadata.id",width:p.width},s.a.createElement(Oe.a,{mediaClientConfig:{},identifier:f,dimensions:p,selectable:!0,selected:u,onClick:t.createClickHandler(e)}))}));return s.a.createElement(zt,{id:"mediapicker-bricks-layout",sizes:[{columns:4,gutter:5}]},a)},t.createClickHandler=function(e){return function(){(0,t.props.onFileClick)(e.id)}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return 0===this.props.items.length?this.renderLoading():this.renderSearchResults()},t}(a.Component),Ko=n("./node_modules/@atlaskit/outbound-auth-flow-client/dist/esm/index.js"),qo=v.default.img(Io||(Io=Object(r.__makeTemplateObject)(["\n  width: 120px;\n  height: 120px;\n"],["\n  width: 120px;\n  height: 120px;\n"]))),Yo=v.default.div(To||(To=Object(r.__makeTemplateObject)(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),Jo=v.default.div(Mo||(Mo=Object(r.__makeTemplateObject)(["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"],["\n  margin-top: 18px;\n  color: ",";\n  opacity: 0.7;\n  font-size: 12px;\n  text-align: center;\n"])),oe.N500),Zo=v.default.div(Fo||(Fo=Object(r.__makeTemplateObject)(["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"],["\n  text-align: center;\n  font-size: 16px;\n  color: ",";\n"])),oe.N100),Xo=v.default.div(No||(No=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  height: 300px;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  height: 300px;\n"]))),Qo=function(e){var t=e.iconUrl,n=e.auth,i=e.name,o=e.onAuthSucceeded,c=e.onAuthFailed,l=n[0].url,d=Object(a.useCallback)((function(){Object(Ko.a)(l).then(o).catch(c)}),[l,c,o]);return s.a.createElement(Xo,null,s.a.createElement(Zo,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.upload_file_from,{values:{name:i}}))),s.a.createElement(qo,{src:t}),s.a.createElement(Yo,null,s.a.createElement(g.a,{appearance:"primary",className:"connectBtn",onClick:d},s.a.createElement(m.a,Object(r.__assign)({},h.a.connect_to,{values:{name:i}})))),s.a.createElement(Jo,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.connect_account_description,{values:{name:i}}))))},$o=(ta||(ta=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"],["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"])),na||(na=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n"])),v.default.ul(ia||(ia=Object(r.__makeTemplateObject)(["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"],["\n  /* Take up all of the available space between header and footer */\n  flex: 1;\n\n  /* Ensure navigation header is pinned to top */\n  overflow: auto;\n\n  list-style: none;\n\n  /* Override default list styles */\n  margin-top: 0;\n  padding-left: 0;\n"])))),ea=v.default.li(ra||(ra=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n\n  width: 100%;\n  height: 48px;\n\n  margin-top: 0;\n  padding: 8px 28px 8px 28px;\n\n  cursor: pointer;\n\n  "," &:hover {\n    ",";\n  }\n"])),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: white;"}),(function(e){return e.isSelected?"background-color: "+oe.B200+";":"background-color: "+oe.N30+";"}));ea.displayName="FolderViewerRow";var ta,na,ia,ra,oa,aa,sa,ca,la,da,ua,pa=v.default.div(oa||(oa=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),fa=v.default.div(aa||(aa=Object(r.__makeTemplateObject)(["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"],["\n  /* vertically center icon */\n  display: flex;\n  align-items: center;\n\n  width: 32px;\n  height: 32px;\n"]))),ma=v.default.div(sa||(sa=Object(r.__makeTemplateObject)(["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"],["\n  padding-left: 17px;\n  vertical-align: middle;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ",";\n"])),(function(e){return e.isSelected?"color: white;":"color: "+oe.N900})),ha=v.default.div(ca||(ca=Object(r.__makeTemplateObject)(["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"],["\n  color: ",";\n  text-align: right;\n  padding: 0 10px 0 10px;\n"])),oe.N90),va=v.default.div(la||(la=Object(r.__makeTemplateObject)(["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"],["\n  color: ",";\n  min-width: 70px;\n  text-align: right;\n  padding: 0 0 0 10px;\n"])),oe.N90),ga=v.default.div(da||(da=Object(r.__makeTemplateObject)(["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"],["\n  color: "," !important;\n  right: 23px;\n  top: 12px;\n"])),oe.B400),ba=(ua||(ua=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"],["\n  display: flex;\n  justify-content: center;\n\n  margin-top: 10px;\n"])),function e(t){var n=t.image;if(n)return"string"==typeof n?n:"Image"===n["@type"]?e(n):"Link"===n["@type"]?n.href:void 0}),ya=function e(t){if(t)return"string"==typeof t?t:Array.isArray(t)?e(t[0]):t.href},_a=s.a.createElement(ga,null,s.a.createElement(pn.a,{label:"check"})),ja=function(e){var t=e.isSelected,n=e.file,i=e.icon,r=e.onClick,o=ya(n.url),a=n["schema:dateCreated"],c=n["atlassian:fileSize"]&&dn()(n["atlassian:fileSize"]);return s.a.createElement(ea,{isSelected:t,onClick:function(){o&&r(o)},key:o},s.a.createElement(pa,null,s.a.createElement(fa,null,i),s.a.createElement(ma,{isSelected:t},n.name)),t?_a:s.a.createElement(pa,null,s.a.createElement(ha,null,function(e){if(!e)return"";var t=(new Date).toDateString(),n=new Date(e),i=n.toDateString();return cn()(n,t===i?"H:MM TT":"d mmm yyyy")}(a)),s.a.createElement(va,null,c)))},wa=function(e){var t=e.folder,n=e.icon,i=e.onClick,r=ya(t.url);return s.a.createElement(ea,{onClick:function(){return r&&i(r)},key:r},s.a.createElement(pa,null,s.a.createElement(fa,null,n),s.a.createElement(ma,null,t.name)))},xa=function(e){var t=e.items.data,n=e.selectedItems,i=e.onFolderClick,o=e.onFileClick;if(!t||0===t.items.length)return null;var a=Object(r.__spread)(t.items);return s.a.createElement($o,null,a.map((function(e,t){var r=Vi(e["schema:fileFormat"]||""),a=ya(e.url),c=n.map((function(e){return e.id})),l=!!a&&c.indexOf(a)>-1,d=e["@id"]||t;return"Collection"===e["@type"]?s.a.createElement(wa,{key:d,folder:e,icon:Wi,onClick:i}):s.a.createElement(ja,{key:d,isSelected:l,file:e,icon:r,onClick:o})})))},Oa=function(e){var t=e.items,n=e.iconUrl,i=e.pluginName,r=e.onAuthSucceeded,o=e.onAuthFailed,a=e.onFileClick,c=e.onFolderClick,l=e.selectedItems;return t?function(e){return"unauthorized"===e.access&&"restricted"===e.visibility}(t.meta)?s.a.createElement(Qo,{auth:t.meta.auth||[],iconUrl:n,name:i,onAuthSucceeded:r,onAuthFailed:o}):s.a.createElement(xa,{selectedItems:l,items:t,onFolderClick:c,onFileClick:a}):s.a.createElement(Wo,null)},ka=function(e){var t=e.view,n=e.items,i=e.iconUrl,o=e.onUpdateItems,a=e.selectedItems,c=e.onFileClick,l=e.name,d={selectedItems:a,onFileClick:c,onFolderClick:c,pluginName:l};if("bricks"===t){if(!n.data)return null;var u=n.data.items.map((function(e){var t=ya(e.url)||"",n=e.image&&"string"!=typeof e.image&&"Link"===e.image["@type"]&&e.image.href||"";return{id:t,dimensions:{width:e.image&&"string"!=typeof e.image&&"Link"===e.image["@type"]&&e.image.width||0,height:e.image&&"string"!=typeof e.image&&"Link"===e.image["@type"]&&e.image.height||0},dataURI:n,name:l}}));return s.a.createElement(Vo,Object(r.__assign)({items:u},d))}return"folder"===t?s.a.createElement(Oa,Object(r.__assign)({items:n,iconUrl:i,onAuthSucceeded:o,onAuthFailed:function(e){return console.error(e)}},d)):null},Ea=Object(m.f)((function(e){var t=e.name,n=e.loading,i=e.error,r=e.totalImages,o=e.onQueryChange,a=e.query,c=e.intl.formatMessage,l=!n&&!i&&"number"==typeof r;return s.a.createElement(Qt,null,s.a.createElement("h3",null,t),!i&&l&&s.a.createElement(Ut.a,{placeholder:c(h.a.search),onChange:o,value:a,width:420}))})),Ca=function(){return s.a.createElement(Wo,null,s.a.createElement(Ee.a,{size:"medium"}))},Sa=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/warning.js"),Ia=n.n(Sa),Ta=function(e){var t=e.onRetry;return s.a.createElement(tn,null,s.a.createElement(nn,null,s.a.createElement(Ia.a,{label:"warning"}),s.a.createElement(rn,null,s.a.createElement(m.a,Object(r.__assign)({},h.a.something_went_wrong)))),s.a.createElement(g.a,{onClick:t},s.a.createElement(m.a,Object(r.__assign)({},h.a.retry))))},Ma=n("./node_modules/@atlaskit/atlassian-switcher/node_modules/@atlaskit/icon/glyph/image.js"),Fa=n.n(Ma),Na=function(e){return e.iconUrl?s.a.createElement($t,{src:e.iconUrl}):s.a.createElement(Fa.a,{label:"image-icon"})},Aa=function(e){var t=e.extensionOpts,n=t.name,i=t.id,o=t.view,c=t.iconUrl,l=e.actions,d=e.selectedItems,u=Object(a.useMemo)((function(){return new Ho}),[]),p=Object(r.__read)(Object(a.useState)(!0),2),f=p[0],m=p[1],h=Object(r.__read)(Object(a.useState)(""),2),v=h[0],g=h[1],b=Object(r.__read)(Object(a.useState)(),2),y=b[0],_=b[1],j=Object(r.__read)(Object(a.useState)(),2),w=j[0],x=j[1],O=Object(r.__read)(Object(a.useState)(Go),2),k=O[0],E=O[1],C=Object(a.useCallback)(Lt()((function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),x(void 0),m(!0),[4,u.invokeProvider(i,{query:e,folderId:t||v})];case 1:return n=r.sent(),E(n),[3,4];case 2:return o=r.sent(),x(o),[3,4];case 3:return m(!1),[7];case 4:return[2]}}))}))}),1e3),[n,v]),S=Object(a.useCallback)((function(e){_(e.currentTarget.value),C(y)}),[C,y]),I=Object(a.useCallback)((function(e){return function(){var t=k.data&&Object(r.__spread)(k.data.items).find((function(t){return t.url===e}));if(t)if("Collection"===t["@type"]){var i=t["@id"]||"";g(i),C(y,i)}else{var o=function(e,t){return"Image"===t["@type"]?{id:e,metadata:{type:"image",src:ba(t),srcFull:ba(t)}}:{id:e,metadata:{type:"link",src:ya(t.url)}}}(e,t);l.fileClick(o,n)}}}),[k.data,C,y,l,n]),T=Object(a.useCallback)((function(e){return I(e)()}),[I]);return Object(a.useEffect)((function(){C(y)}),[C,y,i]),s.a.createElement(Xt,null,s.a.createElement(Ea,{name:n,loading:f,error:w,totalImages:k.data&&k.data.items&&Object(r.__spread)(k.data.items).length,onQueryChange:S,query:y}),f?s.a.createElement(Ca,null):w?s.a.createElement(Ta,{error:w,onRetry:C}):s.a.createElement(en,null,s.a.createElement(ka,{view:o,items:k,iconUrl:c,selectedItems:d,onUpdateItems:C,onFileClick:T,onFolderClick:T,name:n})))},Pa=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,i,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=new Ho,n=e.dispatch,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.getProviders()];case 2:return i=r.sent().providers,o=i.filter((function(e){return!!e.metadata.supportedViews.length})),a=o.map(Da).sort((function(e,t){return e.name.localeCompare(t.name)})),n(function(e){return{type:"GET_FORGE_PLUGINS_FULLFILLED",items:e}}(a)),[3,4];case 3:return r.sent(),n(function(){return{type:"GET_FORGE_PLUGINS_FAILED"}}()),[3,4];case 4:return[2]}}))}))},Da=function(e){return{name:e.metadata.name,icon:s.a.createElement(Na,{iconUrl:e.metadata.avatarUrl}),render:function(t,n){return s.a.createElement(Aa,{key:e.key,actions:t,selectedItems:n,extensionOpts:{id:e.key,name:e.metadata.name,view:e.metadata.supportedViews[0],iconUrl:e.metadata.avatarUrl}})}}},La=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/media.js"),Ua=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),Ra=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),za=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),Ba=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js");function Ha(e,t,n,i){return{type:"FINALIZE_UPLOAD",file:e,replaceFileId:t,source:n,overrides:i}}var Ga=n("./node_modules/eventemitter2/lib/eventemitter2.js"),Wa=function(){function e(e,t,n){this.tenantFileId=e,this.serviceName=t,this.dispatchEvent=n,this.eventEmitter=new Ga.EventEmitter2}return e.prototype.processWebSocketData=function(e){if(this.shouldProcessWsData(e)){var t={tenantFileId:e.uploadId,serviceName:this.serviceName};!function(e){return e&&"RemoteUploadStart"===e.type}(e)?!function(e){return"RemoteUploadProgress"===e.type}(e)?!function(e){return"RemoteUploadEnd"===e.type}(e)?!function(e){return function(e){return"Error"===e.type}(e)&&"RemoteUploadFail"===e.error}(e)?function(e){return"NotifyMetadata"===e.type}(e)&&this.dispatchEvent("NotifyMetadata",Object(r.__assign)({metadata:e.metadata},t)):(this.dispatchEvent("RemoteUploadFail",Object(r.__assign)({description:e.reason},t)),this.notifyActivityCompleted()):(this.dispatchEvent("RemoteUploadEnd",Object(r.__assign)({userFileId:e.fileId},t)),this.notifyActivityCompleted()):this.dispatchEvent("RemoteUploadProgress",Object(r.__assign)({bytes:e.currentAmount,fileSize:e.totalAmount},t)):(this.dispatchEvent("RemoteUploadStart",Object(r.__assign)({},t)),this.notifyActivityStarted())}},e.prototype.connectionLost=function(){this.tenantFileId&&this.dispatchEvent("RemoteUploadFail",{tenantFileId:this.tenantFileId,description:"Websocket connection lost",serviceName:this.serviceName})},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.shouldProcessWsData=function(e){return!!e.uploadId&&!!this.tenantFileId&&e.uploadId===this.tenantFileId},e.prototype.notifyActivityStarted=function(){this.eventEmitter.emit("Started",this)},e.prototype.notifyActivityCompleted=function(){this.eventEmitter.emit("Completed",this)},e}();function Va(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{id:t})}function Ka(e){return{type:"SEND_UPLOAD_EVENT",payload:e}}var qa=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/domain/preview.js"),Ya=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js");function Ja(e,t){return function(n){return function(i){return function(o){return L(o)&&function(e,t,n){Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,c,l,d,u,p,f=this;return Object(r.__generator)(this,(function(m){switch(m.label){case 0:return i=t.getState(),o=i.uploads,a=i.selectedItems,s=i.userMediaClient,c=i.config,l=c.uploadParams&&c.uploadParams.collection,t.dispatch(N()),d=a.filter((function(e){return!$a(e)})),[4,s.config.authProvider()];case 1:return u=m.sent(),p=a.filter($a).map((function(e){return function(e,t,n){var i=e.id,r=e.name,o=e.mimeType,a=e.size,s=e.date,c=e.serviceName,l=e.accountId,d=e.occurrenceKey,u=void 0===d?fo()():d;return{file:{id:i,name:r,size:a,creationDate:s||Date.now(),type:o,occurrenceKey:u},serviceName:c,accountId:l,touchFileDescriptor:{fileId:t,occurrenceKey:u,collection:n}}}(e,fo()(),l)})),e.emitPluginItemsInserted(d),[4,Promise.all(p.map((function(e){return Object(r.__awaiter)(f,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,Xa(t,e)];case 1:return n=o.sent(),i=e.file.id,function(e,t){var n=Object(Ba.a)(),i=Object(Ra.b)().get(t);Object(Ra.b)().set(e.id,n),n.next(e),i&&i.subscribe({next:function(t){if(!Object(Ua.e)(t)){var i=Object(Ua.a)(e)?{}:{mediaType:e.mediaType,preview:e.preview};n.next(Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},t),i),{id:e.id}))}}})}(n,i),[2]}}))}))})))];case 2:return m.sent(),e.emitUploadsStart(p.map((function(e){return Va(e.file,e.touchFileDescriptor.fileId)}))),p.forEach((function(i){return Object(r.__awaiter)(f,void 0,void 0,(function(){var a,s,c,l,d,p;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:a=i.file,s=i.serviceName,c=a.id,r.label=1;case 1:return r.trys.push([1,8,,9]),"upload"!==s?[3,3]:(l=o[c],[4,ns(i,t,l)]);case 2:return r.sent(),[3,7];case 3:return"recent_files"!==s?[3,5]:[4,is(i,t)];case 4:return r.sent(),[3,7];case 5:return function(e){return-1!==["dropbox","google","giphy"].indexOf(e)}(s)?(d=n.getWsConnectionHolder(u),[4,rs(i,t,d)]):[3,7];case 6:r.sent(),r.label=7;case 7:return[3,9];case 8:return p=r.sent(),e.emitUploadError(i.touchFileDescriptor.fileId,p),[3,9];case 9:return[2]}}))}))})),t.dispatch(P()),[2]}}))}))}(e,n,t),i(o)}}}}var Za=function(e,t,n,i,o){if("giphy"===t){var a=e.getState().giphy.imageCardModels.find((function(e){return e.metadata.id===i}));if(a)return Promise.resolve({value:a.dataURI,origin:"remote"})}else if(("upload"===t||"recent_files"===t)&&Object(La.b)(n)&&o&&!Object(Ua.a)(o)){if(Object(Ua.d)(o))return o.preview;if(Object(Ua.c)(o))return function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.getState().userMediaClient.getImage(t,{collection:f.c,mode:"fit"},void 0,!0)];case 1:return[2,{value:n.sent(),origin:"remote"}]}}))}))}(e,i)}},Xa=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i,o,a,s,c,l,d,u,p,f,m;return Object(r.__generator)(this,(function(h){switch(h.label){case 0:return n=t.file,i=t.serviceName,o=t.touchFileDescriptor,a=o.fileId,s=o.occurrenceKey,c=n.id,l=Object(ke.a)(n.type),(d=Object(Ra.b)().get(c))?[4,Object(za.a)(d)]:[3,2];case 1:return u=h.sent(),p=Za(e,i,l,c,u),Object(Ua.a)(u)?[2,Object(r.__assign)(Object(r.__assign)({},u),{id:a})]:(f=Object(r.__assign)({},u),Object(Ua.g)(f)||delete f.artifacts,[2,Object(r.__assign)(Object(r.__assign)({},f),{id:a,mediaType:l,preview:p})]);case 2:return m=Za(e,i,l,c),[2,{id:a,occurrenceKey:s,status:"processing",mediaType:l,mimeType:n.type,name:n.name,size:n.size,preview:m,representations:{}}]}}))}))},Qa=function(e,t){var n=t.getState(),i=n.tenantMediaClient,r=n.config,o=r.uploadParams&&r.uploadParams.collection;return i.file.touchFiles([e],o)},$a=function(e){var t=e.serviceName;return["recent_files","google","dropbox","upload","giphy"].indexOf(t)>-1};var es=function(e){return{id:e.id,creationDate:-1,name:e.name,size:e.size,type:e.mimeType,occurrenceKey:e.occurrenceKey}},ts=function(e,t,n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l;return Object(r.__generator)(this,(function(d){switch(d.label){case 0:return i=e.touchFileDescriptor.fileId,o=t.getState().tenantMediaClient,a=function(e){var n=e.id,r=e.message,o={name:"upload-error",data:{error:{fileId:n,description:void 0===r?"":r,name:"upload_fail"},fileId:n}};t.dispatch(Ka({event:o,fileId:i}))},s=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,a,s,c,l,d;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=e.mediaType,o=es(e),r.label=1;case 1:return r.trys.push([1,8,,9]),Object(Ua.d)(e)?[4,e.preview]:[3,3];case 2:return s=r.sent().value,[3,4];case 3:s=void 0,r.label=4;case 4:return(a=s)instanceof Blob?[4,Object(Ya.a)(a,n)]:[3,6];case 5:return c=r.sent(),[3,7];case 6:c={},r.label=7;case 7:return l={name:"upload-preview-update",data:{file:o,preview:c}},t.dispatch(Ka({event:l,fileId:i})),[3,9];case 8:return r.sent(),d={name:"upload-preview-update",data:{file:o,preview:{}}},t.dispatch(Ka({event:d,fileId:i})),[3,9];case 9:return[2]}}))}))},c=function(e){var r=es(e),o={id:n.file.metadata.id,collection:f.c},a=Object(Ua.d)(e)?e.preview:void 0;t.dispatch(Ha(r,i,o,{preview:a}))},[4,o.file.getCurrentState(i)];case 1:return l=d.sent(),Object(Ua.a)(l)?[3,3]:[4,s(l)];case 2:d.sent(),d.label=3;case 3:return o.file.getFileState(i).subscribe({next:function(e){Object(Ua.a)(e)?(a(e),this.unsubscribe()):Object(Ua.g)(e)||(c(e),this.unsubscribe())}}),[2]}}))}))},ns=function(e,t,n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=e.touchFileDescriptor,[4,Qa(i,t)];case 1:return r.sent(),[4,ts(e,t,n)];case 2:return r.sent(),[2]}}))}))},is=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=e.file,i=e.touchFileDescriptor,o=i.fileId,a={id:n.id,collection:f.c},t.dispatch(function(e,t,n){return{type:"GET_PREVIEW",fileId:e,file:t,collection:n}}(o,n,f.c)),[4,Qa(i,t)];case 1:return r.sent(),t.dispatch(Ha(n,o,a)),[2]}}))}))},rs=function(e,t,n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l;return Object(r.__generator)(this,(function(d){switch(d.label){case 0:return i=e.touchFileDescriptor,o=e.serviceName,a=e.accountId,s=e.file,c=i.fileId,(l=new Wa(c,o,(function(e,n){if("NotifyMetadata"===e){var i=Object(qa.a)(n.metadata);t.dispatch(Ka({event:{name:"upload-preview-update",data:{file:s,preview:i}},fileId:c}))}else{var o=n.tenantFileId,a=Object(r.__assign)(Object(r.__assign)({},s),{id:o,creationDate:Date.now()});t.dispatch(function(e,t,n){return{type:"HANDLE_CLOUD_FETCHING_EVENT",file:e,event:t,payload:n}}(a,e,n))}}))).on("Started",(function(){t.dispatch(function(e){return{type:"REMOTE_UPLOAD_START",tenantFileId:e}}(c))})),n.openConnection(l),n.send({type:"fetchFile",params:{serviceName:o,accountId:a,fileId:s.id,fileName:s.name,collection:f.c,jobId:c}}),[4,Qa(i,t)];case 1:return d.sent(),[2]}}))}))},os=function(e,t){var n=t.getState().editorData;if(!n)return!1;var i=n.originalFile,r=n.imageUrl;return!!i&&(i.id===e&&!r)},as=function(){return function(e){return function(t){return function(n){return"EDIT_REMOTE_IMAGE"===n.type&&function(e,t){var n=t.item,i=t.collectionName,r=e.getState().userMediaClient;e.dispatch(function(e){return{type:"EDITOR_SHOW_LOADING",originalFile:e}}(n)),r.getImageUrl(n.id,{mode:"full-fit",collection:i}).then((function(t){os(n.id,e)&&e.dispatch(ht(t))})).catch((function(){if(os(n.id,e)){e.dispatch(S("Oops! We couldn't retrieve the image",(function(){e.dispatch(t)})))}}))}(e,n),t(n)}}}};var ss=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),cs=function(){return function(e){return function(t){return function(n){return function(e){return"FINALIZE_UPLOAD"===e.type}(n)&&function(e,t){var n=t.file,i=t.replaceFileId,o=t.source,a=t.overrides;(function(e){var t=e.store,n=e.file,i=e.replaceFileId,o=e.source,a=e.overrides;Object(r.__awaiter)(this,void 0,void 0,(function(){var e,s,c,l,d,u,p,f,m,h,v,g,b,y,_,j;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:e=t.getState(),s=e.tenantMediaClient,c=e.userMediaClient.config.authProvider,l=e.config,d=o.id,u=o.collection,f=(p=a||{}).preview,m=p.mimeType,h=l.uploadParams&&l.uploadParams.collection,r.label=1;case 1:return r.trys.push([1,4,5,6]),v={id:d,collection:u,authProvider:c},g={collection:h,replaceFileId:i,occurrenceKey:n.occurrenceKey,authProvider:s.config.authProvider},b={preview:f,mimeType:m},[4,s.file.copyFile(v,g,b)];case 2:return y=r.sent(),[4,s.file.getCurrentState(y.id)];case 3:return _=r.sent(),s.emit("file-added",_),ss.a.emit("file-added",_),["processing","processed","failed-processing"].includes(_.status)?t.dispatch(Ka({event:{name:"upload-end",data:{file:n}},fileId:i})):"error"===_.status&&t.dispatch(Ka({event:{name:"upload-error",data:{fileId:i,error:{name:"object_create_fail",description:"There was an error while uploading a file"}}},fileId:i})),[3,6];case 4:return j=r.sent(),t.dispatch(Ka({event:{name:"upload-error",data:{fileId:i,error:{name:"object_create_fail",description:j.message}}},fileId:i})),[3,6];case 5:return t.dispatch(P()),[7];case 6:return[2]}}))}))})({store:e,file:n,replaceFileId:i,source:o,overrides:a})}(e,n),t(n)}}}};var ls=function(){return function(e){return function(t){return function(n){return function(e){return"GET_PREVIEW"===e.type}(n)&&function(e,t){var n=t.file,i=t.collection,o=e.getState().userMediaClient;o.file.getFileState(n.id,{collectionName:i}).subscribe({next:function(a){return Object(r.__awaiter)(this,void 0,void 0,(function(){var s,c,l,d,u,p;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return Object(Ua.a)(a)?(this.unsubscribe(),[2]):(s=a.mimeType,c=s?Object(ke.a)(s):"unknown",this.unsubscribe(),Object(La.b)(c)&&Object(Ua.c)(a)?[4,o.getImageMetadata(n.id,{collection:i})]:[3,2]);case 1:return l=r.sent(),p=Object(qa.a)(l),ds(e,t,p),[3,5];case 2:return(u=a.preview)?[4,a.preview]:[3,4];case 3:u=r.sent(),r.label=4;case 4:d=(u||{}).value,p={file:d instanceof Blob?d:void 0},ds(e,t,p),r.label=5;case 5:return[2]}}))}))}})}(e,n),t(n)}}}},ds=function(e,t,n){var i=t.fileId,r=t.file;e.dispatch(Ka({event:{name:"upload-preview-update",data:{file:r,preview:n}},fileId:i}))};var us=function(e){return function(t){return function(n){return function(e){return"HANDLE_CLOUD_FETCHING_EVENT"===e.type}(n)&&(function(e){return"RemoteUploadProgress"===e.event}(n)?(n.file,n.payload):function(e){return"RemoteUploadEnd"===e.event}(n)?function(t,n){Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l,d,u,p;return Object(r.__generator)(this,(function(m){switch(m.label){case 0:return i=n.tenantFileId,o=n.userFileId,a={id:o,collection:f.c},s=Object(r.__assign)(Object(r.__assign)({},t),{id:o}),(c=Object(Ra.b)().get(i))?[4,Object(za.a)(c)]:[3,2];case 1:return d=m.sent(),[3,3];case 2:d=void 0,m.label=3;case 3:return u=(l=d)&&Object(Ua.d)(l)?l.preview:void 0,p=l&&!Object(Ua.a)(l)?l.mimeType:void 0,e.dispatch(Ha(s,i,a,{preview:u,mimeType:p})),[2]}}))}))}(n.file,n.payload):function(e){return"RemoteUploadFail"===e.event}(n)&&function(t,n){e.dispatch(Ka({event:{name:"upload-error",data:{fileId:n.tenantFileId,error:{fileId:n.tenantFileId,name:"remote_upload_fail",description:n.description}}},fileId:n.tenantFileId}))}(n.file,n.payload)),t(n)}}},ps=function(e,t,n){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var i,o,a,s,c,l,d;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:i=n.query,o=n.offset,a=n.shouldAppendResults,r.label=1;case 1:return r.trys.push([1,6,,7]),i.length>0?[4,e.fetchGifsRelevantToSearch(i,o)]:[3,3];case 2:return d=r.sent(),[3,5];case 3:return[4,e.fetchTrendingGifs(o)];case 4:d=r.sent(),r.label=5;case 5:return c=(s=d).cardModels,l=s.totalResultCount,t.dispatch(function(e,t,n){return{type:"SEARCH_GIPHY_FULFILLED",imageCardModels:e,totalResultCount:t,shouldAppendResults:n}}(c,l,a)),[3,7];case 6:return r.sent(),t.dispatch(function(){return{type:"SEARCH_GIPHY_FAILED"}}()),[3,7];case 7:return[2]}}))}))},fs=function(e){return function(){return function(t){return function(n){if(function(e){return"SEND_UPLOAD_EVENT"===e.type}(n)){var i=n.payload,r=i.event,o=i.fileId;switch(r.name){case"upload-preview-update":var a=r.data.preview,s=Va(r.data.file,o);e.emitUploadPreviewUpdate(s,a);break;case"upload-end":s=Va(r.data.file,o);e.emitUploadEnd(s);break;case"upload-error":var c=r.data.error;e.emitUploadError(o,c),function(e,t){var n=e+": "+(t||"")+" \n "+(Error().stack||"");console.error(n)}(c.name,c.description)}}return t(n)}}}},ms=n("./node_modules/@atlaskit/analytics-gas-types/node_modules/@atlaskit/analytics-next/dist/esm/UIAnalyticsEvent.js"),hs=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json"),vs=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),gs={actionSubject:"mediaUpload",actionSubjectId:"cloudMedia"},bs=function(e){return{fileId:e.id,fileSize:e.size,fileMimetype:e.type,fileSource:"mediapicker"}},ys=function(e){if("number"!=typeof e)return"N/A";if(e<=0)return"Invalid";var t=(new Date).getTime()-e,n=[{timeLimitInMiliseconds:36e5,label:"< 1 hour"},{timeLimitInMiliseconds:864e5,label:"1 hour - 1 day"},{timeLimitInMiliseconds:6048e5,label:"1 day - 1 week"},{timeLimitInMiliseconds:2629746e3,label:"1 week - 1 month"},{timeLimitInMiliseconds:15778476e3,label:"1 month - 6 months"},{timeLimitInMiliseconds:31536e6,label:"6 months - 1 year"}].find((function(e){var n=e.timeLimitInMiliseconds;return t<n}));return n?n.label:"> 1 year"},_s={action:"clicked",actionSubject:"button",eventType:vs.e},js=[function(e,t){if(function(e){return"HANDLE_CLOUD_FETCHING_EVENT"===e.type}(e)){var n=e.event,i=e.payload,o=e.file,a=(t.getState().remoteUploads[i.tenantFileId]||{timeStarted:void 0}).timeStarted,s=void 0!==a?Date.now()-a:-1,c={sourceType:"cloud",serviceName:i.serviceName};return"RemoteUploadStart"===n?[Object(r.__assign)(Object(r.__assign)({action:"commenced"},gs),{attributes:Object(r.__assign)({fileAttributes:bs(o)},c),eventType:vs.b})]:"RemoteUploadEnd"===n?[Object(r.__assign)(Object(r.__assign)({action:"uploaded"},gs),{attributes:Object(r.__assign)(Object(r.__assign)({fileAttributes:bs(o)},c),{status:"success",uploadDurationMsec:s}),eventType:vs.d})]:"RemoteUploadFail"===n?[Object(r.__assign)(Object(r.__assign)({action:"uploaded"},gs),{attributes:Object(r.__assign)(Object(r.__assign)({fileAttributes:bs(o)},c),{status:"fail",uploadDurationMsec:s,failReason:i.description}),eventType:vs.d})]:[]}},function(e){if(C(e))return[Object(r.__assign)(Object(r.__assign)({},_s),{actionSubjectId:"mediaEditor"+e.selection+"Button"})]},function(e){if(function(e){return"EDIT_REMOTE_IMAGE"===e.type}(e)){var t=e.collectionName,n=e.item,i=(void 0===n?{}:n).id,o=void 0===i?void 0:i;return[Object(r.__assign)(Object(r.__assign)({},_s),{actionSubjectId:"annotateFileButton",attributes:{collectionName:t,fileId:o}})]}},function(e){if(k(e))return"upload"===e.serviceName?[Object(r.__assign)(Object(r.__assign)({},_s),{actionSubjectId:"uploadButton"}),{name:"recentFilesBrowserModal",eventType:vs.c}]:[Object(r.__assign)(Object(r.__assign)({},_s),{actionSubjectId:"cloudBrowserButton",attributes:{cloudType:e.serviceName}})]},function(e,t){if(F(e)){var n=t.getState().selectedItems,i=void 0===n?[]:n,o=i.length>0?"insertFilesButton":"cancelButton",a="insertFilesButton"===o?i.map((function(e){return Object(r.__assign)({fileId:e.id,fileMimetype:e.mimeType,fileSize:e.size,accountId:e.accountId,serviceName:e.serviceName},"recent_files"===e.serviceName?{fileAge:ys(e.createdAt)}:{})})):[],s=i.length>0?{serviceNames:i.map((function(e){return e.serviceName}))}:{};return[Object(r.__assign)(Object(r.__assign)({},_s),{actionSubjectId:o,attributes:Object(r.__assign)(Object(r.__assign)({fileCount:i.length},s),"insertFilesButton"===o?{files:a}:{})})]}},function(e){if(function(e){return"AUTH_START"===e.type}(e))return[Object(r.__assign)(Object(r.__assign)({},_s),{actionSubjectId:"linkCloudAccountButton",attributes:{cloudType:e.serviceName}})]},function(e){if(function(e){return"START_FILE_BROWSER"===e.type}(e))return[{name:"localFileBrowserModal",eventType:vs.c},Object(r.__assign)(Object(r.__assign)({},_s),{actionSubjectId:"localFileBrowserButton"})]},function(e){if(function(e){return"FILE_LIST_UPDATE"===e.type}(e))return[{name:"cloudBrowserModal",eventType:vs.c,attributes:{cloudType:e.serviceName}}]},function(e){if(B(e))return[{name:"cloudBrowserModal",eventType:vs.c,attributes:{cloudType:"giphy"}}]},function(e){if(mt(e)){var t=e.imageUrl,n=void 0===t?void 0:t,i=e.originalFile,r=void 0===i?void 0:i;return[{name:"fileEditorModal",eventType:vs.c,attributes:{imageUrl:n,originalFile:r}}]}},function(e){if(oo(e))return[{name:"mediaPickerModal",eventType:vs.c},{name:"recentFilesBrowserModal",eventType:vs.c}]},function(e){if(function(e){return"FAILURE_ERROR"===e.type}(e)){var t=e.error,n=e.info,i=void 0===n?void 0:n;return[{name:"UnhandledError",action:"UnhandledError",eventType:vs.b,attributes:{browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",error:t,info:i}}]}}],ws=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/components/media-picker-analytics-error-boundary.js"),xs=function(e,t){var n=function(){return window&&window.sessionStorage&&window.sessionStorage.getItem("media-api-region")}();new ms.a({context:[{}],handlers:t,payload:Object(r.__assign)(Object(r.__assign)({},e),{attributes:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e.attributes),{componentName:"mediaPicker",packageName:hs.a,componentVersion:hs.b}),n?{mediaRegion:n}:void 0)})}).fire(ws.ANALYTICS_MEDIA_CHANNEL)},Os=function(e){return function(t){return function(n){var i,o,a=e.getState().config.proxyReactContext;if(a&&a.getAtlaskitAnalyticsEventHandlers){var s=a.getAtlaskitAnalyticsEventHandlers();try{for(var c=Object(r.__values)(js),l=c.next();!l.done;l=c.next()){((0,l.value)(n,e)||[]).forEach((function(e){return xs(e,s)}))}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}return t(n)}}},ks=function(e){return function(t){return function(n){return Mt(n)&&e.getState().userMediaClient.collection.removeFile(n.userFileId||n.id,f.c,n.occurrenceKey),t(n)}}},Es=function(e,t,n,i){var o=n.config.authProvider,a=Do.redirectUrl,s=new _o,c=new Eo,l=new wo(o),d=Object(r.__assign)(Object(r.__assign)({},Po),{redirectUrl:a,plugins:i.plugins,tenantMediaClient:t,userMediaClient:n,config:i});return Object(so.createStore)(Ao,d,Object(co.composeWithDevTools)(Object(so.applyMiddleware)(Os,function(){return function(e){return function(t){return function(n){if(Gr(n)){var i=e.getState().redirectUrl;e.dispatch(function(e){return{type:"UPDATE_POPUP_URLS",urls:e}}({redirectUrl:i}))}return t(n)}}}}(),function(){return function(e){return function(t){return function(n){return R(n)&&zo(e),t(n)}}}}(),function(){return function(e){return function(t){return function(n){return function(e){return"GET_FORGE_PLUGINS"===e.type}(n)&&Pa(e),t(n)}}}}(),Ro,Lo,function(e){return function(t){return function(n){return function(i){if(O(i)){var r=t.getState().userMediaClient,o=i.serviceName,a=i.accountId,s=i.path,c=0===s.length?{id:"",name:""}:s[s.length-1];r.config.authProvider().then((function(t){return e.fetchCloudAccountFolder(t,o,a,c.id)})).then((function(e){return t.dispatch(M(a,s,e.items,o,void 0,e.cursor))})).catch((function(e){e.response&&401===e.response.status&&t.dispatch(U({id:a,name:o}))}))}return n(i)}}}}(s),function(e){return function(t){return function(n){return function(i){if(I(i)){var r=t.getState().userMediaClient,o=i.serviceName,a=i.accountId,s=i.path,c=(s[s.length-1]||{id:""}).id,l=t.getState().view,d=l&&l.nextCursor,u=l&&l.items||[];r.config.authProvider().then((function(t){return e.fetchCloudAccountFolder(t,o,a,c,d)})).then((function(e){return t.dispatch(M(a,s,u.concat(e.items),o,d,e.cursor))})).catch((function(e){e.response&&401===e.response.status&&t.dispatch(U({id:a,name:o}))}))}return n(i)}}}}(s),function(e,t){return function(n){return function(i){return function(r){if("AUTH_START"===r.type){var o=n.getState(),a=o.redirectUrl,s=o.userMediaClient,c=r.serviceName,l=t.startAuth(a,c).then((function(){return s.config.authProvider()})).then((function(t){return e.getServiceList(t)}));n.dispatch(z(l)),l.then((function(e){var t=e.find((function(e){return e.type===c}));t&&n.dispatch(w(c,t.id))}))}return i(r)}}}}(s,l),function(e){return function(t){return function(n){return function(i){"ACCOUNT_UNLINK_CLOUD_REQUEST"===i.type&&t.getState().userMediaClient.config.authProvider().then((function(t){return e.unlinkCloudAccount(t,i.account.id)})).then((function(){t.dispatch(function(e){return{type:"ACCOUNT_CLOUD_UNLINK",account:e}}(i.account)),t.dispatch(E(i.account.name))}));return n(i)}}}}(s),function(e){return function(t){return function(n){return function(i){if(function(e){return"GET_CONNECTED_REMOTE_ACCOUNTS"===e.type}(i)){var r=t.getState().userMediaClient.config.authProvider().then((function(t){return e.getServiceList(t)})).catch((function(){return t.dispatch(function(){return{type:"GET_CONNECTED_REMOTE_ACCOUNTS_FAILED"}}()),[]}));t.dispatch(z(r))}return n(i)}}}}(s),Ja(e,c),as(),ls(),cs(),us,function(e){return function(t){return function(n){return function(i){if(B(i)){var r=i.query,o=i.shouldAppendResults,a=t.getState().giphy.imageCardModels,s=o?a.length+1:void 0;ps(e,t,{query:r,offset:s,shouldAppendResults:o})}return n(i)}}}}(s),function(e){return function(t){return function(t){return function(n){return F(n)&&e.emitClosed(),t(n)}}}}(e),fs(e),ks)))},Cs={collection:""},Ss=n("./node_modules/jwt-decode/lib/index.js"),Is=n.n(Ss),Ts=function(e){return{clientId:e.data.clientId,token:e.data.token,baseUrl:e.data.baseUrl}},Ms=function(e){return Object(ho.isClientBasedAuth)(e)?e.clientId:Is()(e.token).clientId},Fs=function(e){function t(t,n){var i=n.container,a=void 0===i?l.canUseDOM?document.body:void 0:i,s=n.uploadParams,c=n.proxyReactContext,d=n.singleSelect,u=n.plugins,p=n.useForgePlugins,f=void 0!==p&&p,m=n.featureFlags,h=e.call(this)||this;h.tenantMediaClient=t,h.proxyReactContext=c,h.useForgePlugins=f,h.featureFlags=m;var v=function(e,t){var n;return function(i){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var o,a,s,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(o=t.userAuthProvider)return[2,o(i)];r.label=1;case 1:return r.trys.push([1,5,,6]),n&&!e.isTokenExpired(n)?[3,4]:(a=t.authProvider,c=Ms,[4,a(i)]);case 2:return s=c.apply(void 0,[r.sent()]),[4,e.fetchToken(s)];case 3:n=r.sent(),r.label=4;case 4:return[2,Ts(n)];case 5:throw r.sent(),new Error("Popup media picker Stargate call failed. If you were not intending to use Stargate you should provide userAuthProvider in the context");case 6:return[2]}}))}))}}(t.stargate,t.config),g=new o.a({authProvider:v}),b=Object(r.__assign)(Object(r.__assign)({},Cs),s);h.store=Es(h,t,g,{proxyReactContext:c,singleSelect:d,uploadParams:b,plugins:u}),h.tenantUploadParams=b;var y=h.renderPopup();return y?(h.container=y,a&&a.appendChild(y),h):h}return Object(r.__extends)(t,e),t.prototype.show=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){return(e=this.store.dispatch)(function(){return{type:"GET_FILES_IN_RECENTS"}}()),this.useForgePlugins&&e(function(){return{type:"GET_FORGE_PLUGINS"}}()),e(function(){return{type:"SHOW_POPUP"}}()),[2]}))}))},t.prototype.cancel=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e?(n=(t=this.store).dispatch,i=ao,o={},[4,e]):[2];case 1:return n.apply(t,[i.apply(void 0,[(o.tenantFileId=r.sent(),o)])]),[2]}}))}))},t.prototype.teardown=function(){if(this.container)try{Object(c.unmountComponentAtNode)(this.container),this.container.remove()}catch(e){(0,this.store.dispatch)(function(e){return{type:"FAILURE_ERROR",error:e.error,info:e.info}}({error:e,info:"`ChildNode#remove()` polyfill is not available in client"}))}},t.prototype.hide=function(){this.store.dispatch(N())},t.prototype.setUploadParams=function(e){this.tenantUploadParams=Object(r.__assign)(Object(r.__assign)({},Cs),e)},t.prototype.emitClosed=function(){this.emit("closed",void 0)},t.prototype.renderPopup=function(){if(l.canUseDOM){var e=document.createElement("div");return Object(c.render)(s.a.createElement(ro,{store:this.store,proxyReactContext:this.proxyReactContext,tenantUploadParams:this.tenantUploadParams,useForgePlugins:this.useForgePlugins,featureFlags:this.featureFlags}),e),e}},t}(eo.a)},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/domain/preview.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.original&&e.original.width&&e.original.height?{dimensions:{width:e.original.width,height:e.original.height},scaleFactor:1}:{}}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/types.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i;!function(e){e[e.PastedFile=0]="PastedFile",e[e.PastedScreenshot=1]="PastedScreenshot",e[e.LocalUpload=2]="LocalUpload"}(i||(i={}))},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/uploadServiceImpl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-client.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/upload-controller.js"),l=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),u=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),p=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),f=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),m=n("./node_modules/eventemitter2/lib/eventemitter2.js"),h=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");function v(e){return Object(h.isClientBasedAuth)(e)?{id:e.clientId,token:e.token,baseUrl:e.baseUrl}:e}var g=n("./node_modules/@atlaskit/media-ui/dist/esm/util.js"),b=n("./node_modules/@atlaskit/media-ui/dist/esm/imageMetaData/index.js");var y=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/service/types.js"),_=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js"),j=function(){function e(e,t,n){var r=this;this.tenantMediaClient=e,this.tenantUploadParams=t,this.shouldCopyFileToRecents=n,this.emit=function(e,t){r.emitter.emit(e,t)},this.onFileSuccess=function(e,t){return Object(i.__awaiter)(r,void 0,void 0,(function(){var n,r=this;return Object(i.__generator)(this,(function(i){return n=e.mediaFile,this.copyFileToUsersCollection(t).catch(console.log),this.emit("file-converting",{file:n}),e.cancel=function(){r.releaseCancellableFile(n)},[2]}))}))},this.onFileError=function(e,t,n){if(r.releaseCancellableFile(e),"canceled"!==n){var i=n instanceof Error?n.message:n;r.emit("file-upload-error",{fileId:e.id,error:{fileId:e.id,description:i,name:t}})}},this.emitter=new m.EventEmitter2,this.cancellableFilesUploads={};var o=e.config.userAuthProvider;o&&(this.userMediaStore=new a.a({authProvider:o}),this.userMediaClient=new s.a({userAuthProvider:o,authProvider:o}))}return e.prototype.setUploadParams=function(e){this.tenantUploadParams=e},e.prototype.createUploadController=function(){return new c.a},e.prototype.addFiles=function(e){this.addFilesWithSource(e.map((function(e){return{file:e,source:y.a.LocalUpload}})))},e.prototype.addFilesWithSource=function(e){var t=this;if(0!==e.length){var n=Date.now(),i=this.userMediaClient,r=this.tenantMediaClient,a=this.shouldCopyFileToRecents,s=a?r:i,c=a?this.tenantUploadParams.collection:f.c;if(s){for(var u=[],p=0;p<e.length;p++)u.push({fileId:o()(),occurrenceKey:o()(),collection:c});var m=s.file.touchFiles(u,c),h=e.map((function(e,i){var r=e.file,o=e.source,p=u[i],f=p.fileId,h=p.occurrenceKey,v=m.then((function(e){var t=e.created.find((function(e){return e.fileId===f}));if(!t)throw new Error("Cant retrieve uploadId from result of touch endpoint call");return t.uploadId})),g={collection:c,content:r,name:r.name,mimeType:r.type},b={id:f,occurrenceKey:h,deferredUploadId:v},y=t.createUploadController(),_=s.file.upload(g,y,b),j={id:f,name:r.name,size:r.size,creationDate:n,type:r.type,occurrenceKey:h},w={mediaFile:j,file:r,source:o,cancel:function(){y.abort()}},x=t.onFileSuccess.bind(t);return _.subscribe({next:function(e){"processing"===e.status&&(this.unsubscribe(),a&&(s.emit("file-added",e),l.a.emit("file-added",e)),x(w,f))},error:function(e){t.onFileError(j,"upload_fail",e)}}),t.cancellableFilesUploads[f]=w,Object(d.b)().set(f,_),w})),v=h.map((function(e){return e.mediaFile}));this.emit("files-added",{files:v}),this.emitPreviews(h)}}},e.prototype.cancel=function(e){var t=this;if(e){var n=this.cancellableFilesUploads[e];n&&n.cancel&&n.cancel()}else Object.keys(this.cancellableFilesUploads).forEach((function(e){var n=t.cancellableFilesUploads[e];n.cancel&&n.cancel()}))},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.emitPreviews=function(e){var t=this;e.forEach((function(e){var n=e.file,r=e.mediaFile,o=e.source,a=n.type,s=t.getMediaTypeFromFile(n);Object(u.d)(a)?"image"===s?function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Object(g.e)(e)];case 1:return n=i.sent(),[4,Object(b.a)(n)];case 2:return null===(r=i.sent())?[2,{file:e}]:(o=r.width,a=r.height,s=r.scaleFactor,[2,{file:e,dimensions:{width:o,height:a},scaleFactor:t||s}])}}))}))}(n,o===y.a.PastedScreenshot?window.devicePixelRatio:void 0).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):Object(_.a)(n,s).then((function(e){t.emit("file-preview-update",{file:r,preview:e})})):t.emit("file-preview-update",{file:r,preview:{}})}))},e.prototype.getMediaTypeFromFile=function(e){var t=e.type;return Object(p.a)(t)},e.prototype.releaseCancellableFile=function(e){delete this.cancellableFilesUploads[e.id]},e.prototype.copyFileToUsersCollection=function(e){var t=this.shouldCopyFileToRecents,n=this.userMediaStore,r=this.tenantUploadParams;if(!t||!n)return Promise.resolve();var o=r.collection;return(0,this.tenantMediaClient.config.authProvider)({collectionName:o}).then((function(t){var r={sourceFile:{id:e,collection:o,owner:Object(i.__assign)({},v(t))}},a={collection:f.c};return n.copyFileWithToken(r,a)}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/util/getPreviewFromBlob.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/video-snapshot/dist/index.js"),o=n.n(r),a=function(e,t){return new Promise((function(n,r){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a,s,c,l,d;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return a=URL.createObjectURL(e),"image"!==t?[3,1]:((s=new Image).src=a,s.onload=function(){var t={width:s.width,height:s.height},i={file:e,dimensions:t,scaleFactor:1};URL.revokeObjectURL(a),n(i)},s.onerror=r,[3,4]);case 1:return"video"!==t?[3,3]:[4,(c=new o.a(e)).getDimensions()];case 2:return l=i.sent(),d={file:e,dimensions:l,scaleFactor:1},c.end(),n(d),[3,4];case 3:n({file:e}),i.label=4;case 4:return[2]}}))}))}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/dist/esm/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-picker","b":"55.1.1"}')},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/rxjs/ReplaySubject.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),s={},c=function(){function e(e){this.mediaStore=e}return e.prototype.createFileStateObserver=function(e,t){var n=new r.ReplaySubject(1),a=Object(i.__assign)({id:e},t),s=Object(o.h)({data:a});return n.next(s),n},e.prototype.populateCache=function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);Object(a.b)().set(e.id,n)}))},e.prototype.removeFromCache=function(e,t){var n=s[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(Object(a.b)().remove(e),s[t].items.splice(n,1))},e.prototype.getItems=function(e,t){var n=this;s[e]||(s[e]=function(){return{items:[],subject:new r.ReplaySubject(1),isLoadingNextPage:!1}}());var o=s[e],a=o.subject;return this.mediaStore.getCollectionItems(e,Object(i.__assign)(Object(i.__assign)({},t),{details:"full"})).then((function(e){var t=e.data,i=t.contents,r=t.nextInclusiveStartKey;n.populateCache(i),o.items=e.data.contents,o.nextInclusiveStartKey=r,a.next(o.items)})).catch((function(e){return a.error(e)})),a},e.prototype.removeFile=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.removeCollectionFile(e,t,n)];case 1:return i.sent(),this.removeFromCache(e,t),(r=s[t]).subject.next(r.items),[2]}}))}))},e.prototype.loadNextPage=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,c,l,d,u,p,f,m,h;return Object(i.__generator)(this,(function(v){switch(v.label){case 0:return n=s[e],r=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!r?(n.isLoadingNextPage=!0,o=s[e],a=o.nextInclusiveStartKey,c=o.items,l=o.subject,[4,this.mediaStore.getCollectionItems(e,Object(i.__assign)(Object(i.__assign)({},t),{inclusiveStartKey:a,details:"full"}))]):[2];case 1:return d=v.sent(),u=d.data,p=u.contents,f=u.nextInclusiveStartKey,this.populateCache(p),m=d.data.contents,h=Object(i.__spread)(c,m),l.next(h),s[e]={items:h,nextInclusiveStartKey:f,subject:l,isLoadingNextPage:!1},[2]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/dataloader/index.js"),s=n.n(a),c=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),l=n("./node_modules/@atlaskit/media-common/dist/esm/downloadUrl.js"),d=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js"),u=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js"),p=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/uploader.js"),f=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js"),m=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),h=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),v=n("./node_modules/uuid-validate/index.js"),g=n.n(v),b=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js"),y=function(e,t){return Object(d.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},_=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js"),j=function(e){return new Promise((function(t,n){var i=URL.createObjectURL(e),r=new Image;r.src=i,r.onload=function(){var e={width:r.width,height:r.height};URL.revokeObjectURL(i),t(e)},r.onerror=n}))},w=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js"),x=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),O=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),k=function(e,t,n){return("doc"===e||!Object(x.d)(t)||!n)&&Object(O.d)(t)},E=function(e,t){return t?e+"-"+t:e},C=function(e){return e.error instanceof Error},S=function(e,t){var n=t.reduce((function(e,t){var n=t.id,i=t.collection;return e[E(n,i)]=C(t)?t:t.details,e}),{});return e.map((function(e){var t=e.id,i=e.collection,r=E(t,i);return n[r]}))},I=function(){function e(e){var t=this;this.mediaStore=e,this.batchLoadingFunc=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,r=this;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return"__media-single-file-collection__",t=e.reduce((function(e,t){var n=t.collection||"__media-single-file-collection__",i=e[n]||[];return i.push(t.id),e[n]=i,e}),{}),n=[],[4,Promise.all(Object.keys(t).map((function(e){return Object(i.__awaiter)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:r=t[e],o="__media-single-file-collection__"===e?void 0:e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.mediaStore.getItems(r,o)];case 2:return a=c.sent(),n.push.apply(n,Object(i.__spread)(a.data.items)),[3,4];case 3:return s=c.sent(),r.forEach((function(e){n.push({id:e,error:s||new Error("Failed to fetch"),collection:o})})),[3,4];case 4:return[2]}}))}))})))];case 1:return o.sent(),[2,S(e,n)]}}))}))},this.createDownloadFileStream=function(e,n){var r,o=Object(w.a)();return function a(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.dataloader.load({id:e,collection:n})];case 1:return(t=i.sent())?C(t)?(o.error(t),[2]):(s=Object(d.i)(e,t),o.next(s),"processing"===s.status?r=window.setTimeout(a,6e3):o.complete(),[3,3]):[2];case 2:return c=i.sent(),window.clearTimeout(r),o.error(c),[3,3];case 3:return[2]}}))}))}(),o},this.dataloader=new s.a(this.batchLoadingFunc,{maxBatchSize:100})}return e.prototype.getFileState=function(e,t){var n=this;if(!g()(e)){var i=Object(w.a)();return i.error("invalid id was passed to getFileState"),i}return Object(u.b)().getOrInsert(e,(function(){var i=t&&t.collectionName;return n.createDownloadFileStream(e,i)}))},e.prototype.getCurrentState=function(e,t){return Object(_.a)(this.getFileState(e,t))},e.prototype.getArtifactURL=function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)},e.prototype.getFileBinaryURL=function(e,t){return this.mediaStore.getFileBinaryURL(e,t)},e.prototype.touchFiles=function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))},e.prototype.generateUploadableFileUpfrontIds=function(e){var t=o()(),n=o()(),i={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([i],e).then((function(e){return e.created[0].uploadId}))}},e.prototype.uploadExternal=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l,d,p=this;return Object(i.__generator)(this,(function(f){return n=this.generateUploadableFileUpfrontIds(t),r=n.id,o=n.occurrenceKey,a=Object(w.a)(),s=fetch(e).then((function(e){return e.blob()})).catch((function(){})),c=new Promise((function(e,t){return Object(i.__awaiter)(p,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(n=i.sent())||t("Could not fetch the blob"),e({value:n,origin:"remote"}),[2]}}))}))})),l=e.split("/").pop()||"",d={status:"processing",name:l,size:0,mediaType:"unknown",mimeType:"",id:r,occurrenceKey:o,preview:c},a.next(d),Object(u.b)().set(r,a),[2,new Promise((function(e,d){return Object(i.__awaiter)(p,void 0,void 0,(function(){var u,p,f,m,h,v;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,s];case 1:return(u=i.sent())?(p=u.type,f=u.size,m={content:u,mimeType:p,collection:t,name:l},h=Object(b.a)(p),a.next({status:"processing",name:l,size:f,mediaType:h,mimeType:p,id:r,occurrenceKey:o,preview:c}),this.upload(m,void 0,n),[4,j(u)]):[2,d("Could not download remote file")];case 2:return v=i.sent(),e({dimensions:v,uploadableFileUpfrontIds:n}),[2]}}))}))}))]}))}))},e.prototype.upload=function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),i=[],r=function(e){var t=n.slice(e,e+512),r=t.split("").map((function(e,n){return t.charCodeAt(n)})),o=new Uint8Array(r);i.push(o)},o=0;o<n.length;o+=512)r(o);return new Blob(i,{type:"image/jpeg"})}(e.content));var o=e.content,a=e.name,s=void 0===a?"":a,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var l,d,f=n.id,m=n.occurrenceKey,h="",v=0,g=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(b.a)(t)}return"unknown"}(e),_=Object(w.a)();o instanceof Blob&&(v=o.size,h=o.type,Object(x.d)(o.type)&&(l={value:o,origin:"local"}));var j={id:f,occurrenceKey:m,name:s,size:v,mediaType:g,mimeType:h,preview:l},O=function(e){_.next(Object(i.__assign)(Object(i.__assign)({status:"uploading"},j),{progress:e}))},E=Object(p.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e){if("canceled"!==e){var t=e instanceof Error?e.message:e;_.next({id:f,status:"error",message:t})}return _.error(e)}k(g,h,l)?d=r.createDownloadFileStream(f,c).subscribe({next:function(e){return _.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},j),e),y(e,g)))},error:function(e){return _.error(e)},complete:function(){return _.complete()}}):(_.next(Object(i.__assign)({status:"processing",representations:{}},j)),_.complete())},onProgress:O}).cancel;return Object(u.b)().set(f,_),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){E(),d&&d.unsubscribe()})),_},e.prototype.downloadBinary=function(e,t,n){return void 0===t&&(t="download"),Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.mediaStore.getFileBinaryURL(e,n)];case 1:return r=i.sent(),Object(l.a)(r,{name:t}),f.a.emit("media-viewed",{fileId:e,isUserCollection:n===m.c,viewingLevel:"download"}),[2]}}))}))},e.prototype.copyFile=function(e,t,n){return void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,l,p,f,m,v,g,_,j,x,O,E,C,S,I,T,M,F,N,A,P,D,L,U;return Object(i.__generator)(this,(function(R){switch(R.label){case 0:return r=e.authProvider,o=e.collection,a=e.id,s=t.authProvider,l=t.collection,p=t.replaceFileId,f=t.occurrenceKey,m=n.preview,v=n.mimeType,g=t.mediaStore||new h.a({authProvider:s}),j=c.authToOwner,[4,r({collectionName:o})];case 1:_=j.apply(void 0,[R.sent()]),x={sourceFile:{id:a,collection:o,owner:_}},O={collection:l,replaceFileId:p,occurrenceKey:f},E=Object(u.b)(),R.label=2;case 2:return R.trys.push([2,4,,5]),[4,g.copyFileWithToken(x,O)];case 3:return S=R.sent().data,I=Object(i.__assign)(Object(i.__assign)({},S),v?{mimeType:v}:void 0),T=I.id,M=I.mimeType,F=M?Object(b.a)(M):"unknown",N=Object(d.h)({data:I}),U=E.get(T),A=U||Object(w.a)(),P=!Object(d.a)(N)&&m?{preview:m}:{},!Object(d.b)(N)&&M&&k(F,M,m)?(A.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},N),y(N,F)),P)),C=this.createDownloadFileStream(T,l).subscribe({next:function(e){return A.next(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),y(e,F)),!Object(d.a)(e)&&P))},error:function(e){return A.error(e)},complete:function(){return A.complete()}})):Object(d.f)(N)||A.next(Object(i.__assign)(Object(i.__assign)({},N),!Object(d.a)(N)&&P)),E.has(T)||Object(u.b)().set(T,A),[2,S];case 4:throw D=R.sent(),C&&C.unsubscribe(),p&&(L={id:a,status:"error",message:"error copying file to "+l},(U=E.get(p))?U.next(L):E.set(a,Object(w.a)(L))),D;case 5:return[2]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/eventemitter2/lib/eventemitter2.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/collection-fetcher.js"),s=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/file-fetcher.js"),c=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js"),l=function(){function e(e){this.mediaClientConfig=e,this.mediaStore=new o.a({authProvider:e.authProvider}),this.config=e,this.collection=new a.a(this.mediaStore),this.file=new s.a(this.mediaStore),this.eventEmitter=new r.EventEmitter2,this.stargate=new c.a(e.stargateBaseUrl)}return e.prototype.getImage=function(e,t,n,i){return this.mediaStore.getImage(e,t,n,i)},e.prototype.getImageUrl=function(e,t){return this.mediaStore.getFileImageURL(e,t)},e.prototype.getImageMetadata=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.mediaStore.getImageMetadata(e,t)];case 1:return[2,n.sent().metadata]}}))}))},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.emit=function(e,t){return this.eventEmitter.emit(e,t)},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/media-store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/request.js"),o=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js"),a=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js"),s={"max-age":a.a,allowAnimated:!0,mode:"crop"},c={limit:30,sortDirection:"desc"},l=function(e,t){return void 0===t&&(t=!1),Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},s),e),t?{width:a.b,height:a.b}:{})},d={Accept:"application/json","Content-Type":"application/json"},u=function(){function e(e){var t=this;this.config=e,this.getFile=function(e,n){return void 0===n&&(n={}),t.request("/file/"+e,{params:n,authContext:{collectionName:n.collection}}).then(r.d)},this.getFileImageURL=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider()];case 1:return t=i.sent(),[2,Object(r.a)(t.baseUrl+"/file/"+e+"/image",{params:l(n),auth:t})]}}))}))},this.getArtifactURL=function(e,n,s){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(t=Object(o.a)(e,n)))throw new Error("artifact "+n+" not found");return[4,this.config.authProvider({collectionName:s})];case 1:return c=i.sent(),[2,Object(r.a)(""+c.baseUrl+t,{params:{collection:s,"max-age":a.a},auth:c})]}}))}))},this.getImage=function(e,n,o,a){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){return!1,[2,this.request("/file/"+e+"/image",{headers:t,params:l(n,a),authContext:{collectionName:n&&n.collection}},o).then(r.c)]}))}))},this.getItems=function(e,n){var i=e.map((function(e){return{type:"file",id:e,collection:n}}));return t.request("/items",{method:"POST",body:JSON.stringify({descriptors:i}),headers:d,authContext:{collectionName:n}}).then(r.d)},this.getImageMetadata=function(e,n){return t.request("/file/"+e+"/image/metadata",{params:n,authContext:{collectionName:n&&n.collection}}).then(r.d)}}return e.prototype.getCollectionItems=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,o,a,s;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.request("/collection/"+e+"/items",{authContext:{collectionName:e},params:Object(i.__assign)(Object(i.__assign)({},c),t),headers:{Accept:"application/json"}})];case 1:return n=l.sent(),[4,Object(r.d)(n)];case 2:return o=l.sent().data,a=o.contents,s=o.nextInclusiveStartKey,[2,{data:{contents:a.filter((function(e){return e.details.size&&e.details.size>0})),nextInclusiveStartKey:s}}]}}))}))},e.prototype.removeCollectionFile=function(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r={actions:[{action:"remove",item:{type:"file",id:e,occurrenceKey:n}}]},[4,this.request("/collection/"+t,{method:"PUT",authContext:{collectionName:t},body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"}})];case 1:return i.sent(),[2]}}))}))},e.prototype.createUpload=function(e,t){return void 0===e&&(e=1),this.request("/upload",{method:"POST",authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}}).then(r.d)},e.prototype.uploadChunk=function(e,t,n){return this.request("/chunk/"+e,{method:"PUT",authContext:{collectionName:n},body:t}).then(r.e)},e.prototype.probeChunks=function(e,t){return this.request("/chunk/probe",{method:"POST",authContext:{collectionName:t},body:JSON.stringify({chunks:e}),headers:d}).then(r.d)},e.prototype.createFileFromUpload=function(e,t){return void 0===t&&(t={}),this.request("/file/upload",{method:"POST",authContext:{collectionName:t.collection},params:t,body:JSON.stringify(e),headers:d}).then(r.d)},e.prototype.touchFiles=function(e,t){return void 0===t&&(t={}),this.request("/upload/createWithFiles",{method:"POST",headers:d,body:JSON.stringify(e),authContext:{collectionName:t.collection}}).then(r.d)},e.prototype.getFileBinaryURL=function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.config.authProvider({collectionName:t})];case 1:return n=i.sent(),[2,Object(r.a)(n.baseUrl+"/file/"+e+"/binary",{params:{dl:!0,collection:t,"max-age":a.a},auth:n})]}}))}))},e.prototype.appendChunksToUpload=function(e,t,n){return this.request("/upload/"+e+"/chunks",{method:"PUT",authContext:{collectionName:n},body:JSON.stringify(t),headers:d}).then(r.e)},e.prototype.copyFileWithToken=function(e,t){return this.request("/file/copy/withToken",{method:"POST",authContext:{collectionName:t.collection},body:JSON.stringify(e),headers:d,params:t}).then(r.d)},e.prototype.request=function(e,t,n){return void 0===t&&(t={method:"GET",authContext:{}}),Object(i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,c,l,d,u,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return o=this.config.authProvider,a=t.method,s=t.authContext,c=t.params,l=t.headers,d=t.body,[4,o(s)];case 1:return u=i.sent(),[4,Object(r.f)(""+u.baseUrl+e,{method:a,auth:u,params:c,headers:l,body:d},n)];case 2:return function(e){if(!e||!window||!window.sessionStorage)return;window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e)}((p=i.sent()).headers.get("x-media-region")),[2,p]}}))}))},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/client/stargate-client.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js"),r=function(){function e(e){this.baseUrl=e||"/gateway/api"}return e.prototype.fetchToken=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch(this.baseUrl+"/media/auth/smartedge",{credentials:"include",headers:{"x-client-id":e}})];case 1:return[2,t.sent().json()]}}))}))},e.prototype.isTokenExpired=function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i="recents",r=2592e3,o=4096},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/file-streams-cache.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i,r=function(){function e(e){this.streams=e}return e.prototype.has=function(e){return!!this.streams.find(e)},e.prototype.set=function(e,t){this.streams.set(e,t)},e.prototype.get=function(e){return this.streams.get(e)},e.prototype.getOrInsert=function(e,t){return this.has(e)||this.set(e,t()),this.get(e)},e.prototype.removeAll=function(){this.streams.removeAll()},e.prototype.remove=function(e){this.streams.remove(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.streams.size},enumerable:!1,configurable:!0}),e}(),o=function(){if(!i){var e=n("./node_modules/@atlaskit/media-core/dist/esm/index.js").mediaState;i=new r(e.streams)}return i}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/globalMediaEventEmitter.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@atlaskit/media-core/dist/esm/index.js"),r={on:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.on(e,t)},off:function(e,t){i.mediaState.eventEmitter&&i.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(i.mediaState.eventEmitter)return i.mediaState.eventEmitter.emit(e,t)}}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/artifacts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){var n=e[t];if(n&&n.url)return n.url}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/file-state.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),r=function(e){return"uploading"===e.status},o=function(e){return"processing"===e.status},a=function(e){return"processed"===e.status},s=function(e){return"error"===e.status},c=function(e){return!s(e)&&!!e.preview},l=function(e){return["processed","failed-processing","error"].includes(e.status)},d=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},u=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,s=t.artifacts,c={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:s,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return Object(i.__assign)(Object(i.__assign)({},c),{status:"processing"});case"succeeded":return Object(i.__assign)(Object(i.__assign)({},c),{status:"processed"});case"failed":return Object(i.__assign)(Object(i.__assign)({},c),{status:"failed-processing"})}},p=function(e,t){return u({data:Object(i.__assign)({id:e},t)})}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/models/media.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e){return["audio","video","image","doc"].indexOf(e)>-1},r=function(e){return!!e.mediaType&&!!e.mimeType&&!!e.processingStatus}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/upload-controller.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.prototype.setAbort=function(e){this.abortFunction=e},e.prototype.abort=function(){this.abortFunction&&this.abortFunction()},e}()},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/uploader.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlaskit/chunkinator/dist/esm/chunkinator.js"),o=null,a=function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,t,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(e=3,o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,n.e("83efbde1bf").then(n.bind(null,"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/workerHasher.js"))];case 2:return t=i.sent().WorkerHasher,o=new t(e),[3,5];case 3:return i.sent(),[4,n.e("2eb30f1e8d").then(n.bind(null,"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/hashing/simpleHasher.js"))];case 4:return r=i.sent().SimpleHasher,o=new r,[3,5];case 5:return[2,o]}}))}))},s=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:return[2,t.sent().hash(e)]}}))}))},c=function(e,t){return function(n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.probeChunks(p(n),t)];case 1:return r=i.sent(),o=r.data.results,[2,Object.values(o).map((function(e){return e.exists}))]}}))}))}},l=function(e,t){return function(n){return e.uploadChunk(n.hash,n.blob,t)}},d=function(e,t,n){var r=0;return function(o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return s=(a=e).appendChunksToUpload,[4,t];case 1:return[4,s.apply(a,[i.sent(),{chunks:p(o),offset:r},n])];case 2:return i.sent(),r+=o.length,[2]}}))}))}},u=function(e,t,n,o){var a=e.content,u=e.collection,p=e.name,f=e.mimeType,m=n.id,h=n.occurrenceKey,v=n.deferredUploadId,g=Object(r.a)(a,{hashingFunction:s,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:l(t,u),probingFunction:c(t,u),processingBatchSize:1e3,processingFunction:d(t,v,u)},{onProgress:function(e){o&&o.onProgress(e)}}),b=g.response,y=g.cancel,_=o&&o.onUploadFinish||function(){};return Promise.all([v,b]).then((function(e){var n=Object(i.__read)(e,1)[0];return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.createFileFromUpload({uploadId:n,name:p,mimeType:f},{occurrenceKey:h,collection:u,replaceFileId:m})];case 1:return e.sent(),_(),[2]}}))}))})).catch(_),{cancel:y}},p=function(e){return e.map((function(e){return e.hash}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/createFileStateSubject.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/rxjs/ReplaySubject.js"),r=function(e){var t=new i.ReplaySubject(1);return e&&t.next(e),t}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/getMediaTypeFromMimeType.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js"),o=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(i.c)(e)||Object(r.c)(e)?"image":Object(i.b)(e)||Object(r.b)(e)?"doc":Object(i.a)(e)||Object(r.a)(e)?"audio":Object(i.e)(e)||Object(r.f)(e)?"video":"unknown"}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByBrowser.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var i=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},r=function(e){return"application/pdf"===e.toLowerCase()},o=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||i(e)||o(e)||a(e)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/isMimeTypeSupportedByServer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var i=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},r=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},o=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},s=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},c=function(e){return i(e)||r(e)||o(e)||a(e)||s(e)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/observableToPromise.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return new Promise((function(t){return e.subscribe({next:function(e){t(e),this.unsubscribe()}})}))}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/request.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/query-string/index.js"),o=n("./node_modules/@atlaskit/media-core/dist/esm/index.js");var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.message=t,i.statusCode=n,i}return Object(i.__extends)(t,e),t}(Error),s=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return e.ok||e.redirected?[2,e]:[3,1];case 1:return[4,e.text()];case 2:throw t=n.sent(),new a("Got error code "+e.status+": "+t,e.status)}}))}))};function c(e,t,n){void 0===t&&(t={});var r=t.method,o=void 0===r?"GET":r,a=t.auth,c=t.params,l=t.headers,d=t.body,u=t.retryOptions;return function(e,t){void 0===t&&(t={});return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,c,l=this;return Object(i.__generator)(this,(function(d){switch(d.label){case 0:n=Object(i.__assign)(Object(i.__assign)({},m),t),r=n.startTimeoutInMs,o=function(){return Object(i.__awaiter)(l,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,h(r)];case 1:return e.sent(),r*=n.factor,[2]}}))}))},a=1,d.label=1;case 1:if(!(a<=n.attempts))return[3,9];d.label=2;case 2:return d.trys.push([2,4,,8]),[4,e()];case 3:return[2,d.sent()];case 4:return s=d.sent(),v(s)?[2,Promise.reject(s)]:(c=a===n.attempts,function(e){return!(e instanceof TypeError)}(s)&&s.statusCode<500||c?[2,Promise.reject(new Error("The call did not succeed after "+a+" attempts. Last error is "+s.message))]:[3,5]);case 5:return[4,o()];case 6:d.sent(),d.label=7;case 7:return[3,8];case 8:return a++,[3,1];case 9:return[2,Promise.reject(new Error("Exhaused all attempts"))]}}))}))}((function(){return fetch(p(e,{params:c}),{method:o,body:d,headers:f(a)(l),signal:n&&n.signal}).then(s)}),void 0===u?{}:u)}function l(e){return e.json()}function d(e){return e.blob()}function u(){return Promise.resolve()}function p(e,t){var n=t.params,a=t.auth,s=function(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:Object(r.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}(e),c=s.baseUrl,l=s.queryParams,d=a&&function(e){return Object(o.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(a),u=Object(r.stringify)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},l),n),d));return c+(u.length>0?"?"+u:"")}function f(e){return function(t){return e?Object(i.__assign)(Object(i.__assign)({},t||{}),function(e){return Object(o.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}(e)):t}}var m={attempts:5,startTimeoutInMs:1e3,factor:2},h=function(e){return new Promise((function(t){setTimeout(t,e)}))},v=function(e){return"request_cancelled"===e.message||"AbortError"===e.name}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/@atlaskit/media-picker/node_modules/@atlaskit/media-client/dist/esm/utils/url.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@atlassian/forge-ui-text-renderer/node_modules/url-search-params/build/url-search-params.node.js"),o=n.n(r),a=function(e){return e.indexOf("media-blob-url=true")>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},c=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},l=function(e){var t=new URL(e).hash.replace("#",""),n=new o.a(t),i=n.get("id"),r=n.get("contextId");if(i&&r)return{id:i,contextId:r,collection:c(n,"collection"),alt:c(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:c(n,"name"),mimeType:c(n,"mimeType")}},d=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return encodeURIComponent(t)+"="+encodeURIComponent(n.toString())})).join("&")},u=function(e,t){var n;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var r=((n={})["media-blob-url"]="true",n),o=Object(i.__assign)(Object(i.__assign)({},r),t);return e+"#"+d(o)}},"./node_modules/@atlassian/forge-ui-text-renderer/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,r,o,a,s,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),a=0,s=(o=e.split("&")).length;a<s;a++)-1<(t=(r=o[a]).indexOf("="))?d(c,u(r.slice(0,t)),u(r.slice(t+1))):r.length&&d(c,u(r),"");else if(i(e))for(a=0,s=e.length;a<s;a++)d(c,(r=e[a])[0],r[1]);else for(n in e)d(c,n,e[n])}var i=Array.isArray,r=n.prototype,o=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},l="__URLSearchParams__:"+Math.random();function d(e,t,n){t in e?e[t].push(""+n):e[t]=i(n)?n:[""+n]}function u(e){return decodeURIComponent(e.replace(a," "))}function p(e){return encodeURIComponent(e).replace(o,c)}r.append=function(e,t){d(this[l],e,t)},r.delete=function(e){delete this[l][e]},r.get=function(e){var t=this[l];return e in t?t[e][0]:null},r.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},r.has=function(e){return e in this[l]},r.set=function(e,t){this[l][e]=[""+t]},r.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){e.call(t,n,i,this)}),this)}),this)},r.toJSON=function(){return{}},r.toString=function(){var e,t,n,i,r=this[l],o=[];for(t in r)for(n=p(t),e=0,i=r[t];e<i.length;e++)o.push(n+"="+p(i[e]));return o.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){!i.length||i in n||(n[i]=this.getAll(i)).forEach((function(n){e.call(t,n,i,this)}),this)}),this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,i=this.entries(),r=i.next(),o=r.done,a=[],s=Object.create(null);!o;)t=(n=r.value)[0],a.push(t),t in s||(s[t]=[]),s[t].push(n[1]),o=(r=i.next()).done;for(a.sort(),e=0;e<a.length;e++)this.delete(a[e]);for(e=0;e<a.length;e++)t=a[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js":function(e,t,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(i),o=n("./node_modules/react/index.js");var a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=n("./node_modules/@atlaskit/atlassian-navigation/node_modules/@emotion/core/dist/core.browser.esm.js"),l=n("./node_modules/@emotion/utils/dist/utils.browser.esm.js"),d=n("./node_modules/@emotion/serialize/dist/serialize.browser.esm.js"),u=s,p=function(e){return"theme"!==e&&"innerRef"!==e},f=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?u:p};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function e(t,n){var i,r,a;void 0!==n&&(i=n.label,a=n.target,r=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var s=t.__emotion_real===t,u=s&&t.__emotion_base||t;"function"!=typeof r&&s&&(r=t.__emotion_forwardProp);var p=r||f(u),m=!p("as");return function(){var v=arguments,g=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&g.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)g.push.apply(g,v);else{0,g.push(v[0][0]);for(var b=v.length,y=1;y<b;y++)g.push(v[y],v[0][y])}var _=Object(c.h)((function(e,t,n){return Object(o.createElement)(c.d.Consumer,null,(function(i){var s=m&&e.as||u,c="",h=[],v=e;if(null==e.theme){for(var b in v={},e)v[b]=e[b];v.theme=i}"string"==typeof e.className?c=Object(l.a)(t.registered,h,e.className):null!=e.className&&(c=e.className+" ");var y=Object(d.a)(g.concat(h),t.registered,v);Object(l.b)(t,y,"string"==typeof s);c+=t.key+"-"+y.name,void 0!==a&&(c+=" "+a);var _=m&&void 0===r?f(s):p,j={};for(var w in e)m&&"as"===w||_(w)&&(j[w]=e[w]);return j.className=c,j.ref=n||e.innerRef,Object(o.createElement)(s,j)}))}));return _.displayName=void 0!==i?i:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=u,_.__emotion_styles=g,_.__emotion_forwardProp=r,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(t,i){return e(t,void 0!==i?h({},n||{},{},i):n).apply(void 0,g)},_}}},"./node_modules/@emotion/styled/dist/styled.browser.esm.js":function(e,t,n){"use strict";var i=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js").a.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){i[e]=i(e)})),t.a=i},"./node_modules/bricks.js/dist/bricks.module.js":function(e,t,n){"use strict";n.r(t);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.create(null);function n(e,n){return t[e]=t[e]||[],t[e].push(n),this}function r(e,t){return t._once=!0,n(e,t),this}function o(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?t[e].splice(t[e].indexOf(n),1):delete t[e],this}function a(e){for(var n=this,i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];var s=t[e]&&t[e].slice();return s&&s.forEach((function(t){t._once&&o(e,t),t.apply(n,r)})),this}return i({},e,{on:n,once:r,off:o,emit:a})};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,c=void 0,l=void 0,d=void 0,u=void 0,p=void 0,f=void 0,m=void 0,h=0===e.packed.indexOf("data-")?e.packed:"data-"+e.packed,v=e.sizes.slice().reverse(),g=!1!==e.position,b=e.container.nodeType?e.container:document.querySelector(e.container),y={all:function(){return O(b.children)},new:function(){return O(b.children).filter((function(e){return!e.hasAttribute(""+h)}))}},_=[C,S,I],j=[T,M,F,N],w=r({pack:D,update:L,resize:U});return w;function x(e){e.forEach((function(e){return e()}))}function O(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.prototype.slice.call(e)}function k(e){return Array.apply(null,Array(e)).map((function(){return 0}))}function E(){return v.map((function(e){return e.mq&&window.matchMedia("(min-width: "+e.mq+")").matches})).indexOf(!0)}function C(){i=E()}function S(){o=-1===i?v[v.length-1]:v[i]}function I(){s=k(o.columns)}function T(){p=y[t?"new":"all"]()}function M(){0!==p.length&&(f=p.map((function(e){return e.clientWidth})),m=p.map((function(e){return e.clientHeight})))}function F(){p.forEach((function(e,t){a=s.indexOf(Math.min.apply(Math,s)),e.style.position="absolute",c=s[a]+"px",l=a*f[t]+a*o.gutter+"px",g?(e.style.top=c,e.style.left=l):e.style.transform="translate3d("+l+", "+c+", 0)",e.setAttribute(h,""),d=f[t],u=m[t],d&&u&&(s[a]+=u+o.gutter)}))}function N(){b.style.position="relative",b.style.width=o.columns*d+(o.columns-1)*o.gutter+"px",b.style.height=Math.max.apply(Math,s)-o.gutter+"px"}function A(){n||(window.requestAnimationFrame(P),n=!0)}function P(){i!==E()&&(D(),w.emit("resize",o)),n=!1}function D(){return t=!1,x(_.concat(j)),w.emit("pack")}function L(){return t=!0,x(j),w.emit("update")}function U(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"addEventListener":"removeEventListener";return window[t]("resize",A),w}}},"./node_modules/dataloader/index.js":function(e,t,n){(function(t,n){var i,r=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._options=n,this._promiseCache=function(e){var t=e&&e.cacheMap;if(!t)return new Map;var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "));return t}(n),this._queue=[]}return e.prototype.load=function(e){var t=this;if(null==e)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(e)+".");var n=this._options,i=!n||!1!==n.batch,r=!n||!1!==n.cache,s=n&&n.cacheKeyFn,c=s?s(e):e;if(r){var l=this._promiseCache.get(c);if(l)return l}var d=new Promise((function(n,r){t._queue.push({key:e,resolve:n,reject:r}),1===t._queue.length&&(i?o((function(){return a(t)})):a(t))}));return r&&this._promiseCache.set(c,d),d},e.prototype.loadMany=function(e){var t=this;if(!Array.isArray(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");return Promise.all(e.map((function(e){return t.load(e)})))},e.prototype.clear=function(e){var t=this._options&&this._options.cacheKeyFn,n=t?t(e):e;return this._promiseCache.delete(n),this},e.prototype.clearAll=function(){return this._promiseCache.clear(),this},e.prototype.prime=function(e,t){var n=this._options&&this._options.cacheKeyFn,i=n?n(e):e;if(void 0===this._promiseCache.get(i)){var r=t instanceof Error?Promise.reject(t):Promise.resolve(t);this._promiseCache.set(i,r)}return this},e}(),o="object"==typeof t&&"function"==typeof t.nextTick?function(e){i||(i=Promise.resolve()),i.then((function(){return t.nextTick(e)}))}:n||setTimeout;function a(e){var t=e._queue;e._queue=[];var n=e._options&&e._options.maxBatchSize;if(n&&n>0&&n<t.length)for(var i=0;i<t.length/n;i++)s(e,t.slice(i*n,(i+1)*n));else s(e,t)}function s(e,t){var n=t.map((function(e){return e.key})),i=(0,e._batchLoadFn)(n);if(!i||"function"!=typeof i.then)return c(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(i)+"."));i.then((function(e){if(!Array.isArray(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==n.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(n)+"\n\nValues:\n"+String(e));t.forEach((function(t,n){var i=t.resolve,r=t.reject,o=e[n];o instanceof Error?r(o):i(o)}))})).catch((function(n){return c(e,t,n)}))}function c(e,t,n){t.forEach((function(t){var i=t.key,r=t.reject;e.clear(i),r(n)}))}e.exports=r}).call(this,n("./node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/dateformat/lib/dateformat.js":function(e,t,n){var i;!function(r){"use strict";var o=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(i,r,d,u){if(1!==arguments.length||"string"!==l(i)||/\d/.test(i)||(r=i,i=void 0),(i=i||new Date)instanceof Date||(i=new Date(i)),isNaN(i))throw TypeError("Invalid date");var p=(r=String(o.masks[r]||r||o.masks.default)).slice(0,4);"UTC:"!==p&&"GMT:"!==p||(r=r.slice(4),d=!0,"GMT:"===p&&(u=!0));var f=d?"getUTC":"get",m=i[f+"Date"](),h=i[f+"Day"](),v=i[f+"Month"](),g=i[f+"FullYear"](),b=i[f+"Hours"](),y=i[f+"Minutes"](),_=i[f+"Seconds"](),j=i[f+"Milliseconds"](),w=d?0:i.getTimezoneOffset(),x=s(i),O=c(i),k={d:m,dd:a(m),ddd:o.i18n.dayNames[h],dddd:o.i18n.dayNames[h+7],m:v+1,mm:a(v+1),mmm:o.i18n.monthNames[v],mmmm:o.i18n.monthNames[v+12],yy:String(g).slice(2),yyyy:g,h:b%12||12,hh:a(b%12||12),H:b,HH:a(b),M:y,MM:a(y),s:_,ss:a(_),l:a(j,3),L:a(Math.round(j/10)),t:b<12?"a":"p",tt:b<12?"am":"pm",T:b<12?"A":"P",TT:b<12?"AM":"PM",Z:u?"GMT":d?"UTC":(String(i).match(t)||[""]).pop().replace(n,""),o:(w>0?"-":"+")+a(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][m%10>3?0:(m%100-m%10!=10)*m%10],W:x,N:O};return r.replace(e,(function(e){return e in k?k[e]:e.slice(1,e.length-1)}))}}();function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function s(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-i);var r=(t-n)/6048e5;return 1+Math.floor(r)}function c(e){var t=e.getDay();return 0===t&&(t=7),t}function l(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}()},"./node_modules/eventemitter2/lib/eventemitter2.js":function(e,t,n){(function(i){var r;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(o){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,i.emitWarning(r)}else console.error(n),console.trace&&console.trace()}function d(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}function u(e,t,n,i){if(!n)return[];var r,o,a,s,c,l,d,p=[],f=t.length,m=t[i],h=t[i+1];if(i===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(r=0,o=n._listeners.length;r<o;r++)e&&e.push(n._listeners[r]);return[n]}if("*"===m||"**"===m||n[m]){if("*"===m){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(u(e,t,n[a],i+1)));return p}if("**"===m){for(a in(d=i+1===f||i+2===f&&"*"===h)&&n._listeners&&(p=p.concat(u(e,t,n,f))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!d&&(p=p.concat(u(e,t,n[a],f))),p=p.concat(u(e,t,n[a],i))):p=a===h?p.concat(u(e,t,n[a],i+2)):p.concat(u(e,t,n[a],i)));return p}p=p.concat(u(e,t,n[m],i+1))}if((s=n["*"])&&u(e,t,s,i+1),c=n["**"])if(i<f)for(a in c._listeners&&u(e,t,c,f),c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===h?u(e,t,c[a],i+2):a===m?u(e,t,c[a],i+1):((l={})[a]=c[a],u(e,t,{"**":l},i+1)));else c._listeners?u(e,t,c,f):c["*"]&&c["*"]._listeners&&u(e,t,c["*"],f);return p}function p(e,t){for(var n=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<i;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var r=this.listenerTree,o=e.shift();void 0!==o;){if(r[o]||(r[o]={}),r=r[o],0===e.length)return r._listeners?("function"==typeof r._listeners&&(r._listeners=[r._listeners]),r._listeners.push(t),!r._listeners.warned&&this._maxListeners>0&&r._listeners.length>this._maxListeners&&(r._listeners.warned=!0,l.call(this,r._listeners.length,o))):r._listeners=t,!0;o=e.shift()}return!0}d.EventEmitter2=d,d.prototype.delimiter=".",d.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},d.prototype.event="",d.prototype.once=function(e,t){return this._once(e,t,!1)},d.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},d.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},d.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},d.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},d.prototype._many=function(e,t,n,i){var r=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&r.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,i),r},d.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,i,r,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,a){case 1:o[i].call(this,e);break;case 2:o[i].call(this,e,arguments[1]);break;case 3:o[i].call(this,e,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,o,c,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,a){case 1:o[i].call(this);break;case 2:o[i].call(this,arguments[1]);break;case 3:o[i].call(this,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},d.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,i,r,o,a=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),r=1;r<c;r++)t[r]=arguments[r];for(i=0,n=this._all.length;i<n;i++)switch(this.event=e,c){case 1:a.push(this._all[i].call(this,e));break;case 2:a.push(this._all[i].call(this,e,arguments[1]));break;case 3:a.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[i].apply(this,t))}}if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,o,l,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,c){case 1:a.push(o.call(this));break;case 2:a.push(o.call(this,arguments[1]));break;case 3:a.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),r=1;r<c;r++)t[r-1]=arguments[r];a.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),r=1;r<c;r++)t[r-1]=arguments[r];for(i=0,n=o.length;i<n;i++)switch(this.event=e,c){case 1:a.push(o[i].call(this));break;case 2:a.push(o[i].call(this,arguments[1]));break;case 3:a.push(o[i].call(this,arguments[1],arguments[2]));break;default:a.push(o[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},d.prototype.on=function(e,t){return this._on(e,t,!1)},d.prototype.prependListener=function(e,t){return this._on(e,t,!0)},d.prototype.onAny=function(e){return this._onAny(e,!1)},d.prototype.prependAny=function(e){return this._onAny(e,!0)},d.prototype.addListener=d.prototype.on,d.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},d.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(p.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},d.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var r="string"==typeof e?e.split(this.delimiter):e.slice();i=u.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var o=0;o<i.length;o++){var s=i[o];if(n=s._listeners,a(n)){for(var c=-1,l=0,d=n.length;l<d;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var i in n){var r=n[i],o=t[r];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[r]),0===Object.keys(o).length&&delete t[r])}}}(this.listenerTree),this},d.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,i=(t=this._all).length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=u.call(this,null,t,this.listenerTree,0),i=0;i<n.length;i++){var r=n[i];r._listeners=null}else this._events&&(this._events[e]=null);return this},d.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},d.prototype.eventNames=function(){return Object.keys(this._events)},d.prototype.listenerCount=function(e){return this.listeners(e).length},d.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/filesize/lib/filesize.js":function(e,t,n){"use strict";(function(t){
/**
 * filesize
 *
 * @copyright 2018 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 3.6.1
 */
!function(t){var n=/^(b|B)$/,i={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},r={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[],a=0,s=void 0,c=void 0,l=void 0,d=void 0,u=void 0,p=void 0,f=void 0,m=void 0,h=void 0,v=void 0,g=void 0,b=void 0,y=void 0,_=void 0,j=void 0;if(isNaN(e))throw new Error("Invalid arguments");return l=!0===t.bits,g=!0===t.unix,c=t.base||2,v=void 0!==t.round?t.round:g?1:2,b=void 0!==t.separator&&t.separator||"",y=void 0!==t.spacer?t.spacer:g?"":" ",j=t.symbols||t.suffixes||{},_=2===c&&t.standard||"jedec",h=t.output||"string",u=!0===t.fullform,p=t.fullforms instanceof Array?t.fullforms:[],s=void 0!==t.exponent?t.exponent:-1,d=c>2?1e3:1024,(f=(m=Number(e))<0)&&(m=-m),(-1===s||isNaN(s))&&(s=Math.floor(Math.log(m)/Math.log(d)))<0&&(s=0),s>8&&(s=8),0===m?(o[0]=0,o[1]=g?"":i[_][l?"bits":"bytes"][s]):(a=m/(2===c?Math.pow(2,10*s):Math.pow(1e3,s)),l&&(a*=8)>=d&&s<8&&(a/=d,s++),o[0]=Number(a.toFixed(s>0?v:0)),o[1]=10===c&&1===s?l?"kb":"kB":i[_][l?"bits":"bytes"][s],g&&(o[1]="jedec"===_?o[1].charAt(0):s>0?o[1].replace(/B$/,""):o[1],n.test(o[1])&&(o[0]=Math.floor(o[0]),o[1]=""))),f&&(o[0]=-o[0]),o[1]=j[o[1]]||o[1],"array"===h?o:"exponent"===h?s:"object"===h?{value:o[0],suffix:o[1],symbol:o[1]}:(u&&(o[1]=p[s]?p[s]:r[_][s]+(l?"bit":"byte")+(1===o[0]?"":"s")),b.length>0&&(o[0]=o[0].toString().replace(".",b)),o.join(y))}o.partial=function(e){return function(t){return o(t,e)}},e.exports=o}("undefined"!=typeof window&&window)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/jwt-decode/lib/atob.js":function(e,t){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,o=0,a=0,s="";r=t.charAt(a++);~r&&(i=o%4?64*i+r:r,o++%4)?s+=String.fromCharCode(255&i>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s}},"./node_modules/jwt-decode/lib/base64_url_decode.js":function(e,t,n){var i=n("./node_modules/jwt-decode/lib/atob.js");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return i(t)}}},"./node_modules/jwt-decode/lib/index.js":function(e,t,n){"use strict";var i=n("./node_modules/jwt-decode/lib/base64_url_decode.js");function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(i(e.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=r},"./node_modules/lru-fast/lru.js":function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,i=this.get(e,!0);return i?(n=i.value,i.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var i;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(i=this.newest;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.oldest;i;)e.call(t,i.key,i.value,this),i=i.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},"./node_modules/perf-marks/dist/umd/perf-marks.js":function(e,t,n){!function(e,n){!function(e){"use strict";var t="undefined"!=typeof performance&&void 0!==performance.now&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,n={},i=function(){return t?performance.now():Date.now?Date.now():+new Date},r=function(e){n[e]=void 0,t&&(performance.clearMeasures(e),performance.clearMarks(e))},o=function(e){return t&&performance.getEntriesByType(e)||[]};e.clear=r,e.clearAll=function(){n={},t&&(performance.clearMeasures(),performance.clearMarks())},e.end=function(e,o){try{var a=n[e];if(!t)return a?{duration:i()-a,startTime:a}:{};performance.measure(e,e,o||void 0);var s=performance.getEntriesByName(e).pop();return s||{}}catch(e){return{}}finally{r(e)}},e.getEntriesByType=o,e.getNavigationMarker=function(){return o("navigation").pop()||{}},e.isUserTimingAPISupported=t,e.start=function(e){t&&performance.mark(e),n[e]=i()},Object.defineProperty(e,"__esModule",{value:!0})}(t)}()},"./node_modules/postis/src/index.js":function(e,t){e.exports=function(e){var t,n=e.scope,i=e.window,r=e.windowForEventListening||window,o={},a=[],s={},c=!1,l=function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}if(t.postis&&t.scope===n){var i=o[t.method];if(i)for(var r=0;r<i.length;r++)i[r].call(null,t.params);else s[t.method]=s[t.method]||[],s[t.method].push(t.params)}};r.addEventListener("message",l,!1);var d={listen:function(e,t){o[e]=o[e]||[],o[e].push(t);var n=s[e];if(n)for(var i=o[e],r=0;r<i.length;r++)for(var a=0;a<n.length;a++)i[r].call(null,n[a]);delete s[e]},send:function(e){var t=e.method;(c||"__ready__"===e.method)&&i&&"function"==typeof i.postMessage?i.postMessage(JSON.stringify({postis:!0,scope:n,method:t,params:e.params}),"*"):a.push(e)},ready:function(e){c?e():setTimeout((function(){d.ready(e)}),50)},destroy:function(e){clearInterval(t),c=!1,r&&"function"==typeof r.removeEventListener&&r.removeEventListener("message",l),e&&e()}},u=+new Date+Math.random()+"";return t=setInterval((function(){d.send({method:"__ready__",params:u})}),50),d.listen("__ready__",(function(e){if(e===u){clearInterval(t),c=!0;for(var n=0;n<a.length;n++)d.send(a[n]);a=[]}else d.send({method:"__ready__",params:e})})),d}},"./node_modules/react-uid/dist/es2015/Control.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),r=n("./node_modules/react-uid/dist/es2015/context.js"),o=n("./node_modules/react-uid/dist/es2015/UIDComponent.js"),a=function(e){var t=e.children;return i.createElement(r.e.Provider,{value:Object(r.b)()},t)},s=function(e){var t=e.name,n=e.children;return i.createElement(r.e.Consumer,null,(function(e){return i.createElement(o.a,{name:t,idSource:e,children:n})}))}},"./node_modules/react-uid/dist/es2015/UIDComponent.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/react/index.js"),r=n("./node_modules/react-uid/dist/es2015/context.js"),o=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={quartz:t.props.idSource||r.a,prefix:Object(r.d)(t.props.idSource),id:Object(r.c)(t.props.idSource||r.a)},t.uid=function(e){return t.prefixId(t.state.id+"-"+t.state.quartz.uid(e))},t}return o(t,e),t.prototype.prefixId=function(e){var t=this.state.prefix+e;return String(this.props.name?this.props.name(t):t)},t.prototype.render=function(){var e=this.props.children,t=this.state.id;return e(this.prefixId(t),this.uid)},t}(i.Component)},"./node_modules/react-uid/dist/es2015/context.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var i=n("./node_modules/react/index.js"),r=n("./node_modules/react-uid/dist/es2015/uid.js"),o=function(e){return void 0===e&&(e=""),{value:1,prefix:e,uid:Object(r.a)()}},a=o(),s=i.createContext(o()),c=(i.createContext(""),function(e){return e.value++}),l=function(e){return e?e.prefix:""}},"./node_modules/redux-devtools-extension/developmentOnly.js":function(e,t,n){"use strict";var i=n("./node_modules/redux/es/index.js").compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?i:i.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},"./node_modules/rxjs-async-map/out/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/rxjs/Observable.js");t.Observable=i.Observable;var r=n("./node_modules/rxjs/operators/mergeMap.js"),o=n("./node_modules/rxjs-async-map/out/notify.js");t.asyncMap=function(e,t){return r.mergeMap(function(e){var t=new Array,n=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(r){return new i.Observable((function(i){t.push(o.notify(e(r),i,n))}))}}(e),t)}},"./node_modules/rxjs-async-map/out/notify.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notify=function(e,t,n){var i={notifyIfReady:function(){return!1}};return e.then((function(e){i.notifyIfReady=function(){return t.next(e),t.complete(),!0},n(i)}),(function(e){i.notifyIfReady=function(){return t.error(e),!0},n(i)})),i}},"./node_modules/rxjs/ReplaySubject.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subject.js"),o=n("./node_modules/rxjs/scheduler/queue.js"),a=n("./node_modules/rxjs/Subscription.js"),s=n("./node_modules/rxjs/operators/observeOn.js"),c=n("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),l=n("./node_modules/rxjs/SubjectSubscription.js"),d=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=i,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return i(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new u(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),i=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new l.SubjectSubscription(this,e)),i&&e.add(e=new s.ObserveOnSubscriber(e,i));for(var r=n.length,o=0;o<r&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i},t}(r.Subject);t.ReplaySubject=d;var u=function(){return function(e,t){this.time=e,this.value=t}}()},"./node_modules/rxjs/observable/RangeObservable.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(t,n,i){e.call(this),this.start=t,this._count=n,this.scheduler=i}return i(t,e),t.create=function(e,n,i){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,i)},t.dispatch=function(e){var t=e.start,n=e.index,i=e.count,r=e.subscriber;n>=i?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,i=this.start,r=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:n,count:r,start:i,subscriber:e});for(;;){if(n++>=r){e.complete();break}if(e.next(i++),e.closed)break}},t}(n("./node_modules/rxjs/Observable.js").Observable);t.RangeObservable=r},"./node_modules/rxjs/observable/range.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/observable/RangeObservable.js");t.range=i.RangeObservable.create},"./node_modules/rxjs/operators/bufferCount.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subscriber.js");t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?s:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return i(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(r.Subscriber),s=function(e){function t(t,n,i){e.call(this,t),this.bufferSize=n,this.startBufferEvery=i,this.buffers=[],this.count=0}return i(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var a=i[o];a.push(e),a.length===t&&(i.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var i=t.shift();i.length>0&&n.next(i)}e.prototype._complete.call(this)},t}(r.Subscriber)},"./node_modules/rxjs/operators/concatMap.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/operators/mergeMap.js");t.concatMap=function(e,t){return i.mergeMap(e,t,1)}},"./node_modules/rxjs/operators/tap.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n("./node_modules/rxjs/Subscriber.js");t.tap=function(e,t,n){return function(i){return i.lift(new o(e,t,n))}};var o=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,i,o){e.call(this,t);var a=new r.Subscriber(n,i,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return i(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(r.Subscriber)},"./node_modules/rxjs/scheduler/QueueAction.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return i(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(n("./node_modules/rxjs/scheduler/AsyncAction.js").AsyncAction);t.QueueAction=r},"./node_modules/rxjs/scheduler/QueueScheduler.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(){e.apply(this,arguments)}return i(t,e),t}(n("./node_modules/rxjs/scheduler/AsyncScheduler.js").AsyncScheduler);t.QueueScheduler=r},"./node_modules/rxjs/scheduler/queue.js":function(e,t,n){"use strict";var i=n("./node_modules/rxjs/scheduler/QueueAction.js"),r=n("./node_modules/rxjs/scheduler/QueueScheduler.js");t.queue=new r.QueueScheduler(i.QueueAction)},"./node_modules/uuid-validate/index.js":function(e,t,n){(function(t){for(var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,i=[],r=0;r<256;r++)i[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var a;if(t.isBuffer(e))a=function(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;a=e}if(a=a.toLowerCase(),!n.test(a))return!1;if(void 0===r)r=o(a);else if(o(a)!==r)return!1;switch(r){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(a.charAt(19));default:throw new Error("Invalid version provided.")}};var o=e.exports.version=function(e){return 0|e.charAt(14)}}).call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/video-snapshot/dist/index.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=function(){function e(e){var t=this;this.loadVideo=function(e){return void 0===e&&(e=0),new Promise((function(n){var i=document.createElement("video");if(i.preload="metadata",i.src=t.videoUrl,i.muted=!0,0===e)i.play();else{if("number"==typeof e)i.currentTime=e;else if("string"==typeof e){var r=i.duration;i.currentTime=t.getSmartTime(e,r)}o&&i.play()}i.addEventListener("timeupdate",(function e(){i.removeEventListener("timeupdate",e),i.pause(),n(i)}))}))},this.getDimensions=function(){return i(t,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,this.loadVideo()];case 1:return[2,{width:(e=t.sent()).videoWidth,height:e.videoHeight}]}}))}))};var n=URL.createObjectURL(e);this.videoUrl=n}return e.prototype.takeSnapshot=function(e){return i(this,void 0,void 0,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:return[4,this.loadVideo(e)];case 1:if(t=r.sent(),(n=document.createElement("canvas")).width=t.videoWidth,n.height=t.videoHeight,!(i=n.getContext("2d")))throw new Error("error creating canvas context");return i.drawImage(t,0,0,n.width,n.height),[2,n.toDataURL()]}}))}))},e.prototype.end=function(){this.revoke()},e.prototype.revoke=function(){URL.revokeObjectURL(this.videoUrl)},e.prototype.getSmartTime=function(e,t){return void 0===t&&(t=0),{start:0,middle:t/2,end:t}[e]},e}();t.default=a},9:function(e,t){}}]);try{window.__jsEvalStop("@atlaskit-internal_media-picker-popup.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-internal_media-picker-popup.3ac6b00e6551e9601251.8.js.map